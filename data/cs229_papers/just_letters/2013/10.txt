cs      final paper
wind prediction  physical model improvement through support vector regression
daniel bejarano  dbejarano stanford edu   adriano quiroga  aquiroga stanford edu 
december       stanford university

introduction
the accuracy improvement of weather pattern prediction is in the best interest of humanity  by doing so  we can potentially reduce the impact caused by natural disasters  assess
the effects of environmental air pollution in a more precise manner and improve energy
dispatch of renewable technologies  particularly wind  the latter goal is the focus of this
report  that is  to reduce day ahead wind forecasting error  the use of machine learning
 ml  techniques to improve the performance of the weather research and forecasting
 wrf  model is explored  with an emphasis on the support vector regression  svr 
method and its nu svr variant  the literature pertaining to the use of svms for wind
prediction is extensive              however  as of today there seems to be no incorporation
of the wrf model 
the training and testing of the algorithm is done using wind data from an anemometer
placed at the berkeley yacht club in oakland ca  spanning the months of october and
november       as well as  wrf model outputs for the same time periods provided by
mike dvorak of sailors energy  the analysis is performed between      pm and
     am and uses the meteorological u v convention to characterize wind  which allows
the model to incorporate speed and direction  all the computer code is written in python
and the ml routines are implementing using the machine learning python  mlpy  module
available open source     
when dealing with electricity generation and distribution of wind turbines  the national
renewable energy lab estimates that a     reduction in forecast error translates to
about a     m reduction in grid operating costs      given the high capital costs associated with current storage technologies  such as pump hydro or batteries  forecast improvement provides a more cost effective way of fully realizing the potential of wind energy  moreover  by reducing the uncertainty of wind generation  several other issues related to grid operation would be simultaneously addressed  for example  grid instability
due to random voltage swings  economic dispatch of generated electricity and unit commitment of generators 
this report is structured into   sections  the first provides an overview of the advance
research wrf model  the second serves provides the reasoning behind choosing svms
for this analysis  the third presents the results obtained and shows the comparison between the different simulation scenarios  and the last one contains the conclusion and
future work 
i  the weather and research forecast model
it is well recognized and demonstrated that due to the complexity of the system  weather
prediction at all time scales is only feasible with numerical models  these models are
formulated as initial value problems  that is  they are built using partial differential equations coupled with initial conditions and then solved using numerical methods  the need
for starting and boundary conditions turns observational data into one of the pillars of

fiforecasting  these weather variables are selected from the appropriate sources and desired time scales according to the relevant application  after sorting the relevant data it is
further necessary to assimilate it  which implies comparing the observations with model
outputs to ensure consistency with expected results from physical laws and adjacent
points therefore reducing susceptibility to corrupted data  it is then possible to compute
an initial state of the atmosphere  which is then fed as an input to the model 
one such model employed for numerical weather prediction  nwp  is the aforementioned
weather research and forecasting  wrf  model  developed in the late     s by collaboration of several government agencies  it is a mesoscale forecasting model designed
to cater both to atmospheric research and operational forecasting applications  furthermore  it features a data assimilation system and allows the user to integrate different
dynamic cores and physics packages  making it a versatile forecasting tool      for the
purposes of this report  the focus is on wind prediction  the available outputs of the wrf
model come from two runs  one using initial conditions from the night before  and the
other from the morning of the prediction days  time resolution is    minutes 
the first step of a model run is the wps  which defines the domains of the simulation 
interpolates terrestrial data to fit the domains  and processes meteorological data to fit
the grid  in essence  the wps creates the grid with a given resolution     m in this particular case  and discretizes all the appropriate variables to their respective points  the
data used for wind prediction is obtained from the national center for environmental prediction and the national oceanic and atmospheric administration  and includes  among
others  humidity  temperature  pressure and wind values  the second step is data assimilation  although in this particular instance this phase is skipped  the last step is the actual
numerical partial differential equation solver  the governing equations of the model include terrain following hydrostatic pressure vertical coordinates  moist flux form euler
equations  map projection  coriolis and curvature terms  all formulated with added perturbation variables to reduce truncation and machine rounding errors during the numerical
calculations  the arw solver uses a discrete time integration scheme  incorporating several schemes  third order runge kutta  forward backward and vertically implicit     
ii  svr method
wind speeds are typically modeled using the rayleigh distribution      from figure   it is
possible to distinguish this distribution for the october november      data period both
throughout the hours of a day  and for each individual hour  this tendency of wind to vary
between certain values with a particular probability is what motivated us to use supervised
learning methods with forecasts made each half hour  several case studies analyzed
concluded that svms provide lower error compared to other approaches  especially neural networks          as progress was made it became obvious that the results to our analysis would be very similar to those obtained from previous studies of the same nature 
therefore  to increase the robustness of the analysis and with the intent of contributing a
new approach to the literature  we decided to use support vector regression and to incorporate the wrf predictions into it 

fifig     wind speed frequency distribution by hour  resembles the rayleigh distribution
both on a daily and hourly basis 
iii  simulation setup and results
the simulations are structured as follows  wind speed data from a fixed number of days
before the prediction day is used as the training set  with the day immediately after set as
the training prediction  for example  the algorithm takes    days to recognize a pattern
and the   th as the desired output of the prediction  for which data has already been
gathered  with the regression already performed and the svs extracted  the code then
predicts wind outputs for the training prediction day and one day after  in the previous
scenario the   th and   th days  in a rolling window fashion  the algorithm then performs
several train predict iterations to obtain wind speed estimates for the entire month  the
forecasts are made each half hour interval  corresponding to the available resolution of
the wrf outputs  the model performance is characterized using the root squared error
 rmse  summing both u and v components 
the performance of the svr method was studied across different scenarios varying the
number of days used for training  the cost of constraint violation parameter  c   the nu parameter    and most notably  the types of data used for the regression  three in the case
of this analysis  they are  real measurements from the berkeley yacht club anemometer 
wrf model outputs at the location closest to the anemometer and a mixture of both  the
idea behind this type of implementation is to explore wrf error prone time instances and
try to improve accuracy  the results of the forecast for the entire month of november
     at  pm are shown in figure    it is clear from the graphs that the wrf model predictions exhibit the greatest variance  while the ml ones tend to stay close to the mean 
however  since wind speeds are distributed according to rayleigh distributions      the
latter behavior is generally more desirable  in the context of the ml algorithms  this implies the estimates will be more accurate if outliers are ignored during training  which is

fifig     measured and forecasted wind speed values for the entire month of november
      compared across different training data  left  and wrf model outputs  right  
confirmed by figure    which shows an rmse increase as the cost of constraint violation
parameter is increased  i e   as the regression gets tighter      
also in figure    it is possible to see the effect of changing the number of training days on
the rmse  taking a larger number of them causes the same error as taking only few of
them  suggesting there is an optimal number of training days  however  this is dependent
on the type of data used for the predictions  around    days in the case of measured
speeds and    days in the case of wrf outputs  this optimal point is most likely a function of the forecast period as well  moving forward  it will be important to determine
whether the rmse improvements are worth optimizing these values 
figure   shows the forecast for november   th       the results show the potential of
incorporating other meteorological variables to the predictions  at       we see that the
mixed data is closer to the actual speeds than the two others  by incorporating physical
models of the environment through the wrf  the training takes into account more than
just previous wind patterns  correlating them with temperature  humidity and pressure
values as well  however  looking at        error reduction is not always guaranteed 
hence  further study is needed to determine whether it is more beneficial to incorporate
     

     

prediction error real da

prediction error wrf da

     

     

rmse

     

prediction error wrf da

     

prediction error mix da

     

prediction error mix da

rmse

     

prediction error real da
     

     

     

     

     

     

     

     

   

   

 

  

  

  

fig     rmse values for the three different types of training data  varying cost of constraint violation  left  and number of training days  right  

fiother types of data directly  that is  feed them straight to the svr algorithm instead of
using the wrf 
finally  the rmse for the wrf is        which means the svr method can outperform
the wrf model by as much as     for the berkeley yacht club case 
iv  conclusions and future work
wind speed prediction through the combination of support vector regression and the
weather research and forecast model was explored  this ml rolling window method can
outperform the wrf in the case of the berkeley yacht club data  interestingly  the
amount of previous day variables needed for this degree of accuracy do not exceed   
days 
as this approach is developed  there are some issues that require additional exploration 
first  validate the results with datasets of greater resolution  not only in time  but also with
a larger amount of points in space  second  incorporate other weather variables  such as
temperature humidity and
pressure directly and analyze up to which point
the inclusions are beneficial  third  determine
what causes the unusual
peaks on the wrf
model  figure   around
day    of the green line 
fourth  perform time series analysis to better understand time correlations and potentially be
able to predict wind
ramps  finally  explore
the possibility of incorpo  fig     measured and forecasted u component for november
rating a probabilistic    compared across the three different types of training data 
model directly into the at       the mix data is closer to the actual value  the oppoforecast  there is still site is the case at       
room for improvement 
acknowledgements
the authors would like to thank mike dvorak of sailors energy for providing the necessary wrf output values  the computing resources to run the simulations and for his support in the development of this project 
bibliography
    m a  mohandes  t o  halawani  s  rehman and a a  hussain  support vector machines for wind speed prediction  j  renewable energy                   

fi    p j  sallis  w  claster and s  hernandez  a machine learning algorithm for wind gust
prediction  j  computers geosciences                     
    m  bhaskar  a  jain and n v  srinath  wind speed forecasting  present status  int 
conf  power system tech            
    d  albanese  mlpy documentation  release      march     
    r  piwko and g  jordan  impacts of improved day ahead wind forecasts on power
grid operations  nrel report       
    advanced research wrf users
ers docs user guide v  contents html

guide 

http   www mmm ucar edu wrf us 

   
technical
description
of
the
advanced
http   www mmm ucar edu wrf users docs arw v  pdf

research

wrf 

    f m  vanek  l d  albright and l t  angenent  energy systems engineering  evaluation and implementation  mcgraw hill  new york usa      
    p  sangitab and s r  deshmukh  use of support vector machine for wind speed
prediction  int  conf  power energy systems            
     c c  chang and c j  lin  libsvm  a library for support vector machines
http   www csie ntu edu tw  cjlin papers libsvm pdf

fi