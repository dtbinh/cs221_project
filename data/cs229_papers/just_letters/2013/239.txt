rileymatthews
cs    fall    

determiningapplianceusefrompowerdrawdecomposition
 modificationofbelkinkagglecontest 
background motivation 
thehighlevelaimhereistomonitor outofbenevolence  a
householdsapplianceusagewithoutcumbersomeandintrusivesensors 
theconcretetechnicalproblemathandistoinferfromsensordatathe
answertothefollowingquestion whichhomeappliancesareonandwhichare
offatagiventimet thesensordatawearegiventoanswerthisquestion
islimitedto timeseries realpower reactivepower apparentpower and
thepowerfactorratio fromeachofphase andphase  ifyouhavean
eebackgroundfeelfreetounderstandallthat butforthepurposesofthis
problem itsufficestounderstandthatthevalueofthis tupleatagiven
timecharacterizesthepowerdrawinaricherwaythansay thecurrent
alone thehopethenisthateachappliancehasanon offsignaturehidden
intheoverallpowerdrawdata asastartingpointwearegivenatraining
setofsuchpowerdrawdatainwhichtheon offstatusofeachapplianceis
 loosely labeled andaregivenamuchlargertestingsetwithoutlabels 
basicapproach 
thetwokeychoicesofourapproachare   tobuildaseparate
classificationmodelofon offstatusforeachapplianceandtrainitonthe
labeleddata insteadoftryingtohaveonesimultaneousmulticlassmodel 
and   todetermineon offstatusbyidentifyingon offtoggleevents    
simplifiesthethinkinginwhatturnsouttobeafairlydifficultproblem 
   isalmostnecessarysimplybecausethepowerdrawatagiventimegives
usverylittleinformation indeed whenmultipleappliancesareonatonce 
thepowerpowerdrawsofthoseappliancesthathappentobeon sounless
youknowthestatusofallotherappliances itwillbehardtoclassifyon
thisbasisalone itismuchbettertousethefactthatwehavetimeseries
data andcanthereforeidentifytransitionsfromontooffandviceversa 
essentiallywewanttobaselinethethepowerdrawofanappliancetothe
momentbeforeitturnedon off  
asabriefsummary theapproachistoimplementsupervisedlearning
procedureinwhichwetrainamodeltoclassifytoggleevents theon off
statusatanygiventimewouldthenfollowwithoutmuchdifficulty though
wedonotgetthatfarhere 
buildingusabledataforsupervisedlearning
inourproblemwedonotreceiveaneattrainingdatasetreadymadefor
supervisedlearning weneedtodecideonandbuildthetrainingsetxfrom
thetimeseriesdata 
againweaimtobuildamodelforeachappliance toggledirection
combination writemodelm a d asmodelofeventappliancea togglesstatus
indirectiond   whichwillclassifytoggleeventsx i    aseitheratoggle
eventof a  d  ornot soourtrainingsetneedsbothexamplesoftoggleevent

firileymatthews
cs    fall    
 a  d   andallothertoggleeventswewillencounter further wewouldlikea
samplethatisrepresentativeorratherconsistentwiththatwhichwewould
teston however thislatterdesideratumisdifficultinourparticular
casebecausethelabeleddataisdrawnfromaseparatedistribution namely 
thelabeledtimeseriespowerdrawdataisdrawnfromanexperimental
situationwhereinatmostoneapplianceisoneattime butthedata
allocatedtotestingiswithoutsuchaconstraint withthisinmindwe
reviewthestepstakentodefineandbuildausableexamplesetforour
model 
   definingtoggleevents
lettingz t     betherawtimeseriespowerdrawdata atoggleevent
willroughlybeatimete where  z te     z te          t  islarge intuitively 
thiswillcorrespondtotimeswhenthereisatleastonecomponentofthe
powerdrawwhichjumpssignificantlyinthemomentsbeforeandafterte  to
isolatetheeventtimeprecisely wetakelargeheretobeanylocal in 
t
extremaof t   wehaveglossedoveronestep itshouldbenoted inthis
eventdetectionprocedurewefirstsmoothz t  alongeachcomponentwitha
gaussianconvolution filterofparameter  whenthenhavetwoparameters
whichdeterminetheeventsoveranytimespan   forsmoothing and the
delaybetweenmeasurementsthatdetermine t  atanygiventimet  
   pairingeventswithlabeledtimes
intheprovidedtrainingset thevariouscontrol experimentaltime
series z t    therearehumanlabeledtoggletimes i e  foreach
appliance toggledirectionpair  a  d   thereisasetoftimesla d where
t  la d ifan a  d  toggleeventoccurredwithin    secondsoft  soa
centraltaskofourproblemistomakeaccurateandconsistentestimatesof
theeventtimeste thatcorrespondtohumanlabeledtimest  la d  
theestimationmethodthatyieldedthemostsuccessfulresultsisas
follows foreachti  la d  wetakeestimatethecorrespondingtoggleeventto




bet i    te te   wherei ti isthesetofdetectedeventtimes whichare 
teitt

remember localextremaof t   inthesearchintervalaroundti  thatiswe
estimatethetoggleeventtimecorrespondingtothenoiseylabeledtimeas
thesumofdetectedeventstimeswithinawindowsurroundingti eachweighted
bythesquareof te    seefigure forinstanceofeventdetection 
   buildingatrainingset
fixingoursmoothinganddifferentialwindowparameters  and 
respectively weconstructthesupervisedlearningamenableexamplematrixx

firileymatthews
cs    fall    
andclassificationvectory form a d  



foreachtj  la d anditsestimatet j  thereisarowvector






x i     tj    z tj     z tj         withclassificationy i       thinkofthisvector
ascapturingofanappliancespowerdrawlooksasitistogglingon off
status therestoftheexamplesinx correspondtodetectedevents local
extremain t  whicharenotneartheestimatedlabeledtimes thatis for
eachdetectedtoggleeventtimete inthetrainingseriesz t  whichisnottoo
closetoalabeledtime thereisacorrespondingrowvectorand
classificationentry x i     te      andy i      
anoteontesting
briefly oneofourdifficultiesisthatwedonthaveaconvenientway
tocrossvalidateonthelargertestset wecansubmitpredictionsto
throughthekagglesitethatwillbeevaluated butthatislimitedtotwice
adayandwewouldneedtoprovidepredictionforall housestogetuseful
feedback whereaswewerefocusedononehousetogetmybearings 
modelexperimentation
ahhh nowthatwevebuiltausableexampleset takecaretonote 
though thatx   y areinfactparameterizeby  and   wecanexperiment
withdifferentsupervisedlearning andsomenonparametric approaches 
   logisticregression linearsvm
resultswithlogisticregressionandsvmwerebothmixed whentraining

ona a  d  withaparticularlydistinctx i     t  signature thenoften
regression svmcouldperfectlyseparatetheclassesinthetrainingset but
recordedunreasonablymanyfalsepositives checkedbyinspection onthe
noisiernoncontrolledtestingenvironment on a  d  swithlowerpowerdraw
signature andthussmallersignaltonoiseratio theregressioncouldnot
satisfactorilyseparatethetestingdata ididnothavetime though to
experimentwithenrichingthefeaturespaceinthelogisticcasebyadding 
e g  allmonomialsofthefeaturesorothermethod 
   rthresholdingmetric locality 
afterfrustrationwiththeabovetwoapproaches wetriedtoleverage

theobservationthatsignaturesx i     ti  ofagiven a  d  wereinfactvery
similartoeachother wethoughtwecouldsimplyclassify a  d  examples
basedontheirdistancetotheirmeanxample x a d   thisdistancewas
computedafternormalizingtheindividualcomponentsofx i  byeitherthestd
ormeanofthecolumnsofx  sothatscalingoftodependononeortwo
components  thethresholdatwhichwedecidewouldbeeitherproportional
orgeometricallyproportionalto
min

  x i x

  

r    maxii    aa  dd    x i x  aa  dd      
i e  theratioofthedistancefromx a d  totheclosestnon a  d  event to

firileymatthews
cs    fall    
themaximumdistanceoftox a d  thean a  d  event thisyieldedmore
promisingresultsbutthisapproachwassupersededbythethoughtthatthe
svmwithrbfkernelwasinanabstractsensealsousinganearnessmetric 
andmightbeeasiertoimplementasitwasastandardmethod 
   svmwithr b f kernel
svmwiththerbfkernelfunctionwasthemostsuccessful however not
nearlysuccessfulenoughanditwassensitivetooverfitting particularly
problematicifmyeventdetectionalgorithmmisestimatedandeventthe
svmwithrbfcouldandwouldusuallyseparatethedatathisdataifthebox
constraintwashighandtherbfsigmavaluewaslowenough andconsequently
bakeinthatmisclassification 
tuning hyper parametersforsvmw gaussiankernel
giventhetimeconstraintswehadaftercompletingtheinfrastructure
tobuildx y given     wewantedtoimplementaparameteroptimization
routinetogetthebestresultswiththesvmrbfasitwasthemost
promising theaimistofindtheparameterset     c  rbf  wherec isthebox
constraintofthesvmwhichminimizesmisclassificationrateofstratified
kfoldcrossvalidationonthetrainingset wherekistypically  the
numberofexamplesofperapplianceofaverifiedtoggleevents i e  the
numberofexampleswithy i        
wecanttrulyconsiderallpossibleparameterssowedidasmallgrid
searchoverafewpossible   parametersandwithinthatsearchweoptimized
theothertwoparametersoveralargerbutstillsmallpossibilityset 
theresultsweretepid liketheotherexamplesityieldedtoomany
falsepositivesonthetestingset theissuewastwofold    sincethe
m c r undermultipleparametersreachedzero only y  examples  there
wasnotagoodaprioritiebreaker sotothatnumerousc   parameters
achieved m c r thenwecantsaywewereoptimizinginchoosingbetween
them    thetestingtestseemstohavemuchnoiseandtypesofevents so
thesvmisinasenseclassifyingeventstoomuchunlikethoseinthetraing
setitcantknowwheretosettheboundary 
visualizationwithpca
weusedpcatovisuallyexploreunderlyingpatternsandtoquickly
verifyresults whenweprojecttheexamplesinx ontoitsfirstto
principalcomponentsweseesomeinterestingstructure clearlythereis
strongcorrelationbetweencertainfeatures outinterpretationisthat
thereisonlyafewtypesofelectronicsystemsandthesetypesproducea
typicalpowerdrawsignaturewhichisuniqueuptoascalingfactor 
itwasalsoaneasysanitychecktoseehowclassifiersareperforming
onthetestsetistoinspecttheprojectionontotheprincipalcomponents
 seenoteabouttestingissues  presumablyprojectionoftrue a  d  toggle
eventsinthetestsetwillfollowasimilarpatternasthoseofthe
trainingsetuponprojectionontothefirsttwoprincipalcomponents the

firileymatthews
cs    fall    
otherslowbutmorepreciseapproachwastoinspectthez t  plotsaroundthe
predicted a  d  toggleeventtimesindeedeach a  d  signaturebehavioris
usuallydistinctenoughtotheeye 
figures   

fi