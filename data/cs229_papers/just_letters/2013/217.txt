relative permeability measurement in rock fractures
siqi cheng  han wang  da huo

abstract
the petroleum industry always requires precise measurement of relative permeability  when
it comes to the fractures  the measurement becomes extremely difficult since the saturation in the
fractures is hard to calculate  in this study  we are aiming to provide a machine learning approach
to distinguish voxel based water and gas in rock fractures based on computed tomography 
this research is divided into two parts  the first part is to extract fracture features from a
set of noisy ct scanning data  the second part involves water and air classification  we use
a machine learning assisted boosted depth first search  we use the assumption that fractures
would be continuous or at least piecewise continuous to devise this algorithm  for our project 
we seek to find f  n  x   to  air  water  rock  which optimizes the mapping of the pixel to the
correct class  two phase data will be used to test the machine learning results and to provide a
distribution of water and gas in fractures  finally  the fracture has been successfully extracted
and the relative permeability curve for fractures have been obtained based on our experimental
data  this could be a significant contribution to shale gas production  enhanced oil recovery
and hydraulic fracturing activities 
index terms  rock fractures  relative permeability  svm

 

introduction

in multiphase flow in porous media  relative permeability of a phase is a dimensionless measure
of the effective permeability of that phase and saturation means volume percentage of that phase 
previously  people use wave technology and resistivity technology to measure saturation  but most
of them can only provide a rough estimate of the saturation of the whole fracture plane  in this
paper  we are aiming to provide a machine learning approach to distinguish voxel based water and
gas in rock fractures based on computed tomography  the relative permeability will be obtained
based on water gas saturation 
due to the noisy nature of ct scanning  fig      data must be properly processed to extract
fractures and distinguish water and air in the fractures  in this paper  section ii describes the
method of extracting fracture features using  svm approach and presents the fracture location 
section iii describes the collection of data sets  extraction of features from the data sets and the
learning process by svm  section iv discusses the relative permeability obtained 

 

fracture detection with  svm and sub model results

for the fracture extraction algorithm  we make the assumption that a fracture will appear in the
ct data as a local line of low density  in order to preserve cache locality  we defined the local
neighborhood  n   as the    voxel box surrounding the voxel we are attempting to classify  since
the fracture can occur in any orientation  we seek to find rotationally invariant features and created
the set m  the sum of voxels along each cubic axis of symmetry     total   fig     after much
trial and error  the final input features are  all normalized to n       
 

fifigure    ct scanning of rock fractures  left part shows a real fracture in rock samples  right
part shows its ct image  fracture pattern becomes hard to distinguish from ct images 

figure    rotational invariance
   n      
   max n     min n  
  

n      min n  
max n  min n  

   min m 
   max m 
   max m    min m 
we chose  svm with rbf kernel as our machine learner due to its small amount of tuning
parameters  we fitted parameters via grid search and the final parameters chosen were          
and         
as shown by fig     the trained  svm was able to detect the central fracture plane and achieve
      on the auroc metric  the training and test sample accuracy came out to be       and
       respectively  we attribute the exceptional accuracy to the unbalanced nature of the dataset 

 

fifigure    left   d volumetric plot of areas estimated to be fractures  the cleaved center plane is
clearly visible  right  roc curve of trained learner on out of sample test data  auroc        

figure    left  feature choice for training data set  right  two circumstances illustrating air filled
fracture and water filled fracture  for the right figure  the upper figure shows normal air water
distribution with rock  the lower one shows significant higher rock density around air filled fractures 

 

data collection and extraction for water air classification

the data was collected based on rock images with pure water or pure air residing in the fracture 
the only input data for a particular pixel is the ct value  and this alone is not enough  due to
the principle of ct image  we believe the values of the neighbors are also important and should
be considered as the feature of the pixel we are treating  different feature selections have been
considered  the neighbor pixels perpendicular to the fracture appear more important than the
pixels in the fracture  thus  we consider six input values for a single pixel  training data are set
as shown in fig     with the fracture pixel as   and other pixels adjacent as      max difference
within a  x x  box is considered as the sixth feature  this input features shows significantly better
prediction and the absolute values  if water is residing in the fracture  the fracture pixel will be
assigned as   and if nitrogen is residing  the pixel will be assigned as    so the function is     pixel
  water   
due to the randomness of input features  we use the differences of the pixel with the pixels
next to it  in fig     two circumstances of rock air water ct value have been plotted to show the
reason why difference is more accurate than the absolute value  the rock density in adjacent voxels
will significantly affect the ct number of air water filled fractures  the ct number for air filled
fracture may be higher than water filled one  shown in lower figure in fig    
the testing results shows that more training data will have a slightly better prediction  due
to the reason that higher pressure will cause fracture to be narrower  the resolution and neighbor
picking will be affected by the pressure added on the rock sample  in fig    we find that best
accuracy is achieved at     psi  if we use the machine trained under different pressure conditions 
 

fifigure    prediction accuracy versus effective pressure
the prediction still shows decent accuracy  svm shows that the differences between fracture and
vertical neighbors are crucial for water air detection  if we only keep the max differences and the
pixel values itself as input features  the machine will only have         accuracy  this result is
reasonable since it shows that due to ct scanning principles  vertical neighbors will influence the
materials in the fracture more 
another knob is the neighbors we use  svm gives almost the same prediction for  x x    x x 
and  x x  boxes for maximum difference picking  this is due to coarse resolution and homogeneity
in large rock voxels 

figure    different kernel choices
from all kernels in c svm  it turns out that rbf kernels show the best result  besides  the
cost is set to     which will results a     miss rate when testing on the training data itself  this
is because when the cost is too low  svm will choose more than two thirds of the input vectors as
support vectors and this will results less than    of the miss rate on the training data itself  the
machine is over fitting in this case  this can also be proven by using  svm  the result shows that
the machine with the maximum support vector range from     to     gives a better prediction for
the testing data 

 

relative permeability

the relative permeability curve is developed using a series of data under different injection rates 
saturation value is obtained using machine learning approach and relative permeability data is from
experimental results  in fig     we clearly find that water relative permeability increase and air
relative permeability decrease with increasing water saturation  air and water relative permeability
curve cross each other at     water saturation  due to the channelling behavior  saturation will
keep constant at     while water and air relative permeability will keep on changing  this relative
permeability curve is as expected with the literature  physical meaning is confirmed with previous
 

firesearch  this relative permeability shows that irreducible water saturation is      which means
that no more water will be driven out of the core with even higher injection rate 

figure    relative permeability curve developed using machine learning approach

 

summary

in conclusion  we have shown that  svm is able to detect fractures in sandstone with the key
incite of rotationally invariant features  the output fracture data was then sent to the second
water air discrimination model  the second model  utilizing a c svm  was able to identify water
and air within the fracture for multiphase measurement  the final machine learner output was
then post processed to generate a relative permeability curve which is consistent with literature 
for future work  we will work on extending the method onto natural fractures  and explore
additional features which will improve the machine learning models discernibility 

 

acknowledgement

the authors would like to acknowledge prof  andrew ng and other teaching staffs for providing us
such an enriched quarter 

 

references

   ketcham  r a   carlson  w d         acquisition  optimization and interpretation of x ray
computed tomographic imagery  applications to the geosciences  computers   geosciences     
p       
   graf  a   borer  s         normalization in support vector machines  pattern recognition  p      
   brennen  c  e         fundamentals of multiphase flows  cambridge university press  isbn
           
   johnson  e f   bossler  d p   and naumann  v o         calculation of relative permeability
from displacement experiments  petroleum transactions  aime  vol       p       
   www csie ntu edu tw cjlin libsvm 

 

fi