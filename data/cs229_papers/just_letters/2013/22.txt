learning characteristics of smartphone users from accelerometer and
gyroscope data
david molay
dmolay stanford edu

fan hal koung
fanhal stanford edu

abstract

rate  etc    but there are others as well  for example  with
this additional information  website and app advertisements
could target users more effectively  potentially increasing the
likelihood of a click through  further  when navigating to a
clothing retailers website  the smartphone user could automatically be directed to the appropriate section  mens or
womens  where items have been pre selected for the user
based on his her weight and height  additionally  the ability
to recognize individual users could enhance both the security
and convenience of the device by sending an alert if an unauthorized user is carrying the phone or remaining unlocked if
an authorized user is carrying the device  the rise of the
smartphone as a powerful computing device generally carried
on ones person provides the potential of broadening the use of
accelerometer and gyroscope data beyond traditional gaming
applications to improve the user experience in general 

the presence of increasingly advanced sensors on modern
smartphones provides the opportunity to leverage sensor data
to enhance the user experience with biometric security features and user targeted advertising  as a first step towards
achieving this goal  we attempt to determine several key user
traits based on smartphone accelerometer and gyroscrope
data collected while the user walks with the device in his
or her pants pocket  we chose to analyze data collected from
the pants pocket because it is one of the most likely locations
that a user would place the device  the traits we initially attempted to predict were weight  height and gender  however 
we fortuitously discovered that we could identify individual
users from their gait data with a high degree of accuracy 
we approached predicting weight and height as classification
problems  with the classes being small  medium and large 
rather than regression problems because precision and recall
are frequently much easier to interpret than mean squared
error or mean absolute error 
to accomplish this task  we extracted and analyzed a variety
of features from the sensor data  the features ranged from
basic metrics  such as the mean and standard deviation of
accelerometer readings  to the coefficients of a fast fourier
transform  by applying several classification methods  we
were able to predict the weight  height  gender and identity
of a smartphone user with leave one out cross validation accuracies of               and      respectively 

 

kingston tam
ktam stanford edu

 

discussion of prior work

in recent years  there has been significant research on applying machine learning techniques to smartphone sensor data 
much of this research has focused on activity recognition
           e g  determining if a smartphone user is standing 
walking  running or biking  and  more recently  user identification         e g  using the sensor data as a biometric  
however  there has been considerably less research on using
smartphone sensor data to identify general user characteristics such as weight  height and gender 
our work on identifying individual users is most comparable
to the wearable sensor based recognition research discussed
by gafurov       while our work on identifying weight  height
and gender is most similar to the research conducted by weiss
and lockhart      weiss and lockhart  however  focused only
on classifying the extremes of the population  e g  short
v  tall and light v  heavy   they did not attempt to
classify people of average weight and height and  thus  did not
include examples of average people in their training or test
sets  additionally  weiss and lockhart used solely accelerometer data in their analysis whereas we incorporated gyroscope
data as well 

introduction

smartphones are powerful computing devices owned by over
    of american adults      as devices that are almost always within reach  smartphones provide instant access to a
wealth of content  indeed  smartphones connect us to others 
put the internet at our fingertips and even stream live video 
the way we interact with smartphones is as interesting as the
content they deliver  smartphones are one of the few interactive devices that we frequently carry in a non interactive
manner  this made us wonder  while smartphones are clearly
consummate content deliverers during periods of use  can they
be capable content gatherers during periods of inactivity  in
this paper  we investigate the application of machine learning techniques to determine the weight  height  gender and
identity of a smartphone user while the device remains in its
users pocket 
there are a number of applications to which the weight 
height  gender or identity of a smartphone user would be particularly useful  a straight forward application would be to
fitness trackers  e g  estimating calories burned  metabolic

 
   

the data
overview

our data set consists of a combination of smartphone gait
data from two unique sources  initially  we began prototyping
our learning algorithms using data obtained from the human
activity sensing consortium  hasc       this data set was
 

fia unique fit for our purposes because it not only contained
sensor data for a variety of activities  including walking   but
also the weight  height and gender of each test subject  however  the hasc data was largely homogeneous  indeed  after
extensive preprocessing of the      hasc corpus     samples remained of which only five were female  the distributions of weight and height were similarly skewed  this
lack of diversity prompted us to develop our own web application  http   gyro ktam org   for additional data collection  we subsequently made recording ones gait data a task
on amazon mechanical turk for expedient data collection  we
denote the resulting data set turk   when collecting data
we specified a specific orientation of the device  pointed downward in the users front pant pockets with the screen facing the
users leg   for consistency  we also filtered the hasc data
to only consist of gait data with the same device orientation 
from our integrated data source we eliminated examples with
fewer than fifteen seconds of gait data  we then considered
only the middle ten seconds of the time series to remove the
data that was collected as the device was being transferred to
and from the users pocket 
     

weight  kg 
height  cm 

small
    
     

medium
        
          

large
   
    

compared when we eliminate the medium class from our data
and predict on only small and large individuals  this discretization resulted in a fairly even distribution of weight
among the three classes        were considered small       
medium and       large   the discretiztion of height  on the
other hand  was uneven with       considered small       
medium and       large  the discretization of height proved
to be more difficult since its distribution in our data set was
much tighter than that of weight  so there was a trade off
between giving different labels to individuals that only differ
in height by one or two centimeters  or having distinct classes
that do not have an evenly distributed number of individuals
in each class  ultimately  we elected to have distinct classes as
this provided the benefit of being able to compare our results
to those of weiss and lockhart     

predicting weight  height and gender

we wanted to include features from both the gyroscope and
accelerometer data when predicting weight  height and gender  while the turk data set and      hasc corpus contain data from both the accelerometer and gyroscope sensors 
hasc data from previous years contains only accelerometer
data  consequently  our integrated data set for predicting
weight  height and gender consisted of     examples in total
     examples from the turk data and    from the     
hasc corpus  
     

identifying individual users

figure    plot of accelerometer data

the turk data does not contain multiple instances of gait
data from the same individual  thus  we could not use this
data to identify individual users  accordingly  we decided to
supplement the      hasc corpus with the      hasc corpus  the      corpus  however  does not contain gyroscope
data  so we only selected features from the accelerometer data
when performing our analysis  when identifying users  we
considered two orientations of the device     the phone was
mounted on the waist and    the phone was mounted on the
waist or placed in the pant pocket  the former is a classification task with    unique individuals while the latter has    
unique individuals 

   

 
   

learning
feature extraction

as a preprocessing step  we applied a median filter and a  rd
order low pass butterworth filter with a corner frequency of
   hz to remove noise from the accelerometer and gyroscope
signal         hz is an appropriate corner frequency since    
of the energy associated with human gait is contained below
   hz      we subsequently applied another low pass butterworth filter with a corner frequency of     hz to separate the
acceleration signal into body and gravity components as this
has shown to be successful in prior work     
we then drew    features from the filtered accelerometer
and gyroscope signals  these features were derived from the
time and frequency domains and were selected largely on the
basis of prior work in activity recognition and gait identification         a tabular summary of our time features can be
found in figure    our frequency features were drawn from
the total acceleration series and consist of dc component 
signal energy  dominant frequency and coefficients sum 

distribution of weight  height and gender

even after supplementing the      hasc corpus with the
turk data  the distribution of gender was still heavily
skewed towards males  of the     individuals      were male
      and    were female        we discretized weight and
height into three classes each  small  medium and large  according to the following table 
we choose these cutoffs to be similar to those employed by
weiss and lockhart      so our results would be able to be
 

fifeature
mean
std dev
dist btwn peaks
max point
min point
mean square

acceleration
xb g j   yb g j   zb g j  t
xb g j   yb g j   zb g j
yb
xb   yb   zb
yb
xb   yb   zb

gyroscope
b
b
b
b
b
b

   

selection and importance

gender
std dev xg
mean zj
dc component

weight
max yb
std dev xb
std dev yb

height
dist btwn peaks yb
std dev g
dist btwn peaks b

figure    selected time domain features  x  y  and z refer figure    the three most important features for each trait
to the components of acceleration  t refers to the magnitude
vector of acceleration  and  refers to the  rotational com  we employed feature selection algorithms to both improve
ponent  subscripts b and g refer to the body and gravity the accuracy of our classifiers and gain insights into which
components while j refers to the jerk signal 
aspects of gait are associated with a users physical characteristics  the three most informative features when predicting weight  height and gender are shown in figure    as
previously noted  we elected to use adaboost for predicting
      time domain
weight and gender as it inherently performs feature selection 
we first considered features in the time domain  most of we considered the most informative features to be the ones
our features were drawn directly from filtered time series  but that appeared most frequently in the decision stumps  on the
some were drawn from the derivative time series  these in  other hand  we used lda for predicting height  since lda
clude the mean  standard deviation  maximum  minimum and does not perform feature selection on its own  we selected
root mean square of acceleration  jerk and gyroscope signals important features using stability selection as described by
as well as the sequence of acceleration magnitudes  an ad  meinshausen et al  and implemented in sklearn      
by examining figure    we notice that there does not
ditional feature we included was the length of the gait cycle
 the elapsed time between consecutive contacts of a single leg appear to be a set of uniformly most informative features 
with the ground   a typical gait cycle is shown in figure but rather different features were important for each physical
   from the vertical component of acceleration we extracted characteristic  this may indicate that different aspects of gait
are more linked to different characteristics  accordingly  we
amax and amin   the maximum and minimum values
 of vertical
acceleration in a single gait cycle  to compute   amax  amin performed our classification tasks by using separate models
which has been shown to be proportional to step size  which for predicting each trait  we found it interesting and intuis proportional to height        we hoped that this feature itive that our model for height benefited from the inclusion of
the length of the gait cycle  as taller individuals tend to take
would be predictive of height 
longer strides 
     

frequency domain

 

we also considered several features in the frequency domain 
we first sampled the total acceleration time signal in fixedwidth sliding windows of     seconds each      timesteps at
    hz   with     overlap between successive windows  a
window size of     seconds is suitable because the cadence of
an average person is at least     steps per second      thus 
we are able to capture close to a full walking cycle    steps 
in each window  we then mapped the signal samples to the
frequency domain using a fast fourier transform  fft  and
extracted the desired features using the generated coefficients 

   

individual user identification  a
fortuitous discovery

the hasc data set contains multiple distinct examples of
gait data per individual  since we initially desired to classify
individuals on the basis of weight  height and gender  and
not on the basis of other confounding factors such as identity   we filtered the data to ensure that there is only one
example of gait data from each individual in either the training or test set  but never both   initially  however  we did not
have these filters in place and our accuracies when predicting
weight  height and gender were significantly higher  this gave
us reason to believe that our previous accuracies were due to
the ability of our classifier to identify individual users 
to explore this possibility  we performed principal component analysis  pca  to visualize the data  from the projection of the data onto the first three principal components  it is
evident that individuals form fairly distinct clusters  figure
    furthermore  since the first five principal components
explain over     of the variance in the data  we decided
to use pca as a dimensionality reduction technique and knearest neighbors with k     as our classifier  from pca
we found that the first principal component is weighted towards y acceleration features  while the second is weighted
towards x acceleration features  these correspond to vertical

learning algorithms

our primary learning algorithms were adaboost with decision stumps and linear discriminant analysis  lda   both
of which were selected because they are easy to generalize to
the multi class setting  for adaboost  we used the samme r
algorithm for multi class classification proposed by zhu et al 
     and implemented in sklearn   adaboost with decision
stumps was particularly well suited to our analysis because
it inherently performs feature selection  on the other hand 
we need to perform feature selection before fitting our model
with lda to avoid overfitting 
 

fimovement and abduction adduction of the hips      respec       v        our classifier achieved both high precision and
tively  so it was interesting to see the principal components recall and  thus  is far superior to the baseline predictor 
weighted in this fashion 
      weight

sa
la
p

sp
  
  
   

lp
 
  
   

r
   
   

figure    weight  excluding middle class 

sa
ma
la
p

sp
  
 
 
   

mp
  
  
  
   

lp
 
  
  
   

r
   
   
   

figure    weight
we were also fairly accurate when predicting weight  first  we
figure    projection of gait data from    individuals onto will compare our results to those of weiss and lockhart when
the first three principal components  each color represents a we exclude the middle class and only attempt to classify users
of extreme weight  our overall accuracy was      which was
different individual 
comparable to their performance  we achieved higher recall
on the small class  but lower precision  while the opposite was
true on the large class  thus  our results highly resemble those
of weiss and lockhart  our data set  however  is significantly
  results
larger and our data collection was not as controlled  so it is
encouraging to be able to reproduce their results 
    soft biometrics
for the three class problem  we achieved an overall accuracy
our results are summarized by the following confusion matri  of     with satisfactory marginal performance for each class 
ces  which display our leave one out cross validation results we again outperformed the baseline predictor  which achieves
on the combined data set  hasc        turk   each con      accuracy on this data set   from the confusion matrix 
fusion matrix also shows precision and recall for each class  we see that there is little confusion among the small and large
which are denoted p and r  respectively  let s  m  l denote classes  which further suggests that weight can be accurately
small  medium and large and sa and sp denote actual small predicted from smartphone gait data 
and predicted small  similarly define ma   mp   la   lp  
     
     

height

gender

m alea
f emalea
p

m alep
  
  
   

f emalep
 
  
   

r
   
   

sa
la
p

sp
  
 
   

lp
 
  
   

r
   
   

figure    height  excluding middle class 
figure    gender
sp
mp
lp
r
we were able to identify users gender with a high degree of
s
  
  
 
   
a
accuracy  indeed  we achieved both higher precision and recall
ma
  
  
 
   
for males than did weiss and lockhart      precision      v 
l
 
 
  
   
     recall      v        our performance on females was
a
p
   
   
   
nearly identical  we obtained slightly higher precision     
v        but slightly lower recall      v        despite the
figure    height
fact that our data set has a disproportionate number of males 
our results are comparable to those obtained by weiss and
lockhart  who used a far more balanced data set   though our results for height are less positive than those for weight
our overall accuracy is not significantly higher than baseline and gender  first  we will compare our results to those of
 

fiweiss and lockhart when we exclude the middle class and
only attempt to classify users of extreme height  we achieved
an overall accuracy of      while they achieved accuracy of 
approximately      they also achieved higher precision and
recall for both the small and large classes 
for the three class problem  we achieved an overall accuracy of     which is just marginally better than the baseline 
predictor in this instance        this is likely due to the
skewed nature of our height data  which is described in section      improving our results on height prediction would
likely require a more varied data set and more predictive fea  
tures 

   

ownership        findings   aspx   accessed
december             
    kwapisz   jennifer   gary weiss   and samuel
moore     activity recognition using cell
phone accelerometers    acm sigkdd
explorations newsletter      no             
       
    nham   ben   kanya siangliulue   and serena
yeung     predicting mode of transport from
iphone accelerometer data    cs    machine
learning  
    nowlan   michael     human identification via
gait recognition using accelerometer gyro
forces    yale computer science   http     www  
cs   yale   edu   homes   mfn    pub   mfn gait id   pdf
  accessed november             
      accelerometer biometric competition   
kaggle   http     www   kaggle   com   c  
accelerometer   biometric   competition  
accessed december             
    smith   aaron     smartphone ownership       
pew internet   american life project   http
    pewinternet   org   reports        smartphone ownership        findings   aspx   accessed
december             
      data hub for hasc    human activity
sensing consortium   http     hub   hasc   jp   menu
  accessed december             
    anguita   davide   alessandro ghio   luca
oneto   xavier parra   and jorge reyes   ortiz  
  a public domain dataset for human
activity recognition using smartphones    in
   th european symposium on artificial
neural networks   computational intelligence
and machine learning   bruges   belgium  
esann             
    silva   joana     smartphone based human
activity prediction            
     pratama   a   r    widyawan   hidayat   r      
smartphone   based pedestrian dead reckoning
as an indoor positioning system    system
engineering and technology   icset         
international conference on   vol     no     pp
               sept       
     zhu   ji   hui zou   saharon rosset   trevor
hastie     multi   class adaboost    statistics
and its interface volume         
     gafurov   davrondzhon     a survey of
biometric gait recognition   approaches  
security and challenges    annual norwegian
computer science conference        
     meinshausen   nicolai   and peter b h l m a n n
    stability selection    journal of the
royal statistical society   series b  
statistical methodology                
         

identity
 

to access our accuracy when identifying individual users  we
again performed leave one out cross validation  specifically 
we held out a single walking example from one individual
 while including all other examples from that individual as 
well as the examples from everyone else in the training set 
and then tried to identify which individual is associated with
the held out example  we achieved an overall accuracy of    
when identifying user gait data collected from the mounted
position  furthermore     of the    individuals were correctly 
identified      of the time     of the    individuals were identified     of the time and the remaining   were correctly iden  
tified     of the time  when identifying user gait data from
either the fixed or mounted position  we correctly identified
the user associated with the gait data     of the time  our
accuracy of     is on waist mounted gait data is on par with
the work achieved by prior researchers         which is impressive considering our data set contained significantly more
individuals  however  we also note there was a recent kaggle
competition     that showed accelerometer data could be used 
effectively as a biometric 
  

 

summary

as smartphone accelorometer and gyroscope sensors grow
more and more ubiquitous  the potential uses for applications
  
that can predict a users identity and physical characteristics from a smartphone lying passively in ones pocket are
  
seemingly endless  one potential application is user targeted
advertising  where knowledge of an individuals gender or specific identity would greatly increase the precision of the targeting  considering the success we had in identifying individ  
uals  we can also envision a smartphone application that can
detect and report potential theft of the device by recognizing when the phone is being carried by an unauthorized user 
further  we believe our research demonstrates that there are
many untapped applications for this data that can lead to a
significantly enhanced user experience 

 
 

references

    smith   aaron     smartphone ownership       
pew internet   american life project   http
    pewinternet   org   reports        smartphone  

 

fi