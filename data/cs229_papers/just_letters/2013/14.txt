optimizing public transit
mindy huang
christopher ling
cs    with andrew ng

 

introduction

most applications of machine learning deal with technical challenges  while the social sciences have
seen much less use and give more surprising results  therefore  for this project we chose to study
what comprises an optimal light rail transit system  we chose light rail systems  subways  bus rapid
transit  etc   because they are generally not tied to trac  are costly to implement and therefore
restricted to a limited number of stops at key destinations  and are the current focus in transit
planning 
first  we model the ridership of a system in a city  then  we use our model to generate a light rail
transit system that optimizes for ridership 

 

model

we use linear regression to predict ridership a transit system  first  we look at each individual
station within the city and its features  demographics of the area  points of interest nearby  etc  
let xij be the j  th feature of the i th station  then we represent the i th station like so 
  xi      xi         m xim  

x

j xij

j

then to get a  score  of how good the transit sytem of the city as a whole is  we sum each station
together 
xx
x x
score  
j xij  
j
xij
i

j

j

i

we then add in features of the transit sytem as a whole  average distance between each station 
etc   let yi represent each feature of the transit system as a whole  so the model of the entire
ridership system is 
x x
x
i yi
ridership  
j
xij  
j

 

i

i

 z

 

features of stations

 

   z  

features of system

fi   

features of each station

at each station  we have the following kinds of features 
 demographics   we obtained demographics data on the area around each station from the

     census  features include median age  race  employment status  average transit duration
to work  etc 

 points of interest   we have features for the count of each place type within a    mile radius
of each station  in other words  x  is the number of parks within    miles  x  is the number

of sports stadiums with    miles  etc 

some interesting ndings   having airports  parks  and universities nearby correlates with high
ridership  also  working further away correlates with low ridership  we also found that having art
galleries near stations correlates with higher ridership  possibly due to the inuence of new york
city 
   

features of the system as a whole

currently  we only have one feature for the system as a whole   average distance between each
station  however  this is extremely important for the second step of our project   when we generate
our own transit system that maximizes ridership  if we do not have a parameter that monitors
the distance between each station  then maximizing ridership of the system is trivially putting an
innite number of stations on the same point 
features we plan on implenting in the future include
 the number of stations in the system per unit of area the that the transit system covers
 the coverage of the city the system serves
 a cost function to control the jagged ness of station placement  to mimic the routes of an

actual transit system

   

fitting the model

to determine our parameters  and   we implemented both normal equations and gradient descent 
as this was an ill conditioned problem  the normal equations failed to converge  so we continued
with gradient descent 

 

optimizing the model

our greatest obstacle was the lack of training data   there are only    cities in the us that have
implemented light rail systems  as such  we implemented a lot of techniques to optimize our error 

 

fi

  since we had such a small data set  it was imperative to regularize to
prevent overtting  we added a penalty to our model to smooth it out
regularization

ridership   x       
regularizing brought down our error by about    percent 
  we used this to get a more accurate estimate for the
generalization error of our model  as well as to optimize our regularization and gradient descent
coecients  we found that              and          optimized our general error  this
improved our error by about    percent 



leave one out cross validation



feature selection



logging

  we used feature selection to remove features that increased error  we
found that having hindu temples  locksmiths  and taxi stands a part of our algorithm all
increased general error  most likely because they occur randomly with no real correlation to
ridership  this improved our error by about    percent 
  our data set was extremely jagged   numbers ranged from less than   when we
looked at percentage race to tens of thousands for median income  therefore  to smooth it
out we took the log of the numbers  this worked surprisingly well  and brought our error
down by over     percent 

with all of our optimization techniques  our estimated generalization error decreased to    percent 

 

generating a transit system

after tting a reasonably accurate model  we moved on to the second step of our project   given
data of a city  nd locations that optimize the ridership of the transit system if stations were built
there  to do this  we discretized a city into blockgroups  a unit of geography used by the census 
and implemented a greedy algorithm that selects the blockgroups maximizing ridership according
to our model  the algorithm runs until adding more stations begins to decrease ridership 
below are comparisons between the actual transit systems and our optimal station locations according to our model  we generated models for the bronx in new york city  and austin  since
new york city has high ridership  when we run our model we would expect our algorithm to output
something similar to the existing system  and since the system in austin has low ridership  running
our model in austin should output a system that is fairly dierent 

 

fifigure    comparison of

the bronx 

 a  actual system in new york

approximately     rides person year

 b  our generated system in new york

analysis of new york 

as seen above  our generated system creates stations in similar locations and hot spots to the
current system  as expected  however  our stations are relatively clumped and jagged compared to
the actual station locations  for two reasons      we did not factor in a cost function to smooth
the stations into distinct routes  like a real system would have  and    since our discretization was
based on block groups  the locations to choose from  were not even in shape and not ne grained
enough 
figure    comparison of

austin 

approximately      rides person year

 a  actual system in austin

 b  our generated system in austin

 

fianalysis of austin 

our model of austin had several more stations than the current system  most of them are along
the heart of the city  and the outliers of the original system were done away with  of particular
interest is the station circled in red   note that it is next to several parks  this shows that in our
model  parks correlates highly with ridership  which is fairly intuitive 

 

assumptions and restrictions

due to the inherently fuzzy nature of the subject  we make a few assumptions to simplify our model 
 transit culture   we assume that transit culture is the same across all the cities we train on

 we assume that angelinos are just as willing to take public transit as new yorkers if the
transit system is optimal  

 city boundaries   we assume that transit systems are self enclosed within each city  in reality 

they often cross boundaries 

 cost   when we create our own transit system at the end  we do not take into account the

cost  monetary or political  of erecting a station at a given point  this is because political
battles are extremely hard to quantify  and probably the reason the station was not built at
that point in the rst place 

 

in conclusion

we were pleasantly surprised at the outcome of our project   we did not at all expect such a good
model  given the fuzziness of the problem and the simplicity of our model  moreover  this project
demonstrates the potential applicability of machine learning to the social sciences  in the future  we
hope to further improve the model  and perhaps provide new insights into public transit systems 

 

sources
 the american public transportation association provides information on revenue and rider 

ship per transportation district

 google s public transit feed provides the location and type of each station
 google places provides the points of interest around each station
 the      census and american community survey provides up to date information on de 

mographics  population  age  and income  retrieved from national historical geographic
information system at the university of minnesota 

to jerey barrera  ta for urban design  and peter brownell  phd   reasearch
director at the center on policy initiatives  and dave  a super helpful ta 
special thanks

 

fi