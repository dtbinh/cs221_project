cs      measuring tissue contact force for continuum
robot
clifford n  bargar  riley j  shear
department of mechanical engineering
stanford university
stanford  ca      
 cbargar  rshear   stanford edu

i  i ntroduction

we
are
investigating
potential
applications of machine learning algorithms
to medical robotics  particularly involving
steerable end effectors operating within
human tissues and organs  in many
situations  it is important to know whether
or not a particular instrument is freefloating or if it is in contact with tissue 
with catheter based ablation within the
heart being one motivating example 
for some applications  including that of
ablation  it would also be very helpful to
know the magnitude of the contact force
between the tool and the tissue 
we are working with members of the
camarillo lab  stanford bioengineering 
and charm lab  stanford mechanical
engineering  to collect data and evaluate
the methods weve learned in cs   
for analysis  initial results have been a
valuable learning experience  and we are
confident that a valuable tool can be
developed with this system  results have
been very promising  indicating a highly
accurate force feedback system and a

reliable means for detecting tissue contact
without instrumentation on the surface of
the catheter itself 
ii  e xperimental s etup

fig    

experimental setup

the apparatus is composed of two main
elements  the end effector and the sample
tissue  the end effector is composed of
a prototype continuum robot manipulator
 courtesy of michael yip  with a lowpower vibrational motor providing an input
vibration 

fieach sample consists of four separate
series of varying motor speeds  for the
first series the motor is run at a duty cycle
of    out of      followed by duty cycles
of          and     
additionally  the contact force applied to
the load cell corresponding to each sample
is recorded  the contact force for the
samples duration is maintained at  mn 
   mn     mn     mn      mn  or
     mn  the  mn force also corresponds
to the non contact condition  while all nonnegative occur only when the end effector
is in contact with the load cell  a total of
    trials were completed spanning these
contact levels 

duty cycle       

   

raw acceleration values

   

   
 
   
   
   

 

   

   

   

   
   
time  seconds 
xaxis
yaxis

   

   

   
   
 

   

   

xaxis

   
xaxis

duty cycle        

   

   

   

xaxis

duty cycle        

raw acceleration values

 
   
   
   
   

   
   
time  seconds 
yaxis

   

   

 

   

   

   
xaxis

fig    

   
   
time  seconds 
yaxis

   

   

   

   

 

   

   

 

   

   

xaxis

xaxis

   
   
time  seconds 
yaxis

   

   

   

xaxis

experimental data   n contact force

tudes and their corresponding frequencies
as the features for each vibration test  of
which four  one for each vibration speed 
composed each force measurement sample 
this resulted in    total native features 
which was manageable given the computing resources available 
 

 
x   load       pwm level    

 

 

 

 

 

 

 

 

 

 

  

  

  

 
load 
     pwm level     
x   

 

 

 
x   load       pwm level    

 

  

  

  

 
load 
     pwm level     
x   

 

 

 
 

 

iii  f eature e xtraction
 

the collected time series acceleration
data was run through a matlab based
fast fourier transform  fft  to extract the
most dominant vibrational modes for each
test sample  an example data point and an
example fft are shown in figures   and   
respectively  because many of the samples
resulted in three primary frequency peaks 
it was decided to use the top three magni 

 
   

   

   

   
raw acceleration values

an analog devices adxl      axis
digital accelerometer is fixed to the same
link as the vibration generator  collecting
the acceleration data used in our analysis 
data points are collected at a rate of
    hz over the i c communication
protocol by an arduino mega       which
stores blocks of     points before sending
the data to the computer over the serial
line  this setup is shown in figure   

raw acceleration values

duty cycle       
   

 

  

fig    

  

  

 

 

  

  

  

fft showing features

iv  c lassification

an initial analysis was performed to attempt to classify each data point as either contact   n force  or non contact  any

filogisitic regression   misclassifications         testing error
  
training set  correct
testing set  misclassified
testing set  correct

  

  
sample number

nonzero force   to find the best results both
a logistic regression algorithm and a support vector machine  using liblinear
     were trained  both algorithms have
performed very well  with the full data
set split into a training set  one third  and
a testing set  two thirds   both algorithms
have achieved accuracies of     to     on
the testing set while successfully classifying the entire training set the majority of the
time  for a single random partition of the
data set the results of the svm are shown
in   and those of the logistic regression
in   

  

  

  

 

 

 

   

   

fig    

   
load  mn 

   

    

    

lr performance

svm   misclassifications         testing error
  
training set  correct
testing set  misclassified
testing set  correct

  

sample number

  

  

those of a linear fit are shown in figures  
and    respectively  it is clear from this data
that a quartic fit does a reasonably good job
of predicting the force value based on the
selected features 

  
error on h ocv for polynomial regression
 
  
 

 

 

   

fig    

   

   
load  mn 

   

    

 

    

svm performance

v  p olynomial r egression   d etermining
c ontact f orce

log of error

 

 

 

 

 

a polynomial regression was implemented to create predictions of the force
level for each data point  in order to determine the appropriate order polynomial
to use  a hold two out cross validation was
performed  this analysis  shown in figure
   indicates that a quartic fit performs best
on this data  the results of a quartic fit and

 

fig    

 

 

 
 
 
degree of polynomial model

 

 

model selection   hold two out cross validation

vi  f eature s election

the use of all    features in the experimental data set is perfectly acceptable in

fi    newtons with only    quartic features 
corresponding to only one original pwm
duty cycle fourier analysis 

quartic regression
    
predictions
relationship  slope         intercept       

    
    

predicted force  mn

    
error convergence
    

   
   

     

   
   

    

 
     

   
   

 

   

   

   
   
actual force  mn

    

    

    

     

fig    

quartic regression
 

 

  
  
  
  
number of features included  sorted in priority order 

initial results  linear regression

   

    
    

fig    

    

feature selection error convergence

predicted force  mn

    
   

vii  c onclusion and f uture w ork

   
   
   
 
predictions
relationship  slope          intercept        

   
   

 

   

   

fig    

   
   
actual force  mn

    

    

linear regression

the exploratory investigation of this project 
but the long term implementation of this
technology would require real time analysis  reducing the total number of fourier
analyses and vibration settings required before a reading could be produced would be
desirable  iterative forward search resulted
in promising results  shown in figure    
with an average discrepancy of less than

this method provides a promising
approach to non intrusive surface contact
detection and force measurement with
flexible blind catheter systems  as
demonstrated  the vibration approach
results in extremely low average error
of around      n when computing
contact force predictions with a quartic
polynomial fit  which can be adapted into
an operational system for experimental
applications  vibration motors and the
required accelerometers are relatively
bulky  but their ability to be fitted away
from the contact surface could have
a dramatic positive impact on future
development in the lab 
contact detection was also very successful 
with testing errors as low as   percent

fiwhen operating with one third of the data
set for training  both the svm and logistic
regression approaches produced similar
results 
there is certainly room for improvement  a
more in depth exploration of the data may
take into account accelerations in other
directions and other aspects of the data
not in the frequency domain  as suggested
earlier  feature selection techniques may
provide insight for streamlining future data
collection and analysis  as well 
viii  acknowledgments

this project would not have been possible without the assistance of michael yip
 camarillo lab  stanford bioe  and troy
adebar  charm lab  stanford me   we
would like to thank them for their help
in defining the problem  creating the initial setup  and providing feedback  we are
grateful as well for the guidance of prof 
ng and the teaching staff 
r eferences
    rong en fan  kai wei chang  cho jui hsieh  xiang rui
wang  and chih jen lin  liblinear  a library for large
linear classification  journal of machine learning research 
                 

fi