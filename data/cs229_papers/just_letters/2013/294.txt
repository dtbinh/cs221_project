safe path recommender  using crime
statistics
bavin ondieki and chaitanya patchava
stanford university

abstract
the purpose of this application is to use crime statistics in local areas and try to decipher that data to
monitor for patterns  this application will monitor the safety factor of a certain area by reading the
data that is pertinent to that particular area  given the past history of different locations and their
features  we used a classifier to classify if the path is safe for a safe walk or drive 

introduction
in order to make suggested path routes useful for all users  we got a hold of real world data containing
crime statistics  education levels  property value  and unemployment levels  the training data is the
labeled data containing crime statistics for the area that we are to measure the safety of  this data has
list of different features such as homicides  robberies  muggings  car theft  etc  we took into account real
estate values of the areas that correspond to those crime statistics so as to make correlational
assessments  along with the crime  we got each crime and mapped it to a specific longitude and
latitude  the training set involves data collected from a sizeable area  which effectively trains our nave
bayes classifier to be able to predict with a good degree of accuracy the safety of danger of a place  this
is a proof of concept  but we intend to extend this so that it can serve more people over a greater area
as opposed to the smaller region that was under consideration 
once we did some feature extraction and consequently ran the classifier over the data points in the
training set  we was able  with a good degree of accuracy  able to determine the how safe a path  from
origin a to destination b  is  we will ask the user to enter where they are and where they wish to go 
once they do this we will use our training data to avoid areas with high crime density and maneuver
around in such a way that the user can get to their end destination in a safe manner 
points with street crime figures above an arbitrarily chosen threshold are generally labeled as safe for a
traveller  there is an interesting correlation between the features that we selected to use for the
training and prediction  and in the event that we dont have information  features of a particular point 
the program does find the nearest points and approximate the features to be those of the region within
half a mile radius of that particular latitude and longitude 

fimotivation 
using the data that we collected  we will be able to use our training values to determine how safe a
neighborhood is with respect to the neighborhood that the current homeowners are currently in  all
they would need to do is put in their current address and their desired new home address  the
algorithm will assign a safe rating to a neighborhood based on both its crime rates and other features
with respect to the areas around it 
the application can be used to find safe paths to different things such as 


finding a good place to live in
 finding best place to set up a learning institution or driving school
 researching safe neighborhoods so you can invest in accessible neighborhoods

sample plot of crime statistics  alameda county  by latitude and longitude

figure    plotted longitude and latitude corresponding to crimes 
the data figures in the table above  as well as the figure only represent a small portion of the total
set of data that we have collected through police databases  so far we have taken pieces of the data
that are within a   mile radius of each other and grouped them onto plots like this 

fidata

primary type
criminal damage
theft
battery
criminal damage
theft
criminal damage
criminal damage
criminal damage
battery
criminal damage
public peace
violation
battery
theft
battery
assault
assault
motor vehicle
theft
criminal damage
criminal damage
theft
criminal damage
criminal damage
theft
theft

location description
restaurant
bar or tavern
residence
street
street
street
street
apartment
apartment
street
airport exterior non secure area
restaurant
sidewalk
residence
small retail
store
street
street
residence
street
street
street
residence
small retail
store
residential yard
 front back 

latitude
           
           
           
           
           
           
           
          
           
           

longitude
            
            
            
            
            
            
            
            
            
            

unemploye
d
    
    
    
    
    
    
    
    
    
    

property
value
      
      
      
     
     
     
     
      
      
     

education
 
  
  
  
  
  
  
  
  
  
  

street
crime
 
 
 
 
 
 
 
 
 
 

           
           
           
       

            
            
            
            

   
   
   
   

      
      
       
      

  
  
  
  

 
 
 
 

           
           

            
            

   
    

      
     

  
  

 
 

           
          
           
           
           
           

           
            
            
            
            
            

    
    
    
    
    
    

     
      
      
      
      
      

  
  
  
  
  
  

 
 
 
 
 
 

           

           

    

      

  

 

           

            

    

      

  

 

the model
feature extraction 
the main challenge behind this was the fact that we were unable to find lots of information regarding
the crime statistics for each point under consideration  of course  this would translate to each possible
latitude and longitude location  which does not make much sense  therefore  there was the need to
round off some latitude and longitude values so as to have information regarding locations within a
certain radius  this was accomplished by rounding off the latitude and longitude to the  rd decimal
place  which roughly translates to clustering all points within half a mile radius  and assigning those
crime statistics as being part of that cluster 

fithis would be useful later on  so that  given a particular point  we would be able to query my map for
features of a particular point  and if we dont have the features of the particular point  then we would
have the features of the points geographically close to it 
feature selection 
unemployment levels    low  medium  high 
street crime levels    low  medium  high 
property value

    low  medium  high 

education levels

   low  medium  high 

building the nave bayes classifier and prediction 
using the above features  we were able to build a nave bayes classifier that would then classify
points as being safe of being unsafe  since is practically infeasible to collect the data for each
latitude and longitude combination  an approximation is used  thus yielding better results 
first of all  the nave bayes model is built using the labeled training set  so that the user is able
to query the model  user input is an origin and destination  with the origin being the start
location and the destination being the final place in the path  the api  pygeocoder  converts
the physical address into latitude  longitude values that are manipulated to find the features for
that location  the api also ensures that the address is well formed and correct 
after that  using a python google maps api  the program sends a request so as to find a path
from point a to point b 
given the concern that the path may not be safe  we classify each of the intermediate regions
to find the relative safety of these regions  the result for each of the prediction is output
alongside the directions from the google maps api 

laplace smoothing
the classifier makes use of laplace smoothing in the event that we have no information regarding a
place  this is because  even though a place has never had any crime  it is possibly  but with minimal
chances  that the place may experience some crime at some point 

anomaly detection 
the crime statistics may vary quite a lot  for example  in the case that we have a large scale
catastrophe  then it means that even though its a single crime  the figures may indicate numerous
incidents  this case may potentially result in classification as being unsafe  whereas that location is
relatively safe  in this implementation  it is not considered as a special case as yet  since the only
pertinent features include the recent crime statistics of different regions and not the crime history 

firesults and error analysis 
   
   
   
training  

   

accuracy

   
  
 
 

 

 

 

 

 

 

 

 

  

  

  

accuracy
   
  
  
accuracy

  
  
 
 

  

   

   

   

   

   

challenges 
the main challenge was an up to date source of ready to go data for all the different zip codes 
another problem that we faced was the utilization of the google maps api  it was tough to integrate
the output of our learning algorithms into google maps like we had planned  so instead we just
were able to label safe and unsafe paths and establish something close to what we wanted with the
usage of waypoints 

conclusion and future work 
the safe path recommender system yielded results that could be applicable for many things 
hopefully  it will end up as a useful companion to safe commuting  finding safe  accessible
properties  as well as for personal uses such as scheduling which involves some travelling 

fi