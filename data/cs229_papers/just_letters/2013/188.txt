reveal hidden information in the music scores  composer attribution

cs     final report
fang chieh chou 





yi hong kuo 



and hsiang yu yang

 dated             
in this project  machine learning classication methods were applied to a music attribution challenge related to josquin de prez  a famous composer of the renaissance period with many works
misattributed to him  to solve the attribution problem  we trained classiers using two kinds of
music scores  scores veried to be composed by josquin and scores composed by other contemporary musicians  these scores were retrieved from the stanford josquin research project  features
were extracted from the scores with knowledge of music theory and techniques of text mining  the
optimized classiers accurately distinguish whether a music score is composed by josquin with a
precision of     and a recall of      an unsecure set of music works was analyzed by the optimized
classiers 

from the successful results  our feature extraction and classication scheme may nd

useful applications in more general composer attribution problems 

i  introduction

table i  the music score dataset

just like the characteristic style of books can be used
to attribute them to their author  music scores contain
rich information about their composers 

with modern

machine learning  ml  methods  it is possible to extract
hidden information from the music scores for attribution
        one interesting challenge is related to josquin des

data set
number of works
secure josquin
   
ockeghem
  
others
   
unsecure josquin
   

prez                one of the most famous composers of
the renaissance period  due to his immense reputation 
many works were misattributed to him     

among all

iii  methodology

the works attributed to josquin  only     has been veried  whereas for the rest the authenticity is still highly
disputed 

in this project  we used standard supervised

classication ml methods to address this challenge 

for a given input music score  our goal is to condently
determine whether it is composed by josquin  we used
the  secure josquin   ockeghem  and  others dataset
to train the ml classiers and estimate the error of our

ii  data
digitized music scores in the humdrum format were
obtained from the josquin research project  jrp      
some of the works are collections of a few music scores 
and we simply treated each score as an independent
work 

the scores were then labeled according to their

composers   secure josquin for veried josquin s work 
 unsecure josquin for doubtful josquin s work   ockeghem for works of johannes ockeghem  who was active

methods 

the overall process works as follows  figure

    first  we extracted features with high discriminative
power based on the idea of note transitions and counterpoints from music theory  second  the two dierent features were reduced in dimensions and combined into one
set of composite features  the performance of the classiers was evaluated using the stratied random sampling
cross validation scheme  finally the optimized classiers
were applied to the unsecure josquin dataset to determine the authenticity of those doubtful works  the details of each step outlined above are discussed below 

   years earlier than josquin  and  others for the works
of composers contemporary with josquin  the number
of works in each category is listed in table i  works with
more than one possible composers were removed from the
training set to prevent dataset contamination 
music        a python based music processing package 
is utilized to analyze the humdrum les 

a  feature extraction
   pitch duration
we rst constructed a simple pitch duration feature as
a baseline model  based on the idea of the bag of words
model in text mining  a music score can be represented
as a collection of its notes  the relations between notes 
such as the order of notes  are ignored in this represen 

 electronic

address  fcchou stanford edu

 electronic

address  stevekuo stanford edu

tation  the pitch duration feature of a music work is a

 electronic

address  yanghy stanford edu

vector whose elements are the counts of dierent types of

fi 

digitized music scores

 a 

pitch duration

pitch
n gram on note
transition

lsi

tf idf

    features

stratified
random
sampling
validation

leap 

lsi

tf idf

    features

unison

step skip 

leap 


shortened

    composite features

counterpoint
feature

step skip 

optimized
logistic and
svm models

the same

lengthened

duration
applied to the
unsecure set of works

 b 
pitch  step   g  f 
duration  shortened
 whole note  half note 

figure    the overall classication pipeline 

notes appeared in the work  each note is characterized

figure     a     classes used as elements in the n gram model 

by its pitch  which is represented by the midi number 

the changes in pitch are grouped into   categories  intervals

and its time duration  as discussed in the results section  this pitch duration feature performs poorly 

this

result necessitates the development of more sophisticated
features that capture the relationships between notes 

greater than a major third are identied as leaps  while intervals between a minor second and a major third are considered as steps skips  the changes in duration are intuitively
grouped into   categories 

the direct product of pitch and

duration classes gives    dierent transition classes   b  an
example showing how a transition class is assigned 

   n gram on note transition
to characterize the progression of notes in a single
voice  we constructed a note transition feature based
on the dierences in pitch and duration between adjacent notes  compared to the pitch duration feature described above  the note transition is advantageous as it
only uses the dierences between notes 

on the other

hand  the pitch duration feature is associated with the
absolute pitches and lengths of individual notes  which
vary dramatically across music works with dierent key
and time signatures  in other words  the note transition
can be considered as a standardization over key and time
signatures 
we further simplied the feature set by categorizing

figure    the counterpoint feature   a  the notes in the minimum set of four notes are of equal length  the counterpoint
tuple is            in this case 

 b the notes have dierent

lengths 

the changes in pitch into   classes and the changes in
duration into   classes  therefore  all the possible note
transitions can be categorized into    classes  figure    

phonic music  is not included  to capture this important

the simplication reduces the dimension of the feature

feature  we utilized the concept of counterpoint from mu 

set while maintaining the essential characteristics 

sic theory  consider a simple two voice music shown in

the note transition feature described above only cap 

figure   a   the relationship between the notes can be

tures note correlation at the nearest neighbor level  to

represented by their pitch dierences  or intervals  la 

capture the long range correlation between notes  i e   the

beled as a  b  and c in the gure  in cases where the

melody  we applied the n gram method from text min 

notes have unequal lengths  figure   b    we virtually

ing to the note transition feature  the n gram method

repeat a note to obtain the corresponding a  b  and c 

counts the number of occurrences of contiguous sequences

such scheme was applied to each pair of two voices in a

of n transitions  in our case  the n gram method leads to

score 

a feature dimension of

  n  

   and   gram were used for

our nal feature set 

the counterpoint feature is dened as the num 

bers of occurrences of all existing counterpoint tuples  a 
b  c  
there are several ways to describe an interval 

   counterpoint

for

example  the interval a in figure   a  can be represented
by   as expressed by the midi number dierence  or
major  th as the conventional name in music theory  in

while the note transition feature characterizes the hor 

the project  the diatonic number     in the example  of

izontal relationship within a voice  the vertical relation 

an interval is adopted  for the horizontal interval b  the

ship between dierent voices  which is critical for poly 

direction of progression is also taken into account 

fi 

b  feature processing

samples is positive  table i   is unbalanced and relatively
small 

   feature weighting and normalization

typically test error  or accuracy equivalently  is used to
evaluate the model  for this project  however  accuracy

we applied the term frequencyinverse document frequency  tf idf   scheme commonly used for text mining
to process our features        

under this scheme  each

term  which is an n gram or a counterpoint tuple in our
case  is re weighted according to its importance 

more

specically  the frequency of a term is adjusted to be the
product of its tf and idf  where tf is the number of occurrences of a term in the score and idf the logarithm of the
inverse ratio of the number of works containing the term
to the total number of works  to avoid division by zero 
laplace smoothing is used in the calculation of idf 

is inappropriate because of the imbalance of the dataset 
for instance  even a classier that assigns all the works as
non josquin can achieve a high accuracy of     as only
    of training data are positive  instead  we focused on
optimizing both the precision and recall of the classiers 

f 

score  which is the harmonic mean of precision and

recall  was used as the main validation statistic we aimed
to maximize 
scikit learn      a python ml package  was used to
implement all the classications  cross validations and
evaluations discussed above 

the feature vectors for each work were then normalized to have unit

l 

norms  this normalization ensures

the features of music scores with dierent lengths are

iv  results and discussion

comparable 
we rst trained the classiers using  ockeghem and

   feature reduction and combination

 others as negative samples 
recall  and

f 

the accuracy  precision 

score obtained by cross validation of each

ml algorithm feature combination are summarized in
another necessary feature processing is to reduce the

the top half of table ii  overall the svm with the

dimension of our feature sets  both the note transition

composite feature achieves the best performance  with

and counterpoint feature vectors have thousands of com 

a strong

ponents and those high dimensional feature sets lead to

duration feature performs signicantly worse than the

f 

score of     

unsurprisingly  the pitch 

f 

signicant overtting  the situation is even worse if we

composite feature  besides  the

naively combine the two features as we roughly doubles

ther improved by combining all three features together

the dimension of the feature space  here the latent se 

 result not shown   these results highlight the fact that

mantic indexing  lsi   a dimension reduction method

the most important factor in distinguishing between com 

widely used in texting mining  was applied  with lsi  we

poser styles is the relationship between notes 

reduced the numbers of components of the note transition

score cannot be fur 

it is worth noting that while using pitch duration fea 

f 

and counterpoint feature set to     and      respectively 

tures leads to low

these two reduced feature sets were then combined into

cisions and low recalls  medium level accuracy of     

one composite      component set that we used for the

is still achieved 

classication 

argument that the accuracy is not a proper statistic

scores  which indicates low pre 

this result is in agreement with our

in evaluating our models 

c  classiers and cross validations

compared with the classi 

cation scheme which simply assigns all works as nonjosquin  models with the pitch duration feature perform
only slightly better 

in this project we focused on two ml classication

we visualized the separation power of the composite

approaches  logistic regression and support vector ma 

feature by projecting the validation data onto a plane

chines  svms  

other classication methods such as

normal to the decision boundary  figure    in one of the

naive bayes performed much worse  and therefore are not

cross validation iteration  we also plotted the precision 

included in the discussion 

recall curves  figure    for both classiers  for the svm 

for cross validation  we used the stratied random
sampling method 

this method has two advantages

platt s scaling method was used to obtain the prediction
probability      both the logistic regression and the svm

first  the random

gave areas under curve of      with     being the perfect

sampling method allows arbitrary numbers of iterations 

case  we also plotted the precision and recall as functions

while the k fold method allows only k iterations  second 

of the probability threshold for classication  from the

stratied sampling guarantees that the ratios of positive

plot  the optimal threshold for the svm is roughly at     

example in the generated test set and training set are

which is the default threshold  on the other hand  the

the same as that of the whole dataset  the regular k fold

optimal threshold of logistic regression is at       this

method does not guarantee this property and therefore

plot implies that a better performance can be achieved by

leads to sampling error  this sampling method is impor 

adjusting the threshold  one application of those plots is

tant in reducing the variance of the computed validation

to adjust the classier to achieve the desired performance 

statistics as our training data  in which only     of the

for example  if high precision  say      is prefered  we

over regular k fold cross validation 

fi 

table ii  cross validation performances of the classiers 

classifier accuracy     precision     recall     f score    
    
    
    
    
pitch duration baseline  logistic
svm
    
    
    
    
logistic
    
    
    
    
composite
svm
    
    
    
    
    
    
    
    
contemporary composers logistic
svm
    
    
    
    
logistic
    
    
    
    
ockeghem
svm
    
    
    
    
 

figure    visualization of the classication power of the composite features 

table iii  prediction on the unsecure josquin dataset

model positive negative
logistic    
   
svm    
   

figure    left precision  recall and

f 

score as functions of

threshold probability  right  precision recall curves 

can set the probability threshold at      for the svm
classier to fulll that requirement 
so far we have been discussing the classiers trained
by the entire dataset  however  johannes ockeghem is
one generation earlier than josquin 

to see the eect

of composer era  we trained and tested classiers using
the secure josquin set against either only the ockeghem
set or only the contemporary composers set  the results
are summarized in the bottom half of table ii  we found
that using just the ockeghem dataset improve the perfor 

figure   

mance signicantly  while using only other contemporary

plogistic

composers does not 

indeed  our classiers does a bet 

ter job in separating works of josquin and ockeghem 
but including ockeghem into our training set does not
deteriorate the classier performance either 
finally  we applied the optimized classiers to the un 

scatter plot of

and

psv m

plogistic

against

psv m  

where

are the probabilities of being authentic de 

termined by the logistic regression and the svm  respectively 
data points in the grey region at the top right  bottom left 
corner are works highly likely  highly unlikely  to be composed by josquin 

the number of works of each region is

indicated in the gure 

fi 

more training data  such as more music works from other
composers contemporary with josquin  may be benecial 

v  conclusion
we have successfully applied ml techniques to solve
the composer attribution challenge of josquin  with feafigure    learning curves of the svm and the logistic models
with composite features

tures extracted base on music theory and text mining 
we achieved highly condent classcations as validated
by cross validation 

furthermore  the optimized classi 

ers gave consistent predictions on the unsecured set 
secure dataset to obtain the probabilities of being authentic  table iii   to investigate the consistency between the svm and the logistic regression  we plotted
the probabilities obtained from the svm against that
from the logistic regression  figure     the predictions
are highly correlated between the two classiers 

this

result supports the robustness of our ml scheme  moreover  the majority of the data points are clustered near
the top right and bottom left corners  indicating they are

our work demonstrates that a comprehensive feature
extraction scheme that captures the relationships between the notes in music scores  both horizontally as the
music ows over time and vertically between dierent
voices  is the key factor in extracting the hidden information 

while our feature extraction scheme has only

been tested in this josquin challenge  we believe that the
same scheme can be applied to more general music style
attribution applications 

either highly likely to be composed by josquin or highlyunlikely to be composed by josquin  cases in the middle

acknowledgments

 what are in a sense the  uncertain cases  only accounts
for      of the data 
while the classiers have been carefully optimized 

the authors acknowledge jesse rodin and craig sapp

they are still overtted as suggested by the learning

for proposing the project  providing the digitized music

curves  figure    

scores and useful discussions 

this result indicates that obtaining

    l  mearns  d  tidhar  and s  dixon  characterisation of

proceedings of  rd international workshop on machine learning and music  ser  mml            pp       

composer style using high level musical features  in

    m  hontanilla  c  perez sancho  and j  inesta  modeling

information processing and
management        pp         
automatic text retrieval  in

    t  joachims  text categorization with support vector ma 

machine
learning  ecml     ser  lecture notes in computer scichines  learning with many relevant features  in

musical style with language models for composer recog 

ence 

nition  in

       

pattern recognition and image analysis 

ser 

lecture notes in computer science        vol        pp 
       
josquin

research

project 

learning research  vol      pp                 

 online  

available 

http   josquin stanford edu 
    music   

a

toolkit

for

computer aided

et al   scikitjournal of machine

    f  pedregosa  g  varoquaux  a  gramfort
learn  machine learning in python 

    j  rodin  josquin and epistemology 
    the

springer berlin heidelberg        vol        pp 

    j  c  platt  probabilistic outputs for support vector machines and comparisons to regularized likelihood meth 

musicology 

 online   available  http   web mit edu music   
    g  salton and c  buckley  term weighting approaches in

ods  in

advances in large margin classiers 

      pp       

mit press 

fi