identifying over valued players in fantasy football

author  michael jermann

email  mjermann gmail com

   introduction
this paper explores the application of machine learning algorithms to national football league  nfl  statistics in order to predict
fantasy football performance  both supervised and non supervised machine learning techniques are used in an effort to identify overvalued nfl players prior to the start of the nfl season  enabling fantasy football participants to reduce their risk of drafting players
who underperform in the regular season 
    fantasy football overview
fantasy sport participation has flourished in recent years  the fantasy sports trade association estimates that over    million people
in the u s  alone participated in fantasy football in        this is a huge industry that is continually growing as fantasy sports continue
to permeate mainstream culture  for those unfamiliar  fantasy football team owners join leagues comprised of      people and
participate in a draft  selecting real life nfl players to join their fantasy football team  throughout the season  owners compete by
setting line ups of the players on their team  earning points based on the statistics these players achieve in real life nfl games that
week  an owner wins if he she scores more points than his her opponent that week  owners continually add new players and complete
trades throughout the season  making it an extremely competitive and strategic activity 
    high level approach
the quantitative nature of fantasy football and the huge amount of freely available data from outlets such as espn make it an
excellent environment to apply machine learning  existing predictive efforts are less algorithmic in nature and involve analyzing
videos and scouting reports along with past statistics in order to forecast future performance  prior to the season  hundreds of experts
create player rankings meant to reflect the expected value of nfl players at each position  enabling fantasy football team owners to
draft players more effectively  while these rankings may be accurate for most players  they are egregiously wrong for a good
proportion each year  furthermore  it these players that tend to truly impact an owners success  wasting early draft picks on players
who significantly underperform is devastating to a fantasy football team  just as picking up an eventual top performer near the end of
the draft can save a season  therefore  rather than apply machine learning to create better regression models like previous projects      i
have chosen to attempt to identify incorrectly valued players in the preseason  for the purpose of this project i focused on applying
machine learning to identify the players that are over valued in the pre season  hereby referred to as busts  
    assumptions and scope
the player positions analyzed in this project are quarterbacks  qbs   running backs  rbs   wide receivers  wrs   and tight ends
 tes   these positions were analyzed in separate training sets given that the statistics available for each varied  i operated under the
assumption that the average fantasy football league consists of    participants who each start   qb    rbs    wrs  and   te each
week  additionally  i calculated fantasy football points according to the espn standard league scoring scale   

   preliminary steps
prior to applying machine learning  it was necessary for me to obtain the necessary nfl ranking and statistics  pre process it into
formats convenient for machine learning  and apply the bust criteria to it 
    data
in order to collect the necessary data  i made use of the python web scraping library beautifulsoup   there were three primary types
of data required for this analysis 
  

preseason rankings  these are the aforementioned pre season player rankings meant to predict the expected value of
players  i obtained the espn top     player rankings  for      through      and converted them into positional rankings 
on average this consisted of    qbs     rbs     wrs  and    tes per season 

  

fantasy football statistics  these statistics are the inputs to the fantasy football point function and determined how many
points a player earned during the season  i obtained the data for      through      from the cbs sports website  

  

team and player statistics  various player and team statistics were obtained and normalized to act as the features for my
training sets  initially  only a players statistics from the year immediately prior were considered  the data was obtained from
www pro football reference com  spanning      through       this resulted in    features for qbs     features for rbs    
features for wrs  and    features for tes 

    bust criteria
in order to use a classification algorithm  it was necessary to define a bust label for each training sample  i defined criteria based on
a positions starting threshold  that is  the number of nfl players started per week in an average league     qbs     rbs    

fiwrs  and    tes   basically  if the player was drafted to be a starter but ended up performing outside of that threshold  he is
considered a bust  this is encapsulated in equation   below 
equation    bust definition 

start    post  pre  
post is the players post season integer positional ranking  pre is the players pre season integer positional ranking  and start
refers to the starting threshold which varies by position  qb      rb      wr      te      
occasionally players will be injured in the preseason and miss an entire nfl season  accruing zero fantasy points  given that these
players have achieved zero points they do not appear in the post season positional rankings but should still constitute a bust  however 
lowly ranked pre season players who do not register statistics should not be considered busts  therefore criteria was necessary for this
case as well  if post is undefined  the criteria used will be equation   below 
equation    bust definition for dnp  did not play  players 

start    ranklimit  pre  
ranklimit is the number of players ranked per position in the preseason  qb      rb      wr      te      and start and pre
are defined as in equation   

   analysis
using the criteria established in section      i chose to use a classification algorithm to identify the busts  i decided to use a support
vector machine  svm  rather than the standard logistic classification algorithm given its increased accuracy and ease of
parameter kernel adjustment  the primary goal of classification was to obtain a list of players who  if avoid in the draft  decreases a
participants chances of drafting a bust  therefore  my primary concern was achieving a high recall along with low test error 
    support vector machines
in my initial analysis  i made use of the libsvm matlab library  to perform support vector machine classification for qbs  rbs 
wrs  and tes  a linear kernel was chosen because the training set already had a large number of features  as mentioned in section
     relative to its size and high order dimensionality did not seem necessary  the training set initially consisted of the player rankings
and statistics from the      through      seasons    seasons  while the test set consisted of the player rankings and statistics from the
     season  at the time of analysis the      nfl season was        complete  so player statistics were extrapolated to reflect the
projected stats for the      season  table   below reflects the size of the training and testing sets by position along with the bust
percentages 
table    training set and testing set attributes
training set

testing set

position

size

busts

bust percentage

size

busts

bust percentage

qb
rb
wr
te

   
   
   
  

  
  
  
  

      
      
      
      

  
  
  
  

 
  
  
 

      
      
      
      

    initial results
table   displays the error achieved by the initial svm model on both the testing and training data  additionally  test precision and
recall by position is also present  the n a indicates that for rbs  the model did not predict any busts 
table    initial svm performance
position
qb
rb
wr
te

features

train error

test error

test precision

test recall

  
  
  
  

      
      
      
      

      
      
      
      

      
n a
      
      

      
     
      
      

the training and testing error was high for all four positions  however  the qb and te models achieved acceptable levels of precision
and recall  the precision and recall achieved by the wr model was acceptable as well  however  the rb model did not make any
predictions and as such was extremely poor  the qb and te training sets were much smaller than the rb and wr ones so it is
possible this played a role in their better performance 

fi    training data analysis
prior to further tuning the svm models  i chose to analyze the training data in order to investigate is relevancy to the      nfl
statistics  several recent nfl trends have fundamentally altered the strategies and statistics achieved by players  such as the      rule
change protecting wide receivers from helmet to helmet tackles   and the emergence of pass catching tight ends   and my suspicion
was that older training data may have significantly lower relevance to the current      season  figures   and   below display the
league wide rushing passing touchdowns and yards per season 
figure    rushing and passing tds by year

figure    rushing and passing yards by year
   
   
   
   
   
yards         
  
  
  
  
  
    

   
   
   

total
rushing tds
total
passing tds

count
   
   
   
   
    

    

    
    
nfl season

    

total
rushing
yards
total
passing
yards

    

    
    
nfl season

    

there was a steep increase in passing touchdowns between      and       accompanied by a corresponding decrease in rushing
touchdowns  passing yards have also steadily increased between      and      while rushing yards have remained mostly consistent 
this illustrates the increased emphasis on passing and receiving caused by offenses focus on wrs and tes at the expense of rbs 
therefore  it is likely that statistics from prior to      provide little insight into the performance of todays players  in order to test this
theory  i chose to omit the      training data and retrain the svm classification models  i kept the      data present in order to
maintain a sufficiently large training set across all positions  the results of this are contained in table   below 
table    svm performance with      data removed

     data removed
position

qb
rb
wr
te

initial svm

train
error

test
error

test precision

test
recall

train
error

test
error

test
precision

test
recall

      
      
      
      

      
      
      
      

n a
       
      
      

     
     
      
      

      
      
      
      

      
      
      
      

      
n a
      
      

      
     
      
      

rb and wr display slightly lower test and train error but significantly improved precision  recall is the most important metric for this
problem in order to ensure our predicted bust list is as comprehensive as possible  and this metric increased for these positions as
well  therefore  i chose to remove the      data from the rb and wr baseline svm models but continue to use it for the qb and te
models  which did not experience performance improvement upon removing the      season training data 
    error analysis
the learning curves  training and testing error versus training set size  for the baseline models established in     are displayed in
figures     below 
figure    tight end learning curve

figure    running back learning curve

   

   

   

   

   

   
   

   
error rate

te train error

   

te test error
   

error rate    

rb train error

   

rb test error

   

   

   
 

 
 

  
   
training set size

   

 

   

   

training set size

   

fifigure    wide receiver learning curve

figure    quarterback learning curve

   

   

   

   
   

   

   
error rate    

error rate

wr train error
wr test error

   

qb train error

   

qb test error

   

   

   
 

 
 

   
   
training set size

 

   

  

   

   

training set size

for te  rb  and wr  the training and testing error appears to have plateaued and is not significantly improving with additional
training set data  additionally  the training error is high for these positions  indicating that these models have high bias  this implies
that the current features used are not sufficient as to obtain an accurate model  rather  we need to add additional features  the qb
testing error appears to be decreasing as the training set size increases  meaning that the accuracy may improve by reducing the
number of features  since the majority of the models displayed high bias  i chose to include each players stats from two years prior as
features in the training sets  the results of which are displayed in table   
table    classification accuracies for svm on test dataset 

svm trained with expanded feature set
position

qb
rb
wr
te

baseline svm

features

train
error

test
error

test
precision

test
recall

features

train
error

test
error

test
precision

test
recall

  
  
  
  

      
      
      
      

      
      
      
      

      
      
      
      

      
     
     
      

  
  
  
  

      
      
      
      

      
      
      
      

      
       
      
      

      
     
      
      

for most models the training error decreased and testing error increased  indicating that over fitting is present  this means that we
most likely added too many features to the models  in order to determine the optimal number of training features for each model  i
implemented forward filter search  for each model i continually iterated through all features  each time adding the one that most
improved the testing error  each time a feature was added  the test error and features used were recorded in order to identify the
optimum feature set  i also implemented this separately with the goal of maximizing test recall rather than test error  both results are
displayed in table   
table    classification accuracies for svm on test dataset 

forward filter feature on test error
position

features

train
error

test
error

test
precision

forward filter feature on test recall
test
recall

number
of

train
error

test
error

test
precision

test
recall

      
      
      
      

      
      
      
      

      
      
      
      

       
      
      
      

features
qb
rb
wr
te

  
  
  
  

      
      
      
      

      
      
      
      

      
       
      
       

      
     
      
      

  
  
  
  

forward filtering features on testing error increased the precision for all models except for rb  however  recall decreased for wr and
te  forward filtering features on test recall dramatically improved model performance for qbs and rbs but increased the test error
rate of wrs and tes  along with decreasing their precision 
    cluster analysis

fiin order to gain additional insight into the data i chose to implement k mean clustering without using my pre defined bust criteria 
for each training set  i used two clusters and iterated through all combinations of two features  each time a cluster contained at least
    of the training set  i calculated the average position over value  that is  how much each of the players in that cluster were
over valued in the pre season on average  my pre conceived notion of a bust may have limited my models initially so analyzing
clusters with high positional average positional over values could provide insight into important features along with what attributes
should constitute a playera bust  table   contains a sample of the highest average over value clusters by position 
table    highest average over value clusters by position
position
qb
rb
wr
te

feature  

feature  

cluster
size

average positional
over value

high times sacked
high rushing attempts
high receptions per game
low points  team 

low passing td
high fumbles
high passing yards  team 
low rushing yards  team 

  
  
  
  

    
     
  
     

an interesting insight from the wr cluster is that a wide receiver with a high reception total on an offensive minded team appears
likely to not replicate the results the next year  additionally  a rb who receives a high volume of carries and often fumbles is at risk to
be a bust the next year as well  as displayed in table   

   conclusions
the optimal models i was able to achieve for each position are contained in table    expected bust percentage refers to the
probability that a fantasy football player using these models will draft a bust at each position 
table    optimal classification models 

optimal classification models
position

forward filter feature on test recall

features

train
error

test
error

test
precision

test
recall

size

busts

bust
percentage

expected bust
percentage

  
  
  
  

      
      
      
      

      
      
      
      

      
      
      
      

       
      
      
      

  
  
  
  

 
  
  
 

      
      
      
      

     
      
      
      

qb
rb
wr
te

these optimal classification models provided significant advantage in avoiding busts for qbs  as compared to the actual bust
percentage   they also provided slight advantages for rbs  wrs  and tes  next steps include expanding upon clustering analysis in
section     to explore alternative bust definitions and gain insight into additional impactful features  furthermore  expanding this
analysis to identify under valued as well as over valued provide additional value and consist of a similar analysis 

references
 

fantasy sports trade association  fantasy sports trade association  november           http   www fsta org industry demographics 
predicting fantasy football performance with machine learning techniques  nitin kapania   pdf 
 
predicting fantasy football results  matt bookman   pdf 
 
http   games espn go com ffl resources help content name scoring formats
 
beautiful soup python web scraping library  http   www crummy com software beautifulsoup  
 
espn           top     rankings  http   sports espn go com fantasy football ffl story page nfl k dktop    
 
cbs fantasy football statistics  http   fantasynews cbssports com fantasyfootball stats 
 

 

pro football reference com  http   www pro football reference com  
chih chung chang and chih jen lin  libsvm   a library for support vector machines  acm transactions on intelligent systems and technology 
                    software available at http   www csie ntu edu tw  sjlin libsvm

 

  

http   www nfl com news story      d d     bdf article new nfl rules designed to limit head injuries

fi