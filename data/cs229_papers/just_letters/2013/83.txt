inheritance relationships in vernacular hip hop music
tim obrien

spencer salazar

center for computer research in music and acoustics  ccrma  
stanford university
december         

introduction
all forms of music employ extensive borrowing and reappropriation of popular themes  tropes  and styles 
these individual actions form of a complex network of genealogical interrelationships between individual
songs  artists  and subgenres  these effects are especially inherent in hip hop music  in which sampling and
borrowing are foundational elements of the musical culture itself      our work attempts to analyze these
inheritance relationships quantitatively using a machine learning approach  guided by previous efforts to this
end       to date  we have focused on uncovering similarity via audio content analysis  as the pairing of a
similarity metric and release dates between two songs  for example  allow us to transform the scalar similarity
value into a directional influence vector 

data set
our final data set contained roughly     songs manually segmented into four hip hop subgenres  east coast 
west coast  southern  and hyphy  the selection of tracks and artists was chosen so as to be manageable yet
representative of the four constituent genres  the genres chosen contain both the foundational and pervasive
 most exemplified by east coast and west coast  as well as the more regional  most exemplified by hyphy  a
san francisco bay area hip hop movement   each song was also manually tagged with artist information 

metadata and ground truth
while there is no absolute  objective ground truth for musical influence  we used the allmusic com rovi
influencers tags   freely available for non commercial use via the rovi api    as our ground truth
benchmark  this data lists artists deemed by experts to have influenced the artist in question  and contain
a confidence importance weighting in the form of an integer in the range of       we used a python script to
compile the influences and associated weightings of each artist in our data set via the aforementioned api 
we then constructed an influence table for each artist in our data set  for comparison to results from our
computational analysis of artist influence 

ml algorithm
we build upon previous machine learning applications  collins        employed k means clustering on relevant
feature vectors as well as relevant date data as input into a predictive  ppm  algorithm to derive an
approximation to influence relations  we start out more simply with an svm for multi class classification 
using libsvm      with a radial kernel  and the nu svc type of svm  the multi class classification is
 tsob ccrma stanford edu
 spencer ccrma stanford edu
  http   prod doc rovicorp com mashery index php data name api v    name influencers
  http   developer rovicorp com docs

 

fiinheritance relationships in vernacular hip hop music
accomplished by training k k       svms  where k is the number of classes in the system  in our case
k      so the algorithm trains   svms  each svm trains on two of the classes  fig    shows the decision
values for each of the   svms  one can easily see that the first svm  shown as the dark blue bars in the
chart  trains east coast vs  west coast data  the second  shown in lighter blue  trains east coast vs 
hyphy  and so on  of interest are the values of the decision boundaries for the genres on which each svm
was not trained  for example  the yellow bar in fig    shows the decision boundary for east coast data in
the west coast vs hyphy svm leans toward west coast 

decision values of the k k       binaryclass svms
 
   
   

decision values

   
   
 
   
   
   
   
 

east coast

west coast
hyphy
genre classification

southern

figure    svm decision values using nu svc and a radial kernel
further exploration suggested the need for our own multi class svm classifier  using libsvm as a simple
two class classifier  in this way  we constructed a single model for each genre  using that genres training
examples as positive examples and the rest of the training examples as negative examples  the goal in this
modeling is to capture the distinguishing features of a given genre  compared to its peers  in a single model 
and be able to simply ascertain how well any given input song fits that model  thus  rather than generating
a label  we wish to see the specific probabilities associated with classifying a test example under a given
model  fig    shows the results of this strategy  similar to the previous algorithm  each color represents a
model trained on a specific arrangement of the data set  each model uses the same data set but with different
labelings  effectively  each model is asking  is this genre x or is this something else  with each model  we
classify every training example under it  and note the probability of that training example being a member of
the modeled genre  fig    shows the mean probability of a training example being classified by a given
genre model  grouped by genre 

page   of  

fiinheritance relationships in vernacular hip hop music

here we can see additional nuances revealed by our analysis  hyphy appears to have be the most distinctive
genre under this algorithm  in that its examples have a much higher probability of being hyphy than
anything else  but also have the lowest probability of self classification  suggesting high levels of internal
variation  in contrast  west coast and southern genres seem to be the least distinctive compared to the
general training set  as the probability of these genres under each genre model are similar 

figure    genre probabilities using c svc and radial kernel
we also conducted a machine analysis comparing the oeuvres of individual artists  for this we selected  
generally influential artists spanning each genre  comparing musical influence at the level of the artist allows
us to more readily verify our approach with empirical influence data  our ground truths discussed above  we
utilized the exact same algorithm as with our genre analysis 
figure   shows the result of this study  note all probabilities are adjusted to log scale   perhaps most
validating of our model is the influence of dr  dre suggested by our results  dr  dre is widely regarded as
one of the most influential producers and artists in the hip hop genre  an influence accorded by both popular
consensus and our ground truth data  other notable results are the influence e    to mac dre  a
relationship between these two is expected  as both are considered primary exemplars of the hyphy hip hop
genre  however  mac dres primary hyphy works were released before e    became well known as a hyphy
artist  so one would instead expect an influence from mac dre to e    rather than vice versa as our results
suggest  this suggests an admitted flaw in our algorithm  that the direction of influence is not adequately
accounted for  though with chronological data  we can potentially correct the directionality of such

page   of  

fiinheritance relationships in vernacular hip hop music
misdirected influences 

figure    artist probabilities using c svc and linear kernel

svm parameterization
how our analysis goals influenced usage and parameterization of the various svm algorithms is worth further
explanation  in particular  our goals are different from the typical design goals of an svm  rather than
perfectly separate two classes of input data  we wish to further examine the situations in which the svm
fails  or the extent to which it comes close to misidentifying an input datum  effectively  our results are the
probability of misidentification  therefore  we leaned towards svm parameters which would increase the
dynamic range of classification probabilities  we found that  in general  a radial kernel positively classified
test examples within of the model genre with near perfection  and likewise for non model genre test
examples  such precision was suboptimal for the information we were looking to find  ultimately we arrived
at using c svc  i e  the regularized svm presented in lecture  with a linear kernel and a high c value 
which appeared to maximize testing error of non model genre testing error  in this way we extracted as much
information as possible from a potential classification while still maintaining low error in classifying examples
from the model genre 

page   of  

fiinheritance relationships in vernacular hip hop music

feature selection and extraction for audio content analysis
we plan to structure our features similar to collins  by dividing features into three groups focusing on
timbral  rhythmic  and harmonic audio features  respectively  we can draw more specific conclusions of
similarity and influence based on these classes of features and identify the salient musical characteristics of
particular sub genres of hip hop music 
preliminary features were extracted in matlab using the mir toolbox      the initial choice of features was
very minimal and not yet differentiated based on musical dimension as mentioned above  our initial features 
for each song  consist of 
 spectral centroid mean and variance
 spectral roughness mean and variance
 spectral flux mean and variance
 spectral rolloff mean and variance
 mel frequency cepstral coefficients  mfccs  mean and variance
spectral centroid is simply the mean of frequency energy in a given audio segment  spectral roughness is an
approximate measure of harmonic dissonance within an audio signal  flux is a measure of difference between
the frequency content of successive frames of audio  rolloff indicates the frequency where     of the spectral
energy is at frequencies less than that frequency  mfccs are the discrete cosine transform of the mel scale
log magnitude spectrum  the mel scale is a logarithmic frequency scale which corresponds better to human
perception of frequency than the standard linear frequency scale  the mfcc is a vector quantity  typically
only the first    values of this vector are used  as most of the information in this feature is contained in these
values  intuitively  mfccs are a compact representation for the perceptually relevant periodicities present in
an audio signal  corresponding in a general sense to many timbral qualities  for each song  each audio feature
was calculated across successive    millisecond frames  the audio feature was then averaged across all frames
in the song to produce a single mean and variance for any given song  which across the space of audio
features comprise the input features for our learning algorithms 
initially we wished to use temporal features  particularly tempo beats per minute  in addition to the
features described above  however  using mirtoolbox  producing these features across our entire dataset was
significantly time consuming  approximately    hours per genre   this is not prohibitively expensive for a
one time batch feature extraction  however  in the context of an iterative algorithm development where we
may need to calculate and re calculate features a number of times  such a lengthy turnaround time becomes
disadvantageous  therefore temporal features were not used in this analyses 

references
    n  j  bryan and g  wang  musical influence network analysis and rank of sample based music   in
ismir  pp               
    n  collins  influence in early electronic dance music  an audio content analysis investigation   in
ismir  pp           
    n  collins  computational analysis of musical influence  a musicological case study using mir
tools   in ismir  pp               
    o  lartillot and p  toiviainen  a matlab toolbox for musical feature extraction from audio  in
international conference on digital audio effects  pp               

page   of  

fi