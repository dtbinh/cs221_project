maximizing return on direct marketing campaigns
in commercial banking
cs     project  final report
oleksandra onosova

introduction
recent innovations in cloud computing and unified communications have made a technologically advanced call
center a more viable option for marketing campaigns than ever  a well executed direct advertising campaign can
provide a positive return on investment by motivating customers to respond to a call to action  one of the
preparatory stages ensuring a high return on investment consists of carefully querying a marketing database to
generate a target list of respondents 
in this paper  a number of machine learning techniques were used to optimize the target list of consumers of a
campaign  the data for the analysis  s  moro r  l         was provided by a portuguese banking institution seeking
to sell the subscription to a bank deposit through direct calls  a prior research paper  s  moro r  l         describes
the analysis performed utilizing the same data  svm methodology was used and call duration was recognized as the
most relevant feature for classification 
to enhance the findings of the prior paper  call duration was excluded from the feature list and the objective was
reformulated  the new goal was to select a target audience for the campaign by using machine learning techniques
prior to making calls in order to maximize the net profit 

data preparation
the original data consist of    mixed  categorical and numeric  features with no missing values  they fall into
three main groups 
 the demographical information  age  education  job  marital status 
 information related to banking balance  prior defaults  loans 
 data about the current and prior campaigns  date of the call  days passed since last contact  outcome of the
prior campaign for that client  etc  
as a part of data analysis  first  additional features were added 
 the year feature  data description characterized it as being organized by date in an ascending order 
 day of the week
next  the data were scrubbed  for example  the value of the variable pdays  reflecting how many days before the
current call  the customers had been contacted contained the value of    signifying that the customer was never
contacted before  it was substituted by a value slightly higher than the maximum value of that feature 
as the next step  the data were binned separately for various classification approaches  binning was performed
according to the distribution of the variables  for the variables that were almost uniformly distributed  age 
pdays   an equally spaced binning was used  with the exception of the tail values that were binned together  for
the approximately logarithmically distributed variables balance  campaign   where the latter signifies the number
of contacts performed during this campaign and for this client   the log transformation was applied and then the
 

finormal distribution was used for binning  the categorical variables were coded with levels for nave bayes
classifier and as matrices of  s and  s for svm and regression classifiers 
finally  the data were split into     for training and     for testing purposes  the training dataset was further
analyzed using   fold validation and the final results  presented below  were generated on the testing set 

methods
the following machine learning approaches for performing binary classification were attempted  nave bayes 
logistic and probit regression  and svm  the algorithms split a set of potential customers into two classes  the
ones to call  i e  those that have a sufficiently high probability of subscription  and those not to call  i e  those that
are unlikely to make a purchase   the net profit was the metric used in optimizing classifier performance and was
formulated as follows 
    fffi fi             fffi fi        
where 
n  number of customers in the list
customers belonging to       class  customers that were evaluated as likely  unlikely  to make a purchase
r  expected revenue from a successful call 
c   cost of a successful call 
c   cost of a failed call  where on average  c    c  due to shorter call duration 

an important additional task was adjusting the selected machine learning approaches to account for the
asymmetry of the misclassification cost  i e  taking into the account the ratio of the cost of a false positive and the
cost of a false negative  due to the disproportionately low cost of direct marketing calls in comparison with the
high expected revenue in case of the successful outcome of the call  false positives were considerably cheaper
than false negatives  consequently  two techniques     thresholding  h  drucker        and    enhancing the svm
objective function to incorporate two cost parameters and then tuning all the parameters  cf  osuna  freund   
girosi        were attempted to implement the asymmetric cost adjustment 
thresholding consisted of finding an optimal threshold probability of  successful call  it helped identify the
maximum probability of  successful sell that would make the call worthwhile  a range of thresholds from    to
     was generated and the profit metric was calculated for each threshold in the range  the procedure was
repeated for the three subsets of the training data as   fold cross validation was used  the results were then
applied to the testing set to estimate the resulting profit  the following thresholding approaches were used for
various classifiers 
 for nave bayes  probit regression and logistic regression the optimal threshold was calculated as
follows 
 

  argmax     
where       
cvi   cross validation set i out of   sets

 

   

for performing nave bayes and logistic probit regression  the matlab inbuilt functions were utilized 
 for svm  the optimal threshold was tuned along with the rest of the parameters for linear svm and svm
with rbf kernel 
 

         argmax     
      

 linear 

 

   

fi 

            argmax     
         

 gaussian kernel  where w  is a weight coefficient on cost of the   class 

   

roc

thresholding effect
       

    

 profit

tpr

   
   
svm rbf

   

svm linear

       
svm rbf
svm linear

       

probit regression

probit regression

   

nave bayes

  
  

  

    

fpr

nave bayes

  

   
   
   
   
  customers to be called

fig   

    

fig   

the roc curve was generated on the test set by varying the threshold parameter and estimating the true positive
rate and the false positive rate at each threshold level  the results showed that svm rbf was clearly superior
with respect of nave bayes classifier  and most likely better that the other approaches used  the results on figure
  were generated by the same procedure of varying threshold level and on the same data as the roc curves  but
additionally  the profit and   customers to call metrics were estimated  the plots are intuitive in showing that  as
the probability grows from    to about      and  correspondingly  a higher percent of respondents is called  the
net profit is rising  a slightly higher cost of the campaign is still lower than the marginal increase in the revenue 
after the saturation point is reached          probability threshold for various classifiers   the marginal cost of
additional calls become higher than the expected revenue  as the probability of achieving a successful sell is lower 
only probit regression result with is shown on the figure due to very similar results for logit and probit 
since the goal was to maximize the profit by varying the threshold  the ultimate metric for the classification was 
  maxff    ff        fifi          ff          
where  t  threshold  p s   predicted probability of successful call

the second technique for adjusting the classifiers to account for the asymmetric cost function was enhancing the
svm objective function and tuning the parameters in the svm algorithm  the svm linear objective function with
two cost parameters was formulated as follows 
 
min          b       b
       

s t   h            
 h    k  m xb  b  i        n

cd   

ef  g 

where c is the cost for the   cases  corresponding to y  
cw  is the cost for the   cases  corresponding to y   

with the above objective function  the svm parameters were tuned using a grid search and maximizing the
targeted profit  the algorithm is implemented with the inbuilt features of libsvm  chih chung chang  

 

fifor rbf kernel svm  the optimal parameters were
found in two steps  first  by searching for optimal c and
w   while keeping  default value for libsvm   it was
found that w     is the optimal value for all values of c
considered  c varied from     to    and w  from    to
     as shown on figure    the value w     was chosen
for the second grid search step as the optimal cv  crossvalidation  profit was found by varying c and   c
varied from     to    and    from     to      the optimal
parameters for rbf svm model were found to be the
following  c               and w     

grid search max profit  linear svm w    c
 

x   
   
   

cv profit

in case of linear svm  the optimal parameters c and w 
were found with a grid search on ranges     to    and    
to    respectively  the resulting maximum profit as a
function of c and w  is shown on figure    it is easily
noticeable that for different values of cost c  the
maximum is achieved near w     more localized grid
search resulted in c      and w     as parameters
maximizing cross validation profit for linear svm 

 
   
   
 
  
 

 

  

  
  

  

w 

c

fig   

grid search for max profit rbf svm

 

x   
   

cv profit

grid search max cv profit over c  w 
 

x   
   

   

 

cv profit

   

  

  

   
 

  

  

 

  
 

 

  

   

  
  

  

 

  



c

   
 
  

 

  
 

  

  
  

w 

fig   

 

  

  

  

c

fig   

quantification of the cost matrix
the average cost of   minute of a marketing call  performed by a call center is approximately     the average call
duration for a successful call is    minutes  whereas the call duration for a failed marketing call is   minutes    
reasons the call center is far from dead          the costs used for the analysis were respectively c        and
c        lifetime value for an average customer relationship in retail banking is       milman         the value of
the customer subscribing to the deposit account was assumed to be      comprising approximately     of the
total value of a customer relationship  thus  the net profit of a customer subscription is                   
the combined net profit matrix becomes 

call is not made
call is made
 

unsuccessful call
 
   

successful call
 
   

firesults and conclusion
svm was found to produce the best
optimization in terms of the profit
margin  in particular  svm with the
gaussian kernel and the parameters
tuned in the grid search illustrated
above was found to be the champion
classifier among the attempted ones 

total profit on test set vs
treshold oracle model view
svm rbf
svm linear
probit regression
nave bayes

the chart on the right  blue bars 
base case
shows the profit on the test set 
generated by applying the models
       
       
       
       
       
       
with
thresholds
 and
other
test profit
diff from oracle view
parameters in the case of svm  found
to maximize cv profit on the training
set  the base case used for comparison shows the profit generated by calling      of the customers on the test
set list  the red bars show the threshold oracle view estimated by using the optimal threshold with respect to
the test set  the optimal threshold was found by grid search  with the goal of maximizing the test set profit  the
minimal difference between the test profit and the threshold oracle view demonstrates robustness of threshold
estimation on the training set 
in conclusion  using svm with gaussian kernel resulted in a     increase in marketing profit of the campaign  in
the given dataset  the number of successful sells was uncharacteristically high  about a tenth of the calls  in the
more typical marketing campaigns  the successful sells comprise an even smaller percentage of calls  leading to
higher costs  in that case  the asymmetry of the cost function would be even more pronounced and thus the benefit
of the analysis would be even higher  in addition to maximizing profit  other goals such as minimizing customer
frustration could be achieved by trimming the target customer list 
future direction for quantifying the effect of the campaign would be measuring the negative impact of unsuccessful
marketing calls and assigning a negative cost to them to further diminish the number of calls to the customers 
that would effectively change the cost function and leave the underlying problem unchanged  in addition  a more
thorough grid search of svm parameters could be attempted  with all rbf parameters being varied along all the
dimensions at the same time  if time permits  finally  other classification techniques that are known to effectively
address the asymmetric cost function could be attempted  such as ada boost algorithm 

references
   reasons the call center is far from dead          april      retrieved november           from mashable  http   mashable com            call centerdeath exaggerated
chih chung chang  c  j  l   n d     libsvm    a library for support vector machines   retrieved from http   www csie ntu edu tw  cjlin libsvm 
h  drucker  d  w           support vector machines for spam classification    p          ieee 
milman  s           bank and credit union business strategy and customer life time value   retrieved november           from optirate 
http   bankblog optirate com bank and credit union business strategy and customer life time value   umbsuohstwh
s  moro  r  l         october   bank marketing data set  retrieved november           from uc irvine machine learning repository 
http   archive ics uci edu ml datasets bank marketing
s  moro  r  l          using data mining for bank direct marketing  an application of the crisp dm methodology  proceedings of the european simulation and
modelling conference   esm       pp  pp            guimares  portugal  eurosis 

 

fi