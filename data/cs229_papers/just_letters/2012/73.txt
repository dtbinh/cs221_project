earthquakewaveformrecognition
oliviagrubertandbridgetvuong
departmentofcomputerscience stanforduniversity

abstract
when  people think  of applying  machine learning  to  earthquake data  mostseek to solve
the longelusive problem of predicting  when  and  where an  earthquake will happen  and
what magnitude itwillbe sinceearthquakesexhibitpatternsthatoccuroverhundredsor
even  thousands of years  however  there is just not enough  data yetto achievethisgoal 
instead  of trying  to  predict the next earthquake  this paperaimsatamorepracticalgoal 
to  recognize earthquakes in  realtime seismic signals  which  could  be useful in  early
warning  systems such  as stanfords quake catcher network   qcn   by  applying
algorithms such  as svm to  data collected by qcnsensors wedistinguish seismicsignals
causedbyanearthquakefromsignalscausedbynoise 

 

introduction

stanfords quake catcher network  is a network ofinexpensivesensorsthatareconnected to laptops
and  desktops in  volunteer homes throughout the world  the purposeofthenetwork isto detectand
locate earthquakes as early  as possible and  to  determine when  and  howbadly thesurrounding areas
will be affected  currently  the sensors are triggered  to  send  data to  qcn servers using  a simple
threshold  on  theinstantaneoussignalto longtermaveragesignalratio earthquakesignals however 
have a distinct shape based  on  the arrivals of the primary wave secondary wave and surfacewave
that is not captured  by  a simple threshold  this metric is also  susceptible to othergroundshaking
events  such asdropping thelaptop heavy footfall oreven setting down acup ofcoffeeon thetable
near the sensor  because of the existence of these false positives  the triggered  signals have to  be
manually  verified  to  be an  earthquake by  a seismologist  the ability  to  confidently  detect an
earthquakeautomaticallywouldbeusefultothequakecatchernetwork 
figure mapofqcnsensorlocations blue andearthquakedistributionsfromusgs red     

 

data

all qcn sensors report acceleration  measured  in  the x  y  and  z directions  the data stored on qcn
servers come in  two  varieties  triggered  and  continuous  triggered  data is collected  only  when  a

fisensor detects a signal that exceeds a threshold  while continuous data is collected  unconditionally
every  ten  minutes wecollected datafrom   days seeappendix a on which averified earthquake
occurred  earthquake data was collected  from triggered  data  and  noise data was taken  from
continuous data sets on  those same days  wefiltered ourdatato only acceptexampleswith asample
rate of     samples second  then  truncated  each  training  example to have      pointsperx y and z
axis  we converted  our data from seismic analysis code to  text file so  that our samples could  be
read  by  libsvm as a sparse matrix  with  each  row corresponding  to  a training  example and  each
column  corresponding  to  a feature  in  all weselected       totalexamplesto feed into ourlearning
algorithms  with  roughly      withheld  for use as test data  approximately       of the data
represented  verified  earthquake events  while the rest of the samples were continuous noise
measurements 

 

svmalgorithm

we used aregularized svmalgorithmin orderto train amodelforearthquakewaveformprediction 
the following  optimization  over data points x i  and  labels y   f      gfor parameters    b   i
definesourmodel      

min    b  
s  t 

 
jjwjj 
 

  c

m
p

i  

i

y i   w t  x i      b      i
i   
i           m

t
 
we also tuned severalkernelsin testing defined as k  xi   xj      xi    x jtheir
descriptionsand
relevantparametersaregiveninthefollowingsections 

   

linearkernel

k  xi   xj     xti xj

   

polynomialkernel

k  xi   xj      xti xj   r  d
f or     

   

rbfkernel

k  xi   xj     e jjxi xj jj
f or     

   

sigmoidkernel

k  xi   xj     tanh xti xj   r  

 

 

seeourresultssectionfortheeffectofusingeachofthesekernelsinourpredictivemodels 

 

methods

   
rawdata
our first method  for learning  to  recognize earthquake waveforms was to  simply  run  the raw data
collected  from qcn sensors through  the svm algorithm with  default parameters  each  feature
vectorisaconcatenationof     pointsoneachofthe axestogiveafullfeaturesizeof       

fifigure plotofrawnoisedata 

figure plotofrawearthquakedata 

   
scaleddata
we realized  that we were interested  only  in learning theshapeofearthquakewaveformsand did not
want svm to  be sensitive to  the specific amplitudes of the waveforms  which  could  vary  based  on
distance from the earthquake epicenter or even  slight differences in  each  of the sensors  we
separately  normalize thedatain each axisto theinterval     by subtracting themean ofthepoints
foreachaxisanddividingbythemaximumdeviationfromthemean 

x   

 x   
maxx x  x 

scaling  our data still results in  a feature vector of size         with         scaled  points for each  of
the axes again weranthescaleddatathroughsvmwithdefaultparameters 
figure plotofscalednoisedata 

figure plotofscaledearthquakedata

   
fouriertransformeddata
since we are dealing  with  waves  we thought that our data could  be better represented  in  the
frequency  domain  rather than  using  the raw or scaled  data  we separately  transformed  the data in
each  axis from the time domain  to  the frequency  domain  using  the onedimensional fourier
transform 

xk  

n 
p

n  

k

xn  ei  n n

fithe fouriertransformtakesin  n realnumbersand returns n      complex numbers themagnitude
of these complex  numbers became our new features  the resulting  feature vector has      features
for each  of the    axes for a total of        features  the smaller feature set size turned  outto bean
addedbonussincethesvmdidnottakeaslongtorun 
we applied  the fourier transform on  both  raw and  scaled  data  for fouriertransformed  and  scaled
data  we additionally  scaled  the magnitude returned  by  the fourier transform by  dividing  by  the
maximum 
figure plotofscaled fftnoisedata 

 

figure plotofscaled fftearthquakedata 

results

the resultsofourexperimentsaresummarized in figure  below running svmwith alinearkernel
on  data that was both  fouriertransformed  and scaled performed thebestwith atraining accuracy of
        and  a test accuracy  of          varying  parameter c on ourtopperforming casedid not
yieldbetterresults 
figure accuracyofsvmwithdefaultparameters c           numfeatures  r    
usingdifferentkernelsandondifferentdatasets 
svmkernel

rawdata

scaleddata

 dfourier
transformed
data

 dfourier
transformed
data scaled

linear

train        
test       

train
 
        
test        

train        
test        

train        
test        

 rddegree
polynomial

train        
test       

train        
test        

train        
test        

train        
test        

rbf

train        
test       

train        
test        

train
 
        
test        

train        
test        

sigmoid

train        
test        

train        
test        

train        
test        

train        
test        

fi 

conclusionsandfuturework

there are still many  alternate methods that we could  try  given  more time  instead  of using  a
onedimensional fourier transform separately  on  each  oftheaxes wecould useathreedimensional
fourier transform on  the x  y  and  zcomponentsoftheacceleration sinceearthquakesareprimarily
composed  of a primary  wave  a secondary  wave  and  a surface wave  we could  also  use
independent component analysis to  separate the three wave sources recorded  on  the three axes of
accelerationanddefinefeaturesofthesvmbasedontheseparatedwaves 
we are satisfied  with  the resultsofourexperimentsoveralland hopethatitcan beused asastepping
stone for developing  more sophisticated  earthquake detection  methods that can  be used  by  the
quake catcher network  one such  extension  to  this project would  be to  recognize an  earthquake
waveformgivenrealtimedatausinghiddenmarkovmodels 

 

acknowledgements

we would  like to  thank  associate professor andrew ng  for teaching  us all that we know about
machine learning  we would  also  like to  thank assistantprofessorjesselawrenceatthedepartment
of geophysics and  project leader of the quake catcher network  for his guidance in  getting  this
project started  forproviding uswith accessto qcndata and forhelping usunderstand thebasicsof
earthquakes as well as some of the technical challenges that face qcn wealso thank andrewmaas
foransweringourquestionsonthemachinelearningaspectsofourproject 

 

references
   chang  c c  and  lin  c j   libsvm  a library  for support vector machines  acm
transactionsonintelligentsystemsandtechnology               
   cochran  e   lawrence j   christensen  c   chung  a  a novel strongmotion  seismic network
for community  participation  in  earthquake monitoring  ieee instrumentation  and
measurement               
   frigo  m  and  johnson  s  the design  and  implementation  of fftw   ieee            
     
   hsu  c w   chang  c c   and  lin  c j  a practical guide to  support vector classification 
tech rep  departmentofcomputerscience nationaltaiwanuniversity 
   ng a lecturenotes supportvectormachines november     
   thequakecatchernetwork dataretrievednovember    fromqcndatabase 

 

appendixa

datesfromwhichdatawascollected
oct       
oct       
oct       
oct       
oct       
sep       
sep       

sep       
sep       
aug       
jul       
jul       
jun       
jun       

may       
may       
may       
may       
mar       
mar       
jan       

jan       
jan       
jan       
jan       
jan       
jan       
dec       

dec       
dec       
oct       
oct       
sep       
sep       
sep       

jul       
jun       
jun       
jun       
jun       
jun       
jun       

fi