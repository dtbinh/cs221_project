can song lyrics predict genre 

danny diekroeger
stanford university
danny  stanford edu

   motivation and goal
music has long been a way for people to express their emotions  and because we
all have a wide variety of emotions  music comes in all types of styles  my personal
itunes library includes plenty of these different styles  ranging from bob marleys
peaceful melodies to the smooth rap songs of kanye west  to beethovens timeless
symphony number    for my project  i was originally interested in developing a method
to automatically classify music tracks into their different styles  this task  which has yet
to be perfected  has direct real world applicability  in a world where music is so readily
accessible through the internet  the ability to automatically classify music based solely on
its content is becoming quite desirable  automatic classification is particularly applicable
to the task of suggesting songs for users  a task handled by programs such as pandora
radio and apples itunes genius  but even both of these programs have not
implemented a way to classify songs solely on content  pandora determines music styles
by having experts manually place tags on songs  while the itunes genius compiles data
based on the contents of a users entire library  neither of these methods automatically
classifies a song based on just the song itself  and that is exactly what i have tried to do 
in the attempt to classify a songs style simply by its content  where does one
start  the first step is to explore the smaller parts that make up the song  a song has two
main components  instruments and vocals  and within each of these components are
many different variations to consider  different instruments produce different sounds  and
almost all instruments play many different combinations of notes and harmonies 
similarly vocals may vary in pitch  gender of singer  and lyrics  and on top of all this  a
song may be fast or slow  and it may fall into certain patterns of chorus and verse  and it
is all of these factors weaved together in an artistic manner that gives a song its own
unique style 
in pursuit of my goal to classify music tracks  my initial plan was to represent as
many of these factors as i could  i figured i would go straight to the contents of the audio
file itself and conduct hardcore analysis using advanced mathematical methods such as

fifourier transforms to extract the information for my features  but after some effort  i
found this process of audio analysis to be significantly beyond my current technical skill
level  and i decided that pursuing this fully would simply take too much time for a single
quarter long project  disappointed but not deterred  i instead decided to settle for
something a little more manageable  i decided to see if a songs genre could be predicted
solely by its lyrics 
   data
the first step in my project was to gather all the necessary data  this turned out
be a challenging task  and a great learning process  the teaching staff thankfully pointed
me towards the million song dataset  msd   a freely available collection of audio
features and metadata for a million contemporary songs  in addition to the data they
provide  msd also links to other sibling datasets that contain more information  the first
sibling dataset  from a site called musixmatch  conveniently provides access to the lyrics
for over         of the msd tracks  the second dataset was from a site called last fm  it
provides song tags for over         of the msd tracks  since my goal was to use lyrics
to predict genre  i needed to combine the lyrical data from musixmatch with the tags
from last fm to compile my desired dataset 
one obstacle i faced was to extract genres from the last fm tags  each track in
this dataset is paired with several tags  which have been given over time by listeners on
their site  the problem is that these tags were created by listeners  so they are not exactly
equivalent to the genres that i wished to study  some tags did refer to exact genres  such
as rock  pop  and alternative  but other tags were much more obscure  such as
subdued electronica and kinda sad  however upon further investigation  i found that
the top five most popular tags were indeed relevant musical genres  specifically they
were rock  pop  alternative  indie  and electronic  so i decided to extract only the tracks
that had been tagged with one of these five genres and ignore the rest  this left me with
        tracks  each of which was labeled as one of the five genres 
at this point i had two datasets  one that paired a song with its lyrics  and one
that paired a song with one of five genres  the next challenge was to combine these
datasets  or rather  find and extract the tracks that appeared in both 

musixmatch
database of
lyrics

the songs i used

last fm
database of
song tags

ficonveniently  the track ids for each of these datasets exactly corresponded to a
track id from the million song dataset  so i was able find which tracks appeared in both
datasets  luckily i was enrolled in introduction to databases this quarter  so i had just
recently learned the skills to perform the necessary data management through several
sqlite queries  this was a challenge and a great learning process  and after some long
hours  i successfully was able to compile the desired data of         tracks into text files
that were ready for analysis 
   analysis and results
the analysis i conducted was very similar to the spam classifier that we
implemented in the second problem set  because the data was so similar  for the spam
classifier  our features consisted of emails paired with a dictionary containing the word
counts for each word in the email  in my data  each song was paired with a dictionary of
lyrics with the exact same format  thus it seemed very natural  and of course convenient 
to use the same techniques 
the first step was to run a nave bayes classifier on a subset of the data  i
randomly selected       of the tracks to be used as training data  and selected another
    randomly for test data  the biggest change i made from the spam classifier was that i
was classifying into one of five genres  rather than classifying into just two labels  spam
vs  not spam   this required some extra coding 
the nave bayes classifier did not perform as well as i had hoped  for the data
specified  i achieved a success rate of        this is only slightly better than random  for
classifying into five genres  random classification should yield a success rate of       
nave bayes classification accuracy
     
     
     
     
     
    
    
random  classi ication  

nave  bayes  

ficontinuing to follow the structure of the spam classifier  the second step in my
analysis was to try using support vector machines on the same dataset  this time  i
decided to simplify the problem and look at only two genres at a time  this was easier to
actually implement because i was able to use the liblinear library  as a result  i could
easily run multiple trials  i ran a total of ten trials  one for each pair of the five genres  my
results  however  were again not very promising  all trials had accuracy rates close to
     and none were significantly better than random classification 
support vector machine classification accuracy
     
     
     
     
     
     
    

   conclusion
my results may have been disappointing  but that doesnt mean they arent
informative  while i had hoped my analysis would enable me to accurately predict
genres  it instead shows that one cannot predict genre from lyrics alone  let us examine
what i have actually studied  my analysis  similar to spam classification  looked
specifically at the word counts within a songs lyrics  i did not analyze any information
regarding ordering or patterns in words  and i certainly did not analyze any other musical
factors of the songs  such as instruments  pitch  etc  so what have i found  i have shown
that word choice itself is not a good predictor of genre  in spam classification  there are
keys words such as save or viagra that predict spam emails well  which is why these
algorithms work well  however  music genres dont seem to have those same indicator
words  instead  word choice is only one of many factors that determine a songs style 
and to accurately predict genre we really need to look at the whole picture  songs are

fiextremely complex  and thus predicting their style must take this complexity into
account 
   further research
moving forward  i would stress the importance of examining all the other factors
that contribute to a songs style when trying to accurately predict genres  perhaps a
combination of audio and lyrical analysis could produce better results  i am certainly
interested in pursuing the goal of automatic music classification  but i would need to first
acquire the necessary technical expertise to directly analyze audio files 
   acknowledgements
i would like to acknowledge professor ng and the entire teaching staff for their
efforts in running the class this quarter  there were some daunting challenges along the
way  but i really learned so much and am extremely happy that i decided to enroll 
despite feeling somewhat under qualified 
   references
    last fm dataset  the official song tags and song similarity collection for the million
song dataset  available at  http   labrosa ee columbia edu millionsong lastfm
    musixmatch dataset  the official lyrics collection for the million song dataset 
available at  http   labrosa ee columbia edu millionsong musixmatch
    thierry bertin mahieux  daniel p w  ellis  brian whitman  and paul lamere  the
million song dataset  in proceedings of the   th international society for music
information retrieval conference  ismir             

fi