predicting career paths of nba players
suril shah  alex cousland  daniel robbins
cs     machine learning final project
abstract
the goal of our project was to predict how successful athletes would be in professional sports  a noted blogger on
emptythebench com recently said  advanced statistics is one area that baseball is lightyears ahead of basketball      this rung with
us  we decided to use ml to contribute what we could to the statistics of basketball  by predicting the success of players in the nba 
another reason we chose to focus on basketball was the fact that most players have a lot of stats in common as there are only  
unofficial playing positions which leads to better availability of data  we initially were interested in applying supervised learning to
predict the success of college athletes just entering the nba  after running into a few problems finding labels indicative of success  we
rephrased our problem statement into something more interesting  the prediction of players future career paths  using a combination
of unsupervised and supervised learning  we were able to predict with moderate accuracy how a players skills would change over
time 

data
we collected data from the nba section on the espn website as it was pretty comprehensive and upto date  we put together a scraper in python using the beautifulsoup library  to briefly describe our scraping
method  we first fed in the urls of the pages containing the roster for each team in the nba to the scraper 
these rosters listed players as well as links to their profile pages  the scraper visited each players profile
page and collected metadata info about the player such as name  height  weight  age etc  next  it navigated to
their stats page for both nba and ncaa and collected the averages data for all the listed seasons  finally  we
inserted all the data into a mysql database to enable us to extract data efficiently via sql queries for further
use  below are some statistics providing an idea of the kind of data we were able to gather 
number of teams  nba 
number of players  nba 
number of nba players with ncaa data
max number of seasons for a player  nba 
total number of seasons  nba 
total number of seasons  ncaa 
number of types of stats per player per season  nba  eg  rebounds
number of types of stats per player per season  ncaa 

  
   
   
  
    
   
  
  

below are the different kinds of stats we collected for each player per season 

 

fiapproach
we needed to find labels for our nba players  which would both correspond to how talented the players
are and not be overly subjective  initially  we chose salary as the label for our feature vectors  which actually
led to several problems  first of all  salary increases the more time you spend in the nba  in our original
model  we did not take this into account and ended up with pretty meaningless predictions  we then added an
experience feature  which indicated how many seasons each nba player has played  so that our model could
find a relationship between experience and salary  after adding this feature  though  it became apparent that
pretty much every ncaa player we would want predictions on would have experience    since they have not
played in the nba yet  although there are a fair number of new nba players in our training set  it doesnt quite
make sense to predict the salary of new recruits using data of very experienced players  moreover  the
average number of seasons a player had played in ncaa in our data set was just       since there are at most
  seasons in a players college basketball career  as a result of these complications  we decided to change the
trajectory of our project to predicting career paths  change in performance over time  within nba itself 
while looking at our results using salary as a label  we realized that many players had exactly the same
salaries as each other  in fact  digging into the issue further showed that the nba establishes minimum
salaries  which increase with each year of experience the player has  in order to make our model nonpiecewise  we had to leave out any feature vector corresponding to a salary at a minimum value  this
decreased the error by     however  it was still unstable at the early season level for each player  these
results resonated with that of fleenor      who also experimented with predicting nba salaries in his thesis and
concluded that players do not get paid according to their performance on the court only  a variety of other
factors come into play  such as fan appeal and who represents them as an agent 
in light of these issues we began searching for a better label for success in the nba  something that
immediately came up was the player efficiency rating  per  metric  however  upon further investigation we
found that per had some major weaknesses such as not incorporating enough defense statistics into its
calculation which resulted in some of the best defense players having below average pers  moreover  the
per formula was created by adjusting the terms to validate the beliefs of its creator  john bollinger  and thus
did not follow a scientific process      there are similar problems with other alternatives of per such as plusminus        wins produced  wp  etc     
however  we still needed to use some metric by which to measure the skill of a player  we used a
rough approximation for player skill  which involved taking the inverse of negative stats  such as fouls and
turnovers  followed by normalizing all stats to go from   to    this made all stats weighted equally  then  for
each player  we took the l  norm of the players stats for each season  obviously  weighting stats equally is
not a perfect metric for comparing players against one another  however  we felt that it would do a good job of
showing an individual players change in performance over time 
the next thing we did was come up with what the most common career paths were  to determine this 
we took all of the players with careers of a certain length  i e  n   seasons   computed their performance for
each year using the norm metric we created  and then put them in an n years long vector  once we had these
vectors of performance over the span of a career  we then performed k means clustering to determine
characteristic career paths 
once we had these distributions  we attempted to predict what a players career path would be 
formally  given the stats of the ith player  who had played ni seasons  where ni   n   we use the characteristic
distributions to predict the trajectory of the players stats for the remaining n ni years  by finding the
characteristic distribution which most closely matched the players stats over ni seasons  we would be able to
predict the players stats for the coming years by taking the nith through nth years of the characteristic
distribution and appending them to the players distribution 
our first naive attempt at assigning players to clusters involved assigning a player the cluster that had
the smallest norm for the number of years we were looking at  i will present an example with specific values to

 

fimake the procedure more concrete  we want to predict a players seven year career path given their first three
years of performance  to decide which characteristic career path they belong to we would simply compute the
euclidean distance between the three year input vector for the player and all of the first three year segments of
the   year characteristic distributions  at first  when we performed this operation we were excited by the
results as it did a reasonably good job of assigning people to the correct cluster  however  when we tested the
accuracy of our algorithm on random data versus the actual data  we found that the while the accuracy was
clearly higher on our data  random data still reported a disconcertingly high accuracy as well and made it
obvious that our method was not predicting as much as we previously thought 
to attempt to combat this problem we moved to using a multiclass svm with a linear kernel to classify
which distribution the data belonged to  in the case of the example given above  the respective xs where the
norm scores of the first three years and the label was the number of the cluster to which they belong  the
results of this method are shown below  note that these accuracies were obtained using the cross validation
flag in liblinear 

 
length of  
seasons  
 
 

cross validation accuracy     using svm  norm of stats  n    
number of clusters
 
 
 
 
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
      
       
       

 
length of  
seasons  
 
 

cross validation accuracy     using svm  full stats  n    
number of clusters
 
 
 
 
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
      
       

the length of seasons indicates the number of seasons used in each training example feature vector 
as was expected  the fewer seasons left to predict  i e  the closer the length of seasons is to n   the more
accurate the prediction is 
the number of clusters indicates how many clusters were created using k means  as expected  the
fewer clusters we have  the less room there is for error when making predictions about what career path a
player will take 
one interesting thing we found is that the svm was less accurate when using all of a players stats than
when using our norm metric  this told us that there are most likely features that were unimportant to the svm
and should be ignored to improve generalization error  as an experiment  we implemented the forward search
feature selection algorithm to see if we could make a more accurate svm model that does not use the norm
metric  by picking the five stats with the highest cross validation accuracy  we were able to improve accuracy
from       to      this comes fairly close to our norm metrics accuracy for the same setup          this
experiment also showed us that the most informative stats included points scored  three point percentage  and
age 
we also implemented model selection in order to select the best possible cost parameter for our svm 
we varied c from       to      and found c   to produce the best cross validation accuracy 

 

fito test the qualitative accuracy of our algorithm  we generated characteristic graphs of   clusters using
all players in the nba with more than   years of experience  for every player in the nba with less than   years
of experience  we then predicted which career path  i e  which cluster  that player would take using the
multinomial norm metric svm  below are our results  blue lines represent the characteristic distributions 
green lines show each predicted players rating history  if a players green line appears on one of the graphs  it
means that player was assigned to that cluster 

 

fiin case you know anything about basketball  here are some of the best players that ended up in each
cluster  along with their supposed rankings      andre miller           tony parker          chris paul         
metta world peace          kobe bryant         lebron james     so  who is the single guy assigned to
cluster    whos going to be the next kobe bryant  turns out it is j j  redick  currently rated      while this
may not seem so likely  our algorithm did assign kevin durant  currently rated     to cluster    the cluster that
contains most of nbas superstars 

conclusion
in the end  we got mixed results  our predictions were obviously not as accurate as we would like  as
our svm had accuracy between    and    percent depending on the conditions  however  the expected
accuracy of guessing is only    percent  meaning that while our models is not perfect  they are able to glean
some insight into what makes players change over time  in the end  our models were in many cases able to
make qualitatively sensible predictions and could potentially produce results that are interesting to basketball
fans 
references
    blott  zachariah   empty the bench   an introduction to advanced basketball
statistics  n p  n d  web 
 http   www emptythebench com            advanced basketball statistics       
    fleenor  andrew thomas   predicting national basketball association  nba  player
salaries          university of tennessee honors thesis projects 
 http   trace tennessee edu utk chanhonoproj      
     a comment on the player efficiency rating   the wages of wins journal  n p web 
 http   wagesofwins com            a comment on the player efficiency rating   
    kurylo  mike   a layman s guide to advanced nba statistics  
knickerbloggernet rss  n p   n d  web 
 http   knickerblogger net a laymans guide to advanced nba statistics   
     an advanced stats primer for the nba   n p   n d  web 
 http   www goldenstateofmind com                   advanced stats primer  
    fromal  adam  top     players in the nba   http   bleacherreport com articles         top     playersin the nba right now  
    nba total player ratings   http   www cbssports com nba playerrankings 

 

fi