julie townsend
cs            

machine learning with a lego mindstorms robot

    summary
in this project  a machine learning algorithm was implemented on a lego mindstorms robot  via
supervised learning  a robot was trained to follow a path represented by a black line on a white
background  the online perceptron algorithm was implemented such that training inputs supplied
by the operator triggered algorithm updates  testing proved that the robot could be successfully
trained to follow either the right or left edge of the black path  successful results were repeatable 
and in all cases the robot was able to complete the line following task successfully with an
average of      training errors  the robot and path used for training are shown in figure   

figure    activity pad used for training tests

    background
lego mindstorms for schools is a kit available to teachers intended to introduce grade school
students to robots and programming  the kit provides the parts necessary to build a variety of
simple robots  like wheels  tank treads  motors  gears  an embedded computer  and a few sensors 
it also provides robolab  a graphical interface to create programs for the robots 
pumas  practical uses of math and science  http   pumas jpl nasa gov   is a collection of onepage examples of how math and science topics taught in k    classes can be used in interesting
settings  including everyday life  the examples are written primarily by scientists and engineers 
and are available to teachers  students  and other interested parties via the pumas web site 

 

fijulie townsend
cs            
through my workplace  i have volunteered to create lessons for pumas that use the lego
mindstorms for schools kit  from this class project  i intend to create a lesson for grade school
students in machine learning 
the selection of the lego mindstorms for schools robot as a platform for this project imposed
limitations on the scope of the learning task  the sensor set provided with the kit is rather
limited  consisting of two light sensors and two touch buttons  the computer has only three
output ports for motor control and only three input ports for incoming sensor data  the
programming interface is also very limited  a palette of icons represents all the available
functions and modifiers implemented in the robolab interface  loops and conditionals are
available  but math capabilities are very limited  only addition  subtraction  multiplication 
division  and a few logical operators are supported  and all are performed with integers only 

    task selection
the starting point for task selection was the set of lesson plans provided with the lego
mindstorms for schools kit  choosing from this set ensured that the robot would be capable of
performing the selected task  one of the sample tasks provided with the kit was a simple
algorithm for line following  this algorithm implementation is shown in figure   

figure    robolab line following program

the task consists of following the right edge of a black line based on data from a light sensor  in
the robolab implementation  the robot reads the light sensor on input port   and compares the
value to a hard coded threshold of     if the value is above the threshold  the sensor is over
black  the program turns the left tank tread on and the right tank tread off  turning the robot
right  toward the edge of the line  similarly  if the value is below the threshold  the robot turns
left  this cycle repeats until the program is stopped 
adapting this task to use machine learning entailed replacing the hard coded threshold parameter
with a machine learning algorithm  through supervised training the robot should learn to match
the appropriate turn direction with a given sensor value 
a side effect of machine learning for this task is increased flexibility  the robot should be able to
learn to follow the left edge of the line just as easily as the right  this capability was
demonstrated during algorithm testing  theoretically  the robot should also be able to learn line
following on different colored lines and backgrounds 

    algorithm selection

 

fijulie townsend
cs            
the online perceptron algorithm was a good fit for this machine learning task for two reasons 
first  the algorithm is very simple mathematically  so it conforms well to the limitations of the
lego mindstorms programming environment  few variables and only basic mathematical
operations are required  since algorithm updates require only addition or subtraction  even the
limitations of integer math dont present a problem  secondly  the online perceptron algorithm
lends itself well to interactive demonstration  because the algorithm performs learning at each
step  the correct answers can be given to the machine interactively by an operator  this allows
the demonstration to be designed such that students can take part in actively teaching the task to
the robot 
the online perceptron algorithm  as implemented for this project  is shown below  note that the
use of inequalities in evaluating g differs slightly from the algorithm presented in class  this
modification was used to conform to the standard conditional functions in robolab 

    implementation
    robot construction   modification
for simplicity  the standard terrabot design from the lego mindstorms for schools kit
was selected as the robotic base  the robot was then outfitted with sensors as shown in
figure    one light sensor was installed on the front of the vehicle for line detection 
two touch sensors were mounted facing upward to serve as operator inputs 

figure    lego mindstorms terrabot

 

fijulie townsend
cs            

    algorithm implementation
the robolab implementation of the online perceptron algorithm is shown in
figure fixme  in this implementation  x is one dimensional  so  has two terms  these
are represented by the red and blue containers  in each step  x is read in from the light
sensor and is stored in the yellow container 

figure    online perceptron algorithm implemented in robolab

the first fork in the diagram evaluates g tx  and selects a turn direction  the robot takes
one small step and then waits for training input from the operator  if the operator input
indicates an incorrect turn   is updated  after the update  the new values are presented
on the robot display for debugging purposes  and another step is initiated 

    training process
to perform training  the robot is placed near the edge of the line  and the program is
started  the robot takes a step and waits for input  if the robot correctly turns toward the
edge of the line  the left touch sensor is pressed to proceed to the next step  if the robot
turns away  the right touch sensor is held down to indicate an error while the left touch
sensor is pressed to proceed 

    results
training tests were performed using the black line on the activity pad included with the lego
mindstorms for schools kit  shown in figure   
initial tests were not successful  after dozens of trips up and down the training line  the robot had
not learned the task  investigation revealed that the x ranged from    over the dark line to   
over the white paper  when using the online perceptron algorithm  the bound on training errors is

 

fijulie townsend
cs            
proportional to d   where d is the maximum magnitude of x  the cause of the difficulty was
exposed  with d       hundreds  if not thousands  of errors could be expected 

to improve training performance  the output of the light sensor was divided by    before being
stored as x for calculations  this reduced the magnitude of x to      a factor of    reduction in d 
and a factor of     reduction in training error bound  this change proved to be very effective  and
subsequent training tests succeeded 
a set of    tests were run  as recorded in table    all    tests were successful  the robot was
trained to follow the right or left edge of the black line  and the learning performance was not
significantly affected by the side of the line used for training  the number of training errors
varied between    and     with an average of      and standard deviation of     
table    training results

test  
 
 
 
 
 
 
 
 
 
  
  
  
  
  
  

edge
right
right
right
right
right
right
right
right
right
right
left
left
left
left
left

  errors
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

the observed level of performance is sufficient to allow use of this project as a grade school
demonstration of machine learning  training the robot takes only a few minutes  and the results
are satisfying and entertaining  perhaps this project will inspire some of the next generation of
roboticists and computer scientists 

 

fi