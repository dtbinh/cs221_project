single vehicle job scheduling using learning algorithm

yongkyun na             cutepro stanford edu

   introduction   motivation
in the manufacturing line  there is a material handling system which transfers an
item from one machine to other machine  one of the simplest material handling systems
is rgv rail guided vehicle  system  in this system  rgv moves only backward and
forward on the guided rail and it executes the job which consists of two location
information 

 from location    to location   when the rgv gets a job  it moves to the

 from location  first and pickup the item from the machine and moves to the  to
location  and deposit the item to other machine  this is one job cycle 

given n jobs in rgv system  the goal of this problem is finding the best candidate
for the next job among n jobs in the real time  since the total processing time depends
on the number of jobs and the computation of this problem is n factorial  this is nphard problem  the rgv has to decide the next job in the real time but generally  nphard problem is very difficult to find a solution in the real time when n is large 

there are several approaches for np hard problem using heuristic method but i
would like to solve this problem using machine learning algorithm  the idea for this
problem is the relationship between previous optimal solution and new optimal solution 
intuitively  when a new job comes  we can recognize that the new optimal sequence
does not fully change  so  there is unknown relation mechanism which is difficult to
build a model mathematically  thus  i will train this relation using learning algorithm and
get a close optimal solution in the real time from the learning module 

   problem define
first  i defined a simple model for this problem  rgv has only one buffer 
equipment has input port and output port  total length is   m and equipment interval is

fi   m as shown in fig   for simulation  i will fix the rgv velocity as     m s  unloading  
or loading   time is    seconds  in this case  new job   occurs starting from any
equipment with fixed job cycle    
eq

  m

 

 

rgv

   m

 
 

 

  m

fig  

system layout

when the rgv completes a job at certain time  it has to decide the next job among
n jobs  thus  we need to find out the best candidate for the next job while minimizing
the total delivery time 

there are   equipments in the layout  the number of total possible job types is
      because the job consists of two locations and it also allows self location
transferring  the rgv can not have the same job type at the same time  so the
maximum number of the jobs that rgv could hold is     thus  we have to consider    
                cases for the worst  which is impossible to compute in the real time 

rgv job queue
job

from

to

 

eq 

eq 

 

eq 


eq 

n  

eq 

eq 

n

eq 

eq 

n  job sequences
find

assign

the best

the first

sequence

job

fig   problem difficulty
 

unloading means moving transfer unit  which is a carrier or wafer  from equipment to rgv
loading means moving transfer unit from rgv to equipment
 
job means each transfer command
 
job cycle is job occurrence interval which is             seconds
 

fi   how to solve this problem 
to solve this problem  i used the learning algorithm  the idea of this problem is the
fact that the maximum number of the job types is fixed when the number of equipment
is given  thus  if we train the learning module with all possible jobs that the rgv could
have  then it is possible to compute the optimal job using this module in the real time 

learning
module
learning

current jobs
x         

module

the optimal

learning

next job

module

y              

learning
module

rgv location

train
fig   modular learning module
even though the rgv has the same jobs in different time  the optimal next job
depends on the rgv current location  therefore  to get better learning results  i build a
modular learning module  for each rgv location  we will have different learning module 
in other words  since we have four equipments and rgv only stops in front of those
equipments  we will have four learning modules for this layout 

to collect training data  i implemented simple dp dynamic programming  algorithm  
which has almost optimal sequence but not real time  then  i generated the training
data using this algorithm for the generated sample job scenario 
the input vector x         represents the jobs that the rgv has to consider  each
bit indicates n th job type existence  for instance                 means that the
rgv has three jobs  type   type  and type     and the output vector y       
represents the next job that the rgv has to take  for example         means that the
rgv will work type  job in the next 

fifor learning module  i tried neural network and k nearest neighbor classification
algorithm  since the generalization error of k nearest neighbor classification was less
than neural network  i used k nearest neighbor classification for this learning module 

   data analysis
for the real time algorithm comparison  i implemented fcfs  first come first
serve   nja  nearest job assign  algorithms  fcfs is an algorithm which assigns the
oldest job to rgv  this algorithm is easy to implement and normally used when the
number of jobs is very small  nja is an algorithm which assigns the nearest job from
the current rgv location  since this algorithm only needs the comparison of the current
jobs  it is fast and efficient in simple layout system 

as a performance criterion  i used mean delivery time  the delivery time is the
total time until rgv has completed a job since a job occurred 

delivery time   waiting   total moving   loading   unloading

unit sec 

fcfs

nja

la

dp

      

     

     

     

      

      

      

      

      

     

     

     

      

      

      

      

training
    jobs 
training
    jobs 
generalization
    jobs 
generalization
    jobs 

fig   training error

table    algorithm comparison

as we can see in the table    for training scenario  la  learning algorithm  has the
best result among the real time algorithms  the result of la is very close to or even
better than the result of dp which is not real time algorithm  on the other hands  for

fiother scenarios  the nja has better result than la  i will discuss this more specifically
in conclusion part 

    

    

    

    

    

fcfc
nja
la
dp

    
    

    

fcfc
nja
la
dp

    
    
    

    

 

 
 
   
jobs

 
    jobs

fig   training scenario case

 
   
jobs

 
    jobs

fig   generalization scenario case

   conclusion   future work
first of all  this learning model had large generalization error  which is        the
reason is because i used small training examples  however  this is necessary for less
computation in large search space  in addition  the purpose of this algorithm is not
reducing generalization error but is to have real time computation and close optimal
solution  in other words  it is ok if the performance is better than other real time
algorithm 

despite the above argument  the result of proposed learning algorithm method
was not better than nearest job assign method  finally  it turns out that nearest job
assign method is almost optimal for this simple layout  thus  for future work  we need
to extend and apply this method to more complicated layout such as multi vehicle 
multi buffer and more equipment  then  the performance of the proposed algorithm will
be better than nja 

for future work  another possible area to apply learning algorithm for this problem
is the next job prediction  actually  there are several frequent job types in the real
system  so  if we predict the next job patterns by learning algorithm  in the view of the
global optimal  i can get better solution  concerning the training for future job prediction 
we can apply reinforcement learning through the feedback from the real result as time
goes by 

fi