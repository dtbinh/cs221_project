the ray density estimation of a ct system by a supervised learning algorithm
name   jongduk baek
student id          

   topic
my topic is to find the ray density of a new ct system by using the learning algorithm 

   background
since the development of the ct scanner  the faster scan time was the highest priority to achieve  and therefore 
there have been a lot of efforts to reduce the scan time  the first generation ct scanner  figure   a   uses one pencil
beam  and the projection data were acquired by translating the x ray source and detector linearly  after the
completion of the linear measurements  the x ray source and detector rotated to the next angular position to acquire
the next set of measurements  a faster scan time could be achieved by using multiple pencil beams  since this second
generation ct scanner  figure    b   used a small fan beam  the data acquisition time was reduced by the same factor
of the increased detector numbers  however  a translation rotation principle was still employed for data acquisition 
the third generation scanner  figure    c   used a large number of detectors and a single source  since the detector
size was sufficient to cover the entire object  a translation rotation principle was not employed  the elimination of
the translation step reduced the scan time significantly  and nearly all of the state of the art scanners on the market
today are third generation  the potential problem of the third generation system is the high detector cost  and high
scatter to primary ratio  in order to combat these problems  a different type of ct geometry can be imagined as
shown in figure    d   in this system  instead of using one source and many detector cells  it uses many sources and
smaller number of detector cells  for example  if the third generation ct system uses      detector cells  the new
system  figure   d   may employ    detector cells  and    sources so that the detector cost can be reduced by a
factor of    

 a  first generation ct

 b  second generation ct

fi c  third generation ct

 d  new ct system

figure    different types of ct scanner

   supervised learning and reconstruction
the reconstruction algorithm for the third generation ct system was already developed      it uses the filtered
backprojection algorithm  and the ray density is compensated before the filtered backprojection  for example  the
first generation ct system has uniform ray density because the ray spacing is uniform  in contrast  the ray density of
the third generation ct system is non uniform due to the different data acquisition geometry  and the analytical
expression for the ray density was developed      however  it is very hard to find the analytical expression of the ray
density for the new system  so  our goal is to estimate the ray density heuristically  since the filtered backprojection
can be expressed as one system matrix  we can expressed the reconstruction process as follows

y i   a i

   

where  a is the system matrix for the reconstruction  y is the ideal reconstructed value or training data set   and  is a
ray density vector that we want to estimate 
to find the ray density for the new ct system  the reconstruction steps  filtering and backprojection  are expressed as
a matrix operation  for a projection with m samples  m ray densities and  m   reconstruction filter coefficients are
used  as a training data set  a centered uniform cylinder which is large enough for the ray density estimation was
used so that the projection is the same for all views  we will then verify that the same ray density works for other
objects 
the ray density multiplication and filtering for each fan beam can be conducted by the following matrix
multiplication 

fi h 
 h
  
 h 

 m
h m  
f i   h   pi   i     
 h   m  
  

  
 m

  

 

l

 

h 

l

m

h 

l

 

h 

l

h 

m

l

h 

h m  

m

m

h   m  
 

l
l

h m  
h m  

m

m

h   m  

 

 

l

  p     i     i   h  p    i
 p    h p
      i     i        i
    p     i      i   h   p    i
 

 
m
  
 
  h   m    p    i
 
h   
 

 
h   
  h   m   p    i
 
 
 
m 
 

 
 
h m    
 




 
m
h m  
 

 
h   m     p m   i  m   i  
 

 

l

 

m

h  p     i

l

m

h   p    i
h   p    i

l
l

 
h  p m      i
h   p m     i

m

l

h   m    p    i

m

m

h   m   p     i

l

h   m    p m    i

 

l

h   m    p m    i

m

m

h   m   p m    i

 

 

l

      i 
  
     i 
      i 
 


 
   
h  p m   i     

   ai i
h   p m  i     
   
m


h   m    p m  i     
h   m    p m  i     


h   m   p m   i   m   i 
 
m

where fi is the filtered projection for the ith fan beam  pi is the projection data for the ith fan beam  i is the m  ray
density for the ith fan beam  and h is a   m   m matrix of filter coefficients  ai is a   m   m matrix whose
terms contain filter coefficients and the ith fan beam data 
the final image is produced by summing the backprojections of each fan beam  pixel driven backprojection of each
filtered projection using linear interpolation     can be described by the following equation 
nd
 nv

rnew   ct      lij ai  i
i     j   


   

where nd is the number of detectors  nv is the number of views  lij contains the linear interpolation coefficients of
the ith fan beam at the jth view  and rnew ct is the reconstructed image 
in equation      lij and ai are known for training data set  and i is unknown  by comparing rnew ct with the ideal
training data set  rtrain  the error vector e is defined as

e   rnew   ct  rtrain

   

the ray density which minimizes the l  norm of e was found by using a conjugate gradient method       using   t
as the initial guess  the root mean square  i e   rms  error was calculated as in each iteration

rms e  

e

 

n

   

where  n is the length of the error vector e 

   result
the new ct system has      rays per view  and therefore needs a ray density composed of      values  figure    a 
shows the rms error per iteration  the initial rms error was         and after      iterations it was reduced to        
figure    b  shows the ray density calculated using the training data set after      iterations 

   

fifigure     a  rms error per iteration and  b  ray density for the new ct geometry

the shepp logan phantom data     was reconstructed by using the ray density  figures   a  and  b  shows the
reconstructed images without and with applying ray density  figures   c  and  d  plots the corresponding central
profiles  comparison with figures    a  and  b  shows that the ringing artifacts were suppressed significantly  this
result supports the approach of calculating a ray density for a uniform centered cylinder  e g  training data set  and
applying it to an arbitrary object 

 a 

 b 

fi c 

 d 

figure    reconstructed images and central profiles with and without applying the ray density

   conclusion
for the ray density estimation of a new ct system  supervised learning algorithm was used  since the ray density of
a new ct system is very hard to derive analytically  heuristic method  newton method by using a supervisedlearning  was implemented  the estimated ray density from the training data set works well for general object  and
the image quality was significantly improved after using the ray density  by adding some constraints to the ray
density  we may expect the reduced variation of the ray density so that the noise pattern of a new ct system can be
uniform 

reference
    a  kak and m  slaney  principles of computerized tomographic imaging  new york   ieee press      
    jiang hsieh  computed tomography principles  design  artifacts  and recent advances  washington  spie
press      
    michael t  health  scientific computing an introductory survey  mcgraw hill      

fi