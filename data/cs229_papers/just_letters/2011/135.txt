final report  local structure and evolution for cascade
prediction
jake lussier  lussier  stanford edu   jacob bank  jbank stanford edu 

abstract
information cascades in large social networks are complex
phenomena governed by such diverse forces as the diffusion medium  user trends  and the information content itself 
while these influences might be difficult to understand and
model directly  the structure and evolution of the cascade
can be used as a proxy for the sum effect  to this end 
we study information cascades on twitter and focus especially on the utility of local graph structure analysis for categorizing  understanding  and predicting cascade evolution 
specifically  after presenting basic statistics  we categorize
cascades based on size and growth  we then count graphlet
frequencies for different cascade categories in order to understand their structural differences  we also explore how these
differences arise by counting graphlet frequencies at different
points during the evolution process  finally  we construct a
machine learning framework for predicting cascade size 

  

   we first describe in greater detail the related work in
section   
   we then describe out data sources in section   
   in section    we formally define our directed acyclic
graph  dag  model for information cascades and use
this model to construct cascades from our data 
   next  in section    we count three and four node graphlets
in all cascades and plot graphlet frequencies for different cascade categories based on size and growth rate 
   we study local structure evolution in section   by computing graphlet frequencies with each node addition 
   finally  in section    we construct a machine learning framework to predict  for a cascade of ten users 
whether or not it will grow to over twenty nodes 

introduction

an information cascade is a phenomenon by which people
influence others to acquire information or behaviors  clear
understanding and effective modeling of such cascades could
have significant impact in practical domains ranging from
viral marketing to crisis detection to epidemic outbreak prevention  scientists have therefore examined these processes
for decades  but it is only now  with the emergence of online
social networks  that data and resources allow for large scale
study 
previous research          has reported large scale properties of cascades  as well basic results pertaining to local
structures  recent studies     have also examined individual
nodes in cascades and constructed predictive models for who
will spread what contagion  we continue this line of study
by conducting a more detailed analysis of local structures in
order to predict eventual cascade size  we also go beyond
the realm of previous studies by examining how local structures emerge and evolve  the outline for this paper is as
follows 

  

related work

recent work on information diffusion has explored and characterized information cascades in a variety of online network
settings  in the work in      leskovec et al investigate cascade patterns by looking at person to person product recommendations from a large online retailer  the study reports
heavy tailed cascade size distributions across all products
and identifies identifying the most frequent patterns  in a
study on another setting of cascades      leskovec et al analyze the temporal patterns  shapes  and sizes of cascades
in large blog graphs  the study finds power law size distributions as well  and a tendency for cascades to form star
shapes 
in this work  we focus on the microblogging platform twitter  as twitter has grown in traffic and siginificance  it
has received a significant amount of academic study  in
early work in      java et al provide initial analysis on the
topological and geographical properties of the twitter social
graph along with observations on what type of content people tweet  in the work in      huberman et al perform a more
detailed investigation of the social network  trying to better
understand the nature of social interactions on twitter  in
another interesting line of work in      cha et al develop a
framework to measure and model an individuals influence
on twitter  finding that a high follower count does not necessarily lead to many retweets and mentions 

fitwitter also provides a particularly rich and significant setting for the study of information diffusion  and prior work
has investigated cascades from different angles  in one general study in      kwak et al perform a quantitative analysis on information diffusion  analyzing trending topis and
retweet dynamics  another related study is described in     
in which the authors analyze cascades of urls on twitter with the goal of predicting which users will tweet which
urls  the authors make a variety of observations of the
structure of cascades  finding power law size distributions
and a lognormal distribution of the diffusion delay  in the
work in      sadikov et al conduct another study on twitter data in which they tackle the problem of analyzing  understanding  and correcting for missing data in information
cascades 

  

data

for our project  we use two twitter datasets  first  we
have the twitter social graph from july       made publicly available by the authors of      this data contains     
million users and      billion social relations  in this paper 
we construct the social graph g    vg   eg   where vg is
the set of all users  and an edge  u  v   eg if and only
if u follows v  second  we have complete tweet data from
january       which includes author  text  timestamp  and
many other attributes  in the next section we describe how
we use this data to construct our cascades 

  

cascade construction

after constructing the social network as described above  we
then process two weeks of tweet data                       
and construct cascades for all retweets  specifically  for
each retweeted tweet in this period  we construct a cascade
c    vc   ec    where vc is set of users who retweeted that
tweet  and edge  u  v   ec if and only if  v  u   ef and u
retweeted t before v retweeted t  thus  each cascade will be
a dag where edges represent potential influence  note that
in contrast to a simple tree representation  this dag cascade
model captures cases where one node retweets a tweet that
was previously shared by multiple users he or she follows 
moreover  in the context of this study  this will allow us to
study more complex local cascade structures 
this results in           cascades that follow the size  number of nodes  distribution shown in figure  a  as can be
seen  this distribution is heavy tailed  which agrees with
observations of cascades size distributions in earlier works 
however  despite the fact that our dag cascade model allows for many more edges than nodes  since each user can
be influenced by multiple other users   we see from the edge
count distribution  not shown in the interest of space  that
there are in fact many fewer edges  this implies that there
are many disconnected nodes and likely suggests that the
out of date social graph does not contain many of edges over
which information diffuses 
we also investigate the temporal patterns of retweeting in
these cascades  looking specifically at retweet response times 
which we define as the time difference between a retweet and
the latest previous retweet or tweet  and retweet lag times 
which we define as the time difference between a retweet
and the original tweet  we find that most retweets occur

figure    cascade origin degree distribution 
immediately after the original tweet and in rapid succession
 less than ten second   how is it that so many retweets are
so immediate  in looking at these cases  we have found that
such retweets are often posted by bots  most commonly for
stock trading and updates  we show the response time distribution in figure  b 
finally  we explore the relationship between the social network and the retweet cascades  we first examine the effect
of the origin degree  whim we define as the in degree of the
user who posted the earliest tweet   retweet in the cascade 
the origin degree distribution shown in figure   has a much
fatter tail than previous distributions  suggesting that original tweeters tend to have high degree  we also examine the
correlation between origin degree and cascade size and find
no significant correlation  this might be an interesting feature of cascades on twitter  but is more likely the result of
our out of date social network  we do a similar analysis for
average degree of a cascade  which we define as the average
in degree  number of followers  for all nodes in the cascade 
we see a similar distribution of values and again see little
to no correlation 

  

graphlet counting

in the previous section  we examined large scale properties
of retweet cascades on twitter  in this section we now study
local cascade structures by computing graphlet frequencies
for all three and four node graphlets  since the subgraph
isomorphism problem is np hard  previous works have used
various techniques  such as the multi level hashing method
described in      for our study  we utilized the subgraph
counting code implemented in snap to count all three and
four node graphlets for all cascades  we then describe each
cascade c in terms of a graphlet frequency vector vc   where
 i 
vc is the number of times the ith graphlet appeared in cascade c  moreover  for a set s of cascades  we can compute
the average graphlet frequency vector vs   where the ith entry is given as follows 
p  i 
vc
cs
 i 
vs  
 s 
with this  we can now compare local structures for small
and large cascades by choosing some size threshold   partitioning cascades based on whether the number of nodes is
less than or greater than or equal to   and computing the

fi a  cascade size  number of nodes  

 b  response time 

figure    cascade distributions 
average graphlet frequency vectors for both sets  we do this
for  values of    and     and show the results for      
in figures  a  in this plot  small and large cascades follow
the same general pattern of peaks  with the only notable
difference being that graphlet    a   node chain  is far more
prevalent in small cascades  and graphlet    a   node star 
has a much higher peak in the large cascades  although not
shown  the plot for       is different in that large cascades
look very different with a giant peak at    a small peak at
   and a flat line elsewhere  this seems to indicate that our
largest cascades are made up of many tiny stars 
we also compare local structures for slow growing and fastgrowing cascades by choosing some growth rate threshold  
and doing similarly as above  we choose         seconds
   hour   and compare for cascades of about the same size 
results for cascades between sizes    and    are shown in
figure  b  as can be seen from the first plot  of cascades
sized       nodes  fast cascades have many more instances
of graphlet   while fast cascades have many more instances
of graphlets   and     although not shown  in the plot for
cascades of size        graphlet   is very prevalent in fast
cascades  while more complex structures  like graphlets    
        and    appear much more in slow cascades  across
both of these plots  we can observe this same interesting effect that the more complex graphlets appear more in slow
cascades  whereas simple chains and stars characterize fast
cascades 

  

cascade evolution

in the previous section  we constructed a cascade for each
retweeted tweet  added all nodes and corresponding edges
that we observe during the two weeks of data  and then
computed graphlet frequencies for these final complete cascades  in this section  we compute the graphlet frequency
vector with each node addition so that we might be able to
understand the process by which cascades grow 
the plots in figure  c d show the relative frequencies of
common graphlets in the early evolution of cascades  the
x axis shows the number of nodes currently in the cascade 
and the y axis shows the proportion of all graphlets  each
line is a different graphlet  the graphlet key is shown in

figure  e   figure  c shows the early evolution of cascades
that reached a size between    and    nodes  and figure  d
shows the early evolution of cascades that reached a size
over     both plots show the same general trend where
graphlet    a   node star  dominates throughout the early
evolution  but its proportion decreases quickly  the more
complex   node graphlets  such as             and     gain
a larger and larger share as time progresses  comparing
across the plots  we notice that graphlets             and   
   node graphlets with many edges  are more represented
in figure  d  indicating that they appear more in the early
stages of large cascades than small cascades 

  

cascade size prediction

in this section  we frame cascade size prediction as a supervised classification problem in which we observe the cascade
up to size    and then aim to predict whether or not its
eventual size will exceed     in the previous sections  we
studied temporal retweet trends  the relationship between
the social graph and cascade size  and graphlet frequencies
for different kinds of cascades  we therefore define three
kinds of features 
 temporal features  these features aim to capture the
temporal dynamics of the first    retweets  here we
include the average lag time and the average response
time  as defined in section   
 follower features  these features aim to capture nodes
connectivities in the social graph  to this end  we
include the origin degree and the average degree  as
defined in section  
 graphlet features  these features aim to capture the
frequently appearing local graph structures that appear in the cascade up to    nodes  for this  we include each entry in a cascades graphlet degree vector
as a feature  note that we could include each entry
in a cascades vector at each point in its evolution 
but given the weak signal from the out of date social
graph  we choose to only include the entries from the
vector for the cascade of size    

fi a  partitioning on size         

 c  evolution in cascades of size       

 b  partitioning on growth rate          
for cascades of size       

 d  evolution in cascades of size over    

 e  visualizations of common graphlets 
figure    average graphlet frequency vectors after partitioning on cascade size  plots  a  and  b   and cascade
growth rate  plots  c  and  d    visualizations for frequent graphlets are shown in  e  

fifigure    prediction confusion matrices  accuracies  acc   and areas under the receiver operating curve
 auroc  for different experiments   a  defines the entries of the confusion matrix 
with this  we define four datasets that include temporal features  follower features  graphlet features  and all features 
respectively  all of these datasets have imbalanced class distributions       cascade do not grow to    nodes  while only
     reach    nodes   so we perform a       split      train 
    test  and undersample the training set to equality  after doing so  we are left with      training examples      
negatives       positives   and      testing examples with
      negatives      positives  for each dataset  note that
since we only undersample the training set  the testing set
is still representative of the original distribution  moreover 
each dataset has the same cascades in the training and testing sets  so we can evaluate performances directly 
for our experiments  we train four logistic regression classifiers on the four training sets  and then evaluate each of them
on the corresponding testing set  the results are shown in
figures  b e  note that accuracy is a poor performance
measure for these imbalanced classification problems since a
simple classifier that predicted the negative class for all examples could achieve     accuracy  so we also include area
under the receiver operating curve  auroc   looking the
auroc values  we see that graphlet features give only a
marginal lift over random  as do follower features  logistic
regression with just the time features achieves a significantly
higher auroc of        and even outperforms the classifier
with all features  this suggests that the time features are by
far the strongest and that other features provide such weak
signals that they essentially add noise to the problem 

  

conclusion

in this paper we presented a detailed analysis of information cascades on twitter and explained a supervised classification framework for predicting cascade growth  in section    we defined the structure of our cascades  described
temporal retweeting trends  and explored the relationship
between the follower graph and cascades  in particular  we
showed that most retweets follow shortly behind the original
tweet  and found little relation between degrees of nodes in
a cascade and the size of that cascade  next  in section   
we studied local structure by counting graphlets and noting
those that occur most frequently in different kinds of cascades  small and large  slow growing and fast growing   we
then proceeded in section   to examine cascade evolution
by conducting similar experiments at each point during a
cascades growth  finally  in section    we used our previous analyses to extract features from cascades when they
had ten nodes  and used these to predict whether or not
at least ten additional nodes would retweet the tweet  we
found that time features were by far the most salient  and
that other features gave little to no signal 

for future work  we would like to study the effect of the
content itself on diffusion  for example  do news items diffuse differently than entertainment items  we might also
examine the effect of different sources  previous work has
shown that most retweets on twitter originate with celebrities  so we might incorporate this into our framework 
finally  throughout this work  we found the social graph
resulted in inclusive or noisy results  since the social graph
is from two years before the tweet data  we hypothesize that
this is because the social graph is out of date  we hope to
obtain a more recent social graph in the future and rerun
the above experiments with clean data  this might allow
for more novel insights and better prediction results 

  

references

    m  cha  h  haddadi  f  benevenuto  and k  gummadi 
measuring user influence in twitter  the million
follower fallacy  in proceedings of international aaai
conference on weblogs and social media  icwsm  
aaai       
    w  galuba  k  aberer  d  chakraborty  z  despotovic 
and w  kellerer  outtweeting the twitterers predicting
information cascades in microblogs  in proceedings of
the  rd conference on online social networks  usenix
association       
    b  huberman  d  romero  and f  wu  social networks
that matter  twitter under the microscope  first
monday       
    a  java  x  song  t  finin  and b  tseng  why we
twitter  understanding microblogging usage and
communities  in proceedings of the  th webkdd and
 st sna kdd      workshop on web mining and
social network analysis  acm       
    h  kwak  c  lee  h  park  and s  moon  what is
twitter  a social network or a news media  in
proceedings of the   th international conference on
world wide web  acm       
    j  leskovec  m  mcglohon  c  faloutsos  n  glance 
and m  hurst  cascading behavior in large blog graphs 
arxiv preprint       
    j  leskovec  a  singh  and j  kleinberg  patterns of
influence in a recommendation network  advances in
knowledge discovery and data mining       
    e  sadikov  m  medina  j  leskovec  and
h  garcia molina  correcting for missing data in
information cascades  in proceedings of the fourth acm
international conference on web search and data
mining  acm       
    s  wernicke  efficient detection of network motifs 
ieee acm transactions on computational biology
and bioinformatics       

fi