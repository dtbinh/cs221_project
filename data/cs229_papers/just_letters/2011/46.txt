learning stock volatility using keyword search volume
yan yang
december         

 

introduction

as internet becomes ubiquitous  search engine has become a standard way for people to retrieve information 
naturally  interests arise to explore whether the search volume of particular keywords tells something about
the collective mood of the general public  such correlation has been explored to determine various facors
affected by popular interest  from consumer reception to political optinion  stock price  being prone to the
general sentiment in the market  is an ideal candidate in such studies 
on the other hand  such search volume implied sentiment can be measured  thanks to two factors  firstly 
google has consistently dominated a large market share in the global search engine market  capturing      
of all searches  this makes search volume from google a reasonable measure of the overall interest on the
internet  secondly  google has been helpful to researchers and data crunchers by providing a free service to
publish its search volume data  firstly through google trends  and then through a more research oriented
google insights for search 

 

background   inspiration

this study is largely inspired by two results  firsly  da  z         reached the conclusion that search volume
of stock ticker symbols can be used as a proxy to investor attention  and furthermore has correlation with
abnormal price increases  the second result is the r word index pioneered by the economist  it tries to
use the frequency of word recession on news articles to predict the onset of a real recession 
hence i borrow from both results and try to find how the volatility of a stock correlates with the search
volume of both the ticker symbol and the word recession  although da  z         ascertains that since it
is easier for a layman investor to buy than to sell  a high investor attention normally corresponds to more
buy actions than sell and can apply an upward force to the stock price  by intuition volatility clearly is a
better match to investor attention compared with stock prices  also  this does not affect the application of
the study  while more sophisticated  investment strategies to exploit high volatility are easily crafted and
widely used in the market 

 

data   model

the search volume data are extracted from google insights for search  it is aggreagted weekly  from
           to             also  the search volume is standardized so the week with highest search volume
for a particular term is always      this means search volume of two terms cannot be compared  but that
has no bearing on my method  also  the search area is restricted to be usa only  furthermore  in addition
to web search data  in cases where news search data is available weekly  many less common terms only have
monthly news search data   they are also used 
 

fics    project autumn       

yang  yan         apr         

the daily stock prices are extracted from yahoo  finance for the same period  a number of stocks are
selected from three fairly representative sectors  technology  energy and financial  all stocks have big
capitalization and most are well known household names  when selecting the stock one catch is that the
ticker symbol must not yield noisy search data  for example  conocophilips is excluded since its ticker
symbol cop clearly will give huge amounts of search data unrelated to the company  the stocks selected
are listed in table   
sector

technology

financial

energy

stock
apple
microsoft
hewlett packard
activision
applied materials
berkshire hathaway
jp morgan
wells fargo
exxon mobil
chevron
praxair

symbol
aapl
msft
hpq
atvi
amat
brk a
jpm
wfc
xom
cvx
px

table    stocks selected
the volatility of the stocks are computed using the standard formula
yn   tn   ttn    log pt  pt    

   

where  is the standard deviation over  trading days after day tn  last day of the week when search volume
is registered   pt is the price of the stock on day t   is determined as number of trading days in d weeks 
and d serves as a parameter in my model 
also  when an initial learning was conducted using the search volume index directly quoted from google 
the results are not very promising  as such a transformation is also made on the search volume  i compute
the normalized version of the search volume  i e 
xn  

svn  svn
 svn  

   

where svn is the search volume index of the nth week  there are two such features  corresponding to the
ticker symbol x  n as well as the term recession x  n  
after these preprocessings  i try to apply the logistic regression and gaussian discriminant analysis  the
target variable is converted into a binary variable   yn     where  is a threshold that is determined by
the historical prices of the stock   this level is experimented and set as yn    yn     so as to get sufficiant
but not too many data points with a label of   

 

results

one sample result is as shown in figure   where stock prices of apple are taken and d is chosen to be   
as seen from the plot  the high and low volatility points tend to have large overlap in the  d space  this
is possibly one reason that svm attempted on the data does not give as good a result as gda or logistics
regression  therefore  the method serves as a conservative strategy in terms of capturing high volatility
events  also  we can see that logistics regression performs less well in dtermining high volatility events
compared to gda  these trends largely hold for other stocks and d values as well 
next  a    fold cross validation is performed using gda method  the cross validation error serves as a
proxy of the predictive power of my method  firstly  to determine if d significantly affects the learning  cross
 

fiyang  yan         apr         

cs    project autumn       

figure    sample result for apple and d  
validation is performed on different values of d  as shown in figure    as can be seen  the error drops as d
increases for certain stocks like apple and activision  but increases for some other like jp morgan  in below
analysis i take a value of d      which is a reasonable length and yield comparatively good results 
once the method is fixed as gda and the value of d fixed at    we can evaluate the performance of the
method on various stocks  the results are compiled in table    here  inst  own stands for institutional
ownership  while historical volatility is computed as the overall volatility of the stock over the entire timeline
of the dataset  furthermore  since the method is intended to identify high volatility events the normal
notion of error being number of cases mis classified may not be suitable  hence another error measure 
termed one side error  is added which only measures number of events that are classified as high volatility
but are actually not 
also  for the six stocks with weekly news search volume data  i have carried out the same process on news
search data rather than web search data  the results do not change and hence news search data  at least
from google  seems not to offer much improvement in performance relative to general web search 

 

analysis   conclusion

institutional ownership is an important measure since the rational is that stocks with low instituional ownership should by right be more subject to general public sentiment  this seems to be not much a factor
here  also  the one side error offers a very different trend as the overall error  apple has a particularly low
one side error  and hps higher than rest overall error shrinks to a lower than rest one side error  besides
the two stocks  the one side error of the other stocks all roughly float around      
overall  the errors seem not to have much correlation with the two mesures listed here  in future  to further
expand this study  several things can be improved  firstly  a much larger set of stocks and a longer period
 ideally one not covering a real recession  should be used  while the former is easily done but requires
 

fics    project autumn       

yang  yan         apr         

figure    plot of    fold cross validation error from gda vs  d

technology

financial

energy

stock
apple
microsoft
hp
activision
applied materials
berkshire hathaway
jp morgan
wells fargo
exxon mobil
chevron
praxair

overall error
     
     
     
     
     
     
     
     
     
     
     

one side error
     
     
     
     
     
     
     
     
     
     
     

inst  own
      
   
      
      
      
      
      
   
      
      
     

historical volatility
     
     
     
     
     
     
     
     
     
     
     

table    cross validation errors of gda compared to certain stock attributes

more time and effort  the latter is largely limited by reality  secondly  i would like to design an investment
strategy and test it on historical data to find the expected return  however  the main difficulty here is that
the simplest startegies that exploit high volatility  such as a straddle  depend on historical option prices
which i cannot get hold of  thirdly  more features in addition to ticker symbol and recession can be used
and supposedly more sophsticated correlation among stock volatility and search volume may be uncovered 
in all  this method is straightforward and simple to use  it also seems to be quite capable of capturing
particular weeks when individual stocks register higher than average volatility 
 

fiyang  yan         apr         

cs    project autumn       

references
    da  z   engelberg  j    gao  p          in search of attention  journal of finance                
    the recession index  words that can harm you the economist  nov           hhttp   www 
economist com node         story id e  tqvvttgi

 

fi