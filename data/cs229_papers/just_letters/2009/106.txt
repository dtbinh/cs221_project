recognizing informed option trading
alex bain  prabal tiwaree  kari okamoto

 

abstract

is that unusual purchases in the options market
have much stronger signals than in the noisy stock
while equity  stock  markets are generally efficient market 
in discounting public information into stock prices 
we believe that in option markets a certain class of
    informed option trading
informed trading exists which is based on private
information that cannot be efficiently discounted in this paper we focus on informed option tradinto stock prices  this kind of trade  made ei  ing  when an informed trader wants to make a
ther by insiders or large institutions with the re  big bet for a relatively small amount of money 
sources to deduce non public information about a they do it with options  in particular they might
stock  allows participants to make bets with a lim  buy near term out of the money options  that is 
ited downside risk and enormous upside potential  options that are about to expire  perhaps in the
we demonstrate the ability to recognize this class next few weeks  which require a large price move
of trades using machine learning algorithms and in a short amount of time if they are to not exthe rich features available for option markets  we pire worthless  these options are inexpensive and
present a simple trading strategy that buys a port  the maximum downside risk is simply the purchase
folio of selected options and show that it generates price  however  the upside reward can be phenomoutstanding returns 
enal if the options expire in the money 
note that informed trading does not necessarily mean insider trading  we are looking for
  background
large unusual trades that are likely to have been
made by hedge funds or institutional money managers with the resources to draw  legal  conclu    equity options market
sions about companies  such trades are denoted
while many people are familiar with debt and eq  informed trades in options parlance  and the manuity markets  knowledge of option markets is far agers running the funds are known as informed
more limited  while there are several types of op  traders 
tions markets  we will be concerned with the equity while human beings notice unusual option trades 
options market  which is simply a public market for it can be difficult to tell if such trades are indicastock options  the chicago board of options ex  tive of an informed trader with private information
change  cboe  is the largest and most important about the stock  indeed  while cao     finds that
equity options market in the united states  the options are a good predictor of material events 
cboe lists options on over       stocks  in gen  pan     finds that it takes several weeks for stock
eral  most us equities with market caps of      prices to fully adjust to the information given by
million or more have publicly listed options avail  options volume  it is here that we will apply maable to trade 
chine learning to help us recognize informed option
although stock market prediction is a classic ma  trades that are highly likely to be profitable 
chine learning problem  hardly any work has been
done in the options market  despite this  we believe that machine learning in the options market  
approach
can be very fruitful  because options are expiring derivatives with a theoretically optimal price      stock option classification
options have wonderful features upon which to apply machine learning  option volumes for many for this problem  we consider publicly traded eqstocks are generally low  the consequence of this uity options  since call options are more often used
 

fiwith institutional participation  for more intuition behind these rules  see our original project
proposal 
these rules filtered our data into     candidate options  we split our data into     for training and
    for testing  each option was labeled as positive if its value at expiration exceeded the purchase
price of the option  the training data consisted of
    options with    positive examples  while the
testing data had     options with    positive examples 

for speculation than puts  which are often used for
portfolio protection   we will focus exclusively on
calls  although our analysis could be extended to
puts   each stock has a series of listed options that
expire on a monthly basis  to limit our scope  we
will focus on front month options  i e  options that
expire within the next    days 
given the daily trading data for a particular front
month option  we would like to pose the following
classification problem 
will the underlying stock be trading at a price at
expiration above the strike price plus the purchase
price of the option 
we could have also proposed a regression problem
that estimates the value of options at expiration 
however  since you generally stand to make a large
profit by purchasing out of the money options that
expire in the money  we preferred the clarity of the
classification problem 

   

   

features

the rich properties of stock options afford us a
number of potential features to use for machine
learning  with our python framework  we built
a base set of    features designed to measure the
pattern of buying for the candidate option  we implemented feature selection using backwards search
and dropped the first feature  see next section  
for some learning algorithms  we normalized our
data by rescaling features to        or to a z score 
our final features were 

training and testing data

we gathered trading data from the ivy db optionmetrics database  a comprehensive options
database  data for the entire year of      was
downloaded for the     stocks comprising the russell midcap index  we chose to use this list of
stocks because the average market capitalization of
companies in this index is about    billion  therefore  the options for stocks in this index are liquid 
but have relatively low daily option volume 
a large python framework was built to parse and
assemble the data  the data was initially filtered
to options expiring in    days or less that are at
least    out of the money  this filtered the data
down to        records  each record corresponds
to trading data for one option on one day  at this
point a second key filter was applied  according to
these three criteria 
   the volume for the option exceeds twice
the daily average  unusual volume rule 
   the volume of options traded is at least
     institutional sized blocks rule 
   the change in implied volatility for the option is positive  institutional buying rule 
the first rule finds options with unusual trading
volume  the second makes it more likely that
institutions or hedge funds rather than individuals are participating in the trades  since institutions generally buy large blocks of options  the
third rule shows aggressive buying instead of hedging or closing positions  these filters condition
the data to show only strong  unusual buying

  

how far out of the money the option is as
a   of the stock price
  
price of the option  best closing offer 
  
implied volatility of a standardized    day
at the money option
  
daily change in implied volatility
  
volume   total call volume for the stock
  
volume   one month average total call volume
  
total call volume   total put volume
  
average total call volume   average total
put volume
  
total call volume   average total call volume
    change in open interest from todays trades
    change in open interest   volume
    change in open interest   total open interest
below is an example of what the features would be
for the vertex pharmaceuticals  nasdaq vrtx 
november    call on october          right before
the stock exploded from     to      this option
was identified by several of our models as likely to
be profitable 
vrtx nov          call on october    
    
 

fipercentage out of the money
option price
implied volatility
change in implied volatility
volume   total call volume
volume   one month avg vol
total call volume   tot put vol
average call vol   avg put vol
total call vol   avg call vol
change in open interest  
change in open int   volume
change open int   tot open int

  
     
    
    
    
    
    
    
    
    
    
    

a subset of    features  we found the optimal feature to remove to improve our performance  after
removing this feature  we continued the process by
removing one optimal feature at a time and decreasing the size of our feature subset by one until
there was no longer any recognized improvement 
figure   shows the iterations of this algorithm until convergence  this optimal subset contains    of
our original features  we can see from the last few
iterations of the backwards search that the overall
error will remain the same if several of the features
are kept or discarded  this implies that these features most likely will not decrease the effectiveness
figure    example features for an option
for this example  vrtx closed on october     of the learning algorithm  but will not improve it
     at         buyers came in and bought four either 
times the average number of calls  paying up for
them  implied volatility went up   the overall     learning algorithms
number of calls they bought at all near term strikes
was      times the average  vrtx reported earn  for the classification problem we evaluated several
ings and discussed its new drug telaprevir two days learning algorithms including smo  svm light 
logistic regression  and boosted decision trees 
later 
we replaced logistic regression with l  regularized
bayesian logistic regression  which gave us much
    feature selection  backwards better results 
search
for the support vector machines  we found that a
polynomial kernel clearly gave us the best results 
we performed a grid search over the regularization
parameter c and the kernel polynomial degree d
using smo to optimize the svm parameters  see
the results section  
we evaluated boosted decision trees using gentleadaboost  boosting did not perform very well 
but we include some of our results using boosting
for comparison 
each training and testing example is a pair
 y  i    x i     where y  i  indicates whether the stock
price was above the option strike price   the total
cost of the option at expiration  and x i  is a vector
of our    option features 

 
   

experimental results
parameter optimization

we ran a simulation to find the optimal value of
the degree d for the polynomial kernel and of the
in order to find an optimal subset of features to use  error penalization parameter  c  for the smo alwe implemented a feature selection algorithm us  gorithm  the degrees of the polynomial chosen
ing a backwards search  starting with    features ranged from   to     and we found that in genand using our bayesian logistic regression model eral the smo ran faster for higher degree poly see section     we found the baseline performance nomial kernels and slower when c was increased 
of our algorithm on a dataset  running the same also  smo ran significantly faster on the normalalgorithm  removing one feature at a time to form ized data compared to the raw data  the maxfigure    feature selection process with backwards search

 

fipasses value of      was found to be good enough tradeoff of low precision and low recall  overall  it
to get consistent results and tolerance of        was averages out these ratios  and therefore provides a
used  the following table summarizes the simula  decent model 
tion result 

figure    precision  recall  accuracy for svm parameter c

figure    grid search for optimal c and d

the best d and c parameters were found to be   
and   respectively based on the accuracy  number
of true positives  and number of false positives  it
is important for the algorithm to have as many
true positives as possible since it would allow us
to profit from these trades while minimizing false
positives as these trades would lose money  figure   shows the number of true positives and false
positives using a polynomial kernel of degree   
for various values of c 
figure    precision  recall  accuracy for kernel degree d

we ran a similar simulation for svm light and
bayesian logistic regression to obtain the best d
and c parameters  for svm light  we also used
j parameter which is a ratio of cost on false positives to false negatives 

   

figure    search for optimal svm polynomial kernel

figure   shows the accuracy  precision  and recall for different values of c  while degree is held
constant at d       from this figure  we can
clearly see that precision and recall are both maximized around c      while accuracy is still fairly
good 
likewise  figure   shows the corresponding accuracy  precision  and recall for various values of degree  with constant c      from this graph  it
can be seen that a degree around    minimizes the

testing results

after coming up with the optimal parameters  we
ran the learning algorithms and obtained the outputs  in the optimal case  the learning algorithms
obtained five true positives   albeit not all the same
  and around    false positives 

figure    training and testing precision  recall  accuracy

 

fi   

 

trading strategy

future work

we then came up with two different investment there are many ideas that this project could have
scenarios  in the unweighted case  we invest an employed  some of which are 
equal amount of money in each of the output rec   our work used information from the past
ommendations from each learning algorithm  in
trading days by looking into    trading day
the weighted case  we add more weight to the
moving averages  but we could employ more
outputs that different learning algorithms all reca sophisticated time series analysis to create
ommend and less to the ones that are unique to
better features 
each of our learning algorithms  for instance  if
   we used end of day summary data which  for
svm light  smo  and bayesian logistic regression
instance  did not look into the number and
all recommended buying option a  then we assize of trades during the day  because of
signed   times more weight to it than to an option
this  we might have missed crucial insights
recommended by only one algorithm  we then calon whether the volume was created by one
culated the returns which are shown in the table
large buyer or a few small buyers 
below  in the weighted case  the options recom  
we used backward search for feature selecmended by bayesian logistic regression had the
tion 
but could experiment with other feature
most returns  while the svm light recommendaselection
algorithm 
tion performed the best for the unweighted case 
   we could use the characteristics of the undersome of the weighted returns more than double
lying stock as our features to link the option
the initial investment  investing in random opprice movement to that of its underlying astions produced negative returns 
set 
   we could explore the data on put volume
and the downward movement of the underlying stock to detect if information was leaked
prior to bad news  stock decline  
figure    returns from our options trading strategy

 
 

summary

related work

a large number of machine learning techniques
have been applied to the stock market  we mention some particularly relevant papers here  our
paper is in the spirit of choudhry and garg     but
using options features instead of technical analysis  the use of svms specifically for financial
time series forecasting was studied by tay and cao
    
a fantastic paper on detecting insider trading
using machine learning techniques was given by
donoho      some of our features are based on
his ideas  although we are more focused on detecting institutional buying while he focuses on insider
trading 
a small number of recent papers have focused on
the options market  recently  audrino and colangelo     used regression trees to predict implied
volatility changes and demonstrated a successful
trading strategy with their results 
interestingly  informed trading has been extensively studied by game theorists  with many nonintuitive results  the pioneering work was done by
kyle     

the goal of this project was to detect informed
option trades using machine learning techniques 
we used four different learning algorithms smo  svm light  bayesian logistic regression  and
boosting   to learn from     stocks worth of data
from       we wrote scripts in python to process
large amounts of data obtained from the database
and filtered them to options showing strong unusual buying  we normalized the data  and ran
various simulations to obtain the optimal set of
parameters for different learning algorithms  our
algorithms learned from the data and detected
many trades that were profitable  as discussed
in the results section  investing in the options recommended by our algorithms generated significant
returns  to be more confident on the ability of our
algorithms to learn  we need to test it on larger and
varied test sets over longer time periods to see if
the positive returns can be generated consistently 
we will also be looking to find the best set of features and analyze the training set to improve on
the classification error 
 

fi 

references

    cao and tay  financial forecasting using support vector machines  neural computing applications           pp          
    donoho  early detection of insider trading in
options markets       
    audrino and colangelo  option trading strategies based on semiparametric implied volatility
surface prediction  august      discussion paper
no          
    kyle  continuous auctions and insider trading 
econometrica           pp            

    cao  chen  and griffen  informational content
of option volume prior to takeovers  journal of
business           pp            
    pan and poteshman  the information in option volume for stock prices  review of financial
studies           pp          
    choudhry and garg  a hybrid machine learning system for stock market forecasting  world
academy of science  engineering  and technology 
         pp          

 

fi