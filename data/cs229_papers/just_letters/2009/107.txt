n gram based text attribution
patrick leahy

   introduction
quantitative authorship attribution refers to the task of identifying the author
of a text based on measurable features of the authors stylea problem that has
practical application in areas as diverse as literary scholarship  plagiarism detection  and criminal forensics  attribution methods generally follow a generative
approach  wherein a statistical profile is created for a set of candidate authors 
based on certain features of the authors writings  and the author whose profile
most closely resembles the corresponding features of the unclassified text is selected  potential features include word and sentence lengths  letter frequencies 
word frequencies  vocabulary richness  word collocations  and more sophisticated
 but not necessarily more useful  patterns that appear after syntactic tagging 
keselj et al         make a case for the use of character n grams  i e  sequences
of n characters that occur in the text  one of the most attractive features of
this approach is its ease of application  not only does it require no preprocessing 
but it is language independent  and can be applied as easily to chinese or thai
as to english  the particular algorithm they propose relies on a formula for the
divergence between two distributions  in this paper we study the effectiveness of
a slightly different implementation  one that uses a nave bayes classifier  due
to time limitations  we considered only cases in which there are two candidate
authors  but our procedure could just as easily be applied to sets of three or more
candidates 
   methodology
for each candidate author  we created two training texts  each a compilation of
multiple texts written by that author  our program scanned through these training texts and counted the number of occurrences of each character n gram  ignoring
whitespaces but including punctuation  it then compared the two lists and discarded any sequences that were not found in both  this was done to ensure that
very infrequent n grams  such as those that appear only once in the entire training
set  would not be included  nor would n grams that appear very often in one of
the authors texts but not at all in others   the   gram bingley  for example 
appears very often in pride and prejudice  but not at all in jane austens other
novels  thus we would not say that it is a feature indicative of her style   the
 

fi 

patrick leahy

counts of the remaining n grams were then converted into frequencies  which constituted our feature set for that particular author 
having constructed a profile for each candidate  we then generated n gram counts
for our test document  in order to determine its authorship  we applied a nave
bayes classifier  the reasoning for which we will describe briefly  by bayes rule 
the probability that a text belongs to class c  given that it contains features
f    f         fn   is given by
p c   c f    f         fn    

p c   c p f    f         fn  c   c 
p f    f         fn  

the nave bayes model makes the  rather strong  but apparently viable  assumption that each of these features is conditionally independent of all the others  in
which case the equation reduces to
q
p c   c  ni   p fi  c   c 
p c   c f    f         fn    
p f    f         fn  
since we are not interested in the actual value of p c   c f    f         fn    only in the
likelihood that c is the author relative to the other possibilities  the denominator
of this equation can be ignored  our problem becomes that of finding
cmap   arg max p c   c 
c

n
y

p fi  c   c 

i  

  arg max log p c   c   
c

n
x

log p fi  c   c  

i  

  where the transformation in the second step is applied so  the class priors
p c   c  indicate the prior probability that a text belongs to class c  i e  was
written by candidate author c  normally  we would estimate these probabilities
based on the relative frequency with which each class occurs in the training data 
but in our case the training data are the product of artificial selection rather than
random sampling  thus we assign each class an equal prior probability  because
we have no reason to believe that a test document is more likely to have been
written by one candidate author than another  the probability p fi  c   c  can
be interpreted as the likelihood that a feature fi occurs in a text given that it
was written by candidate author c  and we estimate it by the frequency of that
feature in the authors profile  note that if fi does not appear anywhere in their
profile  then p fi  c   c       while there is  in actuality  a non zero chance that
an author will use any particular n gram  we leave these probabilities as zero given
that the appearance of fi does not increase our belief that c is the author of the
text 

fin gram based text attribution

 

   evaluation
we first tested our program on the classic problem of the federalist papers  of
the    papers  which were published under the pseudonym publius     are known
to be the work of alexander hamilton     of james madison  and   of john jay 
while    papers have been attributed to both hamilton and madison  mosteller
and wallace        were the first to employ statistical techniques to determine
the authorship of the    disputed papers  basing their analysis on the relative
frequencies of    function wordswords  like prepositions  auxiliary verbs  and
articles  whose role is grammatical rather than lexicalin the writings of hamilton and madison  they concluded that madison was the author of all     and
subsequent studies have affirmed their results  the federalist papers have since
become a benchmark of sorts for the evaluation of authorship attribution methods
 holmes and forsyth        
we constructed two training texts for both madison and hamilton  each comprised of half the papers the respective founding father is known to have written 
we then ran our program on each of the    disputed papers for n                
figure   shows  for each value of n  the number of useful n grams in the authors
profiles 

fi 

patrick leahy

the results were encouraging  our program identified madison as the author of
all    papers  and did so regardless of the value of n  as an example  the results
for n     are shown in figure   below 

we also ran a second  slightly more extensive test in which the classifier had to discriminate between random excerpts from the novels of joseph conrad and henry
james  each of the    test documents   by each authorconsisted of approximately         words  while the classifier was trained on random selections of
approximately         words  the results of this second test are given in the table
below 

n accuracy
 
    
 
    
 
    
 
    
 
    
 
    

once again  the classifier performed quite well  though its accuracy began to decrease as n increased 

fin gram based text attribution

 

   conclusions
our preliminary results suggest that a nave bayes classifier trained on character
n grams can successfully discriminate between authors with fairly similar styles 
more generally  character n grams seem to offer an adequate representation of an
authors stylistic signature  that said  quite a bit of further testing needs to be
done  in particular  we would like to determine a  roughly how large the training
corpus needs to be for this approach to produce reliable results  b  roughly how
large test documents need to be for them to be classified correctly  and c  whether
this approach can be applied to more complicated attribution taskssuch as when
there are not just   but    or even     candidate authors  we are also interested
in whether other methods  such as support vector machines  could perform better
than a nave bayes classifier 
   bibliography
   holmes  d   and forsyth  r          the federalist revisited  new directions in authorship attribution  literary and linguistic computing               
   keselj  v   peng  f   cercone  n   and thomas  c          n gram based author profiles for authorship attribution  pacific association for computational
linguistics 
   mosteller  f   and wallace  d          inference and disputed authorship 
the federalist  reading  massachusetts  addison wesley 

fi