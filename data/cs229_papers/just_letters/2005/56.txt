tracking a ground vehicle from an autonomous helicopter
mark woodward
the goal of my project was to build a system that can track and follow a moving
ground vehicle from an autonomous helicopter  there were four main components to the
system    locating the vehicle in an image    transforming the image location to a world
location    filtering the world estimates and    generating trajectories for the helicopter
to follow 
the major hardware components for this project are shown in figure    they are the
x cell tempest  a   th scale r c truck  and a wireless vision system 

figure   
the vehicle is located using a recursive color centroid algorithm  figure    contains
the pseudo code for the algorithm  at a high level  the centroid of all pixels from a
specific window that match a filter is computed  then a new smaller window is generated
with it s center at the previous centroid  this recurses until a minimum window is
reached  this recursive technique was developed because it is very tolerant to outliers 
once the vehicle is found in image coords  it projected onto the ground plane to find
the location of the vehicle in world coordinates  the general idea is depicted below in
figure    this project involves a number of different transformations  image to camera 
camera to helicopter  and helicopter to world 

ficonvert image to hsv
loop  
for all pixels in window  
if pixel satisfies parameters  
x total    x 
y total    y 
matches   
 
 
car x   x total matches
car y   y total matches

p cam

dir 

 x  y    

if  window   min window 
break
window center    car x  car y 
window   window  
 

x   p camera x   t dir car x
y   p camera y   t dir car y
    p camera z   t dir car z

figure   

figure   

i then use a kalman filter to estimates the state of the car  the kalman filter is used
for two main reasons     because the single estimates of the car s location can be noisy 
and    because the derivative information of velocity  orientation  and angular velocity
are useful when generating intercept trajectories  figure   shows the kalman filter run in
simulation  along with the motion model used for the car 

x
y
v
theta
dtheta

 
 
 
 
 

x   v cos theta  del t
y   v sin theta  del t
v
theta   dtheta del t
dtheta

figure   

fipresently  a pd hover controller is used to command the helicopter to locations near
the tracked target  as we move to more aggressive controllers  the helicopter will pitch 
yaw  and roll as it approaches the target  due to these motions  the camera can loose
view of the target  i will next implement an a  search for trajectories that  when
followed by a given controller  will trade off maximize the time that the vehicle is in
view and minimize the time to reach the target  the heuristic for this search will be
learned in simulation  figure   outlines the major points of this approach 

 a 

 state 
s    s heli  s car  s heli  s car 
 cost
of each node 
c n    a time   b  percent time not in view 
 heuristic
for each node 
h s    theta s

 learning the heuristic
 run in simulation
error
after each step  update theta to minimize error
   h s t     h s t     c s t    c s t  
figure   
in summary the system successfully tracks and follows a moving ground vehicle 
future work will allow the system to more aggressively approach and follow the target 
i would like to thank my advisor andrew ng  and a number of other people who have
made this project possible through advising and contributing code  adam coates  peter
abbeel  sudeep banerjee  patrick mihelich  and alok deshpande 

fi