predicting the success of a retirement plan
based on early performance of investments
cs    autumn      final project
darrell cain  aj minich
abstract

ideally  the retiree would like to select a rate that
results in the funds being nearly completely exhausted
at the end of his or her life   for the purposes of this
paper  we will assume that the retirement span r is
exactly    years   by setting the final amount fr to
zero  we can calculate a special iwr called the safe
withdrawal rate  or swdr  the swdr represents
the maximum amount a retiree can spend on a yearly
basis without borrowing  that is  the optimal balance
between retirement lifestyle and financial security 
this concept raises perhaps the most important
question in retirement  how does one decide his or her
own swdr  after all  the equation for iwr  and thus
swdr  depends on growth and inflation rates
throughout the retirement  which the retiree obviously
does not know at the beginning of retirement  there is
also the issue that  historically  the variance can be quite
large  the swdr reaches as high as     in good times
 such as            and as low as    in depressed
economies  selecting a low swdr hedges risk  but has
a significantly negative impact on the golden years that
the retiree has worked so hard to earn 
the current approach was pioneered in      by
bengen   and involves calculating the historical swdrs
for an asset and then choosing the minimum of those
values  the approach relies on the idea that the market
will perform no worse than it has at some point in the
past  for years  financial planners have used bengens
method to attain the rule of     which  as mentioned
above  is the absolute minimum of all swdrs in the
period over which financial data is available            
although this approach promises     
certainty of a successful retirement  it is rather
conservative  requiring the retiree to live as if their
retirement will span the worst economy in the last
century  thus in the vast majority of cases  the rule of
   leaves the retiree with significant savings at the end
of retirement  experimentally  this can be as much as   

using historical data on the stock market  it is
possible to predict the historical success rates of given
retirement plans  the fundamental problem with
retirement planning is the inability to collect data on the
performance of the investments in the future  thus a
retiree often does not know whether or not his plan
will succeed or fail until they are well into the plan
itself  in this paper  we address the effectiveness of
assessing a retirement plan based on the first few years
of market performance 

introduction
many wage earners face great uncertainty upon
entering retirement  even with enormous savings  their
own futures and the future of investment markets is
impossible to predict  given the wide number of
variables affecting their portfolios performance 
retirement planning is often a long term bet based on
very little information  a retirees worst financial
nightmare  of course  is running out of savings before
his end of life  so the consequences are dire if he places
the wrong 
to capture the predicament facing retirees  we
develop an equation called the initial withdrawal rate
 iwr  equation which gives the percentage amount of
the initial savings that can be spent over each year
 taking inflation into account   this equation predicts
the annual yearly buying power of a retiree over the
course of their retirement 

where gi is the growth of the assets in period i  infi the
inflation in period i  r the number of retirement years 
fr the amount of money left over at the end of
retirement  and i  the initial savings   see appendix 
calculating swdr for a complete derivation  

  william p  bengen  determining withdrawal rates using historical

data  journal of financial planning  october       pp       

 

fipredicting the success of a retirement plan based on early performance of investments

times the initial portfolio value   as an added difficulty 
the retiree will often adjust the yearly withdrawal rate
based on previous years rates  which increases the
retirement plan swdr but adds nonlinear terms to the
iwr equation  bengens method cannot account for
these
sophisticated
year to year
relationships 
generating suboptimal numbers even when the retiree
performs the most basic withdrawal adjustments 
though the retiree can increase his withdrawal rate
above bengens conservative estimate during the
retirement  he will need to live frugally in the early years
of retirement and only increase his withdrawal rate near
the end of the plan  this situation  too  is suboptimal 
the retiree would prefer to live above his means during
the first few years of retirement and make adjustments
after a certain number of years 
we aim to develop and test an algorithm whereby
a retiree could predict his retirement plans full length
swdr after only five years of retirement  if it is
possible to predict the swdr for a given retirement
before the retirement is complete  then the retiree can
adjust his income within a few years of entering
retirement  for the purposes of this paper  we will
consider the algorithm successful if  with only five years
of retirement portfolio financial history  it predicts the
   year swdr within     of the true value with    
confidence 

the output results are the actual safe withdrawal
rates for the    year periods corresponding to the data
sets  thus we let
swdr for    year period in year
i 
given all input features   one can calculate the
exact swdr
using the equations discussed above 
however  we focus on attaining sufficiently accurate
swdr when we limit the features down to only the first
years of growth and inflation data  thus we
define

thus
would be a set of input features
containing   years of growth inflation data  and based
on a retirement portfolio beginning in year   of our
historical data  which is       given that our data
begins in       

modeling with linear regression
first  we assume that the data follows a fairly linear
relationship  allowing us to use linear regression to
generate a model of the data  we select a value
 
define x to be a matrix containing successive
on
each row  and y as a vector containing the values for
those corresponding years  in creating our linear
regression model  we are looking for a hypothesis
vector that satisfies
 we have included a y
intercept in our definition of
   thus as long as the
training set contains more than
examples  we
can solve our model using least squares approximation 

creating a dataset
we start by building a dataset on which to test our
algorithms  we define the set of input features to be
the following parameters 
 growth data g of each asset for each year of the
retirement
 inflation data inf for each year of the retirement
 average return r of the entire portfolio for the   year period
 standard deviation  of the portfolio for the   year period
we add the last two features primarily to differentiate
between different portfolios which may have the same
types of assets  but differing amounts of each 
thus for an n year retirement period beginning in
year i  we define our vector of input features as

for each value of
  we used a
training set composed of     different portfolios
beginning in different years to generate our model  and
then ran our prediction on a test set containing k  
       such different portfolios  we define the error
  mean error
and the failure rate
as
follows 

 

fierror relative to true swdr

predicting the success of a retirement plan based on early performance of investments

performance when more than seven years of data are
available 
however  when we investigate the size of the
maximum errors affecting both the mean error and the
failure rate  we see that the model can generate truly
useless results 
in     of all instances  linear
regression may predict a swdr twice as much as the
actual value  or it may predict that the retirees swdr is
negative  he must continue adding money to fund his
retirement  while useful for giving us a baseline for
performance  linear regression fails to provide
sufficiently precise answers 

mean error   linear regression

   
   
   
   
  
  
  
  
  

                                       
number of included years  m 

  of test instances with
     relative error

   

modeling with a support vector
machine

failure rate   linear regression

   

linear regression fails in part because it expects
the values to lie along a hyperplane  despite the
inherent nonlinearity of our problem 
a more
sophisticated fitting algorithm  such as a support vector
machine  svm   could model these relationships and
predict swdr values in a high dimensional feature
space  additionally  an svm fits naturally with our
intuition that only certain growth and inflation rates in
our input feature set  particularly the high gain and
high loss years  will have a discernible impact on the
actual swdr value  and will thus become our support
vectors 
since an svm mainly works as a binary classifier 
we will modify the problem statement as follows  a
given withdrawal rate can be either above or below the
swdr  indicating the potential success or failure as a
retirement plan  in this case  the swdr serves as a
boundary value between the set of all successful and
failure withdrawal rates  we choose a set of evenly
spaced withdrawal rates above and below the swdr 
and include these as input features along with the
corresponding growth and inflation rates  for each
withdrawal rate below the swdr  the classifier is   
 indicating a successful withdrawal rate   and for each
rate above the swdr  it is     indicating failure   after
training the model and running a prediction  we identify
the original swdr by feeding in several withdrawal
rates along with the growth and inflation conditions
and identifying where the boundary lies 
it is important to note that  while this method
results in a better model  its error depends not only on
the classification success but also the spacing
between the withdrawal rates used to create the new

   
   
   
   
   
  
  
 

max error relative
to true swdr

    

                  
number of included years  m 

max error   linear regression

    
    
   
   
   
   
  
                              
number of included years  m 

the figures above show the average error  the
failure rate and the maximum error across m  we can
see that the mean error reflects generally good
performance  with relative accuracy dropping to within
    of the true value after only
years  the
failure rate also reveals reasonable performance  with
fewer than     of instances resulting in poor
 

fimean error   svm

   
  
  
  
  
  

                                       
number of included years  m 

  of test instances with      relative error

    
    
   
   
   
   

 

linear regression
svm

   

linear regression
svm

  

failure rates comparison

   

max error comparison

    
max error relative to true swdr

error relative to true swdr

predicting the success of a retirement plan based on early performance of investments

                  
number of included years  m 

satisfy our requirements  with
  the cases of
failure drops below      thus with the svm  we have
successfully predicted swdr within the desired
tolerance given only the first five years of retirement
portfolio performance 
similarly  the maximum error with the svm is well
below that of linear regression  especially for
when it drops below     worst case  this error
bound represents a significant improvement over linear
regression  and proves that we may be confident in the
results generated using the svm 

   
   
   
   
  
  
 

conclusion

                  
number of included years  m 

although linear regression failed to provide a
successful prediction algorithm  a standard svm with a
linear kernel met our criteria  with the svm  we can
predict swdr to within     in     of test cases  and
to within     in all of the test cases  although we
imagine that a retiree would want better accuracy for
the purposes of retirement planning  we point out that
the retiree must take on some risk in order to maximize
the annual withdrawal rate  using our proposed
method and taking on minimal risk  the retiree may  in
some cases  withdraw     more from his portfolio
annually than when using bengens approach to
calculating the swdr  with those additional funds  the
retiree can enjoy more of the retirement funds he has
worked so hard during his life to earn 

feature set  even when the svm properly classifies the
boundary value  the resulting swdr prediction can be
as much as
  thus we will define the svm s error
not as the ratio of misclassified training examples  but
as the error between the predicted boundary value and
the actual swdr  to minimize this value  we will
declare a very small step size  typically around       
or       
the results for the described svm   are shown
above  the method achieves excellent mean error 
falling below    after   years  the failure rate results 
compared above to those of linear regression  also
 

r  e  fan  k  w  chang  c  j  hsieh  x  r  wang  and c  j  lin 
liblinear  a library for large linear classification  journal of
machine learning research                      software available at
http   www csie ntu edu tw  cjlin liblinear 

 

fipredicting the success of a retirement plan based on early performance of investments

appendix  calculating swdr
originally written by darrell cain for cain watters and associates 
utilizes historical financial data from ibb to calculate appropriate
swdr  given an initial portfolio and the years across which the
retirement lasts 

we now have the equation in a state where the cwr for
the initial amount can be explicitly solved  for a retirement
over period r  the following equation holds 

at the start of retirement an individual has an initial
amount of savings  at any given point in time the individual
will withdraw a specific amount of money from that savings 
for all analysis done the point of withdrawal is chosen
to be the end of the year  from this the current withdrawal rate
 cwr  is defined 

it is important that in each retirement scenario the
theoretical retiree does not use information from future years 
this is important because this is the case in actual retirement 
therefore withdrawal is done at the end of each year because
the inflationary adjustment will not be known until that point
we choose to interpret this process as the retiree has a
certain cash reserve set aside from which they draw their day
to day livings  at the end of the year the retiree then restores
that amount with a withdrawal from their assets 
the advantage of the first is it takes into account the day
to day living expenses of the client  the disadvantage is that
the client has to have at least a years budget in cash reserves 
a fact made harder by the client not knowing what the
inflationary rate is for that year  this can be mitigated by the
observation that the inflation rate is unlikely to be    
percent  in which case the client will notice and make
appropriate modifications with their planner  so putting aside
two years of expected withdrawals before retirement in cash
will help 
thus we have the concept of the initial withdrawal rate
 iwr  equation  the iwr relates the approximate yearly
buying power of a client for r years over a given set of growth
and inflation 

the cwr for year i is given as the withdrawal amount
w in year i divided by the amount of money the retiree has
in year i 
the goal of retirement is to predict the buying power
needed by the retiree for each year and make sure that
amount is available that year 
each year the remaining amount of money grows by
growth rate g  this gives the following equation for the
amount of money left at year i  note that withdrawals are
made at the end of the year  this will be addressed later 
while this equation is fairly straightforward it has i
number of decisions     and i   number of parameters
 
and    it would be preferable if we can get the
equation down to   decision 
to do this we examine the withdrawal amounts of each
year  the goal of the retiree is to preserve his lifestyle 
ideally the amount of money withdrawn can purchase the
same lifestyle each year  however the amount of money
needed for a given lifestyle changes each year  the
measurement of this change is captured in the inflationary
index  representing inflation as inf  we can calculate the
relationship between successive withdrawals as 

thus for the theoretical retiree in with saving i that
wants to end with savings f can calculate their initial
withdrawal rate if they know the next r years of growth and
inflation 
a specific type of iwr is when f is set to    in that
case the amount is called the safe withdrawal rate as the retiree
will just run out of money at the end of their retirement 
the problem with this approach is the inability to
predict a successful retirement until all the growth and
inflations are known  however there is strong evidence that
the equation strongly depends on the interplay between the
first few years of growth and inflation  if a reasonable
prediction of whether or not a successful retirement can be
reached with less than the full retirement period then
considerable value could be derived 

 
is defined as the initial withdrawal amount 
with some manipulation the equation becomes

dividing both sides of the equation by the initial amount
gives

 

fi