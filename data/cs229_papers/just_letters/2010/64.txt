an unsupervised approach to email label suggestions
david harwath  nikhil johri and edouard yin

abstract
organization of an email inbox can often become tedious  especially when one receives numerous
emails per day  we propose an automatic label suggestion system for email  which uses an unsupervised
approach to cluster related emails together based on both latent features  such as the semantics of the
email  as well as direct features like the sender and recipients  our approach utilizes latent dirichlet
allocation  lda   a popular topic modeling technique to determine the topical distributions of each
email  these latent distributions are then used as features  along with the more direct features  in the
clustering of the emails via k means clustering  finally  labels are suggested for each cluster  using its
most prominent features  to describe the emails within it 

   data collection
email inbox data was collected in two ways for this task  two personal email inboxes were downloaded
by the authors  consisting of approximately       and        emails respectively  additionally  smaller
sized inboxes were taken from the enron email corpus  we only report tests that have been run on the
smaller enron inboxes 
the data was cleaned using simple regular expressions to remove email headers and unwanted
characters  such as forwarded email metadata  hyperlinks and numbers 

   topic modeling
we ran lda over a number of inboxes of the enron email dataset  we utilized the lda implementation
of the stanford topic modeling toolbox   using the default parameters of the toolbox for      iterations
and    topics  the sizes of our inboxes varied from     emails to       in table    we demonstrate some
of the topics we observed  topic   shows a topic relating to financial matters  particularly about banks
and lenders  while topic    deals with personal  partly cheerful emails and topic    is a topic about
management  despite running our tests on a very restricted corpus  there are still some clear themes
that we can see in output of the topic model  

 

http   nlp stanford edu software tmt tmt     

fitopic  
lenders
budget
model
want
banks
review
eca
peter
lender
rights
s w
sponsor
costs
contingency
mary
opic
arrange
support

      
      
      
      
      
      
      
     
     
     
     
     
     
     
     
     
     
     

topic   
i m
        
make
        
happy
        
sure
        
day
        
think
        
hope
        
thinking
        
great
       
message
        
let
        
home
        
good
        
sue
        
lot
        
love
        
birthday
        

topic   
ets
        
president
        
counsel
        
general
        
vice
        
mike
        
chairman
        
report
        
director
        
currently
        
ceo
        
organization         
managing
        
role
        
businesses
        
wholesale
       
continue
       
business
        
global
        

table    a sample of the topics discovered by running lda over an inbox in the enron email corpus 

figure    distribution of topics across all emails

fifigure    a block diagram
view of our system  all
testing was done on email
inboxes from the publicly
available enron email
corpus 

figures   helps in visualizing the influence of the topic models  we observe that there are about  
dominant topics out of the    found for this particular inbox  and we find these to be among the topics
that dominate clusters  invoking label suggestions based on top words of the topics 

   k means clustering
once we have the topic distributions  we include them as features for our unsupervised k means
clustering of the emails  we also use  as direct features  the sender of the email  the recipients and the
prominent subject words  additional features that may be interesting to include are whether or not the
email was from a mailing list  or whether the email was sent to single or multiple recipients 
we ran our algorithm on several inboxes and our initial results showed that the binary valued features
 i e  sender  recipient  subject words etc   overpowered the real valued topical weights which had values
ranging from   to    this is to be expected  given that the most dominant topic present in an email will
never have a value greater than    and will usually have a value between     and       however  this is
not our desired result  since we would like to cluster based on both semantic topics as well as the direct 
explicit features 

fitable    a sample of the emails clustered by topic   of table    significant topic words in bold 

clustered emails with label suggestion lenders
i spoke with mary mervene this morning and the lenders declined to convene this week although we will arrange
an eca call for thursday or friday  mary has requested that we do the following     send the lenders and s w
the new budget info and the revised change order summary     revise the model to 
the lenders have declined to meet with us at this time  they have suggested the following instead     send the
lenders and s w the new budget info and the revised change order summary     revise the model to reflect
the new costs and the new timeline     s w will review the model and then 
in non default situations the lenders allow the banks to have rights and typically substantial input on waivers
modifications etc  as you can imagine the ifc would not want the liability of being responsible to b banks if they
changed the deal without their consent and the b banks would e uncomfortable turning over that right to a third
party  they would lose control of the credit process
to account for this problem  we add a tuning parameter  to our model  whereby the binary features
could take the value   or  rather than   or    we set the value of  to      which we found gave a good
balance between clusters dominated by topics and clusters dominated by direct features  however  this
value can be altered with respect to the user using the system  as certain users may prefer clustering
based on semantic topics while others may prefer explicitly featured topics 

   results
we present some sample clustering results in table   and table    the results are based on clusters
dominated by topics   and    from table    as one can clearly see  the emails clustered in table   are all
personal emails  usually between the sender and his wife  while those in table   all relate to an issue
involving banks and lenders  our system would provide the top m terms from each topic to the user to
label these clusters with  an intuitive label for the table   emails  lenders  could thus be selected 
clustered emails from personal related topic  see figure   
i was reviewing the pictures you sent  you are not only an adventuress but also a goddess  happy valentines
day  i turned pete down on the offer to stay  i guess i m just ready to move on and this feels pretty dead end
here  but i ll try and catch up with you from time to time if i can  beija rob
i guess you got tied up on some real work  call me back when you have time  are you happy  the london job
sounds great and sometimes the best things happen to us unexpectedly  it was nice to hear your voice briefly  i
miss seeing you 
thanks  same to you  i was not here on the day so this is late but best wishes  kathy m lynn                 
pm to  rob g gay na enron enron cc  subject  happy birthday happy birthday  please tell everyone that
you are    so you don t blow my cover since we were born on the same day  hope you have a great birthday 
table    a sample of the emails clustered by topic    of table    significant topic words in bold 

figiven the subjectivity of email clustering  it was hard to perform a quantitative evaluation  the fact is
that different people have individual preferences with respect to the number of desired labels for their
inbox  and use different heuristics to assign labels  this means that two people looking at the same
inbox may choose vastly different labeling systems  our evaluation is therefore entirely qualitative 
based on the high level cohesiveness and our perception of the quality of the clusters when we read the
results 

   conclusions
looking at the output of our system  we came to the following conclusions 






email label suggestion is difficult for a machine to do the same way humans do because it would
require deep semantic understanding 
topic models combined with sender and recipient information do a good job at finding patterns
in email collections
training data size is very variable  as we want to create a personalized model for each inbox  and
inbox size differs from person to person 
future work could focus on a better way to weight topical data versus metadata  timestamp 
sender address  etc  
one possible way to numerically evaluate the quality of the label clusters would be to set up an
experiment in which a collection of human subjects run the system on their own personal
inboxes  and then give a numerical score to how well they think the system did overall 

   references





blei  d   a  ng  and m  jordan        latent dirichlet allocation  journal of machine learning
research 
macqueen  j  b          some methods for classification and analysis of multivariate
observations  proceedings of  th berkeley symposium on mathematical statistics and
probability  university of california press  pp        
ozcaglar  cagri          classification of email messages into topics using latent dirichlet
allocation  m s  thesis submitted to rensselaer polytechnic institute  troy  new york

fi