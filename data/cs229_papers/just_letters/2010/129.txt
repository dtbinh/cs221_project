prediction of outcome for two team games
   introduction
the speculation of games outcome has become a major part of game itself these days 
generally the past history of several games between players is used to rate players and predict
future games  though there are several rating systems  there is no definitive way of predicting
the outcome of a given game involving two rated players teams  this problem is a challenge
in itself due to the scarcity of features which are general limited to only the players of a given
game and the outcome  inspite of huge historical data for a given game  the data for a given
player is often very small making the prediction more challenging 
note that any inferences or suggestions made in this study is based on historic data for games
of chess  but could be extended to other games with modifications 

   motivation
most of the general rating models tend to predict passively due to the limitations mentioned  in
other words  it is often the case that these models predict equal chances for both the players
in a given future game  in addition to that  since games are generally organized between two
equally skilled players  this problem becomes more evident  on the other hand  even when two
players with notably distinct skills are playing a game  there is a unimaginably high uncertainty
about the chance of weaker player winning  all the above factors would lead to high outcome
prediction errors 

   data
we chose a training dataset with results of       distinct games in chess world between     
top rated players  the data is spanned over    years comprising games from     months 
test data comprises of distinct games over a period of   months  few metrics that describe the
nature of the data 
 average number of games per player is    and standard deviation is    
 maximum number of games between any pair of players is    
 pairs of players that have never played a game in training data is approximately     
though this seems surprisingly high  it is common scenario in games like chess  where
rated players play only a limited number of games 
 when we consider this as a graph with edges representing games between players  the
average length between two players is     and max length between two players is      
these metrics are important for static global models that try to obtain ratings using the
connectivity factors 
on a different note  we observed that it is hard to cluster the data in to any well defined
 concentrated  clusters representing wins  losses and draws using features from any of the
below described approaches 

fi   error
we use root mean squared error as metric to evaluate the predictions since it incorporates
both bias and variance of the estimator  error is calculated as difference between each players
actual wins and predicted chances of winning for every month  root mean square error over
predicted chances can clearly depict the minute changes obtained by each learning algorithm 

   model selection
    btl model
we initially started off with a pairwise comparison model  bradley terry luce model     to
generate partial rankings based on the pairwise results from each game  once rating is
obtained  the probability of a player winning is given as a function of ratings as follows 

p player i beats player j at time t   

where

i t 

is rating of player i 

this model requires o n   number of training games for n players to give good skill rating  for
the same reason when this model was tried over the mentioned dataset  the predicted chances
for players were close to     most of the time 
    naive bayes model
we tried using naive bayes algorithm to predict the outcomes of games  as expected the
rmse was high due to scarcity of per player pair training data  for reference the equation is as
follows 
p player i winning given i and j are playing   

    glicko rating system
under the umbrella of incremental rating systems  we started off with glicko rating system     
which was one of the first systems to consider uncertainty in ratings given to each player  rating
deviation   a high deviation indicates that a player may not be competing frequently  hence the
players ratings are less reliable and viceversa 

fi    true skill
using true skill      one of the well known incremental rating systems  we first rated the players 
after rating the players  we applied the same prediction equation from btl model over these
ratings to predict for test data  there was noticeable decrease in rmse  this change can be
attributed to the rating system of trueskill which allows scope for uncertainty through deviation
factor for each player  we used the following equation to calculate skill ratings for each player
from the mean and variance of their distribution 

skill  
where

is mean and

is degree of uncertainty

    using features from true skill
true skill has provided more defining features  ie mean and deviation  describing the skills of
each player  we tried to use these features and find correlation between them to winning or
loosing a game  the intuition behind applying different models over true skill based features
attributes mainly to the following observed nature of data  when the skill difference is over a
certain threshold  the outcomes were more consistent with predictions  in this direction we made
several attempts described below 
      svm over true skill features
we used svm to find a margin between the data using radial basis kernel and also linear
kernel  svm failed to find a satisfactory margin with fewer support vectors  to be more specific
the number of support vectors were approximately       for a training data of        this once
again iterates the problem of high level of uncertainty 
      logistic regression over true skill features
we used logistic regression to fit the true skill based features with the outcomes of each game
in the training data  the parameters obtained were used to predict the outcomes for a given pair
of players  represented by their mean and deviation   this model had the minimum rmse when
compared to any of the above mentioned approaches 
      logistic regression over true skill through time
normal true skill has drawback of not being able to propagate information back in time  for
example  if player   beats player    but in future player   beats a much stronger player    it does
not adjust the previously given values to player    this is taken care of by true skill through
time      which updates over a game multiple times by removing the affect of old games and
adding the affect of new game  after obtaining mean and variance for each player using this
approach  we ran logistic regression using the same features described in section        the
rmse has dropped noticeably to       and possibly explains fact that even in real world  the
latest game outcomes matter much more than the older outcomes 

fi    miscellaneous
we have noticed slight improvements by various other modifications specific to the game  for
example  giving slightly more chance for white player improves the predictions and chess
literature actually claims that when two equally rated players play a game  white player has
more than     chances of winning  to mention another one  approaches like true skill over
time implicitly give lesser importance to older games  but when we explicitly removed the very
older game outcomes  the predictions improved  may be data dependent  

   final notes
we would like to finally note that  for a problem like game outcome prediction  something like
true skill would provide most basic set of features  over which prediction models can be built 
also additional features based on the nature of specific games should be considered  for
example  home grounds can be advantageous for some games and for a game like tennis  court
type would be an interesting feature 
on a slightly pedantic note  we would like to attribute this hardness of game outcome
predictions to the ever lasting popularity and interest in games 

   results
model

rmse

btl model

     

nave bayes

     

glicko rating system

     

true skill

     

true skill with svm radial basis kernel

     

true skill with svm linear kernel

     

true skill with logistic regression

     

true skill over time with logistic regression

     

fi   acknowledgements
we would like to thank kaggle     for making chess datasets available publicly 

   references
    bradley  r a  and terry  m e          rank analysis of incomplete block designs  i  the method of
paired comparisons  biometrika            
    glickman  mark e   and jones  albyn c          rating the chess rating system   chance              
    ralf herbrich  tom minka  and thore graepel  trueskill tm   a bayesian skill rating system  in
advances in neural information processing systems     mit press  january     
    pierre dangauthier  ralf herbrich  tom minka  and thore graepel  trueskill through time  revisiting
the history of chess  in advances in neural information processing systems     mit press      
    http   kaggle com

fi