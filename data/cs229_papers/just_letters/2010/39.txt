using  social  networks  to  improve  movie  rating  
predictions  
  

suhaas  prasad  

  
introduction  
  
recommender  systems  based  on  collaborative  filtering  techniques  have  become  a  
large  area  of  interest  ever  since  the  netflix  prize  was  announced   in  which  the  system  must  
be  able  to  predict  how  a  user  will  rate  a  movie  based  on  the  rating  histories  of  that  user  
along  with  many  others     these  types  of  recommendation  systems  are  become  ever  more  
popular  throughout  web based  applications   including  e commerce   news   video  streaming   
and  similar  sites     however   it  does  not  appear  as  though  any  of  these  systems  have  
attempted  to  incorporate  a  users  social  network  in  determining  how  they  might  rate  a  
movie   
  
  
the  collaborative  filtering  approach  attempts  to  learn  past  user item  relationships  
by  treating  the  problem  as  a  large scale  data  mining  problem     a  common  collaborative  
filtering  method  is  the  k nearest  neighbor   knn   method  in  which  the  user item  preference  
is  determined  by  looking  at  the  ratings  of  similar  users  or  items     while  most  neighborhood  
based  method  for  the  netflix  challenge  find  the  item based  approach  a  better  option   in  
order  to  incorporate  social  networks   the  approach  outlined  in  this  paper  uses  user  
similarity  to  predict  user item  preferences     in  addition   several  methods  for  using  a  users  
friend  network  to  weigh  user  similarities  and  their  results  are  described     the  data  for  the  
users  ratings  and  social  networks  have  been  provided  by  flixster   a  social  movie  platform  
where  users  can  rate  and  review  movies  with  their  friends   
  
  
to  formally  describe  the  problem   given  a  set  of  users   u   movies   m   a  set  of  training  
examples  of  the  format   user   movie   rating    and  a  set  of  user  connections   user    user     
the  task  is  to  make  a  prediction   pu m   for  a  rating  for  a  user  and  movie     then  the  social  
network  is  represented  by  the  matrix  a   where au  u    is     if  there  exists  an  edge  between  
user  u   
and  u    i e   u   and  naive
u   are  friends   
and     otop
therwise   
moreover  
the  ratings  
matrix  
r   
implementation
cinematch
in the   current
leaderboard
of the
contest
holds  the  urmse
ser movie  ratings   
here   ru m
  indicates  the  rating  given  b      
y  user  u  for  movie  m   
aroundw    
      

which  is  undefined  if  no  rating  exists  in  the  training  set  and  is  on  a     to     scale  otherwise     
table   
 performance of benchmarks
the  effectiveness  of  an  algorithm  given  a  training  set  is  based  on  the  root  mean  square  
error   rmse   on  a  test  set   
   during the training phase  that is  to minimize


rmse   


 



 stest    m u s

test

 rm u  pm u     

   

  
   where  m  u   s
test if user u rates movie m in the test set   stest   is its cardinality  rm u is the
where  
the  npumber  
of  test  cases   m u   in  the  test  set  s   
test   is  and
true srating
m u is the prediction based on the recommendation system 
  
due to the recommendation systems importance in improving service quality  netflix has started


a contest with a grand prize to attract the researchers worldwide to work on this problem  currently  many researchers  including many experts  are focusing on this problem and have made great
progress  the performances of some important implementations can serve as the measures  or
benchmarks  for the quality of dierent algorithms  as shown in table    where naive implementation corresponds to using a constant rating  such as the average of all the available ratings  
cinematch is netflixs original recommendation system  baseline  

fi  
k nearest  neighbor  
  
  
the  premise  of  the  k nearest  neighbor  approach  is  that  similar  users  will  rate  items  
similarly  and  similar  items  will  be  rated  similarly   however   we  will  only  be  examining  the  
user user  similarities  in  the  following  knn  implementation     the  method  assumes  that  user  
rating  sets  are  independent  of  each  other   so  one  might  average  the  ratings  of  similar  users  
for  a  movie  to  predict  how  a  user  would  rate  that  movie     rather  than  simply  average  the  
ratings   knn  uses  a  weighted  average   where  the  weights  are  given  by  how  similar  the  
users  are     therefore   the  predicted  rating  is  given  by   
  

pu m


 


vu mk

sim u v rv m

vu mk

sim u v 

  

  
k
where   u m   is  the  set  of  k  users  most  similar  to  user  u  that  have  rated  movie  m   and  sim u v   
is  the  similarity  measure  of  users  u  and  v     the  two  most  common  similarity  measures  are  
the  cosine  similarity  and  pearsons  correlation  coefficient   both  of  which  are  implemented  
and  compared  
here       cosine  similarity  is  defined  as   
  
mm ru m  rv m
sim u v   
  
 
 
  ru m      rv m  



mm

mm

  
while  the  closely  related  pearsons  coefficient   ij   is  defined  below   
  




  
  
where   i   is  the  average  rating  given  by  user  i     the  values  of  both  cosine  similarity  and  
pearsons  coefficient  lie  in  the  range           but  can  be  converted  to  the         range  if  


finecessary     the  two  similarity  measures  essentially  determine  how  linearly  related  the  two  
ratings  distributions  are   
  
  
incorporating  social  networks  
  
in  addition  to  the  traditional  knn   in  which  the  similarity  of  two  users  is  determined  
by  their  ratings  histories   one  new  approach  examined  involves  increasing  the  similarity  if  
the  two  users  are  friends     the  premise  here  is  that  users  who  are  friends  with  each  other  
will  tend  to  rate  similar  movies  similarly     therefore  the  new  similarity  s  given  sim u v   
from  the  previous  section  can  be  defined  as   
  
s   sim u v        sim u v    w   
  
where  w  and  sim u v   lie  on  the  range         and  w        if  u v  are  not  friends  and        
otherwise     this  essentially  adjusts  the  similarity  closer  to     if  users  u  and  v  are  friends   
  

another  approach  investigated  involves  interpolating  the  ratings  of  a  users  
extended  friends  network     rather  than  use  knn   this  method  looks  only  at  the  ratings  of  
users  within  three  degrees  of  separation  from  the  user  and  averages  the  ratings  of  those  
users   
  

pu m  

 
f u 

r

v m

  

vf u 

  
where  f u   is  the  set  of  extended  friends  of  user  u  that  have  rated  movie  m   
  
  

knn  post  processing  
  
  
some  of  the  modifications  for  knn  that  are  necessary  to  improve  the  rmse  include  
addressing  special  cases  such  as  users  with  no  recorded  ratings   rounding  predictions  that  
are  close  to  an  integer   and  more       
  
for  the  case  of  newcomers   in  which  a  user  in  the  test  set  has  no  recorded  ratings  in  
the  training  set   the  traditional  approach  is  to  use  the  average  rating  for  that  movie   since  
the  similarity  measure  is  useless   
  

pu m  

 
u m 

r

v m

  

vu  m  

where  u m   is  the  set  of  users  that  have  rated  movie  m     however   in  this  case   we  can  use  
the  users  friends  to  gather  a  set  of  similar  users  from  which  to  take  an  average  rating   
  
  


firesults  
  
  
using  the  flixster  data  with        users  and        movies   the  results  of  running  the  
knn  algorithms  with  the  following  parameters  are  as  follows     for  the  baseline  item based  
knn   the  rmse  seen  was  approximately            using  this  as  a  comparison  for  the  user 
based  method   we  see  that  item based  knn  far  outperforms  any  user based  approach       
  

pearson  coefficient   

  

  

cosine  similarity   

pearson   w  friend  weighting  of        

  

fi  
  
as  far  as  can  be  seen   increasing  the  weight  of  friends  ratings  in  knn  does  not  seem  to  have  
any  significant  effect  on  the  rsme     the  use  of  pearsons  coefficient  clearly  surpasses  that  of  
the  cosine  similarity   and  post processing  tricks  appear  to  only  slightly  increase  the  rsme     
moreover  the  approach  that  interpolates  ones  friends  ratings  rather  than  using  knn  
performs  significantly  worse  with  an  rsme  of             
  
conclusion  and  future  work  
  
  
while  the  results  show  no  improvement  by  taking  ones  social  network  into  account   
the  results  are  not  conclusive     the  similar  results  with  and  without  increasing  the  
similarity  of  users  who  are  friends  may  be  due  to  the  sparseness  of  the  social  graph  in  the  
data     given  that  the  average  degree  of  the  network  is         the  principles  of  knn  would  
likely  overshadow  the  use  of  a  users  friends  ratings     moreover   flixster  users  may  not  
necessarily  represent  ones  true  social  graph     a  better  approach  would  be  to  use  facebook  
users  who  use  the  flixster  network   however   this  data  was  unavailable  due  to  facebook  
restrictions     one  of  the  primary  goals  for  future  work  would  be  to  construct  a  data  set  of  
only  socially  active  users  to  see  if  there  is  a  significant  increase  in  accuracy  when  testing  on  
these  users     another  goal  is  to  try  blended  models  using  item based  collaborative  filtering  
methods  in  addition  to  these  user based  methods  that  take  a  users  social  graph  into  
account   
  
references  
  
  

j   golbeck   j  hendler   filmtrust   movie  recommendations  using  trust  in  web based  social  
networks   proceedings  of  the  ieee  consumer  communications  and  networking  conference     
january         
   z   wen   recommendation  system  based  on  collaborative  filtering   stanford  cs     projects          
   t   hong   d   tsamis   use  of  knn  for  the  netflix  prize   cs     projects          
   y   zhou   d   wilkinson   r   schreiber   r   pan   large scale  parallel  collaborative  filtering  for  the  netflix  
prize   aaim                   

fi