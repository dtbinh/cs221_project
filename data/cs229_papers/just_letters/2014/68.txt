final report   application of machine learning to
aircraft conceptual design
anil variyar
stanford university  ca        u s a 

i 

introduction

conceptual design and performance estimation for aircraft is a complex multi disciplinary problem that
involves modelling the effects of the aerodynamics  propulsion  stability and structural response of the aircraft
for a speciifed design mission  however  for applications like simulation of the flights across the entire airspace
as shown in fig    it becomes necessary to model tens of thousands of aircraft simultaneously making the
problem extremely computationally expensive  the goal of this project is to use aircraft performance data
to build surrogate models using different regression techniques and observe which techniques are best suited
for the problem at hand  once the surrogate is build  aircraft missions can be inexpensively simulated
using the surrogate thus allowing us to solve extremely large design problems involving thousands of designs
inexpensively 

figure    air traffic around the world at any instant in time

ii 

data and features

the data used for this problem was obtained by performing simulations on a large number of aircraft
of different sizes using a conceptual design code called the program for aircraft synthesis studies  these
simulation were performed a few months ago as part of a research project with the federal aviation administration  faa   the data set contains the performance estimates of about        different aircraft
configurations at different flight conditions  each data point originally contained    inputs and   outputs 
of the outputs we are only interested in fuel burn for this project  moreover  the input dimension is reduced
to   as described in section a  the   inputs  columns  that are fed into the different regression models are
the aircraft payload  the mission range  the takeoff weight  cruise mach number  wing span  wing sweep and
the wing area  each of these variables is non  dimensionalised to ensure that they remain between   and   
table   shows a sample data point from the training data set  the data is used to create   training sets of
sizes                              and       samples and   test sets each with      samples 

  of  
american institute of aeronautics and astronautics

fia 

feature selection

sequential feature selection is used to reduce the input space from    to   dimensions  the sequentialfs
function in matlab is used for this  it sequentially adds features to an empty set such that they best predict
y  the sum of the squared error based on linear regression is used to evaluate the quality of the feature on
the training set  based on this the   input dimensions shown in the table   are selected 
table    aircraft data

payload
 tonnes 
    

range
 km 
    

takeoff lbs 
weight  lbs 
      

cruise
mach
   

iii 

wing
span ft 
   

wing
area  f t   
    

wing
sweep  deg 
  

fuel burn
 kg 
     

models

the different regression models applied to the dataset are described below 
linear regression
linear regression was the first algorithm tried  the normal equations     x t x   x t y are solved for
the training inputs x and outputs y   was then used to compute the outputs for the test data using
ytest         x      x      the linear regression models seems to work well on the test data  however  the
results are not as accurate as required for the prediction of fuel burn  moreover as the number of samples
are increased  the error does not improve the estimate by much 
weighted linear regression
 

test    
  the
next weighted linear regression is tried on the data with a weighing function exp    xx
   
modified normal equations solved for this case are     x t w x   x t w t y this model doesnt work much
better than the linear regression and is more expensive to compute than linear regression  it also follows a
trend similar to linear regression 

higher order regression
now we look at quadratic regression where we use the formula ytest         x      x      x  x      x    
  x       addition of the higher dimensional features improves the fit to the training data and reduces the test
error as show in fig    however like the linear and weighted linear regression cases  increasing the number
of samples does not significantly improve the test error 

figure    comparison of linear  weighted linear and quadratic regression

  of  
american institute of aeronautics and astronautics

fik nearest neighbours regression
in this method  the k  nearest neighbours of the test point are computed and then the estimate of the
fuel burnpat the test point is obtained using a weighted average of the values at the k nearest points
k

yeval  

i  

w  i ytrain  i 

pk
i  

w  i 

  we use the inverse of the euclidean distance between the training point i and

evaluation point as the weight w  i   the knnsearch function in matlab is used to compute the k nearest
neighbours and this is fed into matlab code written for this project that performs the prediction and iterations
to compute optimal k  to compute the optimal k  an iterative procedure is used and the value of k that
minimises the mean squre error over the training set is selected  the effect of varying k on the mean square
error for the different samples is shown in fig   a   it is observed that although for smaller sample sizes the
k nn algorithm does not perform very well  as the sample sizes are increased  the k nn algorithm is able
to give a fairly good estimate of the fuel burn 
gaussian process regression
gaussian process regression is the next method that is applied to the data set  the reason for trying this
is that in a different study  gaussian process regression was successfully used to build surrogate models for
aircraft propulsion systems  selection of the appropriate mean and covariance functions is a tricky task  for
this study we try   different mean and   different covariance functions as shown in table     the isotropic
matern covariance function along with either linear or quadratic mean function are the best performing
models  figure   b  shows how the different gaussian models perform on the test sets  the capabilities of
gpml an existing matlab code for gaussian process regression suplemented by code written for this project
are leveraged for this study 
table    covariance functions

covariance functions
isotropic matern

isotropic rq

isotropic se

ard se

formula


k x   x     sf    f   d  r   e dr
p
where r is   xp  xq  t   p      xp  xq    
p is a diagonal matrix of the hyperparameters
and sf   is the signal variance
k xp   xq     sf          xp  xq  t   p      xp  xq         
where p is the diagonal matrix of the hyperparameters 
sf   is the signal variance and
 is the shape parameter
p
q t
 
p
q
k xp   xq     sf    e x x   p  x x    
where p is the diagonal matrix of the hyperparameters 
sf   is the signal variance
and x is the matrix of input data
p
q
k x   x     sf    exp xp  xq  t  p     xp  xq    
where p is a diagonal matrix with the ard parameters 
sf   is the signal variance 
x is the matrix of training inputs
p

q

where rq stands for rational quadratic covariance function se stands for squared exponential covariance function and ard stands for automatic relevance detemination which is a distance measure

  of  
american institute of aeronautics and astronautics

fi a  effect of varying k for k nn regression 

 b  comparision of different mean and covariance functions
for gpr 

figure    plots for k nn and gpr 

artificial neural network   multilayer perceptron network
a feed forward multilayer perceptron network is the last method that has been applied to the data 
work done by bryan yukto  as part of his dissertation at mit has shown that feed forward anns provide
promising results for prediction of aircraft parameters  we use a   layer network with   input neuron   
hidden neurons and   output neuron  the network used was arrived at by trying out different   and   layer
networks by varying the number of hidden layers and neurons in these layers  we try both the sigmoid and
the hyperbolic tangent activation functions  for this study the tanh activation function performs better 
morever  standard gradient descent based back propogation is unable to bring down the training error 
thus a levenberg marquardt back propogation error is used for this study  in this method  the gradient g
is estimated using j t e where j is the jacobian matrix computed using back propogation as shown in the
references   and e is the error vector for the n training samples  the hessian h is approximated using
j t j   i   the weights are then updated using w    w  h   g  figure   shows the convergence history
of the network for the case with      training samples  for the current study  we stop the training at      
iterations as the error is already significantly low  anns are promising for the curent application as the
training and test error can be significantly reduced even further by training for larger number of iterations
as shown by the trends  a python implementation of the multi layer perceptron network algorithm along
with the different back propogation methods was written from scratch for this project 

figure    convergence of the the levenberg marquardt based back propogation

  of  
american institute of aeronautics and astronautics

fiiv 

summary of the results

we summarise the results described in the previous section by tabulating the testing and training error
obtained using the different methods in table    the test error stated below are averaged values over the  
test sets of      samples each  for the training set of      samples  
table    comparision of different regression methods

model

training mse

test mse

linear regression
weighted linear regression
quadratic regression
k nn regression
gaussian process regression best case 
multilayer perceptron network

    e  
    e  
    e  
    e  
    e  

    e  
s   e  
    e  
    e  
    e  
    e  

v 

conclusion

we see that machine learning techniques perform well in predicting aircraft performance  gaussian
process regression and artificial neural networks are the most promising methods  gpr allows us to reduce
the prediction errors significantly and the approximation improves as the number of samples is increased 
anns also perform well and importantly as the number of training iterations are increased  the prediction
error can be reduced further  this is encouraging as now  millions of predictions can be performed in a
matter of seconds without resorting to parallel computation  this will allow designer to simulate large scale
aircraft systems like the national airspace system accurately and perform optimizations on air transportation
networks  changing flight paths and schedules  to try and minimize the overall fuel burn of the system without
worrying about computational costs 
another interesting trend that jumps out is that simple methods like linear or quadratic regression also
work fairly well with estimation errors below     this is encouraging as these methods can be used by people
with minimal machine learning experience in cases where quick estimates are required  without having to
worry about the complications of gpr or anns 

vi 

future work

the studies for this case were all performed on conventional aircraft configurations  looking to see if these
methods work for unconcentional aircraft configurations like blended wing bodies etc  will be an interesting
next step  for those configurations  the interactions between the different disciplines are extremely complex
and modelling them using regression methods might not work out as well as they did for this case 

references
  hao 

y  and wilamowski  b m levenberg marquardt training    notes 
c e  and williams  c k i  gaussian processes for machine learning    the mit press        isbn       

  rasmussen 

      x 
  yukto  b  the impact of aircraft design reference mission on fuel efficiency in the air transportation system   phd
thesis  mit aero astro
  ebden  m   gaussian processes for regression   notes 
  hagan  m t  and menhaj  m b  training feedforward networks with marquardt algorithm  ieee transactions on
neural networks  vol    no     november       

  of  
american institute of aeronautics and astronautics

fi