a novel way to soccer match prediction
jongho shin

robert gasparyan

email  jongho stanford edu

email  robertga stanford edu

abstractour hypothesis is that the video game industry  in
the attempt to simulate a realistic experience  has inadvertently
collected very accurate data which can be used to solve problems
in the real world  in this paper we describe a novel approach
to soccer match prediction that makes use of only virtual data
collected from a video game fifa       
our results were comparable and in some places better than
results achieved by predictors that used real data  we also use
the data provided for each player and the players present in the
squad  to analyze the team strategy  based on our analysis  we
were able to suggest better strategies for weak teams

i  i ntroduction
sports betting has motivated many machine learning and rule
based attempts to solve this problem over the years but one of
the most common approaches was using some combination of
previous match results as a feature set  in this paper we attempt
a novel approach to soccer match prediction that doesnt use
match statistics  this  as far as we know  is the first attempt to
predict soccer match outcomes using only virtual data video
game data   our goal is to build a better or at least comparable
predictor than the ones based on real data which will verify
our hypothesis about the validity of video game data 
video games have long become a multi billion dollar industry
for a reason none other than the fact that they are really good 
and the reason they have become so good is because a lot
of resources have been spent on making them as realistic as
possible which requires collecting and curating a lot of real
world data  of course this data has been collected for the sole
purpose of making the video simulation more realistic  thus
more engaging for the user  a representative of the a soccer
video game company said   the information gathered by our
network of more than       scouts around the world  combined
with prozones amazing performance data  makes this an invaluable tool for any football club that takes player recruitment
seriously  if this statement is true  and the video games are
that accurate the question becomes  can data collected by video
games be used for solving other problems in the same medium 
in this paper  we try to answer exactly this question 
the medium we looked at is european soccer and the video
game considered is fifa       makers of this video game are
famous for creating the most realistic soccer player avatars that
look and act very much like real ones  in order to provide this
level of authenticity  experts have been hired to collect information about the playing style of each player and curate this data so
that each player can be accurately represented as a combination
of     features  this features include both physical speed 
power  acceleration  etc  and technical skills dribbling  heading 
accuracy  etc  represented as an integer from   to      these
features are updated constantly as the form of players change

over the season  it is interesting to point out that this data is
already being used to solve other problems   scouts in english
premiere league use video games to look for young  promising
players with specific skills     and not too long ago a video game
player was appointed as a general manager for a real soccer
team   
the remainder of this paper is structured as follows  in
section       we describe the data sources for this project
and preprocessing  section   describes our model selection for
match prediction and results  in section   we used unsupervised
learning techniques to identify the strategy used by the teams
based on their squads 
a  previous work
sports prediction is obviously a very hot topic and has always
packed the interest of sports fans  also  in countries where sports
betting is legal  sports prediction is as critical as predicting
stock prices  but despite this big interest in sports forecasting 
it was hard to find serious published work on the subject  this
may be due to the fact that sports prediction is a bit too
far from academic interest  we were able to find a few papers
from published in economics journal  one paper     tried the
multi layer perceptron for sports prediction  and explains how
hard it is predicting sports games      investigated three other
prediction methods and compared their accuracy  their result
shows that market prediction and betting odds provide much
better forecasts than tipsters      anaylized a sports prediction
market of the fifa world cup       and compared their
prediction accuracy based on history to a random draw  the
paper shows that history based prediction is better than a random
prediction 
interestingly  it is more easy to find many sprouts prediction
papers from other machine learning classes  students tried to
predict their favorite sports game using machine learning  many
different prediction algorithms have been used but they all had
one thing in common  they tried to predict match outcomes
based on previous match results  we didnt find any attempts at
strategy analysis or any instance of unsupervised learning  this
is mainly due to the limitation of their feature sets  previous
game history   they can only have small number of features 
and small number of features hide many factors of games  thus
they could use only a small part of machine learning 
  http   www theguardian com football      aug    football managercomputer game premier league clubs buy players
  http   www dailymail co uk sport football article         footballmanager vugar huseynzade got fc baku job html

fitable i  game data feature list
attacking
crossing
finishing
heading accuracy
short passing
volleys

skill
dribbling
curve
free kick accuracy
long passing
ball control

movement
acceleration
sprint speed
agility
reactions
balance

power
shot power
jumping
stamina
strength
long shots

mentality
aggression
interceptions
positioning
vision
penalties

defending
marking
standing tackle
sliding tackle

goalkeeping
gk diving
gk handling
gk kicking
gk positioning
gk reflexes

ii  dataset
in this project  we looked at games played in spanish la
liga primera liga   there are    teams in the league who
play each other in a round robin fashion twice a plays b twice 
once at home and once away  which adds up to     fixtures a
year  for this project  we aquired collection of data from three
different sources 
   fixture results
this represents the results of the played matches of la
liga  it corresponds to the output variable in the prediction algorithm  the scores where reduced to a binary
value of three categories  home win draw away win  also
we collected line ups for each match  we focused on line
ups not teams  because teams tend to use different line
ups depending on strategy 
they were gathered from http   www goal com by scripting web crawlers 
   real data
this data represents statistics about teams performance
from match history  goals  shots on target  yellow cards 
etc  we have looked at many examples of sports prediction
techniques and they all use data similar to this  this data
was used in this project to create a create a baseline
prediction algorithm that our new technique using virtual
data  can be compared against 
   virtual data
this data was collected from http   sofifa com  and represents    features for each players set by experts  each
feature corresponds to a physical or technical skill of
player and is an integer value ranging           these
are the features used by the video game to simulate the
actions of each player and in this paper we try to verify
how legitimate this data is  by training the predictor with it
and comparing the results to the predictor that uses real
data  the full set of virtual features can be found in
table i 
notice that real data and virtual data represent features for
the same output variables in fixture results 

 a  pca in  d

 b  pca in  d

fig     each point represents a soccer player  the small separated chuck of players are the goalkeepers 

start creating models and training we decided to do a basic
sanity check  being familiar with the league and some of the
players we wanted to see if the scores given to the players are
consistent and are able to distinguish different type of players
from each other  in order to make the manual comparison of
    players in    dimensional feature space more feasible we
applied pca  this was a successful and a rather interesting use
of pca  because by reducing the dimensions of the data to  d a
visually observable space  we could actually look at our data
and do a basic sanity check  first thing we noticed after plotting
the results of pca figure    was a small set of points separated
from the rest  we checked and these points correspond to all
the goalkeepers in the league which is very intuitive because
soccer goalkeepers require a very different from set of skills
from field players  examining the results in figure   further we
noticed that the top two players of the league ended up next to
each other on the  d plot  in fact  in the reduced dimensional
space  it was easy to see that the players that are close to each
other are similar and the ones that are far away are not  we then
ran k means clustering on the data and got three distinct groups
 defensive players  offensive players  goalkeepers  
b  real data
real datacollected from http   www football data co uk
represetns a set of     matches played between    teams 
each match entry has    different statistics home red cards 
away red cards  home team shots on target  etc   this data is
used to create a baseline predictor that our virtual predictor
can be compared against  the aggregation function basically
averages teams performance statistics over all the other matches 

iii  f eatures and p reprocessing
a  pca
sanity check with pca   virtual data was collected from
sofifa com using web crawlers  and represents a    feature
vecotor for each player in the league total of     players  
our hypothesis was that this data was sufficient to build a
legitimate predictor for real match results but before we would

team stat    home team shots  away team shots 
     away team red cards 
 

fiteam real features team i  

 
m

m
p

team mentality  home team defence  home team goalkeeping 
and from the latter  top   features were home team attacking
  home team skill  home team movement  hometeam mentality 
home team goalkeeping  with svm  the accuracy of prediction
from them was almost similar to ones that used the entire feature
set 

team stats team i

j  

team stat represents    statistics for a team for a given
match  team real features is computed by averaging this stats
for all the other matches it has played in 
c  virtual data

iv  m odels and r esults  s upervised l earning  

virtual datarepresents individual soccer players but we
want to predict an outcome of a match played between
two squads a squad consists of    players   we define an
aggregation function that represents a squad as a combination
of the features of the players it consists of  first  we just
calculated average values of each skill for each team  this
naive approach smoothes out each skill point  for example 
there is only one goalie but other players goal keeping skill
make the difference small  thus we need to sum up the stats
according to the positions  to prevent smoothing out  we
selected a few number of top scores from each squad  we tried
several combinations of      top scores for each feature  and
we ended up selecting                       top scores respectively 
thus the one set of data looks as follows 

we treated each match played between a home and an away
team as a sample which is labeled as  home win  draw  away
win   notice that in soccer there are three possible outcomes
for each game but most of our classifiers have binary outputs 
we overcome this issue by slightly redefining the problem we
are trying  we will have three binary classification problems
where in each one we try to distinguish between on of the
labels and the other two 
example  for home team win prediction 

  if home team won
y  
  otherwise
this classifier will basically tell us if the home team won or
not 

team virtual features team   
 p


p top   attacking            


top   skill  movement 

p power  mentality            


top   defending            


 p
top   goalkeeping           

a  real predictor
each sample is a match between teama and teamb
which is labeled with y  as feature set we used the
team real features teamb 
team real features teama  
which is a    dimensional vector  we applied logistic
regression and linear svm to predict labeling of each match 
we experimented with the feature set  by only looking at the
teams performance in the last   matches in order to capture the
current form of the team but the hit rate was not affected  we
achieved hit rate of around     table i  which is comparable to
results in related works and is a good baseline for our virtual
predictor 

an on field player is represented as a set of    features
which are split into   main categories table i  a goalkeeper
is represented as a set of   features  a squad is given as a
set of    players  one of which is a goalkeeper the other   
are usually split into a defensive group and a offensive group 
the aggregation function for team is computed by taking all the
goalkeeper features and averaging the field players features according by averaging top   attacking and defending  top   skill 
movement  power  mentality features fromtable i the rationale
behind this is that    goalkeepers features must be present in
the aggregation because there is only one goalkeeper per team 
   there are usually   defenders so it makes sense to only
consider top   purely defensive skills  the other coefficients
were approximated by trying a set of different combinations
and choosing the one that produces best hit rates 
   match result  for each match  there are three outcomes 
home team win  draw  and away team win  from the raw data 
home team score and away team score  we converted them into
binary values of three categories  for example  if home team
score   away team score  home team win   and rest of them
are   
   feature selection  to find out which features are more
relevant  we also conducted a feature selection over the data 
we tried two feature selection algorithms  sequential forward
selection  and best first selection  from the former  top  
features were home team skill  home team movement  home

b  virtual predictor
similar to the real predictor we combined the
features for each line up  but we used the virtual
features
instead
 team features virtual teama  
team features virtual teamb   which is a    dimensional
vector  we applied linear svm  rbf svm  logistic
regression  sgd and multivariate nb we were required to
discretize our values for this model   the virtual predictor
produced results comparable to the real predictor and with
a little bit of tuning linear svm performed better table    
v  i dentifying s trategies  u nsupervised l earning  
soccer managers are responsible for developing a team strategy before each match in order to surprise the opponent  strategy includes things like player positioning  tactics  set pieces 
etc  but team strategy is very often predicted by the sportsreporters by just examining the squad before the game  the
reason this can be done is because managers trying to play an
offensive strategy will have to include a lot of offensive players
in the squad and visa versa  we take advantage of this property
 

fitable ii  prediction results comparison
real data
home win
draw
away win
   
   
   
   
   
   
virtual data
model
home win
draw
away win
linear svm
   
   
   
rbf svm
   
   
   
logistic reg
   
   
   
sgd
   
   
   
multinomial nb
   
   
   
model
linear svm
logistic reg

fig     k mean rmse

and attempt to use unsupervised machine learning techniques to
identify different types of strategies based solely on the players
skills present in the each squad  fixture results collected from
http   www goal com also includs the squads that were played
in each match  we define an aggregation function similar to
team virtual rating  but notice that this function identifies
strength of the team not the strategy  in order to identify strategy
we need to normalize the features in team virtual rating 

c  clustering analysis
given   mean clustering result  we analyzed winning odds
between clusters  hence we can see which combination  i e 
strategy  is more plausible in certain situations 
   winning odds between clusters  general winning odds
between clusters are given in table iii  winning odds are
very different depending on the opponent and stadium  but
in general  cluster  does well  since the table shows winning
probability of home team  positive numbers are good for rows 
and negative numbers are good for columns 

a  preprocessing
normalization is required for k mean clustering  because
team virtual features for top teams are likely to be higher
than the ones for weaker teams in every aspect   they will have
better defense  offense  etc  but we normalize these features
by making sure that all the scores in team virtual features
adds up to    thus the value for each feature in squad strategy
will be represented in proportion to all the other features
in the composition  this will allow us to observe if one of
the features is overemphasized which will define the strategy  for example  a weak team and a very strong team may
have different team virtual ratings but they may have similar
squad strategy if they are playing a similar strategy 

table iii  winning probability of home team by clusters
home away
cluster 
cluster 
cluster 
cluster 
cluster 

cluster 
       
       
       
       
       

cluster 
       
       
       
        
       

cluster 
       
        
        
        
       

cluster 
        
       
       
       
       

cluster 
        
       
        
       
       

however  table iii shows winning odds regardless of actual
point differences  that means cluster  may have more strong
teams  thus we also conducted analysis for weak teams  weak
teams mean teams with less stat points than the opponent 
tableiv shows winning cluster  this table shows cluster  and
cluster  are good strategy for weak team in general  cluster  can
win against     and    and cluster  can win against     and   
thus if a certain team is weaker than the opponent  it is better
to focus on goalkeeping and defense to increase the winning
odds like cluster  and cluster  

squad strategy  normalized team virtual features 
thus we can see that which skill is emphasized and which is
not in a certain combination  we assume that this emphasis of
skills reflects the strategy of the squad 
b  clustering results
we computed squad strategy for each squad played in the
    matches of the season  we then applied k means clustering
to the data to identify distinct types of strategies with various
number of k  figure   shows the root mean square error of kmean clustering for different number of k  even though larger
k shows better fit  if k is too large  it would be meaningless 
from the rmse plot    or   will be appropriate number for k 
thus rest of analysis based on   mean clustering 
figure  shows the   mean clustering  each cluster shows
distinct combinations  cluster  is well balanced except the
attacking  cluster  is more focus on attacking and individual
skills  cluster  is more biased on defending and movement 
cluster  is focusing on goalkeeping and individual skills  and
cluster  concentrates on goalkeeping and defending 

table iv  weak teams winning strategy
against

cluster 
 

cluster 
 

cluster 
   

cluster 
     

cluster 
     

vi  d iscussion
a  supervised learning
in this section we described two approaches to soccer match
prediction  real predictor and virtual predictor  the real
predictor represents the traditional approach which applies
machine learning to match statistics collected throughout the
season we refer to this as real data   this approach achieved
 

fi a  cluster 

 b  cluster 

 d  cluster 

 c  cluster 

 e  cluster 

fig     clusters  each cluster represents a distinct strategy  radial graph shows how different skills are emphasized in the each
strategy 

of soccer players  but its likely that they have used more than   
features  which are presented in the game  to accomplish this 
we believe that if the entire feature set was available  virtual
predictor would achieve even higher hit rates 

     hit rate for our data but we looked at related work and the
highest hit rate achieved with this approach was          virtual
predictor  which uses only data collected from video games 
achieved      hit rate  this demonstrates that data collected by
the video game industry can be used to solve real problems in
this medium  soccer  with comparable or even better results 

r eferences
    m  beckler  h  wang  and m  papamichael  nba oracle  zuletzt besucht
am                    
    s  luckner  j  schroder  and c  slamka  on the forecast accuracy of sports
prediction markets  in negotiation  auctions  and market engineering 
pages         springer       
    a  mccabe and j  trevathan  artificial intelligence in sports prediction 
in information technology  new generations        itng       fifth
international conference on  pages           ieee       
    m  spann and b  skiera  sports forecasting  a comparison of the forecast
accuracy of prediction markets  betting odds and tipsters  journal of
forecasting                   

b  unsupervised learning
in this section we were able to use k means clustering to
identify   different types of playing strategies based on the
players skills present in the squad figure     we were able
to measure how these   different strategies perform against
each other and observed that most top teams in soccer have
very offensive strategies  this is in contrast to nba  where
best teams where the ones with good defensive stats     also
we observed that weaker teams perform better against stronger
teams if they use defensive strategies 
vii  c onclusion and f uture work
one of the main challenges in machine learning projects
is data collection which can be very time consuming and
expensive  in this paper we demonstrate an alternative sources
for curated data  video games  video games are often overlooked
due to its origin  however  video games have come a long
way since pac man and frogger and have created phenomenally
accurate simulations of the real world  which can only be done
through very intensive data collection  this data can be used in
machine learning projects to make predictions in the real world
with very accurate results  of course this would be made easier
if the video game industry shared this information in public
domain  fifa      has done a great job simulating the action
 

fi