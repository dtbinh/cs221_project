automatedcanvasanalysisforpaintingconservation

bybrendantobin

   motivation

distinctive variations inthespacingsbetweenthreadsina painting scanvascanbeused toshowthat
two  sections of canvas originated on the same bolt of fabric  a canvas spacing match between two
works by the same artist can provide strongevidence towardthe authenticityof apainting figure    
shows amatchingcanvasspacingpatternbetweenasetofthreepaintingsbynicolaspoussin analysis
of the structure of a paintings canvas can also identifyareasofapaintingsusceptibleto damage or
thatmayhavebeenmodifiedinthepast 

the individualthreads inacanvasarevisibleinanxray radiograph ofa painting howeveradditional
processing is necessary to visualize and compare canvas  structure data  current canvas analysis
techniques asdescribedinerdmannet  al are not capableofresolving threadspacingsat thelevelof
individual threads  this work seeks to  develop threadlevelcanvas analysistechniquestoidentifying
the location of all thread crossings inaxray radiograph imageusing machine learning techniquesto
train a classifier capable of identifying thread crossings in a radiograph  the position of individual
threadcrossingscanthenbeusedtodevelopathreadlevelmapofcanvasstructure 


fig      canvas spacing patterns used to prove the authenticity of the triumph ofbacchus by comparing the pattern
with two other paintings confirmed to  be by nicolas  poussin  triumph of  pan and silenus images courtesy of the
nationalgallery london andbacchusimagecourtesyofthenelsonatkinsmuseumofart 

fi
   datacollection

raw data is extracted froma grayscaleradiographimage ofapainting theimage ispreprocessedbya 
lowpass filter toremovelargescalefeatures capturedintheradiograph andhistogram equalizationis
performed to normalize intensity values across the image  a large collection of relatively accurate
thread crossing position data has been generated usingtemplate matching withamanually generated
templateforthe radiograph ofnicolaspoussinstriumphofbacchus usingthispositiondata patches
of the image centered on a thread crossing are extracted  thread crossings are spaced on average
between    and    pixels apart  a square patch of   x   pixels centered on a thread crossing was
selected in order to completely encompass a thread crossing  data extracted from the triumph of
bacchusradiographproduces       distinctcrossingimages negative trainingdataisgeneratedby
selectingpointsrandomlydistributedacrossthecanvas 
the training set is relatively accurate  but contains a small number of points that do not
correspondto tread centers  similarly aportionofrandomlyassignedpointswillcorrespondtothread 
centers  resulting in false negatives in the training data  for an average thread spacing of   pixels 
approximately     randomlyselectedpointswillcorrespondtotruethreadcenters  



fig   asetofimagescontainingthreadcrossings 


   featuresandpreprocessing

ievaluated twomethodsof preprocessingto reducethehighdimensionalityofinputimagesections a
  x    pixel image section used as a feature set results in      features capable of assuming    
discreteintensity values  inorder toreducethe sizeof thefeature spacetwomethodsfor dimensional

fireduction were investigated  computing a histogram of oriented gradient  hog   classifier for the
imagesection and applyingprinciplecomponentanalysis pca to reduce thedimensionalityofthe
dataset  the accuracy of each preprocessing technique  along with the raw      feature crossing
descriptorwasinvestigatedforeachtechnique 

a hog classifier algorithmdividesthe imageinto subsections  andcomputes thedirectionandvalue
of theprimarygradientineachimagesection  dalalet  al  thisresultsinaclassifierconsistingof   
values that describe the image section  the hogdescriptorcapturesthespatial relationshipbetween
adjacentpixelsand is robusttochangesinilluminationandimageintensity separately iappliedpca
 martnezet al  tothesetofrawpixeldatainordertoreducethedimensionalityofthedata retaining
   ofthevarianceofthedatasetresultsin  principlecomponents 

   models

the algorithms goal is to calculate the probability that an image patch centered on each point
corresponds toathread center supportvectormachines svm andlogisticregressionarebothwell
suitedfor thispurpose  i implemented both models with twoclasses oneclassconsistsofthepatches
centered on known threadcrossings and theother classiscomprisedoftherandomly selectedimage
patches 

i implemented logistic regression with the help of theliblinearlibrary   pedregosaet al   logistic
regressionisbaseduponmaximizing 
m

  logp yi xi    t  
i  
i
i
withrespectto  where p y  x    isthesigmoidfunction  
i

     exp  t x           exp  t x    y 

ialsoimplemented atwoclasscsvm  chihchung changet al  withalinearkernelwhichisbased 
uponminimizing 
m

      w      c  is t  
i  

yi wt xi   b       ii           m 

usingbothofthesemodelsitispossibletocalculatetheprobabilitythatagivensetoffeaturesbelongs
tothepositiveimageclass 

in ordertoextractthelocation ofthread centersfromthedataused  thefollowingprocessisapplied 
for each pixel in the image under consideration  a   x   patch is extracted  it is preprocessed by
computationof ahogdescriptororpca atrained modelisthenusedtocalculatetheprobabilitythe
current image patch under consideration is a threadcrossing  theprobabilityitbelongsto thethread
crossingsetisretainedfor thatpixel theprocessingisthenrepeatedforeachpixelintheimage this
processresultsina probability mapdescribingtheprobabilitythat eachpointin the imageis athread
crossing localmaximaoftheprobabilitymaparethenidentifiedasthelocationofthreadcrossings 

fi
   results

each preprocessing method wasusedincombinationwith eachmodel eachcombinationwas trained
using  a varying number of training examples in order to check for convergence  each model was
validated using asetof        crossing imagesreservedfor validation acomparisonof trainingand
validationerrorindicates thatthe svmbasedmodels arefullyconvergingandhavesufficienttraining
data  the training and validation error do not fully converge for logistic regression based models 
indicating that         training examples  is  insufficient to  fully train a classifier  due to  limited
computingpoweritwas impracticaltotrainthesemodelsusingalargerdataset thedatasetsprocessed
usingthehogclassifierresultedinthelowestclassificationerror 






   conclusion


the lowlevelof trainingerror indicatesthatalargenumber offeaturepoints arenecessaryto
properly train a classifier in either case  this is likely due to the high dimensionality of the image
features  the convergence ofthetrainingand validation errorwith highsamplesizesindicatesthatthe
model is converging  preprocessing with  pca appears  to significantlyreducethe amount oftraining
data necessary to fully trainthemodel  however preprocessingwith ahog classifierachieves lower
classificationerror usingboth logisticregression andsvm thisispossiblydue tothe factthat itis
accounts for the spacial relationship of the image data and is designed to be robust  with respect to
varyingimageillumination 

while a hog classifier based approach achieves a higher degreeofaccuracy incorrectly separating
labeled data apcabasedapproachisalmostasstrongwhenitcomestocalculatingtheprobabilityan
imagepatchisathreadcrossing bothmethodsproduceaneffectiveprobabilitymapwhichcanbeused
to determine thread crossing locations  the pca  projection necessary to evaluate an image patchis

fimuch less computationally intensive than the hog algorithm  meaning the pca based approach is
moreviableforoperatingonlargedatasetswithlimitedcomputationalpower 

   futurework

i would alsoliketosegmentthesetof threadcrossingsintotwo distinctsubsets baseduponwhether
the vertical or horizontal thread crossed over the other  i experimented with kmeans clustering in
orderto separate thedataset without manuallylabeling asetof trainingexamples  but i wasunableto
achieve consistent separation using kmeans clustering  in the future i will manually label a set of
trainingdataand traina modeltoseparateverticaland horizontalthreadcrossings additionallyiplan
to experiment with eigenfaces and fisherfaces  belhumeur et  al   modelsappliedto threadcrossing
identification  the eigenfaces method also makes use of pca  which showed promise  as a less
computationallyintensivemethodthanonebaseduponhogclassifiers 

   references

   erdmann r g  c r johnson m schafer j twilley andt sawyer reunitingpoussins
bacchanalspaintedforcardinalrichelieuthroughquantitativecanvasweaveanalysis aic
contemporaryinconservationconferenceon  may      

   dalal navneet andbilltriggs  histogramsoforientedgradientsforhumandetection  
computervisionandpatternrecognition      cvpr     ieeecomputersocietyconference
on  jun             

   martnez aleixm andavinashckak  pcaversuslda  patternanalysisandmachine
intelligence ieeetransactionson                  

   chihchungchangandchihjenlin libsvm alibraryforsupportvectormachines acm
transactionsonintelligentsystemsandtechnology                  softwareavailableat
http   www csie ntu edu tw  cjlin libsvm

   pedregosa fabianetal  scikitlearn machinelearninginpython  thejournalofmachine
learningresearch                  

   belhumeur petern joophespanha anddavidkriegman  eigenfacesvs fisherfaces 
recognitionusingclassspecificlinearprojection  patternanalysisandmachineintelligence 
ieeetransactionson                  

fi