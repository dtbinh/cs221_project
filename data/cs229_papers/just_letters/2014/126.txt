oil field production using machine learning
cs     project report
sumeet trehan  energy resources engineering  stanford university

 

introduction

effective management of reservoirs motivates oil and gas companies to do uncertainty analysis 
optimize production and or field development etc  any such analysis requires a large number of
flow simulations  of the order of hundreds in case of gradient based methods or even thousands in
case of direct search or stochastic procedures such as genetic algorithms  since flow simulations
are computationally very expensive  performing a large number of simulations  say  hundreds  is
difficult 
while recent advances in parallel computing have reduced the computing time      the simulation
of realistic models with o            grid cells and multiple components still remains challenging 
as a result  reservoir simulation has found limited application as a tool in the development of smart
fields 
in this study  combination of supervised and unsupervised machine learning  ml  techniques
have been explored to enable large speedups in reservoir simulation  thereby lowering its computational cost and enabling wider scale applications  these techniques enable fast computation of
approximate solutions to various scenarios that arise in optimization or uncertainty quantification 

 

model setup and training data

the reservoir model  shown in figure      is a two dimensional horizontal synthetic permeability
field and corresponds to a fluvial depositional system described by      the field has three producers
designated as p    p  and p    and three injectors designated i    i  and i   
training data is obtained by solving the governing equation  conservation of mass and momentum  for reservoir flow  as described in the introduction  solving governing equations is very
expensive  thus  we perform only one simulation  since reservoir flow is a dynamic process  we get
time series data for amount of oil and water produced 
the input variable which we would like to vary between training and test is referred to as
bottom hole pressure  bhp   this time varying variable  represented by x  plays a critical role in
optimizing production or field development 

 

fifigure      permeability log   k for reservoir model

 

model based on supervised and unsupervised learning techniques

in the current study  we develop a model which uses three different techniques  viz     modified
version of linear regression     finding closest neighbor  and    principal component analysis  pca  

   

modified linear regression

as described above  training data is obtained by solving the governing equations which obey the
laws of physics  the use of simple linear or weighted linear regression with multiple features to
build a model was observed to lead to large errors 
therefore  a separate mathematical procedure was adopted using taylor series         since the
taylor series was truncated at the linear term  it is equivalent to performing a linear regression
where we directly obtain the product  t x  without explicitly constructing all the features or
coefficients  if at any instant of time n      we want to estimate the output function y n   for some
new query point xn    i e   a different bhp value   then the procedure is demonstrated below 
an underlying assumption in taylor series is the availability of a point in the neighborhood
where the function value is known and where linearization of the function will hold true  in this
problem  we pick the point  around which we expand  by exploiting the concept of pairwise distance
 

fiand determining the closest point in the neighborhood  this is done by comparing the function
value y n   a known quantity  against the time series data available from training 
note that y n   represents the unknown  while y n is known  since we assume that at t      the
function value is known  and this is always true 
yn     yi    ji  

 


bi    yn  yi     ci    xn    xi    

the above equation is in the form of y   t x   o where t x    ji  
  i   n
  i   i  
o   yi    ji  
b  y  yi     ji  
c x  

 

     
ci   xn   and

notation 
   superscript indicates time level  e g   i means time level i
   coefficients with superscript i  n and i     are known  thus  j  b  c are known coefficient
matrices 
   bhp is the variable that is varied between the training and test and is represented by xn    
as described earlier  it is a time varying variable whose variation for training and test case is
shown in figure      the relationship between x and y is very non linear 
   y i is a vector which represents pressure and saturation at different spatial locations in the
reservoir  figure      at time level i 
   amount of oil production at time level i is computed using pressure and saturation information
contained in vector y i  
since at any instant of time  the output y i is a high dimensional vector we project y in lower
dimensional space by construction pca basis    using a different value of y available from training  we represent the lower dimensional vector with subscript r  the above equation in lower
dimensional space is shown below 
 
yn  
  yri    t ji   
r

 


t bi    ynr  yi r     t ci    xn    xi    

     

results

time series data for training and test cases is shown in figure      as observed from figure     
the input variable  bhp  is significantly different between training and test  since we have only
one training  the training error is zero 

 

fi a  training bhp represented by xi for producer and injector wells

 b  test bhp represented by xn for producer and injector wells

figure      bhp profile for training and one sample test case
we observe from figure     that we have an excellent match between the solution obtained from
ml technique described in       shown in blue color  and reference solution to the test problem
 shown in black   we observe a consistently good match for both oil and water rates  in order to
evaluate the test error  we adopted a three step procedure  viz  
   create multiple test cases where each test case has a unique bhp profile  one such profile is
shown in figure    b 
   for each test case  solve the governing equations and obtain a reference solution 
 

fi a  oil rates  training  reference solution for test ml solution

 b  water rates  training  reference solution for test ml solution

figure      time series data for oil and water production rates for training and test
   find the error in oil and water production rates by comparing solution obtained using ml
techniques versus the reference  obtained as part of post processing step and described above  
the error for this time varying process is defined in equation     and error behavior is shown
in figure     

 

fi a  error in oil rates

 b  error in water rates

figure      test error

j
eo w

fi
r t fifi j
fi
j
  fiqo w m l  qo w ref fi dt
 
rt j
  qo ref dt
erroro w

npw
  x j
 
eo w
npw

     

j  

the error plots indicate that for majority of the test cases  the test error is around       which
is an acceptable value  given other uncertainties present in the reservoir  outside the scope of this
study   however  the large speedups obtained using ml techniques indicate that this is promising
approach 

 

conclusion and future work

we have implemented linear regression models without explicitly constructing parameters  further 
we found that traditional linear or weighted linear regression does not work well in this problem 
in order to make the algorithm work  we successfully applied the concepts of closest neighbors and
dimensionality reduction using pca  future work includes exploration of neural networks and the
em algorithm for such problems 

 

references
   o  j  isebor  derivative free optimization for generalized oil field development  phd thesis 
department of petroleum engineering  stanford university       
   j  he  reduced order modeling for oil water and compositional systems  with application
 

fito data assimilation and production optimization  phd thesis  department of petroleum
engineering  stanford university       
   s  maliassov  b  beckner  and v  dyadechko  parallel reservoir simulation using a specific
software framework  spe          in reservoir simulation symposium  woodlands  tx 
february      
   m  rewienski and j  white  a trajectory piecewise linear approach to model order reduction
and fast simulation of nonlinear circuits and micromachined devices  ieee transactions on
computer aided design of integrated circuits and systems                february      

 

fi