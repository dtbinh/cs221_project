prediction of bike sharing systems for casual and
registered users
mahmood alhusseini
mih stanford edu
cs     machine learning

abstract   in this project  two different approaches
to predict bike sharing demand are studied  the first
approach tries to predict the exact number of bikes that will
be rented using support vector machines  svm   the
second approach tries to classify the demand into   different
levels from    lowest  to    highest  using softmax
regression
and
support
vector
machines 
index terms regression  classification 
prediction svm  softmax
i 

introduction

bike sharing systems have been increasing in
demand over the past two decades as a result of rapid
advancements in technology  figure     however  as seen
in figure    fluctuations in demand during the year are still
present due to different factors such as temperature  time 
etc  the goal of this project is to present a model for
predicating fluctuations in this demand for both casual and
registered consumers so that the service can be optimized
for both system providers and consumers  two approaches
have been used     continuous model to predict an exact
demand  and    classification into   levels of demand  in the
continuous model  svm regression was used to predict the
data while svm classification and softmax regression
were used for approach    

figure    fluctuations in demand for bike sharing systems over
different months of the year  

ii 

data and features

the data was obtained from an online
website   the number of sample points in the data is
      from which      samples were used for training
the model and      used for testing the model  the
original data contained   features and   labels
classified as follows 
feature labels
date and time
season
holiday
working day
weather

temp
atemp
humidity
wind speed
casual
registered
count

numerical value
format is mm dd yyyy hh mm
takes   values      spring      summer     
fall      winter
    yes      no
    yes      no
   clear  few clouds  partly cloudy
   mist   cloudy  mist   broken clouds  mist
  few cloud
   light snow  light rain   thunderstorm  
scattered clouds  light rain   scattered clouds 
   heavy rain   ice pallets  thunderstorm  
mist  snow   fog
temperature in celcius
feels like temperature
relative humidity
no units were given
number of non registered user rentals
initiated
number of registered user rentals initiated
total number of rentals  casual   registered 

table    description of features and label as given in the
website  

figure    constant demand increase for bike sharing systems
from      to      worldwide  

 

svms were implemented using the libsvm package available
online  approach i was done using the svr option while
approach ii was done using the svm option 
  figure taken from
http   www kevinauyeung com cyclehirescheme html 
december          

as seen in table   above  the date and time of
each sample was given as one feature which made the
feature difficult to interpret and incorporate in a model 
therefore  the date and time was split into   separate
 

taken from http   chi streetsblog org wpcontent uploads         screenshot                    png  december          
 
data obtained from  https   www kaggle com c bikesharing demand data  accessed december          

fifeatures  year  month  day  and time  this made the
total number of features      making it easier to
integrate the features into the model 
moreover  the features and labels on the data
were also normalized according to  the labels for the
data used was first normalized according to 
  min  
  
max    min  

to turn the problem into ten different classes from  
 lowest  to     highest   however  this gave a
maximum test accuracy of about      in an attempt to
simplify the problem and get better accuracy  the
classification labels were reduced into five labels from
   lowest  to  five  highest  this way allowed for a
larger error margin in the model 

where 
                  

two learning algorithms were used in
approach ii  the first is softmax regression  and the
second is svms  with a gaussian kernel   different
svm settings were used to optimize the results 
similar to what was done in approach i  feature
analysis was performed on the features to find which
feature contributes the most in accuracy improvement 
the performance of both algorithms is calculated
using 

because this project only deals with predicting
the number of casual users and registered users
independently  i e  each label was treated as a separate
problem having the same features   normalization was
only performed for the number of casual users and the
number of registered users  the total number of bikes
used label was not considered 
iii 

  

methods

a  approach i  continuous model prediction
using svm
initially  linear regression was used to fit the
data but the results obtained were very erroneous 
therefore  it was thought that using svms in the
regression form would result in better result since
different linear and nonlinear kernels can be used  a
gaussian kernel was used in the algorithm  the
effectiveness of svms was then calculated using the
root mean squared logarithmic error  rmsle 
according to 

iv 

    
   

results and discussion

a  approach i  continuous model prediction
using svm
the svm algorithm was run many times
under different options for c  g  kernel type  and kernel
degree  the findings showed that increasing c resulted
in better training data on the whole  on the other hand 
the parameter g had to be adjusted to that we would
avoid a case of under over fitting the training data
which translated in a bigger rmsle for the testing
data  figure   and figure   summarize the results 





 
 ln        ln        

 

where 
                  

the algorithms and calculations were
performed for both casual and registered users
independently  feature analysis was performed to find
which parameters contribute the most in accuracy
improvement 
b  approach ii 
different classes

classification into five

turning the problem into a classification
problem would allow for a better interpretation of how
well the model is performing  at first  it was decided

figure    best results for rmsle error as a function of c in svm

fitemperature

    

    

feels like temp 

    

    

humidity

    

    

table    feature selection for svm in approach  

the results obtained follow the expected
trend  less features resulted in a higher error  the two
features that contributed to the highest error were
humidity and feels like temperature  followed by
weather  time  and holiday  the year  month  and day
had very little or no contribution on the error 
figure    best results for rmsle error as a function of g in svm

the best rmsle results obtained gave an
error of around     with c       and g      this result
is still higher compared with results submitted on the
online website where the data was obtained   it is
thought that the results can be still improved further by
using different options for the svm or even different
machine learning algorithms such as random forests
or neural networks   however  given the time
constraint of the project  these were the best solutions
achieved given the long computational time it takes to
run the program 

b  approach ii  classification models
i  softmax regression results
softmax algorithm was run first in order to get
a good initial estimate of the accuracy of the model 
the accuracy for the training data was found to be
     for both casual and registered users  while
testing accuracy was found to be around     and    
for casual and registered users  respectively 

feature selection was performed on the data to
see which features contributed to the best results 
table   summarizes the results 

feature removed best casual rmsle best registered rmsle

 

overall

    

    

year

    

    

month

    

    

day

    

    

time

    

    

season

    

    

holiday

    

    

working day

    

    

weather

    

    

as of dec           results on kaggle website range from
        to          https   www kaggle com c bikesharing demand leaderboard 
 
a solution posted on kaggle website gives an rmsle
error of      using random forests 

figure    softmax regression accuracy for classification

ii 

support vector machines

the second method used was support vector
machines for classification  the algorithm was run for
different values of c and g in svm  the optimized
solution was found at parameter c     and g        
the training accuracy was around     for both casual
http   www techdreams org programming solvingkaggles bike sharing demand machine learningproblem              

fiand registered users  while the testing accuracy for
casual users was around     and     for casual users 

most increase of around    came from removing the
day feature  as for registered users  results were as
expected  decreasing accuracy with less features  the
most decrease in accuracy came from removing the
day and working day features resulting in a decrease
of about    in accuracy from each  table   below
shows a summary of the results 
feature removed

casual accur 

registered accur 

overall

      

      

year

      

      

month

     

     

day

      

     

time

      

      

season

    

      

holiday

    

     

working day

     

      

weather

     

     

temperature

      

      

feels like temp 

 

      

humidity

 

      

figure    svm accuracy as a function of parameter c

figure    svm accuracy as a function of parameter g

in order to understand which classes were
harder than others to predict  a classification matrix
was prepared  as seen in table    most of the errors
were in the classification of class   and   of the
demand 

 
 
predicted  
 
 

 
 
      
       
      
     
     

actual
 
 
 
        
         
          
          
        

table    classfication table for svm regression

this result could be due to several reasons
including the limited number of samples with labels  
and   which  in turn  do not give our learning algorithm
enough training examples to build a more solid model 
similar to what performed in approach i 
feature selection was implemented  the results for
casual users were unexpected as accuracy increased to
     as features were removed from the model  the

table    feature selection implemented in svm algorithm

the results obtained for the increasing
accuracy with less features for casual users was not
expected  one reason could be that the data is very
random and that the used featured dont capture the
necessary attributes to predict how casual users choose
to rent bikes  such unused features include nationality 
socioeconomic status  and length of visit  more data
and features need to be used to understand the situation
with casual users 

v 

conclusion and future work

two approaches were taken to try and predict
the bike sharing demand  in the first approach  the
continuous model  initial results gave a high rmsle
of      error which were then lowered to     by
changing the parameters of the system  the results
contained a high variance which could be due to not
having a large enough training samples or not selecting
features that would optimize the problem  it is very
possible that better results can be obtained if the svm
was optimized  in addition  other algorithms such as

firandom forest and neural networks could result in
better results 
as for the second approach  demand
classification  the accuracy for classifying the data into
  groups gave good results of up to around      with
svm outperforming softmax regression  the results
contained a high variance as well which could be due
to the same reasons mentioned above  one interesting
observation is the fact that decreasing the number of
features increased accuracy for casual users while  as
expected  it decreased the accuracy for registered
users 
future work aims at optimizing the svm
algorithm to produce a model that gives less testing
error as well as using other algorithms  random forest
and neural networks   moreover  investigation into
the feature selection effect on casual users in approach
ii is needed to understand how the algorithm produces
unexpectedly better results with less features  in
addition  for approach ii  it would be beneficial to try
and increase the classification labels into     or more 
different classes instead and still be able to get a high
level of accuracy 

vi 

references

   http   www kevinauyeung com cyclehirescheme h
tml  december          
    http   chi streetsblog org wpcontent uploads         screenshot                    png  december          
    https   www kaggle com c bike sharing demand 
december           note  data was also taken from
here 
    using gradient boosting machines to predict
bikesharing station states  robert regue and will
recker  uc irvine  tbr       figure   pg     
   http   beyondvalence blogspot com         predic
ting capital bikeshare demand in    html  accessed
dec          
   http   beyondvalence blogspot com         predic
ting capital bikeshare demand in html accessed dec
        

    http   brandonharris io kaggle bike sharing 
accessed dec           

fi