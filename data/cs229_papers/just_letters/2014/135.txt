appliance based model for energy consumption segmentation
zi yin  thanchanok teeraratkul  nutthavuth tamang
december         

abstract

with power level j is used at time interval i 
this step is a supervised learning as we find
a minimum norm a which satisfies ap   x 
and round out aij to   or     furthermore 
for each user  we use backward search
feature selection  with leave one out cross
validation  loocv  to choose a subset of
features f   pj    
j    

we propose two steps energy segmentation at
the appliances level  the first step is to model
a schedule of appliances usage of each household  using convex optimization and backward
search features selection  the second step is to
use hierarchical clustering to group households
appliance usage patterns into a small number of
classes  using dynamic time warping  dtw 
as a clustering metric results in a smaller number
of classes and higher clustering efficiency measure  comparing to l  metric and k means 

 

   we present a new metric for clustering
appliance usage matrix a based on
dynamic time warping  dtw   mul    
which is a technique to find an optimal
alignment between two given time dependent sequences  our contribution is the design of dtw based metric that accounts
for elastic changes across each column of a 
which reflects human randomness in usage
schedule of each appliance  using hierarchical clustering based on dtw metric results
in a relatively smaller number of classes and
higher clustering efficiency measure  comparing to l  metric and k means 

introduction

problem statement and contribution
the previous works on classification of consumer
load shapes focus on clustering aggregated energy profile using l  based mechanism such as
k means  kfr      kts        thd      yv    
while this is a reasonable thing to do  two main
concerns arise  first  the aggregated energy profile does not clearly represent the underlying behavior of household energy usage  the second
concern is that l  metric used in k means penalizes the difference uniformly across time  and   data description
might result in a poor representation of consumer class  our contribution in this paper is the data used in this paper is provided by pecan
street  the data contains the daily electricas follows  
ity consumption of residential pecan street cus   given a set of hourly electricity con  tomers at   hour intervals  the data used in the
sumption  x  r     and power levels of analysis comes from     smart meters  the toappliances  p  r     we model appliance tal number of    hours load profiles is       the
usage matrix a for each user  where data ranges from march         to march    
aij         indicates whether an appliance      
 

fi 
   

methodology

age schedule has human randomness  which introduces time shift  stretch  or contraction across
time within a reasonable bound  an appropriate clustering metric should not penalize elastic
changes within a reasonable bound  however 
euclidean metric does not possess this property  and may mistakenly combine pairs generated from different routines 

modeling household appliance
schedule

for each household l  we model an appliance
 l 
usage matrix a l    where aij         indicates whether an appliance with power level j is
used during hour i  let x  r   be an hourly
mean energy usage of a household over d samples  d days of data   and p be a vector of power     dynamic time warping  dtw 
levels  suppose that p is known  we define
to account for the drawback of euclidean metx
a   argmin
 aij   
    ric  we explore an alternative dissimilarity measure  dynamic time warping  dtw   as deap x i j
scribed in  mul     dtw is a technique to find
 l 
 l 
then  we approximate a by setting aij   an optimal alignment between two given time de  aij     where  is a median of  aij    ini  pendent sequences based on dymamic programtially  p is the same for all households  i e      ming  figure   shows the possible comparison
power levels of appliances  however  since each path dtw can produce 

   

non probabilistic
clustering

approach

to    

hierarchical clustering to obtain a smaller
number of load shape representations  we cluster
the appliance usage matrix a l    l           l
 l households  using agglomerative hierarchical clustering and divisive hierarchical clustering 
the detailed clustering methodology is included
in appendix   

power

power

house might not have appliances at all power
euclidean
dt w
levels  we use backward search feature selection
with leave one out cross validation  loocv  to
choose a subset of  pj   for each house  the
loocv and backward search algorithms are
time
time
listed in appendix   
after feature selection  we solve     for a using figure    dtw alignment gives zero dissimilarity bep   and round out entries of a to   and    now  tween two load curves while euclidean penalizes misthe number of columns in a will be dimension match across time 
of p   we expand the matrix a to have number
of columns equal to dimension of the full feature
vector  p  by padding zeros to the column of a
corresponding to left out features 
  results and analysis

result from appliance usage matrix modeling

for each household  sparsity pattern of the output a agrees with the majority of its load curves
x  i e   non zeros elements concentrate in those
rows where hourly consumption peaks  an example sparsity pattern of appliance usage
matrix for evening peak user and dual
morning   evening peaks user is presented
 figure  a and  a   table    shows test error
drawback of euclidean metric our model from loocv for userid    after each feature
of energy usage assumes that each appliance us  has been removed 
 

fihour

 

  

  

  

  

  

 

 

  
nz     

  

  

 

x   

 

    

dtw 

   
    

dtw 

   

l 

   

   
    

   

wc

 

energy consumption

 

    

 

   
    

   
    

 

   

   
 

 

  

  

  

  

hour

power levels

 

 

 

 

  

  

 a  a for userid     b  load curve for userid    on
 evening peak 
january       

dtw 

  

  

  

  

  

 

 

  
nz      

  

power levels

  

dtw 

   

  

    

    

    

  

 

 

    

 

    

 

    

    

 

 

 

  

  

  

k means

  

    

 

 

 

  

  

  

  

number of clusters
 b  ratio of intra cluster sum to inter cluster variation

  

hour

 a  a for userid  b  load curve for userid    on
    dual morning   january       
evening peak 

figure    efficiency measures of clusters produced from
agglomerative hierarchical clustering

figure    examples of load curve and its corresponding
sparsity pattern for matrix a 

   

l 

    

wcbcr

hour

 

energy consumption

 

  

  

  
 

  

number of clusters
 a  total within cluster distance

result from hierarchical clustering

 

 

 

 

 

 

 

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

 

  
nz     

  

 

  
nz      

  

 

 

  
nz      

  

  

 

  
nz      

  

we apply two patterns of dtw and l  metrics  a  cluster centers with members from dtw  metric
for clustering  to determine the number of clusters  we set a limit on l  dissimilarity between
each appliance usage matrix a and its cluster center  dtw achieves less clusters than l   
figure   shows cluster centers using agglomerative hierarchical clustering 
 b  cluster centers with members from dtw  metric
figure   plots within cluster sum  wc 
 
 
 
 
 
 
 
 
and ratio of within cluster sum to inter  
  
  
  
  
  
  
  
cluster variation  wcbcr  against the num   
  
  
  
  
  
  
  
ber of cluster k  for agglomerative and divi                                                                 
sive clustering  wc and wcbcr using dtw nz      nz      nz      nz       nz      nz       nz       nz      
is lower than those using l  and k means  it  c  cluster centers with members from l  metric
suggests that besides achieving smaller cluster
number  dtw also yields more compact clus  figure    clusters produced from agglomerative hierarchical clustering
ters and larger inter cluster variation  which is
encouraging 
 

 

 

 

 

  

  

  

  

  

  

  

  

  

 

 

  
nz     

  

  

 

  

 

  
nz     

  

  

 

  
nz      

  

fi 

comparison between agglomerative and
divisive clustering while the agglomerative clustering yields lower wcbcr  figure  b  
the produced clusters are less compact  figure
 a   furthermore  the agglomerative clustering
tends to leave out clusters with a single member
or a few members  figure  a   which is undesirable since those clusters poorly represent an
entire population 

x   

  

dt w  

  
 
 

 

 

 

  

  

  

  

 

x   

wc

 

dt w  

   
 
   
 

 

 

 

  

  

  

  

 

x   

 

n orm  

   
 
   
 

 

 

 

  

  

  

number of clusters

  

 a  total within cluster distance
  

   

 

   
  

 
 

 

 

 

 

wcbcr

  of members

dt w  

  

   

 

   
   
   
  
 

 

 

 

 

  

  

  

  

divisive
agglomerative

dt w  

  
 
 

 

 

  

 

 

 

  

  

  

  

  

n orm  

  

   

  

  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

  

  

  

  

number of clusters

 

clusterindex
 b  ratio of within cluster sum to between cluster
 a  number of members within each clusters from agvariation
glomerative hierarchical clustering
   

figure    comparison of efficiency measures of clusters
dt w   produced from agglomerative hierarchical clustering and
divisive hierarchical clustering

   

  of members

  
 

 

 

   

 
  

 

 

 

 

 

 

  
  
  
 

conclusion and future work

dt w  

 

 

 

 

 

 

 

 

clusterindex

 

  

   we model appliance usage matrix a
for each household  where aij         indicates
whether an appliance with power level j is used
n orm  
during hour i 
x
a   argmin
 aij  
   

 b  number of members within each clusters from divisive hierarchical clustering

ap x

i j

where x  r   is an hourly mean power configure    comparison of chaining effect of clusters pro  sumption of a household  and p is a vector of
duced from agglomerative hierarchical clustering and dipower level of appliances selected by backward
visive hierarchical clustering
search with loocv  for each household 
sparsity pattern of the output a agrees with
the majority of its load curves x  i e   non zeros
 

fielements concentrate in those rows where hourly  kfr   
consumption peaks  hence  our model of a
suffices to produce a reasonable pattern and
time efficient since it can be solved by minimum
norm least square 

jungsuk kwac  june flora  and ram
rajagopal  household energy consumption segmentation using hourly
data  ieee transactions on smart
grid             

 kts     
   we present a new metric for clustering appliance usage matrix a based on dynamic
time warping  dtw   our contribution is the
design of dtw based metric that accounts for
a small shift  contraction or expansion of each
column of a  which reflects human randomness
in a usage schedule of each appliance  using
hierarchical clustering based on dtw metric
results in a relatively smaller number of classes  mul   
and higher clustering efficiency measure  comparing to l  metric and k means  dtw yields
more compact clusters  with larger between  thd   
cluster variation  the fact that dtw achieves
lower ratio of within cluster sum to between
cluster variation  wcbcr  is not trivial  since
dtw gives the optimal alignment between two
patterns  which would give lower within cluster
sum  but does nothing to maximize between
cluster distance  the smaller and higher quality
 yl   
sets of clusters by dtw is preferable to the dr
program 

jungsuk kwac  chin woo tan 
nicole sintov  june flora  and
ram rajagopal  utility customer
segmentation based on smart meter
data  empirical study  in ieee
smartgridcomm      symposium
  support for storage  renewable
resources and micro grids       

in the future  in supervised learning part  we
would like to find a formulation to fit a and p simultaneously  one possible way is to use convex  yv   
optimization  in unsupervised learning part  we
would visualize the cluster centers using pca  to
gain more insight into appliances usage pattern 

references
 ar   

 has 

adrian albert and ram rajagopal 
smart meter driven segmentation   yv   
what your consumption says about
you  ieee transactions on power
systems              
the elements of statistical learning 
springer 
 

m  muller  information retrieval for
music and motion  springer       
george j  tsekouras  nikis d 
hatziargyriou  and evangelos n 
dialynas  two stage pattern recognition of load curves for classification
of electricity customers  ieee transaction on power systems            
       august      
jaewon yang and jure leskovec  patterns of temporal variation in online media  in proceedings of the
fourth acm international conference
on web search and data mining       
fung y h  and rao tummala v m 
forecasting on electricity consumption  a comparative analysis of regression and artificial neural network
models  in ieee  nd international
conferennce on advances in power
system control  operation and management       
fung y h  and rao tummala v m 
an electric energy consumer characterization framework based on data
mining techniques  in ieee transactions on power systems  yv    
pages        

fi