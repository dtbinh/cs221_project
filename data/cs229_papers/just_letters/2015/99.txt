cs   finalreport rpsbot
discerninghumanpatternsinarandomgame
tristanbreeden tbreeden stanford edu 




introduction
thisprojectfocusesoncreatingabotthatcanplaythecommongameofrockpaperscissors
 rps betterthanitshumanopponent thekeyideaisthathumanstendtoplayinpatternsratherthan
completelyatrandom usingmachinelearningtechniques ihavetrainedabottolearnhowiplayrps thus
givingitanadvantageoverme forexample ifeverytimeiplaythesequenceofrock rock paperand
rockmynextthrowisconsistentlyscissors thenmybotlearnsthatandplaysrockinthenextgameto
beatme 
so forthisproblemmyinputisasequenceofnhumanplays whichirepresentasannlength
vector whereeachelementinthevectorisanintegerin      rockisrepresentedby  paperis
representedby  andscissorsisrepresentedby  giventhissequenceofhumanplays mybotuses
variousclassifierstopredictmyn  th
play whichisalsorepresentedbyanintegerasdescribedabove 
giventhisplay thebotchoosesitswinningcounterpart i e predictingrockentailsplayingpaper 
predictingpaperentailsplayingscissors andpredictingscissorsentailsplayingrock  
assomeonewhowantstoworkinthevideogameindustry thisprojectisofgreatusetome aiand
botsinvideogamestendtobesurprisinglyunderdeveloped andrelyonheuristicsratherthangenuine
machinelearningalgorithms bystartingwiththealmosttrivialgameofrpsandneverthelessproducing
meaningfulresults ihopetoshowthatinthemorecomplexenvironmentofavideogame thepotentialto
advancethegenreisverysignificant 


relatedwork
rpsstrategies
 




wang zhijian binxu andhaijunzhou  socialcyclingandconditionalresponsesinthe
rockpaperscissorsgame  
scientificreports
        

thispaperdescribeshowifaplayerhaslosttwoormoretimes sheislikelytoshiftherplay and
morelikelytoshifttotheplaythatwillbeattheonethathasjustbeatenherthanthesameoneher
opponentjustusedtobeather 

farber neil  thesurprisingpsychologyofrockpaperscissors  psychologytoday n p    apr 
     web 
thisarticledescribessomecommonrpsstrategiesandstatisticsthatiwilldescribelater sincemy
botseemstobepickinguponthem 


currentbots
 


iocainepowder
 
http   ofb net  egnor iocaine html
 thisbotwascreatedbydanegnorforarps
botcompetitioninwhichbotsplayedagainsteachother iocainepowderusesacombinationof
threestrategiestopredictitsopponentsnextmove guessingrandomly playingagainstthemost

fifrequentlyusedthrow andhistorymatching i e findingpatternsintheopponentshistory  
however thisbotsedgeliesinthefactthatitalsodetectstheopponentsmetastrategy i e 
guessingoneahead twoahead etc  thisbotdoesntuseadirectapplicationofmachine
learningaswehavestudieditinlecture butididborrowtheoverallideaoffindingpatternsformy
project iconsideredalsousingmetastrategies butinegnorscase itwasmostlyasafeguard
againstotherbotsinthecompetition unexperiencedplayerssuchasmyselfdontputasmuch
thoughtintoaplay whichmakesthemetastrategyapproachonlymarginallyvaluable 



megahal
 
http   web archive org web                http   www amristar com au  hutch roshambo 
 this
botwascreatedbyjasonhutchensforthesamerpscompetitiondescribedabove hisapproach
wastocreateasimplemarkovmodelthatstoresfrequencyinformationabouttheopponent splays
forallpossiblecontexts thisallowsthebottopredictthenextplayintheformofaprobability
distributionoverallpossiblethrows thebotthenpicksthethrowthatmaximizestheexpectedvalue
ofitsscore whereawinscoresa  atie  andaloss   italsoonlytracksthefrequency
informationoveraslidingwindow incasetheopponentchangesstrategiesovertime 


readingthepapersandarticlesaboutrpsstrategiesallowedmetounderstandqualitativelywhatmybot
shouldbepickingupontowin analyzingthecurrentbots whichcamein stand ndintherps
competition  gavemeideasastohowicouldbuildmyownbot theirideasandmethodsareextremely
clever butsomearebasedontheknowledgethattheywouldbeplayingagainstotherbots sincemy
projectfocusesonplayingagainsthumans ihadtofilteroutthatinformation 


datasetandfeatures
iconstructedmyowndatasetbyplayingapproximately   gamesagainstabotthatplayed
randomlybetweenthethreepossiblethrows foreverygame irecordedwhatichosetoplay whatthebot
played andtheoutcomeofthegame eachplayisrepresentedaseither    or  andeachoutcomeis
representedaseither  botloss    tie  or  botwin  asaresult iendedupwithalargesequenceofmy
ownthrowsandembeddedinit myplayingpatternsinrps thenextstepwastoextractfeaturesfromthis
sequenceinordertotrainmybot 
idecidedthatforeverysinglethrowinthedataset iwouldextractfeaturesrepresentingthecontext
forthatthrow thismeansthatforanygiventhrow iwouldcreateafeaturevectorthattrackedthelastone 
two three andfourplaysmadepreviously forexample ifiplayed  rock atagivenmoment andthe
lastfourplaysbeforethatwere     thentheassociatedfeaturevectorwouldbe 
     
 
     
 
     
 
     
  
withalabelof  eachgroupingofthreeelementsinthevectorrepresentsoneofthepreviousplays i e red
isthelastplaymade greenistheonebeforethatandsoon  foreachplay eachofthethreeelements
representsthethrowused firstposition rock secondposition paper thirdposition scissors  forthe
firstfourthrows whichdontnecessarilyhaveuptofourpreviousthrows allmissingvalueswerefilledwitha
  ialsoexperimentedwithfeaturesthatrepresentedthetotalamountofplaysmade andthetotalamount
ofrock paper scissorsthrowsmade however usingthesetendedtoworsenmyresults aswewillseelater 

methods

fionceigatheredmydatasetandextractedfeaturesfromitasdescribedabove iusedtwodifferent
classifiersfromthescikitlearnlibrary 
http   scikitlearn org 
  


supportvectormachineclassifier
 usingansvmsseemedlikeagoodplacetostart sincewe
discussedthemthoroughlyinlectureandtheytendtoproduceverygoodresults fromthelecturenotes we
knowthatthesvmoptimizationobjectiveisthefollowing 
m

min w b      w      c  is t y i  wt x i    b  i  i           m 
i  





 i   i           m 

thisallowsustocreateahyperplanethatseparatesdataintotwoclasses whilemaximizingthesizeofthe
functionalmarginfromthathyperplanetothenearestdatapoints becauseofthesizeofmyfeaturevectors 
theclassifierneedsakerneltooperateinthehighdimensionalfeaturespace thescikitlearnlibraryoffers
manykernels andiamusingagaussianradialbasiskernel 

atthispoint onemustnotethatiamdoinga wayclassification ratherthanbinary viascikitlearn iam
usingaoneagainstoneapproachinordertoaccountfortheadditionalclass allthisdoesistrain    
      binaryclassifiersfordistinctcombinationsofthethreeoriginalclasses atpredictiontime allthree
classifiersareused andtheonewiththehighestscoreforaparticularclassgetsused 


logisticregressionclassifier 
afterhavingusedansvmapproach idecidedtouseoneofthe
generalizedlinearmodelsofferedbyscikitlearn andoptedforlogisticregression itminimizesthe
followingcostfunction 


thisoptimizationisdoneusingacoordinatedescentalgorithm andallowsustofindthebestweights
associatedwiththefeaturesinordertomakepredictions inordertodothemulticlassclassification
however scikitlearnimplementsanothertechnique theoneagainstallapproach inshort thisstrategy
consistsinfittingoneclassifierperclass foreachclassifier theclassisfittedagainstalltheotherclasses 



experimentsandresults
inordertotestmybot ineededabaselinetowhichishouldcomparemyresults duringmyinitial
datagatheringstage irecordedthebotsperformanceagainstmewhenitusedacompletelyrandom
strategy i e chooseathrowrandomly  

fi
botperformanceforrandomstrategy

thehistogramaboveshowshowthebotperformedagainstmeafterapproximately   games itisclear
thatthebotiswinning losing andtyingmostlyequally whatwereobservinghereisthenashequilibrium
forrps playingrandomlyensuresthat onaverage thebotwilllose win andtieequally ichosethistobe
thebaselineformyrpsbot 

inordertotestthebotaftertraining iplayedanotherseriesof   gamesforeachclassifiermentioned
above ialsoincreasedmycontextwindowforfeaturesbyincrementsof inordertogetanideaofhow
usefuladdinganextracontextfeatureis 



botperformanceaftertrainingwithvaryingfeatures

quantitatively theincreaseinperformanceisevident usingthesvmclassifierdescribedpreviously my
rpsbotwonagainstmeapproximately   ofthetime myinitialobservationwasthatthebots
performanceseemedtoincreaselinearlywiththesizeofthecontextwindowitwasextractingfeaturesfor 
however increasingthecontextsizebeyond didnotyieldanybetterresultsthanthosedisplayedabove 
myinterpretationofthisisthatimostprobablytendtoplayrpsinshortpatterns thatis irepeatshort
sequencesofplaythatdontgobeyond  movesinlength thatwouldexplainwhylookingfurtherbackin
myplayhistorydoesnthelpuncovermypatterns astheyarealreadyevident beyondthisobservation i

fitheorizethatsvmisperformingmarginallybetterthanlogisticregression asthekerneltrickisbetter
suitedtodealwiththelargefeaturespaceiamusing 

additionally bylookingcloselyatthedatacollectedfromthesetestinggames itseemsthatthebotis
pickinguponsomecommonrpsstrategies 




playpaperasyourfirstthrow sincemostnoncompetitiveplayersstartwithrock
iftheopponentplaystwothrowsofthesamekindinarow assumehe shewontuseitathirdtime
 thisisaconsequenceofplayerswantingtoseemrandomintheirplaying 
playpapermorecommonlythantheotherthrows sinceitisstatisticallythelessusedthrow




conclusionandfuturework
tosummarize ihavecreatedarpsbotwhichlooksattheimmediatehistoryofahumanplayers
throwsequence andusesthatcontextasfeatures thebotisthentrainedtousesvmandlogistic
regressionclassifierstopredictthehumanopponentsnextplay usingthisknowledge thebotplays
accordinglytowin aftertraining mybothasachievedabestwinrateof   usingthistechnique as
opposedtoa    winrateusingarandomstrategy inthefuture ihopetocreatebetterfeaturesthatthe
svmalgorithmcanexploit forinstance itseemsthatwinningorlosingimpactsaplayersstrategyand
throwpatterns seerelatedworkssection  itwouldbeinterestingtoincludethatinformationwhen
extractingfeaturesandseeifthebotcanpushbeyonda   winrate onewayofdoingthiswouldbeto
interlacethehumanshistorywiththebotsinthefollowingmanner h
b
h
b
h
b
whereh
andb
arethe
 
 
 
 
 
 
i
i
humanandbotsplaysatturni respectively 
asmentionedintheintroduction theideabehindthisprojectformeistoshowhowusingmachine
learningalgorithms onecanturnafairlytrivialrandomgameintoagameofcomplexpatternidentification i
caneasilyimaginetheseideasbeingportedovertoamoreelaborategame forinstance inmostvideo
games thedifficultyinabossfighttendstobeeitherconstantordiscretizedintoveryintentionalsections
 e g bossstartsouteasy thendealstwicethedamageafter  minutes  however usingarelativelysimple
machinelearningframework onecanrampupthedifficultyofabossfightovertimebylearningtheplayers
patterns whichisalotmoreinterestingtoplayagainst thosepatternscouldbeintheformofmovement 
damagedealt oranyotherelementofthatparticulargame thepointimdrivingatisthatbotsinvideo
gamesareprettydullnowadays andasimplechangecouldleadtoamuchmorediverseplayexperience 
foramedia artformthatisevolvingandexpandingsoquicklywithinthetechnologicalrealm itwouldbea
shametofallbehindwhenitcomestomachinelearning 

fi