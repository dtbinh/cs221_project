machine gaydar  using facebook profiles to predict sexual
orientation
nikhil bhattasali   esha maiti 
mentored by sam corbett davies
stanford university  stanford  california        usa
a bstract
the rise of social media and the large  rich datasets they make accessible have
allowed us to learn about people not only through information shared explicitly 
but also through information shared implicitly in the form of trends and
patterns  here  we emphasize the value of implicit data by creating a machinelearning algorithm that uses basic information  photos  and published text on
facebook profiles to predict sexual orientation in males  we constructed a
model with nave bayes classifiers and a support vector machine  performing
on different types of data  we used    fold stratified cross validation on our
dataset as a measure of generalization error  currently  we have created a model
with an accuracy of        
i  i ntroduction
in todays world  our digital lives have
merged seamlessly with our personal and
professional lives  we use social media to
share life events  pictures  interests  and
opinions  we cultivate an online identity  both
explicitly and implicitly  through what we
share and how we choose to communicate on
certain social media platforms     
this phenomenon has not gone unnoticed
by the people and organizations that are
interested in studying other people  companies
make predictions about which products
different individuals would likely be interested
in      politicians target key demographics to
mobilize campaign support  researchers study
patterns to understand how humans interact
and communicate 
similarly  we want to know if there is
enough implicit information on peoples
facebook profiles to make a prediction of their
sexual orientation  on one level  a learning
algorithm to distinguish non heterosexuals is a
lighthearted way to study the power of implicit
information and to allow interested parties to

 
 

nikhilxb stanford edu
emaiti stanford edu

connect with similar others  on a deeper level 
creating a machine learning algorithm is a very
organic way to study a population  as it
minimizes prior assumptions  being initialized
as a blank slate and developing patterns
based solely on the data     
ii  r elated w ork
there is not an extensive amount of
existing literature describing research
concentrating on sexual orientation alone based
on social media profiles  however  there have
been multiple machine learning algorithms
developed to use very few basic features of
social media websites to determine a number
of highly sensitive personal attributes  one of
these algorithms was developed by kosinksi 
stillwell  and graepel      based solely on
facebook likes  detailed demographic profiles 
and psychometric tests  kosinksi et al  were
able to use dimensionality reduction and
logistic regression to determine the sexuality
 homosexual vs  heterosexual males   race
 african american vs  caucasian   and

 

fipolitical stance  democrat vs  republican  of
each user 
while predicting the sexuality  race  and
political stance of a person using their variety
of methods is useful  we posit that these
attributes could actually be dependent on each
other      then  we could predict one  like
sexual orientation  using the others as
features and without having to resort to tests
and demographic profiles  instead relying on
social media information alone 
we use a model that is not only based on
facebook photos and likes  but also on
explicitly provided information such as a
persons hometown  religious affiliation 
relationship status  etc   as well as text
communication through timeline posts and
photo comments  taking into account this host
of details may prove fruitful for predicting a
persons sexuality 
iii  d ataset and f eatures
our aim in this project was to distinguish
heterosexual  non lgbtq  y      individuals
from non heterosexual  lgbtq  y     
individuals   we made the assumption that
sexual orientation is binary  rather than a
spectrum  for the sake of classification
simplicity  
our training set included n      
facebook profiles and information included in
those profiles in the following categories 
about section
 hometown
 political affiliation
 religious affiliation
 interested in
 relationship status
friends section
 number of friends
 male to female friend ratio
 number of lgbtq friends
 lgbtq to non lgbtq friend ratio

profile photo section
 use of rainbow filter       
 use of equality sign       
 number of profile photos with one
other male
 number of profile photos with one
female
 number of prom photos with one
other male
 number of prom photos with one
female
timeline section
 status updates
 photo comments
 shared links
our dataset was     lgbtq and    
non lgbtq  in order to restrict our sampling
population  we limited our selection pool to
only stanford undergraduate students 
for the lgbtq portion of our training set 
we picked a simple random sample of user
profiles from the secret lgbtq groups for the
classes of             and      at stanford 
for the non lgbtq portion  we picked a
simple random sample of students from the
official undergraduate class groups for the
classes of             and       and we
crosschecked with the list of lgbtq people to
ensure no overlap   we made the assumption
that all facebook users that are not in the
lgbtq groups are not lgbtq  
we did not use facebooks graph api for
the sake of flexibility  and did not use robotic
data collection methods due to facebooks
terms of service  rather  we gathered all our
manually and used custom cleaning parsing
scripts to process the data 
we would also like to note that all of our
data example were anonymized  the names
associated with each datapoint was erased after
the collection process in order to protect
privacy 

 

fibayes classifiers  one that analyzes the discrete
attributes in a profiles about and photos
sections  and one that analyzes the text from
the profiles timeline  each of these
computes a score that is fed into the support
vector machine and combined with other
continuously valued features to assign a final
classification  as illustrated below in fig    

iv  m ethods
we decided to integrate two nave bayes
classifier components and a support vector
machine in our model 
a nave bayes classifier is a generative
learning model that predicts the probability of
a particular data vector given past distributions
of discrete features      given by eq      
          

  


  
                  

  

      

   

such an algorithm not only helped us
determine a users sexuality from the text from
his facebook timeline section  but could
also provided us with a few of the most
commonly used words among users marked as
lgbt for further analysis     
another algorithm that proved central was
the support vector machine  which is a
discriminatory learning algorithm that finds an
optimal decision boundary between the two
different kinds of data points  by finding a
hyperplane  w  b      to maximize the quantity
   min                
 

as exemplified in fig    below 

fig     an example of a decision boundary
created by running an svm on a system

because our training examples are
described by have both binary and continuous
features  we created a model with two nave

fig     a diagram of the method involving nave bayes
and an svm that was implemented

   

in order to create a model that would
generalize well  we did not use an empirical
prior based on the skewed dataset  but rather
computed a more accurate prior probability to
be used in the algorithms based on the entire
undergraduate population and lgbtq group 
v  r esults and d iscussion
as of the latest version  our model runs
with a training error of       and a
generalization error of        this suggests
overfitting  and thus high variance  requiring a
fix such as decreasing the number of features
or adding more training examples to the
training set 
nevertheless  the error is fairly low 
considering that we did not have time to finetune the algorithm to minimize error  and
works quite proficiently on outside profiles
that were not used in the dataset 
below  we provide a confusion matrix 
which shows the predictive performance of the
classification algorithm  fig     

 

fifig     contingency table  the top left box shows the
true positive rate  and the bottom right box shows the
true negative rate  the top right and bottom left show the
type i and type ii errors  respectively 

here  we include the roc curve  which
summarizes the performance of our classifier
over all possible thresholds  fig     

fig      d svm decision boundary  this plot shows the
decision boundary for just two features  the number of
lgbtq friends  x axis  and the log ratio of nonlgbtq to lgbtq friends  y axis   a remarkably clear
separation between the two classes can be observed 

we observed some interesting results from
the nave bayes text classifier that we ran for
the text on each profiles timeline  some of
the words with highest predicting power  given
by
log 

    
    

   

for an lgbtq user were  table    
word
fig     roc curve  the optimal curve has an area
underneath it equal to    this curve has an area
underneath it equal to        which is quite close to   

as one can see  running an svm on a
dataset using only two of our features can still
create an effective decision boundary between
lgbtq and non lgbtq data  this is
illustrated in fig    below 

lgbtq
clinton
gaga
stonewall
horror
transgender
terra
lgbt
equality
parenthood
gay
gender
queer
caitlyn jenner

rank of predictive
power
 
 
 
 
 
  
  
  
  
  
  
  
  
      

table    ranking of words based on their predictive
power scores 

 

fivi  c onclusion and f uture w ork

viii  r eferences

our work is an example of how a powerful
classifier can be built with some of the
fundamental machine learning techniques 
combining a carefully curated dataset  flexible
machine learning model  and strong error
testing metrics  we show both the power of
implicit information and social media 
although an individual profile may not share
information explicitly  it is possible to use the
aggregation of sparse data from many profiles
to train a learning algorithm to tell us whether
certain present  or missing  data contributes to
the probability        of a person being lgbtq
or non lgbtq  such a finding is interesting
from both a scientific and ethical perspective 
in the future  we would consider using a
neural network on a similar but larger dataset 
as the way that neural networks extract features
may lend itself naturally to describing the
complexities of identity and different subsets
of discrete features  for instance  does omitting
the  interested in women  field have more
predictive power for someone in saudi arabia
than someone in california  such a model
would allow these kinds of questions to be
studied  and it would perhaps importantly lead
to the confirmation or challenging of
mainstream stereotypes 

    m  kosinski  d  stillwell  and t  graepel 
private traits and attributes are predictable
from digital records of human behavior 
pnas                           
    f  bodendorf and c  kaiser  detecting
opinion leaders and trends in online social
networks  swsm                  
    e  alpaydin  introduction to machine
learning  the mit press  cambridge        
    a  stone  diversity  dissent  and decision
making  the challenge to lgbt politics 
glq                       
    a  mccallum  k  nigam  a comparison of
event models for nave bayes text
classification  aaai                      
    w  kraaij  m  spitters  and m  van der
heijden  combining a mixture language
model and nave bayes for multi document
summarisation  sigir            
    t  furey  n  cristianini  n  duffy  d 
bednarski  m  schummer  and d  haussler 
support vector machine classification and
validation of cancer tissues using
microarray expression data  bioinformatics
                       

viii  acknowledgements
we would like to thank our cs    
professor andrew ng and our project mentor
sam corbett davies for guidance  as well as
stanfords department of computer science
for the opportunity to perform and present this
research 

 

fi