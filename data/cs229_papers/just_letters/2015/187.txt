a general framework for text semantic analysis and clustering on yelp reviews
renfeng jiang  yimin liu  ke xu
mentor  bryan mccann
stanford university
 rfjiang  yiminliu  xuke  stanford edu
keywords  yelp reviews  deep learning  word vec  k medoids clustering
abstract
millions of user reviews have been posted through yelp  automatic extraction of useful information from these reviews can be very
beneficial for both users and businesses  recent success in understanding the meaning of a word within the context of natural
language processing  nlp  has shed a light on such a practice  word vec  an implementation of neural network based wordembedding approaches  has shown its ability to accurately capture the semantic similarity among words  the transition from
word vec to doc vec  document to vector  or text vec  text to vector   however  has remained an active research  in this study  a
word vec based framework for learning yelp reviews to yield vector matrix representation of yelp reviews and yelp businesses
has been developed  it s application in automatic recognition of similarity among different reviews or different businesses has been
shown to be successful  furthermore  the framework is shown to be able to handle practical tasks including businesses
recommendation  businesses clustering and reviews clustering 
  

introduction

in the area of natural language processing  nlp   understanding the meaning of a word has been critical and intriguing  many
methods have achieved success in capturing the similarity among words  recently  neural network based word embedding
approach has enabled continuous representation of a word  word vec is the state of the art program for such an implementation  as
the name suggests  each word can be represented by a low dimensional vector with real numbers  the distances among vectors are
shown to be an accurate representation of semantic similarity among words  more surprisingly  word analogy can be achieved by
simple vector summation and subtraction 
there are two distinct algorithms behind word vec  skip gram with negative sampling training method  sgns  and continuous
bag of word model  cbow   in this study  the cbow algorithm is chosen for its efficiency  a   billion word wikipedia text
corpus is used to train the model 
  

methodology

the framework we developed incorporates word vec to map words in reviews into real value vectors  constructs a matrix  
essentially a vector set  for each review and each business  a self defined distance to capture the similarity between two matrices 
basically  our model takes words in reviews as input and output the matrix representation of reviews or businesses  with a proper
distance being defined  similarity analysis and category clustering could be performed 
we also notice that word vec could not identify sentiment of words  for example  in the word vec model good and bad are
semantically very similar words  in other words  the vector of good and bad are close to each other and hard to distinguish  as
a result  we use the stanford pos tagger model to tag all words and only nouns are retained 
our framework has three levels  words  reviews  and businesses  fig     


the basic level is the word level  words in each piece of review are treated as features  pos tagger is applied to tag all the
words and only nouns are retained  inputting these nouns into word vec pre trained model generates different vectors
corresponding different words  each noun corresponds to a different vector  



the second level is the review level  simple combination of these vectors corresponding to different nouns in a review gives a
matrix corresponding to that review 



the third level is the business level  applying the same technique above  matrix representing each business is acquired  here 
we use self defined lxj distance  named by the first letter of the family name of our group members and defined as below  to
calculate the similarities of different businesses  k medoids clustering or other clustering algorithms can then be applied to
categorize different types of businesses 

 

fifigure    flow chart of the developed model 

 a  
 b  

 at b  




a b  b a
i j
a       b       a  b   mean max 
lxj a  b   


i
j
 
 ai   b j    

 am 
 bn 




equation above is the definition of lxj distance  where a and b are two different business matrices   is the operator defined by
ourselves  which takes the max value among the normalized inner product of different vectors in the two matrices and then take the
average  the max operator finds the closest distance between a specified word ai and all words in matrix b  the mean operator
finds the average of such closest distances  the final step is to make the distance definition symmetric 
overall  our model can find the similarities of reviews and businesses  combined with k medoids clustering  the similarities of
reviews can be used to categorize different types of reviews and those of businesses can be applied to categorize different types of
businesses and even different subsets among one type of business  i e   american food and asian food among restaurants  in
addition  our model can also calculate the distance between a word and a business  which can achieve smart search  the detailed
applications of our model and results are discussion in next chapter 
  

results

in this section we provide the experimental results on three types of applications based on the proposed model      clustering
business and restaurant      keyword search  and     clustering reviews 
    application on the clustering business and restaurants
to evaluate the effectiveness of the proposed model  we randomly select     business and      reviews and perform the clustering
based on the proposed model  to begin with we use the proposed model to cluster     business into    clusters  and partial results
are provided below 
table    clustering results for businesses
business  cluster      name  

yelp  tag  

fired  pie  
duzan  mediterranean  cafe  
   tapas  
winery       
little  caesars  pizza  

pizza  salad  restaurants  
bakeries  food  mediterranean  
restaurants  
food  arts     entertainment  
wineries  
pizza  restaurants  

adela s  italian  

restaurants  italian    

olio  trattoria  

restaurants  italian  

business  cluster      
name  
emona  studio  
the  barber  of  choix     
hue  salon  and  spa  
lv  hair     alexander s  
salon  
pure  radiance  
faces  hair     color  
studio  

yelp  tag  
hair  salons  hair  stylists  beauty     spas  
hair  salons  barbers  men s  hair  salons  hair  
stylists  beauty     spas  
hair  salons  day  spas  hair  stylists  beauty     
spas  
hair  salons  hair  extensions  hair  stylists  
makeup  artists  beauty     spas  
hair  salons  hair  extensions  hair  stylists  
beauty  
hair  salons  beauty     spas  

it can be seen that these business are similar restaurants hair salons and the yelp tag helps provide a baseline and validation of our
clustering model 
 

fito better demonstrate the clustering results  we propose to use the multidimensional scaling  mds  to visualize the data  mds
projects our data down to two dimensional space so that the data can be plotted based on the euclidean distance  here is the
visualization result in figure   
all     business are plotted based on the relative distances  as a baseline  these businesses are color labeled based on their business
categories obtained from yelps category  from the graph  we can clearly observe that the restaurants  colored in red  form a
cluster  which matches with yelps restaurant label 
after validating the clustering result  we can go one step further to categorize different subsets of businesses among a single
business  for example  different types of restaurants among all the restaurants  say asian  american  mexican  etc   which is shown
in figure    along with our another application of smart search  which is discussed in     

  
figure    labeled businesses by similarities 

figure    labeled different types of restaurants and search results after inputting beef   beef china 
    application on the key word search
to extend the above clustering function so that user can search for a specific business  the proposed model could calculate the
similarities between an input item  vector  and a business  matrix   such system can achieve personalized smart search  a keyword
is first decomposed into several tokens and each token would be mapped to a high dimensional vector  we then aggregate these
vectors  treated as a business matrix and find its cluster members 
 

fithis model works very well  and some results are provided below in table   
table    search results after inputting beef   beef china

input
beef

beef china

results
heng s kitchen  chinese restaurants  
th   toast   food coffee   tea japanese
chinese restaurants  
billy s bbq  soul food southern barbeque
restaurants  

heng s kitchen  chinese restaurants  
th   toast   food coffee   tea japanese
chinese restaurants  





pho bistro  vietnamese chinese restaurants  

  

the first input is beef  which results in a variety of restaurants  the second input is beef china  leading to chinese related
restaurants  by investigating these restaurants manually  we concluded that these types of restaurants do distinguish themselves  for
example  it is hard to know hengs kitchen is famous for its beef  but we dig deep into the reviews and found out that most reviews
were talking about its delicious beef soup noodles  considering the data we investigated only has     businesses  in which there are
only a few asian restaurants  it is reasonable that the first two results of the two searches are the same 
using the similar visualization techniques described above  we further labeled out the results by circles and squares on the graph to
help further understand and validate the results  figure    
these dot graphs are based on the business type of only restaurants for better visualization  from the left figure of figure    we
can see that the results  dots in squares  are more scattered across all types of restaurant types  from the right figure  the results  in
circles  are clustered completely within the asian category 
from these experimental results  we believe that this application can be used for users searching on     business type      food
type  or     to provide recommendations 
    application on the clustering the reviews
finally  we think it would also be interesting to see how the proposed framework could be applied to cluster the reviews within the
same business  one motivational scenario would be  for a business with many reviews  it is time consuming for a customer to read
all the reviews  sometimes reading the oldest latest review would create certain bias  therefore  it is helpful to come up with a
highlighted review  to give the customer a few review exemplars  each of which represents a group of similar reviews serving as a
summary of this business 
table   below is the experimental result for a business with more than    reviews  we clustered them into four categories  one
exemplified cluster listed below contains reviews regarding wait time  table     cluster   is mostly about food  as shown below 
each review basically mentions one or two types of food  also for each cluster  we extracted the centroid and used it as the
highlighted summary  exemplar  of similar reviews 
table    two clustering results  one relates to wait time and the other relates to the food 
cluster    wait time  centroid 

cluster    food  centroid 

i waited for    minutes  went to the newest crazy pita
at downtown summerlin today  i waited for   
minutes and still had not received my food  so i went inside
to ask what was going on with my orderthe woman next
to me said she waited about    minutes

got the crazy pita salad with added chicken  salad was a
great size however  the chicken skewer was pretty
overcooked  charred  and dry   not your typical whole wheat
hard and floury pitakey lime pie was amazing 

cluster members 

cluster members 

   wait time is ridiculous  there is no excuse to take   
minutes to get a pita to a customer   i watched the
line extend out the door multiple times  then an
employee would tell the people about the long wait
and they would all leave

   we love mediterranean food  we dined here today 
  we love mediterranean food  especially kabobs or
pitas  we got the kabob platers  while the chicken and
shrimp kabobs were pretty good the rest of the platter
was terrible  the veggies were soggy and 

   all food is taking    minutes to come out  the girl
behind the counter said  did you hear   would you
like to order   ummm   no  how can a pita take   
minutes 

   lamb and shrimp we had lamb and shrimp with a
side of what they called feta salad  

   i waited    minutes from cash wrap to food on the
table to  the food is ok  not worth    minutes  it s
just a sandwich at the end of the day or a plate of
romaine   but i can t afford the time i lose  thanks 

 

fi   summary and future work
    summary
in this project  we have demonstrated a framework that enables a wide range of applications on text review analytics  we have
demonstrated strong and convincing experimental results  ranging from     clustering business and restaurant      keyword search 
and     clustering reviews  all the experimental results are poised to demonstrate that the proposed model serves as a systematic
and effective way to provide a semantically meaningful clusters that enable a wide range of applications 
    future work
we plan to feed our model with all the reviews of over one million to 


categorize all the different types of businesses 



do more specific categorizations on restaurants 



get better search results with enough reviews feed 



compare with latent dirichlet allocation

reference
   socher  richard  et al   recursive deep models for semantic compositionality over a sentiment treebank   proceedings of the
conference on empirical methods in natural language processing  emnlp   vol             
   le  quoc v   and tomas mikolov   distributed representations of sentences and documents   arxiv preprint arxiv          
       
   word vec  https   code google com p word vec 

 

fi