 

findinginfluencerswithinfuzzytopicsontwitter
talstramer stanforduniversity

  introduction
inrecentyears therehasbeenanexplosioninusageofonlinesocialnetworkssuchastwitter thishasledtoan
abundanceofcontentaroundawidevarietyoftopics whichcanoftenbeoverwhelmingforuserstryingtofind
contentaroundaspecificsetofinterests previousworkontopicmodelingtwittercontenthaslargelyfocusedon
classifyingtweetsorauthorsintoastaticsetofcategories likesportsorpolitics inreality however intereststend
tobemorefinegrainedanddynamic forexample ausermaybeinterestedinthe    presidentialelection the
worldseries orarecentnaturaldisaster furthermore auserisnotalwaysinterestedinconsumingafirehoseof
contentaroundatopic butratherafilteredstreamofcontentfromjustinfluentialusersforthattopic 

thegoalofthispaperistwofolds   tobuildamodeltoidentifyafuzzytopictaxonomyontwitter and  toidentify
influentialuserswithineachtopic thewordfuzzyisusedtomeanthatthetopictaxonomyisnotmanuallydefinedor
static butratherisdeterminedalgorithmicallybasedonwhatpeoplearetalkingaboutontwitter andthuschanges
continuously thesetopicsareeitherveryspecific likeatvshoworvideogame ortimesensitive likeatrend event 
ornaturaldisaster auserisinfluentialforagiventopiciftheyarelikelytoproduceengagingcontentaboutthat
topic engagingcontentisidentifiedbythenumberoflikes retweets andrepliesausergetsontweetstheypost
aboutthetopic theinputtoouralgorithmisthetop   searchqueriessubmittedontwitterbetween         and
         andalltweets withengagementcounts byverifiedusersbetweenthesedatesthatcontainatleastoneof
thetopsearchqueries avariantofldaisusedtogroupsearchqueriesbasedonsimilarityinsearchqueries
containedinuserstweets next amixtureofgaussianmodelisusedtomodelhowinfluentialauserisforatopic
basedontweetengagementcountsandtheldamodel finally amulticlasssvmisusedtopredicthowinfluential
newlypostedtweetswillbeforagiventopicbasedonhistoricalengagementcountsoftweetsbythesameauthor
aboutthetopic 

  relatedwork
previousworkontopicmodelingtwittercontenthaslargelyfocusedonclassifyingtweetsorauthorsintoastaticset
ofcategories hongetal    usedldaandavariantofthetopicauthormodeltoclassifyusersintoasetof  static
categories suchastechnologyandsports ramageetal    usedavariantofldatodiscover differentlatent
categoriesfortweets eventsandideas socialtopic personalupdates andtrendsinlanguageusage bothofthese
modelsconsiderallnonstopwordsinatweet whichleadstoalotofnoisewhendeterminingthemostrelevant
entitiesforatopic additionally bothofthesemodelsfailtotakeintoaccountthetimesensitivenatureofcontenton
twitter 

voseckyetal    tackledbothoftheabovementionedproblemswithanewmodelcalledthemultifacetedtopic
model mftm  theirmodelisavariantofldathatallowsforeachlatenttopictohaveasetoforthogonalfacets in
theirpaper theyconsiderthefollowingfacets generalterms personnames organizations locationnames anda
temporaldistribution whiletheirmodelproducesamorefinegrainedtopictaxonomy itdoesnotconsidersignalfor
determiningthepopularityofatopicorwhichusersareinfluentialforagiventopic 


fi 

wengetal    usedavariantofpageranktodeterminetopicspecificinfluencersbasedonthefollowgraph while
thisisanovelideaforfindinginfluentialusers thelatenttopicsproducedbytheirmodelcontainalotofnoisedueto
takingintoaccountallnonstopwordsintweets 

  datasetandfeatures
adatasetisbuiltfromu s twitteractivitybetween       and       basedoninternaltwitterapis aoneweek
periodischosentobeshortenoughthatitislikelythateachsearchquerynonambiguouslyreferstoasingletopicor
event butlongenoughthatitwillencompasstopicsoreventsspanningmultipledays 

allsearchqueriessubmittedbyusersbetween    and    arecollectedandsortedbyfrequency thetop   
searchqueriesrepresentthebaseentitiesforthetopictaxonomy 





searchquery

searchcount

 aldubthevisitor

      

 aldubnewcharacter

      

greghardy

      

 manonthemoon

      

bencarson

      

figure  top searchqueriessubmitted



figure  histogramofsearchquerysubmissioncounts 


alltweetsbyverifiedusersbetween    and    thatcontainanyofthetop   searchqueriesarecollected 
tweetsaregroupedbyusertoobtainforeachuserthenumberofeachsearchquerycontainedintheirtweets users
havinglessthan instancesofatopsearchqueryintheirtweetsareremoved afterfiltering thefinaldataset
contains       tweetsand     users additionally foreachtweet thenumberoffavorites retweets andreplies
iscollected 


searchquery

tweetcount

christmas

         

halloween

         

exo

         

drake

         

trump

         

figure  top searchqueriesbytweet
count

 


 










 


figure  histogramofsearchqueries figure  boxplotoftweetengagements
tweetcounts 


  methods
inordertoextractasetoftopicsfromthetopsearchqueries avariantof
latentdirichletallocation    lda isused
 
ldaisaunsupervisedlearningalgorithmthatexplainsstructureinasetofdocumentsbyrepresentingeach
documentasaprobabilitydistributionoverasetofunobservedtopics andeachtopicasaprobabilitydistributionover
asetofwords specifically ldausestwoprobabilitydistributions thefirstisthemultinomialdistribution which
modelsexactlykpossibleeventsandntrials  xi isavariablerepresentingthenumberoftrialswhereeventioccurs
and pi istheprobabilityofeventioccurring themultinomialdistributionhasthefollowingprobabilitymassfunction  
x
x
n 
f  x        xk n  p        pk    x     x
p      pkk  thesecondisthedirichletdistribution whichisaprobabilitydistributionoverthe
k    

fi 

spaceofmultinomialdistributions togeneratedata onefirstdraws p   dir         k  andthendraws x   m ult p   
k

thedirichletdistributionhasthefollowingprobabilitymassfunction  f  p        pk         k   

  i  k
i  

k

  

 pi i  the

  i  i  
i  

generativeprocessofldaispicturedinfigure below 

figure  left    isaparameterofadirichletdistributiongenerating   the
parameterofamultinomialdistributiongeneratingtopicsforadocument   
isaparameterofadirichletdistributiongenerating   theparameterofa
multinomialdistributiongeneratingwordsforatopic zisthetopicassigned
towordw 


thejointdistributionofldaforktopics mdocuments andnwordsisgivenby 
k

m

m

j  

i  

i  

p      z  w         p  j    p  j    p  zi n i p wi n zi n  zi n   thegoalofldaistofindvaluesoftheunknown
parameters     and

z thatmaximizethisjointdistribution thereisnoexplicitformulatosolvethisoptimization
problem sogibbssamplingisusedinstead whichisanalgorithmthatallowstheestimationofaprobability
distributionp x throughrepeatedsamplingof p  xi xi    thetopicassignmentsareinitializedrandomlyandthen
refinedbyrepeatedlysamplingtopicassignmentsforeachworduntilconvergence theparameters  and  are 
thencomputedfromthetopicassignments 


tweetsfromeachuserareaggregatedintoasingledocument thedocumentforauserisrepresentedasa
bagofwords whereeachinstanceofatopsearchqueryappearinginatweetbythatuserisconsideredaseparate
word oneimmediateproblemisthatsearchqueriessometimeshaveambiguoustopicassignments forexample 
thesearchquerychristmasisreferredtointhecontextofmanydifferenttopicsorevents thesesearchqueriesare
tooambiguoustobegoodrepresentationsforasingletopic inordertoremovethesesearchqueries successive
iterationsofldaarerunaftereachiterationasearchquerythatisamongthetopnmostlikelywordsinatleastm
topicsisremoved specificvaluesofmandnarediscussedintheresultssection  thealgorithmterminatesafter
thefirstiterationinwhichnosearchqueriesareremoved 

basedonthelatenttopics thenextstepistodeterminethemostinfluentialusersforeachtopic tothatend amodel
isbuilttodeterminehowinfluentialatweetisforaspecifictopsearchquerycontainedinthetweetbasedonthe
numberofengagementsthetweetreceivesrelativetoothertweetscontainingthatsearchquery influentialis
modeledasadiscretevariabletakingonvaluesbetween andk forexample fork   thebucketscanroughlybe
thoughtofasnoinfluence lowinfluence mediuminfluence andhighinfluence themajorityofengagementsfor
aspecificsearchqueryfollowageneralizedparetodistribution however engagementsforaspecificsearchquery
followanapproximatenormaldistributionwhenconditionedonaninfluencerlevel formally giventotal
engagements e i  
andaninfluencerlevel z i  foraspecifictweetandsearchquery
 
thefollowingmodeling
 i 
 i 
 i 
assumptionsaremade  z   m ultinomial   and e  z   j   n  j  j   justifiedintheresultssection  theparameters

    and  areestimatedforeachsearchquerybymaximizingthelikelihoodfunction 
m

m

k

l          p x i            p x i  z i     p z i     then eachinstanceofasearchqueryinatweetislabeled
i  

i   z i   

withaninfluencerlevelbasedonfindingthemostlikelygaussiandistribution n  j  j  thatitcamefrom the
expectedinfluencerlevelofauserforagiventopicisthendefinedas 

usrtpcinfllvl usr  tpc   









twttwts usr  qryqrys twt 

twtqryinfllvl twt  qry    tpcqryprb tpc  qry  

where tpcqryprb correspondsto  intheearlierformulationoflda 


fi 

inarealworldsetting itmaybedesirabletodetectinfluentialtweetsaboutatopicinrealtime e g beforethetweet
receivesanyengagement  tothatend amulticlasssvmisbuilttopredictwhetheranewlypostedtweetwillbe
influentialforeachtopsearchquerycontainedinthetweet asvmisasupervisedlearningalgorithmthatgenerates
alinearbinaryclassifieroftheform hw b x    g wt x   b   where g z      if z    and otherwise theparameters w 
and b arefoundbysolvingthefollowingoptimizationproblem  min w b      w   s t y i  wt x i    b    i           m   
tobuildamulticlasssvm aseparateoneversusrestsvmclassifierisbuiltforeachclass andthenforagivendata
pointtheclassthathasthehighestmarginischosen specifically amulticlasssvmisbuilttopredict
twtqryinfllvl twt  qry   e g  z i    fortraining eachinstanceofatopsearchqueryinatweetisusedtogeneratea
trainingexamplewiththefollowingfeatures 
 usertopicprobability from   basedonthemostlikelytopicforthesearchquery from    
 maximumtopicsearchqueryprobability from     




 
averageinfluencerlevelfortheuserandsearchquery   twts usr qry  



usertopicinfluencerlevel from usrtpcinfllvl  basedonthemostlikelytopicforthesearchquery 



twttwts usr qry 

twtqryinfllvl twt  qry  

  experiments results
perplexitycanbeusedtoevaluatethecoherenceofanldamodel alowerperplexityvalueindicatesabetter
m

representationofthelatenttopics perplexityisdefinedas  p w m    exp 

 log p wi m   

i  

m

 nm

   wheremisourmodel  wi is

i  

thesearchqueryvectorforuseri and nm isthenumberofsearchqueriescontainedinuseristweets first to 
reducethenumberofvariables       and      arechosenbasedonmanualinspection tofindtheoptimalnumber


oftopics foreachnumberoftopics thedataissplitinto  parts onepartisheldout therestofthedataisusedto
trainanldamodel andthenperplexityiscomputedontheheldoutpart themodelwiththelowestaverage
perplexityischosen 
topics

 

  

aveperplexity
        
       
figure  averageperplexityforvariousnumberoftopics


  

  

  

  

        

        

       

       

thenumberoftopicsthatminimizestheaverageperplexitybasedon  foldcrossvalidationis   thenextstepis
toremovesearchqueriesthatareamongthetopnmostlikelywordsinatleastmtopics basedonmanual
inspection  n      and m     workswellforthisdataset andremovesthefollowingqueries christmas exo 
halloween likes andcandycrush figure belowsummarizesthefinalldamodel 
topic
nfl
election
topsearchqueries greghardy
trump
kenwhisenhunt
bencarson
andrewluck
westpoint
vernondavis
berniesanders
stevesmith
fredthompson
figure  top searchqueriesforthetop topicsoutputtedbylda

worldseries
royals
mets
 worldseries
harvey
jonnygomes

tech games
 websummit
startrek
blackops 
warcraft
fallout 

uknews
sharm
johnlewis
 bonfirenight
 millionmaskmarch
guyfawkes

generally themodelaccuratelygroupssearchqueriesaroundspecifictopicsorevents oneinstanceofitpartially
breakingdowniswhenmultipleeventshappenaroundthesametimeinthesamegeographicalarea whichcauses
searchqueriesaboutdistincteventstobegroupedtogether forexample sharm johnlewis andguyfawkes
areareallaboutdistincteventsbuthappenedaroundthesametimeandrelatetotheuk 

theakaikeinformationcriteria aic isusedtomeasurethequalityofastatisticalmodelforagivendataset itis
definedasfollows  aic    k   ln l   wherekisthenumberofparametersofthemodel and l isthemaximumvalue
ofthelikelihoodfunctionforthemodel thenumberofinfluencerlevelsforourmixtureofgaussiansmodelischosen

fi 

tominimizeaverageaicacrosssearchqueries notethatonevalueischosengloballyratherthanone
permixturemodel e g persearchquery sothatinfluencerlevelscanbecomparedacrosssearchqueries 
influencerlevels  

 

 

averageaic
      e   
      e   
      e   
figure  averageaicforavarietyofinfluencerlevels

 

  

  

  

      e   

      e   

      e   

      e   


thenumberofinfluencerlevelsthatminimizesaverageaicis  aftergeneratingthemleestimatesfor     and 
 theallfitdistmatlabtoolbox   isusedtoverifythatthemostlikelydistributionforengagementsgiveneachinfluencer
levelisapproximatelygaussian anassumptionmadeinsection  figure  belowsummarizesthemostinfluential
usersforthetop topics 
topic
mostinfluential
users

nfl
election
sportsdaydfw
thehill
profootballtalk
politico
nfl
cnnpolitics
postsports
foxnews
sportingnews
abcnewspolitics
figure   mostinfluentialusersforthetop topics 

worldseries
michaelbaron
thekansascitystar
  actionnews
mlb
foxsports ml

tech games
websummit
irishexaminer
independent ie
gamespot
gregmurphy

uknews
itvnews
skynews
dailymirror
theindependent
huffpostuk

generally themodelaccuratelyfindsaccountsthatpostengagingcontentspecifictothetopicandarepopularon
twitter thealgorithmfindsalmostallprofessionaljournalistsandnewsoutlets however andveryfewnonnews
accountswhichmaybebetteratproducingnichecontent 

toevaluatethemulticlasssvmmodelforpredictinganinfluencerlevelforanewlypostedtweetandsearchquery 
theearliest   oftweetsareusedfortrainingandtherestofthetweetsfortesting aconfusionmatrixandprecision
andrecallareshowninfigure  and  below 




level 

level 

level 

level 

features incremental 

level 

    

   

  

  

aveuserqueryinfluencerlevel       

      

usertopicprob

      

      

maxtopicqueryprob

     

      

level 

   

   

  

 

level 

   

   

   

  

level 
  
  
   
   
figure   confusionmatrixforinfluencerlevelusingallfeatures

precision

recall

usertopicinfluencerlevel
   
      
figure   precisionandrecallincrementallyaddingfeatures

asshowninfigure   theaveragehistoricalinfluencerlevelforauserandaqueryisthebestfeatureforpredicting
theinfluencerlevelforanewtweetandquerybythatuser addingintheusertopicprobabilityandmaxtopicquery
probabilityhaveanegligibleimpactonbothprecisionandrecall addingintheusertopicinfluencerlevel however 
leadstoasizableincreaseinprecision    andrecall     thisisduetothefactthatinmanycaseswedonthave
verymanyexamplesofengagementsauserreceivedforaspecificsearchquery buthavemoreexampleswhen
consideringallsearchquerieswithasimilartopicdistribution 

  conclusion
inthispaper weexploredtheproblemofbuildingafinegrained dynamictopictaxonomyoftwitterinterestsaswell
asidentifyinginfluentialuserswithineachtopic wepresentedanovelapproachofusingsearchqueriestodefinethe
baseentitiesforlda whichvastlyreducesnoiseoverpreviouswork additionally wepresentedanewwayto
combineldawithtweetengagementstodiscoverinfluentialusersforatopicaswellastopredictinrealtime
whethernewtweetsbyanauthorwillbeinfluentialforthattopic relevantfutureworkincludesusingthefollowgraph
tobetterdetectinfluencersaswellasbuildingastreamingpipelinetoaugmentthetopictaxonomyinrealtime 

fi 

  references
   
hong liangjie andbriand davison  empiricalstudyoftopicmodelingintwitter  
proceedingsofthefirst
workshoponsocialmediaanalytics
 acm      
   
ramage daniel susant dumais anddanielj liebling  characterizingmicroblogswithtopicmodels  
icwsm
            
   
vosecky jan etal  dynamicmultifacetedtopicdiscoveryintwitter  
proceedingsofthe  ndacminternational
conferenceonconferenceoninformation knowledgemanagement
 acm      
   
weng jianshu etal  twitterrank findingtopicsensitiveinfluentialtwitterers  
proceedingsofthethirdacm
internationalconferenceonwebsearchanddatamining 
acm      
   d m blei a y ng andm i jordan latentdirichletallocation journalofmachinelearningresearch      
   sheppard mike fitallvalidparametricprobabilitydistributionstodata matlabfileexchange      

fi