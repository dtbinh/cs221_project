predicting a songs path through the billboard hot    
cristian cibils  zachary meza  greg ramel
stanford university  california

abstract
in this project we explore the space of predicting the  n     th position in the billboard hot    
charts given the first n positions and musical data  we can then use this prediction as the next
entry to predict the  n     th entry  and keep repeating this regression until the song drops out of
the charts  considerable research has gone into predicting the commercial success of a song based
on its innate characteristics  yet no major effort has endeavored to use previous chart success as
a predictor of future success  our results display a robust prediction engine that leverages both
nonmusical and musical features to predict the full path of a song across the billboard charts 
keywords  machine learning  music  hit songs
   introduction
the billboard hot     has been a reliable source for song popularity rankings over the past sixty
years  there is an undeniable appeal for artists and record labels to be able to predict the path of
their songs along the billboard rankings  artists want to compose more popular songs  and labels
want to invest in more popular artists  even with the advent of industry shattering changes in the
world of music  namely  the introduction of digital distribution mechanisms  billboard remains a
go to source for assessing the success of a pop song 
we trialed an array of different ml algorithms in order to most effectively learn parameters
that can determine a songs path  defined as the position it holds on the charts in a given time
interval  through the billboard      the input to our algorithm is the preceding chart positions and
qualitative features from gracenote including mood  genre  and artist gender  we then use a linear
regression algorithm  specifically ridge regression  to output a predicted value for the songs next
position in the chart  our problem specification can then be defined as follows  given a song in the
hot     and its history  predict its position in the following week  what we hypothesize is that if
these predictions are good enough  then we can add the results of the predictor to the history and
extend it to an arbitrary number of weeks so that we can predict its whole path on the billboard
    chart 
   related work
there has been a significant amount of effort in the field of predicting the commercial success of
a song with different sources and features as input  we analyze some of the literature in the field in
the following section 
chon et al     use the lms algorithm to explore how sales data affects chart position  their
findings show that the higher a song starts on the charts  the longer it remains there and the higher
the likelihood of climbing to the top  one notable issue with chon  et als paper is that most of
their data comes from the top jazz chart  where there might be some bias in listening patterns
depending on music genre 
preprint submitted to cs      autumn     

december         

fikoenigsten et al     use peer to peer networks  such as napster  to predict billboard success 
their results show a tight correlation between peer to peer network success and chart success 
however  the direction of correlation or causality is left unclear 
ni  et al     train a learner using only audio features to predict the commercial success of a song 
they try to predict whether the song will be a hit  peak at a position higher than     or not  a
position greater than    and less than     their results show a     accuracy achievement 
in a study of social networks  bischoff et al     show that it is possible to accurately predict the
commercial success of a song given its the relationships formed in the graph structure of the network 
using sophisticated data mining techniques  they generate a graph from music social networks such
as pandora  last fm  and soundcloud 
dewan et al     use a similar approach to      except they focus on mainstream social media such
as facebook and twitter  they explore the effectiveness of old media and new media in trying to
predict the success of a song  their findings show a positive correlation between radio plays and
commercial success  but no such correlation is found between social network activity and commercial
success 
our implementation differs fundamentally from those above in that we are trying to predict the
popularity of a song as expressed primarily by the billboard past data itself  while the research above
relies largely on external data  although we use musical features as well  most of our accuracy  as
will be shown in the following sections  comes from the trend data 
   dataset and features
our dataset was drawn from the billboard website      leveraging the fact that only very recently
billboard made this data public  we have data for every week starting from mid year      to the
first week of december of       adding up to       weeks of analysis total  considering the presence
of distinct songs across those weeks  we have a total of        song paths to analyze 
we modified our data from raw week to week top     rankings to instead represent it as each
songs paths through the hot      that path took the form of a list of week entries  which contained
the year  the number of weeks into the year  and the current rank  we used the number of weeks into
the year instead of the absolute date to more accurately capture the position in the year generally
across years  below is an abbreviated example for adeles hello 
 hello     adele                                    
we enhanced our collection of features to by using the gracenote audio database      we think
it is interesting to analyze the relationship between past success data and musically intrinsic data
to see which best contributes to our prediction  some of the fields used are  mood  tempo  artist
origin  genre  key  artist era  artist gender  we analyze the relationship between musical and
nonmusical features to see which are more fit at predicting future chart position 
in order to validate our algorithms  we use k fold cross validation with k       it was most
striking to see  however  the predictions for this current year as compared to the actual chart
positions 
   methods
in our first attempt we used ridge regression  as implemented by the scikit learn library      
the features used were only the positions of the song in the previous n weeks  we tried this with
several different values of n to see which performed better  and we extended our analysis not just
 

fito predicting the n     case  but also to predicting the whole path of the song  we also considered
adding features such as year  and week of the year  but after a simple trial we realized that the
features increased our error 
we then tried an array of different algorithms to see which produced the best results  the results
are shown in the next section 
   results
     error function
for the case of predicting the n    th position  we calculate the error simply by getting the
average absolute value of the difference between our prediction and the actual position  we can
express this error as 
m
x
 i 
n    
 hn    x i     yn    
i  

where hn  x i    is our predicted value given the ith n sized vector of previous positions  x i     if we
generalize our predictions to predict a path of songs with duration on the charts of at least  n  where
again n is the number of past positions we observe  then we get the following error metric 
p ath  

m len p
x
xath 
j  

 j 

 hn i  x j     yn i  

i  

     past data only
our analysis of predicting the immediate future position based on past n positions yielded the
following results 
n   as a function of n
perceptron
logistic regression
ridge regression         
pipeline  x   

n  

  

  

  

 

 

 

 

  

n
in turn  this means that our best attempt  pipeline cubic regression  n      was on average
only      positions away from the actual result  we think that this result is remarkable given the
simplicity of our model and the high accuracy it presents  with this knowledge  it becomes trivial
to compute a probability for a song to reach hit status given its history 
in predicting the path for a song given a window size of four in our test set  we observed some
interesting trends year to year  below is the average error for paths of length  n     from our test
 

fiset from each year  also plotted on the chart is the number of distinct songs in each year  normalized
to fit the same scale as the path error  by a factor of approximately     

averagep redictedp atherror

average predicted path error for each year

  
  
  
  
                                  
y ear

from this plot  we can see that there is a roughly proportional relationship between the number
of distinct songs in a year  that is  the more songs there were  the less error there was  the obvious
takeaway is that there are more examples for training in years with more songs  however  we also
note that for a year in which there are more songs  the songs tend to take on shorter paths  we
hypothesize that these shorter paths are more direct in their representation of the general trends 
for instance  shorter song paths will have less of a tendency to rise slowly over numerous weeks and
then drop sharply   the rise and fall will be more evenly distributed 
we can see our performance for path wide prediction more specifically in the following visualization of our algorithm evaluated on test set songs from      

 

fihere  each grey bar represents a week of the year  our visualization shows        the lighter
colors represent our predictions  and the darker colors represent the actual positions  our average
p ath for      was        using n      we find that our algorithm is good at predicting climbs and
peaks  but fails to accurately predict descents from the charts 
     enhanced past data
in this section  we experimented adding the features from the gracenote database to our preexisting features  here are some of our results 
n   as a function of n
logistic regression
ridge regression         
pipeline  x   

  

n  

  
  
 
 
 
 

 

 

 

  

n
a simple comparison lets us see that the features added from gracenote  namely mood and weeksinchart  only clutters the same classifiers that would produce better results without it  the best
performing algorithm in this case was pipeline with n    
   conclusions
overall  we found that using previous positions to predict the future is a useful and reasonable
feature set  our results are surprising given the simplicity of our model  and perhaps even more
surprising  given that if we add musical data  our results become worse  there are billboard mechanics that can be captured better  namely the rapid drop from the charts  yet it is remarkable to
see how accurately our algorithm predicts peaks 

 

fi   references
    s  h  chon  m  slaney  j  berger  predicting success from music sales data  a statistical and
adaptive approach  in  proceedings of the  st acm workshop on audio and music computing
multimedia  acm  pp       
    n  koenigstein  y  shavitt  n  zilberman  predicting billboard success using data mining in p p
networks  in  multimedia        ism      th ieee international symposium on  ieee  pp 
       
    y  ni  r  santos rodriguez  m  mcvicar  t  de bie  hit song science once again a science  in 
 th international workshop on machine learning and music  spain  citeseer 
    k  bischoff  c  s  firan  m  georgescu  w  nejdl  r  paiu  social knowledge driven music hit
prediction  in  advanced data mining and applications  springer        pp       
    s  dewan  j  ramaprasad  social media  traditional media  and music sales  mis quarterly   
              
    music  top     songs  billboard hot     chart  http   www billboard com charts 
hot             visited on             
    music
recognition
 music 

gracenote 
music recognition          visited on             

http   www gracenote com music 

    scikit learn  machine learning in python
scikit learn      documentation  http   
scikit learn org stable         visited on             

 

fi