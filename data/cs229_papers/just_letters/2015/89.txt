estimating jumping heights of a small legged robot based on
terrain properties  control efforts  and tactile sensor
measurements
tae myung huh    amy kyungwon han    and lawrence h  kim 
 

department of mechanical engineering  stanford university  stanford  ca        usa

abstract
jumping of legged mobile robots has been a highly
motivated research area  when a running robot encounters obstacles comparable to its body height 
jumping is one of the most effective ways to overcome them  also  if the robots can jump over gaps
or crevices  the mobility of robots in a wild field
would be enhanced drastically  the jumping performance is dependent on the terrain properties as
well as its jumping mechanism  we focus on low
and high friction surfaces that result in higher and
lower jumping heights  respectively  in this project 
we classify terrain type  high versus low friction surfaces  and estimate jumping heights  training data
include stride frequency  sensor data  and jumping
height  for both terrain classification and jumping
height estimation  smo regression with puk kernel has the best performance with mean test error
of      and     mm  respectively  greedy stepwise
algorithm is used for feature selection  and when
trained with five most influential features  comparable accuracies are obtained  from the results 
several interesting attributes of the jumping robot
are also found 

is able to jump up to   meters  mit researchers invented a novel leg design for their cheetah robot   
which succeeded in jumping over hurdles of various
heights 
however  the jumping performance is dependent
on the terrain properties as well as its jumping
mechanism  for example  jumping on a low friction surface dissipates less energy than jumping
on a high friction surface  this implies that more
energy can be transferred to potential energy  in
former case  resulting in higher jumping height 
therefore  the jumping height varies on different
surfaces even with the same jumping mechanism 
and we need to understand the ground characteristics in order to control it more accurately  a similar
research on terrain classification is done using accelerometers attached to the body    or vision    
using either method is easier to implement  however  they are indirect ways to measure the ground
characteristics during impact  in this project  we
use five force sensors directly attached to the leg to
measure the actual ground reaction forces on each
segment of the leg  based on the force sensor data 
terrain characteristics  and control efforts  we classify terrain type  and estimate the jumping height 

 

 

introduction

jumping of legged mobile robots has been a highly
motivated research area  when a running robot
encounters obstacles which are comparable to its
body height  jumping is one of the more effective
ways to overcome them  also  if the legged robots
can jump over gaps or crevices  the mobility of
robots in a wild field would be enhanced drastically 
previous researches on jumping robots are focused on jumping mechanisms  for example  the  inch tall sandflea robot from boston dynamics   

experimental setup
data acquisition

and

similar to previous tethered runners that run in
a circle  a smaller two legged runner is built to
measure the jumping height and ground reaction
forces on various terrain surfaces  the mass and
dimensions of the runner are selected to mimic the
structure of other small legged robots such as the
roach class of robots  which employ curved legs
for locomotion 
two c shaped legs are attached to the motor
 

fislip rings
sensor legs

jumping height 

motor

 peak amplitude and intergral of sensor force  
normal ground reaction force during collision
is related to the change of vertical linear momentum  thus  the amplitude and integral of
sensor force are good indicators for the jumping height 
 sensor force duration  the duration varies
for different terrains  the ground reaction
force on the hard surfaces may have sharper
impulse like peak  on the other hand  force
profile on the soft surfaces  i e  thick carpet 
will exhibit more widely spread peak with respect to time  thus  sensor force duration is a
key feature for terrain classification 

figure    experimental setup of two legged robot
feature
index
 
 
 
 
 
    
     
     
  
  

description
robot stride frequency
sensor force  net  peak amplitude
sensor force  net  duration
sensor force  net  area under curve
sensor force  net  average amplitude
individual taxel        force peak amplitude
individual taxel        area under curve
individual taxel        average amplitude
sensor force peak to average
height

 terrain type   the robot leg has different
jumping performance among various terrain
surfaces  therefore  the terrain type has a significant effect on the jumping height 

   

for the terrain classification  several different classifiers from weka  a machine learning software
workbench from university of waikato  are deployed  support vector machine  smo with puk
kernel   gaussian process regression  logistic regression  and multilayer perceptron     after the
classification  each classifier goes through a    fold
cross validation to test its performance  the classifier with highest kappa statistic and lowest test
mean absolute error is chosen and the corresponding confusion matrix is calculated  then  we use
greedy stepwise algorithm with    fold cross validation for feature selection  the five most influential features are selected and performance of the
classifiers when trained with all features and just
five features are compared by computing their respective confusion matrix and computation time 
using this classified terrain type along with sensor data and control efforts listed in table    several
classifiers are implemented to estimate the jumping height  again  weka library is used to implement three different regression models  linear 
smo  gaussian process  with three varying kernel
 rbf  puk  poly   the functions of the kernels
are shown in table    same as before  a    fold
cross validation is used to calculate the test error
for each regression model kernel set and the following result is used to determine the most suitable
one  for feature selection  same method is used as
described in previous paragraph 

table    machine learning feature set
shaft  maxon dcx  l eb kl   v       planetary
gearhead   each on the other side of the shaft  the
motor is mounted on a  d printed one axis gimbal
structure that allows the motor and leg assembly
to move freely about the vertical axis  the setup
is shown in figure  
to solve the wiring problems  we employed sliprings  wires from rotating leg sensors are connected to the computer via a through bore slipring  orbex group             a microprocessor  texas instruments tm c   gh pm  is used
to change stride frequency with a closed loop pid
control 

 

machine learning method

   

algorithm

features

 stride frequency   the stride frequency of the
robot leg determines the kinetic energy of the
robot  which is transferred to potential energy 
the potential energy is directly related to the
 

fitype of kernel

function
i

kr  x   y     exp kxi  xj k 
p
kr  xi   y j              kxi  xj k   
kr  xi   y j      xit xj     p

radial basis function  rbf 
pearson vii function based universal  puk 
polynomial  poly 

j

table    kernel functions
classifiers

kappa
statistics

mean absolute error

root
mean
squared error

computation
time  s 

svm smo puk kernel
gaussian
logistic regression
multilayer perceptron

    
    
    
    

    
     
     
     

     
     
     
     

    
   
    
     

table    terrain classifier error table
high friction
surface
 rubber 

     

    

    

     

    
   
feature score

low friction
surface
high friction
surface

low friction
surface
 teflon 

table    confusion matrix for smo regression
with puk kernel

   
     

    

 
 

  

  

  

figure    feature scores for terrain classification 
top five features are     taxel   area under curve 
    net force duration      taxel   area under curve 
    net force area under curve      net force average
amplitude

results
and the confusion matrix is computed after training using only these five features as shown in table
   the computation time is      seconds 

terrain classification
model selection

as shown in table    the svm with smo and puk
kernel has the highest kappa statistic and mean
absolute error  thus  this is selected to be our terrain classifier and the corresponding confusion matrix is calculated after a    fold cross validation 
as shown in table    the confusion matrix shows a
high accuracy of approximately     for the svm
classifier 
     

    

    

in order to determine the minimum required size
for training set  learning curve is plotted  as the
number of training data increases  the train and
test errors are plotted to show convergence after
certain amount of training samples 

 

    

   
     

height regression
model selection

table   shows that the gaussian process regression
with puk kernel has the highest performance in estimating training samples whereas smo regression
with puk kernel has the minimum test errors of
     mm  on the other hand  linear regression and
smo regression with rbf kernel has the worst accuracy on each surface respectively  when trained
with all features  even the highest test error  smo 
rbf kernel  does not exceed      mm of jumping
height 

feature selection

figure   shows the scores for each of the features used in terrain classification when using svm 
from this  five most influential features are selected
 

fihigh friction
surface
 rubber 

     

    

     

     

   
feature score

low friction
surface
high friction
surface

low friction
surface
 teflon 

 
 

linear reg 
smo  rbf 
smo  puk 
smo  poly 
gaussian  rbf 
gaussian  puk 
gaussian  poly 
low friction
surface

linear reg 
smo  rbf 
smo  puk 
smo  poly 
gaussian  rbf 
gaussian  puk 
gaussian  poly 

computing time
 sec 

all

top  

all

top  

all

top  

    
    
    
    
    
    
    

    
    
    
    
    
    
    

    
    
    
    
    
    
    

    
    
    
    
    
    
    

   
    
     
     
     
     
     

   
    
    
    
     
    
    

train error mean test error mean
 mm 
 mm 

feature score

train error mean test error mean
 mm 
 mm 

all

top  

all

top  

all

top  

    
    
    
    
    
    
    

    
    
    
    
    
    
    

    
    
    
    
    
    
    

   
    
     
     
     
     
     

   
    
    
    
     
    
    

 
   

  

  

  

  

 

  

  
  
  
feature index

  

  

discussion
terrain classification

using smo with puk kernel  high accuracy of
about     is obtained as shown in table    binary
nature of this terrain classification most likely had
significant influence on the accuracy  in the future 
more classes will be introduced and the corresponding accuracy would most likely reduce 
the five most influential features found from
greedy stepwise algorithm are integral of channel
  force  all channels force duration  integral of
channel   force  integral of all channels force  and
average net force of all channel  the stride frequency didnt seem to have a particular significance and this intuitively makes sense as terrain
remains mostly the same regardless of the stride
frequency  when trained with just the top   features  the computation time is decreased approximately       but with a sacrifice in accuracy of
about     compared to the original results  this
may be desirable if time is the more pressing constraint 

feature selection

figure   shows scores for each feature on both surfaces after applying gaussian process regression
with puk kernel  we selected top five highest
scored features for each surface and trained only
with those features  the corresponding train and
test errors are listed in table    when trained with
top   features  the smo model with puk kernel
remained the best model with lowest test error 
whereas the gaussian process with poly kernel became the worst with train and test error of      mm
and      mm  respectively 
     

  

figure    feature weight sensor subplot  top five
features on high friction surface       robot stride
frequency      taxel   area under curve      net
force peak amplitude      taxel   average amplitude      taxel   average amplitude top five features on low friction surface       robot stride frequency      taxel   average amplitude      taxel  
average amplitude      taxel   peak amplitude     
taxel   peak amplitude

table    error table from each model for height
estimation 
     

  

   

 
 

computing time
 sec 

    
    
    
    
    
    
    

 

   

table    confusion matrix for smo regression
with puk kernel  using top five features
high friction
surface

   

training set size evaluation

figure   demonstrates the train and test errors of
the regression with respect to the size of the training set  train and test error start to converge
around     samples  which means that     training
data is an adequate size for our application 

   

jumping height regression

generally  the test errors of various regression models are less than     mm when trained with all fea 

fi   

prediction error  mm 

 
   

face so ground contact point is different  when
we use top five features  the maximum error becomes     mm which is double the maximum error
when trained with all features  however  the computation time does not reduce significantly except
the smo model with puk  poly kernel  thus  depending on the model kernel set  using only five
features might not be beneficial in terms of computation time and errors 
also  from the training set size evaluation  half
of current training data has the same test and train
error difference as the whole training set  thus  we
can save time and avoid overfitting by collecting
only     training data 

train error  high friction
test error  high friction
train error  low friction
test error  low friction

 
   
 
   
 
   
 

   
    
    
number of samples in training set

figure    error vs  sample size table  train error
and test error converges after train data size of     

 

conclusion   future work

in conclusion  with the data and features obtained
from the jumping robot experiments  smo with
puk kernel demonstrate a test error of less than
   for terrain classification  whereas for jumping
height regression  smo regression and gaussian
process with puk kernel both result in a model
with test error mean of less than     mm  using the
greedy stepwise algorithm  five most influential features were selected and the test error means when
trained with all features versus top five features are
compared to validate its performance  this sometimes allow the algorithm to compute more efficiently based on the model kernel set  useful for dynamic circumstances  in the future  the attributes
of the jumping robot learned from this project will
be used to build a robot that can control its jumping height 

tures  a range acceptable for our application  compared to the high friction surface  low friction surface has higher error overall  this is because more
slips tend to occur on low friction surface resulting in a higher uncertainty  linear regression does
not use any dimensional changes and the resulting error suggest that the current feature space is
not adequate  in terms of the kernels  puk exhibits the best performance  rbf kernel does not
perform any significantly better than a linear regression  this means that the high dimensional
space made by rbf kernels does not result in the
separable distribution for regression  when we use
puk or poly kernel  the lowest training error is
with the gaussian model while the lowest test error is from the smo model  this implies that
gaussian model is more of an overfit than smo
model with the puk or poly kernels  however 
there is a trade off between the error and computation time  the gaussian process regression has
generally higher computation time than smo and
linear regression models  however  the poly kernel worsen the efficiency of smo regression drastically  thus  one should carefully select the model
and kernel  maintaining a balance between learning
performance and computation time 
on each surface  the top   features are different
from each other except for one feature  robot stride
frequency  the running frequency is the most important feature for both cases because it determines
the kinetic energy of the leg which is directly related to its jumping height  however  other four
features are features of different sensor channels 
located at different leg segments  this means that
the dynamics of the leg is different on each sur 

references
    e  ackerman  boston dynamics sand flea
robot demonstrates astonishing jumping skills 
ieee spectrum robotics blog  vol     p          
    x  wang  m  li  w  guo  p  wang  and l  sun 
design and development of a cheetah robot under the neural mechanism controlling the legs
muscles  in intelligent robots and systems
 iros        ieee rsj international conference on  pp            ieee       
    f  l  garcia bermudez  r  c  julian  d  w 
haldane  p  abbeel  and r  s  fearing  performance analysis and terrain classification for
a legged robot over rough terrain  in intelligent
robots and systems  iros        ieee rsj
 

fiinternational conference on  pp         
ieee       
    d  w  haldane  p  fankhauser  r  siegwart 
and r  s  fearing  detection of slippery terrain
with a heterogeneous team of legged robots  in
robotics and automation  icra        ieee
international conference on  pp           
ieee       
    m  hall  e  frank  g  holmes  b  pfahringer 
p  reutemann  and i  h  witten  the weka
data mining software  an update  sigkdd
explor  newsl   vol      pp        nov       

 

fi