earthquake induced structural damage classification algorithm
max ferguson  maxkferg stanford edu  amory martin  amorym stanford edu
department of civil   environmental engineering  stanford university
cs     machine learning   final project
december         

abstract
a classification algorithm is developed for evaluating the damage state of buildings subjected to
earthquakes  nonlinear response history analysis is used to generate the time histories of each building subjected to each earthquake  this report summarizes the analysis procedure used to extract
data and describes the different classification algorithms that are developed to predict damage state 
support vector machines  svm   multinomial logistic regression and k nearest neighbors  knn  are
considered for the classification algorithm  features are selected from building parameters  ground
motion parameters and combinations of both  four damage states are estimated  minimal damage 
moderate damage  severe damage and collapse  the support vector machine classifier yields the most
accurate results for evaluating the damage state with an overall accuracy of        this is in part
due to the highly nonlinear nature of this problem  the accuracy of classifying a damage state with
a misclassification tolerance of   is       

i

introduction

ing damage state of a multistory building subject to a
particular ground motion  miranda        stephens  
yao        past research in this field tends to focus on
either quantifying the intensity of a particular ground
motion or relating structural response to ground motion parameters  gupta   krawinkler         however  it is proposed that machine learning techniques
can be applied to develop a classifier that predicts
earthquake damage based on a wide range of building and ground motion features 

chile         tohoku        and christchurch       
were particularly devastating earthquakes  because
these natural disasters are very difficult to predict 
they often come with a high death toll  today  structural engineers design stronger and more earthquakeresilient buildings thanks to the development of nonlinear dynamic analysis  however  post earthquake evaluation of structures is still a difficult task  quantifying the damage of a given structure is both technically challenging and time consuming  only certified
experts can use their judgement to evaluate earthquake damage  a damage state classifier for several
damage states is developed  support vector machine
 svm   multinomial logistic regression and k nearest
neighbors  knn  were considered for the classification
algorithm  the classifier predicts the post earthquake
damage state  given the building features and input
ground motion  the ultimate purpose of this classifier is to accelerate post earthquake damage evaluation of critical buildings to allow a faster recovery and
decrease financial losses expected from downtime and
repair 
within the field of earthquake engineering there
have been numerous attempts to develop a closed form
equation to classify the displacement and correspond 

ii

data extraction

nonlinear response history analysis is performed to
generate data for the classification algorithm  using
a wide range of parameters  such as mass and stiffness for each story      theoretical buildings are modeled  using the pacific earthquake engineering research  peer  data      ground motions are selected
and scaled appropriately  nonlinear dynamic analysis
is performed on every building to create roughly       
displacement time histories  this process is both time
consuming and challenging  given the computationally
intensive nature of nonlinear dynamic analysis 
 

fibuilding parameters
a set of     theoretical structures were used to represent common building types  each building has a
unique set of structural parameters  the following
structural parameters were considered      mass m  
    stiffness k      fundamental period of vibration
tn       number of stories n      height h      damping
ratio   and     yield strength fy  
figure    equivalent single degree of freedom  sdof 
structural model

ground motion records
a set of     ground motion time histories were obtained from the pacific earthquake engineering research  peer  data  each ground motion time history contains the recorded lateral ground acceleration
in two perpendicular directions  therefore  a total of
    acceleration records were available for generating
data  the fourier spectrum of each record is calculated by transforming the acceleration record into the
frequency domain as shown 

z

response history analysis
a response history analysis  rha  is performed on
each building ground motion combination to obtain
a time history response  the rha computes the
displacement  velocity and acceleration response of a
structure to a ground motion input  the displacement
of the structure is the solution of a system of  nd order
differential equations

 

a f    

a t e if t dt



m u t    c u t    ku t    m ug  t 
t

 m q t     cq t    t kq t    t m ug  t 
using both the fourier spectrum and time record 
the following parameters are obtained from each
ground motion      peak ground acceleration p ga 
    the maximum fourier acceleration amplitude
f amax       the fourier acceleration amplitude at a
period of   second f a s       the dominant period of
the fourier spectrum and
r     the total earthquake energy defined as ea   a f  df   these parameters are
chosen to represent both the severity and frequency
content of the earthquake 

t

newmarks average acceleration method is chosen
as the direct integration scheme                 
with a newton raphson algorithm for the nonlinear
convergence  the maximum displacement  inter story
drift  roof acceleration and base shear force are obtained from the time histories  in earthquake engineering  out of these parameters  the peak inter story drift
has been shown to directly correlate with the damage
of the building 

equivalent sdof model

iii

to extract a large number of data points the structural models are reduced from a multi degree of freedom  mdof  system to a single degree of freedom
 sdof  system  figure   shows the equivalent model 
the equivalent stiffness  mass and height sdof parameters are obtained using the following equations 

method

features from the structure  the earthquake and a
combination of both are used for the classification algorithm  to obtain some of the ground motion features 
a fourier analysis is conducted  additionally  using a
moving average smoothing function and k means clustering  a ground motion type is determined and used
as one of the features  each classification algorithm
is first trained then tested using cross validation of
the obtained data  the damage state is therefore predicted for each  structure  earthquake  combination 
figure   shows the flowchart of the general approach 

pn
pn
 
mi h i
i   mi hi
p
me   i  
he   n
 
he
i   mi hi
r
me
te    
ke   kef f he 
kef f   ks
ke
 

fistructure

earthquake
fourier analysis
k means clustering

features
classification
svm

data

logistic

training
test

damage
state

knn

figure    fourier spectra of sample ground motions
each ground motion category has a relatively distinct frequency content  the k means clustering algorithm  along with a smoothing moving average  is used
to group the earthquake records into six different types
based on the fourier spectrum  figure   shows the resulting fourier spectra for each earthquake type  the
ground motion type is used as a feature in the damage classifier  as the dynamic response a structure is
correlated with the frequency content 

figure    flowchart

damage states
a damage state is the level of structural damage of a
given building in a post earthquake scenario  in earthquake engineering  the damage state is directly correlated to downtime  cost of repair and financial losses 
fragility functions are used to identify damage states
for given structures  for the purposes of this report 
four damage states were identified 
   dm    superficial damage
   dm    moderate damage
   dm    severe damage
   dm    collapse state
superficial damage corresponds to non structural
damage such as cladding  partitions and glass damage  moderate damage consists of limited structural
damage to beams and columns  severe damage corresponds to damage to main lateral systems and residual
drift  usually these buildings have a residual drift and
our highly susceptible to collapse during subsequent
aftershocks  finally  collapse state is the last damage
state where the building is considered highly unstable 
the building is evacuated immediately and remains
closed until significant repair or demolition 

figure    earthquake type using k means clustering

features
a range of features describing both the building and
the earthquake are used to train the classifier  furthermore  nonlinear combinations of these features are
derived and used as additional features  most of these
features are commonly used in earthquake engineering 
in theory  the predicted damage state is not proportional to individual features  in fact  damage state
depends on a complex nonlinear combination of these
features  for instance  surprisingly  there is no obvious
linear relationship between pga and damage state 
the following is a non exhaustive feature list 

earthquake frequency categorization
using k means clustering
ground motion records tend to fall into one of several
categories  based on the magnitude  local soil type  and
fault distance  figure   shows the earthquake fourier
spectra 
 

finearest neighbors classifier

building features

a nearest neighbors classifier is developed to predict
the damage state of a particular structure after being
subjected to a ground motion  to achieve adequate
performance the number of training data points is increased to          a classifier is developed which selects the closest five scenarios from the dataset using
the euclidean distance as the distance metric  the
classifier returns the damage state that occurs most
frequently across the five neighbors  if two or more
damage states are equally probably  then the largest
is selected 

   mass m
   stiffness k
   fundamental period of vibration tn
   number of stories n
   height h
   damping ratio 
   yield strength fy
ground motion features
   peak ground acceleration p ga

iv

   maximum fourier amplitude f amax
    fourier amplitude at a period of  s f a s

results

three classifiers were developed to predict the damage state of a structure subject to a particular ground
motion  figure   demonstrates how the accuracy of
each classifier was related to the number of training
features 

    dominant period of the fourier spectrum ta
    total earthquake energy ea
    earthquake type
derived features
    period shift  tn  ta   
    energy absorption  tn  ta    p ga
    dissipation factor k p ga

support vector machine classifier
a support vector classifier is developed to predict the
damage state of a structure  given a range of building
and ground motion features  the multiclass classifier
is composed of three independent binary svm classifiers  the first predicts whether the structure will be
lightly damaged or severely damaged  the second predicts the damage state of a lightly damaged structure 
while the third predicts the damage state of a heavily
damaged structure  each classifier is optimized and
trained individually to ensure that the overall accuracy is high  multiple kernels are tested  with the radial basis function kernel  gaussian kernel  providing
the best results  a parameter grid search with   fold
cross validation is used to select the optimum c and
 values for each binary classifier 

figure    classification accuracy of each classifier
the accuracy of the svm algorithm monotonically increased as more features were added to the
model  the accuracy of the multinomial logistic classifier was relatively unchanged by the number of features  demonstrating that the shape of the damagestate surface is difficult to capture with the linear
combination of features  finally  k nearest neighbors
 knn  increased parabolically as the number of features grew 
overall  the multinomial logistic regression was the
worst classifier compared to the svm and k nearest
neighbors classifier  due to highly nonlinear trend 
this is expected  using a nonlinear combination of
features improved the accuracy of the result  however  determining which combinations to use is timeconsuming and challenging  moreover  when too many
features are used  the multinomial logisistic regression
has difficulties converging  as n simultaneous equations

multinomial logistic regression
a multinomial logistic regression classifier is also developed using polytomous responses for estimating the
damage state  a cross validation of        is used
training and testing the data  an ordinal model with
interaction between the multinomial categories and coefficients is implemented  using the statistical significance of the model coefficients  the best performing
features are selected and chosen for estimating the
damage state 
 

fiare solved for n features  the conditional number can
be poor 

tested using cross validation      multinomial logistic regression      k nearest neighbors  knn  and    
support vector machine  svm   due to the nonlinearity of ground motion response  the svm outperformed
the other two classifier with a       overall correct
classification  the performance of the svm classification algorithm is impressive  given the complexity of
dynamic structural analysis  in earthquake engineering  the damage state is often contested and defined using different fragility functions  small misclassification
is not of great importance  for instance classifying a
building as dm  severe damage instead of dm  moderate damage is not a crucial mistake  the accuracy
of classifying a damage state with a misclassification
tolerance of   was       

figure    confusion matrix for knn classifier
the k nearest neighbors classifier showed a relatively high accuracy when trained and tested with   
features  the addition of more features did not improve accuracy the results shown in figure   were
generated using         training points  classification accuracy can be improved by adding more training points  but this would make the classification of
new points very computationally demanding 

vi

further work

further work is possible for predicting damage state
of buildings and in other engineering applications of
machine learning  for instance  damage state classification algorithms can be developed for nonstructural
elements  machine learning techniques have a wide
range of applications in structural engineering  using the derived damage state classification algorithm 
community and city wide expected financial loss estimation based on earthquake probabilities in the region
can be determined  finally  machine learning techniques can be applied to control problems  for instance  active base isolation systems can be designed
using machine learning for optimal structural control 

references
    anil k chopra  dynamics of structures  prentice
hall  fourth edition      

figure    confusion matrix for svm classifier
the svm classifier provided an impressive      
classification accuracy on the testing data  the precision and recall for each damage state were also relatively high  when compared to the other methods  the
accuracy of classifying a damage state with a misclassification tolerance of   was      

v

    chang  c  and lin  c          libsvm  a library
for support vector machines  acm transactions on
intelligent systems and technology 
    gupta  a    krawinkler  h          estimation of
seismic drift demands for frame structures  earthquake engineering and structural dynamics 

conclusion

    jayaram  n   lin  t   and baker  j  w          a
computationally efficient ground motion selection
algorithm for matching a target response spectrum
mean and variance  earthquake spectra 

a large set of simulated data was collected using dynamic nonlinear response history analysis  ground
motion features were determined using moving average functions  fourier analysis and k means clustering  structural features and earthquake features were
combined to form additional features  the key features were period shift  ground motion energy  peak
ground acceleration  pga   stiffness as well as nonlinear combinations of these such as energy absorption  three classification algorithms were used and

    miranda  e          approximate seismic lateral
deformation demands in multistory buildings  j 
struct  eng 
    stephens  j  and yao  j          damage assessment using response measurements  j  struct 
eng  
 

fi