geis srinivas talreja 

cs   finalreport activityrecognitionusingcellphones
travisgeis sanjaysrinivas rohittalreja
  december    

introduction
motivation
withtheincreasingprevalenceofmobilephoneswithinternetconnectivityandpositionandaccelerationsensors tracking
phoneusersactivitieshasbecomeeasierandmorecommon thepopularityofthequantifiedselftrendindicatesthat
userslikebeingabletorecordtheirdailyactivitiesusingobjectivemetricslikecaloriesburned stepstaken andtotal
distancetravelled usersmightforexampletracktheirfitnessactivitytoreporttheirhealthtoinsurersorshareand
competewithfriends theymightalsotracktheirdrivingorbicyclinghabitstoestimatetheirenvironmentalimpact 
however inmostcases trackingfitnessrelatedactivityorotherdailyhabitsdependsontheusersexplicit
openingoftherelevantapptobegindatarecordingandtoindicatewhatactivitytheuserwillrecord iftherewereaway
forthemobilephonetodecideautomaticallywhattheuserisdoingatagiventime thenthephonecouldtracktheusers
activitythroughoutthedayeveniftheuserdoesnotremembertostartthetracking 
automaticidentificationoftheusersactivityalsomakespossiblemanymorehelpfulfeatures forexample the
phonecoulddeterminethatauserisdrivingandtemporarilysilencenotificationstoreducedistraction iftheuserissitting
forlongperiodsoftime thephonecouldremindtheusertotakeperiodicbreaks theautomaticrecognitionoftheusers
activitywouldgivethephonemoreinformationaboutthecurrentcontextofuse whichcouldallowapplication
developerstomakemoreusefulapplicationswithfewerdistractions 
ourprojectseekstodeterminethecurrentactivityofasmartphoneuser suchaswalkingorsitting usingsensor
datagatheredfromatypicalsmartphone assuch wetrainedourlearningalgorithmsonadatasetofsensordatagathered
fromawaistmountedsmartphone theinputisavectorofnumericaldataderivedfromrawaccelerometerandgyroscope
recordings theoutputofeachalgorithmisalabelidentifyingtheactivitytheuserisperforming 

relatedwork
baoandintillewerethefirsttouseaccelerationdata obtainedfromfivebiaxialaccelerometerswornsimultaneouslyon
differentpartsofthebody toperformactivityrecognition however specialbodymountedsensorsareinconvenient
comparedtosmartphones kwapiszetal demonstratedtheeffectivenessofasingleandroidcellphoneasasensor
platformforactivityrecognition achievingpredictionaccuraciesofover   formultipleactivities 
powerandprocessinglimitationsonmobiledevicesconstrainthechoiceofclassificationalgorithms anguitaet
 
al  demonstratedthatmulticlasssvmscanbeaneffectiveclassifierforhumanactivities andthatthemulticlasssvm
canbeoptimizedtousefixedpointarithmeticwithlittlelossofaccuracy whichmakesthesvmanidealcandidatefor
recognitiontasksonresourceconstrainedmobilephones 
ravietal performedanexhaustivestudyofwhichclassificationalgorithms e g decisiontrees knearest
neighbors svm naivebayes achievedthegreatestaccuracywhenusedasthebaselevelclassifiersforamultilayer
model includingboosting bragging andpluralityvoting  theyraneachcombinationonavarietyofdifferentdataset
segregationmodels   datacollectedforasinglesubjectononedayusedastrainingdataandanotherdayusedastest
data   datacollectedforasinglesubjectononedayusedastrainingdataanddatafromanothersubjectusedastestdata 
  datacollectedfrommultiplesubjectsthatwasmixedandcrossvalidated and  datacollectedforasinglesubjectover
multipledaysthatwasmixedtogetherandcrossvalidated theyconcludedthatthewaydataissegregatedintotraining
andtestsetmakesasignificant ashighas    differenceinaccuracywhenallotherparametersarethesame 


 

anguitaetal  humanactivityrecognitiononsmartphones 

figeis srinivas talreja 

datasetandfeatures
therearemanypossiblewaystocollectdataonusermotion suchasthroughwristmountedaccelerometers multiple
bodymountedsensorpacks andthroughinertialandpositionalsensorshousedinsidemostmoderncellphones sinceour
goalwastopredictsmartphoneuseractivitybasedonthesensorreadingsofthephone weselectedadataset  thatmost
closelymatchesthedatathatatypicalphoneapplicationcouldgather readingsdirectlyfromthephonessensors 
thedatacompriselabeledexamplesof  peopleperformingsixdifferentactivities walking climbingstairs 
descendingstairs sitting standing andlyingdown weconsiderwalking climbingstairs anddescendingstairstobe
motionactivities incontrasttositting standing andlyingdown whichwedeemsedentaryactivities theactivities
withineachcategoryhavesimilaraccelerometerandgyroscopereadings 
thedataweregatheredthroughawaistmountedsmartphone specifically asamsunggalaxysiireleasedin
    andconsideredtopofthelineforthattime  thedataincludebothaccelerometerandgyroscopereadings sampled
ataconstantrateof  hz whichwerethensegmentedinto    secondwindowswithawindowoverlapof    along
withrawreadings thedatasetincludesfilteredandderivedfeaturessuchasgravityaccelerationseparatedfrombody
accelerationviaalowpassfilter jerk standarddeviation andcrossaxiscorrelation 
ofthevolunteersubjects    wereselectedrandomlytocontributetothetrainingdataset and   forthetest
set intotal thetrainingandtestmatricesinclude   featuresperdatapoint withdatasplitinto     trainingexamples
and     testexamples 

methods
weemployedthesupportvectormachine svm algorithmforoursupervisedlearningtasks thesvmalgorithmisan
optimalmarginclassifierthatseekstolabelthetrainingexamplessuchthatthesmallestgeometricmarginbetweenthe
trainingexamplesandthedecisionboundaryismaximized   inotherwords thesvmseekstominimize

 

wherethegeometricmarginisproportionalto  
w
 sominimizing
w
willmaximizegeometricmargin weusedthesvm
implementationprovidedbylibsvm   
weemployedthekmeansunsupervisedclusteringalgorithmforourunsupervisedlearningexperiments kmeans
isaniterativealgorithmthatalternatesbetweenassigningpointstothenearestcluster andupdatingtheclustercentroidto
reflectthemeanpositionofthepointsassignedtothatcluster   theclustercentroidscanbeinitializedrandomlyor
deterministically trainingexamplesareindexedfrom
i
  through
n
 whilecentroidsareindexedfrom
j
  through
m
 
inotherwords repeatinguntilconvergence forevery
i
 thealgorithmsets


whichcorrespondstoassigningeachpointtothenearestcluster andforeach
j
 thealgorithmsets


where
m
isthenumberofcentroidsand

j
thcentroid 
j
isthepositionofthe


 

anguitaetal  apublicdomaindatasetforhumanactivityrecognitionusingsmartphones 
ng andrew cs   lecturenotes  
 
chihchungchangetal 
 
ng andrew cs   lecturenotes a 
 

figeis srinivas talreja 
throughoutourexperiments wetrainedourlearningalgorithmsonthe   ofthesubjectscomprisingthe
trainingset andthenmeasuredthetestsetaccuracyontheremaining   ofsubjectswhocomprisethetestset an
algorithmsaccuracyisdefinedasthepercentageoftestpointsthatitclassifiescorrectly 

experiments
binarysvmclassification
webeganouranalysisonthedatasetbyapplyingabinarysvmclassifiertoeachpairofactivities thegoalwasto
determinewhichactivitieswereeasilypairwisedistinguishablefromeachother i e didnotinvolvesimilarmotions and
whichweremoredifficulttodistinguish thisalsogaveusabaselineaccuracymetricforassessingthemulticlasssvm
algorithm sinceifaccuracyonbinaryclassificationwasclosetochance       itwouldbemoredifficulttomakean
accuratemulticlassprediction 
aspredicted therewashighaccuracywhendistinguishingbetweenamotionactivityandasedentaryactivity eg 
walkingvs standing butamuchloweraccuracywhendistinguishingbetweentwomotionactivities walkingvs walking
upstairs ortwosedentaryactivities sittingvs standing  inthelastexample theaccuracywasonlymarginallyabove
chance basedonthisdata wewereoptimisticthatthemulticlassalgorithmwouldbeabletodifferentiate
movementbasedactivitiesfromsedentaryones butconcludedthatitmighterrwhenchoosingthecorrectactivityfrom
withinthosecategories thepredictionaccuraciesaresummarizedinthetablebelow 



table 
 binaryclassificationaccuracyasapercentageofcorrectlyclassifiedtestdata therewere     testdatapoints
foreachpairofactivitiescompared 

multiclasssvmclassification
eventhoughsomeofthebinaryclassificationresultswerequitepromising wewereunsurehowtheywelltheywould
generalizewithsixoutputlabels generalizationaccuracyisimportantbecausetheabilitytolabeltheactivityasoneof
six ratherthanexplicitlycomparingthelikelihoodofeverypairofactivities wouldbemorehelpfultoapplications
seekingthegeneralcontextofphoneuse 
previousworkbyravietal demonstratedeffectiveclassificationusingtwelvefeaturesgatheredfromthe
smartphonesensors theyusedtwelveinputfeaturesderivedfromasingletriaxialchestmountedaccelerometer 
employingamulticlasssvm theydemonstrateda      predictionaccuracywhentrainingthesvmononesetof
usersandtestingonadifferentsetofusersperformingthesameactivities asourdatasetisdesignedtofacilitate 
tokeepthecomputationalcostofpredictionlow wedecidedselectupto  inputfeaturestouseinamulticlass
svm however wedidnotknowwhichfeatureswouldbemostuseful soweusedafeatureselectionalgorithmto
determinewhich  featurestouse 
featureselection
ourfeatureselectorusesalinearforwardsearch tochooseafeature ititeratesoverallpossiblefeatures andforeach
feature trainsthesvmonthatfeaturealongwiththeotherpreviouslychosenones thefeatureresultinginthelowest
testerroristhenaddedtothechosenfeaturelist andtheprocessrepeatsuntilthealgorithmhaschosenthedesirednumber
ofinputfeatures the bestperformingfeatureschosenbythealgorithmareshownintable  


figeis srinivas talreja 
feature

name

axis

standalonepredictionaccuracy   

 

bodyaccelerationstandarddeviation

x

     

 

bodyaccelerationstandarddeviation

y

     

  

gravityacceleration min

y

     

  

gravityacceleration sma

n a

     

  

gravityacceleration entropy

y

     

table 
 featureschosenbythefeatureselectionalgorithm andtheirpredictionaccuracieswhenusedalone sma
denotessignalmagnitudearea 



figure 
 learningcurveshowingtheprogressionofforwardsearchfeatureselection 
classificationresults
runningthefeatureselectionalgorithmusingtheselected  featureswewereabletogetamulticlasssvmprediction
accuracyof      a     increaseoverthebaselinemethoddescribedbyravietal althoughthereare   total
featuresinthedataset itisnotcomputationallyefficientnorhelpfulforaccuracytousemorethanthese  since aswe
seeinfigure  thelearningcurveconvergesafterapproximately  features 

kmeans
sincethereweresixdistinctactivities wewerecuriousifanunsupervisedlearningalgorithmlikekmeanscould
accuratelypartitionthedataandconvergetooneclusterperactivity withsixrandomlyinitializedcentroids weachieved
convergencewithinjust  iterationsusingstandardeuclideandistanceasthesimilaritymetricandall   inputfeatures 
wealsoexperimentedwithinitializingonecentroidtoeachactivitylabel nonrandominitialization butfoundthatin
   of  trialsthisnonrandominitializationalsoconvergedto activityclusters intheremaining  oftrials the
deterministicallyinitializedalgorithmconvergedtofewerthansixclusters 
figure showstheclustercompositionofasamplekmeanstrial wecanseethatforeachcluster thereisa
uniqueactivitylabelthatdominatesthatcluster specifically themodeofcluster isthelabelwalking themodeof
cluster isthelabelclimbingstairs andsoon however theclustersdidntclearlypartitionthedataintosixdistinct
activities specifically themodeactivitylabelonlyaccountedforanaverageof   ofthedatapointsineachcluster 
clusterswithacentroidofasedentaryactivity suchassitting containedasignificantnumberofdatapointsfromthe
othertwosedentaryactivities standingandlyingdown similarly clusterswithacentroidofamotionactivitycontaineda
significantportionofdatapointsfromtheothermotionactivities whilethisledtolowaccuracyinchoosingwhichoneof
sixlabelstoapplytoatestpoint weachievedover   accuracyinbinaryclassificationinchoosingtowhichcategory
theactivitybelongs sedentaryvs motion  


figeis srinivas talreja 


figure 
 kmeansactivityclustercomposition

furthersvmexperiments
priorworkbyravietal hasshownpredictionaccuracyimprovementsfromusingmultilayersvms inthemultilayer
svm multiplebaselevelsvmsattempttoclassifytheinputexample andtheiroutputlabelsarefedasinputs along
withotherinputfeatures intoanupperlevelsvm forourbaselevelclassifiers weusedsix vs allsvms the
i
th
baselevel vs allsvmclassifiesaninputaslabel 
i
 or not
i
  where
i
is to  thesesvmsuseallinputfeatures the
upperlevelmulticlasssvmthenusesthebaselevelsvmoutputsasadditionalinputfeatures augmentingthe  
automaticallyselectedfeatures 
inaccuraciesinthepredictionsofthebaselevelsvmsdegradedtheoutputoftheupperlevelsvmwhen
comparedtothestandardmulticlasssvm themultilayersvmachievedatestsetaccuracyof      
wealsoexperimentedwithpluralityvotinginourattemptstoimproveaccuracy inpluralityvoting the 
baselevelsvmssimilarlyassignlabelstothetrainingexamples avotecountertalliesthevotesforagivenexampleto
decidewhichlabeltoapply breakingtiesrandomly wereabletousepluralityvotingwithoutnormalizingscoressince
thereareroughlyequalproportionsofeachlabelinthetrainingset usingallinputfeatures votingachievedatestset
accuracyof      

conclusions
ofthealgorithmsweimplemented themulticlasssvmwith  automaticallyselectedfeaturesproducedthehighesttest
accuracyof      thiswasbetterthanourotheralgorithms multilayersvm pluralityvoting andkmeans andalso
thebaselinealgorithmfromravietal asmentionedearlier wethinkthatsimilarityofthesensorreadingsforcertain
activitiessignificantlyhamperedtheaccuracy  
webelievethattheaccuracyofthemulticlasssvmcanbeincreasedbytrainingonalargerdataset specifically
onethathasdatafromaparticularsubjectinboththetrainingandtestsetsratherthansplittingupsubjectstoeitherthe
trainingortestset wecouldalsotrainandtestthesvmasinglesubject whichwouldallowbetterpredictionaccuracy
forthatsubjectatthecostofgeneralizability however thismightactuallybepreferablesincetheoverallgoalisto
recognizethecurrentactivityforonlytheprimaryuserofthephone 


figure 
 testsetaccuracyofeachalgorithm


figeis srinivas talreja 

workscited

   anguita davide alessandroghio lucaoneto xavierparraandjorgel reyesortiz apublicdomaindataset
forhumanactivityrecognitionusingsmartphones   theuropeansymposiumonartificialneuralnetworks 
computationalintelligenceandmachinelearning esann     bruges belgium    april     
    humanactivityrecognitiononsmartphonesusingamulticlasshardwarefriendlysupportvector
machine iwaal     vitoriagasteiz spaindecember     
   chang chihchungandchihjenlin libsvm alibraryforsupportvectormachines acmtransactionson
intelligentsystemsandtechnology                  softwareavailableat
http   www csie ntu edu tw  cjlin
   kwapisz jenniferr  garym weiss andsamuela moore activityrecognitionusingcellphone
accelerometers 
acmsigkkdexplorationsnewsletter
   dec            print 
   ng andrew cs   lecturenotes  stanforduniversity 
    cs   lecturenotes a stanforduniversity 
   ravi n  dandekar n  mysore p   littman m        activityrecognitionfromaccelerometerdata 
americanassociationforartificialintelligence 

fi