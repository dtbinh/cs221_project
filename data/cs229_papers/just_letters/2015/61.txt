prediction of airline ticket price
ruixuan ren  yunzhe yang  shenli yuan

introduction
airline industry is one of the most sophisticated in its use of dynamic pricing strategies to
maximize revenue  based on proprietary algorithms and hidden variables  therefore  it is
challenging for consumers to predict the price change in the future i  with the information of the
airfare available online  buyers are trying to track the prices of the flight over a certain period of
time  and anticipate the price change in the future  however  it turns out to be rather difficult to
predict the price of the flight precisely only by observation 
our project is aimed at building up models to predict the airline ticket price  the input of our
models are the factors that may influence the price  such as the weekday of departure and the
number of stops in the itinerary  we applied linear regression  nave bayes  softmax regression 
and support vector machine  svm  to predict the corresponding price 

related work
previous works have been done regarding airfare prediction using machine learning  etzioni et
al i have performed a pilot study on       price observations over a    day period  their multistrategy data mining algorithm  hamlet generated a predictive model that could potentially save
substantial amount of money which consumers pay on airline tickets  groves et al iv proposed a
model to predict expected minimum price of all flights on a particular route  the model was also
used to predict price with different target properties such as prediction from a specific flight 
non stop only flight and etc  rama murthyii built a model to predict the airfare price with
specific focus on how different factors influence the price of airline tickets  papadakisiii studied
how prices of airline tickets change overtime by extracting several factors that potentially affect
the price fluctuation and finding out their correlation 

dataset and features
the dataset used in our project is provided by professor gini iv from university of minnesota  it
was originally collected using daily price quotes from a major travel search web site over the
period february          to june           the data were used to build a regression model for
computing expected future prices and reasoning about the risk of price changes  the data source
contains information of seven different routes operated by several flight companies  the features
selected to use in our model include  the departure week begin  weekday of the departure  price
quote date  weekday of the price quote  number of days between fetch days and the departure  and
the number of stops in the itinerary 
to shed light on how the dataset looks like  error  reference source not found  shows a small
portion of this dataset  it presents the trend of mean lowest price offered by all the airlines versus
the number of days between fetchdays  purchase date  and the departure  to simplify the figure 

 

  

fidepart week begin  number of days between   jan      and the departure week s monday  is set
to be                and      respectively  the weekday of departure date is monday 

figure   days to departure vs  mean lowest price  

 

methods
since the price of the flight varies due to the difference in distance  popularity of airport  and other
factors  it is hard to build up a model which performs well for all the flights  we decided to train
different models for each airline route and the model trained is only applicable to its corresponding
route  for the continuous model  the target variable is simply the one day average price  for nave
bayes and softmax regression  we classified the prices into five bins using three different
classification methods  and the target variable would be   to    representing each bin  for svm 
the prices are classified using equal interval 
   linear regression model
linear regression was performed as the first attempt due to its simplicity  the four features selected
in the model include the weekday of the departure date  denoted as     where         
             the weekday of the quote fetch date denoted as     the number of days between quote
fetch date and the departure date denoted as     and the number of stops during the itinerary
denoted as     normal equation was used in linear regression models  both weighted and
unweighted linear regression were performed for comparison  the band width values used in
weighted linear regression are        and     respectively  the normalized error is defined as
 

 

 


    
 
 

  

 

fi   nave bayes model
to convert the problem to a classification problem  we applied three different discretization
methods  equal probability discretization  equal interval discretization  and k means cluster  we
separated the relative price into five bins and selected the same features as the ones used in linear
regression  multinomial event model of nave bayes with laplace smoothing is applied to model
the trend of the price  several tests indicate that equal interval discretization method always gives
the highest accuracy  therefore  we decided to apply this method when developing nave bayes
model 
to parameterize the distribution of relative price    over   possible outcomes  we use   parameters
specifying the probability of each of the outcomes                 where             maximizing
the log joint likelihood of the training set with respect to           gives the maximum likelihood
estimates 
     
 f  g      

a
   
  b   

       
  

   
a
   
   
  b   h     
a
   
      
  b   

  

   softmax regression
using the same discretization method of relative price described in nave bayes model  we can
also develop softmax regression model to predict the price  we have
q  r 

 

 

         

  p  

h
 sq    r 
t   

the parameters of softmax regression are updated based on the following equation 
 
       


a

       

 

     

 

           

   

   svm
we divided prices into several bins according to their relative values compared to the overall
average air ticket price  an example set of bins would be     to          to            to
     and      to       of average price  etc  using l  regularization and l  loss function  we
are able to achieve an accuracy of         which is not very ideal  however  when using only two
bins  higher and lower than average   we are able to achieve an accuracy of       
svm regression has also been used as a continuous model  which does not generate satisfying
results  thus discarded 

result and discussion
we selected the price of the round trip between new york airport and charles de gaulle airport
to test the performance of the model developed  applying leave out one cross validation  there are
     data points included in the testing dataset 

 

  

fithe training error produced by each model are listed in the following table 
table   training error 

model
unweighted
linear
      
regression
  
     
nave bayes
softmax regression
svm two bins 

error
      
      
      
      
      
      
      

for weighted linear regression  when the bandwidth value is large          the hypothesis is
closer to the one of unweighted linear regression  the errors of these two cases are almost the
same  in addition  not surprisingly  the smaller the bandwidth value is  the better the prediction
fits the training data  and the smaller the training error would be 
in order to reduce the training error  we utilized learning curve to investigate the price prediction
problem  since nave bayes is computational efficient and gives reasonable results when
classifying   bins  and svm gives the lowest error when classifying only   bins  we picked them
to investigate further 

 

figure   nave bayes learning curve

figure   svm learning curve

 

  

 

fifrom the plots above  it is apparent that both models have high biases  indicating adding more
features will help reduce the error  due to the limited accessible information from price quoting
websites  we are only able to add the count of itineraries from all airlines to our features  and we
found that the training error of nave bayes and softmax regression reduced to        and
        respectively  similarly  the error of svm model is also reduced by approximately    
ideally  if we could have access to information such as number of seats on airplane or number of
vacant seats etc   we would be able to predict the price much better  still  we could have gathered
information such as the departure time of the day to improve the accuracy of our model  but
these information is not included in the dataset from professor gini and given the limited time of
this project  we are unable to collect enough amount of data 
in addition to adding new features  we also study the performance of our model in each
individual bin  the results showed that nave bayes only misclassifies data in the first bin
 lowest price interval   with a training error of         this means naive bayes is quite reliable
in all other price intervals except the lowest one 

conclusion
this study shows that it is feasible to predict the airline ticket price based on historical data  one
possible way to increase the accuracy can be combining different models after carefully studying
their own performance on each individual bin  additionally  as the learning curve indicates  adding
more features will increase the accuracy of our models  however  limited by the current data
source that we have  we are unable to extract more information of a particular flight  in the future 
more features  such as the available seat  the departure time of a day  and whether the departure
day is a holiday or not  can be added to the model to improve the performance of the predicting
model 

reference
                                                        
i
 etzioni  o   tuchinda  r   knoblock  c  a     yates  a         august   to buy or not to buy  mining
airfare data to minimize ticket purchase price  inproceedings of the ninth acm sigkdd international
conference on knowledge discovery and data mining  pp            acm 
ii
 rama murthy  k          modeling of united states airline fares  using the official airline guide  oag 
and airline origin and destination survey  db b  
iii
 papadakis  m          predicting airfare prices 
iv
 groves  w     gini  m          a regression model for predicting optimal purchase timing for airline
tickets  technical report         university of minnesota  minneapolis  mn 

 

 

  

fi