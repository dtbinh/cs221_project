areyouopen 
narenkumarpandian npandian stanford edu  vaibhavaggarwal vaibhavg stanford edu 

abstract
inthispaperweproposeanewmachinelearningapproachtopredictingwhetherabusinessisopenorpermanently
shutdown thisproblemisofkeenimportancebecausewiththedynamicworldtheinformationavailableonlinebecomes
staleveryfast theimpactofservingstalelistingislosttrust ontheotherhanditiscostprohibitivetomanuallyverify
everybusinesslistingforitsfreshness henceweproposeusingalearningalgorithmtoclassifybusinessesasshutdown
withhighprobability weusetheyelpdatasetfortrainingandtesting westartwiththestandardtechniquesoflogistic
regressionandsvm andthenproposeourownalgorithmsemsvmandemlog insteadofusingthetraditionalrmse
metricweusethemoreexpressionprecisionrecallmetrictomeasureperformance thismetricallowedustoprioritize
oneattheexpenseoftheothertofitoverusecase attheendwewereabletopredictshutdownbusinesseswith   
recalland   precisionusingemsvmand   recalland   precisionusingemlog 

i introduction
imagineascenariowhereyouhadatiringweekandtheweekendhasarrived youplananoutingwithyourfriendsorfamily
andtrytolookfortheperfectrestaurant youfindjusttheplaceonline anupscaleitalianrestaurantinaniceneighborhood
youhadalwayswantedtovisit yougrabyourcoat getintothecarandreachthatplaceonlytofindthatithasbeen
shutdown staleonlinebusinesslistingsisacommonproblemintodaysdynamicworld forcompanieslikeyelp google
andmicrosoftitisquiteimportanttokeepthebusinesslistingsfresh customerstendtobequitevocalaboutincorrect
businessdata    atthesametimeitisextremelycostlytomanuallyinspecteverybusinessandcheckwhetheritisstillopen
orclosedeverymonth webelievethatthereisanopportunityheretousemachinelearningtopredictwhichbusinesses
mightbeshutdownbylookingatitsvariousfeatures typicallyindicatorslikebadreviews lackofactivityovertimeetc point
toabusinessgoingoutofbusiness 
theinputtoouralgorithmisbusinessstarrating reviews checkins tipsandlocation weusesvm logistic
regressionandemclusteringalgorithmstodobinaryclassification theoutputofouralgorithmiswhetherabusinessis
openorshutdown wethengofurtheraheadtouseensembling    ofthesealgorithmstodevelopourownalgorithmswith
betterrecall weuseyelpdatasetfortrainingandtestingourmodel wethinkthatthisresearchwillhelpwebcompanieslike
yelp zomato googleetc tofindbusinesseswhichareshutdownwithhighenoughprobabilityandkeepthelistingsfresh 

  relatedwork
previousresearchrangesfromthepredictingthefutureratingsofthebusiness       orfuturepopularityofthebusiness   
tocustomizedpredictions    theinterestingaspectofalltheresearchisidentifyingtheappropriatefeatureset   andthe
modelsthatcomplementthefeatureset hoodet al   spentconsiderableamountoftimeingeneratingsetsoffeaturesto
useintheirmodel 
intheirresearch theyfoundthatofallthefeatures thetemporalfeatureslikedaysbetweenfirst
andlastreview dateofthelastreviewetcprovidedthebestpredictionresults theresearchersusedelaborativefeature
selectionprocessusingunivariatefeatureanalysisandgreedyfeatureremovaltosettleonadefinitivefeaturesetfortheir
model carbonet al   usedspatialfeauturesalongwiththereviewtextindevelopingtheirmodel theprojectinvestigatedthe
effectoflocationandotherbusinessattributesvs qualityoffoodandservice measuredindirectlythroughreviewsentiment 
onthebusinessrating pastcs   project   showedhowausersevaluationdependsonthesurroundingfactorsand
contextitiswithin inourinvestigationwedecidedtousetemporal spatialandassessmentfeaturesforbuildingthe
predictivemodel sawant pai   implementedsingularvaluedecomposition hybridcascadeofknearestclustering 
weightedbipartitlegraphprojectiontobuildarecommendationsystembasedontheyelpdata theproblemwearetryingto
solveisdifferentfromtheearlierresearches ourmodeltopredictwhetherthebusinessisclosedoropenedencompasses
boththepopularityofthebusinessandtheinfluenceofenvironmental localityfactorsonthebusiness inourinitialanalysisof
usingfewfeatureswerealizedtheimportanceoftheneedofadiversefeaturesettobuildareliablepredictionmodel the
featuresetweselectedisindicativeofqualityofthebusiness localenvironmentalfactorsandchangestothebusinessover
theperiodoftime mostoftheearlierresearches       usedrmseorerrorratiosasthebasisforevaluatingdifferent
machinelearningmodels inourprojectweusedprecisionandrecallasthereliableindicatorstoevaluatethemodels we
buildthepredictionmodelbasedonsvmandlogisticregression toimproveontheprecisionandrecallweareproposinga
novelensembleofemandlogisticregression svmmodels 

fi  datasetandfeatures
   dataset
weusedtheyelpdatasetforthisproblem    thedatasethasrichinformationonbusinessesrelatedtocertainlocalities it
contains      businesses    mreviewsand       tipsby       users italsocontains       businessattributes
likeratings hours city categoryetc oneoftheattributesinthedatasetisbusinessstatewhichweplantouseasy i 
labels 
outofallbusinesses      areopenand     areshutdown 
forthisprojectwecombinedthebusiness users reviewandtipdatasetandpickeddiversefeaturesetfordevelopingthe
machinelearningmodel thestructureofthedifferentdatasetswasavailableinindividualjsonfiles wecorelatedthedata
inthefiles joined denormalizedandstoredthedatainthemongodatabase thedatabasewasusedasthecentral
repositoryforinitialdataanalysis datapreprocessingandfeatureextraction forthisprojectweused

   featureset
assessmentfeatures

spatialfeatures

temporalfeatures

vocabularyfeatures

numberofreviewsfora
business 
averageratingforthe
business 
numberofusercheckins 


latitude 
longitude 
state 

numberofdayssincelast
review 
numberofdayssincelast
tip 

tokenizedreviewtext 


   skew
weobservedthatthedatawasheavilyskewedtowardsopenbusinesses thiswasimpactingtrainingadverselyandmost
algorithmswereconvergingtolabelingeverythingasnegativetoreachhighaccuracy inordertoremovethedataskewness
werandomlyshuffledthedatarelatedtobusinessopenandpickedequalnumberofpositiveandnegativeexamples 

  methods
   naivebayes
naivebayesisasimple
probabilisticclassifier
basedonapplying
bayes theorem
withstrongindependence
assumptionsbetweenthefeatures 



   logisticregression
logisticregression
measurestherelationshipbetweenthestateofbusinessandthefeaturesetbyestimating

probabilitiesusingthefollowinglogisticfunctionandupdateequation     



   svm
inthenextstepwetrainedansvmclassifierwiththebasicfeatures svmoptimizesforbestfittingofahyperplaneinhigh
dimensionfeaturespaceusingthefollowingminimizationobjective 

fi

   emalgorithm
theemalgorithmisanefficientiterativeproceduretocomputethemaximumlikelihood ml estimateinthepresenceof
missingorhiddendata inmlestimation wewishtoestimatethemodelparameter s forwhichtheobserveddataarethe
mostlikely eachiterationoftheemalgorithmconsistsoftwoprocesses theestep andthemstep 




   emlog newalgorithm 
thistechniqueensembleslogisticregressionwithemalgorithm 
d
hereisthemahalanobisdistanceofthetestvector
m
fromthenearestgaussianprobabilitydistributionasgeneratedbyemalgorithm itisusedtoadjusttheoutputoflogistic
regressionby


whenthedistanceislessthan

 thefinalclassificationoutputisgeneratedusingthestandardlogistic
regressionclassificationtechnique 



f x  g x  
   d
 x   
m
 i 

 i 

 i 

 i 
 i 
y
   f x
      

   emsvm newalgorithm 
thistechniqueensembleslogisticregressionwithemalgorithm itusesaverysimilarapproachtoemlogexceptthat
 i 
insteadofusing
g x
 
fromlogisticregressionitusesscoresfromsvm 


  results
   errormetric
     precision
precisionmeasurestheratioofnumberofactualpositivesampleswithcorrectclassificationtothenumberofsamples
classifiedpositive yh i 
istheclassificationandy i 
istheactuallabel 
h i 
 i 
h i 
precision 
  y
   y
      y
   

     recall
recallmeasurestheratioofnumberofactualpositivesampleswithcorrectclassificationtothetotalnumberofpositive
samples 
h i 
 i 
 i 
recall 
  y
   y
      y
   

fi     fmeasure
fmeasureistheweightedaverageofprecisionandrecall itisusedtogenerateacombinederrormetrictotrackasingle
error weuseabeta    forincreasingtheweightofrecall wewanttohavehigherrecallatareasonableprecisionin
ordertoidentifyasmanybusinessesatriskaspossible 


   baseline
wefirsttrainedasimplenaivebayesclassifierusingbasicfeaturesofbusinessratingandreviewcounttocheckthe
linearseparabilityofthelabelsusingthesefeatures thiswasourattempttocreateasimplebaselinewhichwecanimprove
overtime wetriedkfoldcrossvalidationtechniquewithbothrawdataandunskeweddataset ourbaselineis   
precisionand  recallonrawdatasetand   precisionand   recallonunskeweddataset 
scenarios

precision

recall

rawdata

        

        

unskeweddata

       

      

rawdata kfoldcrossvalidation k  

       

        

unskeweddata kfoldcrossvalidation k  

       

      



   featureimprovement
aftergeneratingthebaselinewelookedatthetrainingandtestingerrors boththetrainingandtestingerrorswereveryhigh
whichimpliedabiasproblem inordertoreducebiasinourestimatorweaddedmorefeaturestoourdataset thishada
verypositiveeffectourourprecisionandrecall thefollowingfigureshowshowtheprecisionimprovedfromapprox    to
   byusingspatial temporalandvocabularyfeatures theoverallrecallalsoimprovedfrom   to    thisanalysis
provesthattherangeoffeatureswegeneratedhadincrementaleffectofimprovementontheprecisionrecall 





   datadistributionimpactonlearning
wealsostudiedtheperformanceimprovementsunderdifferentdatadistributions duringourinitialdataanalysiswe
observedthatlotofbusinesswithhighstarrating     thatwereclosedwerebecauseofrenovationormovingtoanother
locationetc thisconfirmedthebasicintuitiononthedatasetthatyelpdoesnotcapturefinancialorthemacroeconomic
pictureregardingabusiness butyelpprovidesinformationonthequalityofthebusinessandpossiblyinfluenceoflocal
environmentalfactorsonthebusiness henceweclassifiedallclosedbusinessesinourdatasetwithverypositiveratingsas

fioutliersandtestedbothwithandwithoutoutliers weingeneralobservedthattheclassificationperformancewas   better
withoutoutliersforallalgorithms 



   algorithmicimprovements
finallywecompareallalgorithmsperformanceusingfmeasurewhichtakesweightedharmonicaverageofprecisionrecall 
wenoticethatemsvmalgorithmhasthebestperformanceof   overall emlogandsvmalsoperformnicelywith   
and   scorerespectively weprovethatournovelapproachofensemblingemandsvmalgorithmsintoemsvmhas
higherpayoffthanthosealgorithmsindividually 




  conclusion
inthispaperweresearchedmultiplemachinelearningalgorithmstoidentifyshutdownbusinesses westudiedtheimpactof
differentclassesoffeaturesonperformance wefoundthatspatialandtemporalfeaturesgaveareallygoodboostto
accuracyofouralgorithms wealsostudiedtheimpactofdifferentdatadistributiononperformanceandshowedthat
removingoutliersimprovesperformance outofallthevariousalgorithmswetested ourownnovelmachinelearning
algorithmemsvmhavethebestoverallperformancewith   recallat     precision weoptimizedforhighrecallwith
reasonablyhighprecision thisenablesthewebcompaniestoidentifymostofthebusinessesathighriskofclosure 

vi references

   yelpdatasetchallenge 
http   www yelp com dataset challenge
 
   kylecarbon kacynfujii prasanthveerina  applicationsofmachinelearningtopredictyelpratings
http   cs    stanford edu proj     kyle   carbon    kacyn   fujii    prasanth   veerina    applications   of 
  machine   learning   to   predict   yelp   ratings pdf
   jeffhan justinkuang dereklim  predictingyelpratingsfrombusinessandusercharacteristics

fihttp   cs    stanford edu proj     jeff   han    justin   kuang    derek   lim    predicting   yelp   ratings
   from   business   and   user   characteristics pdf
   sumedhsawant ginapai  yelpfoodrecommendationsystem
http   cs    stanford edu proj     sawantpaiyelpfoodrecommendationsystem pdf
   bryanhood victorhwangandjenniferking  inferringfuturebusinessattention
http   www yelp com html pdf yelpdatasetchallengewinner inferringfuture pdf
   alexisweill thomaspalomares arnaudguille  yelppersonalizedreviews
http   cs    stanford edu proj     alexis   weill    thomas   palomares    arnaud   guille    yelp   personal
ized   reviews pdf
   pedrodomingos  afewusefulthingstoknowaboutmachinelearning
https   homes cs washington edu  pedrod papers cacm   pdf
   incorrectbusinessaddresslisting
http   www yelp com topic dentonincorrectbusinessaddresslisting
   mahanalobisdistance
https   en wikipedia org wiki mahalanobis distance
    ensemblelearning
https   en wikipedia org wiki ensemble learning
    logisticregression
http   www stat cmu edu  cshalizi uada    lectures ch   pdf





fi