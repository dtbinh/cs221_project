what can we learn from movie colors 
ethan chan
computer science
stanford university

john lee
electrical engineering
stanford university

rajarshi roy
electrical engineering
stanford university

ethancys cs stanford edu

johnwlee stanford edu

rroy stanford edu

abstract

gate in this paper 
the most relevant paper to our problem     investigated
color characterization of specific scenes in a movie for
mood analysis  they analyzed    movies and tracked how
the mood for each scene transitioned based on color features of the movies  the features that they used consist
of two parts  first  they chose    basic colors and used
them as the basis for a color histogram for each scene in
the movie  they then associated each color with a different
mood  the second feature they used was a mood dynamics
histogram  where they determined the mood of each scene
based a moods associated colors and created a mood dynamic histogram based on every possible combination of
transitions between different moods 
the paper identified its features in a very clear and technical way which was thoroughly explained and justified 
this proved to be very useful for our own feature extraction choices  however  while the paper concluded that the
mood dynamics histogram was the most effective feature to
classify a movie  their limited dataset of    movies suggests
that their results might have been biased 
in this paper  the problem we set out to investigate was
predicting the genre of a movie instead of transitions of
moods within a movie  we decided to extract features at a
more global level and set our class labels to be movie genres instead of moods  by only inputting the genre labels
and raw data into our supervised learning algorithms  we
are taking a purely data driven approach unlike the paper
where they hard assigned moods to their    color palette 

we applied supervised learning methods to classify movies
into one of four genres based solely on colors present in
the film  data was obtained from screen captures of the
netflix preview window at    second intervals  our final
feature was x        color histogram  avg  color change  
our genre classes were y    action  animation  horror 
romance   we attempted multinomial naive bayes and
  v all svm to predict the genres of a film based on its
color features  we also attempted unsupervised learning
k means clustering algorithm on our movies to observe
patterns across movies 

   introduction
it is popular opinion that the mood and the genre of a film
is closely related to the color schemes used in the movie 
we can intuitively tell what genre a film is just by looking
at its color hues  warm red tones for romances  desaturated
colors for post apocalyptic films     we set out to explore
how movies genres are related to the color characteristics
of a film  and investigated this intuition in a thorough and
scientific way by incorporate machine learning concepts to
predict the genre of films based on the color characteristics 

   related work
existing work in the analysis of colors in film can be
broadly split into the following three categories  first  work
has been done to categorize films into genres based on content     such as the scenes present       and the movie
script      the second group of existing work is the use
of computational tools to analyze the color scheme of existing movies  and the subsequent manipulation of the color
scheme of films     or pictures      to match the learnt color
scheme  the third category of related work as been to analyze the effect of the color scheme on the mood of film
and images      little work has been done on determining
genre from color alone  which is what we set out to investi 

   dataset and features
     data collection
since our ownership of movies were limited in numbers 
we used the netflix movie streaming service to gather our
movie color data  the netflix user interface contains a lowresolution preview window that displays keyframes at   second intervals which can be navigated by arrow keys  we
created a script that generates keypresses and gathers data
from the screenshot of the preview window  the advan 

fi   methods

tage of this method as opposed to taking screenshots of the
actual movie stream is that the preview window does not require any buffering time  at the same time  this approach
restricted the data sample rate to one sample per    seconds 
the color data that is sampled for each preview frame is the
mean pixel red  green  blue  rgb  values of all the pixels
in the preview frame 
we chose mean color as opposed to other statistical measures because the netflix preview window pixels are already
down sampled mean colors of pixels from the actual movie
frame  the resulting color barcode feature captured is
similar to the data presented in the colors of motion visualizations      the color barcode is represented as 


r  r      ri     rn
g  g      gi     gn 
b  b      bi     bn

     support vector machine  svm 
one of the main algorithms that we use to classify the
movies into genres is the svm  the svm is an algorithm
that finds the optimal decision boundary to separate the data
into two partitions based on its labels  that is  it finds the
line that maximizes the distance to the points closest to the
boundary these closest points are called support vectors  
while trying to match the labels of the data points  mathematically  this can be expressed as 
m

x
 
  w     c
i
 w b  
i  
min

s t 

where  ri   gi   bi   are the mean red  green and blue pixel
values of the frame captured at the     ith second  n is
the total number of frames captured for the movie  and   
ri   gi   bi       that is 
ri  

m n
  xx
ri x y 
m  n x   y  

gi  

m n
  xx
gi x y 
m  n x   y  

bi  



y  i  wt x i    b     i   i           m
i     i           m

in the equation above  the parameter c balances the
two objectives of increasing distance between the decision
boundary and the support vectors  and correctly labeling the
points 
solving the optimization problem above is difficult  and
it is easier to solve the lagrangian dual optimization problem below 
m
  x  i   j 
y y i j hx i    x j  i
max w     
i 

 
i j  
i  
m
x

m n
  xx
bi x y 
m  n x   y  

where m  n is the resolution of the preview frame and
 ri x y    gi x y    bi x y    is the pixel color at pixel coordinate
 x y  of the preview frame 
our data collection process is outlined in figure   below 

s t     i  c  i           m
m
x
i y  i     
i  

one of the distinct advantages of the svm is the option
to use kernels to map the feature vector to a higher dimension space  which has the potential to separate data that falls
along curved decision boundaries 
to classify between multiple classes  we used the winner takes all  wta  svm method as described and empirically supported in papers by duan and rifkin         that
is  we trained multiple   vs all svms  and then to determine the label of an unlabeled test example  we pass the
unlabeled test example to each of the svm models  and obtain the score corresponding to each model  this score is the
signed distance from the data point to the decision boundary  hence a large positive score signify that the data point is
both a positive example  and is far from the decision boundary  therefore to assign a test example to the most probable
class  we label that test example with the label of the model
that had the largest score 

figure    data collection process

we collected the color barcode data from     movies
from each of the following genres  horror  animation  romance and action  making a total of     data points 
 

fi     multinomial naive bayes

model consistently had a    training error  they also had
consistently high generalization errors  for all future discussion of svms  a linear kernel is used 

the multinomial naive bayes model is another supervised learning method that we used to classify the movies 
the naive bayes model assumes that observing a certain
feature  xi   is independent of observing another feature 
xj   given the label  y   that is

     

slack parameter

to determine the optimal value for c  we tried a range of
different values to find the value that would result in the
lowest training and generalization error  for example  figure   shows the plots of training and generalization error
plotted against c for the final feature vector  in this case 
we notice that the training error is zero right from when
c is small  which implies that the data points are linearly
separable  and hence the weighting coefficient for the slack
parameter is inconsequential  for the subsequent discussion
of svms  the value of c used is    

p xi   xj  y     p xi  y  p xj  y   i    j
with this assumption  we can build a probabilistic model
based on the training examples  specifically  we are finding
the parameters
j y  k   p xj     y   k 
y  k   p y   k 
that maximizes the likelihood of the model 
p  y   k x         xp    
 y   k 
pk

k  

 y  

qp

j   p xj  y   k 
qp
k  j   p xj  y  

k 

for each testing example  we can then calculate p  y  
  x         xp    p  y     x         xp         and label the
training example with the label that has the largest corresponding probability 

figure    error for different values of c

     

number of clusters

part of building our feature vectors involved using k mean
clusters to group similar colors together  to determine the
value of k  the number of clusters  that was not too large 
and yet results in the lowest error  we ran our movie classification algorithm on different values of k  figure   shows
the classification errors for the different genres across a
range of values for k 

     k means clustering
k means clustering is an unsupervised learning method
to identify clusters in a dataset  x     x          x m   the
algorithm is initialized by randomly selecting k centroids 
           k   in the space of the dataset  it then iteratively
labels each point in the dataset with the index of the nearest
centroid  c i    and subsequently moves the centroid to the
center of those points  that is  for each iteration 
c i     arg min  x i   j    
j
pm
 i 
  j x i 
i     c
j    p
m
 i    j 
i     c
we run this until the labels for the data points c i    and the
location of the centroids j   converges and stops varying
between iterations 

figure    plot of generalization error against k

     parameters

based on the results presented in figure    and limited by
the amount of computational power we had available  we
used k       for the experiments to be discussed below 

     

     color barcode

   results
svm kernels

we chose to use a linear kernel for the svm because
higher order kernels  polynomial  gaussian  rbf  were
over fitting the data  that is  we observed that while these

the first feature vector we tried was the raw sampled
color barcode data that was resampled and interpolated to
be of a fixed length  table   shows the confusion matrix of
 

fithe linear svm classifier tested with    fold cross validation over     trials  during each trial  a random permutation of our data set was split into the ten equally sized partitions for cross validation  each partition had    movies 
thus the training set is always     movies and the test set
is always    movies  hence  by the law of large numbers 
the average tp fn for each genre converges to    over    
trials 

horror
animation
romance
action

tp
    
    
    
    

fp
    
    
     
     

fn
    
    
    
    

precision
     
     
     
     

vector  to generate the clustered color histogram vector  we
binned the colors in a movies color barcode to the nearest of the     color cluster centroids by r g b distance 
each element of the feature vector corresponds to the number of occurrences of that corresponding color  the clustered color histogram for finding nemo  with    cluster
centroids for visual representation  is shown in figure   
we can see that finding nemos colors are predominated
by blue hues due to the underwater scenes 

recall
     
     
     
     

table    confusion matrix for color barcode feature

animation movies had the highest classification accuracy with       precision and       accuracy 

     clustered color barcode
since columnizing the r g b channels of the the color
barcode conceals and ignores the relationship between the
red  green  and blue intensities  we tried clustering all the
colors in the training dataset using k mean clustering  refer to section         after clustering  the r g b values for
each in the test dataset color barcodes is replaced by the index of the centroid that it is the nearest to  we then use this
time sequence of indexes as our feature vector 
table   shows the confusion matrix of the linear svm
classifier tested with    fold cross validation over     trials  the precision and recall values were very close to the
random classifier value of     and is worse than the unclustered color barcode results 

horror
animation
romance
action

tp
    
    
    
    

fp
     
     
     
     

fn
     
     
     
     

precision
     
     
     
     

figure    color histogram of finding nemo

horror
animation
romance
action

tp
    
     
    
    

fp
    
    
    
    

fn
    
    
    
    

precision
     
     
     
     

recall
     
     
     
     

table    confusion matrix for clustered color histogram feature
using svm

recall
     
     
     
     

horror
animation
romance
action

tp
    
     
    
    

fp
     
    
    
    

fn
    
    
    
    

precision
     
     
     
     

recall
     
     
     
     

table    confusion matrix for clustered color barcode feature
using svm

table    confusion matrix for clustered color histogram feature
using nb

     clustered color histogram

the accuracy of the linear svm and naive bayes classifiers tested with    fold cross validation over     trials
 table   and table    improved for all genres with the color
information unlinked from the temporal location of each
frame  we used the multinomial naive bayes algorithm for
this feature vector because the frequencies are positive integers 

for the color barcode and clustered color barcode features  the featured dimension is storngly linked to the position of the sample within the movie  this representation
may not be ideal since the same movie sampled at slightly
different start and end points will have the color information in different dimensions  thus  we experimented with
removing the temporal information and purely looking at
color distributions palettes of movies  since color histograms were used in various works to analyze mood of visual content       we tried the color histogram as a feature

     clustered color histogram with dynamics
the clustered color histogram feature performed better
without temporal information than the color barcode and
 

ficlustered color barcode features which had temporal information  thus  we wanted to introduce temporal information
in a manner that would not be destructive to the clustered
color histogram feature 
we first converted the rgb values to cieluv  format 
a format that allows us calculate the difference between two
colors as the euclidean distance between color vectors  this
allows us to track the change of color between frames  figure   shows the change in cieluv color distances for finding nemo over time 

horror
animation
romance
action

tp
    
     
    
    

fp
    
    
    
    

fn
    
    
    
    

precision
     
     
     
     

recall
     
     
     
     

table    confusion matrix for clustered color histogram with
dynamics feature using svm

horror
animation
romance
action

tp
    
     
    
    

fp
    
    
    
    

fn
    
    
    
    

precision
     
     
     
     

recall
     
     
     
     

table    confusion matrix for clustered color histogram with
dynamics feature using nb

the accuracy of the linear svm and naive bayes classifiers tested with    fold cross validation over     trials
 table   and table    improved for all genres with the color
dynamics information 

   conclusion

figure    color difference over time for finding nemo

the combined clustered histogram and color dynamics
feature processed from the color barcode feature gave us
better results than the unprocessed color barcode feature 
we could correctly classify    out of    animated movies
among four genres  horror  animation  romance  action 
from the average frame colors sampled   times a minute
using a naive bayes classifier with a training set of    
movies  the classification accuracy  recall  for other genres
 horror         romance         action         were better than the     random classifier accuracy indicating that
there is learnable movie genre information in movie colors 

we then averaged the color change distances between all
frames to get a mean color change value  color dynamics 
for each movie  the distributions of movie color dynamics
for the four genres in figure   

we did some exploration of our dataset through unsupervised k means clustering on the unprocessed color barcode
feature  based on the the clustering results that we obtained 
we observe that an unsupervised learning algorithm  such
as the k means algorithm  shows promise to successfully
group movies that have similar color schemes 

figure    distributions of genre color differences

from the color dynamics distributions we can observe
that romance movies generally have a smaller color dynamics value and animation movies have a larger color dynamics value  this makes sense since romance movies have
slower scenes while animated movies are flashier  based
on this data and the usefulness of color transition in movie
mood studies       we added the color dynamics value as a
new element to the clustered color histogram feature vector 

clustering movies by combining color cluster histogram
and color dynamics feature can be explored and developed
in the future  one of the potential applications of such
a clustering algorithm would be a movie recommendation
system based on the intrinsic properties of movies  similar
to the pandora music genome project     for music  it
would also be interesting to find common words in the subtitles of the clustered movies to link movie content to movie
color 

  the      cieluv color space provides a perceptually uniform color
space  in this color space  the distance between two points approximately
tells how different the colors are in luminance  chroma  and hue   

 

fireferences
    the colors of motion  http   thecolorsofmotion 
com films   online  accessed    december       
    the music genome project  https   www pandora 
com about mgp   online  accessed    december       
    p  bellantoni  if its purple someones gonna die  focal press 
     
    a  blackstock and m  spitz  classifying movie scripts by
genre with a memm using nlp based features 
    c  dorai  automatic genre identification for content based
video categorization  in pattern recognition        proceedings    th international conference on  volume    pages
       vol         
    k  b  duan and s  s  keerthi  which is the best multiclass
svm method  an empirical study  in multiple classifier systems  pages         springer       
    s  p  n  bonneel  k  sunkavalli and h  pfister  examplebased video color grading  acm transactions on graphics
 proc  acm siggraph   vol      no           
    r  rifkin and a  klautau  in defense of one vs all classification  the journal of machine learning research       
          
    j  schwiegerling  field guide to visual and ophthalmic optics  spie bellingham  wa  usa       
     m  solli and c  c  m  solli  linkping studies in science and
technology dissertations  no       color emotions in large
scale content based image indexing 
     c  y  wei  n  dimitrova  and s  f  chang  color mood analysis of films based on syntactic and psychological models 
in multimedia and expo        icme         ieee international conference on  volume    pages         ieee 
     
     s  xue  a  agarwala  j  dorsey  and h  rushmeier  learning and applying color styles from feature films  computer
graphics forum                     
     h  zhou  t  hermans  a  v  karandikar  and j  m  rehg 
movie genre classification via scene categorization  in proceedings of the   th acm international conference on multimedia  mm     pages         new york  ny  usa 
      acm 

 

fi