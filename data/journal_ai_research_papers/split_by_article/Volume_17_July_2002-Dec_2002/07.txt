Journal of Artificial Intelligence Research 17 (2002) 363378

Submitted 5/02; published 11/02

Competitive Safety Analysis: Robust Decision-Making in
Multi-Agent Systems
moshet@ie.technion.ac.il

Moshe Tennenholtz
Faculty of Industrial Engineering and Management
Technion  Israel Institute of Technology
Haifa 32000, Israel

Abstract
Much work in AI deals with the selection of proper actions in a given (known or unknown) environment. However, the way to select a proper action when facing other agents
is quite unclear. Most work in AI adopts classical game-theoretic equilibrium analysis to
predict agent behavior in such settings. This approach however does not provide us with
any guarantee for the agent. In this paper we introduce competitive safety analysis. This
approach bridges the gap between the desired normative AI approach, where a strategy
should be selected in order to guarantee a desired payoff, and equilibrium analysis. We show
that a safety level strategy is able to guarantee the value obtained in a Nash equilibrium,
in several classical computer science settings. Then, we discuss the concept of competitive
safety strategies, and illustrate its use in a decentralized load balancing setting, typical to
network problems. In particular, we show that when we have many agents, it is possible
to guarantee an expected payoff which is a factor of 8/9 of the payoff obtained in a Nash
equilibrium. Our discussion of competitive safety analysis for decentralized load balancing
is further developed to deal with many communication links and arbitrary speeds. Finally,
we discuss the extension of the above concepts to Bayesian games, and illustrate their use
in a basic auctions setup.

1. Introduction
Deriving solution concepts for multi-agent encounters is a major challenge for researchers
in various disciplines. The most famous and popular solution concept in the economics
literature is the Nash equilibrium. Although Nash equilibrium and its extensions and modifications are powerful descriptive tools, and have been widely used in the AI literature
(Rosenschein & Zlotkin, 1994; Kraus, 1997; Sandholm & Lesser, 1995), their appeal from
a normative AI perspective is somewhat less satisfactory.1 We wish to equip an agent with
an action that guarantees some desired outcome, or expected utility, without relying on
other agents rationality.2 This paper shows that, surprisingly, the desire for obtaining a
guaranteed expected payoff, where this payoff is of the order of the value obtained in a
1. If we restrict ourselves to cases where there exists an equilibrium in dominant strategies, as is done in
some of the CS literature (Nisan & Ronen, 1999), then the corresponding equilibrium is appealing from
a normative perspective. However, such cases rarely exist.
2. Maximizing expected payoff when facing a set of possible environment behaviors is fundamental to AI.
In particular, it is discussed in the context of game trees, in the context of planning with incomplete
information, where we need to obtain a desired goal regardless of the initial configuration, as well as
in the context of reinforcement learning, where we wish to maximize expected payoff when the actual
model (selected from a set of possible models in adversarial way) is initially unknown. (Russell & Norvig,
1995).
c
2002
AI Access Foundation and Morgan Kaufmann Publishers. All rights reserved.

fiTennenholtz

Nash equilibrium, is achievable in various classical computer science settings. Our results
are inspired by several interesting examples for counter-intuitive behaviors obtained by following Nash equilibria and other solution concepts (Roth, 1980; Aumann, 1985). One of
the most interesting and challenging examples has been introduced by Aumann (Aumann,
1985). Aumann presented a 2-person 2-choice (2  2) game g, where the safety-level (probabilistic maximin) strategy of the game is not a Nash equilibrium of it, but it does yield
the expected payoff of a Nash equilibrium of g. This observation may have significant positive ramifications from an agents design perspective. If a safety-level strategy of an agent
guarantees an expected payoff that equals its expected payoff in a Nash equilibrium, then
it can serve as a desirable robust protocol for the agent! Given the above, we are interested
in whether an optimal safety level strategy leads to an expected payoff similar to the one
obtained in a Nash equilibrium of simple games that represent basic variants of classical
computer science problems. As we show, this is indeed the case for 2  2 games capturing
simple variants of the classical load balancing and leader election problems. A more general
question refers to more general 2  2 games. We show that if the safety-level strategy is a
(strictly) mixed one, then its expected payoff is identical to the expected payoff obtained in
a Nash equilibrium in any generic non-reducible 2  2 game. We also show that this is no
longer necessarily the case if we have a pure safety-level strategy. In addition, we consider
general 2-person set-theoretic games (which naturally extend 2  2 leader election games)
and show that if a set-theoretic game g possesses a strictly mixed strategy equilibrium then
the safety level value for a player in that game equals the expected payoff it obtains in
that equilibrium. Following this, we define the concept of C-competitive safety strategies.
Roughly speaking, a strategy will be called a C-competitive safety strategy, if it guarantees
an expected payoff that is C1 of the expected payoff obtained in a Nash equilibrium. We
show that in an extended decentralized load balancing setting a 9/8-competitive strategy
exists, when the number of players is large. We also discuss extensions of this result to more
general settings. In particular, we deal with the cases of arbitrary number of communication
lines, and arbitrary different speeds of communication. We show that a ratio of 4/3 can be
obtained when we allow arbitrary speeds in two communication lines connecting source to
target. We also consider the notion of a k-regular network, where k is the ratio between
the average communication speed and the lowest speed of communication (in a given set
of communication lines), and show that a k-competitive safety strategy exists for general
k-regular networks. Then, we discuss C-competitive strategies in the context of Bayesian
games. In particular we show the existence of an e-competitive safety strategy for a classical
first-price auctions setup.
Imagine an agent designed to deal with the communication of a user with different
targets. Selecting routes for messages in a multi-agent system is a non-trivial task. The
efficiency of the agent depends on the actions selected by other users (and their agents)
that try also to communicate with similar targets. In such cases, game-theoretic analysis
can identify the Nash equilibria that may emerge in that setting. However, adopting the
strategy prescribed by a Nash equilibrium may be quite dangerous for our agent. Other
agents may fail to choose strategies prescribed by that equilibrium, and as a result the
outcome of our agent can be quite poor. It would have been much better if the agent could
have guaranteed similar payoff (to the one obtained in a Nash equilibrium) without relying
on other agents behavior. In computational settings, where (machine and other) failures
364

fiCompetitive Safety Analysis

are possible, and rationality assumptions about participants behavior should be minimized,
a safety-level strategy has a special appeal, especially when it yields a value that is close to
the expected payoff obtained in a Nash equilibrium.
Previous work has been concerned with comparing the payoffs that can be obtained
by an optimal centralized (and Pareto-efficient) controller to the expected payoffs obtained
in the Nash-equilibria of the corresponding game (Koutsoupias & Papadimitriou, 1999).3
That work is in the spirit of competitive analysis, a central topic in theoretical computer
science (Borodin & El-Yaniv, 1998). Our work can be considered as suggesting a complementary approach, comparing the safety-level value to the agents expected payoff in a Nash
equilibrium.
The rest of this paper is organized as follows. In Section 2 we provide some basic
definitions and notations. In sections 3 and 4 we deal with simple variants of the load
balancing and the leader election problems. We use these as examples for showing that
safety-level strategies can be quite competitive and attractive, leading to the value of a
Nash equilibrium. This is generalized in section 5 to the context of general 2  2 games. A
discussion of another extension dealing with set-theoretic games is discussed in section 6. In
section 7 we deal with several settings of decentralized load balancing, with increasing level
of complexity. In particular we show the existence of desired competitive safety strategies
for settings with many agents and many possible routes. Section 8 illustrates the use of
competitive safety analysis in games with incomplete information.

2. Basic Definitions and Notations
A game is a tuple G = hN = {1, . . . , n}, {Si }ni=1 , {Ui }ni=1 i, where N is a set of n players,
Si is a finite set of pure strategies available to player i, and Ui : ni=1 Si  < is the payoff
function of player i. Given Si , we denote the set of probability distributions over the
elements of Si by (Si ). An element t  (Si ) is called a mixed strategy of player i. It
is called a pure strategy if it assigns probability 1 to an element of Si , and it is called a
strictly mixed strategy if it assigns a positive probability to each element in Si . A tuple
t = (t1 , . . . , tn )  ni=1 (Si ) is called a strategy profile. We denote by Ui (t) the expected
payoff of player i given the strategy profile t. A strategy profile t = (t1 , . . . , tn ) is a Nash
equilibrium if i  N , Ui (t)  Ui (t1 , t2 , . . . , ti1 , t0i , ti+1 , . . . , tn ) for every t0i  Si . The Nash
equilibrium t = (t1 , . . . , tn ) is called a pure strategy Nash equilibrium if ti is a pure strategy
for every i  N . The Nash equilibrium t = (t1 , . . . , tn ) is called a strictly mixed strategy
Nash equilibrium if for every i  N we have that ti is a strictly mixed strategy. Given a
game g and a mixed strategy of player i, t  (Si ), the safety level value obtained by i when
choosing t in the game g, denoted by val(t, i, g), is the minimal expected payoff that player
i may obtain when employing t against arbitrary strategy profiles of the other players. A
strategy t0 of player i for which val(., i, g) is maximal is called a safely-level strategy (or
a probabilistic maximin strategy) of player i. Hence, a safety-level strategy for agent i,
ssaf e  (Si ) satisfies that
ssaf e  argmaxs(Si ) min(s1 ,s2 ,...,si1 ,si+1 ,...,sn )j6=i Sj Ui (s1 , s2 , . . . , si1 , s, si+1 , . . . , sn )
3. This work has been extended in e.g. (Roughgarden, 2001; Roughgarden & Tardos, 2002).

365

fiTennenholtz

A strategy e  Si dominates a strategy f  Si if for every (s1 , s2 , . . . , si1 , si+1 , . . . , sn ) 
j6=i (Sj ) we have Ui (s1 , . . . , sj1 , e, sj+1 , . . . , sn ) 
Ui (s1 , . . . , sj1 , f, sj+1 , . . . , sn ), with a strict inequality for at least one such tuple. A
game is called non-reducible if there do not exist e, f  Si , for some i  N , such that
e dominates f . A game is called generic if for every i  N , pair of strategies e, f  Si ,
and (s1 , s2 , . . . , si1 , si+1 , . . . , sn )  j6=i Sj , we have that Ui (s1 , . . . , si1 , e, si+1 , . . . , sn ) =
Ui (s1 , . . . , si1 , f, si+1 , . . . , sn ) only if e and f coincide. In a generic game different strategies of player i, assuming a fixed strategy profile for the rest of the players, should lead
to different payoffs. This property simply says that in a fixed environment (captured by
a strategy profile of the rest of the players), different strategies of player i should lead to
somewhat different payoffs (e.g. as a result of their costs, outcomes, etc.) A game is called
a 2  2 game if n = 2 and |S1 | = |S2 | = 2.

3. Decentralized Load Balancing
In this section we consider decentralized load balancing, where two rational players need to
submit messages in a simple communication network: a network of two parallel communication lines e1 , e2 connecting nodes s and t. Each player has a message that he needs to
deliver from s to t, and he needs to decide on the route to be taken. The communication line
e1 is a faster one, and therefore the value of transmitting a single message along e1 is X > 0
while the value of transmitting a single message along e2 is X for some 0.5 <  < 1.4 Each
player needs to decide on the communication line to be used for sending its message from
s to t. If both players choose the same communication line then the value for each one of
them drops in a factor of two (a player will obtain X2 if both players choose e1 , and a player
will obtain X
2 if both players choose e2 ). In a matrix form, this game can be presented as
follows:

!
X/2, X/2
X, X
M=
X, X
X/2, X/2
Proposition 1 The optimal safety-level value for a player in the decentralized load balancing game equals its expected payoff in the strictly mixed strategy equilibrium of that game.
Proof: Consider the following equations for the probability to choose e1 in a symmetric
equilibrium, where each player selects e1 with probability p and e2 with probability 1  p.
This equation is derived from the fact that in a Nash equilibrium every strategy in the
support should lead to identical expected payoffs. Notice that by solving this equation we
will also prove the existence of a strictly mixed strategy Nash equilibrium.
p

X
X
+ (1  p)X = pX + (1  p)
2
2

Hence, p X2 + X  pX = pX +  X2  p X2 , and X   X2 = p X2 + p X2 . This implies that
p=

2
1+

4. Notice that here and later in the paper, X is a constant. The important factor is the ratio between the
payoffs.

366

fiCompetitive Safety Analysis

Notice that 0 < p < 1 as required. The safety level mixed strategy satisfies the following
equation. This equation is derived from the fact that the expected payoff of a (mixed)
safety-level strategy should be identical for any strategy of the other player.
p

X
X
+ (1  p)X = pX + (1  p)
2
2

Hence, p X2 +X pX = pX + X2 p X2 . This implies that pX p X2 +pX p X2 =
) = X
and therefore that p( X+X
2
2 . We get:
p=

X
2 ,


1+

Notice that the above Nash equilibrium is different from the safety level strategy. However,
consider the expected payoff obtained by the Nash equilibrium and by the safety level
strategy: The Nash value is:
2X
2  1
+
X
1+ 2
1+
The safety level value is:
1
 X
+
X
1+ 2
1+
We will show that these values coincide. It is enough to show that:
2  1

2
+
= 1.5
2(1 + )
1+
1+

The above however trivially holds since both sides equal 1.5 1+
2
Notice that the above proposition shows that an agent can guarantee itself an expected
payoff that equals its payoff in a Nash equilibrium of the decentralized load balancing
game. This is obtained using a strategy that differs from the agents strategies in the Nash
equilibria of that game (which do not provide that guarantee). Notice that if the players
could have used a mediator/correlation devise, and play the game repeatedly, then the
mediator could have directed them to the use of strategies leading to a payoff that is higher
than the one guaranteed by the safety-level strategy. The use of such mediator/correlation
devise, as well as the discussion of repeated games, is beyond the scope of this paper.

4. Leader Election: Decentralized Voting
In a leader election setting, the players vote about the identity of the player who will take
the lead on a particular task. A failure to obtain agreement about the leader is a bad
output, and can be modelled as leading to a 0 payoff. Assume that the players strategies
are either vote for 1 or vote for 2, denoted by a1 , a2 respectively, then Ui (aj , ak ) > 0,
where i, j, k  {1, 2}, and j = k. Notice that this setting captures various forms of leader
election, e.g. when a player prefers to be selected, when it prefers the other player to be
selected, etc. In a matrix form, this game can be presented as follows (where a, b, c, d > 0):


M=

a, b
0, 0
367

0, 0
c, d

!

fiTennenholtz

Proposition 2 The optimal safety-level value for a player in the leader election game equals
its expected payoff in the strictly mixed strategy equilibrium of that game.
Proof: In a strictly mixed Nash equilibrium we have that the probability q of choosing a1
by player 2 should satisfy:
qU1 (a1 , a1 ) = (1  q)U1 (a2 , a2 )
The above equality is implied by the fact that any pure strategy in the support of the
mixed strategy for an agent, in a Nash equilibrium, should yield the same expected payoff
(otherwise, deviation will be rational.) Hence, the above equality captures the fact that the
strategy of player 2 in equilibrium should be selected in a way that the utility for agent 1
when using either a1 or a2 will be the same.
Similarly, the probability p of choosing a1 by player 1 should satisfy
pU2 (a1 , a1 ) = (1  p)U2 (a2 , a2 )
Hence, a strictly mixed strategy Nash equilibrium exists, where q =

U1 (a2 ,a2 )
U1 (a1 ,a1 )+U1 (a2 ,a2 )

and

U2 (a2 ,a2 )
U2 (a1 ,a1 )+U2 (a2 ,a2 )

As can be seen from the above equations a strictly mixed strategy
p=
equilibrium exists. Consider now w.l.o.g player 1. The expected payoff it obtains in the
)U1 (a2 ,a2 )
above equilibrium is qU1 (a1 , a1 ) = UU11(a(a11,a,a11)+U
Player 1s safety level strategy satisfies
1 (a2 ,a2 )
0
the following, where p is the probability of choosing a1 :
p0 U1 (a1 , a1 ) = (1  p0 )U1 (a2 , a2 )
Hence, p0 =

U1 (a2 ,a2 )
U1 (a1 ,a1 )+U1 (a2 ,a2 ) Notice
)U1 (a2 ,a2 )
.
p0 U1 (a1 , a1 ) = UU11(a(a11,a,a11)+U
1 (a2 ,a2 )

that p0 = q. The safety level value will be there-

We get that the Nash equilibrium and safety level
fore:
strategies are different, but their expected payoffs for the players coincide.
2
Notice that the above proposition shows that a agent can guarantee itself an expected
payoff that equals its payoff in a Nash equilibrium of the leader election game.5 As in the
decentralized load balancing game, this is obtained using a strategy that differs from the
agents strategies in the Nash equilibria of that game (which do not provide that guarantee).

5. Safety Level in General 2  2 Games
The results presented in the previous sections refer to 2-person 2-choice variants of central problems occurring in computational contexts. Given the encouraging results in the
framework of these basic settings, we wish to consider two types of extensions:
1. Generalize the results to a broader family of simple games.
2. Generalize the results to more general CS-related settings, dealing in particular with
games with many players, as found in load-balancing settings.
5. The reader should not confuse the fact that p0 = q with similarity between safety-level and Nash equilibrium. Indeed, p0 refers to the probability of choosing a1 by player 1, while q refers to the probability
of choosing that action by player 2.

368

fiCompetitive Safety Analysis

In this section we deal with the first point. Later, and in particular in section 7, we will
deal with the second one. It is of interest to see whether our results in sections 3-4 can
be extended to other forms of 2  2 games. Notice that the load balancing and the leader
election settings can be represented as non-reducible generic 2  2 games. The same is true
with regard to the game presented by Aumann:


M=

2, 6
6, 0

4, 2
0, 4

!

Non-reducible generic games are an attractive concept. Having dominated strategies in the
game do not add to the understanding of the interaction, since these strategies can be safely
ignored. The fact a game is generic is also quite appealing: it is quite natural to assume that
a pair of actions should lead to different outcomes when we fix the rest of the environment.
We can show:
Theorem 1 Let G be a 2  2 non-reducible generic game. Assume that the optimal safety
level value of a player is obtained by a strictly mixed strategy, then this value coincides with
the expected payoff of that player in a Nash equilibrium of G.
Proof: Denote the strategies available to the players by a1 , a2 . Use the following notation: a = U1 (a1 , a1 ), b = U1 (a1 , a2 ), c = U1 (a2 , a1 ), d = U1 (a2 , a2 ), e = U2 (a1 , a1 ), f =
U2 (a1 , a2 ), g = U2 (a2 , a1 ), h = U2 (a2 , a2 )
In a matrix form, the above will be presented as:


M=

a, e
c, g

b, f
d, h

!

If a strictly mixed strategy Nash equilibrium exists then it should satisfy that:
qa + (1  q)b = qc + (1  q)d
and
pe + (1  p)g = pf + (1  p)h
where p and q are the probabilities for choosing a1 by players 1 and 2, respectively. We get
that we should have qa + b  qb = qc + d  qd, which implies that q(a  b  c + d) = d  b.
Similarly, we get that we should have pe + g  pg = pf + h  ph, which implies that
p(e  g  f + h) = h  g. Hence, in a strictly mixed strategy Nash equilibrium we should
have:
db
q=
abc+d
and
hg
p=
egf +h
Notice that since the game is generic then d 6= b. If d > b then if q is not strictly in between
0 and 1 then c > a which will contradict non-reducibility. If d < b then in if q is not strictly
in between 0 and 1 then a > c, which also contradicts non-reducibility. Similarly, since the
game is generic then h 6= g. If h > g then if p is not strictly in between 0 and 1 then f > e
369

fiTennenholtz

which will contradict non-reducibility. If h < g then in if p is not strictly in between 0 and
1 then e < f , which also contradicts non-reducibility. Given the above we get that p and q
define a strictly mixed strategy equilibrium of G. Consider now the safety level strategy of
player 1. If player 1 chooses a1 with probability p0 then it satisfies that:
p0 a + (1  p0 )c = p0 b + (1  p0 )d
This implies that we need to have p0 a+cp0 c = p0 b+dp0 d, which implies p0 (acb+d) =
d  c. Hence, we have
dc
p0 =
acb+d
and
ab
1  p0 =
acb+d
Compute now the expected payoff for player 1 in the strictly mixed Nash equilibrium, given
ac
, we have that:
that 1  q = abc+d
qa + (1  q)b =

da  cb
(d  b)a + (a  c)b
=
abc+d
abc+d

The expected payoff of the safety level strategy for player 1 will be:
p0 a + (1  p0 )c =

(d  c)a + (a  b)c
da  cb
=
abc+d
abc+d

Hence, we get that the expected payoffs of the Nash equilibrium and the safety level strategies for player 1 coincide. The computation for player 2 is similar.
2
5.1 The Case of Pure Safety-Level Strategies
The reader may wonder whether the previous result can be also proved for the case where
there are no restrictions on the structure of the safety-level strategy of the game g. In several
AI contexts, the discussion is on pure maximin strategies, where probabilistic behavior is
not considered. Of course, probabilistic maximin strategies are more powerful, and in many
cases the best safety level is obtained only by a mixed strategy and not by a pure one.
However, it will be of interest to consider the case where the safety-level strategy is a pure
one. As we now show, there exists a generic non-reducible 2  2 game g, where the optimal
safety level strategy for a player is pure, and the expected payoff for that player is lower than
the expected payoff for that player in all Nash equilibria of g. Consider a game g, where
U1 (1, 1) = 100, U1 (1, 2) = 40, U1 (2, 1) = 60, U1 (2, 2) = 50, and U2 (1, 1) = 100, U2 (1, 2) =
210, U2 (2, 1) = 200, U2 (2, 2) = 90. In a matrix form this game looks as follows:


M=

100, 100
60, 200

40, 210
50, 90

!

It is easy to check that g is generic and non-reducible. In particular, there are no dominated
strategies, and the payoffs obtained by each player for different strategy profiles are different
from one another. The game has no pure Nash equilibria. In a strictly mixed strategy
370

fiCompetitive Safety Analysis

equilibrium the probability q of choosing a1 by player 2 should satisfy 100q + 40(1  q) =
60q+50(1q), i.e. that 60q+40 = 10q+50, q = 0.2. In that equilibrium the probability that
player 1 will choose a1 is p = 0.5, and the expected payoff of player 1 is 100q+40(1q) = 52.
The safety-level strategy for player 1 is to perform a2 , guaranteeing a payoff of 50, given
that (a2 , a2 ) is a saddle point in a zero-sum game where the payoffs of player 2 are taken to
be the complement to 0 of player 1s original payoffs. Hence, the value of the safety level
strategy for player 1 is 50 < 52.
2

6. Beyond 2  2 Games
The leader election game is an instance of a more general set of games: set-theoretic games.
In a set theoretic game the sets of strategies available to the players are identical, and the
payoff of each player is uniquely determined by the set of strategies selected by each player.
For example, in a 2-person set-theoretic game we will have that U1 (s, t) = U1 (t, s), U2 (s, t) =
U2 (t, s) for every s, t  S1 = S2 . Notice that set-theoretic games are very typical to voting
contexts. In a typical voting context we care about the votes, but not about the indentity
of the voters. We can prove the following:
Proposition 3 Given a 2-person set theoretic game g with a strictly mixed strategy Nash
equilibrium, then the value of an optimal safety level strategy of a player equals its expected
payoff in that equilibrium.
Proof: Let S = S1 = S2 = {s1 , s2 , . . . , sl }. Let t = (t1 , t2 ) be a strictly mixed strategy
Nash equilibrium. Denote the tuple of probabilities associated with ti by (pi1 , . . . , pil ) (i 
{1, 2}, |S1 | = |S2 | = l). In a strictly mixed Nash equilibrium we have that the expected
payoff of player 1 is:
lj=1 p2j U1 (se , sj ) ()
for every 1  e  l. Consider now a strategy f of player 1 that assigns probability p2j to
strategy sj . Then, for every strategy se selected by player 2, the expected payoff of f is
given by
lj=1 p2j U1 (sj , se ) = lj=1 p2j U1 (se , sj ) = ()
This implies that the safety level strategy for player 1 yields an expected payoff that is
identical to the expected payoff for player 1 in the above equilibrium. Similar reasoning can
be applied for player 2.
2

7. Competitive Safety Strategies
Let S be a set of strategies. Consider a family of games (g1 , g2 , . . . , gj , . . .) where i is a
player at each of them, its set of strategies at each of these games is S, and there are j
players, in addition to i, in gj . As an example, consider a family of decentralized load
balancing settings. The (n  1)-th game in this extended load-balancing setting will consist
of n players, one of them is i. The players submit their messages along e1 and e2 . The
payoff for player i when participating in an n-person decentralized load balancing game is
X
X
k (resp. k ) if he has chosen e1 (resp. e2 ) and additional k  1 participants have chosen
371

fiTennenholtz

that communication line. A mixed strategy t  (S) will be called a C-competitive safety
strategy if there exists some constant C > 0, such that
nash(i, gj )
C
j val(t, i, gj )
lim

where nash(i, gj ) is the lowest expected payoff player i might obtain in some equilibrium
of gj , and val(t, i, gj ) is the expected payoff guaranteed for i by choosing t in the game gj .
The extended decentralized load balancing setting 6 is a typical and basic network problem.
If C is small, a C-competitive safety strategy for that context will provide a useful protocol
of behavior. We can show:
Theorem 2 There exists a 9/8-competitive safety strategy for the extended decentralized
load-balancing setting.
Proof: Consider the following strategy profile for the players in an n-person decentralized
1
load balancing game: players {1, 2, . . . , d 1+
ne} will choose e1 , and the rest will choose
e2 . W.l.o.g we assume that i = 1 is the player for which we will make the computation of
expected payoffs. It is easy to verify that the above strategy profile is an equilibrium of the
game, with an expected payoff for player i that is bounded above by
X(1 + )
()
n
Intuitively, this equilibrium is obtained by partitioning the players in a way where the payoff
for using the communication lines are (almost) equal. Consider now the following strategy

1
t for player i: select e1 with probability 1+
and select e2 with probability 1+
. Notice
that t (if adopted by all participants) is not a Nash equilibrium. However, we will show
that it is a competitive safety strategy for small C > 0 . Consider an arbitrary number of
participants n, where (n  1) of the other (i.e. excluding player i) n  1 participants use
e2 while the rest use e1 , for some arbitrary 0    1. The expected payoff obtained using
t will be:
1
X

X
+
1 +  (n  1) + 1 1 +  (1  )(n  1) + 1
This value is greater or equal to:
1
X

X
+
1 +  n + 1 1 +  (1  )n + 1
The above equals



1
1
X
+
1 +  n + 1 (1  )n + 1



Simplifying the above we get:
X
n+2
(  )
1 +  (1 + n)(n  n + 1)
6. Here and later the term extended load-balancing setting refers to a family of games as above.

372

fiCompetitive Safety Analysis

Dividing (**) by (***) we get that the ratio is:
(1 + )2 (   2 )n2 + n + 1

n(n + 2)
When n approaches infinity the above ratio approaches
(1 + )2
(   2 )

Given that 0.5   < 1 and 0    1 we get that the above ratio is bounded by 9/8 as
desired.
2
7.1 Extensions: Arbitrary Speeds and m Links
In this section we generalize the result obtained in the context of decentralized load balancing to the case where we have m parallel communication lines leading from source to target.
The value obtained by the agent (w.l.o.g. agent 1) when submitting its message along line
i
i, where ni agents have decided to submit their messages through that line is given by X
ni ,
where 1 = 1  2      m > 0. Our extension enables us to handle the general binary
case where 0 <  < 1, as well as to discuss cases where a safety level strategy can be very
effective in the general m-lines situation. Using the ideas developed for the case m = 2, we
can now show:
m  m 



j6=i j
Theorem 3 There exists a i=1mi2 i=1
competitive safety strategy for the extended
m 
i=1 j
decentralized load-balancing setting, when we allow m (rather than only 2) parallel communication lines, and arbitrary i s.

Proof: Following the ideas of the previous theorem, there exists an equilibrium where agent
1 obtains at most (X/n)m
i=1 i . Intuitively, in this equilibrium the players are distributed
in a way where the payoff for using the different communication lines are (almost) identical.
In particular, agents {1, 2, . . . , d m1 i ne}, where 1 = 1 will be assigned to communication
i=1
line 1, and hence agent 1s payoff will be as prescribed.
Consider the following strategy for each of the agents: choose communication line i with
probability
j6=i j
m
i=1 j6=i j
Given the above, the expected payoff of agent i can be minimized (using similar ideas
to the ones in the proof of Theorem 2), by splitting the other agents equally among the
communication lines. Hence, the expected payoff of the agent is at least:
m
i=1

i Xj6=i j
m2 X m
j=1 j
=
n
m
m
(1 + m )i=1 j6=i j
m + n i=1 j6=i j

Hence, the ratio between the expected payoff in the Nash equilibrium and the expected
payoff that can be guaranteed is bounded by:
m
m+n m
i=1 j6=i j
(

)
i=1 i
2
m n
m
j=1 j
373

fiTennenholtz

The above implies, when n is large the existence of an

m
m
i=1 i i=1 j6=i j
competitive
m2 m
j=1 j

strategy.
2
In the general binary case, where 1 = 1, and 2 = , where 0 <   1, the above
implies the existence of an
(1 + )2
4
competitive strategy.
Corollary 1 Given an extended load balancing setting, where m = 2, with arbitrary speeds
of the communication lines (0 <   1), there exists a 43 -competitive strategy.
2

2

Proof: To see the above notice that 1 +  < (1+)
if and only if  < 1/3 and that (1+)
4
4
is decreasing in the interval (0, 1]. Hence, by considering a strategy prescribed by the above
theorem when   1/3 and selecting e1 otherwise, we are guaranteed a ratio of at most
1 + 1/3 = 4/3.
2
Consider now the general m-links (i.e. m parallel communication lines) case. The
 m i
average network quality (or speed), Q, can be defined as i=1
m . A network will be called
Q
k-regular if m  k. Many networks are k-regular for small k. For example, if m  0.5 as
before, then the network is 2-regular regardless of the number of edges.
Corollary 2 Given a k-regular network, there exists a k-competitive safety strategy for the
extended decentralized load-balancing setting, when we allow m (rather than only 2) parallel
edges.
Proof: To show the above, observe that
m
m
Q m
i=1 i i=1 j6=i j
i=1 j6=i j
=
m2 m

m
m
j=1 j
j=1 j

The latter is smaller or equal to
Q m
=k
m m
as desired.
2
Together, Theorem 3 and corollaries 1 and 2 extend the results on decentralized load
balancing to the general case of m parallel communication lines.

8. Competitive Safety Analysis in Bayesian Games
The results presented in the previous sections refer to games with complete information.
The games we have studied in this context refer to fundamental settings in the AI and game
theory intersection, and deal with issues such as congestion. In this section, we show that
our ideas can be applied to games with incomplete information as well.
In a game with incomplete information the payoff for a player given the behavior of the
set of players is private information of that player. In order to illustrate competitive safety
analysis in games with incomplete information, we have chosen to consider a very basic
mechanism, the first-price auction. The selection of first-price auction is not an accident.
374

fiCompetitive Safety Analysis

Auctions are fundamental to the theory of economic mechanism design7 , and among the
auctions that do not possess a dominant strategy, assuming the independent private value
model, first-price auctions are probably the most common ones.
We consider a setting where a good g is put for sale, and there are n potential buyers.
Each such buyer has a valuation (i.e. maximal willingness to pay) for g that is drawn from
a uniform distribution on the interval of real numbers [0, 1]. This valuation is the private
information that the agent has. The exact valuation is known only to the agent, while the
distribution on agent valuations are commonly known. The valuations are assumed to be
independent from one another. In a first price auction, each potential buyer is asked to
submit a bid for the good g. We assume that the bids of a buyer with valuation v is a
number in the interval [0, v].8 The good will be allocated to the bidder who submitted the
highest bid (with a lottery to determine the winner in a case of a tie). The auction setup can
be defined using a Bayesian game.9 In this game the players are the potential bidders, and
the payoff of a player with valuation v is vp if he wins the good and pays p, and 0 if he does
not get the good. As the reader can see, the distinguished feature of such games is that the
players utility function depends on the agents private valuation, and therefore it is known
only to it. The equilibrium concept can be also extended to the context of Bayesian games.
In the auction setup an agents strategy is a function from its valuations to monetary bids.
A strategy profile will be in equilibrium if an agents strategy is the best response against
the other agents strategies given the distribution on these agents valuations. In particular,
in equilibrium of the above game the bid of a player with valuation v is (1  n1 )v.
n
Given the above, the expected payoff of an agent with valuation v, will be vn . As before,
the question is whether we can guarantee a payoff that is proportional to the expected payoff
in equilibrium.
Before discussing an appropriate strategy, we should emphasize a formal issue with
regard to competitive safety strategies in Bayesian games. Notice that in our definition
of competitive safety strategies, we assume that the players competitive action should be
independent of the number of players. On the other hand, as suggested by the equilibrium
analysis above, behavior in first-price auction may heavily depend on the number of players.
In order to address this issue, we make use of the revelation principle, discussed in the
economic mechanism design literature. The revelation principle tells us that one can replace
the above-mentioned first-price auction with the following auction: each bidder will be asked
to reveal his valuation, and the good will be sold to the bidder who reported the highest
valuation; if agent i who reported valuation v 0 will turn out to be the winner then he will
be asked to pay (1  n1 )v 0 . In this mechanism a player will submit bids in between 0 and
n
n1 v. It turns out that reporting the true valuation is an equilibrium of that auction, and
that it will yield (in equilibrium) the same allocation, payments, and expected utility to
the participants, as the original auction. It is convenient to consider the above revelation
mechanism, since when facing any number of participants, a bidders strategy in equilibrium
will always be the same.
7. For a general discussion of mechanism design see (Mas-Colell, Whinston, & Green, 1995), Chapter 23,
and (Fudenberg & Tirole, 1991), Chapter 7).
8. In general, buyers may submit bids that are higher than their valuations, but these strategies are dominated by other strategies, and their existence will not effect the equilibrium discussed in this paper.
9. A formal definition and exposition of Bayesian games can be found in (Fudenberg & Tirole, 1991).

375

fiTennenholtz

Given the above, a first-price auction setup will be identified with a family of (Bayesian)
games (g1 , g2 , . . .) where gj is the Bayesian game associated with (the revelation mechanism
of) first-price auction with j +1 potential buyers. The definition of C-competitive strategies
can now be applied to the above context as well.
Theorem 4 There exists an e-competitive strategy for the first-price auction setup.
Proof: When player 1 with valuation v submits the bid b in an auction with additional
n  1 players, its worst case payoff is
Z

n1
b
n

v2 =0

Z

dv2

n1
b
n

v3 =0

dv2   

Z

n1
b
n

vn =0

(v 

n1
b)dvn
n

The above says that in order to win, player is bid should be higher than the other players
n
bids. Each players bid in the revelation mechanism is however at most n1
times its
n1
valuation, and therefore we should integrate over valuations that are at most n times
player is bid. If agent i will be the winner then he will gain v  n1
n b when he bids b and
his valuation is v (given the rules of the revelation mechanism). The above is maximized
when
d
n  1 n  1 n1
(v 
b)(
b)
=0
db
n
n
n1 , i.e. when b = v.
Hence, the expected value is maximized when (n  1)vbn2 = n1
n nb
We therefore get that the safety-level strategy coincides in this case with the equilibrium
strategy. The expected payoff in equilibrium can be shown to be v n /n. The expected payoff
guaranteed by the above strategy will be

(

n  1 n1 1
v)
v
n
n

The ratio between the safety level value and the equilibrium value is therefore bounded
n
1
above by ( n1
n ) , which is greater or equal to e , and approaches it when the number of
players approaches infinity.
2
An interesting observation is that in the above theorem, the safety-level strategy is
identical to the equilibrium strategy. This connection occurs although the game is not a
0-sum game. It is interesting to observe that since we consider revelation mechanisms then
the safety-level strategy turns out to be independent of the number of participants. Our
result can also be obtained if we consider standard first-price auctions, rather than the
revelation mechanisms associated with them; nevertheless, this will require us to allow a
player to choose its action knowing the number of potential bidders (as in the corresponding
equilibrium analysis).

9. Discussion
Some previous work in AI has attempted to show the potential power of decision-theoretic
approaches that do not rely on classical game-theoretic analysis. In particular, work in theoretical computer science on competitive analysis has been extended to deal with rationality
constraints (Tennenholtz, 2001), in order to become applicable to multi-agent systems. We
376

fiCompetitive Safety Analysis

introduced competitive safety analysis, bridging the gap between the normative AI/CS approach and classical equilibrium analysis. We have shown that the observation, due to
Aumann, that safety-level strategies may yield the value of a Nash equilibrium in games
that are not zero-sum, provides a powerful normative tool for computer scientists and AI
researchers interested in protocols for non-cooperative environments. We have illustrated
the use and power of competitive safety analysis in various contexts. We have shown general
results about 2  2 games, as well as about games with many participants, and introduced
the use of competitive safety analysis in the context of decentralized load balancing, leader
election, and auctions. Notice that our work is concerned with a normative approach to
decision making in multi-agent systems. We make no claims as for the applicability of this
approach for descriptive purposes, i.e. for the prediction of how people will behave in the
corresponding situations. Although there exists much literature on the failure of Nash equilibrium, it is still the most powerful concept for action prediction in multi-agent systems.
The setting of decentralized load balancing discussed as part of this paper is central to game
theory and its applications.10 Given the importance of this setting from a CS perspective,
providing robust agent protocols for that setting is a major challenge to work in multiagent systems. In order however to build robust protocols, relying on standard equilibrium
analysis might not be satisfactory, and safety guarantees are required. Our work suggests
protocols and analysis for providing such guarantees, bridging the gap between classical
AI/decision-theoretic reasoning and equilibrium analysis in game theory.

Acknowledgements
This work has been carried out when the author was on a sabbatical leave with the computer
science department at Stanford university. A preliminary version of this paper appears in
the proceedings of AAAI-2002.

References
Aumann, R. (1985). On the non-transferable utility value: A comment on the Roth-Shaper
examples. Econometrica, 53 (3), 667677.
Borodin, A., & El-Yaniv, R. (1998). On-Line Computation and Competitive Analysis. Cambridge
University Press.
Fudenberg, D., & Tirole, J. (1991). Game Theory. MIT Press.
Koutsoupias, E., & Papadimitriou, C. (1999). Worst-Case Equilibria. In STACS.
Kraus, S. (1997). Negotiation and cooperation in multi-agent environments. Artificial Intelligence,
94, 7997.
Mas-Colell, A., Whinston, M., & Green, J. (1995). Microeconomic Theory. Oxford University Press.
Monderer, D., & L.S.Shapley (1996). Potential games. Games and Economic Behavior, 14, 124143.
Nisan, N., & Ronen, A. (1999). Algorithmic mechanism design. Proceedings of STOC-99.
10. See the literature on potential and congestion games, e.g. (Monderer & L.S.Shapley, 1996; Rosenthal,
1973).

377

fiTennenholtz

Rosenschein, J. S., & Zlotkin, G. (1994). Rules of Encounter. MIT Press.
Rosenthal, R. (1973). A class of games possessing pure-strategy nash equilibria. International
Journal of Game Theory, 2, 6567.
Roth, A. E. (1980). Values for games without side payments: Some difficulties with current concepts.
Econometrica, 48 (2), 457465.
Roughgarden, T. (2001). The price of anarchy is independent of the network topology. In Proceedings
of the 34th Annual ACM Symposium on the Theory of Computing, pp. 428437.
Roughgarden, T., & Tardos, E. (2002). How bad in selfish routing?. Journal of the ACM, 49 (2),
236259.
Russell, S., & Norvig, P. (1995). Artificial Intelligence: A Modern Approach. Prentice Hall.
Sandholm, T. W., & Lesser, V. (1995). Equilibrium Analysis of the Possibilities of Unenforced
Exchange in Multiagent Syustems. In Proc. 14th International Joint Conference on Artificial
Intelligence, pp. 694701.
Tennenholtz, M. (2001). Rational Competitive Analysis. In Proc. of the 17th International Joint
Conference on Artificial Intelligence, pp. 10671072.

378

fi