Journal of Artificial Intelligence Research 40 (2011) 25-56

Submitted 06/10; published 01/11

A Logical Study of Partial Entailment
Yi Zhou
Yan Zhang

yzhou@scm.uws.edu.au
yan@scm.uws.edu.au

Intelligent Systems Laboratory
School of Computing and Mathematics
University of Western Sydney, NSW, Australia

Abstract
We introduce a novel logical notionpartial entailmentto propositional logic. In contrast with classical entailment, that a formula P partially entails another formula Q with
respect to a background formula set  intuitively means that under the circumstance of ,
if P is true then some part of Q will also be true. We distinguish three different kinds
of partial entailments and formalize them by using an extended notion of prime implicant.
We study their semantic properties, which show that, surprisingly, partial entailments fail
for many simple inference rules. Then, we study the related computational properties,
which indicate that partial entailments are relatively difficult to be computed. Finally, we
consider a potential application of partial entailments in reasoning about rational agents.

1. Introduction
In standard propositional logic, classical entailment does not distinguish among the formulas
that do not entail another formula. For example, let x, y and z be three atoms. We have
that neither x nor z classically entails x  y. However, x seems intuitively closer to x  y
than z. The reason is that, x  y can be considered as the union of two parts x and y,
and x is exactly one of them. On the other hand, z is completely irrelevant to x  y.
This example motivates us to consider the notion of partial entailment. In comparison with classical entailment, partial entailment intends to capture the partial satisfaction
relationship between two formulas with respect to a background theory. In standard propositional logic, that a formula P entails another formula Q with respect to a formula set 
intuitively means that under the circumstance of , if P is true then Q will also be true. In
contrast, that a formula P partially entails another formula Q with respect to a formula set
 intuitively means that, under the circumstance of , if P is true then some part of Q
will also be true. Partial entailment is widely used in everyday life. For example, suppose
that a student Laura wants to get score HD on the subjects mathematics and physics in
the final examination. If she cannot achieve both of them, she could also be satisfied to
achieve just one of them. At least, it is better than achieving none.
Let us consider a further example. Suppose that the background formula set is empty
and the objective formula is x  y. Consider the following four formulas: x, x  z, x  y
and z. Clearly, none of these formulas classically entails x  y. However, x, x  z and x  y
entail x, which can be regarded as a part of x  y. In contrast, z is irrelevant to x  y. Thus,
one can conclude that, to some extent, x, x  z and x  y partially satisfy x  y while z
does not.
c
2011
AI Access Foundation. All rights reserved.

fiZhou & Zhang

One may observe that there exists some difference between x and x  z in partially
satisfying x  y. That is, x  z contains a new atom z, which is irrelevant to x  y. On
the other hand, x is exactly a part of x  y. In other words, x  z contains irrelevancy
(namely z) in partially satisfying x  y while x does not. Another observation is about
x  y. Although it entails x (a part of x  y), it also entails y, which contradicts to y
(also a part of x  y). In other words, x  y has some side effect (namely y) besides
partially satisfying x  y.
The background theory is crucial for partial entailment. As an example, consider z and
x  y again. Suppose that the background formula set is empty. In this case, z does not
partially satisfy x  y. If the background formula set turns into {z  x}, then z should
partially satisfy x  y since under the background theory, if z holds, then x holds as well.
Based on the above observations and intuitions, in this paper, we formalize the notion of partial entailment between two formulas with respect to a background theory in
a propositional language. Moreover, we distinguish three different kinds of partial entailments, namely weak partial entailment, partial entailment and strong partial entailment.
The intuitions of them are summarized in Table 1. Of course, all of them require partial
satisfaction between the two formulas. However, weak partial entailment may allow both
irrelevancies and side effects, whilst partial entailment prohibits side effects but still may
allow irrelevancies, and strong partial entailment is the strongest one that further prohibits
irrelevancies.
Table 1: Intuitions of partial entailments
weak partial entailment
partial entailment
strong partial entailment

partial satisfaction
yes
yes
yes

irrelevancy
allowed
allowed
no

side effect
allowed
no
no

This paper is organized as follows. In the next section, we formalize three different kinds
of partial entailments by using an extended notion of prime implicant, and discuss their
semantic properties. In Section 3, we focus on the computational complexities of decision
problems in relation to prime implicant and partial entailments, ranging from some special
cases to the most general case. We then compare the notion of partial entailments with
related notions in the AI literature in Section 4. In Section 5, we show how the notions of
partial entailments can be applied to formalize partial goal satisfaction in reasoning about
rational agents. Finally, we draw our conclusions in Section 6.

2. Partial Entailment
We restrict our discussions within a propositional language, denoted by L. Formulas in L
are composed recursively by a finite set Atom of atoms (also called variables) with {>, }
and standard connectives  and . The connectives , ,  are defined as usual. Literals
are atoms and their negations. We use lower case letters to denote atoms and literals, upper
case letters to denote formulas, lower Greek letters to denote literal sets, and upper Greek
26

fiA Logical Study of Partial Entailment

letters to denote formula sets respectively. We write l to denote the complementary literal
of a literal l,  to denote the set of complementary literals of all literals in . We write
Atom(l), Atom(P ), Atom() and Atom() to denote the sets of atoms occurring in literal
l, formula P , literal set  and formula set  respectively.
We say that a literal set  is an assignment over a set A of atoms (assignment for
short if A = Atom) if for each atom x  A, exactly one of x and x is in . Notice that
both a literal l and an assignment  can also be considered as formulas. For convenience,
henceforth, both l and  also denote their corresponding formulas if it is clear from the
context. The entailment relation |= and the notion of model are defined in the standard
way. A set of formulas is said to be consistent if it has at least one model, otherwise, it
is said to be inconsistent. A theory is a set of formulas closed under |=. Let  be a set of
formulas. The deductive closure of , denoted by T h(), is the minimal theory (in the sense
of set inclusion) containing . For convenience, we also use  itself to denote the theory
T h() if it is clear from the context.
We write P |l to denote the formula obtained from P by simultaneously replacing every
occurrence of x by > () if l is of the form x (x). If  is a consistent literal set (i.e.
6 x  Atom s.t. x   and x  ), and  = {l1 , l2 , ..., lk }, we write P | to denote the
formula (((P |l1 )|l2 )|...)|lk .
2.1 A Simple Case
We begin to define the notions of partial entailments between two formulas with respect
to a background formula set by considering a rather simple case. That is, both the two
formulas are consistent conjunctions of literals and the background formula set is assumed
to be empty.
Definition 1 Let  and  0 be two consistent sets of literals.
 We say that  weakly partially entails  0 if    0 6= .
 We say that  partially entails  0 if    0 6=  and    0 = .
 We say that  strongly partially entails  0 if      0 .
Definition 1 simply follows the intuitions presented in the introduction section (see
Table 1). In this simple case,  0 is a consistent set of literals. Thus, the parts of  0
can be regarded as all the elements (or subsets) of  0 . Recall our intuitive sense of partial
satisfaction. That is, if  holds, then some parts of  0 hold as well. This means that there
exists some part of  0 , which is a subset of . Clearly, this can be precisely captured by
   0 6= , which is exactly the definition of weak partial entailment in this simple case.
For partial entailment, we forbid side effects based on partial satisfaction. Again, since  0
is a consistent set of literals, the side effects of  0 can be regarded as all the complementary
literal of the elements (or subsets) of  0 . Hence, that  has no side effects to  0 means that 
does not mention the complementary literal of any elements (or subsets) of  0 . Clearly, this
can be precisely captured by    0 = , where  0 is the set of complementary literals of
all elements in  0 . Together with    0 6= , this forms the definition of partial entailment
in this simple case.
27

fiZhou & Zhang

Finally, consider strong partial entailment. We require additionally that there is no
irrelevancy. The irrelevancies of  0 can be considered as all those atoms (or literals) not
mentioned in  0 . Hence, that  has no irrelevancy to  0 means that there is no atom
(or literal) mentioned in  but not in  0 . Formally, this can be precisely captured by
Atom()  Atom( 0 ) (or    0 ). Whatever the case is, together with the two conditions
   0 6=  and    0 = , this is equivalent to    0 and  6= , which is the definition
of strong partial entailment in this simple case.
Example 1 Recall the example proposed in the introduction section. According to Definition 1, it is easy to check that x, x  y and x  z weakly partially entail x  y but z does
not; x and x  z partially entail x  y but x  y and z do not; only x strongly partially
entails x  y while x  y, x  z and z do not. The results coincide with our intuitions and
observations discussed in the introduction section.
Comparing weak partial entailment and partial entailment, one may observe that x  y
weakly partially entails xy but it does not partially entail xy. As discussed, this is because
y is a side effect to x  y. Comparing partial entailment and strong partial entailment,
one may observe that x  z partially entails x  y but it does not strongly partially entail
x  y. Again, this coincides with our discussions since z is an irrelevancy to x  y. 2
An interesting phenomenon is about the relationships between partial entailments and
classical entailment. In this simple case, it is easy to see that if  classically entails  0 ,
then  partially entails  0 . Also,  weakly partially entails  0 . This means that classical
entailment is a special case of (weak) partial entailment to some extent. However, this does
not hold for strong partial entailment. For instance, x  y classically entails x, but it does
not strongly partially entail x since y is an irrelevancy with respect to x.
At first glance, it seems that this result is strange in the sense that the term of partial
entailment should be a generalization of classical entailment. However, this does not mean
that classical entailment also prohibits side effects and irrelevancies. Thus, from the intuitive
sense, one can only conclude that classical entailment should be a special case of weak
partial entailment, but may be mutually different from partial entailment and strong partial
entailment. Interestingly, as we will show later, classical entailment indeed prohibits side
effects. This means that classical entailment is a special case of partial entailment as well.
However, classical entailment may allow irrelevancy (e.g., x  y classically entails x but y is
an irrelevancy to x). Hence, roughly speaking, classical entailment is a special case of both
partial entailment and weak partial entailment, but classical entailment and strong partial
entailment are mutually different.
Definition 1 gives a basic impression on the notions of partial entailments. In the
following, we consider to extend the three notions of partial entailments in a general sense,
in which the two formulas are arbitrary formulas and the background is an arbitrary set of
formulas.
2.2 Prime Implicant
In order to define partial entailments in general case, we use Quines notion of prime implicant (Quine, 1952), which has been widely used in many areas in logic and computer
28

fiA Logical Study of Partial Entailment

science. An excellent survey of prime implicant and its dual prime implicate is due to
Marquis (2000).
Roughly speaking, a prime implicant of a formula is a minimal set (in the sense of
set inclusion) of literals that entails this formula. The notion of prime implicant can be
relativized with respect to a background formula set as follows.
Definition 2 (Relativized prime implicant) A literal set  is a prime implicant of a
formula P with respect to a formula set  if:
1.    is consistent.
2.    |= P .
3. There does not exist a literal set  0   that satisfies the above two conditions.
The set of all prime implicants of P with respect to  is denoted by P I(, P ). For convenience, we omit  when it is empty.
Intuitively, a prime implicant of P w.r.t.  is a minimal set of information needed in
order to satisfy P under the circumstance of . Condition 1 requires that the set of information is feasible, i.e., it must be consistent with the background formula set. Condition
2 means that the set of information is an implicant, i.e., it is indeed powerful enough to
satisfy P w.r.t. . Finally, condition 3 requires that the set of information is prime, i.e.,
it is a minimal set of information for satisfying P w.r.t. .
Example 2 According to Definition 2, the only prime implicant of x  y is {x, y}, while
x  y has two prime implicants, namely {x} and {y}. The background formula set indeed
plays an important role. Clearly, x has a unique prime implicant {x}. However, {y} is also
a prime implicant of x with respect to the background formula set {y  x}. 2
It is well known that the relativized notion of prime implicant is similar to the notion of
logic-based abduction (Eiter & Gottlob, 1995; Selman & Levesque, 1990; Eiter & Makino,
2007). There are different characterizations of abduction in the literature. Here, we consider
one of the most well-studied forms (Selman & Levesque, 1990; Eiter & Makino, 2007).
Definition 3 (Selman & Levesque, 1990) Let  be a theory, F a formula and H a set
of literals. An (abductive) explanation of F with respect to H from  is a minimal set
  H such that:
1.    is consistent,
2.    |= F .
Following the above definitions, it can be observed that the relativized notion of prime
implicant and abduction can be simply transformed each other. More precisely, suppose
that  is a theory, F a formula and H a set of literals. Let Lit be the set of all literals in
the language. Then,  is a prime implicant of F w.r.t.  iff  is an abductive explanation of
F from  with respect to Lit. Conversely,  is an abductive explanation of F with respect
to H from  iff  is a prime implicant of F w.r.t.  and mentions literals only from H.
29

fiZhou & Zhang

Another closely related notion to prime implicant is its dual, called prime implicate,
which is also of interests in many areas as well. Roughly speaking, a prime implicate of a
propositional formula P is a minimal clause (i.e., disjunction of literals) entailed by P . It
is easy to see that the conjunction of a set  of literals is a prime implicant of a formula
P if and only if the disjunction of all the complementary literals of the elements in  is a
prime implicate of P . Prime implicate can also be relativized to a background formula
set as well (Marquis, 2000). We omit this definition since we are mainly focused on prime
implicant in this paper.
Many properties in relation to prime implicate were discussed and summarized by Marquis (2000). Not surprisingly, similar results hold for prime implicant as well. In the
following, we recall some of the important properties in relation to the relativized notion of
prime implicant, which will be used later in this paper.
Proposition 1 Let  be a finite set of formulas, P a formula and  a set of literals.  is a
V
prime implicant of P w.r.t.  iff    is consistent and  is a prime implicant of   P ,
V
where  is the conjunction of all formulas in .
Proposition 2 Let P be a formula,  a set of formulas and  a literal set such that   
is consistent and    |= P . Then there exists  0   such that  0 is a prime implicant of
P with respect to .
Proposition 3 Let P be a formula,  a formula set and  a literal set. If  is a prime
implicant of P w.r.t. , then there exists an assignment  0 such that    0 and  0 is a
model of both  and P .
Together with Proposition 2, Proposition 3 indicates the correspondence relationship
between all the models of P w.r.t.  and all the prime implicants of P w.r.t. . Suppose
that  is a model of P and is consistent with . Then, according to Proposition 2, there
exists a subset of , which is a prime implicant of P w.r.t. . Conversely, according to
Proposition 3, every prime implicant of P w.r.t.  can be extended to a model of both 
and P .
Proposition 4 Let P be a formula and  a set of formulas.  |= P if and only if
P I(, P ) = ;  |= P if and only if P I(, P ) = {}.
Proposition 5 Let P and Q be two formulas and  a set of formulas.  |= P  Q iff
P I(, P ) = P I(, Q).
To conclude, the prime implicants of a formula P w.r.t. a formula set  play two roles.
Cases: On one hand, if there exists an assignment  satisfying both  and P , then according
to Proposition 2, there exists a subset of  which is a prime implicant of P w.r.t. . On
the other hand, if  is a prime implicant of P w.r.t. , then according to Proposition
3, it can be extended to an assignment satisfying both  and P . This means that the
prime implicants of P w.r.t.  are corresponding to the possible worlds (assignments)
satisfying both  and P . Intuitively, they are corresponding to all the cases which
make P true w.r.t. , i.e., all the ways to achieve P under .
30

fiA Logical Study of Partial Entailment

Parts: Suppose that  is a prime implicant of P w.r.t.  and l is a literal in . Then,
   |= P and   \{l} 6|= P . As mentioned above,  can be considered as a way
(case) to achieve P w.r.t. . Then, intuitively, l plays an essential role for achieving
P w.r.t.  via . Without l,  is no longer a way to achieve P under . This shows
that all the elements in  are essential. In other words,  is a minimal way to achieve
P under , and none of the elements in  can be thrown away. Thus, these literals
can be considered as parts of P w.r.t. .
Both roles of prime implicants will be exploited by the notions of partial entailments
introduced in the following.
2.3 Definitions of Partial Entailments
Based on the notion of prime implicant, we formalize three kinds of partial entailments.
From the weakest to the strongest, they are weak partial entailment, partial entailment and
strong partial entailment respectively.
Definition 4 (Weak partial entailment) A formula P weakly partially entails a formula Q with respect to a formula set , denoted by P W
 Q, if:
1. P I(, P ) is not empty.
2. For each   P I(, P ), there exists  0  P I(, Q), such that    0 6= .
Definition 5 (Partial entailment) A formula P partially entails a formula Q with respect to a formula set , denoted by P  Q, if:
1. P I(, P ) is not empty.
2. For each   P I(, P ), there exists  0  P I(, Q), such that    0 6=  and    0 =
.
Definition 6 (Strong partial entailment) A formula P strongly partially entails a formula Q with respect to a formula set , denoted by P S Q, if:
1. P I(, P ) is not empty.
2. For each   P I(, P ), there exists  0  P I(, Q), such that      0 .
W
We write P 6W
 Q if it is not the case that P  Q, similar for partial entailment and
strong partial entailment. For convenience, we omit  when it is empty.
Clearly, these definitions are generalizations of Definition 1 proposed in Section 2.1 since
the unique prime implicant of a literal set is itself. Note that the only difference among
these definitions of partial entailments is indeed presented in Section 2.1 in the simple case.
Definitions 4-6 all require that for any literal set in P I(, P ), there exists some literal
set in P I(, Q) such that the two literal sets satisfy the same corresponding relationships
presented in Definition 1 respectively.
Let us take a closer look at condition 2 in Definition 4. Recall our intuitive sense of
partial satisfaction again, that is, if P is true under , then some parts of Q hold as well.

31

fiZhou & Zhang

As we discussed in Section 2.2, the prime implicants of P w.r.t.  represent all the cases
that make P true under . Also, the prime implicants of Q w.r.t.  can capture the idea
of part of Q under . Hence, condition 2 means that, intuitively, for all the cases that
P is true under  (captured by all the prime implicants of P w.r.t. ), there exists a
way to achieve Q under  (captured by a prime implicant of Q w.r.t. ), such that the
former partially satisfies the latter (reduced to the simple case in Definition 1). In addition,
condition 1 in Definition 4 ensures that there exists at least one such situation. The intuitive
senses of Definitions 5 and 6 can be explained in a similar way.
Example 3 Let the background theory  be {x  y, z  y}. Consider two formulas P =
(x  r)  (y  s) and Q = (x  z)  (x  y  s). The prime implicants of P w.r.t.  are
as follows: {x, r}, {y, s}, {r, s}, {z, s}, {y, r} and {x, s}. Notice that {y, r} is a prime
implicant of P w.r.t.  although the literal y even does not occur in P . On the other
hand, the prime implicants of Q w.r.t.  are as follows: {x, z}, {x, s} and {z, s}. Notice
that {x, y, s} is not a prime implicant of Q w.r.t.  since {x, s} is a subset of it and also
satisfies Q under .
According to the definitions, we have that P does not weakly partially entail Q w.r.t.
 since there is a prime implicant {y, r} of P w.r.t.  such that it has no intersection
with any of the prime implicants of Q w.r.t. . Also, P does not (strongly) partially entail
Q w.r.t.  either. Conversely, Q (weakly) partially entails P w.r.t. , whilst it does not
strongly partially entail P w.r.t. . 2
Note that there are other possible relations between two formulas w.r.t. a background
formula set by using the extended notion of prime implicant. In this paper, for defining
partial entailments, we use a  style definition in the sense that we require that for all
literal sets in P I(, P ), there exists a literal set in P I(, Q) such that the two literal
sets satisfy the conditions in Definition 1 respectively. Recall again the intuition of partial
entailments, which requires that in any cases, if P is true under the context of , then some
part of Q is true under the context of . This naturally suggests the  style definition for
the definitions of partial entailments (i.e. Definitions 4-6), where the -part captures all
the cases of achieving P under the context of , and the -part associates a possibility
of achieving Q under the context of  to the above case for P . In addition, the condition
item 2 in Definitions 4-6 ensures that, in this case, P partially achieves Q w.r.t.  via the
two literal sets.
The reason why we choose the  style definition for partial entailments can also be
explained analogously to classical entailment. Note that a formula P classically entails
another formula Q w.r.t. a background theory  iff for all models of P w.r.t. , it is also a
model of Q w.r.t. .
Certainly, there are other possible styles, including ,  and . For instance, the 
style definition in the weakest case should be: there exists   P I(, P ) such that for
all  0  P I(, Q),    0 6= . Although these definitions might be interesting and useful
elsewhere, they fail to capture the basic idea of partial satisfaction.
Example 4 Consider two formulas x  z and x  y. The former has two prime implicants,
namely {x} and {z}, while the latter has a unique prime implicant, namely {x, y}. If we
use the  style definition, we have x  z (weakly, strongly) partially entails x  y. However,
32

fiA Logical Study of Partial Entailment

this is not intuitive because {z} achieves x  z true but it is irrelevant to x  y. In other
words, the assignment {x, y, z} satisfies x  z but not x  y. Hence, there exists a case
that x  z is true but none of the parts of x  y is true.
Consider the formula x  y, which has two prime implicants, {x} and {y}. If we take the
 style definition or the  one, this formula does not (weakly, strongly) partially entail
itself. This is obviously not intuitive. 2
Another feasible direction of definitions is to switch the formulas P and Q. For instance,
the switched- style definition in the weakest case is: for all   P I(, Q), there exists
some  0  P I(, P ) such that  0 6= . This definition, and the corresponding switched-,
 and  style definitions, fail to capture the basic idea of partial satisfaction either. Again,
recall the intuition of partial entailments. That is, if P is true (under the context of ), then
some part of Q is true as well (under the context of ). Similar to classical entailment, this
naturally suggests the order of P and Q for the definitions of partial entailments. Also, the
switched- (switched-) style definition is the same as the  () style definition. As
shown in Example 4, they are not suitable for defining the notions of partial entailments. To
understand why the switched- style and the switched- style definitions fail for capturing
partial entailments, let us consider the following example.
Example 5 Consider two formulas x  y and x. The former has two prime implicants,
namely {x, y} and {x, y}, while the latter has a unique prime implicant, namely {x}. If
we take the switched- style definition, we have x  y (weakly, strongly) partially entails
x. However, this is not intuitive because {x, y} achieves x  y but it also achieves x.
Hence, there exists a case that x  y is true but x is false.
Again, consider the formula x  y. It has two prime implicants, namely {x} and {y}.
Intuitively, this formula should (weakly, strongly) partially entail itself. However, this is not
the case if we apply the switched- style definition. 2
One of the fundamental properties is the relationships among three notions of partial
entailments. The following proposition shows that weak partial entailment is weaker than
partial entailment, which is further weaker than strong partial entailment. However, by
observations from Example 1, the converses do not hold in general.
Proposition 6 (Basic relationships among partial entailments) Let P , Q be two formulas and  a formula set. If P S Q, then P  Q; if P  Q, then P W
 Q.
It is worth mentioning that, in the definitions of partial entailments, P I(, P ) is required
not to be empty to exclude the case when P is inconsistent with the background theory
. The underlying intuition is that partial entailments require real connections between
the two formulas w.r.t. the background theory. Let us take a closer look at item 2 in the
definitions. The basic idea of partial entailments is that for each prime implicant of P w.r.t.
, there exists a prime implicant of Q w.r.t.  such that the two literal sets satisfy that,
for instance, their intersection are not empty. In other words, P partially entails Q w.r.t.
 via these two literal sets. However, item 2 does not exclude the case where there is no
prime implicant of P w.r.t. . In this case, item 2 still holds. However, we cannot say that
P partially entails Q w.r.t.  via the two literal sets now because the two literals sets do
33

fiZhou & Zhang

not exist at all. Hence, we require an additional item 1 to make sure that P I(, P ) is not
empty.
Then, for any formulas P inconsistent with , P does not (weakly, strongly) partially
entail any formula Q. Also, for any formulas P entailed by , P does not (weakly, strongly)
partially entail any formula Q. However, the reasons of these two cases are different. For
the former, the reason is that P I(, P ) is empty (see Proposition 4), thus P is excluded by
item 1 in the definitions. For the latter, the reason is that P I(, P ) = {} (see Proposition
4 again), thus the prime implicant of P w.r.t.  has no intersections with other prime
implicants. We say that a formula P is trivial with respect to a background formula set  if
 |= P or  |= P . Otherwise, we say that P is nontrivial with respect to . The following
proposition shows that a trivial formula can neither (weakly, strongly) partially entail any
formula, nor they can be (weakly, strongly) partially entailed by any formulas.
Proposition 7 (Non-Triviality) Let  be a formula set and P and Q two formulas. If
P is trivial w.r.t. , then P 6 Q and Q 6 P . This assertion holds for weak partial
entailment and strong partial entailment as well.
Proposition 8 (Extension of Classical Entailment) Let  be a formula set and P and
Q two formulas nontrivial w.r.t. . If  |= P  Q, then P  Q. Also, P W
 Q.
Proposition 8 shows that partial entailment is an extension of classical entailment if only
considering nontrivial formulas, so is weak partial entailment. The converses do not hold.
As a simple example, x (weakly) partially entails x  y but x does not classically entail x  y.
Note that strong partial entailment and classical entailment are mutually different. For
example, x  y classically entails x but x  y does not strongly partially entail x. Conversely,
x strongly partially entails xy but x does not classically entail xy. As we demonstrated in
Section 2.1, the reason is that strong partial entailment prohibits irrelevancy whilst classical
entailment does not.
In addition, strong partial entailment captures the notion of part in a broader sense.
In other words, if a formula P strongly partially entails a formula Q with respect to a
background formula set , then P can be considered as a part of Q w.r.t. . In this
sense, it also explains why classical entailment does not necessarily imply strong partial
entailment. However, this explanation seems to suggest the other way around. That is, if
P strongly partially entails Q w.r.t.  (i.e., P is a part of Q w.r.t. ), then Q classically
entails P w.r.t. . In fact, this is not the case either. For example, x strongly partially
entails (x  y)  (y  z), but (x  y)  (y  z) does not classically entails x. The reason here
is that a formula may contain disjunctive information. If restricted into the simple case
discussed in Section 2.1, this is indeed the case. That is, given two consistent literal sets 
and  0 ,  strongly partially entails  0 if and only if  0 classically entails .
2.4 More Semantic Properties
In this subsection, we extensively study some semantic properties in relation to all three
kinds of partial entailments. The reasons why we are interested in these properties are
twofold. Firstly, they provide deeper understandings of how partial entailments work. As
we will see later, surprisingly, many simple inference rules fail for partial entailments. Secondly, these properties illustrate some similarities/differences among three kinds of partial
34

fiA Logical Study of Partial Entailment

entailments, as well as the similarities/differences between partial entailments and classical
entailment.
We consider a collection of inference rules. Some of them are considered to be important
in many kinds of philosophical logics and knowledge representation logics, others are likely
to hold for partial entailments. Let  and 0 be two sets of formulas, P , Q and R formulas
and x and y atoms. In this subsection, we assume that all formulas are nontrivial w.r.t.
the background theory.1 Here, we use > to denote any kinds of partial entailments with
respect to . The inferences rules we considered are listed as follows:
Ref: (Reflexivity) P > P , meaning that a formula partially entails itself w.r.t. any background theory.
LE: (Left Equivalence) If  |= P  R and P > Q, then R > Q, meaning that if two
formulas are equivalent under the background theory, then they play the same role in
partial entailments on the left side.
RE: (Right Equivalence) If  |= Q  R and P > Q, then P > R, meaning that if two
formulas are equivalent under the background theory, then they play the same role in
partial entailments on the right side.
BE: (Background theory Equivalence) If  |= 0 and 0 |= , then P > Q iff P >0 Q,
meaning that if two background theories are equivalent, then they play the same role
in partial entailments.
Rev: (Relevancy) If P > Q, then Atom(P )  Atom(Q) 6= , meaning that if one formula
partially entails another w.r.t. the empty background theory, then the atom sets used
in the two formulas respectively must not be disjoint.
Tran: (Transitivity) If P > Q and Q > R, then P > R, meaning that partial entailment
relation among formulas is an ordering on the propositional language.
AS: (Atom Substitution) If P > Q, then P (x/y) > Q(x/y),2 meaning that any atoms
in a partial entailment relation can be replaced by other atoms.
LO: (Left Or) If P > Q and R > Q, then P R > Q, meaning that if both two formulas
partially entail another one, then their disjunction should partially entails the formula
as well.
LS: (Left Strengthening) If  |= P  R and R > Q, then P > Q, meaning that if a
formula partially entails another, then a formula strengthened by the former should
partially entail the latter as well.
RA: (Right And) If P > Q and P > R, then P > R  Q, meaning that if two
formulas are both partially entailed by another formula, then their conjunction should
be partially entailed by the formula as well.
1. This is because trivial formulas are not interesting for partial entailments (see Proposition 7).
2. Here, P (x/y) is the formula obtained from P by simultaneously replacing every occurrence of atom x by
y, similar for Q(x/y).

35

fiZhou & Zhang

Table 2: Properties of partial entailments
Ref
LE
RE
BE
Rev
* Tran
As
LO
* LS
RA
RO
Mono
LN
RN

weak partial entailment
yes
yes
yes
yes
yes
no
no
no
yes
no
no
no
no
no

partial entailment
yes
yes
yes
yes
yes
no
no
no
no
no
no
no
no
no

strong partial entailment
yes
yes
yes
yes
yes
yes
no
no
no
no
no
no
no
no

RO: (Right Or) If P > Q, then P > Q  R, meaning that if a formula partially entails
another, then it should partially entail the disjunction of the latter formula with any
formulas.
Mono: (Monotonicity) If 0 |=  and P > Q, then P >0 Q, meaning that adding more
information into the background theory preserves partial entailment relations.
LN: (Left Negation) If P > Q, then P 6> Q, meaning that it is impossible that both a
formula and its negation partially entail another formula.
RN: (Right Negation) If P > Q, then P 6> Q, meaning that it is impossible that both
a formula and its negation can be partially entailed by another formula.
Suppose that we define the relation > between P and Q as classical entailment, i.e.,
 |= P  Q. Then, it satisfies all the inference rules proposed above. However, the following
proposition shows that partial entailments fail for many of them.
Proposition 9 Table 2 summarizes whether all three kinds of partial entailments satisfy
the inference rules considered above.
Table 2 illustrates some similarities and differences among all three kinds of partial
entailments. They have the same results for most of these inference rules. However, Transitivity (Tran) and Left Strengthening (LS) (highlighted by the  symbol in Table 2) are
two exceptions. Transitivity (Tran) holds for strong partial entailment but not for partial
entailment and weak partial entailment. Left Strengthening (LS) holds for weak partial
entailment but not for partial entailment and strong partial entailment. Finally, both weak
36

fiA Logical Study of Partial Entailment

partial entailment and partial entailment are extensions of classical entailment in the sense
considered in Proposition 8, while strong partial entailment is not.
Also, Table 2 illustrates some similarities and differences between partial entailments
and classical entailment. As we mentioned above, all these inference rules hold for classical
entailment. However, this is not the case for partial entailments. This means that partial
entailments actually behave quite different from classical entailment. Among these inference
rules, Transitivity is an important one. It does not hold for partial entailment and weak
partial entailment since they allow irrelevancies. Nevertheless, Transitivity holds for strong
partial entailment. However, strong partial entailment is even more dissimilar to classical
entailment since they are mutually different.
Table 2 also indicates that it is not easy to capture the properties of the notions of
partial entailments due to the fact that they fail most of the simple inference rules (see
Table 2). Meanwhile, some properties, (e.g. Tran, LN and RN), may seem to be intuitive
for partial entailments. However, it turns out that they do not hold in general according to
the formal definitions.
Certainly, one can consider other inference rules, for instance, Contraposition. That is,
if P > Q, then Q  P . One can check that Contraposition does not hold for all three
kinds of partial entailments either.
2.5 Discussions
One may doubt whether partial entailments can be directly captured within classical propositional logic. For example, one may define partial entailment as follows. A formula P
partially entails a formula Q w.r.t. a formula set  iff there exists a formula R such that
  {R} 6|= Q but   {P, R} |= Q. However, this definition cannot capture partial satisfaction. In fact, for every formula P such that  6|= P  Q, there always exists such a formula
V
R (Let R be  P Q). Even if we restrict R with consistent literal sets, this definition
does not capture partial satisfaction either. For instance, x  y should partially entail x  y
according to this definition since (x  y)  y |= x  y. However, this conclusion is counterintuitive. As an alternative possibility, since P partially entails Q intuitively means that
P entails some parts of Q, one may define partial entailment as: a formula P partially
entails a formula Q iff there exists Q0 and Q00 such that |= Q  Q0  Q00 , Q00 6|= Q0 and
P |= Q0 . However, this definition fails to capture the essence of partial entailment either.
For instance, according to this definition, x partially entails y since |= y  (xy)(xy),
x  y 6|= x  y, and x |= x  y.
According to the definitions of partial entailments, x (weakly, strongly) partially entails
both x  y and x  y. One may conclude that this result indicates that conjunction and
disjunction play a similar role in partial entailments. However, this is not the case. In this
example, the reasons why x partially entails x  y and why x partially entails x  y are
completely different. In the former case, the reason is that x is a part of x  y, while in the
latter case, the reason is that x classically entails x  y. In fact, conjunction and disjunction
play totally different roles in partial entailments. For instance, x  y partially entails x,
while x  y does not. More examples can be easily found.
37

fiZhou & Zhang

Another evidence to illustrate the differences between conjunction and disjunction is to
consider another special case of partial entailments by restricting the formulas to clauses,
i.e., disjunction of literals, and assuming the background theory to be empty.
Proposition 10 Let  and  0 be two non-valid clauses (i.e., disjunctions of two consistent
sets of literals). The following statements are equivalent.
1.  is a subset of  0 if they are represented as two sets of literals.
2.  classically entails  0 .
3.  weakly partially entails  0 .
4.  partially entails  0 .
5.  strongly partially entails  0 .
Proposition 10 states that under this setting, classical entailment and all three kinds of
partial entailments coincide. Compared Proposition 10 to Definition 1, disjunction and
conjunction are quite different in partial entailments.
As we mentioned earlier, the Substitution principle does not hold for all three kinds of
partial entailments in general. This means that, in partial entailments, the atoms indeed
play a different role with formulas. For instance, x (weakly, strongly) partially entails x  y.
However, it is not necessary the case that P partially entails P  Q. This shows a difference
between partial entailments and classical entailment due to the fact that the Substitution
principle holds for standard propositional logic.

3. Complexity Analysis
In this section, we analyze the complexity issues in relation to the extended notion of prime
implicant and all three kinds of partial entailments. We assume that readers are familiar
with some basic notions of computational complexity. More details can be found in the
textbook by Papadimitriou (1994).
Here, we briefly recall some complexity classes. DP is a widely used complexity class,
which contains all languages L such that L = L1  L2 , where L1 is in NP and L2 is in coNP.
The polynomial hierarchy is defined recursively as follows:
P0 := P0 := P0 := P,
P

Pi+1 := P i , i  0,
P

Pi+1 := N P i , i  0,
P

Pi+1 := coN P i , i  0.
P

For instance, P3 = P 2 is the complexity class of all languages that are recognizable in
polynomial time by a deterministic Turing Machine equipped with a P2 oracle. In particular, P3 [O(log n)] is a subset of the P3 by restricting the uses of the oracle within logarithmical times. Gottlob (1995) showed that the complexity classes P3 and P3 [O(log n)]
38

fiA Logical Study of Partial Entailment

coincide with so-called P2 -dag and P2 -tree respectively. Intuitively, a P2 -dag is an acyclic
directed graph of dependent queries to P2 oracles. The nodes are queries whilst the edges
represent the dependency relationships among nodes. A P2 -tree is a P2 -dag that is a tree.
We mainly investigate the following decision problems, both in the most general case
and in some restricted cases:
PRIC(, P, ) : (Prime Implicant Checking) to determine whether a literal set  is a prime
implicant of a formula P w.r.t. a formula set .
LEPR(, P, l) : (Literal Existence in Prime Implicants) to determine whether a literal l is in
at least one prime implicant of a formula P w.r.t. a formula set .
LAPR(, P, l) : (Literal in All Prime Implicants) to determine whether a literal l is in all
prime implicants of a formula P w.r.t. a formula set .
WPE(, P, Q) : (Weak Partial Entailment) to determine whether P weakly partially entails Q
w.r.t. .
PE(, P, Q) : (Partial Entailment) to determine whether P partially entails Q w.r.t. .
SPE(, P, Q) : (Strong Partial Entailment) to determine whether P strongly partially entails
Q w.r.t. .
For convenience, we omit  when it is empty.
The first three decision problems are concerned with the relativized notion of prime
implicant, while the others are concerned with the notions of partial entailments. The main
focuses in this paper are of course the latter ones, while the former ones are needed as the
intermediate steps.
Note that some of the complexity results related to prime implicant can be found in or
followed by existing results in the literature (see more details in Appendix). For instance, as
shown by Marquis (2000) (Propositions 3.27 and 3.32), checking whether a literal set (with
or without background theory) is a prime implicate of a formula is DP complete. Another
result comes from Proposition 10 by Lang et al. (2003) that checking whether a literal is
in at least one prime implicant of a formula is NP complete. Also, as a consequence of the
correspondence between prime implicant and abduction, many complexity results related
to abduction can be borrowed for studying prime implicant. For instance, as shown in the
Appendix, checking whether a literal l is in one of the prime implicants of F with respect
to  is exactly the task of relevance checking in abduction.
However, as the main focus of this paper, partial entailments are defined upon prime
implicant (i.e. abduction). Although existing results conclude some of the computational
complexity results related to prime implicant, they do not reveal too much information
about the complexities of partial entailments.
3.1 Empty Background Theory
We start our complexity analysis when the background formula set  is empty. The following
proposition shows the complexity results in relation to prime implicant when the background
theory is empty. As mentioned above, the first two results follow by existing results in the
literature.
39

fiZhou & Zhang

Proposition 11 The computational complexities in relation to prime implicant with empty
background theory are summarized in Table 3.

Table 3: Complexity results for prime implicant: empty background theory
PRIC(P, )
LEPR(P, l)
LAPR(P, l)

DP complete
NP complete
DP complete

Based on the computational analysis on prime implicant, the following proposition
presents a complete result for the complexity results in relation to all three kinds of partial
entailments when the background theory is empty.3
Proposition 12 The computational complexities in relation to partial entailments with
empty background theory are summarized in Table 4. Here, l is a literal,  is a set of
literals and P and Q are formulas.

Table 4: Complexity results for partial entailments: empty background theory
(l, P )
(P, l)
(, P )
(P, )
(P, Q)

NP
DP
NP
DP
P2

WPE
complete
complete
complete
complete
complete

NP
DP
NP
DP
P2

PE
complete
complete
complete
complete
complete

SPE
NP complete
coNP complete
P2 complete
coNP complete
P3 complete

Let us take a closer look at Table 4. First of all, it shows that it is not an easy task
to compute the notions of partial entailments, even when the background theory is empty.
For instance, to check whether a formula (weakly) partially entails another formula is at
the second level of polynomial hierarchy. More surprisingly, this task for strong partial
entailment is even more difficult, which is at the third level of polynomial hierarchy.
Also, from Table 4, one can conclude that the computational complexities increase when
the forms of formulas become more complicated. For instance, checking whether a literal
strongly partially entails a formula is NP complete. When extending the literal to a literal
set, this becomes P2 complete. The task further turns into P3 complete when extending the
antecedent to an arbitrary formula. Interestingly, for weak partial entailment and partial
entailment, no matter considering partially entailing a formula or partially entailed by a
formula, turning a literal to a literal set does not increase the complexity. However, for
3. Clearly, if both the antecedent and the consequent are restricted to literal sets, then the corresponding
decision problems in relation to all three kinds of partial entailments can be solved in linear time.

40

fiA Logical Study of Partial Entailment

strong partial entailment, this is the case for partially entailed by a formula but not for
partially entailing a formula.
Finally, it can be observed that, when the background theory is empty, weak partial
entailment and partial entailment have the same computational complexities, while strong
partial entailment acts differently. Interestingly, based on some basic assumptions in the
complexity theory, checking strong partial entailment relationship is sometimes easier than
the rest two (e.g. compare SPE(P, ) and PE(P, )), but sometimes more difficult (e.g.
compare SPE(P, Q) and PE(P, Q)).
In some application scenarios, the background theory is simply a set of facts, which can
be represented as a set of literals. Hence, we are interested in the computational complexities
for this special case. As we shall see later, this is much simpler than the general case when
the background theory is an arbitrary set of formulas.
The following proposition indicates that, fortunately, turning the background formula
set into a literal set does not increase the computational complexities for all three kinds of
partial entailments.
Proposition 13 All the complexity results in Tables 3 and 4 remain the same if the background theory is a set of literals.
3.2 General Background Theory
Finally, we face to the general case, in which the background theory is an arbitrary formula
set. We only consider the general cases of all the six decision problems. One reason is that
the background theory is a general setting already. Another reason is that, even for a single
literal, there might exist many different prime implicants of it with respect to an arbitrary
background theory.
Proposition 14 The computational complexities in relation to partial entailments in general case are summarized in Table 5.4

Table 5: Complexity results: general case
PRIC(, P, )
LEPR(, P, l)
LAPR(, P, l)
WPE(, P, Q)
PE(, P, Q)
SPE(, P, Q)

empty 
DP complete
NP complete
DP complete
P2 complete
P2 complete
P3 complete

arbitrary 
DP complete
P2 complete
P2 complete
in P3 [O(log n)]/ P2 hard/ P2 hard
in P3 / P2 hard/ P2 hard
P3 complete

According to Table 5, the complexities of prime implicant checking and strong partial
entailment checking remain the same when allowing arbitrary background theory, while the
4. Here, we also present the corresponding computational complexity results when the background theory
is empty in order to compare them directly.

41

fiZhou & Zhang

complexities increase for the other decision problems. For instance, checking whether a
literal is in one (or all) prime implicant(s) of a formula increases from NP complete (DP
complete, resp.) to P2 complete (P2 complete, resp.) when the background theory turns
into an arbitrary one. Also, the complexities of checking weak partial entailment and partial
entailment in general case increase a little because these two problems are both P2 and
P2 hard. However, the corresponding complexity for strong partial entailment remains the
same since it is already P3 hard in the special case when the background theory is empty.
As shown in Table 5, WPE(, P, Q) and PE(, P, Q) are both P2 hard and P2 hard. This
shows that they are neither P2 complete nor P2 complete based on some basic assumptions
in the complexity theory. We conjecture that WPE(, P, Q) is P3 [O(log n)] complete and
PE(, P, Q) is P3 complete. However, to verify this, more advanced techniques, e.g. the
raising technique proposed by Liberatore (2007), are needed.

4. Related Work
In section 2, we discussed the relationships between partial entailments and classical entailment. Here, we further consider the relationships between partial entailments and other
related notions in the literature, including the family of notions of relevance and their relatives, such as formula-variable independence (Boutilier, 1994; Lang et al., 2003), relevance
between formulas (Lakemeyer, 1995, 1997), novelty (Marquis, 1991) and probabilistic positive relevance (Zhou & Chen, 2006), and partial satisfaction of a formula (Lieberherr &
Specker, 1981; Kappeli & Scheder, 2007).
4.1 Formula-Variable Independence
Lang et al. (2003) defined a notion of formula-variable independence between a formula
and a set of atoms. Roughly speaking, a formula is independent to a set of atoms if the
formula can be rewritten to another one that mentions no atoms from the set of atoms.
Definition 7 (Lang et al., 2003) A formula F is variable-independent to a set V of
variables iff there exists a formula G such that |= F  G and Atom(G)  V = .
Also, Lang et al. proved that variable-independence coincides with the notions of influenceability introduced by Boutilier (1994) and relevance of a formula to a set of atoms
introduced by Lakemeyer (1997).
As shown by Lang et al. (2003), the notion of formula-variable independence can be
reformulated by prime implicant. Here, we show that it can be reformulated by weak partial
entailment as well.
Proposition 15 Let F be a formula and V a set of atoms. The following statements are
equivalent:
1. F is variable-independent to V .
2. For all literals l in V  V , l is not in any prime implicants of F .
3. For all literals l in V  V , l does not weakly partially entail F .
42

fiA Logical Study of Partial Entailment

4.2 Other Forms of Relevance
Lakemeyer also introduced other forms of relevance as well, including strict relevance, explanatory relevance and relevance between two subject matters (Lakemeyer, 1997).
Definition 8 (Lakemeyer, 1997) A formula F is strictly relevant to a set V of atoms
iff every prime implicate of F contains at least one atom from V .
The following proposition shows that strict relevance can be reformulated by prime
implicant and weak partial entailment as well.
Proposition 16 Let F be a formula and V = {x1 , . . . , xn } a set of atoms. The following
statements are equivalent.
1. F is strictly relevant to V .
2. F weakly partially entails (x1  . . .  xn )  (x1  . . .  xn ).
Definition 9 (Lakemeyer, 1997) A formula F is explanatory relevant to a set V of
atoms w.r.t. a formula set  iff there exists a minimal abductive explanation of F w.r.t. 
that mentions a variable from V .
The definition of explanatory relevance can be reformulated by prime implicant. That
is, F is explanatory relevant to V w.r.t.  iff there exists l  V  V such that l is in at
least one of the prime implicants of F w.r.t. .
4.3 Relevance between Formulas
As pointed out by Lakemeyer (1997), it is interesting to consider relevance between formulas
with respect to a background theory. Here, we propose a definition of relevance between
two formulas with respect to a background theory by using prime implicant.
Definition 10 A formula P is relevant to a formula Q with respect to a formula set  iff
there exists a prime implicant  of P w.r.t.  and a prime implicant  0 of Q w.r.t.  such
that    0 6=  .
Definition 10 looks very similar to the definition of weak partial entailment (See Definition 4). The major difference between these two definitions is that weak partial entailment
is defined by a  style, whilst relevance is defined by an  style. More precisely, in the
former, we require that for all prime implicants of P w.r.t. , there exists a prime
implicant of Q w.r.t.  such that their intersection is not empty. However, in the latter,
we require that there exists a prime implicant of P w.r.t.  and there exists a prime
implicant of Q w.r.t.  satisfying the same condition.
However, weak partial entailment can serve as a strict notion of relevance between two
formulas with respect to a background theory. That is, a formula P is strictly relevant to
another formula Q with respect to a formula set  if and only if P weakly partially entails
Q w.r.t. . Clearly, this strict version of relevance between formulas w.r.t. to a background
theory based on weak partial entailment implies the normal one defined in Definition 10,
but the converse does not hold in general.
43

fiZhou & Zhang

4.4 Novelty and Novelty-Based Independence
The notion of novelty (Marquis, 1991) is defined between two formulas with respect to a
formula set as well.
Definition 11 (Marquis, 1991) A formula P is new positive (new negative) to another
formula Q with respect to a formula set  iff there exists a prime implicant  of Q (Q)
with respect to   {P }, which is not a prime implicant of Q (Q) with respect to .
In addition, a notion of independence, namely novelty-based independence (also known
as separability, see Levesque, 1998), between two formulas is defined based on novelty (Lang,
Liberatore, & Marquis, 2002).
Definition 12 (Lang et al., 2002) Two formulas P and Q are (novelty-based) independent iff P is not new negative to Q w.r.t. >.
Intuitively, that P is new to Q w.r.t.  means that adding new information P to
the background theory  has some influences on Q or Q. Although novelty and partial
entailments are both defined by using the notion of prime implicant, they are essentially
different. For instance, (non)novelty-based independence satisfies Symmetry. That is, if
P is (non)novelty-based independent to Q, then Q is (non)novelty-based independent to
P . However, (weak, strong) partial entailment does not satisfy Symmetry. For instance,
x (weakly, strongly) partially satisfies x  y, but the converse does not hold. As another
example, x  y (weakly, strongly) partially entails x  y. However, x  y is not new positive
(negative) to x  y. Also, x  y is new positive (negative) to x. However, x  y does not
(weakly, strongly) partially entail x.
4.5 Probabilistic Positive Relevance
Another approach to formalize a certain kind of usefulness is probabilistic positive relevance
(Zhou & Chen, 2006), which is based on probability distributions. The basic idea of positive relevance is: a formula P is positive relevant to another formula Q with respect to a
background formula set  iff for all probability distributions P r, P r(Q|{P })  P r(Q|).
Although positive relevance looks similar to partial entailments, and probability distribution is highly related to prime implicant (Lang et al., 2002), the underlying intuition
and the semantic properties of positive relevance and partial entailments are quite different.
For instance, according to the definition of positive relevance by Zhou and Chen (2006),
x  y is positive relevant to x. However, x  y does not (weakly, strongly) partially entail
x. Generally speaking, in positive relevance (defined based on probability distributions),
Symmetry holds. That is, P is positive relevant to Q w.r.t.  if and only if Q is positive
relevant to P w.r.t. . However, this does not hold for any kinds of partial entailments.
4.6 Partial Satisfaction of a CNF
The term partial satisfaction is also used for satisfaction of a subset of a set of clauses
(Lieberherr & Specker, 1981; Kappeli & Scheder, 2007). A CNF formula (i.e. a conjunction
of clauses) is said to be k-satisfiable if every subformula of it containing at most k clauses
is satisfiable.
44

fiA Logical Study of Partial Entailment

Although the term partial satisfaction is used for both k-satisfaction and partial entailments, it represents different intuitive meanings. For the former, part means a subset
of a formula (i.e. the set of clauses), while for the latter, it means a subset of a prime implicant of a formula. Hence, partial entailments and k-satisfaction are basically irrelevant.
Moreover, k-satisfaction is only concerned with a particular (CNF) formula, while partial
entailments are concerned with the relationship between two formulas (w.r.t. a background
theory).

5. Partial Goal Satisfaction
In traditional logic based approach of rational agency, the agents always try to find actions
to completely achieve their goals. If not successful, the agents would choose to wait and
do nothing. This idea is usually formalized by using classical entailment. However, it is not
always the case that the agents can find out such a perfect action (think about the real world
that we live in). Under the situation, it is sometimes useful for the agents to do something
towards their goals rather than just waiting, in which those actions partially satisfying
the agents goal should be rational candidates. Here, partial entailments may serve as a
logic foundation.
Example 6 Let us consider an example. Suppose that Laura wants to have milk and cereal
as her breakfast. However, there are only three choices available on the breakfast menu.
Choice1 Only milk is offered.
Choice2 Milk and bread are offered.
Choice3 Only bread is offered.
Due to the current information, none of these choices completely satisfies Lauras goal.
Then, what should she do? 2
Here, we argue that, under this circumstance, it is also rational for the agents to choose
those actions partially achieving their goal according to their belief, as there is no action
completely achieving the goal.
It is important to allow those actions partially achieving the agents goal to be rational
candidates. First of all, the rationality of performing those actions is solid since they
make the goal closer for the agents and there is nothing better to do. Hence, choosing
those actions useful to the agents goal is more reasonable than just waiting. Also, the
environment is dynamic in nature. In some cases, if the agents do not choose those actions
partially achieving their goal, it might lose the chance to achieve the goal forever. This
frequently happens in everyday life when we cannot seize the opportunities.
We formalize partial achievement between actions and goals under the agents belief
by using the notion of partial entailments proposed in Section 2. This is natural since
partial entailments precisely capture the partial satisfaction relations between two formulas
with respect to a background theory. To apply partial entailments to formalize partial goal
satisfaction, we treat the background theory as the agents belief, the consequent as the
agents goal and the antecedent as the consequences of the action. One obstacle is how to
45

fiZhou & Zhang

represent actions and their consequences. Here, to address this issue, we simply use triples
in Hoare logic to represent actions.5
Again, we restrict our discussions within a propositional language. The goal and the
belief of agents are represented as a propositional formula and a set of propositional formulas
respectively. An action  is a triple hP re(), , P ost()i, where  is a label called the body of
the action, and P re() and P ost() are two propositional formulas called the precondition
and postcondition of the action respectively. Next, we show how the traditional idea of
complete goal satisfaction and our idea of partial goal satisfaction can be formalized under
this setting.
Definition 13 (Complete goal satisfaction) Let  be an agents belief and G the agents
goal. Let A be a set of candidate actions. An action   A completely achieves the agents
goal G according to its belief  iff:
1.  |= P re().
2.   {P ost()} is consistent.
3.  |= P ost()  G.
Definition 13 means that if the agents belief satisfies the precondition of an action and
it believes that the postcondition of the action entails its goal, then this action completely
achieves its goal under the belief. Partial goal satisfaction is formalized in a similar way
except that partial entailments are used instead of classical entailment.
Definition 14 (Partial goal satisfaction) Let  be an agents belief and G the agents
goal. Let A be a set of candidate actions. An action   A (weakly, strongly) partially
achieves the agents goal G according to its belief  iff:
1.  |= P re().
S
2. P ost()(W
 ,  )  G.

Definition 14 means that if the agents belief satisfies the precondition of an action and
it believes that the postcondition of the action partially entails its goal, then this action
partially achieves its goal under the belief.
Example 7 Consider Example 6 proposed previously. To formalize this example, we use x,
y and z to represent having milk, having cereal and having bread respectively. Then,
Lauras belief is empty since there is no background knowledge; her goal can be represented
as x  y; the preconditions of the three actions to take the three choices respectively are
empty as well and can be represented as >, while the postcondition of the three cases can
be represented as x, x  z and z respectively. According to Definition 13, none of the three
actions completely achieves the goal x  y. However, according to Definition 14, to take
Choice1 and Choice2 (weakly) partially achieve the goal. In particular, to take Choice1
strongly partially achieves the goal, whilst to take Choice3 does not partially achieve the
goal in any sense. 2
5. Here, we only use a simple action theory to demonstrate how the notion of partial entailments can be
used for formalizing partial goal satisfaction. The problems of how to represent actions for agents in
general and how to deal with the frame problem is out of the scope of this paper.

46

fiA Logical Study of Partial Entailment

A problem arises which kind of partial goal satisfaction is rational for the agents. At first
glance, it seems that partial entailment is more appropriate for this purpose. Weak partial
entailment may contain side effects that are not acceptable, whilst strong partial entailment
are too strict that some powerful actions are excluded. However, we believe it is better to
leave this to the agent designers. One may choose different kinds of partial goal satisfaction
in different application domains, e.g., strong partial entailment if both irrelevancies and
side effects are crucial issues, or partial entailment if side effects are unacceptable but
irrelevancies are not, or weak partial entailment in looser cases.
It is worth mentioning that partial goal satisfaction only proposes one possible solution
for dealing with the situations that the agents cannot find a plan to completely achieve
their goal. It is neither the only solution nor necessarily perfectly rational. In some such
situations, the actions achieving some parts of the agents goal may lose its chances to
achieve other parts, which might be unacceptable for the agents.
Also, the actions partially achieving the agents goal are only rational candidates but
not compulsory. It is quite different between the fact that an action is a rational candidate
and that the agents really choose to perform it. Partial goal satisfaction only explains the
rationality of those actions partially achieving the goals. The problem of which particular
action should be chosen to perform among all the actions partially achieving the agents
goal is another research topic and is beyond the scope of this paper.
Another approach for handling these situations is to explicitly represent the agents full
preferences among all combinations of goals. For instance, in Example 6, Laura may have
the following full preferences among all candidate goals:
{M ilk, Cereal} > {M ilk} > {Cereal} > {},
where > represents the preference relation. If Lauras original goal (i.e. M ilk  Cereal)
cannot be achieved, then she intends to achieve the second best candidate goal (i.e. M ilk)
according to her preference. It can be observed that partial goal satisfaction is not always
consistent with the full preference approach, for instance, if the above preference of Laura
turns into {M ilk, Cereal} > {} > {M ilk} > {Cereal}. Although sharing some similarities,
these two approaches are essentially different. First of all, full preference requires additional
information, while partial goal satisfaction does not. Moreover, it is expensive to represent
the full preference of agents. Since the number of possible combinations of goals are exponential with respect to the size of goals, to represent a full preference requires double
exponential number of new information. Last but not least, it is usually difficult to obtain
the full preferences of agents. Hence, we believe that both the full preference approach
and the partial goal satisfaction approach have their own advantages and disadvantages for
dealing with the situations when there is no perfect actions to achieve the agents goal.
The idea of partial satisfaction of goals has been discussed elsewhere in the AI literature
(Haddawy & Hanks, 1992; Smith, 2004; Do, Benton, van den Briel, & Kambhampati, 2007).
One approach is so called partial satisfaction planning (Smith, 2004; Do et al., 2007). In
partial satisfaction planning, agents find plans, instead of completely achieving their goals,
that partially achieve their goals. Since the agents goals in AI planning, particularly in
STRIPS-like planning, are usually represented as conjunctions of small pieces of subgoals,
it can be formalized as finding plans that achieve subsets of those subgoals. In fact, this
is a special case of partial entailments in the sense that partial entailment is dealing with
47

fiZhou & Zhang

arbitrary propositional formulas. Another approach is due to Haddawy and Hanks (1992).
In their approach, the agents goals are represented as groups of candidate goals and each
of them is associated with a real number between [0, 1] to represent the degree of chances
of satisfying a goal. A plan satisfying a candidate goal with number 1 is full satisfaction
while a plan satisfying a candidate goal with a number between (0, 1) (e.g., 0.5) is partial
satisfaction. There are several differences between this approach and partial entailments.
Firstly, in partial entailments, the objective formula is represented by a single formula
instead of a set of candidate variations. Secondly, numerical degree of satisfaction is not
introduced in partial entailments. Finally, in partial entailments, the partial satisfaction
relationships come from the internal structures of formulas.
Finally, we would like to mention that the application scenario discussed here for partial
entailments is reasoning about rational agents but not classical AI planning, e.g. STRIPS.
The main reason is that the agents goal and beliefs are formalized by literal sets rather than
arbitrary formulas in STRIPS planning, but the main focus of this paper is to introduce the
notions of partial entailments to propositional logic in general. Nevertheless, since checking
partial entailments when restricted the antecedent, the consequent and the background
theory all to be literal sets can be done in linear time, it is interesting to apply partial
entailments in AI planning. We would like to leave this as our future investigations.

6. Concluding Remarks
In this paper, we introduced a new logical notionpartial entailmentto propositional logic.
We distinguished three different kinds of partial entailments (See Table 1) based on the
notion of prime implicant. From the weakest to strongest, they are weak partial entailment,
partial entailment and strong partial entailment respectively. We then investigated the
semantic properties of partial entailments (See Table 2). The results demonstrate that the
properties of partial entailments are difficult to be captured since many simple inference
rules do not hold. We also investigated the computational complexity of partial entailments
(See Tables 4 and 5). The complexity results are surprising and interesting. For instance,
checking strong partial entailment is P3 complete, even when the background theory is
empty. This indicates that although the definitions of partial entailments look simple, it is
not easy to compute them.
We showed that the notions of partial entailments can serve as a foundation of formalizing partial goal satisfaction in reasoning about rational agents. Another potential application scenario, mentioned in our previous work (Zhou, van der Torre, & Zhang, 2008),
is goal weakening by using strong partial entailment. When an agent needs to modify its
goal, it can choose a weakened one that strongly partially entails the original goal with
respect to the agents belief. This is because strong partial entailment preserves some of
the important parts of the original goal. However, more sophisticated work are needed to
develop such a goal weakening framework. Also, as mentioned previously, it is interesting
to apply partial entailments in AI planning, where all formulas are syntactically restricted
so that the computation task of partial entailment may become easier.
Another direction of future work lies in computing partial entailments. Of course, an
important task is to develop an algorithm directly for this purpose. However, an alternative
48

fiA Logical Study of Partial Entailment

approach is to identify some tractable subclasses for checking partial entailments since the
general complexities are relatively high.

Acknowledgments
Some preliminary results of this paper were published (Zhou & Chen, 2004; Zhou et al.,
2008). We are grateful to Xiaoping Chen and Leon van der Torre for their inspirations
and contributions on these works. We are also grateful to Jerome Lang for his valuable
comments on an earlier draft of this paper, and we would like to thank the anonymous
reviewers for their valuable comments as well. The authors were partially supported by an
Australian Research Council (ARC) Discovery Projects grant (DP0988396).

Appendix A. Selected Proofs6
Proposition 8 (Extension of Classical Entailment) Let  be a formula set and P and
Q two formulas nontrivial w.r.t. . If  |= P  Q, then P  Q. Also, P W
 Q.
Proof: We first prove that P  Q. Let  be a prime implicant of P w.r.t. . We have
that    |= P . Since  |= P  Q, we have that    |= Q. By Proposition 2, there
is a subset  0 of  such that  0 is a prime implicant of Q w.r.t. . Thus  0  . Due to
non-triviality of P and Q,    0 6=  and    0 = . This shows that P  Q.
According to Proposition 6, P W
 Q. 2

Proposition 9 Table 2 summarizes whether all three kinds of partial entailments satisfy
the inference rules considered above.
Proof: Here, we only give the proofs or counterexamples of some of the results.
For Relevancy, according to Definition 5, there exists   P I(P ) and  0  P I(Q) such
that  0 6= . Therefore, Atom()Atom( 0 ) 6= . It follows that Atom(P )Atom(Q) 6= 
since Atom()  Atom(P ) and Atom( 0 )  Atom(Q). Similar for weak partial entailment
and strong partial entailment.
For Transitivity of strong partial entailment, let  be a prime implicant of P w.r.t. .
Since P S Q, there exists a literal set 1 consistent with  such that 1  P I(, Q) and
  1 . Moreover, since Q S R, there exists a literal set 2 consistent with  such that
2  P I(, R) and 1  2 . Hence,   2 . This shows that P S R.
Note that Transitivity does not hold for either partial entailment or weak partial entailment. For instance, x  x  y and x  y  y, but x 6 y. Similarly, x W x  y and
x  y W y, but x 6W y. The reason why partial entailment and weak partial entailment
fail transitivity is that they allow irrelevancies. In the above example, although x  y partially entails y, it contains x, which is irrelevant to y, and it is exactly the reason why x
partially entails x  y.
6. We only present some of the proofs here. The others are relatively simple, and can be found in our full
version, available at http://www.scm.uws.edu.au/~yzhou/papers/partial-entailment-full-version.pdf .

49

fiZhou & Zhang

For Left Strengthening of weak partial entailment, let  be a prime implicant of P w.r.t.
. Then,    |= P . It follows that    |= R since  |= P  R. By Proposition 2, there
is a subset 1 of , which is a prime implicant of R w.r.t. . Moreover, R W
 Q. Then,
there exists a prime implicant 2 of Q w.r.t.  such that 1  2 6= . Thus,   2 6= .
This shows that P W
 Q.
Note that Left Strengthening does not hold for either partial entailment or strong partial
entailment. For example, we have that x S x  y and x  x  y, but x  y 6S x  y and
x  y 6 x  y. The reason why strong partial entailment and partial entailment fail Left
Strengthening is that they prohibit side effects since the strengthening part on the left side
could be side effect to the right side, e.g., y in the above example.
Both Left Negation and Right Negation do not hold for all three kinds of partial entailments. As an example, both x and x (weakly, strongly) partially entail x  y. Meanwhile,
x (weakly, strongly) partially entails both x  y and (x  y). 2

Proposition 11 The computational complexities in relation to prime implicant are summarized in Table 3.
Proof: The first result can be proved similarly to Proposition 3.27 in the work of Marquis
(2000), and the second one follows directly from Proposition 10 in the work of Lang et al.
(2003). For the last result, it is easy to prove that l occurs in all prime implicants of P iff
P can be satisfied and |= P  l. It immediately proves the membership of this assertion.
Hardness follows from the fact that P is satisfiable and Q is unsatisfiable iff x is in all prime
implicants of (x  P )  (x  Q), where x is a new atom. 2

Proposition 12 The computational complexities in relation to partial entailments with
empty background theory are summarized in Table 4. Here, l is a literal,  is a set of
literals and P and Q are formulas.
Proof: For the membership of WPE(, P), let  = {l1 , ..., lk }. Then  weakly partially entails
P if and only if there exists li , 1  i  k such that li is in one of the prime implicant of P .
By Proposition 11, this problem is in NP.
For the membership of PE(, P), we first prove that a literal set  partially entails a
formula P iff there is an assignment 1 over Atom\Atom() and an assignment 2 over
Atom() such that   1 |= P and 1  2 |= P . : By Definition 5, there is a
prime implicant  0 of P such that    0 6=  and    0 = . Let l   0  . Then
 0 \{l}  {l} 6|= P . It can be extended to an assignment 0 over Atom, which satisfies
P . Let 1  0 and Atom(1 ) = Atom\Atom(); let 2  0 and Atom(2 ) = Atom().
Clearly,   1 |= P and 1  2 |= P . : By Proposition 2, there is a prime implicant
 0 of P such that  0    1 . It follows that  0   6=  and  0   = . Hence, 
partially entails P . Hence, the following algorithm determines whether  partially entails
P : 1. simultaneously guess two literal sets 1 and 2 ; 2. check whether 1 and 2 together
with  satisfy the above conditions. Step 2 can be done in polynomial time. Therefore,
PE(, P) in NP.
50

fiA Logical Study of Partial Entailment

For SPE(, P), membership is easily shown by the following algorithm: 1. guess a consistent literal set  0 ; 2. check whether  0 is a prime implicant of P ; 3. if yes, check whether
 is a subset of  0 . By Proposition 11, step 2 requires an N P oracle. Hence, this problem is
in P2 . For hardness, we construct a reduction from 2  QBF . Let X and Y be two disjoint
sets of atoms and P a formula such that Atom(P )  X  Y . Let Y = {y1 , y2 , ..., yk }; T1 be
y1  ...  yk ; T2 be y1  ...  yk ; x and y be two new atoms different with X  Y ; Q be
(xy P )(xy T1 )(xy T2 ). We now prove that XY P holds if and only if xy
strongly partially entails Q. Suppose that XY P holds. Then, there exists an assignment
0 over X such that 0 |= P . By Proposition 2, there exists 1  0 such that 1 is a
prime implicant of P . Therefore, {x, y}  1 |= Q. In addition, {x}  1 6|= Q. Otherwise,
{x}  1 |= (x  y  P )  (x  y  T1 )  (x  y  T2 ). It follows that {x}  1 |= y  T1 , a
contradiction. Symmetrically, {y}  1 6|= Q. Moreover, for all l  1 , {x, y}  1 \{l} 6|= Q
since 1 is a prime implicant of P . This shows that {x, y}  1 is a prime implicant of Q.
Hence, x  y strongly partially entails Q. On the other hand, suppose that x  y strongly
partially entails Q. Then, there exists a prime implicant of Q including both x and y.
Let it be {x, y}  1 . Therefore 1 |= P . We have 1 6|= T1 . Otherwise, {x}  1 |= Q.
This shows that {x, y}  1 is not a prime implicant of Q, a contradiction. Symmetrically,
1 6|= T2 . This shows that Atom(1 )  X. Moreover, {x, y}  1 |= Q. It follows that
{x, y}  1 |= x  y  P . Therefore 1 |= P . Let 0 be an assignment over X such that
1  0 . Then, 0 |= P . This shows that XY P holds.
For membership of WPE(P, ), P weakly partially entails  iff a) P is satisfiable, and b)
for all assignments 1 over Atom\Atom(), 1   6|= P , which is equivalent to  |= P .
To prove this, suppose that P weakly partially entails . Then, P is satisfiable. Now assume
that there exists 1 such that 1   |= P . By Proposition 2, there exists 2  1  
such that 2 is a prime implicant of P . However, 2   = , a contradiction. On the other
hand, suppose that the above three conditions hold. Then, for all prime implicants 1 of
P , 1   6= . Otherwise, 1   can be extended to an assignment 2 over Atom such
that 2 |= P . However,   2 , a contradiction. Hence, WPE(P, ) is in DP.
For membership of PE(P, ), let  = {l1 , . . . , ln }. Then, P partially entails  iff for all
prime implicant  0 of P , a)  0   = , and b)  0   6=  iff a) for all i, (1  i  n), li
is not in any of the prime implicants of P , and b) P weakly partially entails . Hence, by
Proposition 11 and the above result for weak partial entailment, this problem is in DP .
For membership of SPE(P, ), let  = {l1 , . . . , ln }, Atom(P )\Atom() = {x1 , . . ., xm }.
P strongly partially entails  iff all the prime implicants of P are subsets of  iff for all
i, (1  i  n), li is not in any prime implicants of P and for all j, (1  j  m), xj (xj )
is not in any prime implicants of P . By Proposition 11, this problem is in coNP.
For WPE(P, Q), membership can be shown by the following algorithm, which determines
whether P does not weakly partially entail Q: 1. guess a consistent literal set ; 2. check
whether  is a prime implicant of P ; 3. if yes, check whether  does not weakly partially
entail Q. By Proposition 11 and the above case for WPE(, P), steps 2 and 3 require an N P
oracle. Hence, this problem is in P2 . For hardness, we construct a reduction from 2QBF .
Let X and Y be two disjoint sets of atoms and P a formula such that Atom(P )  X  Y .
Let Y = {y1 , y2 , ..., yk }. Formula T is (y1  ...  yk )  (y1  ...  yk ). We prove that
XY P holds if and only if P does not weakly partially entail T . Suppose that XY P
holds. Then, there exists an assignment 1 over X such that 1 |= P . By Proposition
51

fiZhou & Zhang

2, there exists a prime implicant 2 of P such that 2  1 . Clearly, there is no prime
implicant 3 of T such that 2  3 6= . On the other hand, suppose that P does not
weakly partially entail T . Then, there exists a prime implicant 1 of P such that for all
prime implicants 2 of T , 1  2 = . It follows that Atom(1 )  X. Then, 1 can be
extended to an assignment 3 over X such that 3 |= P . Hence, XY P holds.
For PE(P, Q), membership can be shown by the following algorithm, which determines
whether P does not partially entail Q: 1. guess a consistent literal set ; 2. check whether
 is a prime implicant of P ; 3. if yes, check whether  does not partially entail Q. By
Proposition 11 and the above case for PE(, P), steps 2 and 3 require an N P oracle. Hence,
this problem is in P2 . For hardness, we construct a reduction from 2  QBF . Let X
and Y be two disjoint sets of atoms and P a formula such that Atom(P )  X  Y . Let
X = {x1 , x2 , ..., xk }; X 0 = {x01 , x02 , ..., x0k } be k new atoms different with Atom. Formula K
is (x1  x01 )  (x2  x02 )  ...  (xk  x0k ). We prove that XY P holds if and only if x  K
partially entails x  P , where x is a new atom. Notice that all the prime implicants of K
have the form    0 , where  ( 0 ) is an assignment over X (X 0 ) and for all i, (1  i  k),
xi   iff x0i   0 (xi   iff x0i   0 ). Now suppose that x  K partially entails x  P .
Then, for all assignments 0 over X, {x}  0  00 partially entails x  P . Therefore, there
exists an assignment 1 over Y such that {x}  0  00  1 |= x  P . It follows that
0  1 |= P . This shows that XY P holds. On the other hand, suppose that XY P
holds. Then, for all assignments 0 over X, there exists an assignment 1 over Y , such
that 0  1 |= P . Therefore, for all prime implicants {x}  0  00 of x  K, there exists
an assignment 1 over Y such that {x}  0  00  1 |= x  P . Moreover, there exists an
assignment 2 = {x}  0  00 over {x}  X  X 0 , such that 2  1 |= (x  P ). Hence,
x  K partially entails x  P .
Finally for SPE(P, Q), membership can be shown by the following algorithm, which determines whether P does not strongly partially entail Q: 1. guess a consistent literal set
; 2. check whether  is a prime implicant of P ; 3. if yes, check whether  doesnt
strongly partially entails Q. By Proposition 11, step 2 requires an N P oracle; by the
above case for SPE(, P), step 3 requires a P2 oracle. Hence, this problem is in P3 .
For hardness, we construct a reduction from 3  QBF . Let X, Y and Z be three disjoint sets of atoms and P a formula such that Atom(P )  X  Y  Z. Suppose that
X = {x1 , x2 , ..., xk }. Let X 0 = {x01 , x02 , ..., x0k } be k new atoms. Let K be the formula
(x1  x01 )  (x2  x02 )  ...  (xk  x0k ). Suppose that Z = {z1 , z2 , ..., zk }. Let T1 be
z1  ...  zk and T2 be z1  ...  zk respectively. Let R be the formula x  y  K and Q be
the formula (x  y  P  K)  (x  y  T1  K)  (x  y  T2  K) respectively, where x and
y are two new atoms. Next, we will prove that XY ZP holds if and only if R strongly
partially entails Q. The proof is tedious. On the one hand, suppose that XY ZP holds.
Given a prime implicant of R of the form {x, y}     0 , where  is an assignment over
X and  0 is a corresponding assignment over X 0 . Then, there exists an assignment 1 over
Y such that   1 |= P . Therefore, {x, y}     0  1 |= x  y  P  K. It follows that
{x, y}     0  1 |= Q. By Proposition 2, there exists a subset 2 of {x, y}     0  1 ,
which is a prime implicant of Q. We have that x  2 . Otherwise, {y}     0  1 |= Q.
Therefore {y}     0  1 |= x  T2 , a contradiction. Symmetrically, y  2 . Moreover,
for each atom l     0 , we have that l  2 since 2 |= K. Therefore {x, y}     0  2 .
This shows that for all prime implicants of R, there exists a prime implicant of Q such that
52

fiA Logical Study of Partial Entailment

the former is a subset of the latter. Hence, R strongly partially entails Q. On the other
hand, suppose that R strongly partially entails Q. Notice that for all assignments  over
X, {x, y}     0 is a prime implicant of R. Therefore, there is a prime implicant of Q
that contains {x, y}     0 . Let it be {x, y}     0  1 , where Atom(1 )  Y  Z.
Therefore,   1 |= P . We have that 1 6|= T1 . Otherwise, {x}     0  1 |= Q, a
contradiction. Symmetrically, 1 6|= T2 . This shows that Atom(1 )  Y . Thus, 1 can be
extended to an assignment 2 over Y . We have that {x, y}     0  2 |= Q. Therefore
{x, y}     0  2 |= x  y  P  K. Hence,   2 |= P . This shows that for all assignments
 over X, there exists an assignment 2 over Y , such that   2 |= P . That is, XY ZP
holds. 2
Proposition 13 All the complexity results in Tables 3 and 4 remain the same if the background theory is a set of literals.
Proof: This assertion follows directly from the following fact:
Suppose that P is a formula and  is a consistent set of literals. Then, P I(, P ) =
P I(P |).
On one hand, suppose that 1  P I(, P ). Then, according to the definition, 1   is
consistent and 1   |= P . We have that Atom(1 )  Atom() = . Otherwise, suppose
that l  Atom(1 )  Atom(), then 1  \{l} |= P . Also, 1  \{l} is consistent. This
shows that 1 is not a prime implicant of P w.r.t. , a contradiction. Moreover, 1  |= P .
It follows that 1 |= P |. In addition, there does not exist 2  1 such that 2 |= P |.
Otherwise, 2   |= P and 2   is consistent. This shows that 1 is not a prime implicant
of P w.r.t. , a contradiction. Hence, 1 is a prime implicant of P |. On the other hand,
suppose that 1 is a prime implicant of P |. Then, Atom(1 )  Atom() is empty since
Atom(P |)  Atom() is empty. In addition, 1   |= P since 1 |= P |. Thus, 1  
is consistent. Moreover, there does not exist 2  1 such that 2   |= P . Otherwise,
2 |= P |. This shows that 1 is not a prime implicant of P |, a contradiction. Hence, 1
is a prime implicant of P w.r.t. . 2
Proposition 14 The computational complexities in relation to partial entailment in general
case are summarized in Table 5.
Proof: The DP completeness for PRIC(, P, ) follows directly from Proposition 1 and the
DP completeness for PRIC(P, ). This can also be proved in a similar way to the techniques
introduced by Marquis (2000) for proving the DP completeness for the corresponding decision problem of prime implicate (see Marquis, 2000, Proposition 3.36).
For LEPR(, P, l), the membership is easy by guessing a literal set  and checking if l  
and   P I(, P ). For hardness, it can be shown that XY P iff x is in one of the elements
in P I(, F ), where  = {(x  P  (y1      yk ))}, F = x  P  (y1      yk )  x 
(y1      yk ), where x is a new atom. The proof is tedious. We only outline the basic
ideas as follows.
x is in one of the elements of P I(, F )
53

fiZhou & Zhang

iff
V
V
V
 , x  ,  6|=  ,  |=   F and  0  ,  0 6|=   F .
iff
V
V
V
 1 , 1  {x} 6|=  , 1  {x} |=    F and 1 6|=    F . (Notice that 1  {x}
is not necessarily the same as  mentioned above.)
iff
V
V
V
 1 , 1 6|= ( )|x, 1 |= ( )|x  F |x and 1 6|= ( )|x  F |x.
iff
 1 , 1 6|= P  (y1      yk ), 1 |= P and 1 6|= y1      yk .
iff
XY P holds. In fact, the hardness result also follows from the P2 completeness of checking
relevance in abductive reasoning (see Eiter & Gottlob, 1995, Thm. 4.11).
For LAPR(, P, l), the membership can be shown by the following algorithm, which determines whether l is not in all prime implicants of P w.r.t. : 1. guess a literal set ;
2. check if  is a prime implicant of P w.r.t. ; 3. if yes, check if l is not in . According to the above result for prime implicant checking, this problem is in P2 . Thus,
the original problem is in P2 . For harness, we can prove it in a similar way to the
above proof for the P2 hardness of LEPR(, P, l). Indeed, one can prove that XY P
iff x is in one of the elements of P I(, F ), where  = {(x  z  P  (y1      yk ))},
F = x  z  P  (y1      yk )  x  z  (y1      yk ), where x and z are two new
atoms. Moreover, x is in one of the elements of P I(, F ) iff x is not in all of the elements
in P I(, F ) since every element in P I(, F ) contains either x or x. This shows that determining whether a literal is not in all prime implicants of a formula w.r.t. a formula set
is P2 hard. It follows that LAPR(, P, l) is P2 hard.
For WPE(, P, Q), the P2 hardness follows directly from Proposition 12. The P2 hardness
can be implied from the hardness proof of the P2 hardness of LEPR(, P, l) by noticing that
the only prime implicant of x w.r.t.  is {x} itself. For the membership, let us first consider
the following algorithm, which determines whether P does not weakly partially entail Q
w.r.t. : 1. compute all the literals which occur at least in one of the prime implicants of Q
w.r.t. ; 2. check whether there is a prime implicant of P w.r.t. , which does not contain
any of the literals computed in step 1. According to above result for the P2 hardness of
LEPR(, P, l), step 1 requires linear calls to a P2 oracle. In addition, step 2 requires only
one recall to a P2 oracle based on the results obtained in step 1. To do this, we just need
to guess a consistent literal set, and to check if it is a prime implicant of P w.r.t.  and
contains no literals computed from step 1. This algorithm can be converted to a P2 -tree, in
which the root is corresponding to the P2 call for step 2, and its children are corresponding
to the linear P2 calls in step 1 for computing those literals. Thus, according the P2 -tree
techniques introduced by Gottlob (1995), WPE(, P, Q) is in P3 [O(log n)].
For PE(, P, Q), both the P2 hardness and the P2 hardness can be shown in a similar
way to the corresponding tasks for weak partial entailment. For membership, the following
algorithm determines whether there exists a prime implicant  0 of Q w.r.t. , such that
   0 =  or    0 6= : 1. guess such a literal set  0 ; 2. check if  0 is a prime implicant
of Q w.r.t. ; 3. check if  and  0 satisfy the conditions. According to the above result for
prime implicant checking, step 2 requires calls to an NP oracle. Thus, the above decision
problem is in P2 . Based on this result, the following algorithm determines whether P does
54

fiA Logical Study of Partial Entailment

not partially entail Q w.r.t. : 1. guess a literal set ; 2. check if  is a prime implicant of
P w.r.t. ; 3. check if there exists a prime implicant  0 of Q w.r.t.  such that    0 = 
or    0 6= . It is easy to see that this problem is in P3 . Thus, the original problem is
in P3 .
Finally, for SPE(, P, Q), hardness follows directly from Proposition 12, while membership
can be shown in a similar way to the membership of the same task for partial entailment.
2

References
Boutilier, C. (1994). Toward a logic for qualitative decision theory. In Proceedings of KR94,
pp. 7586.
Do, M. B., Benton, J., van den Briel, M., & Kambhampati, S. (2007). Planning with goal
utility dependencies.. In Proceedings of IJCAI07, pp. 18721878.
Eiter, T., & Gottlob, G. (1995). The complexity of logic-based abduction. Journal of the
ACM, 42 (1), 342.
Eiter, T., & Makino, K. (2007). On computing all abductive explanations from a propositional horn theory. Journal of the ACM, 54 (5).
Gottlob, G. (1995). NP trees and Carnaps modal logic. Journal of the ACM, 42 (2),
421457.
Haddawy, P., & Hanks, S. (1992). Representations for decision-theoretic planning: Utility
functions for deadline goals. In Proceedings of KR92, pp. 7182.
Kappeli, C., & Scheder, D. (2007). Partial satisfaction of k-satisfiable formulas. Electronic
Notes in Discrete Mathematics, 29, 497501.
Lakemeyer, G. (1995). A logical account of relevance.. In Proceedings of IJCAI95, pp.
853861.
Lakemeyer, G. (1997). Relevance from an epistemic perspective. Artificial Intelligence,
97 (1-2), 137167.
Lang, J., Liberatore, P., & Marquis, P. (2002). Conditional independence in propositional
logic. Artificial Intelligence, 141 (1/2), 79121.
Lang, J., Liberatore, P., & Marquis, P. (2003). Propositional independence: Formulavariable independence and forgetting. Journal of Artificial Intelligence Research, 18,
391443.
Levesque, H. J. (1998). A completeness result for reasoning with incomplete first-order
knowledge bases. In Proceedings of KR98, pp. 1423.
Liberatore, P. (2007). Raising a hardness result. CoRR, abs/0708.4170.
Lieberherr, K. J., & Specker, E. (1981). Complexity of partial satisfaction. Journal of the
ACM, 28 (2), 411421.
Marquis, P. (1991). Novelty revisited. In Proceedings of ISMIS91, pp. 550559.
55

fiZhou & Zhang

Marquis, P. (2000). Consequence finding algorithms. In Kohlas, J., & Moral, S. (Eds.),
Handbook of Defeasible Reasoning and Uncertainty Management Systems, Volume 5:
Algorithms for Uncertainty and Defeasible Reasoning, pp. 41145. Kluwer, Dordrecht.
Papadimitriou, C. H. (1994). Computational Complexity. Addison-Wesley.
Quine, W. (1952). The problem of simplifying truth functions. American Mathematical
Monthly, 59 (8), 521531.
Selman, B., & Levesque, H. J. (1990). Abductive and default reasoning: A computational
core. In AAAI, pp. 343348.
Smith, D. E. (2004). Choosing objectives in over-subscription planning.. In Proceedings of
ICAPS04, pp. 393401.
Zhou, Y., & Chen, X. (2004). Partial implication semantics for desirable propositions.. In
Proceedings of KR04, pp. 606612.
Zhou, Y., & Chen, X. (2006). Toward formalizing usefulness in propositional language.. In
Proceedings of KSEM06, LNAI 4092, pp. 650661.
Zhou, Y., van der Torre, L., & Zhang, Y. (2008). Partial goal satisfaction and goal change:
weak and strong partial implication, logical properties, complexity. In Proceedings of
AAMAS08, pp. 413420.

56

fi