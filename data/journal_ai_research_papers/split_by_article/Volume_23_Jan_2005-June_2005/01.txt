Journal of Artificial Intelligence Research 23 (2005) 4178

Submitted 07/04; published 01/05

Research Note
Extremal Behaviour in Multiagent Contract Negotiation
Paul E. Dunne

ped@csc.liv.ac.uk

Department of Computer Science
The University of Liverpool, Liverpool, UK

Abstract
We examine properties of a model of resource allocation in which several agents exchange resources in order to optimise their individual holdings. The schemes discussed relate to well-known negotiation protocols proposed in earlier work and we consider a number
of alternative notions of rationality covering both quantitative measures, e.g. cooperative
and individual rationality and more qualitative forms, e.g. Pigou-Dalton transfers. While
it is known that imposing particular rationality and structural restrictions may result in
some reallocations of the resource set becoming unrealisable, in this paper we address the
issue of the number of restricted rational deals that may be required to implement a particular reallocation when it is possible to do so. We construct examples showing that this
number may be exponential (in the number of resources m), even when all of the agent
utility functions are monotonic. We further show that k agents may achieve in a single
deal a reallocation requiring exponentially many rational deals if at most k  1 agents can
participate, this same reallocation being unrealisable by any sequences of rational deals in
which at most k  2 agents are involved.

1. Introduction
Mechanisms for negotiating allocation of resources within a group of agents form an important body of work within the study of multiagent systems. Typical abstract models
derive from game-theoretic perspectives in economics and among the issues that have been
addressed are strategies that agents use to obtain a particular subset of the resources available, e.g. (Kraus, 2001; Rosenschein & Zlotkin, 1994; Sandholm, 1999), and protocols by
which the process of settling upon some allocation of resources among the agents involved is
agreed, e.g. (Dignum & Greaves, 2000; Dunne, 2003; Dunne & McBurney, 2003; McBurney
et al., 2002).
The setting we are concerned with is encapsulated in the following definition.
Definition 1 A resource allocation setting is defined by a triple hA, R, Ui where
A = {A1 , A2 , . . . , An }

;

R = {r1 , r2 , . . . , rm }

are, respectively, a set of (at least two) agents and a collection of (non-shareable) resources.
A utility function, u, is a mapping from subsets of R to rational values. Each agent Ai  A
has associated with it a particular utility function ui , so that U is hu1 , u2 , . . . , un i. An
allocation P of R to A is a partition hP1 , P2 , . . . , Pn i of R. The value ui (Pi ) is called
the utility of the resources assigned to Ai . A utility function, u, is monotone if whenever
S  T it holds that u(S )  u(T ), i.e. the value assigned by u to any set of resources, T ,
is never less than the value u attaches to any subset, S of T .
c
2005
AI Access Foundation. All rights reserved.

fiDunne

Two major applications in which the abstract view of Definition 1 has been exploited are
e-commerce and distributed task realisation. In the first R represents some collection of
commodities offered for sale and individual agents seek to acquire a subset of these, the
value an agent attaches to a specific set being described by that agents utility function.
In task planning, the resource set describes a collection of sub-tasks to be performed in
order to realise some complex task, e.g. the complex task may be to transport goods
from a central warehouse to some set of cities. In this example R describes the locations
to which goods must be dispatched and a given allocation defines those places to which an
agent must arrange deliveries. The utility functions in such cases model the cost an agent
associates with carrying out its alloted sub-tasks.
Within the very general context of Definition 1, a number of issues arise stemming from
the observation that it is unlikely that some initial allocation will be seen as satisfactory
either with respect to the views of all agents in the system or with respect to divers global
considerations. Thus, by proposing changes to the initial assignment individual agents
seek to obtain a better allocation. This scenario raises two immediate questions: how to
evaluate a given partition and thus have a basis for forming improved or optimal allocations;
and, the issue underlying the main results of this paper, what restrictions should be imposed
on the form that proposed deals may take.
We shall subsequently review some of the more widely studied approaches to defining
conditions under which some allocations are seen as better than others. For the purposes
of this introduction we simply observe that such criteria may be either quantitative or
qualitative in nature. As an example of the former we have the approach wherein the
value of an allocation P is simply the sum of the values given by the agents utility
P
functions to the subsets of R they have been apportioned within P , i.e. ni=1 ui (Pi ): this
is the so-called utilitarian social welfare, which to avoid repetition we will denote by u (P ).
A natural aim for agents within a commodity trading context is to seek an allocation under
which u is maximised. One example of a qualitative criterion is envy freeness: informally,
an allocation, P , is envy-free if no agent assigns greater utility to the resource set (Pj ) held
by another agent than it does with respect to the resource set (Pi ) it has actually been
allocated, i.e. for each distinct pair hi , j i, ui (Pi )  ui (Pj ).
In very general terms there are two approaches that have been considered in treating the
question of how a finite collection of resources might be distributed among a set of agents
in order to optimise some criterion of interest: contract-net based methods, e.g. (Dunne
et al., 2003; Endriss et al., 2003; Endriss & Maudet, 2004b; Sandholm, 1998, 1999) deriving
from the work of Smith (1980); and combinatorial auctions, e.g. (Parkes & Ungar, 2000a,
2000b; Sandholm et al., 2001; Sandholm, 2002; Sandholm & Suri, 2003; Tennenholz, 2000;
Yokoo et al., 2004, amongst others). The significant difference between these is in the extent
to which a centralized controlling agent determines the eventual distribution of resources
among agents.
One may view the strategy underlying combinatorial auctions as investing the computational effort into a pre-processing stage following which a given allocation is determined.
Thus a controlling agent (the auctioneer) is supplied with a set of bids  pairs hSj , pj i
wherein Sj is some subset of the available resources and pj the price agent Aj is prepared
to pay in order to acquire Sj . The problem faced by the auctioneer is to decide which bids

42

fiExtremal Behaviour in Multiagent Contract Negotiation

to accept in order to maximise the overall profit subject to the constraint that each item
can be obtained by at most one agent.
What we shall refer to as contract-net schemes typically eschew the precomputation
stage and subordination to a controlling arbiter employed in auction mechanisms, seeking
instead to realise a suitable allocation by an agreed sequence of deals. The contract-net (in
its most general instantiation) for scenarios of m resources distributed among n agents is
the complete directed graph with n m vertices (each of which is associated with a distinct
allocation). In this way a possible deal hP , Qi is represented as an edge directed from the
vertex labelled with P to that labelled Q. Viewed thus, identifying a sequence of deals can
be interpreted as a search process which, in principle, individual agents may conduct in an
autonomous fashion.
Centralized schemes can be effective in contexts where the participants cooperate (in
the sense of accepting the auctioneers arbritration). In environments within which agents
are highly self-interested to the extent that their aims conflict with the auction process or
in which there is a high degree of uncertainty about the outcome, in working towards a
final allocation, the agents involved may only be prepared to proceed cautiously: that is,
an agent will only accept a proposed reallocation if satisfied that such would result in an
immediate improvement from its own perspective. In such cases, the process of moving from
the initial allocation, Pinit , to the eventual reallocation Pfin is by a sequence of local rational
deals, e.g. an agent might refuse to accept deals which reduced u because of the possibility
that it suffers an uncompensated loss in utility. A key issue here is the following: if the deal
protocol allows only moves in which at each stage some agent Aj offers a single resource to
another agent Aj then the rational reallocation hPinit , Pfin i can always be implemented; if,
however, every single move must be rational then hPinit , Pfin i may not be realisable.
We may, informally, regard the view of such agents as myopic, in the sense that they
are unwilling to accept a short-term loss (a deal hP , Qi under they might incur a loss of
utility) despite the prospect of a long-term gain (assuming u (Pfin ) > u (Pinit ) holds).
There are a number of reasons why an agent may adopt such views, e.g. consider the
following simple protocol for agreeing a reallocation.
A reallocation of resources is agreed over a sequence of stages, each of which
involves communication between two agents, Ai and Aj . This communication
consists of Ai issuing a proposal to Aj of the form (buy, r , p), offering to purchase
r from Aj for a payment of p; or (sell , r , p), offering to transfer r to Aj in return
for a payment p. The response from Aj is simply accept (following which the
deal is implemented) or reject.
This, of course, is a very simple negotiation structure, however consider its operation within
a two agent setting in which one agent, A1 say, wishes to bring about an allocation Pfin
(and thus can devise a plan  sequence of deals  to realise this from an initial allocation
Pinit ) while the other agent, A2 , does not know Pfin . In addition, assume that A1 is the only
agent that makes proposals and that a final allocation is fixed either when A1 is satisfied
or as soon as A2 rejects any offer.
While A2 could be better off if Pfin is realised, it may be the case that the only proposals
A2 will accept are those under which it does not lose, e.g. some agents may be sceptical
about the bona fides of others and will accept only deals from which they can perceive an
43

fiDunne

immediate benefit. There are several reasons why an agent may embrace such attitudes
within the schema outlined: once a deal has been implemented A2 may lose utility but no
further proposals are made by A1 so that the loss is permanent. We note that even if we
enrich the basic protocol so that A1 can describe Pfin , A2 may still reject offers under which
it suffers a loss, since it is unwilling to rely on the subsequent deals that would ameliorate
its loss actually being proposed. Although the position taken by A2 in the setting just
described may appear unduly cautious, we would claim that it does reflect real behaviour
in certain contexts. Outside the arena of automated allocation and negotiation in multiagent
systems, there are many examples of actions by individuals where promised long-term gains
are insufficient to engender the acceptance of short term loss. Consider chain letter
schemes (or their more subtle manifestation as pyramid selling enterprises): such have
a natural lifetime bounded by the size of the population in which they circulate, but may
break down before this is reached. Faced with a request to send $10 to the five names at
the head of the list and forward the letter to ten others after adding your name despite the
possibility of significant gain after a temporary loss of $50, to ignore such blandishments is
not seen as overly sceptical and cautious: there may be reluctance to accept that one will
eventually receive sufficient recompense in return and suspicion that the name order has
been manipulated.
In summary, we can identify two important influences that lead to contexts in which
agents prefer to move towards a reallocation via a sequence of rational deals. Firstly,
the agents are self-interested but operating in an unstable environment, e.g. in the chain
letter setting, an agent cannot reliably predict the exact point at which the chain will fail.
The second factor is that computational restrictions may limit the decisions an individual
agent can make about whether or not to accept a proposed deal. For example in settings
where all deals involve one resource at a time, A2 may reject a proposal to accept some
resource, r , since r is only useful following a further sequence of deals: if this number
of further deals is small then A2 could decide to accept the proposed deal since it has
sufficient computational power to determine that there is a context in which r is of value;
if this number is large however, then A2 may lack sufficient power to scan the search
space of future possibilities that would allow it to accept r . Notice that in the extreme
case, A2 makes its decision solely on whether r is of immediate use, i.e. A2 is myopic. A
more powerful A2 may be able to consider whether r is useful should up to k further deals
take place: in this case, A2 could still refuse to accept r since, although of use, A2 cannot
determine this with a bounded look ahead.
In total for the scenario we have described, if A1 wishes to bring about an allocation Pfin
then faced with the view adopted by A2 and the limitations imposed by the deal protocol,
the only effective plan that A1 could adopt is to find a sequence of rational deals to
propose to A2 .
Our aim in this article is to show that combining structural restrictions (e.g. only one
resource at a time is involved in a local reallocation) with rationality restrictions can result
in settings in which any sequence to realise a reallocation hP , Qi must involve exponentially
many (in |R|) separate stages. We refine these ideas in the next sub-section.

44

fiExtremal Behaviour in Multiagent Contract Negotiation

1.1 Preliminary Definitions
To begin, we first formalise the concepts of deal and contract path.
Definition 2 Let hA, R, Ui be a resource allocation setting. A deal is a pair hP , Qi where
P = hP1 , . . . , Pn i and Q = hQ1 , . . . , Qn i are distinct partitions of R. The effect of implementing the deal hP , Qi is that the allocation of resources specified by P is replaced with that
specified by Q. Following the notation of (Endriss & Maudet, 2004b) for a deal  = hP , Qi,
we use A to indicate the subset of A involved, i.e. Ak  A if and only if Pk 6= Qk .
Let  = hP , Qi be a deal. A contract path realising  is a sequence of allocations
 = hP (1) , P (2) , . . . , P (t1) , P (t) i
in which P = P (1) and P (t) = Q. The length of , denoted || is t  1, i.e. the number of
deals in .
There are two methods which we can use to reduce the number of deals that a single
agent may have to consider in seeking to move from some allocation to another, thereby
avoiding the need to choose from exponentially many alternatives: structural and rationality
constraints. Structural constraints limit the permitted deals to those which bound the
number of resources and/or the number of agents involved, but take no consideration of the
view any agent may have as to whether its allocation has improved. In contrast, rationality
constraints restrict deals hP , Qi to those in which Q improves upon P according to
particular criteria. In this article we consider two classes of structural constraint: Ocontracts, defined and considered in (Sandholm, 1998), and what we shall refer to as M (k )contracts.
Definition 3 Let  = hP , Qi be a deal involving a reallocation of R among A.
a.  is a one contract (O-contract) if
O1. A = {i , j }.
O2. There is a unique resource r  Pi  Pj for which Qi = Pi  {r } and Qj = Pj \ {r }
(with r  Pj ) or Qj = Pj  {r } and Qi = Pi \ {r } (with r  Pi )
b. For a value k  2, the deal  = hP , Qi is an M (k )-contract if 2  |A |  k and
iA Qi = iA Pi .
Thus, O-contracts involve the transfer of exactly one resource from a particular agent to
another, resulting in the number of deals compatible with any given allocation being exactly
(n  1)m: each of the m resources can be reassigned from its current owner to any of the
other n  1 agents.
Rationality constraints arise in a number of different ways. For example, from the
standpoint of an individual agent Ai a given deal hP , Qi may have three different outcomes:
ui (Pi ) < ui (Qi ), i.e. Ai values the allocation Qi as superior to Pi ; ui (Pi ) = ui (Qi ), i.e.
Ai is indifferent between Pi and Qi ; and ui (Pi ) > ui (Qi ), i.e. Ai is worse off after the
deal. When global optima such as utilitarian social welfare are to be maximised, there is
the question of what incentive there is for any agent to accept a deal hP , Qi under which it
45

fiDunne

is left with a less valuable resource holding. The standard approach to this latter question
is to introduce the notion of a pay-off function, i.e. in order for Ai to accept a deal under
which it suffers a reduction in utility, Ai receives some payment sufficient to compensate
for its loss. Of course such compensation must be made by other agents in the system who
in providing it do not wish to pay in excess of any gain. In defining notions of pay-off the
interpretation is that in any transaction each agent Ai makes a payment, i : if i < 0
then Ai is given i in return for accepting a deal; if i > 0 then Ai contributes i to the
amount to be distributed among those agents whose pay-off is negative.
This notion of sensible transfer is captured by the concept of individual rationality,
and is often defined in terms of an appropriate pay-off vector existing. It is not difficult,
however, to show that such definitions are equivalent to the following.
Definition 4 A deal hP , Qi is individually rational (IR) if and only if u (Q) > u (P ).
We shall consider alternative bases for rationality constraints later: these are primarily of
interest within so-called money free settings (so that compensatory payment for a loss in
utility is not an option).
The central issue of interest in this paper concerns the properties of the contract-net
graph when the allowed deals must satisfy both a structural and a rationality constraint.
Thus, if we consider arbitrary predicates  on deals hP , Qi  where the cases of interest are
 combining a structural and rationality condition  we have,
Definition 5 For  a predicate over distinct pairs of allocations, a contract path
hP (1) , P (2) , . . . , P (t1) , P (t) i
realising hP , Qi is a -path if for each 1  i < t, hP (i) , P (i+1) i is a -deal, that is
(P (i) , P (i+1) ) holds. We say that  is complete if any deal  may be realised by a -path.
We, further, say that  is complete with respect to -deals (where  is a predicate over
distinct pairs of allocations) if any deal  for which () holds may be realised by a -path.
The main interest in earlier studies of these ideas has been in areas such as identifying
necessary and/or sufficient conditions on deals to be complete with respect to particular
criteria, e.g. (Sandholm, 1998); and in establishing convergence and termination properties, e.g. Endriss et al. (2003), Endriss and Maudet (2004b) consider deal types, , such
that every maximal1 -path ends in a Pareto optimal allocation, i.e. one in which any
reallocation under which some agent improves its utility will lead to another agent suffering
a loss. Sandholm (1998) examines how restrictions e.g. with (P , Q) = > if and only if
hP , Qi is an O-contract, may affect the existence of contract paths to realise deals. Of
particular interest, from the viewpoint of heuristics for exploring the contract-net graph,
are cases where (P , Q) = > if and only if the deal hP , Qi is individually rational. For the
case of O-contracts the following are known:
Theorem 1
a. O-contracts are complete.
1. Maximal in the sense that if hP (1) , . . . , P (t) i is such a path, then for every allocation, Q, (P (t) , Q)
does not hold.

46

fiExtremal Behaviour in Multiagent Contract Negotiation

b. IR O-contracts are not complete with respect to IR deals.
In the consideration of algorithmic and complexity issues presented in (Dunne et al., 2003)
one difficulty with attempting to formulate reallocation plans by rational O-contracts is
already apparent, that is:
Theorem 2 Even in the case n = 2 and with monotone utility functions the problem of
deciding if an IR O-contract path exists to realise the IR deal hP , Qi is nphard.
Thus deciding if any rational plan is possible is already computationally hard. In this
article we demonstrate that, even if an appropriate rational plan exists, in extreme cases,
there may be significant problems: the number of deals required could be exponential in
the number of resources, so affecting both the time it will take for the schema outlined to
conclude and the space that an agent will have to dedicate to storing it. Thus in his proof
of Theorem 1 (b), Sandholm observes that when an IR O-contract path exists for a given
IR deal, it may be the case that its length exceeds m, i.e. some agent passes a resource to
another and then accepts the same resource at a later stage.
The typical form of the results that we derive can be summarised as:
For  a structural constraint (O-contract or M (k )-contract) and  a rationality
constraint, e.g. (P , Q) holds if hP , Qi is individually rational, there are resource allocation settings hAn , Rm , Ui in which there is a deal hP , Qi satisfying
all of the following.
a. hP , Qi is a -deal.
b. hP , Qi can be realised by a contract path on which every deal satisfies the
structural constraint  and the rationality constraint .
c. Every such contract path has length at least g(m).
For example, we show that there are instances for which the shortest IR O-contract path has
length exponential in m.2 In the next section we will be interested in lower bounds on the
values of the following functions: we introduce these in general terms to avoid unnecessary
subsequent repetition.
Definition 6 Let hA, R, Ui be a resource allocation setting. Additionally let  and  be
two predicates on deals. For a deal  = hP , Qi the partial function Lopt (, hA, R, Ui, )
is the length of the shortest -contract path realising hP , Qi if such a path exists (and is
undefined if no such path is possible). The partial function Lmax (hA, R, Ui, , ) is
Lmax (hA, R, Ui, , ) =

max
Lopt (, hA, R, Ui, )
-deals 

Finally, the partial function max (n, m, , ) is
max (n, m, , ) =

max

U=hu1 ,u2 ,...,un i

Lmax (hAn , Rm , Ui, , )

where consideration is restricted to those -deals  = hP , Qi for which a realising -path
exists.
2. Sandholm (1998) gives an upper bound on the length of such paths which is also exponential in m, but
does not explicitly state any lower bound other than that already referred to.

47

fiDunne

The three measures, Lopt , Lmax and max distinguish different aspects regarding the length
of contract-paths. The function Lopt is concerned with -paths realising a single deal hP , Qi
in a given resource allocation setting hA, R, Ui: the property of interest being the number
of deals in the shortest, i.e. optimal length, -path. We stress that Lopt is a partial function
whose value is undefined in the event that hP , Qi cannot be realised by a -path in the
setting hA, R, Ui. The function Lmax is defined in terms of Lopt , again in the context of
a specific resource allocation setting. The behaviour of interest for Lmax , however, is not
simply the length of -paths realising a specific hP , Qi but the worst-case value of Lopt
for deals which are -deals. We note the qualification that Lmax is defined only for -deals
that are capable of being realised by -paths, and thus do not consider cases for which no
appropriate contract path exists. Thus, if it should be the case that no -deal in the setting
hA, R, Ui can be realised by a -path then the value Lmax (hA, R, Ui, , ) is undefined, i.e.
Lmax is also a partial function. We may interpret any upper bound on Lmax in the following
terms: if Lmax (hA, R, Ui, , )  K then any -deal for which a -path exists can be
realised by a -path of length at most K .
Our main interest will centre on max which is concerned with the behaviour of Lmax as
a function of n and m and ranges over all n-tuples of utility functions hu : 2R  Qin . Our
approach to obtaining lower bounds for this function is constructive, i.e. for each h, i
that is considered, we show how the utility functions U may be defined in a setting with m
resources so as to yield a lower bound on max (n, m, , ). In contrast to the measures Lopt
and Lmax , the function max is not described in terms of a single fixed resource allocation
setting. It is, however, still a partial function: depending on hn, m, , i it may be the case
that in every n agent, m resource allocation setting, regardless of which choice of utility
functions is made, there is no -deal, hP , Qi capable of being realised by -path, and for
such cases the value of max (n, m, , ) will be undefined.3
It is noted, at this point, that the definition of max allows arbitrary utility functions
to be employed in constructing worst-case instances. While this is reasonable in terms
of general lower bound results, as will be apparent from the given constructions the utility
functions actually employed are highly artificial (and unlikely to feature in real application
settings). We shall attempt to address this objection by further considering bounds on the
following variant of max :
max
mono (n, m, , ) =

U=hu1 ,u2 ,...,un i

max
Lmax (hAn , Rm , Ui, , )
: each ui is monotone

Thus, max
mono deals with resource allocation settings within which all of the utility functions
must satisfy a monotonicity constraint.
The main results of this article are presented in the next sections. We consider two
general classes of contract path: O-contract paths under various rationality conditions in
3. In recognising the possibility that max (n, m, , ) could be undefined, we are not claiming that such
behaviour arises with any of the instantiations of h, i considered subsequently: in fact it will be
max
clear from the constructions that, denoting by max
(n, m, , ) for a fixed
, (n, m) the function 
instantiation of h, i, with the restricted deal types and rationality conditions examined, the function
max
, (n, m) is a total function. Whether it is possible to formulate sensible choices of h, i with
which max
, (n, m) is undefined for some values of hn, mi (and, if so, demonstrating examples of such) is,
primarily, only a question of combinatorial interest, whose development is not central to the concerns of
the current article.

48

fiExtremal Behaviour in Multiagent Contract Negotiation

Section 2; and, similarly, M (k )-contract paths for arbitrary values of k  2 in Section 3.
Our results are concerned with the construction of resource allocation settings hA, Rm , Ui
for which given some rationality requirement, e.g. that deals be individually rational, there
is some deal hP , Qi that satisfies the rationality condition, can be realised by a rational
O-contract path (respectively, M (k )-contract path), but with the number of deals required
by such paths being exponential in m. We additionally obtain slightly weaker (but still
exponential) lower bounds for rational O-contract paths within settings of monotone utility
functions, i.e. for the measure max
mono , outlining how similar results may be derived for
M (k )-contract paths.
In the resource allocation settings constructed for demonstrating these properties with
M (k )-contract paths, the constructed deal hP , Qi is realisable with a single M (k + 1)contract but unrealisable by any rational M (k  1)-contract path. We discuss related work,
in particular the recent study of (Endriss & Maudet, 2004a) that addresses similar issues
to those considered in the present article, in Section 4. Conclusions and some directions for
further work are presented in the final section.

2. Lower Bounds on Path Length  O-contracts
In this section we consider the issue of contract path length when the structural restriction
requires individual deals to be O-contracts. We first give an overview of the construction
method, with the following subsections analysing the cases of unrestricted utility functions
and, subsequently, monotone utility functions.
2.1 Overview
The strategy employed in proving our results involves two parts: for a given class of restricted contract paths we proceed as follows in obtaining lower bounds on max (n, m, , ).
a. For the contract-net graph partitioning m resources among n agents, construct a
path, m = hP (1) , P (2) , . . . , P (t) i realising a deal hP (1) , P (t) i. For the structural
constraint, 0 influencing  it is then proved that:
a1. The contract path m is a 0 -path, i.e. for each 1  i < t, the deal hP (i) , P (i+1 i
satisfies the structural constraint 0 .
a2. For any pair of allocations P (i) and P (i+j ) occurring in m , if j  2 then the
deal hP (i) , P (i+j ) i is not a 0 -deal.
Thus (a1) ensures that m is a suitable contract path, while (a2) will guarantee that
there is exactly one allocation, P (i+1) , that can be reached within m from any given
allocation P (i) in m by means of a 0 -deal.
b. Define utility functions Un = hu1 , . . . , un i with the following properties
b1. The deal hP (1) , P (t) i is a -deal.
b2. For the rationality constraint, 00 influencing , every deal hP (i) , P (i+1) i is a
00 -deal.

49

fiDunne

b3. For every allocation P (i) in the contract path  and every allocation Q other
than P (i+1) the deal hP (i) , Qi is not a -deal, i.e. it violates either the stuctural
constraint 0 or the rationality constraint 00 .
Thus, (a1) and (b2) ensure that hP (1) , P (t) i has a defined value with respect to the
function Lopt for the -deal hP (1) , P (t) i, i.e. a -path realising the deal is possible.
The properties given by (a2) and (b3) indicate that (within the constructed resource
allocation setting) the path m is the unique -path realising hP (1) , P (t) i. It follows
that t  1, the length of this path, gives a lower bound on the value of Lmax and hence
a lower bound on max (n, m, , ).
Before continuing it will be useful to fix some notational details.
We use Hm to denote the m-dimensional hypercube. Interpreted as a directed graph, Hm
has 2m vertices each of which is identified with a distinct m-bit label. Using  = a1 a2 . . . am
to denote an arbitrary such label, the edges of Hm are formed by
{ h, i :  and  differ in exactly one bit position}
We identify m-bit labels  = a1 a2 . . . am with subsets S  of Rm , via ri  S  if and only if
ai = 1. Similarly, any subset S of R can be described by a binary word, (S ), of length m,
i.e. (S ) = b1 b2 . . . bm with bi = 1 if and only if ri  S . For a label  we use || to denote
the number of bits with value 1, so that || is the size of the subset S  . If  and  are m-bit
labels, then  is a 2m-bit label, so that if Rm and Tm are disjoint sets, then  describes
the union of the subset S  of Rm with the subset S  of Tm . Finally if  = a1 a2 . . . am
is an m-bit label then  denotes the label formed by changing all 0 values in  to 1 and
vice versa. In this way, if S  is the subset of Rm described by  then  describes the set
Rm \ S  . To avoid an excess of superscripts we will, where no ambiguity arises, use  both
to denote the m-bit label and the subset of Rm described by it, e.g. we write    rather
than S   S  .
For n = 2 the contract-net graph induced by O-contracts can be viewed as the mdimensional hypercube Hm : the m-bit label,  associated with a vertex of Hm describing
the allocation h, i to hA1 , A2 i. In this way the set of IR O-contracts define a subgraph,
Gm of Hm with any directed path from (P ) to (Q) in Gm corresponding to a possible IR
O-contract path from the allocation hP , R \ P i to the allocation hQ, R \ Qi.
2.2 O-contract Paths  Unrestricted Utility Functions
Our first result clarifies one issue in the presentation of (Sandholm, 1998, Proposition 2):
in this an upper bound that is exponential in m is proved on the length of IR O-contract
paths, i.e. in terms of our notation, (Sandholm, 1998, Proposition 2) establishes an upper
bound on max (n, m, , ). We now prove a similar order lower bound.
Theorem 3 Let (P , Q) be the predicate which holds whenever hP , Qi is an IR O-contract
and (P , Q) that which holds whenever hP , Qi is IR. For m  7
max (2, m, , ) 

50



77
256



2m  2

fiExtremal Behaviour in Multiagent Contract Negotiation

Proof. Consider a path C = h1 , 2 , . . . , t i in Hm , with the following property4
 1  i < j  t (j  i + 2)  (i and j differ in at least 2 positions)

(SC)

e.g. if m = 4 then
, {r1 }, {r1 , r3 }, {r1 , r2 , r3 }, {r2 , r3 }, {r2 , r3 , r4 }, {r2 , r4 }, {r1 , r2 , r4 }
is such a path as it corresponds to the sequence h0000, 1000, 1010, 1110, 0110, 0111, 0101, 1101i.
Choose C (m) to be a longest such path with this property that could be formed in Hm ,
letting m = hP (1) , P (2) , . . . , P (t) i be the sequence of allocations with P (i) = hi , i i. We
now define the utility functions u1 and u2 so that for   Rm ,
(

u1 () + u2 () =

k
0

if
if

 = k
 6 {1 , 2 , . . . , t }

With this choice, the contract path m describes the unique IR O-contract path realising
the IR deal hP (1) , P (t) i: that m is an IR O-contract path is immediate, since
u (P (i+1) ) = i + 1 > i = u (P (i) )
That it is unique follows from the fact that for all 1  i  t and i + 2  j  t, the deal
hP (i) , P (j ) i is not an O-contract (hence there are no short-cuts possible), and for each
P (i) there is exactly one IR O-contract that can follow it, i.e. P (i+1) .5
From the preceding argument it follows that any lower bound on the length of C (m) ,
i.e. a sequence satisfying the condition (SC), is a lower bound on max (2, m, , ). These
paths in Hm were originally studied by Kautz (1958) in the context of coding theory and
the lower bound on their length of (77/256)2m  2 established in (Abbott & Katchalski,
1991).
2
Example 1 Using the path
C (4)

=
=

h0000, 1000, 1010, 1110, 0110, 0111, 0101, 1101i
h1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 i

in the resource allocation setting h{a1 , a2 }, {r1 , r2 , r3 , r4 }, hu1 , u2 ii, if the utility functions
are specified as in Table 1 below then u (h1 , 1 i) = 1 and u (h8 , 8 i) = 8. Furthermore,
C (4) describes the unique IR O-contract path realising the reallocation hh1 , 1 i, h8 , 8 ii
There are a number of alternative formulations of rationality which can also be considered.
For example
Definition 7 Let  = hP , Qi be a deal.
4. This defines the so-called snake-in-the-box codes introduced in (Kautz, 1958).
5. In our example with m = 4, the sequence h0000, 1000, 1001, 1101i, although defining an O-contract path
gives rise to a deal which is not IR, namely that corresponding to h1000, 1001i.

51

fiDunne

S
0000
0001
0010
0011
0100
0101
0110
0111

R\S
1111
1110
1101
1100
1011
1010
1001
1000

u1 (S )
1
0
0
0
0
4
3
3

u2 (R \ S )
0
0
0
0
0
3
2
3

u
1
0
0
0
0
7
5
6

1

7
5
6

S
1000
1001
1010
1011
1100
1101
1110
1111

R\S
0111
0110
0101
0100
0011
0010
0001
0000

u1 (S )
1
0
2
0
0
4
2
0

u2 (R \ S )
1
0
1
0
0
4
2
0

u
2
0
3
0
0
8
4
0

2
3

8
4

Table 1: Utility function definitions for m = 4 example.
a.  is cooperatively rational if for every agent, Ai , ui (Qi )  ui (Pi ) and there is at least
one agent, Aj , for whom uj (Qj ) > uj (Pj ).
b.  is equitable if miniA ui (Qi ) > miniA ui (Pi ).
c.  is a Pigou-Dalton deal if A = {i , j }, ui (Pi ) + uj (Pj ) = ui (Qi ) + uj (Qj ) and
|ui (Qi )  uj (Qj )| < |ui (Pi )  uj (Pj )| (where | . . . | is absolute value).
There are a number of views we can take concerning the rationality conditions given in Definition 7. One shared feature is that, unlike the concept of individual rationality for which
some provision to compensate agents who suffer a loss in utility is needed, i.e. individual
rationality presumes a money-based system, the forms defined in Definition 7 allow concepts of rationality to be given in money-free enviroments. Thus, in a cooperatively
rational deal, no agent involved suffers a loss in utility and at least one is better off. It may
be noted that given the characterisation of Definition 4 it is immediate that any cooperatively rational deal is perforce also individually rational; the converse, however, clearly does
not hold in general. In some settings, an equitable deal may be neither cooperatively nor
individually rational. One may interpret such deals as one method of reducing inequality
between the values agents place on their allocations: for those involved in an equitable deal,
it is ensured that the agent who places least value on their current allocation will obtain a
resource set which is valued more highly. It may, of course, be the case that some agents
suffer a loss of utility: the condition for a deal to be equitable limits how great such a loss
could be. Finally the concept of Pigou-Dalton deal originates from and has been studied in
depth within the theory of exchange economies. This is one of many approaches that have
been proposed, again in order to describe deals which reduce inequality between members
of an agent society, e.g. (Endriss & Maudet, 2004b). In terms of the definition given,
such deals encapsulate the so-called Pigou-Dalton principle in economic theory: that any
transfer of income from a wealthy individual to a poorer one should reduce the disparity
between them. We note that, in principle, we could define related rationality concepts
based on several extensions of this principle that have been suggested, e.g. (Atkinson, 1970;
Chateauneaf et al., 2002; Kolm, 1976).
Using the same O-contract path constructed in Theorem 3, we need only vary the
definitions of the utility functions employed in order to obtain,
Corollary 1 For each of the cases below,

52

fiExtremal Behaviour in Multiagent Contract Negotiation

a. () holds if and only if  is a cooperatively rational O-contract.
() holds if and only if  is cooperatively rational.
b. () holds if and only if  is an equitable O-contract.
() holds if and only if  is equitable.
c. () holds if and only if  is a Pigou-Dalton O-contract.
() holds if and only if  is a Pigou-Dalton deal.



max



(2, m, , ) 

77
2m  2
256


Proof. We employ exactly the same sequence of allocations m described in the proof of
Theorem 3 but modify the utility functions hu1 , u2 i for each case.
a. Choose hu1 , u2 i with u2 () = 0 for all   R and
(

u1 () =

k
0

if
if

 = k
 6 {1 , . . . , t }

The resulting O-contract path is cooperatively rational: the utility enjoyed by A2 remains constant while that enjoyed by A1 increases by 1 with each deal. Any deviation
from this contract path (employing an alternative O-contract) will result in a loss of
utility for A1 .
b. Choose hu1 , u2 i with u2 () = u1 () and
(

u1 () =

k
0

if
if

 = k
 6 {1 , . . . , t }

The O-contract path is equitable: both A1 and A2 increase their respective utility
values by 1 with each deal. Again, any O-contract deviating from this will result in
both agents losing some utility.
c. Choose hu1 , u2 i as
(

u1 () =

k
0

if
if

 = k
 6 {1 , . . . , t }

(

;

u2 () =

2m  k
2m

if
if

 = k
 6 {1 , . . . , t }

To see that the O-contract path consists of Pigou-Dalton deals, it suffices to note that
u1 (i ) + u2 (i ) = 2m for each 1  i  t. In addition, |u2 (i+1 )  u1 (i+1 )| = 2m  2i  2
which is strictly less than |u2 (i )  u1 (i )| = 2m  2i . Finally, any O-contract hP , Qi which
deviates from this sequence will not be a Pigou-Dalton deal since
|u2 (Q2 )  u1 (Q1 )| = 2m > |u2 (P2 )  u1 (P1 )|
which violates one of the conditions required of Pigou-Dalton deals.
The construction for two agent settings, easily extends to larger numbers.
53

2

fiDunne

Corollary 2 For each of the choices of h, i considered in Theorem 3 and Corollary 1,
and all n  2,


77
max
 (n, m, , ) 
2m  2
256
Proof. Fix allocations in which A1 is given 1 , A2 allocated 1 , and Aj assigned  for each
3  j  n. Using identical utility functions hu1 , u2 i as in each of the previous cases, we
employ for uj : uj () = 1, uj (S ) = 0 whenever S 6=  (h, i as in Theorem 3); uj (S ) = 0 for
all S (Corollary 1(a)); uj () = 2m , uj (S ) = 0 whenever S 6=  (Corollary 1(b)); and, finally,
uj (S ) = 2m for all S , (Corollary 1(c)). Considering a realisation of the -deal hP (1) , P (t) i
the only -contract path admissible is the path m defined in the related proofs. This gives
the lower bound stated.
2
We note, at this point, some other consequences of Corollary 1 with respect to (Endriss &
Maudet, 2004b, Theorems 1, 3), which state
Fact 1 We recall that a -path, hP (1) , . . . , P (t) i is maximal if for each allocation Q, hP (t) , Qi
is not a -deal.
a. If hP (1) , . . . , P (t) i is any maximal path of cooperatively rational deals then P (t) is
Pareto optimal.
b. If hP (1) , . . . , P (t) i is any maximal path of equitable deals then P (t) maximises the
value e (P ) = min1in ui (Pi ), i.e. the so-called egalitarian social welfare.
The sequence of cooperatively rational deals in Corollary 1(a) terminates in the Pareto
optimal allocation P (t) : the allocation for A2 always has utility 0 and there is no allocation
to A1 whose utility can exceed t. Similarly, the sequence of equitable deals in Corollary 1(b)
terminates in the allocation P (t) , for which e (P (t) ) = t the maximum that can be attained
for the instance defined. In both cases, however, the optima are reached by sequences of
exponentially many (in m) deals: thus, although Fact 1 guarantees convergence of particular
deal sequences to optimal states it may be the case, as illustrated in Corollary 1(ab), that
the process of convergence takes considerable time.
2.3 O-contract Paths  Monotone Utility Functions
We conclude our results concerning O-contracts by presenting a lower bound on max
mono , i.e.
the length of paths when the utility functions are required to be monotone.
In principle one could attempt to construct appropriate monotone utility functions that
would have the desired properties with respect to the path used in Theorem 3. It is, however,
far from clear whether such a construction is possible. We do not attempt to resolve this
question here. Whether an exact translation could be accomplished is, ultimately, a question
of purely combinatorial interest: since our aim is to demonstrate that exponential length
contract paths are needed with monotone utility functions we are not, primarily, concerned
with obtaining an optimal bound.

54

fiExtremal Behaviour in Multiagent Contract Negotiation

Theorem 4 With (P , Q) and (P , Q) be defined as in Theorem 3 and m  14

max
mono (2, m, , )




 
77
m/2  3


 128 2

if

m is even






if

m is odd

77
128



2(m1)/2  3

Proof. We describe the details only for the case of m being even: the result when m is
odd is obtained by a simple modification which we shall merely provide in outline.
Let m = 2s with s  7. For any path
s = h1 , 2 , . . . , t i
in Hs (where i describes a subset of Rs by an s-bit label), the path double(s ) in H2s is
defined by
double(s )

=
=

h 1 1 , 2 2 , . . . , i i , i+1 i+1 , . . . , t t i
h1 , 3 , . . . , 2i1 , 2i+1 , . . . , 2t1 i

(The reason for successive indices of  increasing by 2 will become clear subsequently)
Of course, double(s ) does not describe an O-contract path6 : it is, however, not difficult
to interpolate appropriate allocations, 2i , in order to convert it to such a path. Consider
the subsets 2i (with 1  i < t) defined as follows:
(

2i =

i+1 i
i i+1

if
if

i  i+1
i  i+1

If we now consider the path, ext(s ), within H2s given by
ext(s ) = h1 , 2 , 3 , . . . , 2(t1) , 2t1 i
then this satisfies,
a. If s has property (SC) of Theorem 3 in Hs then ext(s ) has property (SC) in H2s .
b. If j is odd then |j | = s.
c. If j is even then |j | = s + 1.
From (a) and the bounds proved in (Abbott & Katchalski, 1991) we deduce that ext(s )
can be chosen so that with P (i) denoting the allocation hi , i i
d. ext(s ) describes an O-contract path from P (1) to P (2t1) .
e. For each pair hi , j i with j  i + 2, the deal hP (i) , P (j ) i is not an O-contract.
f. If s is chosen as in the proof of Theorem 3 then the number of deals in ext(s ) is
as given in the statement of the present theorem.
6. In terms of the classification described by Sandholm (1998), it contains only swap deals (S -contracts):
each deal swaps exactly one item in 2i1 with an item in 2i1 in order to give 2i+1 .

55

fiDunne

We therefore fix s as the path from Theorem 3 so that in order to complete the proof
we need to construct utility functions hu1 , u2 i that are monotone and with which ext(s )
defines the unique IR O-contract path realising the reallocation hP (1) , P (2t1) i.
The choice for u2 is relatively simple. Given S  R2s ,
u2 (S ) =



 0

2t + 1


2t + 2

if
if
if

|S |  s  2
|S | = s  1
|S |  s

In this t is the number of allocations in s . The behaviour of u2 is clearly monotone.
The construction for u1 is rather more complicated. Its main idea is to make use of
the fact that the size of each set i occurring in ext(s ) is very tightly constrained: |i |
is either s or s + 1 according to whether i is odd or even. We first demonstrate that each
set of size s + 1 can have at most two strict subsets (of size s) occurring within ext(s ):
thus, every S of size s + 1 has exactly 2 or 1 or 0 subsets of size s on ext(s ). To see this
suppose the contrary. Let , 2i1 , 2j 1 , and 2k 1 be such that || = s + 1 with
2i1   ; 2j 1   ; 2k 1  
Noting that 2i1 = i i and that s has the property (SC) it must be the case that (at
least) two of the s-bit labels from {i , j , k } differ in at least two positions. Without loss
of generality suppose this is true of i and k . As a result we deduce that the sets 2i1
and 2k 1 have at most s  2 elements in common, i.e. |2i1  2k 1 |  s  2: 2i1 = i i
and 2k 1 = k k so in any position at which i differs from k , i differs from k at
exactly the same position. In total |2i1 \ 2k 1 |  2, i.e. there are (at least) two elements
of 2i1 that do not occur in 2k 1 ; and in the same way |2k 1 \ 2i1 |  2, i.e. there are
(at least) two elements of 2k 1 that do not occur in 2i1 . The set , however, has only
s + 1 members and so cannot have both 2i1 and 2k 1 as subsets: this would require
2i1  2k 1  2i1 \ 2k 1  2k 1 \ 2i1  
but, as we have just seen,
| 2i1  2k 1  2i1 \ 2k 1  2k 1 \ 2i1 |  s + 2
One immediate consequence of the argument just given is that for any set  of size s +1 there
are exactly two strict subsets of  occurring on ext(s ) if and only if  = 2i1 2i+1 = 2i
for some value of i with 1  i < t. We can now characterise each subset of R2s of size s + 1
as falling into one of three categories.
C1. Good sets, given by { :  = 2i }.
C2. Digressions, consisting of
{  : 2i1  ,  6= 2i and i < t}
C3. Inaccessible sets, consisting of
{  :  is neither Good nor a Digression}
56

fiExtremal Behaviour in Multiagent Contract Negotiation

Good sets are those describing allocations to A1 within the path defined by ext(s );
Digressions are the allocations that could be reached using an O-contract from a set of
size s on ext(s ), i.e. 2i1 , but differ from the set that actually occurs in ext(s ), i.e.
2i . Finally, Inaccessible sets are those that do not occur on ext(s ) and cannot be reached
via an O-contract from any set on ext(s ). We note that we view any set of size s + 1
that could be reached by an O-contract from 2t1 as being inaccessible: in principle it is
possible to extend the O-contract path beyond 2t1 , however, we choose not complicate
the construction in this way.
We now define u1 as

u1 () =


2i  1





2i + 1


 2i

0




0




2t  1

if
if
if
if
if
if

 = 2i1
 = 2i
|| = s + 1 and  is a Digression from 2i1
||  s  1
|| = s and  6 ext(s )
 is Inaccessible or ||  s + 2

It remains only to prove for these choices of hu1 , u2 i that the O-contract path hP (1) , . . . , P (2t1) i
defined from ext(s ) is the unique IR O-contract path realising the IR deal hP (1) , P (2t1) i
and that u1 is monotone.
To show that hP (1) , . . . , P (2t1) i is IR we need to demonstrate
 1  j < 2t  1 u1 (j ) + u2 (j ) < u1 (j +1 ) + u2 (j +1 )
We have via the definition of hu1 , u2 i
u1 (2i1 ) + u2 (2i1 )

=
<
=
<
=

2(t + i ) + 1
u1 (2i ) + u2 (2i )
2(t + i ) + 2
u1 (2i+1 ) + u2 (2i+1 )
2(t + i ) + 3

Thus, via Definition 4, it follows that ext(s ) gives rise to an IR O-contract path.
To see that this path is the unique IR O-contract path implementing hP (1) , P (2t1) i,
consider any position P (j ) = hj , j i and allocation Q other than P (j +1) or P (j 1) . It may be
assumed that the deal hP (j ) , Qi is an O-contract. If j = 2i 1 then u (P (2i1) ) = 2(t +i )+1
and |j | = s. Hence |Q1 |  {s 1, s +1}. In the former case, u1 (Q1 ) = 0 and u2 (Q2 ) = 2t +2
from which u (Q) = 2t + 2 and thus hP (j ) , Qi is not IR. In the latter case u1 (Q1 ) = 2i
since Q1 is a Digression from 2i1 and u2 (Q2 ) = 2t + 1 giving u (Q) = 2(t + i ) + 1. Again
hP (j ) , Qi fails to be IR since Q fails to give any increase in the value of u . We are left with
the case j = 2i so that u (P (2i) ) = 2(t + i ) + 2 and |j | = s + 1. Since hP (j ) , Qi is assumed
to be an O-contract this gives |Q1 |  {s, s + 2}. For the first possibility Q1 could not be a
set on ext(s ): 2i1 and 2i+1 are both subsets of 2i and there can be at most two such
subsets occurring on ext(s ). It follows, therefore, that u1 (Q1 ) = 0 giving u (Q) = 2t + 2
so that hP (j ) , Qi is not IR. In the second possibility, u1 (Q1 ) = 2t  1 but u2 (Q2 ) = 0 as
|Q2 | = s  2 so the deal would result in an overall loss. We deduce that for each P (j ) the
only IR O-contract consistent with it is the deal hP (j ) , P (j +1) i.
57

fiDunne

The final stage is to prove that the utility function u1 is indeed a monotone function.
Suppose S and T are subsets of R2s with S  T . We need to show that u1 (S )  u1 (T ). We
may assume that |S | = s, that S occurs as some set within ext(s ), and that |T | = s + 1.
If |S | < s or |S | = s but does not occur on ext(s ) we have u1 (S ) = 0 and the required
inequality holds; if |S |  s + 1 then in order for S  T to be possible we would need
|T |  s + 2, which would give u1 (T ) = 2t  1 and this is the maximum value that any
subset is assigned by u1 . We are left with only |S | = s, |T | = s + 1 and S on ext(s ) to
consider. It has already been shown that there are at most two subsets of T that can occur
on ext(s ). Consider the different possibilities:
a. T = 2i so that exactly two subsets of T occur in ext(s ): 2i1 and 2i+1 . Since
u1 (2i ) = 2i + 1 and this is at least max{u1 (2i1 ), u1 (2i+1 )}, should S be either of
2i1 or 2i+1 then u1 (S )  u1 (T ) as required.
b. T is a Digression from S = 2i1 , so that u1 (T ) = 2i and u1 (S ) = 2i  1 and, again,
u1 (S )  u1 (T ).
We deduce that u1 is monotone completing our lower bound proof for max
mono for even values
of m.
We conclude by observing that a similar construction can be used if m = 2s + 1 is odd:
use the path ext(s ) described above but modifying it so that one resource (rm ) is always
held by A2 . Only minor modifications to the utility function definitions are needed.
2
Example 2 For s = 3, we can choose 3 = h000, 001, 101, 111, 110i so that t = 5. This
gives double(3 ) as
h000111, 001110, 101010, 111000, 110001i
with the O-contract path being defined from ext(3 ) which is
=

h000111, 001111, 001110, 101110, 101010, 111010, 111000, 111001, 110001i
h1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 i

Considering the 15 subsets of size s + 1 = 4, gives
Good
Digression
Inaccessible

=
=
=

{001111, 101110, 111010, 111001}
{010111, 100111, 101011, 011110, 111100}
{011011, 011101, 101101, 110110, 110011, 110101}

Notice that both of the sets in {110011, 110101} are Inaccessible: in principle we could
continue from 9 = 110001 using either, however, in order to simplify the construction the
path is halted at 9 .
Following the construction presented in Theorem 4, gives the following utility function
definitions with S  R = {r1 , r2 , r3 , r4 , r5 , r6 }.

u2 (S ) =



 0

11

 12

58

if
if
if

|S |  1
|S | = 2
|S |  3

fiExtremal Behaviour in Multiagent Contract Negotiation

For u1 we obtain

u1 (S ) =





































































0
0
1
2
2
3
3
4
5
5
6
7
7
8
9
9
9

if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if

|S |  2
|S | = 3 and S 6 {000111, 001110, 101010, 111000, 110001}
S = 000111 (1 )
S = 010111 (digression from 1 )
S = 100111 (digression from 1 )
S = 001111 (2 )
S = 001110 (3 )
S = 011110 (digression from 3 )
S = 101110 (4 )
S = 101010 (5 )
S = 101011 (digression from 5 )
S = 111010 (6 )
S = 111000 (7 )
S = 111100 (digression from 7 )
S = 111001 (8 )
S = 110001 (9 )
|S |  5 or S  {011011, 011101, 101101, 110110, 110011, 110101}

The monotone utility functions, hu1 , u2 i, employed in proving Theorem 4 are defined so that
the path arising from ext(s ) is IR: in the event of either agent suffering a loss of utility the
gain made by the other is sufficient to provide a compensatory payment. A natural question
that now arises is whether the bound obtained in Theorem 4 can be shown to apply when
the rationality conditions preclude any monetary payment, e.g. for cases where the concept
of rationality is one of those given in Definition 7. Our next result shows that if we set the
rationality condition to enforce cooperatively rational or equitable deals then the bound of
Theorem 4 still holds.
Theorem 5 For each of the cases below and m  14
a. () holds if and only if  is a cooperatively rational O-contract.
() holds if and only if  is cooperatively rational.
b. () holds if and only if  is an equitable O-contract.
() holds if and only if  is equitable.

max
mono (2, m, , )




 
77
m/2  3


 128 2

if

m is even






if

m is odd

77
128



2(m1)/2  3

Proof. We again illustrate the constructions only for the case of m being even, noting the
modification to deal with odd values of m outlined at the end of the proof of Theorem 4.
The path ext(s ) is used for both cases.

59

fiDunne

For (a), we require hu1 , u2 i to be defined as monotone functions with which ext(s ) will
be the unique cooperatively rational O-contract path to realise the cooperatively rational
deal hP (1) , P (2t1) i where P (j ) = hj , j i. In this case we set hu1 , u2 i to be,

hu1 (), u2 ()i =


hi , i i





hi
+ 1, i i




hi , i  1i


h0, 2t  1i




h0, 2t  1i




h2t  1, 0i

if
if
if
if
if
if

 = 2i1
 = 2i
|| = s + 1 and  is a Digression from 2i1
||  s  1
|| = s and  6 ext(s )
 is Inaccessible or ||  s + 2

Since,
hu1 (2i1 ), u2 (2i1 )i
hu1 (2i ), u2 (2i )i
hu1 (2i+1 ), u2 (2i+1 )i

=
=
=

hi , i i
hi + 1, i i
hi + 1, i + 1i

it is certainly the case that hP (1) , P (2t1) i and all deals on the O-contract path defined
by ext(s ) are cooperatively rational. Furthermore if Q = h, i is any allocation other
than P (j +1) then the deal hP (j ) , Qi will fail to be a cooperatively rational O-contract.
For suppose the contrary letting hP (j ) , Qi without loss of generality be an O-contract,
with Q 6 {P (j 1) , P (j +1) }  we can rule out the former case since we have already shown
such an deal is not cooperatively rational. If j = 2i  1 so that hu1 (j ), u2 (j )i = hi , i i
then ||  {s  1, s + 1}: the former case leads to a loss in utility for A1 ; the latter,
(since  is a Digression from 2i1 ) a loss in utility for A2 . Similarly, if j = 2i so that
hu1 (j ), u2 (j )i = hi + 1, i i then ||  {s, s + 2}: for the first  6 ext(s ) leading to a loss of
utility for A1 ; the second results in a loss of utility for A2 . It follows that the path defined by
ext(s ) is the unique cooperatively rational O-contract path that realises hP (1) , P (2t1) i.
It remains only to show that these choices for hu1 , u2 i define monotone utility functions.
Consider u1 and suppose S and T are subsets of R2s with S  T . If |S |  s  1,
or S does not occur on ext(s ) then u1 (S ) = 0. If |T |  s + 2 or is Inaccessible then
u1 (T ) = 2t  1 which is the maximum value attainable by u1 . So we may assume that
|S | = s, occurs on ext(s ), i.e. S = 2i1 , for some i , and that |T | = s + 1 and is either
a Good set or a Digression. From the definition of u1 , u1 (S ) = i : if T  {2i , 2i2 } then
u1 (T )  i = u1 (S ); if T is a Digression from 2i1 then u1 (T ) = i = u1 (S ). We deduce
that if S  T then u1 (S )  u1 (T ), i.e. the utility function is monotone.
Now consider u2 with S and T subsets of R2s having S  T . If |T |  s + 1 or
R2s \ T does not occur in ext(s ) then u2 (T ) = 2t  1 its maximal value. If |S |  s  2
or R2s \ S is Inaccessible then u2 (S ) = 0. Thus we may assume that T = 2i1 giving
u2 (T ) = i and |S | = s  1, so that R2s \ S is either a Digression or one of the Good sets
{2i , 2i2 }. If R2s \ S is a Digression then u2 (S ) = i  1; if it is the Good set 2i2 then
u2 (S ) = i  1 < u2 (T ); if it is the Good set 2i then u2 (S ) = i = u2 (T ). It follows that
u2 is monotone completing the proof of part (a).

60

fiExtremal Behaviour in Multiagent Contract Negotiation

For (b) we use,

hu1 (), u2 ()i =


h2i  1, 2i i





h2i + 1, 2i i












h2i , 2i  1i
h0, 2t  1i
h0, 2t  1i
h2t  1, 0i

if
if
if
if
if
if

 = 2i1
 = 2i
|| = s + 1 and  is a Digression from 2i1
||  s  1
|| = s and  6 ext(s )
 is Inaccessible or ||  s + 2

These choices give ext(s ) as the unique equitable O-contract path to realise the equitable
deal hP (1) , P (2t1) i, since
min{u1 (2i1 ), u2 (2i1 )}
min{u1 (2i ), u2 (2i )}
min{u1 (2i+1 ), u2 (2i+1 )}

=
=
=

2i  1
2i
2i + 1

each deal hP (j ) , P (j +1) i is equitable. If Q = h, i is any allocation other than P (j +1)
then the deal hP (j ) , Qi is not an equitable O-contract. Assume that hP (j ) , Qi is an Ocontract, and that Q 6 {P (j 1) , P (j +1) }. If j = 2i  1, so that P (j ) = h2i1 , 2i1 i
and min{u1 (2i1 ), u2 (2i1 )} = 2i  1 then ||  {s  1, s + 1}. In the first of these
min{u1 (), u2 ()} = 0; in the second min{u1 (), u2 ()} = 2i  1 since  must be a
Digression. This leaves only j = 2i with P (j ) = h2i , 2i i and min{u1 (2i ), u2 (2i )} = 2i .
For this, ||  {s, s + 2}: if || = s then min{u1 (), u2 ()}  2i  1 (with equality when
 = 2i1 ); if || = s + 2 then min{u1 (), u2 ()} = 0. In total these establish that ext(s )
is the unique equitable O-contract path realising the equitable deal hP (1) , P (2t1) i.
That the choices for hu1 , u2 i describe monotone utility functions can be shown by a
similar argument to that of part (a).
2
Example 3 For s = 3 using the same O-contract path ext(3 ) as the previous example,
i.e.
=

h000111, 001111, 001110, 101110, 101010, 111010, 111000, 111001, 110001i
h1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 i

For hu1 , u2 i in (a) we obtain

hu1 (S ), u2 (R \ S )i =















































h0, 9i
h0, 9i
h1, 1i
h1, 0i
h1, 0i
h2, 1i
h2, 2i
h2, 1i
h3, 2i
h3, 3i
h3, 2i
h4, 3i
h4, 4i
h4, 3i
h5, 4i
h5, 5i
h9, 0i

if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if

|S |  2
|S | = 3 and S 6 {000111, 001110, 101010, 111000, 110001}
S = 000111 (1 )
S = 010111 digression from 1
S = 100111 digression from 1
S = 001111 (2 )
S = 001110 (3 )
S = 011110 digression from 3
S = 101110 (4 )
S = 101010 (5 )
S = 101011 digression from 5
S = 111010 (6 )
S = 111000 (7 )
S = 111100 digression from 7
S = 111001 (8 )
S = 110001 (9 )
|S |  5 or S  {011011, 011101, 101101, 110110, 110011, 110101}

61

fiDunne

Similarly, in (b)

hu1 (S ), u2 (R \ S )i =















































h0, 9i
h0, 9i
h1, 2i
h2, 1i
h2, 1i
h3, 2i
h3, 4i
h4, 3i
h5, 4i
h5, 6i
h6, 5i
h7, 6i
h7, 8i
h8, 7i
h9, 8i
h9, 10i
h9, 0i

if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if

|S |  2
|S | = 3 and S 6 {000111, 001110, 101010, 111000, 110001}
S = 000111 (1 )
S = 010111 digression from 1
S = 100111 digression from 1
S = 001111 (2 )
S = 001110 (3 )
S = 011110 digression from 3
S = 101110 (4 )
S = 101010 (5 )
S = 101011 digression from 5
S = 111010 (6 )
S = 111000 (7 )
S = 111100 digression from 7
S = 111001 (8 )
S = 110001 (9 )
|S |  5 or S  {011011, 011101, 101101, 110110, 110011, 110101}

That we can demonstrate similar extremal behaviours for contract path length with
rationality constraints in both money-based (individual rationality) and money-free (cooperative rationality, equitable) settings irrespective of whether monotonicity properties are
assumed, has some interesting parallels with other contexts in which monotonicity is relevant. In particular we can observe that in common with the complexity results already
noted from (Dunne et al., 2003)  deciding if an allocation is Pareto optimal, if an allocation maximises u , or if an IR O-contract path exists  requiring utility functions to be
monotone does not result in a setting which is computationally more tractable.

3. M (k )-contract paths
We now turn to similar issues with respect to M (k )-contracts, recalling that in one respect
these offer a form of deal that does not fit into the classification of Sandholm (1998). This
classification defines four forms of contract type: O-contracts, as considered in the previous
section; S -contracts, that involve exactly 2 agents swapping single resources; C -contracts,
in which one agent tranfers at least two of its resources to another; and M -contracts in which
three or more agents reallocate their resource holding amongst themselves. Our definition
of M (k )-contracts permits two agents to exchange resources (thus are not M -contracts in
Sandholms (1998) scheme) and the deals permitted are not restricted to O, S , and C contracts. In one regard, however, M (k )-contracts are not as general as M -contracts since
a preset bound (k ) is specified for the number of agents involved.
Our main result on M (k )-contract paths is the following development of Theorem 3.
Theorem 6 Let k (P , Q) be the predicate which
 holds whenever hP , Qi is an IR M (k )k
contract. For all k  3, n  k and m 
, there is a resource allocation setting
2
hA, R, Ui and an IR deal  = hP , Qi for which,
Lopt (, hA, R, Ui, k )
Lopt (, hA, R, Ui, k 1 )
Lopt (, hA, R, Ui, k 2 )

=


62

1
2b2m/k (k 1)c

1
is undefined

(a)
(b)
(c)

fiExtremal Behaviour in Multiagent Contract Negotiation

Before presenting the proof, we comment about the formulation of the theorem statement
and give an overview of the proof structure.
We first note that the lower bounds (where defined) have been phrased in terms of
the function Lopt as opposed to max used in the various results on O-contract paths in
Section 2.2. It is, of course, the case that the bound claimed for Lopt (, hA, R, Ui, k 1 )
will also be a lower bound on max (n, m, k 1 , ) when n  k and (P , Q) holds whenever
the deal hP , Qi is IR. The statement of Theorem 6, however, claims rather more than this,
namely that a specific resource allocation setting hA, R, Ui can be defined for each n  k
and each m, together with an IR deal hP , Qi in such a way that: hP , Qi can be achieved by
a single M (k )-contract and cannot be realised by an IR M (k  2)-contract path. Recalling
that Lopt is a partial function, the latter property is equivalent to the claim made in part
(c) for the deal hP , Qi of the theorem statement. Furthermore, this same deal although
achievable by an IR M (k  1)-contract path can be so realised only by one whose length is
as given in part (b) of the theorem statement.
Regarding the proof itself, there are a number of notational complexities which we have
attempted to ameliorate by making some simplifying assumptions concerning the relationship between m  the size of the resource set R  and k  the number of agents which are
needed to realise hP
 , Qi
 in a single IR deal. In particular, we shall assume that m is an
exact multiple of k2 . We observe that by employing a similar device to that used in
the proof
 of Theorem 4 we can deal with cases for which
 m does not have this property: if
k
m = s 2 + q for integer values s  1 and 1  q < k2 , we simply employ exactly the
same construction using m q resources with the missing q resources from Rm being allocated to A1 and never being reallocated within the M (k  1)-contract path. This approach
accounts for the rounding operation (b. . .c) in the exponent term of the lower bound. We
shall also assume that the number of agents in A is exactly k . Within the proof we use a
running example for which k = 4 and m = 18 = 3  6 to illustrate specific features.
We first give an outline of its structure.
Given hA, R, Ui a resource allocation setting involving k agents and m resources, our
aim is to define an IR M (k  1)-contract path
 = hP (1) , P (2) , . . . , P (t) i
that realises the IR M (k ) deal hP (1) , P (t) i. We will use d to index particular allocations
within , so that 1  d  t.
In order to simplify the presentation we employ
 a setting in which the k agents are
A = {A0 , A1 , . . . , Ak 1 }. Recalling that m = s k2 , the resource set Rm is formed by
the union of



k
2



pairwise disjoint sets of size s. Given distinct values i and j with
{i,j }

{i,j }

{i,j }

0  i < j  k  1, we use Ri,j to denote one of these subsets with {r1 , r2
, . . . , rs }
{i,j
}
the s resources that form R
.
There are two main ideas underpinning the structure of each M (k  1)-contract in .
Firstly, in the initial and subsequent allocations, the resource set R{i,j } is partitioned
between Ai and Aj and any reallocation of resources between Ai and Aj that takes place
within the deal hP (d) , P (d+1) i will involve only resources in this set. Thus, for every al(d)
location P (d) and each pair {i , j }, if h 6 {i , j } then Ph  R{i,j } = . Furthermore, for
63

fiDunne

 = hP (d) , P (d+1) i should both Ai and Aj be involved, i.e. {Ai , Aj }  A , then this reallocation of R{i,j } between Ai and Aj will be an O-contract. That is, either exactly one
(d)
(d+1)
element of R{i,j } will be moved from Pi to become a member of the allocation Pj
or
(d)

exactly one element of R{i,j } will be moved from Pj

to become a member of the allocation

(d+1)
Pi  . Intotal, every M (k  1)-contract  in  consists of a simultaneous implementation
1
of k 
O-contracts: a single O-contract for each of the distinct pairs {Ai , Aj } of agents
2
from the k  1 agents in A .

The second key idea is to exploit one well-known property of the s-dimensional hypercube network: for every s  2, Hs contains a Hamiltonian cycle, i.e. a simple directed cycle
formed using only the edges of Hs and containing all 2s vertices.7 Now, suppose
S (v ) = v (0) , v (1) , . . . , v (i) , . . . , v (2

s 1)

, v (0)

is a Hamiltonian cycle in the hypercube Hs and
S (w ) = w (0) , w (1) , . . . , w (i) , . . . , w (2

s 1)

, w (0)

the Hamiltonian cycle in which w (i) is obtained by complementing each bit in v (i) . As we
have described in the overview of Section 2.1 we can interpret the s-bit label v = v1 v2 . . . vs
{i,j }
as describing a particular subset of R{i,j } , i.e. that subset in which rk
occurs if and only if
{i,j
}
vk = 1. Similarly from any subset of R
we may define a unique s-bit word. Now suppose
(d)
that Pi is the allocation held by Ai in the allocation P (d) of . The deal  = hP (d) , P (d+1) i
(d)
(d+1)
will affect Pi  R{i,j } in the following way: if i 6 A or j 6 A then Pi
 R{i,j } =
(d)
(d+1)
(d)
Pi  R{i,j } and Pj
 R{i,j } = Pj  R{i,j } . Otherwise we have {i , j }  A and
(d)

(d)

the (complementary) holdings Pi  R{i,j } and Pj  R{i,j } define (complementary) s-bit
labels of vertices in Hs : if these correspond to places hv (h) , w (h) i in the Hamiltonian cycles,
(d+1)
(d+1)
(d+1)
(d+1)
then in Pi
and Pj
the s-bit labels defined from Pi
 R{i,j } and Pj
 R{i,j }
produce the s-bit labels v (h+1) and w (h+1) , i.e. the vertices that succeed v (h) and w (h) in
the Hamiltonian cycles. In total, for each j , Ai initially holds either the subset of R{i,j } that
maps to v (0) or that maps to w (0) and, at the conclusion of the M (k  1)-path, holds the
s
s
subset that maps to v (2 1) (or w (2 1) ). The final detail is that the progression through the
Hamiltonian cycles is conducted over a series of rounds each round comprising k M (k  1)deals.
(d)
(d+1) i that occurs in this path  can
We have noted that each
 M (k1)-contract, hP , P
k 1
be interpreted as a set of
distinct O-contracts. An important property of the utility
2
functions employed is that unless p  k  1 there will beno individually
rational M (p)
1
contract path that realises the deal hP (d) , P (d+1) i, i.e. the k 
O-contract
deals must
2
occur simultaneously in order for the progression from P (d) to P (d+1) to be IR. Although
the required deal could be realised by a sequence of O-contracts (or, more generally, any
suitable M (k  2)-contract path), such realisations will not describe an IR contract path.
7. This can be shown by an easy inductive argument. For s = 2, the sequence h00, 01, 11, 10, 00i defines a
Hamiltonian cycle in H2 . Inductively assume that h1 , 2 , . . . , p , 1 i (with p = 2s ) is such a cycle in
Hs then h01 , 11 , 1p , 1p1 , . . . , 12 , 02 . . . , 0p , 01 i defines a Hamiltonian cycle in Hs+1 .

64

fiExtremal Behaviour in Multiagent Contract Negotiation

The construction of utility functions to guarantee such behaviour provides the principal
component in showing that the IR deal hP (1) , P (t) i cannot be realised with an IR M (k  2)contract path: if Q is any allocation for which hP (1) , Qi is an M (k  2)-contract then
hP (1) , Qi is not IR.
We now proceed with the proof of Theorem 6.
Proof. (of Theorem 6) Fix A = {A0 , A1 , . . . , Ak 1 }. R consists of
sets of s resources
{i,j } {i,j }
R{i,j } = {r1 , r2 , . . . , rs{i,j } }



k
2



pairwise disjoint

For k = 4 and s = 3 these yield A = {A0 , A1 , A2 , A3 } and
R{0,1}
R{0,2}
R{0,3}
R{1,2}
R{1,3}
R{2,3}

=
=
=
=
=
=

{0,1}

{0,1}

{0,1}

, r2
, r3
}
{r1
{0,2} {0,2} {0,2}
{r1
, r2
, r3
}
{0,3} {0,3} {0,3}
{r1
, r2
, r3
}
{1,2} {1,2} {1,2}
, r2
, r3
}
{r1
{1,3} {1,3} {1,3}
{r1
, r2
, r3
}
{2,3} {2,3} {2,3}
{r1
, r2
, r3
}

We use two ordering structures in defining the M (k  1)-contract path.
a.
S (v ) = v (0) , v (1) , . . . , v (i) , . . . , v (2

s 1)

, v (0)

a Hamiltonian cycle in Hs , where without loss of generality, v (0) = 111 . . . 11.
b.
S (w ) = w (0) , w (1) , . . . , w (i) , . . . , w (2

s 1)

, w (0)

the complementary Hamiltonian cycle to this, so that w (0) = 000 . . . 00.
Thus for k = 4 and s = 3 we obtain
a.
b.

S (v ) = h111, 110, 010, 011, 001, 000, 100, 101i
S (w ) = h000, 001, 101, 100, 110, 111, 011, 010i

We can now describe the M (k  1)-contract path.
 = hP (1) , P (2) , . . . , P (t) i

Initial Allocation: P (1) .
Define the k  k Boolean matrix, B = [bi,j ] (with 0  i , j  k  1) by

bi,j =



 

b

j ,i

 b
i,j 1

65

if
if
if

i =j
i >j
i <j

fiDunne

We then have for each 1  i  k ,
(1)

Pi

=

i1
[

{ R {j ,i} : bi,j = >} 

j =0

k[
1

{ R {i,j } : bi,j = >}

j =i+1

Thus, in our example,





B = 



>


>


>


>



>

>








Yielding the starting allocation
(1)

P0
(1)
P1
(1)
P2
(1)
P3

=
=
=
=

R{0,1}  R{0,3}
R{1,2}
R{0,2}  R{2,3}
R{1,3}

=
=
=
=

h111, 000, 111i
h000, 111, 000i
h111, 000, 111i
h000, 111, 000i






R{0,1}  R{0,2}  R{0,3}
R{0,1}  R{1,2}  R{1,3}
R{0,2}  R{1,2}  R{2,3}
R{0,3}  R{1,3}  R{2,3}

(1)

The third column in Pi indicating the 3-bit labels characterising each of the subsets of
R{i,j } for the three values that j can assume.
Rounds: The initial allocation is changed over a series of rounds
Q 1, Q 2, . . . , Q z
each of which involves exactly k distinct M (k  1)-contracts. We use Q x ,p to indicate the
allocation resulting after stage p in round x where 0  p  k  1. We note the following:
a. The initial allocation, P (1) will be denoted by Q 0,k 1 .
b. Q x ,0 is obtained using a single M (k  1)-contract from Q x 1,k 1 (when x  1).
c. Q x ,p is obtained using a single M (k  1)-contract from Q x ,p1 (when 0 < p  k  1).
Our final item of notation is that of the cube position of i with respect to j in an allocation
P , denoted (i , j , P ). Letting u be the s-bit string describing Pi  R{i,j } in some allocation
(1)
P , (i , j , P ) is the index of u in the Hamiltonian cycle S (v ) (when R{i,j }  Pi ) or the
(1)
Hamiltonian cycle S (w ) (when R{i,j }  Pj ). When P = Q x ,p for some allocation in the
sequence under construction we employ the notation (i , j , x , p), noting that one invariant
of our path will be (i , j , x , p) = (j , i , x , p), a property that certainly holds true of P (1) =
Q 0,k 1 since (i , j , 0, k  1) = (j , i , 0, k  1) = 0.
The sequence of allocations in  is built as follows. Since Q 1,0 is the immediate successor
of the initial allocation Q 0,k 1 , it suffices to describe how Q x ,p is formed from Q x ,p1 (when
p > 0) and Q x +1,0 from Q x ,k 1 . Let Q y,q be the allocation to be formed from Q x ,p . The
deal  = hQ x ,p , Q y,q i will be an M (k  1) contract in which A = A \ {Aq }. For each pair
{i , j }  A we have (i , j , x , p) = (j , i , x , p) in the allocation Q x ,p . In moving to Q y,q
exactly one element of R{i,j } is reallocated between Ai and Aj in such a way that in Q y,q ,
66

fiExtremal Behaviour in Multiagent Contract Negotiation

(i , j , y, q) = (i , j , x , p)+1, since Ai and Aj are tracing complementary Hamiltonian cycles
with respect to R{i,j } this ensures that (j , i , y, q) = (j , i , x , p) + 1, thereby maintaining
the invariant property.
Noting that for each distinct pair hi , j i, we either have R{i,j } allocated to Ai in P (1)
or R{i,j } allocated to Aj in P (1) , the description just outlined indicates that the allocation
P (d) = Q x ,p is completely specified as follows.
The cube position, (i , j , x , p), satisfies,

(i , j , x , p) =


0





 1 + (i , j , x  1, k  1)

(i , j , x  1, k  1)




1 + (i , j , x , p  1)




(i , j , x , p  1)

if
if
if
if
if

x = 0 and p = k  1
x  1, p = 0, and p 6 {i , j }
x  1, p = 0, and p  {i , j }
1  p  k  1, and p 6 {i , j }
1  p  k  1, and p  {i , j }

For each i , the subset of R{i,j } that is held by Ai in the allocation Q x ,p is,

v ((i,j ,x ,p))
w ((i,j ,x ,p))

if
if

(1)

R{i,j }  Pi
(1)
R{i,j }  Pj

(where we recall that s-bit labels in the hypercube Hs are identified with subsets
of R{i,j } .)
The tables below illustrates this process for our example.

d
1
2
3
4
5
6
7
8
9
..
.

x
0
1
1
1
1
2
2
2
2
..
.

p
3
0
1
2
3
0
1
2
3
..
.

i j
01
111
111
111
110
010
010
010
011
001

A0
i j i j
02 03
000 111
000 111
001 110
001 010
101 010
101 011
100 001
100 001
110 001
..
.
Subsets

i j
10
000
000
000
001
101
101
101
100
110

A1
i j
12
111
110
110
110
010
011
011
011
001
..
.

i j
13
000
001
001
101
101
100
100
110
110

i j
20
111
111
110
110
010
010
011
011
001

of R{i,j } held by Ai

67

A2
i j i j
21 23
000 111
001 110
001 010
001 010
101 010
100 011
100 001
100 001
110 001
..
.
in Q x ,p (k

i j
30
000
000
001
101
101
101
100
110
110
= 4,

A3
(d1)
,P (d) i
i j i j AhP
31 32
111 000

110 001 {A1 , A2 , A3 }
110 101 {A0 , A2 , A3 }
010 101 {A0 , A1 , A3 }
010 101 {A0 , A1 , A2 }
011 100 {A1 , A2 , A3 }
011 110 {A0 , A2 , A3 }
001 110 {A0 , A1 , A3 }
001 110 {A0 , A1 , A2 }
..
..
.
.
s = 3)

fiDunne

d
1
2
3
4
5
6
7
8
9
..
.

x
0
1
1
1
1
2
2
2
2
..
.

p
3
0
1
2
3
0
1
2
3
..
.

A0
A1
A2
A3
(d1) ,P (d) i
i j i j i j i j i j i j i j i j i j i j i j i j AhP
01 02 03 10 12 13 20 21 23 30 31 32
0
0
0
0
0
0
0
0
0
0
0
0

0
0
0
0
1
1
0
1
1
0
1
1 {A1 , A2 , A3 }
0
1
1
0
1
1
1
1
2
1
1
2 {A0 , A2 , A3 }
1
1
2
1
1
2
1
1
2
2
2
2 {A0 , A1 , A3 }
2
2
2
2
2
2
2
2
2
2
2
2 {A0 , A1 , A2 }
2
2
2
2
3
3
2
3
3
2
3
3 {A1 , A2 , A3 }
2
3
3
2
3
3
3
3
4
3
3
4 {A0 , A2 , A3 }
3
3
4
3
3
4
3
3
4
4
4
4 {A0 , A1 , A3 }
4
4
4
4
4
4
4
4
4
4
4
4 {A0 , A1 , A2 }
..
..
..
..
..
.
.
.
.
.
Cube Positions (i , j , x , p) (k = 4, s = 3)

It is certainly the case that this process of applying successive rounds of k deals could be
continued, however, we wish to do this only so long as it is not possible to go from some
allocation P (d) in the sequence to another P (d+r ) for some r  2 via an M (k  1)-contract.
Now if Q x ,p and Q y,q are distinct allocations generated by the process above then the
deal  = hQ x ,p , Q y,q i is an M (k  1)-contract if and only if for some Ai , Qix ,p = Qiy,q . It
follows that if hP (d) , P (d+r ) i is an M (k  1)-contract for some r > 1, then for some i and
(d+r )
(d)
all j 6= i , Pi
 R{i,j } = Pi  R{i,j } .
(d+r )
(d)
To determine the minimum value of r > 1 with which Pi
= Pi , we observe that
without loss of generality we need consider only the case d = i = 0, i.e. we determine
(1)
the minimum number of deals before P0 reappears. First note that in each round, Q x , if
(0, j , x  1, k  1) = p then (0, j , x , k  1) = p + k  2, i.e. each round advances the cube
position k  2 places: (0, j , x  1, k  1) = (0, j , x , 0) and (0, j , x , j ) = (0, j , x , j  1).
(1)
We can also observe that P0 = Q00,k 1 6= Q0x ,p for any p with 0 < p < k  1, since
(0, 1, x , p) = (0, 2, x , p) = . . . = (0, k  1, x , p)
only in the cases p = 0 and p = k  1. It follows that our value r > 1 must be of the form
qk where q must be such that q(k  2) is an exact multiple of 2s . From this observation we
see that,
(1)

min{ r > 1 : P0

(1+r )

= P0

} = min{ qk : q(k  2) is a multiple of 2s }

Now, if k is odd then q = 2s is the minimal such value, so that r = k 2s . If k is even then
it may be uniquely written in the form z 2l + 2 where z is odd so giving q as 1 (if l  s) or
2sl (if l  s), so that these give r = k and r = z 2s + 2sl+1 , e.g. for k = 4 and s = 3, we
(1)
(17)
get k = 1  21 + 2 so that r = 23 + 231+1 = 16 and in our example P0 = P0 may be
easily verified. In total,
r


s

 k2

k


 2s

if
if
if

k is odd
k = z 2l + 2, z is odd, and l  s
k = z 2l + 2, z is odd and l  s
68

fiExtremal Behaviour in Multiagent Contract Negotiation

All of which immediately give r  2s (in the second case k  2s , so the inequality holds
s
trivially), and thus we
 can
 continue the chain of M (k  1) contracts for at least 2 moves.
Recalling that m = s k2 , this gives the length of the M (k  1)-contract path
 = hP (1) , P (2) , . . . , P (t) i
written in terms of m and k as at least8
m/



2

k
2


2m

 1 = 2 k (k 1)  1

It remains to define appropriate utility functions U = hu0 , . . . , uk 1 i in order to ensure that
 is the unique IR M (k  1)-contract path realising the IR M (k )-deal hP (1) , P (t) i. In
defining U it will be convenient to denote  as the path
 = hQ 0,k 1 , Q 1,0 , Q 1,1 , . . . , Q 1,k 1 , . . . , Q x ,p , . . . , Q r ,k 1 i
and, since rk  2s , we may without loss of generality, focus on the first 2s allocations in
this contract path.
Recalling that (i , j , x , p) is the index of the s-bit label u corresponding to Qix ,p  R{i,j }
in the relevant Hamiltonian cycle  i.e. S (v ) if R{i,j }  Qi0,k , S (w ) if R{i,j }  Qj0,k 1  we
note the following properties of the sequence of allocations defined by  that hold for each
distinct i and j .
P1.  x , p (i , j , x , p) = (j , i , x , p)
P2. If Q y,q is the immediate successor of Q x ,p in  then (i , j , y, q)  (i , j , x , p) + 1
with equality if and only if q 6 {i , j }.
P3.  i 0 , j 0 with 0  i 0 , j 0  k  1, (i , j , x , k  1) = (i 0 , j 0 , x , k  1).
The first two properties have already been established in our description of . The third
follows from the observation that within each round Q x , each cube position is advanced by
exactly k  2 in progressing from Q x 1,0 to Q x ,k 1 .
The utility function ui is now given, for S  Rm , by
( P

j 6=i
2km

ui (S ) =

(i , j , x , p)

if S = Qix ,p for some 0  x  r , 0  p  k  1
otherwise

We claim that, with these choices,
 = hQ 0,k 1 , Q 1,0 , Q 1,1 , . . . , Q 1,k 1 , . . . , Q x ,p , . . . , Q r ,k 1 i
is the unique IR M (k  1)-contract path realising the IR M (k )-deal hQ 0,k 1 , Q r ,k 1 i. Certainly,  is an IR M (k  1)-contract path: each deal  = hQ x ,p , Q y,q i on this path has
|A | = k  1 and since for each agent Ai in A = A \ {Aq } the utility of Qiy,q has increased
8. We omit the
operation b. . .c in the exponent, which is significant only if m is not an exact
 rounding

multiple of

k
2

, in which event the device described in our overview of the proof is applied.

69

fiDunne

by exactly k  2, i.e. each cube position of i with respect to j whenever q 6 {i , j } has
increased, it follows that u (Q y,q ) > u (Q x ,p ) and hence hQ x ,p , Q y,q i is IR.
We now show that  is the unique IR M (k  1)-contract path continuation of Q 0,k 1
Suppose  = hQ x ,p , P i is a deal that deviates from the contract path  (having followed
it through to the allocation Q x ,p ). Certainly both of the following must hold of P : for
each i , Pi  j 6=i R{i,j } ; and there is a k -tuple of pairs h(x0 , p0 ), . . . , (xk 1 , pk 1 )i with
which Pi = Qixi ,pi , for if either fail to be the case for some i , then ui (Pi ) = 2km with the
consequent effect that u (P ) < 0 and thence not IR. Now, if Q y,q is the allocation that
would succeed Q x ,p in  then P 6= Q y,q , and thus for at least one agent, Qixi ,pi 6= Qiy,q .
It cannot be the case that Qixi ,pi corresponds to an allocation occurring strictly later than
Qiy,q in  since such allocations could not be realised by an M (k  1)-contract. In addition,
since Pi = Qixi ,pi it must be the case that |A | = k  1 since exactly k  1 cube positions in
the holding of Ai must change. It follows that there are only two possibilities for (yi , pi ):
Pi reverts to the allocation immediately preceding Qix ,p or advances to the holding Qiy,q .
It now suffices to observe that a deal in which some agents satisfy the first of these while
the remainder proceed in accordance with the second either does not give rise to a valid
allocation or cannot be realised by an M (k 1)-contract. On the other hand if P corresponds
to the allocation preceding Q x ,p then  is not IR. We deduce, therefore, that the only IR
M (k  1) deal that is consistent with Q x ,p is that prescribed by Q y,q .
This completes the analysis needed for the proof of part (b) of the theorem. It is
clear that since the system contains only k agents, any deal hP , Qi can be effected with
a single M (k )-contract, thereby establishing part (a). For part (c)  that the IR deal
hP (1) , P (t) i cannot be realised using an individually rational M (k  2)-contract path, it
suffices to observe that since the class of IR M (k  2)-contracts are a subset of the class
of IR M (k  1)-contracts, were it the case that an IR M (k  2)-contract path existed to
implement hP (1) , P (t) i, this would imply that  was not the unique IR M (k  1)-contract
path. We have, however, proved that  is unique, and part (c) of the theorem follows. 2
We obtain a similar development of Corollary 1 in
Corollary 3 For all k  3, n  k , m 



k
2



and each of the cases below,

a. k () holds if and only if  is a cooperatively rational M (k )-contract.
() holds if and only if  is cooperatively rational.
b. k () holds if and only if  is  is an equitable M (k )-contract.
() holds if and only if  is is equitable.
there is a resource allocation setting hA, R, Ui and a -deal  = hP , Qi for which
Lopt (, hA, R, Ui, k )
Lopt (, hA, R, Ui, k 1 )
Lopt (, hA, R, Ui, k 2 )

=


1
2b2m/k (k 1)c  1
is undefined

(a)
(b)
(c)

Proof. As with the proof of Corollary 1 in relation to Theorem 3, in each case we employ
the contract path from the proof of Theorem 6, varying the definition of U = hu1 , u2 , . . . , uk i
in order to establish each result. Thus let
m

=
=

hP (1) , P (2) , . . . , P (r ) , . . . , P (t) i
hQ 0,k 1 , Q 1,0 , . . . , Q x ,p , . . . , Q z ,r i
70

fiExtremal Behaviour in Multiagent Contract Negotiation

be the M (k  1)-contract path realising the M (k )-deal hP (1) , P (t) i described in the proof
of Theorem 6, this path having length t  2b2m/k (k  1)  1.
a. The utility functions U = hu0 , . . . , uk 1 i of Theorem 6 ensure that hP (1) , P (t) i is
cooperatively rational and that m is a cooperatively rational M (k  1)-contract
path realising hP (1) , P (t) i: the utility held by Ai never decreases in value and there is
at least one agent (in fact exactly k  1) whose utility increases in value. Furthermore
m is the unique cooperatively rational M (k  1)-contract path realising hP (1) , P (t) i
since, by the same argument used in Theorem 6, any deviation will result in some
agent suffering a loss of utility.
b. Set the utility functions U = hu0 , . . . , uk 1 i as,

ui (S ) =



1





xk 2 + k  i



2

(x  1)k + k + p


(x  1)k 2 + k  i + p + 1





xk 2 + 1


 xk 2 + 1 + p  i

if
if
if
if
if
if

S
S
S
S
S
S

6= Qix ,p for any Q x ,p  m
= Qix ,k 1
= Q0x ,p , p < k  1 and i = 0
= Qix ,p , p < i  1 and i 6= 0.
= Qix ,i1 = Qix ,i and i 6= 0.
= Qix ,p , p > i and i 6= 0

To see that these choices admit m as an equitable M (k  1)-contract path realising
the equitable deal hQ 0,k 1 , Q z ,r i, we first note that
min

0ik 1

{ui (Qiz ,r )} > 1 =

min

0ik 1

{ui (Qi0,k 1 )}

thus, hQ 0,k 1 , Q z ,r i is indeed equitable. Consider any deal  = hQ x ,p , Q y,q i occurring
within m . It suffices to show that
min

0ik 1

{ui (Qix ,p )} 6= uq (Qqx ,p )

since Aq 6 A , and for all other agents ui (Qiy,q ) > ui (Qix ,p ). We have two possibilities:
q = 0 (in which case p = k  1 and y = x + 1); q > 0 (in which case p = q  1).
Consider the first of these: u0 (Q0x ,k 1 ) = xk 2 + k , however,
,k 1
)
min{ui (Qix ,k 1 )} = xk 2 + 1 = uk 1 (Qkx1

and hence every deal hQ x ,k 1 , Q x +1,0 i forming part of m is equitable.
In the remaining case, uq (Qqx ,q1 ) = xk 2 + 1 and
min{ui (Qix ,q1 )}


=
<
=
<
=

u0 (Q0x ,q1 )
(x  1)k 2 + k + q  1
xk 2  (k 2  2k + 1)
xk 2  (k  1)2
xk 2 + 1
uq (Qqx ,q1 )

and thus the remaining deals hQ x ,q1 , Q x ,q i within m are equitable. By a similar
argument to that employed in Theorem 6 it follows that m is the unique equitable
M (k  1)-contract path realising hQ 0,k 1 , Q z ,r i.
2

71

fiDunne

Monotone Utility Functions and M (k )-contract paths
The device used to develop Theorem 3 to obtain the path of Theorem 4 can be applied
to the rather more intricate construction of Theorem 6, thereby allowing exponential lower
bounds on max
mono (n, m, k , ) to be derived. We will merely outline the approach rather than
present a detailed technical exposition. We recall that it became relatively straightforward
to define suitable monotone utility functions once it was ensured that the subset sizes of
interest  i.e. those for allocations arising in the O-contract path  were forced to fall into
a quite restricted range. The main difficulty that arises in applying similar methods to the
path  of Theorem 6 is the following: in the proof of Theorem 4 we consider two agents
so that converting s from a setting with s resources in Theorem 3 to ext(s ) with 2s
resources in Theorem 4 is achieved by combining complementary allocations, i.e.   Rs
with   Ts . We can exploit two facts, however, to develop a path multi () for which
monotone
utility functions could be defined: the resource set Rm in Theorem 6 consists of


k
disjoint sets of size s; and any deal  on the path  involves a reallocation of R{i,j }
2
between Ai and Aj when {i , j }  A . Thus letting Tm be formed by
T {i,j } each of size s, suppose that
(d)

(d)
Pi

(d)



k
2



disjoint sets,

is described by
(d)

(d)

(d)

i,0 i,1    i,i1 i,i+1    i,k 1
(d)

with i,j the s-bit label corresponding to the subset of R {i,j } that is held by Ai in P (d) .
Consider the sequence of allocations,
multi () = hC (1) , C (2) , . . . , C (t) i
(d)

in a resource allocation setting have k agents and 2m resources  Rm  Tm for which Ci
is characterised by
(d) (d)
(d)
(d)
(d)
i,0 i,1    i,i1 i,i+1    i,k 1
(d)

In this, i,j , indicates the subset of R{i,j }  T {i,j } described by the 2s-bit label,
(d)

i,j
(d)

(d)

(d)

= i,j i,j
(d)

i.e. i,j selects a subset of R{i,j } while i,j a subset of T {i,j } .
It is immediate from this construction that for each allocation C (d) in multi () and each
(d)
Ai , it is always the case that |Ci | = (k  1)s. It follows, therefore, that the only subsets
that are relevant to the definition of monotone utility functions with which an analogous
result to Theorem 6 for the path multi () could be derived, are those of size (k  1)s: if
S  Rm Tm has |S | < (k 1)s, we can fix ui (S ) as a small enough negative value; similarly
if |S | > (k  1)s then ui (S ) can be set to a large enough positive value.9
Our description in the preceding paragraphs, can be summarised in the following result, whose proof is omitted: extending the outline given above to a formal lower bound
9. It is worth noting that the interpolation stage used in Theorem 4 is not needed in forming multi():
the deal hC (d) , C (d+1) i is an M (k 1)-contract. We recall that in going from s of Theorem 3 to ext(s )
the intermediate stage  double(s )  was not an O-contract path.

72

fiExtremal Behaviour in Multiagent Contract Negotiation

proof, is largely a technical exercise employing much of the analysis already introduced, and
since nothing signifcantly new is required for such an analysis we shall not give a detailed
presentation of it.
Theorem 7 Let k (P , Q) be the predicate which
 holds whenever hP , Qi is an IR M (k )contract. For all k  3, n  k and m  2 k2 , there is a resource allocation setting
hA, R, Ui in which every u  U is monotone, and an IR deal  = hP , Qi for which,
Lopt (, hA, R, Ui, k )
Lopt (, hA, R, Ui, k 1 )
Lopt (, hA, R, Ui, k 2 )

=


1
2bm/k (k 1)c

1
is undefined

(a)
(b)
(c)

4. Related Work
The principal focus of this article has considered a property of contract paths realising rational reallocations hP , Qi when the constituent deals are required to conform to a structural
restriction and satisfy a rationality constraint. In Section 2 the structural restriction limited
deals to those involving a single resource, i.e. O-contracts. For the rationality constraint
forcing deals strictly to improve utilitarian social welfare, i.e. to be individually rational
(IR) we have the following properties.
a. There are resource allocation settings hA, R, Ui within which there are IR reallocations
hP , Qi that cannot be realised by a sequence of IR O-contracts. (Sandholm, 1998,
Proposition 2)
b. Every IR reallocation, hP , Qi, that can be realised by an IR O-contract path, can be
realised by an IR O-contract path of length at most n m  (n  1)m. (Sandholm, 1998,
Proposition 2)
c. Given hA, R, Ui together with an IR reallocation hP , Qi the problem of deciding if
hP , Qi can be implemented by an IR O-contract path is nphard, even if |A| = 2 and
both utility functions are monotone. (Dunne et al., 2003, Theorem 11).
d. There are resource allocation settings hA, R, Ui within which there are IR reallocations
hP , Qi that can be realised by an IR O-contract path, but with any such path having
length exponential in m. This holds even in the case |A| = 2 and both utility functions
are monotone. (Theorem 3 and Theorem 4 of Section 2)
In a recent article Endriss and Maudet (2004a) analyse contract path length also considering
O-contracts with various rationality constraints. Although the approach is from a rather
different perspective, the central question addressed  How many rational deals are required
to reach an optimal allocation?, (Endriss & Maudet, 2004a, Table 1, p. 629)  is closely
related to the issues discussed above. One significant difference in the analysis of rational Ocontracts from Sandholms (1998) treatment and the results in Section 2 is that in (Endriss
& Maudet, 2004a) the utility functions are restricted so that every rational reallocation
hP , Qi can be realised by a rational O-contract path. The two main restrictions examined
P
are requiring utility functions to be additive, i.e. for every S  R, u(S ) = r S u(r );
73

fiDunne

and, requiring the value returned to be either 0 or 1, so-called 0  1 utility functions.
Additive utility functions are considered in the case of IR O-contracts (Endriss & Maudet,
2004a, Theorems 3, 9), whereas 01 utility functions for cooperatively rational O-contracts
max
(Endriss & Maudet, 2004a, Theorems 4, 11). Using max
add (n, m, , ) and 01 (n, m, , )
to denote the functions introduced in Definition 6 where all utility functions are additive
(respectively 01), cf. the definition of max
mono , then with 1 (P , Q) holding if hP , Qi is an IR
O-contract; 2 (P , Q) holding if hP , Qi is a cooperatively rational O-contract and (P , Q)
true when hP , Qi is IR, we may formulate Theorems 9 and 11 of (Endriss & Maudet, 2004a)
in terms of the framework used in Definition 6, as
max
add (n, m, 1 , )
max
01 (n, m, 2 , )

=
=

m
m

(Endriss & Maudet, 2004a, Theorem 9)
(Endriss & Maudet, 2004a, Theorem 11)

We can, of course, equally couch Theorems 3 and 4 of Section 2 in terms of the shortestpath convention adopted in (Endriss & Maudet, 2004a), provided that the domains of
utility and reallocation instances are restricted to those for which an appropriate O-contract
path exists. Thus, we can obtain the following development of (Endriss & Maudet, 2004a,
Table 1) in the case of O-contracts.
Utility Functions
Rationality
Shortest Path
Complete

Additive
IR
m
Yes

0-1
CR
m
Yes

Unrestricted
IR
(2m )
No

Monotone
IR
(2m/2 )
No

Unrestricted
CR
(2m )
No

Monotone
CR
(2m/2 )
No

Table 2: How many O-contract rational deals are required to reach an allocation?
Extension of Table 1 from (Endriss & Maudet, 2004a, p. 629)

5. Conclusions and Further Work
Our aim in this article has been to develop the earlier studies of Sandholm (1998) concerning
the scope and limits of particular practical contract forms. While Sandholm (1998) has
established that insisting on individual rationality in addition to the structural restriction
prescribed by O-contracts leads to scenarios which are incomplete (in the sense that there
are individually rational deals that cannot be realised by individually rational O-contracts)
our focus has been with respect to deals which can be realised by restricted contract paths,
with the intention of determining to what extent the combination of structural and rationality conditions increases the number of deals required. We have shown that, using a number
of natural definitions of rationality, for settings involving m resources, rational O-contract
paths of length (2m ) are needed, whereas without the rationality restriction on individual
deals, at most m O-contracts suffice to realise any deal. We have also considered a class
of deals  M (k )-contracts  that were not examined in (Sandholm, 1998), establishing for
these cases that, when particular rationality conditions are imposed, M (k  1)-contract
2
paths of length (22m/k ) are needed to realise a deal that can be achieved by a single
M (k )-contract.
We note that our analyses have primarily been focused on worst-case lower bounds
on path length when appropriate paths exist, and as such there are several questions of
74

fiExtremal Behaviour in Multiagent Contract Negotiation

practical interest that merit further discussion. It may be noted that the path structures
and associated utility functions are rather artificial, being directed to attaining a path of a
specific length meeting a given rationality criterion. We have seen, however, in Theorems 4
and 5 as outlined in our discussion concluding Section 3 that the issue of exponential length
contract paths continues to arise even when we require the utility functions to satisfy a
monotonicity condition. We can identify two classes of open question that arise from these
results.
Firstly, focusing on IR O-contract paths, it would be of interest to identify natural
restrictions on utility functions which would ensure that, if a deal hP , Qi can be implemented
by an IR O-contract path, then it can be realised by one whose length is polynomially
bounded in m, e.g. such as additivity mentioned in the preceding section. We can interpret
Theorem 4, as indicating that monotonicity does not guarantee short IR contract paths.
We note, however, that there are some restrictions that suffice. To use a rather trivial
example, if the number of distinct values that u can assume is at most m p for some
constant p then no IR O-contract path can have length exceeding m p : successive deals
must strictly increase u and if this can take at most K different values then no IR contract
path can have length exceeding K . As well as being of practical interest, classes of utility
function with the property being considered would also be of some interest regarding one
complexity issue. The result proved in (Dunne et al., 2003) establishing that deciding if an
IR O-contract path exists is np-hard, gives a lower bound on the computational complexity
of this problem. At present, no (non-trivial) upper bound on this problems complexity
has been demonstrated. Our results in Theorems 3 and 4 indicate that if this decision
problem is in np (thus its complexity would be npcomplete rather than nphard) then
the required polynomial length existence certificate may have to be something other than
the path itself.10 We note that the proof of nphardness in (Dunne et al., 2003) constructs
an instance in which u can take at most O(m) distinct values: thus, from our example of
a restriction ensuring that if such are present then IR O-contract paths are short, this
result of (Dunne et al., 2003) indicates that the question of deciding their existence might
remain computationally hard.
Considering restrictions on the form of utility functions is one approach that could be
taken regarding finding tractable cases. An alternative would be to gain some insight
into what the average path length is likely to be. In attempting to address this question,
however, a number of challenging issues arise. The most immediate of these concerns,
of course, the notion of modeling a distribution on utility function given our definitions
of rationality in terms of the value agents attach to their resource holdings. In principle
an average-case analysis of scenarios involving exactly two agents could be carried out in
purely graph-theoretic terms, i.e. without the complication of considering utility functions
directly. It is unclear, however, whether such a graph-theoretic analysis obviating the need
for consideration of literal utility functions, can be extended beyond settings involving
exactly two agents. One difficulty arising with three or more agents is that our utility
10. The use of may rather than must is needed because of the convention for representing utility functions
employed in (Dunne et al., 2003).

75

fiDunne

functions have no allocative externalities, i.e. given an allocation hX , Y , Z i to three agents,
u1 (X ) is unchanged should Y  Z be redistributed among A2 and A3 .11
As one final set of issues that may merit further study we raise the following. In
our constructions, the individual deals on a contract path must satisfy both a structural
condition (be an O-contract or involve at most k agents), and a rationality constraint.
Focusing on O-contracts we have the following extremes: from (Sandholm, 1998), at most
m O-contracts suffice to realise any rational deal; from our results above, (2m ) rational
O-contracts are needed to realise some rational deals. There are a number of mechanisms
we can employ to relax the condition that every single deal be an O-contract and be
rational. For example, allow a path to contain some number of deals which are not Ocontracts (but must still be IR) or insist that all deals are O-contracts but allow some to
be irrational. Thus, in the latter case, if we go to the extent of allowing up to m irrational
O-contracts, then any rational deal can be realised efficiently. It would be of some interest
to examine issues such as the effect of allowing a constant number, t, of irrational deals
and questions such as whether there are situations in which t irrational contracts yield
a short contract path but t  1 force one of exponential length. Of particular interest,
from an application viewpoint, is the following: define a ((m), O)-path as an O-contract
path containing at most (m) O-contracts which are not individually rational. We know
that if (m) = 0 then individually rational (0, O)-paths are not complete with respect to
individually rational deals; similarly if (m) = m then (m, O)-paths are complete with
respect to individually rational deals. A question of some interest would be to establish
if there is some (m) = o(m) for which ((m), O)-paths are complete with respect to
individually rational deals and with the maximum length of such a contract path bounded
by a polynomial function of m.

Acknowledgements
The author thanks the reviewers of an earlier version of this article for their valuable comments and suggestions which have contributed significantly to its content and organisation.
The work reported in this article was carried out under the support of EPSRC Grant
GR/R60836/01.

References
Abbott, H. L., & Katchalski, M. (1991). On the construction of snake in the box codes.
Utilitas Mathematica, 40, 97116.
Atkinson, A. (1970). On the measurement of inequality. Jnl. Econ. Theory, 2, 244263.
Chateauneaf, A., Gajdos, T., & Wilthien, P.-H. (2002). The principle of strong diminishing
transfer. Jnl. Econ. Theory, 103, 311333.
11. A very preliminary investigation of complexity-theoretic questions arising in settings with allocative
externalities is presented in (Dunne, 2004) where these are referred to as contextdependent: such
utility functions appear to have been neglected in the computational and algorithmic analysis of resource
allocation problems, although the idea is well-known to game-theoretic models in economics from which
the term allocative externality originates.

76

fiExtremal Behaviour in Multiagent Contract Negotiation

Dignum, F., & Greaves, M. (2000). Issues in Agent Communication, Vol. 1916 of LNCS.
Springer-Verlag.
Dunne, P. (2003). Prevarication in dispute protocols. In Proc. Ninth International Conf.
on A.I. and Law (ICAIL03), pp. 1221, Edinburgh. ACM Press.
Dunne, P. (2004). Context dependence in multiagent resource allocation. In Proc. ECAI04,
pp. 100001, Valencia.
Dunne, P., & McBurney, P. (2003). Optimal utterances in dialogue protocols. In Proc. Second International Joint Conf. on Autonomous Agents and Multiagent Systems (AAMAS03), pp. 608615. ACM Press.
Dunne, P., Wooldridge, M., & Laurence, M. (2003). The complexity of contract negotiation.
Tech. rep. ULCS-03-002, Dept. of Computer Science, Univ. of Liverpool. (to appear
Artificial Intelligence).
Endriss, U., & Maudet, N. (2004a). On the communication complexity of multilateral trading. In Proc. Third International Joint Conf. on Autonomous Agents and Multiagent
Systems (AAMAS04), pp. 622629.
Endriss, U., & Maudet, N. (2004b). Welfare engineering in multiagent systems. In Omicini,
A., Petta, P., & Pitt, J. (Eds.), Proc. Fourth International Workshop on Engineering
Societies in the Agents World (ESAW-2003), Vol. 3071 of LNAI, pp. 93106. SpringerVerlag.
Endriss, U., Maudet, N., Sadri, F., & Toni, F. (2003). On optimal outcomes of negotiations
over resources. In Proc. Second International Joint Conf. on Autonomous Agents and
Multiagent Systems (AAMAS03), pp. 177184. ACM Press.
Kautz, W. H. (1958). Unit distance error checking codes. IRE Trans. on Electronic Computers, 7, 179180.
Kolm, S.-C. (1976). Unequal inequalities. Jnl. Econ. Theory, 13, 82111.
Kraus, S. (2001). Strategic negotiation in multiagent environments. MIT Press.
McBurney, P., Parsons, S., & Wooldridge, M. (2002). Desiderata for argumentation protocols. In Proc. First International. Joint Conf. on Autonomous Agents and Multiagent
Systems (AAMAS02), pp. 402409. ACM Press.
Parkes, D. C., & Ungar, L. H. (2000a). Iterative combinatorial auctions: theory and practice.
In Proc. 17th National Conf. on Artificial Intelligence (AAAI-00), pp. 7481.
Parkes, D. C., & Ungar, L. H. (2000b). Preventing strategic manipulation in iterative
auctions: proxy agents and price adjustment. In Proc. 17th National Conf. on Artificial
Intelligence (AAAI-00), pp. 8289.
Rosenschein, J. S., & Zlotkin, G. (1994). Rules of Encounter. MIT Press.
Sandholm, T. W. (1998). Contract types for satisficing task allocation: I theoretical results.
In AAAI Spring Symposium: Satisficing Models.
Sandholm, T. W. (1999). Distributed rational decision making. In Wei, G. (Ed.), Multiagent Systems, pp. 201258. MIT Press.

77

fiDunne

Sandholm, T. W. (2002). Algorithm for optimal winner determination in combinatorial
auctions. Artificial Intelligence, 135, 154.
Sandholm, T. W., & Suri, S. (2003). Bob: Improved winner determination in combinatorial
auctions and generalizations. Artificial Intelligence, 145, 3358.
Sandholm, T. W., Suri, S., Gilpin, A., & Levine, D. (2001). Cabob: A fast optimal algorithm
for combinatorial auctions.. In Proc. IJCAI-01, pp. 11021108.
Smith, R. G. (1980). The contract net protocol: high-level communication and control in a
distributed problem solver. IEEE Trans. on Computers, C-29 (12), 11041113.
Tennenholz, M. (2000). Some tractable combinatorial auctions. In Proc. 17th National
Conf. on Artificial Intelligence (AAAI-00).
Yokoo, M., Sakurai, Y., & Matsubara, S. (2004). The effect of false-name bids in combinatorial auctions: new fraud in internet auctions. Games and Economic Behavior,
46 (1), 174188.

78

fi