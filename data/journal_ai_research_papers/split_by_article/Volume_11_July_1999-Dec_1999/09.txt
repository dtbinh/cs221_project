Journal of Artificial Intelligence Research 11 (1999) 361-390

Submitted 6/99; published 11/99

The Complexity of Reasoning about Spatial Congruence
Matteo Cristani

Dipartimento Scientifico e Tecnologico,
Universita di Verona,
Ca Vignal 2, strada Le Grazie, I-37134 Verona

cristani@sci.univr.it

Abstract

In the recent literature of Artificial Intelligence, an intensive research effort has been
spent, for various algebras of qualitative relations used in the representation of temporal and
spatial knowledge, on the problem of classifying the computational complexity of reasoning
problems for subsets of algebras. The main purpose of these researches is to describe
a restricted set of maximal tractable subalgebras, ideally in an exhaustive fashion with
respect to the hosting algebras.
In this paper we introduce a novel algebra for reasoning about Spatial Congruence, show
that the satisfiability problem in the spatial algebra MC-4 is NP-complete, and present a
complete classification of tractability in the algebra, based on the individuation of three
maximal tractable subclasses, one containing the basic relations. The three algebras are
formed by 14, 10 and 9 relations out of 16 which form the full algebra.

1. Introduction
Qualitative spatial reasoning has received an increasing amount of interest in the recent
literature. The main reason for this, as already observed by Jonsson and Drakengren (1997),
is probably that spatial reasoning has proved to be applicable to real-world problems, as in
Geographical Information Systems (Egenhofer, 1991; Grigni, Papadias, & Papadimitriou,
1995), and Molecular Biology (Cui, 1994).
The specific stress on qualitative reasoning about space, as observed by Zimmermann
(1995), is justified by the fact that qualitative spatial relations can be treated as eciently
as their quantitative counterparts, but they seem to be closer to the model of relations
humans adopt for spatial reasoning.
Even though qualitative spatial reasoning has an extended literature, in spite of its
relatively short history, certain aspects of the discipline have been neglected. In particular,
no exhaustive computational perspective has been developed on qualitative morphological
reasoning about space. The term morphological reasoning is intended to suggest reasoning
about the internal structure of the objects. In the case of spatial reasoning this includes
reasoning about the size, shape and internal topology of spatial regions.
The purpose of the present work is to analyse the complexity of reasoning about relations
of congruence, either actual or partial, between spatial regions, using the spatial algebra
MC-4 which has been preliminarly analysed by Cristani (1997).
The algebra MC-4 is a Constraint Algebra (Ladkin & Maddux, 1994) for qualitative
reasoning about the morphological relation of congruence. Two spatial regions, in the
models documented in literature, are considered to be equivalent if and only if they share
interior and boundaries, namely if and only if they are the same spatial region. In particular,
c 1999 AI Access Foundation and Morgan Kaufmann Publishers. All rights reserved.

fiCristani

the relation EQ, as defined by Randell, Cui and Cohn (1989), and analogously by Egenhofer
and Franzosa (1991), becomes identity under the unique name assumption. Geometry and
topology, conversely, allow other kinds of equivalence relations. These relations are weaker
than the identity, namely the equivalence classes they induce are larger than singletons.
The simplest weakening we can define is the congruence relation. Even though, the
relation has been studied (Borgo, Guarino, & Masolo, 1996, 1997; Cristani, 1997; Mutinelli,
1998), the complexity of reasoning in subalgebras has not yet been deeply investigated.
The reason to introduce this new relation, and to provide an algebraic structure to host
relations based on it (in particular relations in which we compare regions, which, even if
they are not congruent, can be overlapped by roto-translating one into the interior of the
other), is that, in many cases, the knowledge we have to represent in our systems necessarily
includes internal structures. Consider the following example.

Example 1
A GIS is dedicated to the representation of geographical data about industrial sites.
In the system, the structure of factories can be described by means of various attributes,
including size and shape. One of the users wants to query the system about the opportunity
of moving the factory, where he works, from the present site to a new one. In the new site
prefabricated facilities already exist, and the problem consists of deciding how to preserve
topological layout of the factory and minimise the costs of buying new engines, to substitute
those which cannot fit with the new facilities.
In order to reason about these problems the system can be made able to represent the
qualitative relations between the old and new site parts, establishing, in particular whether
the spatial regions occupied by the engines are \congruent", or even \congruent to a part"
of the ones which can be chosen for hosting them in the new factory's site.
Clearly we cannot use topological information, since a spatial region presently occupied
by an engine is surely disjoint from the region that this engine is going to occupy in the new
site, but this information is insucient for deciding whether the new site is able to host the
engine itself.
Though metric information can be involved in final decision about moving the factory,
qualitative reasoning can be used in the initial design phase.
In Figure 1 we give a pictorial representation of one possible situation in which, to make
decisions, we need to represent spatial information which is not topological.


The algebra MC-4 can be used to represent the four basic relations which can be built on
the equivalence relation of congruence: if we consider the roto-translation of a region x with
respect to a region y, only four possible situations arise.
 There is at least one roto-translation in which x coincides with y. The two regions
are congruent.
 There is at least one roto-translation in which x coincides with a proper part of y.
The region x is congruent to a proper part of y.
362

fiThe Complexity of Reasoning about Spatial Congruence

Figure 1: A pictorial representation of the relations to be analysed in a GIS for moving
a factory from an old to a new site. Note that the production lines of the new
facility may not be suitable for hosting certain engines.

 There is at least one roto-translation in which y coincides with a proper part of x.
The region x has a proper part congruent to y.
 None of the above. The region x and y cannot be perfectly overlapped.
We would like to stress here three main aspects of these relations.
1. The relations can be established between two spatial regions in any position of space.
There is no specific need for the regions to be close, or to be in any particular topological relation, provided that the relation is compatible; so these congruence relations
are purely morphological.
2. The equality of two regions implies congruence. The relation of proper part excludes
morphological relations other than \congruent to a part". This is not the case for the
morphological side. A region can be congruent to a part of another region, even if
they are disjoint, and the same can happen to congruence, as already stated in point
1.
3. Even if two regions are of the same size, there may be the case that the regions are
not congruent. This holds also for partial congruence, being possible that a region is
smaller than another one but they cannot be overlapped.
The practical relevance of the algebra can be proved by exhibiting many other examples,
especially coming from GIS. In this paper we deal with the problem of reasoning about
congruence in two-dimensional space domain. The kind of congruence we assume is the
weakest one: roto-translability. Three-dimensional congruence is not of the same type. The
\natural" notion of three-dimensional congruence is isometry, which is much more general
than roto-translability. For example left and right hands are congruent (under the simplified
assumption that they have the same shape and size), but they cannot be roto-translated
each into the other one. We concentrate here in two-dimensional reasoning which may be
363

fiCristani

analysed in terms of roto-translation and topological relations. The analysis of isometries
is left for further work.
The paper is organised as follows. Section 2 describes related work which has been
developed in the area. Section 3 presents the spatial algebra MC-4, and Section 4 discusses
the classification of tractability we found for this algebra. Finally, in Section 5, some
conclusions are given.

2. Previous Work
From the perspective of individuating primitives to describe space, a significant effort has
been lately spent, in the direction of defining binary relations between spatial regions, which
may be used as a model of space in qualitative terms. Moreover, it was natural, in the AI
community, to use Constraint Processing for reasoning about such binary relations. A
specific attention to Constraint Processing emerged in the Spatial Database community,
and in the community of Geographical Information Science as well.
Two apparently independently developed models, which can be shown to be essentially
equivalent, exist in the Artificial Intelligence (Randell & Cohn, 1989; Randell, Cui, &
Cohn, 1992) and Spatial Database literatures (Egenhofer & Herring, 1990; Egenhofer &
Franzosa, 1991; Franzosa & Egenhofer, 1992). The Artificial Intelligence model, (Randell &
Cohn, 1989; Randell et al., 1992) is known as RCC, where the acronym stands for Region
Connection Calculus.
The RCC model is centered on the primitive of \connection" as originally suggested
by Clarke (1981). Gotts (1994) and further Gotts, Gooday and Cohn (1996) obtained
connection to be the only primitive. In the original framework (Randell & Cohn, 1989;
Randell et al., 1992) the model was formulated in two versions, now called RCC-5 and
RCC-8. The RCC-5 model is a model in which we cannot distinguish between interior
and boundary of a spatial region (so that the external connection may be tangency or
overlapping, for example), while in the RCC-8 model this distinction is possible.
Bennett (1994, 1995), used propositional logic to represent RCC reasoning problems. He
observed that, given a propositional logic, and interpreting the truth values of each formula
as a spatial region, the language of RCC-5 is sucient to express a satisfaction problem at
the semantical level. This fact, however, is not due to the spatial interpretation, because
a non-spatial interpretation in which the RCC-5 relations are still sucient to represent
truth condition at semantical level can be found: set theory. Therefore, he applied the
result of Cook (1971) on NP-completeness of classical propositional logic to the restricted
model RCC-5, proving that deciding the consistency of a Constraint Satisfaction Problem
(CSP) on RCC-5 is an NP-complete problem too.
The complete model of RCC-8, instead, can not be analysed in terms of pure set theory,
because the distinction between boundary-connection and interior-connection is possible.
This distinction means that the minimal interpretation in which RCC-8 still provides a
correct and complete representation of truth conditions at semantical level requires topology.
Statman (1979) proved that intuitionistic logic along with interpretations in set theory forces
a topology in the models of a sound theory. Bennett proved, thus, that RCC-8 can be used
to define the truth conditions of formulas in an intuitionistic propositional logic. Statman
(1979) proved that intuitionistic propositional logic is PSPACE-complete. However, since
364

fiThe Complexity of Reasoning about Spatial Congruence

we do not need a complete truth verification procedure, but only a procedure for constraint
processing, Bennett could reduce the result, proving that also RCC-8 is NP-complete.
These results, even if they are in general negative for practical purposes, encouraged
researches in the direction of restricted models, in such a way that at least for certain
cases we may process a finite set of RCC constraints in polynomial fashion on deterministic
machines. In particular, Nebel (1995) showed that reasoning with the basic relations of
RCC-5 and RCC-8 are tractable problems. Renz and Nebel (1999) improved the results
above, by showing that there exists a maximal tractable subclass of RCC-5, denoted by
Hb5, formed by 28 relations out of 32, which includes all the basic relations, and a maximal
tractable subclass of RCC-8, denoted by Hb8 , formed by 148 relations out of 256 including
the basic relations. A maximal tractable subclass A, is a subset of a constraint algebra, such
that problems defined on A are tractable, while problems defined on proper supersets of A
are not. These results have been obtained in a similar fashion to the work of Nebel and
Burckert (1995) on temporal reasoning. The result of Renz and Nebel is anyway incomplete,
since he simply proved that there exists one maximal tractable subclass, and he did not
classify every maximal tractable subclasses of RCC-5. Jonsson and Drakengren (1997)
showed that there exist four maximal tractable subclasses of RCC-5, one including the
basic relations. The result is obtained in a similar fashion to (Drakengren & Jonsson, 1997;
Jonsson, Drakengren, & Backstrom, 1999). A complete analysis of the RCC-8 maximal
tractable subclasses including the basic relations has been provided by Renz in (1999).
Our result is the analogous in MC-4 of Jonsson and Drakengren result for RCC-5. The
MC-4 algebra, we describe in this paper, is structured in the same way as the Algebra of
Partially Ordered Time (PO-time algebra), studied by Anger, Mitra and Rodriguez. We
would like to stress two main aspects here:
 The MC-4 algebra has the PO-time algebra are the same algebraic structure: the
discussion of this paper stands a different interpretation of the PO-time algebra, even
different from the spatial interpretation provided by Anger, Mitra and Rodriguez in
their papers.
 The computational results we present here can be applied to the PO-time algebra as
well, and they extend the previous findings obtained by Anger, Mitra and Rodriguez.
In particular Anger, Mitra and Rodriguez (1998, 1999), proved that path-consistency
is insucient to ensure consistency for relations in this algebra, and that there exists a
tractable subalgebra of it which can be treated by an O(n3 ) algorithm.
Anger, Mitra and Rodriguez (1999), showed that deciding the consistency of a PO-time
network is an NP-complete problem by reducing to it the analogous decision problem on
RCC-5.
Some important observations are needed, with respect to the results of Anger, Mitra
and Rodriguez:
 The results on the complexity of PO-time algebra can be applied to MC-4, only if
we can show that when a MC-4 network is consistent then we can exhibit a consistent scenario in which vertices of the network are substituted with spatial regions.
Therefore, even if we can show this correspondence for PO-time algebra too, our
NP-completeness result is independent. Moreover, the method we used to prove the
365

fiCristani

intractability of MC-4 is independent as well, and the main difference is in the way
we used to exhibit problematic algebraic structure. Through this proof we derived a
simple way to solve the problems whenever possible in polynomial time.

 The discovery of the tractable subalgebras we indicate by M99 , M81 and M72 in

the present paper, deserves acknowledgement of priority to Anger, Mitra and Rodriguez. However, Anger, Mitra and Rodriguez also classified one more algebra, which
is tractable, but not maximal, since it is contained in M99 . Moreover, the algorithms
we found for M99 and M81 are substantially different from the one Anger, Mitra and
Rodriguez present and more ecient, being O(n2 ) instead of O(n3 ). Therefore the
two algorithmic solutions can be considered as independent results as well.

 The classification presented here is complete, since we classify all the maximal tractable
subalgebras of MC-4, and this is a result which may be applied to temporal reasoning
as well, since it is obtained by means of algorithms which are completely independent
from the interpretation we give to the relations (either spatial or temporal).

 The introduction of morphological relations in spatial reasoning is novel too, and the

study of spatial congruence deserves, in our opinion, deep investigations henceforth.
The fact that two algebras of spatial and temporal reasoning present substantial similarities is not a novelty. The RCC model corresponds to subalgebras of Interval
Calculus, as stated by Bennett (1994). Also Anger, Mitra and Rodriguez stated this
property of PO-time algebra with respect to RCC-5, but their interpretation is completely different from our own, the equality of PO-time being interpreted as EQ in
RCC-5, while we interpret it as congruence.

Thus, even though a similar algebraic structure has been partially investigated before, the
present paper presents substantial methodological differences and we have obtained results
which are independent of or extensions to the ones obtained by Anger, Mitra and Rodriguez.
In the remainder of the paper, when a result can be attributed to Anger, Mitra and
Rodriguez we note it in the text.

3. The Spatial Algebra MC-4
In this section we present the spatial algebra MC-4, which has been previously presented
by Cristani (1997) and largely analysed in by Mutinelli (1998).
MC-4 is a Binary Constraint Algebra (henceforth indicated as a Constraint Algebra). In
a Constraint Algebra we have a Constraint Domain and an Algebra Base, which is formed
by mutually exclusive relations among elements of the Constraint Domain, whose union
form the universal relation. The converse of a basic relation is a basic relation too, and
the composition of basic relations is the union of some basic relations. A Constraint is the
establishment of one of all possible unions of basic relations between two variables which
vary on the domain. A constraint is satisfied by an assignment of one pair of values of the
domain to the variables, so that the pair of values is in one of the relations of the constraint
itself. Given a finite set of constraints between two variables, the problem of deciding
whether there exists an assignment to the variables such that all the constraints can be
366

fiThe Complexity of Reasoning about Spatial Congruence

y

x

x CG y
y

x

x CGPP y
y

x

x CNO y

Figure 2: A pictorial representation of the basic relations of MC-4
CG
CGPP

CG
CG
CGPP

CGPP
CGPP
CGPP

CGPP,1
CGPP,1

CGPP,1

CGPP,1

>

CGPP,1

CNO

CNO

CGPP
CNO

CGPP,1
CNO




>

CNO
CNO
CGPP
CNO
CGPP,1
CNO

>

Table 1: The composition table of MC-4. The symbol > represents the universal relation
fCG; CGPP; CGPP,1 ; CNOg.
simultaneously satisfied is referred to as Constraint Satisfaction Problem, and henceforth
indicated as a CSP.
The MC-4 algebra is formed by all the unions of the four basic relations, which can be
established between two-dimensional spatial regions, from a morphological point of view,
with respect to the equivalence relation of congruence.
The congruence relation is variously interpreted in geometry. Our interpretation is the
most restrictive one: two regions are congruent iff they can be rigidly roto-translated into
each other.
A region x, in this interpretation, may be congruent (x CG y) to a region y, or congruent
to a part of y (x CGPP y) or they cannot be perfectly overlapped (x CNO y). The relation
congruent to a part of may also be inverted to having a part congruent to (y CGPP,1 x iff
x CGPP y).
In Figure 2 a pictorial representation of the three basic relations CG, CGPP and CNO is
given. In Table 1 we present the composition table of MC-4 showing how the basic relations
compose with each other.
367

fiCristani

x DR y
x

x PO y
y

x

y

-1

x PP y

x PP y

x EQ y

x y

x y

x y

Figure 3: A pictorial representation of the relations of RCC-5.
A CSP can be represented by a Network of Constraints. A network of constraints is a
labelled graph G = hV ; ; Ei, where V is a finite set of vertices, E is a binary relation on
V whose elements are called edges, and  is a labelling function which maps each vertex
of G to a variable, and each edge to a relation of a Constraint Algebra on a given domain
D. Given a network of constraints G , the problem of deciding the consistency of G is the
problem of establishing whether is it possible to instantiate each vertex label (the variables)
with elements of D, in such a way that all the relations represented in G as labels of the
edges are simultaneously satisfied. The CSP represented by a network G is often referred to,
for the algebra A, as A-SAT(G ). For the sake of simplicity we refer to the CSP represented
by a network G on MC-4 as MSAT(G ).
The main result on the MC-4 algebra, with respect to MSAT, is unfortunately a negative
computational account. In general, deciding the consistency is hard to solve for networks
of constraints between variables representing spatial regions, as stated in Theorem 2. This
result has been already proved by Cristani (1997).
Anger, Mitra and Rodriguez (1998), showed that path-consistency cannot be applied
successfully to the Algebra of Partially Ordered Time, which is isomorphic to MC-4 at the
syntactic level. This is insucient to prove that the CSP on this algebra is NP-complete.
They showed (Anger et al., 1999) that PO-time algebra is NP-complete. Their proof lies on
the  translation, which can be shown to be analogous, but not identical, to the 
 translation
we introduced here, at the syntactical level, being completely different at the semantical
one. However, their proof is insucient to show that we can arrange spatial solutions,
since the map they defined is purely syntactical. As already observed by Lemon (1996),
the representation of space by means of relation algebra is not pure, and we can obtain
satisfiable networks which are not realizable in space. Our proof, instead, can be applied
to spatial interpretations. It can be applied to nonlinear time temporal interpretations as
well, since the syntactic level is shown to be sucient for space, and nonlinear time can be
interpreted as space too (Anger et al., 1999).
Before getting into the proof of this negative result we need to describe a relevant
correspondences of the MC-4 algebra to the RCC-5 model, which is also used in the proof
of Theorem 2. The well known RCC-5 algebra is a Constraint Algebra with 5 basic relations:
EQ , DR , PO , PP , PP,1 . The five relations correspond to the pictorial representation of
Figure 3.
If two spatial regions are in one of the relations of MC-4, then only certain relations
of RCC-5 can be established between them. Conversely, if certain relations of RCC-5 are
established only certain corresponding relations of MC-4 are. This correspondence, however,
is not one-to-one. Consider, for instance, a region x and a region y, such that x DR y, in
368

fiThe Complexity of Reasoning about Spatial Congruence

Rel. of MC-4 Rel. of RCC-5
CG
CGPP
CGPP,1
CNO

fEQ; DR; POg
fPP; DR; POg
fPP,1; DR; POg
fDR; POg

Table 2: The basic relations of MC-4 and their counterparts in RCC-5. The meaning of the
Table is that when a relation of MC-4 is established, then one of the relations of
RCC-5 in second column is established as well.

Rel. of RCC-5 Rel. of MC-4
EQ
PP
PP,1
PO
DR

CG
CGPP
CGPP,1
fCG; CGPP; CGPP,1; CNOg
fCG; CGPP; CGPP,1; CNOg

Table 3: The basic relations of RCC-5 and their counterparts in MC-4.
RCC-5, namely x is disjoint from y. Then, each relation of MC-4 can be established between
x and y. However, if x PP y, namely x is a proper part of y, then only the CGPP relation
can be established between x and y. On the other hand, if two regions are congruent, only
the relations DR , PO and EQ can exist between x and y.
In Table 3 we set the correspondences between MC-4 basic relations and RCC-5, while
in Table 2 we set the correspondences between RCC-5 and MC-4.
The correspondences of the above Tables are not suciently strict, to use them in proving that MSAT(MC-4) is an NP-complete problem by a direct polynomial reduction. If
we consider a CSP on MC-4, the corresponding RCC-5 CSP is not intractable, since the
relations obtained from Table 2 do not define an intractable subset of RCC-5, by means
of the complete classification established by Jonsson and Drakengren (1997). Therefore,
MSAT(MC-4) is not reducible to RSAT(RCC-5) (the RSAT symbol represents the satisfiability in RCC models) by the corresponding relation mapping of Table 2.
Conversely, we can establish, by means of the above Tables, that among all the possible
regions satisfying the relation CG, there exists at least one pair in which the regions are
EQ, that when CGPP is established, there exists one pair in a PP relation, and finally that
when CNO is established, we have two regions in a PO relation. The summary of this
correspondence is reported in Table 4.
This correspondence is obtained from the definition of basic relations. Two regions a
and b are congruent iff we can roto-translate a by a T in such a way that T (a) EQ b or
conversely by T 0 so that T 0 (b) EQ a. Analogously a is congruent to a part of b iff we can
369

fiCristani

Rel. of MC-4 Rel. of RCC-5
CG
CGPP
CGPP,1
CNO

EQ
PP
PP,1
PO

Table 4: The basic relations of MC-4 and their counterparts in RCC-5 in the special mapping 
.
roto-translate a by T so that T (a) PP b. Finally two regions are in a CNO relation iff they
can only be in a PO relation or disjoint.
The correspondence of Table 4 is called 
, and a Network of Constraints G on MC-4
translated in RCC-5 by it is denoted by 
(G ). The networks which are labelled on all edges
by basic relations of MC-4 are henceforth called scenarios of MC-4.
Consider a consistent scenario S of MC-4. Applying the composition tables of MC-4 and
RCC-5, we clearly derive that the scenario of RCC-5 
(S ) is consistent, when the scenario
of MC-4 does so. The consequence of above reasoning is the next lemma.

Lemma 1 If a scenario on MC-4 is consistent, then 
(G ) is consistent.
Ladkin and Maddux (1994) proved that a network of constraints is consistent iff it has a
consistent scenario. Therefore, an immediate consequence of Lemma 1 is that if a network
of constraints G on MC-4 is consistent, then 
(G ) is consistent. We are now able to prove
a first theorem.

Theorem 1 MSAT(MC-4) is NP-hard.
Proof

By the observation about existence of consistent scenarios in a Constraint Algebra due
to Mackworth and Freuder (1985), we obtain a polynomial reduction of RSAT(RCC-5) to
MSAT(MC-4).
It suces to note that if we can solve MSAT then we can solve RCC-5 problems obtained
by the 
 translation as well. Now, the problems mapped from MC-4 into RCC-5 by means
of 
 can be trivially inverted by 
,1 , since 
 is trivially one-to-one. This means that each
problem in the set of relations obtained in RCC-5 by 
 corresponds to a problem in MC-4,
and vice versa.
The set of relations of RCC-5 translated by 
 contains fPP; PP,1 g and PO . Nebel and
Renz (1999), proved that each set of relations of RCC-5 containing these two relations is
intractable. Therefore the set 
(MC , 4) is intractable.
This proves that if we are able to solve a problem in MC-4 we can solve a problem of a
subset of RCC-5 which is intractable. Therefore MSAT(MC-4) is NP-hard.


370

fiThe Complexity of Reasoning about Spatial Congruence

Mackworth and Freuder (1985) also proved that backtracking can be applied to CSPs. The
backtracking algorithm is usually implemented by a linear non-deterministic technique,
being therefore a polynomial algorithm on non-deterministic machines.
The backtracking technique is applicable to MC-4 as well, so we can perform a polynomial solution of MSAT on nondeterministic machines. This shows that MSAT is in NP,
and allows us to claim:

Theorem 2 MSAT(MC-4) is NP-complete.
Because of this negative result a deep investigation is needed to define tractable subclasses of the set of 16 relations which allow us to perform polynomial analysis for at least
a subset of the networks of constraints definable on MC-4.
In this paper we give the definition of the three maximal tractable subclasses of MC4, exhibiting therefore a complete classification of tractability for the algebra. The three
maximal tractable subclasses have already been studied by Anger, Mitra and Rodriguez in
(1999). They obtain maximality of the algebras, and exhibited O(n3 ) algorithms. We have
three main differences here with respect to their paper:
1. The number of classes we individuated is lower than theirs, because they found four
maximal tractable subclasses. They failed to note that one of the four subalgebras is
a subset of another one. In Table 10 the subalgebra M88 corresponds to the fourth
algebra of Anger, Mitra and Rodriguez. This subalgebra is tractable, but not maximal.
2. The algorithms we exhibit are all O(n2 ) while Anger, Mitra and Rodriguez exhibited
only an O(n3 ) algorithm for one of the three maximal subsets.
3. Our classification is complete. Thus any subset of MC-4 which is not a subset of one of
the three maximal tractable subalgebras we individuated is intractable. Anger, Mitra
and Rodriguez did not find this result, since they did not analyse all the subalgebras
of PO-time algebra, as we did for MC-4.

4. Maximal Tractable Subclasses of MC-4

Given a subset S of a constraint algebra A, we indicate by Sb the set formed by all the
relations of A which can be written as expressions of the algebra involving only elements
of S and the operations of composition, intersection and converse of relations. This set is
often called the transitive closure of S with respect to the operations above. We refer to it
as the closure of S . A set S which coincides with its closure is called a subalgebra.
In the previous section we recall the result on NP-completeness for MC-4. The first
important observation on the complexity of subalgebras is that, when a subalgebra B does
not contain the empty relation, then a network of constraints on B cannot entail a strict
contradiction: then it is consistent. So far, the problem is necessarily polynomially solvable,
because it is O(1). This is stated in the next lemma.

Lemma 2 Given an algebra A, if a subalgebra B of A does not contain the empty relation,
then SAT(B) is polynomial.

371

fiCristani

The main consequence of Lemma 2 is that we can limit ourselves in the analysis of
subalgebras in MC-4 to these subalgebras which contain the empty relation.
Moreover, since a network of constraints represents the relations in an implicit way,
when an edge of a network is not labelled we should interpret it as representing the universal
relation. Therefore, the universal relation should be a member of the subalgebras to which
we are interested in. We call algebras which contain both the empty and the universal
relations expressive algebras.
There are 102 expressive subalgebras, we denominate Mi where i varies between 0 to
101. In Tables 5, 6, 7, 8, 10, 9 of Appendix A, the 102 expressive subalgebras of MC-4 are
listed.

Lemma 3 Given a subset A of MC-4, A is an expressive subalgebra iff A is one of the
subalgebras Mi with i between 0 and 101 .

Proof

Consider a subset A of MC-4. We test the closure of A by a LISP program which computes
the closure by composition, intersection and converse of a subset of MC-4, and test the
presence of empty and universal relation in A by the obvious membership test. The LISP
procedure TRANSITIVE-CLOSURE is listed in Online Appendix 1, which accompanies this
article. The test succeeds for the subalgebras Mi with i between 0 and 101 and fails for all
the other 216 , 102 = 65434 subsets of MC-4. The claim is therefore proved.


The following technical lemma shows that some of the 102 subalgebras individuated
above are NP-hard. There are 20 subalgebras of the 102 which are intractable by Lemma
4. The algebras are presented in Table 5 of Appendix A. The proof of Lemma 5 is a trivial
consequence of the proof of Theorem 2.

Lemma 4 Given a subalgebra A of MC-4, if A contains the relations CNO and fCGPP;
CGPP,1 g then MSAT(A) is NP-hard.
In the next three subsections we show that three maximal tractable subclasses of MC-4 can
be found, so that the only intractable algebras are the 20 listed in Table 5 of Appendix A.

4.1 The CG -complete Subalgebra M72

5 is tractable, Jonsson and Drakengren (1997) observed
When proving that the class R28
that any subalgebra of RCC-5 containing only relations including EQ is tractable. This
result applies also to MC-4 with respect to the relation CG, and also to the relations CNO,
fCGPP; CGPP,1g, fCG; CNOg, fCG; CGPP; CGPP,1g.
The only relevant cases are CG , CNO and fCGPP; CGPP,1 g , since the other two
cases are included in two of the former three. An algebra formed by relations which all
contain CG and by the relation ? is tractable, because we can obtain an inconsistency
iff we explicitly have an edge labelled by ? in the network. Deciding the consistency is
therefore an O(n2 ) problem.

372

fiThe Complexity of Reasoning about Spatial Congruence

ALGORITHM M72-CONSISTENCY
A constraint network T on M72

INPUT:

OUTPUT:

1.

2.

Yes if T has a solution formed by spatial regions of R2 , no if not.

For

each edge in T , hx; yi
If the label on hx; y i is ?

then return inconsistency

Loop

Return consistency
Figure 4: Algorithm M72-consistency.

M72 = f?, CG, fCG; CGPPg, fCG; CGPP,1g, fCG; CNOg, fCG; CGPP; CGPP,1g,
fCG; CGPP; CNOg, fCG; CGPP,1; CNOg, >g.
Since no contradiction derives from a relation in M72 except for ?, Algorithm M72 -consistency
(see Figure 4) solves the consistency checking problem for a network of constraints on M72 .
Thus we can claim the following theorem:

Theorem 3 Algorithm M72 -consistency correctly decides the consistency of a network of
constraints T on M72 in O(n2 ) time where n is the number of vertices in T .
The immediate consequence of Theorem 3 is the following theorem:

Theorem 4 MSAT(M72 ) is polynomial.
The subalgebras included in M72 are in Table 6 of Appendix A.
The 13 subalgebras of Table 6 are not the only subalgebras which can be theoretically
obtained based on the method incorporated in Algorithm M72 -consistency. The same algorithm can be applied to subalgebras formed only with relations containing a symmetrical
relation in MC-4 and the empty relation. Then we can also prove the polynomiality for
subalgebras of relations all containing CNO, or all containing fCGPP; CGPP,1 g, if such subalgebras exist. The subalgebra formed by relations containing CNO and the empty relation
is M78 , the subalgebra formed only by relations containing fCGPP; CGPP,1 g is M31 . In
Table 7 and in Table 8 of Appendix A the subalgebras of M78 and of M31 are shown.
In the next subsection we introduce a maximal tractable subclass which includes M78 ,
and in subsection 4.3 we introduce an algebra containing M31 , so that the proof of tractability for subalgebras in Tables 7 and 8 can be derived from these tables as well. Conversely,
the subalgebra M72 is neither a subalgebra of M99 nor a subalgebra of M81 , so Theorem 3
is an independent result.
373

fiCristani

4.2 The Maximal Tractable Subclass M99

We look for a maximal tractable subalgebra containing all the basic relations. The best
candidate, based on Table 5, is M99 , which is the only algebra formed by more than 13
relations which can be polynomial, because we did not show that it is NP-hard by reducing
it to an intractable problem over RCC-5.
M99 = f?, CG, CGPP, CGPP,1, CNO, fCG; CGPPg, fCG; CGPP,1g, fCG; CNOg,
fCGPP; CNOg, fCGPP,1 ; CNOg, fCG; CGPP; CNOg, fCG; CGPP,1; CNOg, >g.
Fortunately, we can prove the tractability of M99 , so it is maximal based on the fact
that all algebras containing the basic relations are either intractable by Table 5 or subsets
of M99 .
Consider the subset of M99 ,
G99 = ffCG; CGPPg, fCG; CNOg, fCGPP; CGPP,1; CNOgg.
The following claim holds.

Lemma 5 Gd99 = M99 .
Proof

The following expressions represent valid implementations of relations in M99 using only
elements of G99 and the operators of composition, intersection and converse.
t.1.

?

= fCG; CGPPg

t.2.

CG

 fCG; CNOg
fCGPP; CGPP,1; CNOg
= fCG; CGPPg  fCG; CGPPg ^



t.3.

CGPP

= fCG; CGPPg  fCGPP; CGPP,1 ; CNOg

t.4.

CGPP,1

= fCG; CGPPg ^  fCGPP; CGPP,1 ; CNOg

t.5.

CNO

= fCG; CNOg  fCGPP; CGPP,1 ; CNOg

t.6.

>

= fCG; CGPPg 
 fCGPP; CGPP,1 ; CNOg

t.7.

fCG; CGPP,1g

= fCG; CGPPg ^

t.8.

fCGPP; CNOg

= (fCG; CGPPg

t.9.

fCGPP,1; CNOg

t.10. fCG; CGPP; CNOg


 fCG; CNOg )
 fCGPP; CGPP,1; CNOg
= (fCG; CGPPg ^ 
 fCG; CNOg )
 fCGPP; CGPP,1; CNOg
= fCG; CGPPg 
 fCG; CNOg

t.11. fCG; CGPP,1 ; CNOg

= fCG; CGPPg ^ 
 fCG; CNOg
374

fiThe Complexity of Reasoning about Spatial Congruence


A network of constraints T on M99 , implemented by means of Lemma 5 is denoted henceforth by 	99 (T ).
We can derive a contradiction from a network of constraints iff the network derives two
relations R1 and R2 , between one pair of vertices such that R1 \ R2 = ?. The ways in
which a contradiction can be derived in networks labelled by relations of M99 , based on the
intersections of relations (except the empty relation which obviously generates a contradiction by itself) are:
a)
b)
c)
d)
e)
f)
g)
h)
i)
l)
m)
n)

CG
CG
CG
CG
CGPP
CGPP
CGPP
CGPP
CGPP
CGPP
CNO
fCG; CGPPg














CGPP
CNO
fCGPP; CNOg
fCGPP; CGPP,1; CNOg
CGPP,1
CNO
fCG; CGPP,1g
fCG; CNOg
fCGPP,1 ; CNOg
fCG; CGPP,1; CNOg
fCG; CGPPg
fCGPP,1 ; CNOg

This is simply obtained by considering all pairs of relations in M99 whose intersection is
empty.
In G99 the contradictions are only:
fCG; CGPPg  fCG; CGPPg ^  fCGPP; CGPP,1; CNOg and
fCG; CGPPg  fCG; CNOg  fCGPP; CGPP,1 ; CNOg .
Henceforth we represent the relation fCG; CGPPg by -, the relation fCG; CNOg by ./
and the relation fCGPP; CGPP,1 ; CNOg by 6. Since any path in which labels are all corresponds to the representation of - between each pair of vertices in the path, and 
 ./ = -, the possible expressions for contradictions in G99 are (-n 
 -,n)  6 and (-n

 -,(n,k) 
 ./ 
 -,k )  6. Hence, a cycle (-n 
 -,n) is called a --cycle, while a cycle
(-n 
 -,(n,k) 
 ./ 
 -,k ) is called a quasi --cycle. The graph representation of these
two different contradictory situations in G99 is showed in Figure 5. A --cycle and a quasi
--cycle, in M99 force the elements involved in the cycle to be all in the relation CG .
We can now show that the contradictions represented in G99 are the only contradictions
which can be obtained by the implementation suggested in Lemma 5. This is very important,
because we may perform consistency checking by simply checking all cycles. This result is
stated in the next lemma.

Lemma 6 Given a network of constraints T on M99 , T is inconsistent iff 	99(T ) contains
either a --cycle of a quasi --cycle, and two vertices of one cycle are connected by an edge
labelled by 6.
375

fiCristani

Proof (Sketch)

Case by case, the contradictions from a) to n), as in the table above, generate one of the
two situations of the claim.
For example, the contradiction a) CG  CGPP , generates
(fCG; CGPPg 
 fCG; CGPPg ^ )  (fCG; CGPPg  fCGPP; CGPP,1 ; CNOg )
which is a --cycle in which two vertices are connected by an edge labelled by 6, as stated
in the claim. All the other cases behave in the same way as can be easily checked by the
reader.
Conversely, if a contradiction derives from one of the possible implicit ways of representing relations in M99 , the implementation also produces one of the cases of the claim.
In particular we have that, in M99 , CGn = CG , CGPPn = CGPP , (CGPP,1 )n = CGPP,1 ,
fCG; CGPPgn = fCG; CGPPg and fCG; CGPP,1 gn = fCG; CGPP,1g are the only idempotent relations. The other cases of implicitness can be obtained by considering all the
14  14 = 196 pairs of relations in M99 , composing and intersecting them. The implicit cases
arising thus are listed in below.
i.1.

CG

= fCG; CGPPgn  fCG; CGPP,1 gn

i.2.

CG

= fCG; CGPPgn  fCG; CNOg

i.3.

CGPP

= fCG; CGPPgn  fCGPP; CNOg

i.4.

CNO

= fCG; CNOg  fCGPP; CNOg

i.5.

CNO

= fCGPP; CNOg  fCGPP,1 ; CNOg

i.6.

CNO

= fCGPP; CNOg  fCG; CGPP,1 ; CNOg

i.7.

fCG; CNOg

= fCG; CGPP; CNOg

i.8.

fCGPP; CNOg

= CGPPn 
 CNO

i.9.

fCGPP; CNOg

= CGPPn 
 fCG; CNOg

fCG; CGPP,1; CNOg



i.10. fCGPP; CNOg

= CGPPn 
 fCG; CGPP; CNOg

i.11. fCGPP; CNOg

= fCG; CGPPgn 
 CNO

i.12. fCGPP; CNOg

= fCG; CGPP; CNOg

fCGPP; CGPP,1; CNOg
i.13. fCG; CGPP; CNOg = fCG; CGPPgn 
 fCG; CNOg



Readers may directly express in G99 each of these relations along with the corresponding
376

fiThe Complexity of Reasoning about Spatial Congruence

Figure 5: Contradictions in G99 : fg indicates ? and R, S, T respectively fCG; CGPPg,
fCG; CNOg and fCGPP; CGPP,1; CNOg.
relation producing a contradiction in M99 and they immediately verify the existence of -cycles or quasi --cycle where one pair of vertices is connected by an edge labelled by 6 for
these generated graphs.
For example if we express CG as implicit relation by i.1. as in table above (formed by
relations in G99 ), CGPP as implicit relation by i.3. and fCGPP; CNOg by 	99 as in t.8.,
and consider the contradiction CG  CGPP we obtain a quasi --cycle where two vertices
are connected by an edge labelled by 6. Similarly we can derive the other cases.



We can now exhibit an algorithm which looks for --cycles and quasi --cycles, and
checks about pairs of a cycle being connected by an edge labelled by 6.
In Figure 7 an algorithm able to solve the Consistency Checking Problem for networks
of constraints labelled by relations in M99 is presented. Based on Lemma 6 we can prove
the following theorem.
Theorem 5 Algorithm M99-CONSISTENCY correctly decides the consistency of a network of constraints T on M99 in O(n2 ) steps where n is the number of vertices of T .

Proof

By Lemma 6 we can ensure the correctness of Algorithm M99-CONSISTENCY. The complexity of the algorithm can be derived from the fact that the computation of strongly
377

fiCristani

Figure 6: Contradictions in M99 : R, S, T respectively indicate fCG; CGPPg,
fCG; CNOg and fCGPP; CGPP,1; CNOg. Letters from a) to n) refer to the
table of page 375.
378

fiThe Complexity of Reasoning about Spatial Congruence

ALGORITHM M99-CONSISTENCY
A constraint network T on M99

INPUT:

OUTPUT:

1.
2.
3.
4.
2.

Yes if T has a solution formed by spatial regions of R2 , no if not.

Translate T into the generator set as in Lemma 5
Look for cycles labelled by - and at most one ./
Check whether edges between two vertices in one cycle are not labelled by 6
otherwise return no.
Substitute vertices of the cycle with one vertex.
If there are more cycles go to Step 2., otherwise return yes.
Figure 7: Algorithm M99-consistency

connected components is a O(e) problem where e is the number of edges in the network.
The 	99 implementation adds, in the worst case, O(e0 ) edges, where e0 is the number of
edges in T , and therefore the number of edges in 	99 (T ) is O(2  e0 ), which is O(n2 ).



An immediate consequence of Theorem 5 is the following theorem:

Theorem 6 MSAT(M99 ) is polynomial.
The subalgebras of MC-4 included in M99 are in Table 10 of Appendix A.

4.3 The Maximal Tractable Subclass M81

The problem of deciding the consistency of a network of constraints on MC-4 is tractable,
by means of Tables 6, 7, 8 and 10 for 85 subalgebras. The remainder is formed by 17
subalgebras, each of these can be either tractable or intractable. The set
M81 = f ?, CG, CGPP, CGPP,1, fCG; CGPPg, fCG; CGPP,1g, fCGPP; CGPP,1g,
fCG; CGPP; CGPP,1g, fCGPP; CGPP,1 ; CNOg, >g
contains all these subalgebras, so that if M81 is tractable all these algebras are as well.
By analogy with the schema of the previous section we look for a small generator set
for M81 . This is G81 = ffCG; CGPPg, fCG; CGPP; CGPP,1 g, fCGPP; CGPP,1 ; CNOgg.
The following lemma states the properties of M81 with respect to G81 .
Lemma 7 Gd81 = M81 .

Proof

The following expressions represent valid implementations of relations in M81 using only
elements of G81 and the operators of composition, intersection and converse.
379

fiCristani

r.1. ?

= fCG; CGPPg  fCG; CGPPg

r.2. CG

= fCG; CGPPg  fCG; CGPPg ^

r.3. CGPP

= fCG; CGPPg  fCGPP; CGPP,1 ; CNOg

r.4. CGPP,1

= fCG; CGPPg ^  fCGPP; CGPP,1 ; CNOg

r.5. fCG; CGPP,1 g

= fCG; CGPPg ^

 fCGPP; CGPP,1 ; CNOg

r.6. fCGPP; CGPP,1 g = fCG; CGPP; CGPP,1 g

fCGPP; CGPP,1 ; CNOg

^



= fCG; CGPPg 
 fCGPP; CGPP,1 ; CNOg

r.7. >


The implementation of relations in M81 as described in Lemma 7 is denoted by 	81 . The
contradictions in M81 are as in the next table.
a)
b)
c)
d)
e)

CG
CG
CG
CGPP
CGPP







CGPP
fCGPP; CGPP,1g
fCGPP; CGPP,1; CNOg
CGPP,1
fCG; CGPP,1g

The only possible contradiction in G81 is

fCG; CGPPg  fCG; CGPPg ^  fCGPP; CGPP,1; CNOg
and it corresponds to a --cycle where two vertices are connected by an edge labelled by 6.
Lemma 8 Given a network of constraints T on M81 , T is inconsistent iff 	81(T ) contains
a --cycle and two vertices of one cycle are connected by an edge labelled by 6.
Proof (Sketch)

Case by case, the contradictions from a) to e), as in the table above, generate one of the
two cases claimed here.
For example, the contradiction CG  fCGPP; CGPP,1 g , is implemented
(fCG; CGPPg  fCG; CGPPg ^ )  (fCG; CGPP; CGPP,1 g
 fCGPP; CGPP,1; CNOg )
which is a --cycle in which two vertices are connected by an edge labelled by 6, as stated
in the claim. All the other cases behave in the same way as can be easily checked by the
reader.
The only possible ways of representing implicit relations are provided by the schema of
	81 . Therefore the claim is proved.
380

fiThe Complexity of Reasoning about Spatial Congruence

Figure 8: Contradictions in M81 .
R, S, T respectively indicate fCG; CGPPg,
,
1
fCG; CGPP; CGPP g, fCGPP; CGPP,1; CNOg. Letters from a) to e) refer to
the table of page 380.

ALGORITHM M81-CONSISTENCY
A constraint network T on M81

INPUT:

OUTPUT:

1.
2.
3.
4.
2.

Yes if T has a solution formed by spatial regions of R2 , no if not.

Translate T into the generator set as in Lemma 7
Look for cycles labelled by Check whether edges between two vertices in one cycle are not labelled by 6
otherwise return no.
Substitute vertices of the cycle with one vertex.
If there are more cycles go to Step 2., otherwise return yes.
Figure 9: Algorithm M81-consistency
381

fiCristani


In Figure 9 an algorithm is presented which solves the problem of consistency checking for
the subalgebra M81 . We can show, in particular, the following claim.

Theorem 7 Algorithm M81-CONSISTENCY correctly decides the consistency of a network of constraints T on M81 in O(n2 ) steps where n is the number of vertices of T .
Proof

By Lemma 8 we can ensure the correctness of Algorithm M81-CONSISTENCY. The complexity of the algorithm can be derived from the fact that the computation of strongly
connected components is a O(e) problem where e is the number of edges in the network.
The 	81 implementation adds, in the worst case, O(e0 ) edges, where e0 is the number of
edges in T , and therefore the number of edges in 	81 (T ) is O(2  e0 ), which is clearly O(n2 ).


An immediate consequence of Theorem 3 is the following

Theorem 8 MSAT(M81 ) is polynomial.
The subalgebras included in M81 are in Table 9 of Appendix A.

5. Conclusions

We presented a classification of tractability which is complete for the spatial algebra MC-4.
This classification states that there exist three maximal tractable subalgebras M72 , M99
and M81 which include 92 out of 102 expressive subalgebras of MC-4.
The interest in a complete classifications of tractability, as already observed by Jonsson
and Drakengren (1997), is determined by the need for a definition of the boundary between
tractable and intractable problems. Nebl (1999) has suggested that the knowledge of this
boundary can be used either as preprocessing step and as a way to structure the backtracking
search on such algebras.
The provision of a complete classification is one step in researching about constraint
algebras. A next step is the individuation of useful heuristics which give improvements in the
performances of various techniques. We are currently exploiting the use of these techniques
in association with techniques based on the classification presented in this paper to obtain
ecient reasoning algorithms which can be used in practice. Preliminary results on pathconsistency are encouraging, but we cannot yet guarantee the percentage of improvement,
since the algebra MC-4 is so simply structured that for networks randomly chosen it is very
hard to obtain a case where inconsistency is not detectable by path-consistency.

Acknowledgements

I would like to thank Elena Mutinelli who developed her Laurea Thesis (Mutinelli, 1998)
on the theme of complexity of reasoning about congruence and first discussed preliminary
382

fiThe Complexity of Reasoning about Spatial Congruence

results which I used for developing the classification of this paper. Her work has been very
relevant in reaching my results.
I would also like to thank Bernhard Nebel for some important observations he made to
a student of mine, Alessandro Fin, which improved this work. Further thanks go to Jochen
Renz for discussions in the early stages of this work.
I would also like to thank the anonymous referees of the Journal of Artificial Intelligence
Research for their very careful comments and suggestions which allowed me to make the
presentation simpler and more systematical. Some of the proofs in the paper have been
rewritten thanks to their suggestions.
Finally I would like to thank Tony Cohn for reading a near final version. His comments
have been useful in enhancing both scientific and literary quality of the paper.
This work has been developed in the context of the National Project, MURST ex 40%
\Metodologie e tecnologie per la gestione di dati e processi su reti internet ed intranet"
(Methods and technologies for data and process management on internet and intranet)
directed by L. Tanca.

383

fiCristani

Appendix A. Tables of the 102 subalgebras of MC-4

In this section we present the subalgebras of MC-4 organized in separated tables depending
on their characteristics. In particular Table 5 shows those subalgebras which are intractable
by Lemma 4, Table 6 those which are tractable by Theorem 3, and in Tables 7, 8 those
to which Algorithm used in Theorem 3 can be applied (which are all including CNO or
fCGPP; CGPP,1g ). In Table 10 the subalgebras included in M99 are displyed, while in
Table 9 we present the subalgebras included in M81 .
Rel.

Alg.

M30
M43
M44
M46
M54
M56
M67
M77
M83
M84
M85
M89
M90
M92
M93
M95
M97
M98
M100
M101



CG
CGPP
CGPP,1
CNO






















  
  


    

     

     





































































 
 





  
  



























































 















































 
 
  
Table 5: The subalgebras of MC-4 containing the relations CNO and fCGPP; CGPP,1 g

384

fiThe Complexity of Reasoning about Spatial Congruence



Rel. CG

Alg.

M0
M1
M3
M5
M9
M12
M18
M22
M25
M34
M38
M63
M72

CGPP
CGPP,1
CNO















M2
M6
M10
M15
M24
M28
M37
M39
M47
M58
M64
M78













 






 











  
  



CGPP
CGPP,1
CNO














 

  
  


    

     

     















 


 


 
 
 





















 
  
Table 6: The subalgebras of MC-4 contained in M72 .

Rel. CG

Alg.

  
  


    

     

     





















 





 

  
Table 7: The subalgebras of MC-4 contained in M78 and not contained in M72 .
385

fiCristani



Rel. CG

Alg.

CGPP
CGPP,1
CNO



  
  

    

     

     








 

 
Table 8: The subalgebras of MC-4 contained in M31 and not contained in M72 or M78 .
M4
M13
M16
M31

Rel. CG

Alg.

M11
M20
M21
M23
M29
M32
M33
M35
M42
M45
M55
M59
M60
M66
M70
M74
M81

CGPP
CGPP,1
CNO

































  
  


    

     

     





























 
 



  
  
 
 

 
  
  
  
  
  
  





 
 
























  
  

  


Table 9: The subalgebras of MC-4 contained in M81 and not contained in M99 or M72 or
M78 or M31 .

386

fiThe Complexity of Reasoning about Spatial Congruence



Rel. CG

Alg.

CGPP
CGPP,1
CNO




 




 

 




 

 


 

 

 

 

 
 

 
 
 

  
  

    

     

     









 






 



 


 


 
  

 
 


  



  

 
 
 
 

 
  

  
 
 
 
 

  
 
 



     
 
 
 
 
  
 
   
 

 
     
 
  
 

      
 
     
   
 
 
 
      
 
      
      
 
          
Table 10: The subalgebras of MC-4 contained in M99 and not contained in M72 or M78 or
M31 .
M7
M8
M14
M17
M19
M26
M27
M36
M40
M41
M48
M50
M51
M52
M57
M61
M62
M65
M68
M69
M71
M73
M75
M76
M79
M80
M82
M86
M87
M88
M91
M94
M96
M99








































387

fiCristani

References
Anger, F., Mitra, D., & Rodriguez, R. (1998). Temporal Constraint Networks in Nonlinear
Time. In Workshop Notes of the Spatial and Temporal Reasoning at ECAI98 Brighton,
UK.
Anger, F., Mitra, D., & Rodriguez, R. (1999). Satisfiability in Nonlinear Time: Algorithms
and Complexity. In Proceedings of the Florida Artificial Intelligence Research Society
conference Orlando (USA).
Bennett, B. (1994). Spatial reasoning with propositional logic. In Doyle, J., Sandewall, E.,
& Torasso, P. (Eds.), Proceedings of the 4th International Conference on Principles of
Knowledge Representation and Reasoning (KR-94), pp. 165{176. Morgan Kaufmann,
San Francisco, CA, USA.
Bennett, B. (1995). Carving Up Space: Existential Axioms for a Formal Theory of Spatial
Regions. In Proceedings of the IJCAI 95 Workshop on Spatial and Temporal Reasoning
Montreal.
Borgo, S., Guarino, N., & Masolo, C. (1996). A Pointless Theory of Space Based On
Strong Connection and Congruence. In Aiello, L. C., & Doyle, J. (Eds.), Proceedings
of the 6th International Conference on Principles of Knowledge Representation and
Reasoning (KR-96). Morgan Kaufmann, San Francisco, CA, USA.
Borgo, S., Guarino, N., & Masolo, C. (1997). An Ontological Theory of Physical Objects.
In Ironi, L. (Ed.), Proceedings of Eleventh International Workshop on Qualitative
Reasoning (QR 1997), pp. 223{231 Cortona, Italy.
Clarke, B. L. (1981). A Calculus of Individuals Based on \Connection". Notre Dame
Journal of Formal Logic, 22, 204{218.
Cook, S. A. (1971). The complexity of theorem-proving procedures. In Proceedings of the
3rd Symposium on Theory of Computation, pp. 151{158.
Cristani, M. (1997). Morphological Spatial Reasoning: Preliminary Report. Tech. rep.
08/97, LADSEB-CNR Padova (Italy).
Cui, Z. (1994). Using interval logic for order assembly. In Proceedings of the Second International Conference on Intelligent Systems in Molecular Biology, pp. 103{111. AAAI
Press.
Drakengren, T., & Jonsson, P. (1997). Twenty-one large tractable subclasses of Allen's
algebra. Artificial Intelligence, 93 (1-2), 297{319.
Egenhofer, M. J. (1991). Reasoning about binary topological relations. In Gunther, O., &
Schek, H. J. (Eds.), Advances in Spatial Databases-Second Symposium SSD '91, No.
525 in Lecture Notes in Computer Science, pp. 143{160. Springer-Verlag, New York,
NY, USA.
388

fiThe Complexity of Reasoning about Spatial Congruence

Egenhofer, M. J., & Franzosa, R. (1991). Point-Set Topological Spatial Relations. International Journal of Geographical Information Systems, 5 (2), 161{174.
Egenhofer, M. J., & Herring, J. (1990). A Mathematical Framework for the Definition
of Topological Relationships. In Fourth International Symposium on Spatial Data
Handling, pp. 803{813 Zurich, Switzerland.
Franzosa, R., & Egenhofer, M. J. (1992). Topological Spatial Relations Based on Components and Dimensions of Set Intersections. In SPIE's OE/Technology '92-Vision
Geometry Boston, MA ,USA.
Gotts, N. M. (1994). How Far Can We \C"? defining a \Doughnut" Using Connection
Alone. In Doyle, J., Sandewall, E., & Torasso, P. (Eds.), Proceedings of the 4th
International Conference on Principles o f Knowledge Representation and Reasoning
(KR-94), pp. 246{257. Morgan Kaufmann, San Francisco, CA, USA.
Gotts, N. M., Gooday, J. M., & Cohn, A. G. (1996). A Connection Based Approach to
Commonsense Topological Description and Reasoning. The Monist: An International
Journal of General Philosofical Inquiry, 79 (1).
Grigni, M., Papadias, D., & Papadimitriou, C. (1995). Topological Inference. In Mellis, C.
(Ed.), Proceeding of the 14th International Joint Conference on Artificial Intelligence
(IJCAI-95), pp. 901{906 Montreal, PQ, Canada. Morgan Kaufmann.
Jonsson, P., & Drakengren, T. (1997). A Complete Classification of Tractability in the Spatial Theory RCC-5. Journal of Artificial Intelligence Research, 6, 211{221. Research
Note.
Jonsson, P., Drakengren, T., & Backstrom, C. (1999). Computational complexity of relating
time points with intervals. Artificial Intelligence, 109 (1-2), 273{295.
Ladkin, P., & Maddux, R. (1994). On Binary Constraint Problems. Journal of the ACM,
41 (3), 435{469.
Lemon, O. J. (1996). Semantical Foundations of Spatial Logics. In Aiello, L. C., & Doyle, J.
(Eds.), Proceedings of the 6th International Conference on Principles o f Knowledge
Representation and Reasoning (KR-96). Morgan Kaufmann, San Francisco, CA, USA.
Mackworth, A., & Freuder, C. (1985). The complexity of some polynomial network consistency algorithms for constraint satisfation problems. Artificial Intelligence, 25 (1),
65{74.
Mutinelli, E. (1998). Sviluppo ed Analisi di Algoritmi per il Ragionamento Spaziale Qualitativo con Reti di Vincoli. Laurea thesis, Universita di Verona. in Italian.
Nebel, B. (1995). Computational properties of qualitative spatial reasoning: First results. In
Advances in artificial intelligence (KI-95), pp. 233{244 Bielefeld, Germany. SpringerVerlag, New York, NY, USA.
389

fiCristani

Nebel, B. (1999). Observations on the complexity of reasoning in constraint algebras.
Personal communication to A. Fin and M. Cristani.
Nebel, B., & Burckert, H. J. (1995). Reasoning about temporal relations: A maximal
tractable subclass of Allen's interval algebra. Journal of the ACM, 42 (1), 43{66.
Randell, D. A., & Cohn, A. G. (1989). Modelling topological and metrical properties
of physical processes. In Brachman, R. J., Levesque, H. J., & Reiter, R. (Eds.),
Proceedings of the 1st International Conference on Knowledge Representation and
Reasoning (KR-89), pp. 55{66 Toronto, ON, Canada. Morgan Kaufmann.
Randell, D. A., Cui, Z., & Cohn, A. G. (1992). A spatial logic based on regions and
connection. In Swartout, B., & Nebel, B. (Eds.), Proceedings of the 3rd International
Conference on Principles of Knowledge Representation and Reasoning (KR-92), pp.
165{176 Cambridge, MA, USA. Morgan Kaufmann.
Renz, J. (1999). Maximal Tractable Fragments of the Region Connection Calculus: A
Complete Analysis. In Proccedings of the 17th International Conference on Artificial
Intelligence (IJCAI 99).
Renz, J., & Nebel, B. (1999). On the complexity of qualitative spatial reasoning: A maximal
tractable fragment of the Region Connection Calculus. Artificial Intelligence, 108 (12), 69{123.
Statman, R. (1979). Intuitionistic logic is polynomial-space complete. Theoretical Computer
Science, 9 (1), 67{72.
Zimmermann, K. (1995). Measuring without Measures: The -Calculus. In Proceedings of
the International Conference on Spatial Information, pp. 59{67.

390

fi