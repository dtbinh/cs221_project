divergence critic
bundy van harmelen f horn c smaill oyster clam system
stickel ed th international conference automated deduction pp
springer verlag lecture notes artificial intelligence
dershowitz n pinchover e inductive synthesis equational programs
proceedings th national conference ai pp american association
artificial intelligence
hermann crossed term rewriting systems crin report r centre de
recherche en informatique de nancy
ireland use critics mechanizing inductive proof proceedings lpar lecture notes artificial intelligence springer verlag
available report dept ai edinburgh university
ireland bundy failure guide inductive proof tech rep dept
artificial intelligence university edinburgh available edinburgh dai

kirchner h schematization infinite sets rewrite rules application
divergence completion processes proceedings rta pp
protzen disproving conjectures kapur ed th conference
automated deduction pp springer verlag lecture notes computer
science
thomas jantke k inductive inference solving divergence knuthbendix completion proceedings international workshop aii pp
thomas watson p solving divergence knuth bendix completion
enriching signatures theoretical computer science
walsh divergence critic bundy ed th conference automated
deduction pp springer verlag lecture notes artificial intelligence

walsh nunes bundy use proof plans sum series kapur
ed th conference automated deduction pp springer verlag
lecture notes computer science available edinburgh dai

yoshida bundy green walsh basin coloured rippling
extension theorem proving heuristic cohn ed proceedings ecai
pp john wiley available edinburgh dai



fiwalsh
way types divergence could perhaps recognized
divergence critic needed identify divergence patterns isolate
causes propose ways fixing may take advantage close
links divergence patterns particular types generalization instance
may possible identify specific divergence patterns need generalize common
subterms theorem proved

acknowledgements

supported human capital mobility postdoctoral fellowship
wish thank adel bouhoula michael rusinowitch invaluable assistance
spike pierre lescanne inviting visit nancy
performed david basin alan bundy miki hermann andrew ireland michael
rusinowitch comments questions reviewers comments suggestions members eureca protheo groups inria members
dream group edinburgh mrg groups trento genova

references

aubin r mechanizing structural induction ph thesis university edinburgh
basin walsh difference matching kapur ed th conference
automated deduction pp springer verlag lecture notes computer
science available edinburgh dai
basin walsh difference unification proceedings th ijcai
international joint conference artificial intelligence available technical
report mpi max planck institute fur informatik
basin walsh termination orderings rippling bundy ed th
conference automated deduction pp springer verlag lecture notes
artificial intelligence
bouhoula kounalis e rusinowitch spike theorem prover
proceedings lpar lecture notes artificial intelligence springer verlag
bouhoula rusinowitch implicit induction conditional theories journal automated reasoning
bouhoula rusinowitch b spike user manual inria lorraine
crin rue du jardin botanique villers les nancy france available
ftp ftp loria fr pub loria protheo softwares spike
boyer r moore j computational logic academic press acm monograph
series
bundy stevens van harmelen f ireland smaill rippling
heuristic guiding inductive proofs artificial intelligence
available edinburgh dai


fia divergence critic
rev qrev x nil x
rev qrev x cons nil cons x
rev qrev x cons z cons nil cons z cons x



annotated sequence unique maximal difference match annotations suggest
need wave rule
rev qrev x cons nil cons rev qrev x nil

rule allows proof go without divergence comparison specific
generalization seems unable identify rule specific generalization
left hand side sequence gives term rev qrev x z ignoring first term
sequence rev qrev x cons z specific generalization cannot however
identify useful pattern rev qrev x cons nil
nqthm contains simple test divergence subsumption instance
example last section nqthm unable simplify following subgoal
step case proof
equal rot length x append x list z
cons z rot length x x

note lemma speculated divergence critic nqthm generalizes length
x subgoal giving false conjecture
equal rot append x list z
cons z rot x

several attempts induction generalization nqthm realizes proof
diverging since subgoal subsumed parent proof therefore loop
nqthm gives attempt made analyse failed proof attempt identify
started go wrong addition subsumption weak test divergence much
weaker tests difference matching generalization subsumption test
recognizes divergence small number failed examples last section

conclusions

described divergence critic computer program attempts identify diverging proof attempts propose lemmas generalizations overcome
divergence divergence critic proved successful enables system spike
prove many theorems definitions alone divergence critic success
largely attributed power rippling heuristic heuristic originally
developed proofs explicit induction since found several applications
difference matching used identify accumulating term structure causing divergence lemmas generalizations proposed ripple term structure


fiwalsh
divergence critic described works implicit explicit induction setting
second divergence critic automatically invoked must identify proof
failing third divergence critic less specialized last two differences ect
fact critics clam usually associated failure particular precondition
heuristic divergence pattern comparison arise many different
reasons need generalize variables apart generalize common subterms add
lemma etc fourth divergence critic must use difference matching annotate terms
clam terms usually already appropriately annotated finally divergence critic
less tightly coupled theorem prover inference rules heuristics critic
therefore exploit strengths prover without needing reason complex
rules heuristics used instance divergence critic diculty identifying
divergence complex situations nested mutual inductions critic benefits
powerful simplification rules used spike
divergence studied quite extensively completion procedures two
main novelties critic described use difference matching identify
divergence use rippling speculation lemmas overcome divergence
dershowitz pinchover comparison use specific generalization identify divergence patterns critical pairs produced completion dershowitz pinchover
kirchner uses generalization modulo equivalence relation recognise divergence
patterns kirchner meta rules synthesized describe infinite families
rules common structure thomas jantke use generalization inductive
inference recognize divergence patterns replace infinite sequences critical pairs
finite number generalizations thomas jantke thomas watson use
generalization replace infinite set rules finite complete set enriched
signature thomas watson
generalization modulo equivalence enables complex divergence patters identified however general undecidable specific generalization comparison
limited cannot recognize divergence patterns give nested wave fronts

x x
addition specific generalization cannot identify term structure wave holes
example consider divergence sequence equations produced spike attempts
prove example section
rev qrev x nil x
rev qrev x cons nil cons x
rev qrev x cons z cons nil cons z cons x



divergence analysis identifies term structure accumulating within accumulator argument
qrev


fia divergence critic
unfortunately heuristics instantiating right hand side speculated lemmas
strong enough suggest rule

x z x z
rule spike finds proof commutativity multiplication without diculty
diculties speculating rule arise wave front stuck similar
position sides equality clues therefore suggest ripple
top term tree
example divergence critic proposes lemma one needed spike
able proof theorem definitions alone inductions three
inductions equations
x x
x x
x x
sequence equations satisfies divergence critic preconditions critic therefore
proposes wave rules moving accumulating successor functions first argument
position although proposed lemmas necessary give much shorter
simpler proof needing inductions
example lemma speculated example divergence analysis spike
attempt prove theorem identifies term structure accumulating second alias
accumulator argument qrev first two lemmas proposed removing term
structure use subsumed recursive definition qrev third
lemma fails prevent divergence lemma simplifies two element lists second
argument position qrev however divergence still occur prover cannot simplify
lists occur second argument position qrev contain elements
divergence overcome introduce derived function appending onto end
list used simplify terms list arbitrary size occurs
second argument position qrev example simplify rule

qrev x app qrev x nil
unfortunately append occur specification theorem dicult
heuristic would speculate rule

related work

critics monitoring construction proofs first proposed ireland clam
prover ireland framework failure one proof methods automatically
invokes critic critics explicit induction developed speculate
missing lemmas perform generalizations look suitable case splits etc rippling plays
central role clam proof methods many heuristics similar described
ireland bundy however several significant differences first


fiwalsh

theorem

x x

x x
x z v w w x z v

lemmas speculated
time

n
x x

x x

x x
qrev qrev x z qrev qrev x z
qrev x z qrev x z

qrev qrev x z w qrev qrev x z w
qrev qrev x z w z qrev qrev x w

table divergence critic failures
diverges generating following sequence equations
x x x
x x x x x x
x x x x x x x x


divergence analysis left hand sides equations suggests need rule
form

x z f z
unfortunately heuristics lemma speculation suciently strong suggest
suitable instantiation f example z x z lemma rather complex
two overlapping divergence patterns annotations considered
separately suggest rules

x x
x z x z
two rules spike finds proof without diculty
example commutativity multiplication divergence critic identifies
divergence pattern proposes transverse wave rule

x x
however spike unable prove commutativity multiplication addition
rule proof attempt somewhat simpler contains diverging sequence
equations
x x x x x x
x x x x x x x x

x x x x x x x x x x





fia divergence critic
speculate non theorems optimal strength generalization
heuristics would valuable
example disappointment lemma proposed fixes divergence
dicult proved automatically even assistance divergence critic
see example end section details example discussed
detail related work section demonstrates superiority difference
matching generalization techniques divergence analysis examples require
little discussion finally examples demonstrate critic cope
divergence moderately complex theories containing conditional equations
pleasing divergence critic theorems listed
exception proved definitions alone provide indication
diculty theorems nqthm system boyer moore
perhaps best known explicit induction theorem prover unable prove
half theorems definitions alone precise nqthm failed
course addition
simple lemmas nqthm able prove theorems indeed many cases nqthm
needs lemmas proposed divergence critic required spike
suggests divergence critic especially tied particular prover used
even implicit induction setting
test hypothesis presented output diverging proof attempt nqthm
critic chose commutativity multiplication perhaps simplest
theorem causes nqthm diverge critic proposed lemma
equal times add x plus times x

times plus primitives nqthm logic recursively defined first
arguments exactly lemma needed nqthm prove commutativity
multiplication nqthm fails many examples similar reasons spike
divergence analysis identifies appropriate lemma supports suggestion
divergence critic likely useful wide variety provers
divergence critic several limitations recognizing divergence general
undecidable since reduces halting divergence critic therefore
sometimes fail identify diverging proof attempt addition critic sometimes
identify divergence pattern proof attempt diverging even divergence correctly identified critic sometimes fail speculate appropriate
lemma finally critic speculates wave rules whilst many theories contain large
number wave rules often useful fixing divergence types
lemma needed
table lists four theorems divergence critic fails
representative different ways critic fail two main cause
failure overlapping divergence patterns inability heuristics speculate
appropriate right hand side lemma times speculate lemmas
proof theorem
example commuted version recursive definition multiplication
defined recursively second argument position spike attempt prove theorem


fiwalsh
examples optimal rules fixing divergence nevertheless proposed rules fix divergence proved without diculty
spike example similar example
examples require little comment example proposed lemma
dicult proved automatically however divergence critic able identify
cause diculty propose lemma allows proof go example
example speculated lemma optimal simpler lemma speculated
example would adequate prove theorem without divergence speculated
lemma optimal divergence critic attempts ripple accumulating
term structure two functors len rot top term tree however
sucient ripple one functor rot
examples straightforward require discussion example
critic identifies two separate divergence patterns overcome divergence first lemma
plus one second third therefore needed first divergence pattern
occurs sequence subgoals

len rev x len x
len app rev x cons nil len x
len app app rev x cons nil cons z nil len x



term structure accumulating second argument append term structure
removed first rule

len app x cons nil len x
second divergence pattern occurs sequence subgoals

x len x len
x len x len
x len x len



term structure accumulating first argument removed one
second third rules

x x
x x
examples reasonably straightforward lemma speculated example
special case associativity append powerful generalization heuristics
could speculated associativity append however heuristics would


fia divergence critic
causes divergence current release speculated lemmas however simplify
proof example used text illustrate generalization heuristics second
lemma example perhaps little surprising

len app x cons w cons z len app x cons w
although complex first lemma nearly good fixing divergence
example lemma proposed

even x even x
optimal simplest possible lemma fixes divergence fix
divergence merely need one rules x x x x
ripple successor functions accumulating first argument
position divergence critic attempts construct lemma ripple two successor
functions across first second argument positions unfortunately
critic fails appropriate instantiation right hand side lemma
critic instead proposes rule move two successor functions top term
wave front peter example similar example
examples demonstrate critic cope divergence theories involving mutual recursion example spike attempts prove induction equations

evenm x x
oddm x x
evenm x x
oddm x x
evenm x x









true
true
true
true
true

critic identifies two inter linking divergence patterns

evenm x x true
evenm x x true
evenm x x true

oddm x x true
oddm x x true
oddm x x true







critic therefore proposes rules ripple accumulating term structure
top term peters

evenm x evenm x
oddm x oddm x


fiwalsh



theorem
x x x x

lemmas speculated
time
x x

x x

dbl x x x
x x

dbl dbl x dbl x
x x

len x len x
len x z len x

len x z len w x

len x len x len
x x

x x

len x x dbl len x
len x z len x

len x w z len x w

even x x
even x even x


odd x x
odd x odd x


evenm x x
evenm x evenm x

oddm x oddm x

oddm x x
evenm x evenm x

oddm x oddm x

evenm x half x half x x
x x

x x

half x x x
x x

half x half x

half x x x
x x

half x half x

rot len x x x
rot len x x rot len x x


len rot len x x len x
len rot x z len rot x z


rot len x x rot len x x
x z x z

rot len x x z rot len x x z

len rev x len x
len x len x


rev rev x x
rev x rev x


rev rev x x
rev x rev x


rev rev x rev rev x
rev x rev x


len rev x len x len
len x len x

x x
x x

len qrev x len x
len qrev x z len qrev x


qrev x rev x
x z x z


len qrev x len x len
x x

x x

qrev qrev x x
qrev qrev x z qrev qrev x z


rev qrev x x
rev qrev x rev qrev x


qrev rev x x
qrev x z qrev x z


nth nth j x nth j nth x
nth nth j x nth nth j x

nth nth j nth k x nth k nth j nth x
nth nth j x nth nth j x


len isort x len x
len insert x len x


sorted isort x
sorted insert x sorted x

sorted insert insert z x sorted x

table lemmas speculated divergence critic
notes written infix cons infix append nil x cons x nil
addition even defined x recursion evenm mutual recursion oddm
rot n l rotates list l n elements


fia divergence critic
critic successful identifying divergence proposing appropriate lemmas
generalizations significant number theorems divergence analysis quick
examples divergence pattern recognized usually less second
time spent looking generalizations refuting generalizations
conjecture disprover usually takes seconds additional heuristics
preventing generalization ecient implementation conjecture
disprover would speed critic considerably



table lists theorems cause spike diverge lemmas speculated
divergence critic analysing diverging proof attempts provide
representative sample type theorems cause divergence
identified appropriate lemma generalization speculated many
come clam library corpus part table appeared walsh
times divergence critic speculate lemmas average
runs sun running quintus
spike proof attempt diverges example given definitions alone
cases critic quickly able suggest lemma overcomes divergence
multiple lemmas proposed exception one
sucient fix divergence every case except lemmas proposed
suciently simple proved automatically without introducing fresh divergence
majority cases lemmas proposed optimal simplest possible
lemmas fix divergence cases lemma optimal usually
slightly complex simplest lemma fixes divergence many
examples lemmas conjectured divergence analysis quickly
rejected conjecture disprover example example divergence analysis
petering heuristic suggest rule
len app x cons nil len x
however refuted exhaustive normalization ground terms x
case cancellation heuristic identifies required lemma
len app x cons nil len x
examples deserve additional comment example divergence critic
identifies successor functions accumulating first argument position
critic speculates lemma moving successor functions top
term immediate cancellation occur onto second argument position
simplification recursive definition occur first lemma
speculated fact generalization theorem proved example simple
program verification taken dershowitz pinchover forward
direction theorem discussed introduction similar divergence occurs
example generalization lemmas speculated
example caused divergence beta version spike available summer
proof rules spike since strengthened example longer


fiwalsh

compiling file home dream tw work spike diverge data double x x
data double x x compiled module user sec bytes
speculate
equations input
double x x x
x x x x
x x x x
x x x x
lemmas speculated
x x x x
x x x x
x x x x
x x x x
x x x x
x x x x
x x x x
x x x x
deleting lemmas subsumed
x x x x
x x x x
merging remaining lemmas
x x x x
x x x x
yes


figure example output divergence critic
figure gives divergence critic output discussed introduction
proposed lemmas used rewrite rule adequate fix divergence
addition proposed lemmas suciently simple proved automatically without
introducing fresh divergence first lemma rewrite rule moving accumulating
successor functions first argument position top term tree
second lemma transverse wave rule discussed section moving accumulating
successor functions first argument position second argument position


fia divergence critic

preconditions
sequence equations si ti
prover attempts prove induction
exists non trivial g h j
maximal difference match sj g uj acc
sj g h uj acc
postconditions
critic proposes rule form

g h u acc g u f acc
f instantiated fertilization simplification
heuristics
lemma generalized augmented primary terms equality heuristics
generalized lemmas filtered type checker
conjecture disprover
several lemmas suggested critic deletes
subsumed
figure speculation transverse wave rules
annotations could speculate hybrid wave rules ripple part wave front
across part term tree however rules appear rare addition
hybrid wave rules often decomposed pair wave rules one
moves wave fronts term tree another moves wave fronts
across

implementation

divergence critic described previous sections implemented prolog
system consists lines code defining approximate different prolog predicates recently cut version incorporated directly within spike
system written caml light bouhoula rusinowitch b output
spike parsed generate input critic input consists equations
prover attempts prove induction sort information type checker
difference matcher recursive argument positions constructing primary terms
rewrite rules defining theory used conjecture disprover


fiwalsh
rule allows proof go without divergence
speculated transverse wave rules generalized extended primary terms
heuristic described section divergence critic generalizes transverse wave
rules means equality heuristic heuristic attempts cancel equal outermost
functors possible example consider theorem

x x x
addition defined recursively second argument position subtraction
defined rewrite rules

x x
x
x x
spike attempt prove theorem diverges generating amongst others goals

x x
x x
x x


divergence analysis identifies accumulating term structure within equations
x x
x x
x x


unique maximal difference match annotations suggest need
transverse rule
x x x x
equality heuristic deletes equal outermost function z z x gives
general lemma
x x
speculated lemmas filtered type checker ensure erasure
well typed speculated lemmas filtered conjecture disprover guard
generalization
actions critic summarized figure specification preconditions
postconditions uses second order variables limited manner implementation merely requires second order matching first order difference matching
preconditions postconditions easily generalised include multiple nested


fia divergence critic
qrev b app rev b
qrev cons c b app app rev cons c nil b
qrev cons c cons b app app app rev cons c nil cons nil b



unique maximal difference match rather move accumulating term
structure right hand side equations top term much simpler
move accumulating term structure first onto second argument
outermost append critic therefore proposes transverse wave rule preserves
skeleton moves difference onto different argument position example
rule form

app app rev cons c nil b app rev f b
moving difference onto another argument position difference may change syntactically right hand side lemma therefore partially determined
instantiate f critic uses two heuristics fertilization simplification
fertilization heuristic uses matching instantiation f enables
immediate fertilization case matching universally quantified variable b
induction hypothesis suggests

app app rev cons c nil b app rev cons c b
finally critic generalizes lemma extended primary term heuristic
e augmenting recursive positions wave hole positions gives rule

app app cons c nil b app cons c b
exactly rule needed spike complete proof addition simple
enough proved without divergence true ungeneralized rule
heuristic used instantiate right hand side speculated lemma
simplification heuristic heuristic uses regular matching instantiation
f enable wave front simplified one recursive definitions
consider dbl theorem introduction divergence analysis identifies successor functions accumulating first argument position accumulating term
structure moved top term tree alternatively onto second
argument position transverse wave rule form

x x f
right hand side transverse wave rule instantiated simplification heuristic
wave front right hand side simplified rewrite rule recursively
defining f instantiated z z rule

x x


fiwalsh
f g cover set natural numbers two rules merged give
sorted insert x sorted x

transverse wave rules
lemmas speculated far moved accumulating term structure directly top
term removed cancellation petering alternative way
removing accumulating term structure move onto another argument position
removed matching sink universally quantified variable
induction hypothesis moved upwards rewriting recursive
definitions annotated rewrite rules preserve skeleton move wave fronts
across argument positions called transverse wave rules bundy et al
theorems involving functions accumulators provide rich source examples
rewrite rules prevent divergence
consider example theorem correctness tail recursive list reversal

b qrev b app rev b
b universally quantified rev naive list reversal append
qrev tail recursive list reversal building reversed list second argument position
functions defined rewrite rules
rev nil
rev cons h
qrev nil r
qrev cons h r






nil
app rev cons h nil
r
qrev cons h r

spike attempt prove theorem diverges generating following sequence equa

tions prover attempts induction

qrev b app rev b
qrev cons c b app app rev cons c nil b
qrev cons c cons b app app app rev cons c nil cons nil b



difference matching identifies term structure accumulating within equations
causing divergence


fia divergence critic
len b len b
len b len b



difference matching identifies term structure causing divergence
len b len b
len b len b

len b len b



unique maximal difference match annotations suggest need
wave rule
len b len b
set candidate terms generalization constructed computing intersection
primary terms two sides rule case primary terms left
hand side set fs len b len b bg primary terms right hand
side set fs len b len b len b bg intersection primary terms
thus set flen b bg critic picks members intersection generalize
variables picking b justs gives equivalent lemma renaming variables picking
len b gives generalization

reason considering primary terms recursive definitions typically
provide wave rules removing term structure accumulates positions
addition primary terms divergence critic therefore considers positions
wave holes wave fronts skeleton lemma speculated
motivation extension speculated lemma allow accumulating term
structure moved wave hole positions positions therefore candidates generalization positions wave fronts included since want
speculate lemma move term structure positions
instance wave hole first argument last example
included intersection set candidate terms generalization picking
generalize gives
x x
speculated lemma general possible rule allows proof go
without divergence
critic heuristic merging speculated lemmas instance
theorem sorted isort x critic speculates several rules including
sorted insert x sorted x
sorted insert x sorted x


fiwalsh

critic proposes rule form

g h u f g u
f instantiated cancellation petering
heuristics
lemmas filtered type checker conjecture disprover
several lemmas suggested critic deletes
subsumed
figure postconditions divergence critic

generalization

major cause divergence need generalize lemmas proposed
critic fix divergence attempting prove lemmas cause
fresh divergence addition several speculated lemmas sometimes replaced
single generalization generalized lemmas lead shorter elegant
natural proofs critic therefore attempts generalize lemma speculated
conjecture disprover guard generalization
main heuristic used generalization extension primary term heuristic
aubin primary terms terms encountered term explored
root leaves ignoring non recursive argument positions functions
notion recursive argument position used critic defined bouhoula
rusinowitch used spike performing inductions
consider example theorem

b len len b len app b
defined recursively second argument len app defined
means rewrite rules
len nil
len cons h
app nil
app cons h r







len

cons h app r

taken clam library corpus bundy et al spike attempt
prove theorem diverges one sequences equations generated
len b len b


fia divergence critic
spike diverging attempt prove theorem generates equations

nth nth j x nth j nth x
nth nth j cons x nth j nth x
nth nth j cons z cons x nth j nth x



divergence analysis identifies term structure accumulating two different places

nth nth j x nth j nth x
nth nth j cons x nth j nth x
nth nth j cons z cons x nth j nth x



unique maximal difference match divergence pattern suggests need
rewrite rule form

nth nth j cons x f nth nth j x
petering heuristic instantiates f identity function z z giving rule

nth nth j cons x nth nth j x
rule allows proof go without divergence
since erasure wave rule must properly typed sort information used
prune inappropriate instantiations f speculated lemmas therefore filtered
type checker speculated lemmas filtered conjecture disprover
con uent set rewrite rules exists ground terms exhaustive normalization
representative set ground instances equations used filter nontheorems alternatively prover could used filter non theorems unlike
many induction theorem provers spike refute conjectures since inference
rules refutationally complete conditional theories axioms ground
convergent defined functions completely defined free constructors bouhoula
rusinowitch techniques disproving conjectures described protzen

critic lemma speculation summarized figure variable
names preconditions specification uses second order variables
limited manner first order difference matching merely required construct lemmas
preconditions specification postconditions easily extended
deal multiple nested wave fronts nth nth j l nth j nth l
example since rules proposed critic move wave fronts top term
usually introduce fresh divergence rare cases cancellation fertilization
fails unlikely since cancellation petering heuristics attempt ensure
precisely cancellation fertilization take place


fiwalsh
divergence pattern suggests f instantiated z z enable immediate cancellation thus required cancellation heuristic suggests rule
x x
heuristic used instantiate right hand side speculated lemmas
petering moving differences top term may disappear
altogether consider example theorem
l sorted isort l true
isort insertion sort sorted true iff list sorted order defined
conditional rewrite rules
sorted nil true
sorted cons x nil true
x sorted cons x cons z sorted cons z
isort nil nil
isort cons x insert x isort
insert x z inserts element x list z order x
defined rewrite rules
x true
x false
x x
insert x nil cons x nil
x insert x cons z cons x cons z
x insert x cons z cons insert x z
divergence analysis spike attempt prove theorem suggests need
rule form
sorted insert x f sorted x
petering heuristic instantiates f identity function z z gives rule
sorted insert x sorted x
rule allows proof go without divergence
complex example consider theorem
j l nth nth j l nth j nth l
nth defined rewrite rules
nth l l
nth n nil nil
nth n cons h nth n


fia divergence critic
nested annotations allows critic recognise multiple sources divergence
equation techniques identify accumulating term structure specific
generalization dershowitz pinchover cannot cope divergence patterns
give rise nested annotations see section details
specification preconditions left length sequence undefined
sequence length critic preemptive propose lemma
another induction attempted divergence begins short sequence risks
identifying divergence none exists hand long sequence expensive test allows prover waste time diverging proof attempts empirically
good compromise appears look sequences length cheap
test reliable identify accumulating term structure appears sucient
use ground difference matching alpha conversion variable names exists
fast polynomial perform difference matching upon ground
difference matching dynamic programming basin walsh since
skeleton must well typed along erasure extended use
sort information prune potential difference matches

lemma speculation
one way removing accumulating nested term structure propose wave rule
moves difference top term leaving skeleton unchanged hope
cancel wave fronts side equality
disappear process moved dbl theorem generalization
discussed next section divergence pattern suggests rule form

x f x
f second order variable need instantiate instantiating f ultimately dicult synthesis hope heuristics work
time two heuristics used divergence critic instantiate f
cancellation petering
cancellation heuristic uses difference matching identify term structure accumulating opposite side sequence would allow cancellation occur failing
cancellation heuristic looks suitable term structure cancel
sequence original sequence usually divergence pattern step case whilst
sequence usually divergence pattern base case dbl example successor
functions accumulate top left hand side diverging equations

x x x x
x x x x
x x x x





fiwalsh
critic attempts accumulating nested term structure
sequence causing divergence case successor functions accumulating
first argument identify accumulating term structure critic uses
difference matching difference matching successive equations gives annotated sequence

x x x x
x x x x
x x x x



unique maximal difference match
critic tries speculate lemma used rewrite rule move
accumulating nested term structure way case critic speculates
rule moving successor function first argument rule

x x
rule spike able prove dbl theorem without divergence addition
rule suciently simple proved without assistance heuristics used
critic perform lemma speculation described detail next two
sections
divergence analysis performed critic summarised figure analysing
sequence equations si ti
prover attempts prove induction
exists non trivial g h j
maximal difference match sj g uj sj
g h uj
figure preconditions divergence critic
divergence consider equations prover attempts prove induction includes equation induction proof succeeds often
suggest useful patterns non trivial wish exclude z z identity substitution h thus accumulating nested term structure appears causing
divergence dbl example h z z g z z x u x although
g h second order variables second order nature divergence analysis
limited indeed implementation critic merely requires first order difference
matching polynomial simplicity preconditions ignore orientation
equations addition preconditions easily generalised include multiple


fia divergence critic
rippling several desirable properties highly goal directed manipulating
differences induction hypothesis induction conclusion
annotations restrict application rewrite rules rippling involves little
search difference matching rippling proved useful domains outside explicit
induction example used sum series walsh nunes bundy
prove limit theorems yoshida bundy green walsh basin rest
difference matching rippling useful identifying
correcting divergence prover neither uses explicit rules induction uses
annotations control rewriting

divergence analysis

initial recognizing proof diverging properties rewrite
rules identified cause divergence example forwards backwards
crossed systems hermann however properties fail capture diverging
rewrite systems since general undecidable divergence critic instead
studies proof attempt looking patterns divergence attempt made analyse
rewrite rules structures give rise divergence advantage
critic need know details rewrite rules applied
type induction performed control structure used prover critic
thus recognise divergence patterns arising complex mutual multiple inductions
little diculty divergence patterns arising simple straightforward
inductions disadvantage critic identify divergence
pattern none exists fortunately cases appear rare even
occur critic usually suggests lemma generalization gives shorter
elegant proof see section example
illustrate ideas behind critic divergence analysis consider theorem
introduction
n dbl n n n
divergence critic first partitions sequence equations prover attempts
prove induction necessary since several diverging sequences may interleaved
prover output several heuristics used reduce number partitions
considered useful heuristic parentage sequence partitioned
equation derived previous one equations lie
single branch proof tree particular base case step case induction
partitioned different sequences heuristics used include
function constant symbols occur one equation occur next equation
partition weights equations partition form simple arithmetic
progression case single open branch proof tree
x x x x
x x x x
x x x x




fiwalsh
annotated term r difference matching unitary two terms
one difference match example x x difference matches
x x number difference matches reduced compute
maximal difference match wave fronts high possible term tree
formal definition well founded ordering annotated terms given
basin walsh
aim rippling rewrite annotated induction conclusion skeleton
induction hypothesis preserved differences wave fronts moved
harmless places example top term rewriting succeeds
able appeal induction hypothesis rewrite annotated induction
conclusion use following annotated rewrite rules wave rules

dbl x dbl x
x x
x x





first two annotated rewrite rules derived recursive definitions dbl
whilst second derived lemma proposed end introduction
annotated rewrite rules preserves skeleton term rewritten
moves wave fronts higher term tree wave rules guarantee wave rule
annotated rewrite rule identical skeleton left right hand sides
moves wave fronts well founded direction instance top term tree
basin walsh
rippling left hand side annotated induction conclusion yields

dbl x x x
rippling right hand side gives

dbl x x x
finally rippling right hand side yields

dbl x x x
wave fronts top term successfully rippled sides
equality appeal induction hypothesis left hand side giving

x x x x
simple identity proof complete note complete proof
needed rewrite lemma aim divergence critic described
propose lemmas


fia divergence critic
section describe difference matching rippling two key ideas heart
divergence critic outline difference matching identifies accumulating
term structure causing divergence section section
lemmas speculated ripple term structure way section
describe heuristics used generalizing lemmas finally implementation
described sections

difference matching rippling

rippling powerful heuristic developed edinburgh proving theorems involving
explicit induction bundy stevens van harmelen ireland smaill implemented clam theorem prover bundy van harmelen horn smaill
step case inductive proof induction conclusion typically differs induction
hypothesis addition constructors destructors rippling uses annotations
mark differences applies annotated rewrite rules remove
simple example consider theorem discussed introduction
step case induction hypothesis

dbl x x x
induction conclusion

dbl x x x
difference match induction conclusion induction hypothesis basin
walsh obtain following annotated induction conclusion

dbl x x x
annotation consists wave front box wave hole underlined term wavefronts one functor thick basin walsh every wave front
one immediate subterm annotated wave hole make presentation simpler
display adjacent wave fronts merged thus x syntactic sugar
annotated term x wave fronts include arrows indicate
whether moving towards top term tree towards leaves
extension however safely ignored
skeleton annotated term formed deleting everything appears
wave front wave hole erasure annotated terms formed
deleting annotations terms contain case skeleton
annotated induction conclusion identical induction hypothesis erasure
annotated induction conclusion unannotated induction conclusion difference
matching guarantees difference matching induction conclusion
induction hypothesis annotates induction conclusion skeleton matches
induction hypothesis
formally r difference match substitution iff skeleton r
erase r skeleton r erase r build skeleton erasure


fiwalsh
alpha convert variable names necessary rewriting induction conclusion
recursive definitions dbl gives

dbl x x x
outermost successor functions side equality cancelled

dbl x x x
prover fertilizes induction hypothesis left hand side

x x x x
equation cannot simplified another induction performed unfortunately
generates diverging sequence subgoals

x x
x x
x x
x x
x x









x x
x x
x x
x x
x x

prover repeatedly tries induction x unable simplify
successor functions introduces first argument position proof
go without divergence rewrite rule

x x
rule ripples accumulating successor functions first argument position
rewrite rule derived lemma

x x x
commuted version recursive definition addition coincidently
generalization first subgoal lemma proved without divergence
induction variable occurs second argument position
describe simple divergence critic computer program attempts
automate process divergence critic identifies proof attempt diverging
means difference matching procedure critic proposes lemmas
generalizations hopefully allow proof go without divergence although
critic designed work prover spike work induction
provers walsh spike rewrite theorem prover first order conditional
theories contains powerful rules case analysis simplification implicit induction
notion test set unfortunately case inductive theorem
provers attempts prove many theorems diverge without appropriate generalization
addition suitable lemma


fijournal artificial intelligence

submitted published

divergence critic inductive proof
toby itc

toby walsh

irst location pante di povo
trento italy

abstract

inductive theorem provers often diverge describes simple critic computer program monitors construction inductive proofs attempting identify
diverging proof attempts divergence recognized means difference matching
procedure critic proposes lemmas generalizations ripple differences away proof go without divergence critic enables
theorem prover spike prove many theorems completely automatically definitions alone

introduction

two key inductive theorem proving proposing lemmas generalizations
prover divergence often suggests user appropriate lemma generalization
enable proof go without divergence simple example consider
theorem

n dbl n n n
part simple program verification dershowitz pinchover
addition doubling defined recursively means rewrite rules

x x
x x
dbl
dbl x dbl x
x represents successor x x adopted prolog
convention writing meta variables x upper case

theorem prover spike bouhoula kounalis rusinowitch fails prove
theorem proof attempt begins simple one step induction x base
case trivial step case induction hypothesis
dbl x x x
induction conclusion

dbl x x x
ease presentation variables sometimes renamed
introduced spike effect prover divergence critic

c ai access foundation morgan kaufmann publishers rights reserved


