journal artificial intelligence

submitted published

contingencies decision
louise pryor

louisep aisb ed ac uk

gregg collins

collins ils nwu edu

department artificial intelligence university edinburgh
south bridge
edinburgh eh hn scotland
institute learning sciences northwestern university
maple avenue
evanston il usa

abstract

fundamental assumption made classical ai planners uncertainty
world planner full knowledge conditions plan
executed outcome every action fully predictable planners cannot
therefore construct contingency plans e plans different actions performed
different circumstances discuss issues arise representation
construction contingency plans describe cassandra partial order contingency
planner cassandra uses explicit decision steps enable agent executing plan
decide plan branch follow decision steps plan subgoals acquire
knowledge planned way subgoals cassandra thus
distinguishes process gathering information process making decisions
explicit representation decisions cassandra allows coherent
contingent provides solid base extensions use
different decision making procedures

introduction
many plans use everyday lives specify ways coping
might arise execution words incorporate contingency plans
contingencies involved plan often made explicit plan communicated
another agent e g try taking western avenue blocked use ashland
crank lawnmower twice still start jiggle spark plug socalled classical planners cannot construct plans sort due primarily reliance
three perfect knowledge assumptions
planner full knowledge initial conditions plan
executed e g whether western avenue blocked
actions fully predictable outcomes e g cranking lawnmower definitely work work
category includes systems strips fikes nilsson hacker sussman noah
sacerdoti molgen stefik b recent classical planners include tweak chapman snlp mcallester rosenblitt ucpop penberthy weld term
due wilkins

c ai access foundation morgan kaufmann publishers rights reserved

fipryor collins
change world occurs actions performed planner e g nobody
else use car empty gas tank
assumptions world totally predictable need contingency
plans
perfect knowledge assumptions idealization context intended simplify process allow development
provable properties completeness correctness unfortunately
domains realistic mostly world extent unpredictable relying perfect knowledge assumptions unpredictable world may prove
cost effective planner uncertainty domain small cost recovering failure low general however may lead planner forgo options
would available potential anticipated advance
example assumption weather sunny forecast may neglect
take along umbrella forecast later turns erroneous impossible
use umbrella stay dry cost recovering failure high failing
prepare possible advance expensive mistake order avoid
mistakes sort autonomous agent complex domain must able make
execute contingency plans
recently number researchers begun investigating possibility
relaxing perfect knowledge assumptions staying close framework
classical etzioni hanks weld draper lesh williamson peot smith
pryor collins draper hanks weld goldman boddy
work embodied cassandra contingency planner whose plans following
features
include specific decision steps determine possible courses
action pursue
information gathering steps distinct decision steps
circumstances possible perform action distinguished
necessary perform

issues contingency planner

contingency planner must able construct plans expected succeed
despite unknown initial conditions uncertain outcomes nondeterministic actions
effective contingency planner must possess following capabilities
must able anticipate outcomes nondeterministic actions
must able recognize uncertain outcome threatens achievement
goal
must able make contingency plans possible outcomes
sources uncertainty affect given plan
cassandra trojan prophet fated believed accurately predicted future
disasters earlier version cassandra described pryor collins



fiplanning contingencies decision


must able schedule sensing actions detect occurrence particular
contingency



must produce plans executed correctly regardless contingency
arises

design cassandra addresses issues however several issues
addressed


considered determining whether worth
particular outcome



cassandra probabilistic planner cannot make use information
likelihood otherwise events



ignored possibility interleaving execution see section



cassandra handle exogenous events



version cassandra described cannot solve moore bomb toilet
mcdermott plans involve deciding
courses action succeed different contingencies see section

cassandra assumes sources uncertainty possible outcomes known
plans affect achievement goals firmly classical
mold job construct plans guaranteed achieve goals
decide plan plan moreover although believe cassandra
sound complete systematic addition current implementation
slow practical use

note terminology

word conditional used variety senses literature avoid use
altogether except describing work authors use specialized
senses example conditional actions conditioning peot smith
use term contingency plan refer plan contains actions may may
actually executed depending circumstances hold time use
term context dependent refer action effects depend context
action performed

outline

present cassandra describe detail discuss
takes important issues contingency handles
variety example
start describing structure cassandra plans section describes
cassandra represents actions including uncertain outcomes explains system


fipryor collins
labels allows determination alternative courses action
contingency plan pursued introduces notion explicit decision steps
section brie describes basic absence uncertainty
section explains extended handle uncertain outcomes actions
particular structure cassandra decisions considered
ensuring soundness plan constructed resulting described
detail properties discussed section
section consider issues arise contingency section
describes related work uncertainty finally section summarizes
contributions work discusses limitations

cassandra plan representation

cassandra representation contingency plans three major components
action representation supports uncertain outcomes
plan schema
system labels keeping track elements plan relevant
contingencies
components described remainder section

action representation

cassandra action representation modified form strips operator fikes nilsson consists preconditions executing action effects may
become true executing standard strips operator syntax
used ucpop penberthy weld ucpop action effects
complex standard strips effects may associated set secondary preconditions govern occurrence effect pednault
secondary preconditions allow representation context dependent effects actions
e effects depend upon context action executed use secondary preconditions critical cassandra ability represent uncertain effects
hence nondeterministic actions discuss section
figure shows simplified operator schema action making selection
soft drink machine effects describing make another selection indicator light
turned omitted operator describes two possible effects carrying
action effect acquiring soda depends secondary precondition
soda selected type available effect make another selection
indicator light come depends secondary precondition soda
selected type available effects depend upon preconditions money
entered machine machine plugged
representing uncertain effects

uncertain effect cassandra context dependent effect unknown precondition e precondition planner neither knowingly perceive deliberately affect


fiplanning contingencies decision

action

make selection machine selection

preconditions
effects

money entered machine
plugged machine

available machine selection
effect dispensed selection
money entered machine

available machine selection
effect another selection indicator machine

secondary precondition
secondary precondition

figure simplified representation operating vending machine
example malfunctioning soft drink machine may operate intermittently planner aware intermittent functioning unaware conditions govern
behavior correct functioning device depends upon unknown precondition point view planner uncertain effect nondeterministic
planner cannot tell advance whether occur clearly definition fundamentally subjective another planner better information might able specify
precisely conditions device functions properly example knew
internal mechanism machine worked another example consider
happens coin tossed principle given perfect knowledge forces
distances involved would possible predict outcome practice knowledge
unavailable effect action uncertain principle would possible
specify conditions would lead coin landing tails practice
conditions unknown
interesting note circumstances might possible planner
learn predict outcomes hitherto regarded uncertain example
learned soda machine worked unknown refers current situation
representation would facilitate learning would simply involve learning
secondary preconditions rather whole action representation
unknown preconditions play syntactic role normal preconditions within
operator schema represented expressions formed pseudo predicate
unknown effect secondary precondition type occur
certain contexts cannot distinguished planner contexts
occur
figure depicts simplified example operator uncertain effect represents action operating soft drink machine intermittently fails dispense
soda despite operated correctly operator two uncertain effects one
soda dispensed soda dispensed
clearly uncertainty respect effects stems single underlying source namely uncertainty whether machine malfunction
effect two unknown preconditions operator represent alternative
underlying source uncertainty relationship ected two arguments


fipryor collins

action
preconditions
effects

enter selection machine
money entered machine
plugged machine
available machine selection
unknown ok
effect dispensed selection
available machine selection
unknown ok f
effect dispensed selection
available machine selection
effect money entered machine
available machine selection
effect another selection indicator machine

uncertain effect
uncertain effect

figure operating faulty soft drink machine
unknown pseudo predicate first designates source uncertainty
associated second designates particular outcome
uncertainty represents possible contexts effectively partitioned set
equivalence classes context class producing outcome
uncertainty outcome used label equivalence class condition
form unknown class outcome true actual context class
designated outcome
notice instantiation operator introduce source uncertainty
means first argument unknown precondition must represented
variable operator schema cassandra binds variable unique identifier e
skolem constant operator instantiated
cassandra representation assumed different sources uncertainty
independent source uncertainty linked uncertain outcomes
one operator single operator may introduce number sources
uncertainty may number outcomes source uncertainty
exhaustive set mutually exclusive outcomes unique name
representing sources uncertainty

key element cassandra design use single format represent sources
uncertainty affect particular uncertainty assumed manifest
uncertain effects operators outlined uncertainty initial
conditions handled within format treating initial conditions though
effects phantom start step action treatment initial conditions
initially developed reasons unrelated representing uncertain
outcomes common snlp family planners cassandra belongs
cassandra formulation ignores uncertainty might stem outside interference
execution agent plans except inasmuch represented


fiplanning contingencies decision
incomplete knowledge initial conditions course limitation classical
planners general change world assumed caused directly actions
agent

basic plan representation

cassandra plan representation extension used ucpop penberthy weld
snlp mcallester rosenblitt barrett soderland weld
turn derived representation used nonlin tate plan represented
schema following components
set steps
set anticipated effects steps
set links relating effects steps produce consume step
consumes effect requires effect achieve one preconditions
note links effect denote protection intervals e intervals particular
conditions must remain true order plan work properly
set variable bindings instantiating operator schema
partial ordering steps
set open conditions e unestablished goals
set unsafe links e links conditions could falsified
effects plan
plan complete contains open conditions unsafe links

representing contingencies

contingency plan intended achieve goal regardless foreseeable
contingencies associated actually arise execution construct valid contingency plan planner must able enumerate contingencies set
foreseeable contingencies computed sources uncertainty associated plan effect contingency one possible set outcomes relevant
sources uncertainty
contingency labels

keeping track whether plan achieves goal every contingency somewhat
complex process cassandra cnlp uses system labels accomplish necessary
bookkeeping peot smith goal step effect cassandra plan labeled
indicate contingencies element participates
goals labeled indicate contingencies must achieved
effects labeled indicate contingencies expected occur
e contingencies goals satisfy arise


fipryor collins


steps labeled indicate contingencies must performed e
union contingencies effects expected occur

preconditions effect become goals labels correspond
labels effect give rise
general assumed particular step could executed contingency
albeit possibly purpose however sometimes necessary rule particular step
particular contingency means preventing interference plan
contingency example consider plan achieve goal coin heads
first action toss coin see section detailed discussion
plan one contingency coin lands heads actions required
another contingency coin lands tails must turned order goal
achieved clear however turning action must performed
first contingency would mean goal coin heads
achieved cassandra ruling steps accomplished associating negative labels
plan steps indicate contingencies steps executed
peot smith call process conditioning
addition every step depends directly indirectly particular outcome
given source uncertainty ruled every contingency involves alternative
outcome source uncertainty discuss reason restriction
detail
cassandra labeling system thus provides clear guidance agent executing
plan simply performs steps whose positive labels ect actual circumstances hold execution steps neither positive negative labels involving
current contingency affect goals guaranteed executable
contrast agent executing plan produced cnlp guided reason labels attached steps cnlp plans action need executed least one goals
represented reason labels feasible agent must therefore method
deciding top level goals feasible assume done comparing
context labels top level goal labeled represented
dummy actions circumstances actually hold cassandra method thus
simpler agent simply uses positive labels plan steps instead
labels attached step indicate goals whose context labels must analyzed
general principles label propagation cassandra


positive labels denote plan element concerned contributes goal
achievement contingency propagate along causal links subgoals
plan elements establish



negative labels denote plan element concerned would prevent goal
achievement contingency propagate along causal links effects plan
elements establish

details given section


fiplanning contingencies decision

key
link

western
drive
western
belmont

western check
traffic
western

take western
evanston
know
traffic
status

condition

alternative
control flow

decide
take belmont
ashland

belmont

ashland

take ashland
evanston

figure plan includes decision step
representing decisions

seen process deciding advance done
collins need contingency plans arises necessary decisions cannot
made advance missing information see section decisions cannot
made advance must made plan executed agent executing
contingency plan must point decide possible courses action
pursue words branch take
previous work effect assumed agent execute steps
consistent contingency actually holds warren peot smith
however determination steps consistent cannot definition made
advance order know contingency holds execution agent executing
plan must general gather information decision ensure
viable plan planner must able guarantee steps required gather
information con ict required carry rest plan therefore
planner must general able include information gathering steps well
steps support decision making plan constructing cassandra achieves
representing decisions explicitly plan steps preconditions decisionsteps include goals possession information relevant making decision
scheduling actions obtain information thus handled normal process
instance consider contingency plan alluded try taking western avenue blocked use ashland execution plan agent must
point decide branch plan execute decision step case
would precondition knowing whether western avenue blocked
would cause planner schedule information gathering action check trac
status western operation might turn precondition western achieved traveling junction western belmont
decision taken agent take western evanston continue along
belmont ashland
assuming goal plan evanston final plan might depicted
figure note control ow decision represented heavy lines solid lines
diagram represent links action tail link achieving precondition


fipryor collins
action head link plan agent take western evanston
one contingency take belmont ashland ashland evanston

notice order determine appropriate precondition given decision step
planner must way determining exactly need know order
make decision execution time somewhat complex determination depends
part decision making process carried cassandra decisions
modeled evaluation set condition action rules form
condition contingency
condition contingency

condition n contingency n
possible outcome given uncertainty gives rise decision rule condition
decision rule specifies set effects agent test order determine
whether execute contingency plan outcome example decision rules
driving plan example would look
western avenue blocked
execute contingency ashland
western avenue blocked execute contingency western
cassandra derivation inference rules decisions explained detail section
preconditions decision step goals know truth values conditions
decision rules thus knowledge goals mccarthy hayes pryor
see section goals treated way preconditions
step cassandra thus requires special provisions allow construction
information gathering plans
explicit representation decision steps provides basis supporting alternative
decision procedures cassandra basic model decision procedure quite
simple complex decision procedures supported within framework one
procedure described section example model could changed
differential diagnosis procedure representation decision procedures templates
way actions represented templates would allow planner choose
alternative methods making decision way choose
alternative methods achieving subgoal even better might formulate
explicit goal make correct decision allow system construct plan
achieve goal inferential operators however would effect require
goals operators stated meta language describing preconditions
operators yet addressed possibility detail
cassandra separation gathering information making decisions
allows one information gathering step serve several decisions allows exible use
information gathering actions effective difference actions
action may appear plan
appendix shows plans cassandra constructs examples described
plan section



fiplanning contingencies decision
step add plan step effect establish open condition add
step preconditions secondary preconditions effect open conditions open condition
becomes completed link
reuse step make open condition complete link effect existing plan step add
secondary preconditions effect open conditions

figure resolving open conditions

without contingencies
section brie review basic cassandra
follows closely used ucpop penberthy weld turn
snlp mcallester rosenblitt principal difference ucpop snlp
use secondary preconditions see collins pryor
cassandra attempt construct contingency plan encounters
uncertainty point constructs plan much manner
planners snlp family fact uncertainty ever introduced plan
cassandra effectively function ucpop would circumstances
proceeds alternation two processes resolving open conditions
protecting unsafe links processes involves choice methods may
therefore give rise several alternative ways extend current plan possible
extensions constructed best first search guides planner exploration
space partial plans
initial plan consists two steps start step preconditions
initial conditions effects goal step goal conditions preconditions
effects planner attempts modify initial plan complete
e open conditions unsafe links

resolving open conditions
process driven need satisfy open conditions initially
simply input goals course satisfy open condition subgoals
may generated added set open conditions planner
establish open condition one two ways introducing step plan
reusing existing step making use one effects see figure secondary
preconditions effect establishes condition become open conditions
step added preconditions step become open conditions well finally
time open condition established link added plan protect newly
established condition
one way establishing condition simply notice condition true
initial state initial conditions treated start operator
part plan method treated establishment reusing
existing step indeed simplification motivation representing initial
conditions way


fipryor collins
link establishing condition cond unsafe effect eff plan effect
sourceeff establishes cond possible effect goaleff established disabled
link following properties
unification one postconditions eff possibly unify cond negation
ordering step produces eff according partial order occur step
produces goaleff step produces sourceeff
unsafe link may resolved one three ways
ordering modify ordering steps plan ensure step producing eff occurs
step produces sourceeff step produces goaleff
separation modify variable bindings plan ensure threatening effect eff cannot fact
unify threatened condition cond
preservation introduce open condition plan disable eff open condition
negation one eff secondary preconditions

figure unsafe links

protecting unsafe links
whenever open condition established links plan may jeopardized
step threatens existing link link threatened
existing step situations link unsafe shown figure general
link considered unsafe effect plan could possibly interfere
condition established link
three general methods protecting threatened link see figure first
ordering used constrain threatening action occur beginning
end threatened link second threatening effect threatened
link separated imposing constraints variables involved effect
cannot unified established condition third link preserved
generating subgoal disable effect threatens link

contingency
cassandra proceeds described previous section plan completed
uncertainty introduced section describes uncertainties introduced
handled
example plan involving uncertainty let us consider version moore
classic bomb toilet mcdermott goal bomb
disarmed initial conditions bomb package bomb package
uncertainty case lies initial conditions depending outcome
uncertainty start operator effect bomb package
effect bomb package

contingencies
uncertainty introduced plan open condition plan achieved
uncertain effect e effect unknown precondition bomb toilet


fiplanning contingencies decision

key
move
package
pa
cka
toi ge
let

start

link

condition

link
uncertain
effect

condition

dunk
package

bomb
package

bomb
disarmed

end

figure introduction uncertainty plan
example instance cassandra may achieve condition bomb disarmed selecting
dunk operator preconditions package toilet bomb
package condition bomb package established identifying
bomb package effect start operator however
condition uncertain determined noting unknown precondition
cassandra attempt deal uncertainty introducing contingency
contingencies plan state plan introduction
uncertainty illustrated figure
introducing contingencies

cassandra notices uncertainty current plan becomes dependent upon particular outcome uncertainty use uncertain effect e effect
unknown precondition specifies outcome uncertainty plan
cassandra built point effect plan branch outcome
since branches must constructed possible outcomes uncertainty
cassandra makes copy overall goal possible outcome uncertainty
copy carrying label indicating outcome uncertainty must
achieved thus effectively splits plan set branches one possible
outcome uncertainty
otherwise identical goals cassandra must make certain
element branch goal one outcome relies different outcome
uncertainty words goal subgoals may achieved effect
depends directly indirectly outcome uncertainty one
goal label described cassandra achieves system negative
labels indicating contingencies particular plan elements must excluded
alternative method would split plan two branches regardless number outcomes
case one branch would associated given outcome uncertainty
would associated possible outcomes uncertainty effectively sensp
operates etzioni et al



fipryor collins

move
package


bomb
package

start

key

pa
ckag
toil e
et

bomb
packagin
e

age
ack ilet
p
move

package

ii
dunk
package

bomb
disarm
e

link

condition

link
uncertain
effect

condition



end
dunk
package

bomb ed
disarm

iii
iv

element label classes


package contingency

ii

package contingency
package contingency

iii

package contingency
package contingency

iv

package contingency

figure contingency plan disarm bomb
bomb toilet example plan made dependent upon uncertain
outcome bomb package copy top level goal bomb disarmed added
set open conditions copy given label indicating belongs
contingency bomb package existing top level goal
subgoals labeled indicate belong contingency bomb
package effect bomb package action dunk package effects
action dunk package labeled indicate cannot play role
contingency bomb package
notice action move package although plays role plan contingency bomb package fact depend upon bomb
package could principle made part plan disarming bomb
contingency bomb package prove useful anything
indicated fact negative label package contingency
cassandra attempts achieve open condition bomb disarmed may
choose dunk operator notice prohibited effects
existing dunk operator instance dunk operator turn gives rise
subgoal bomb package dunked achieved
identification effect bomb package plan thus constructed depicted
figure decision step omitted clarity listed section
uncertainties multiple outcomes

although described deal uncertainties number
possible outcomes far discussed examples two possible outcomes
fact two outcome uncertainties suce describe majority
note describing contingency way clarity exposition actual label
constructed described section



fiplanning contingencies decision

package location
pickup
package

drive car
location
start


ot
rob tion
loca

key



link
link
uncertain
effect

decide

condition

condition

alternative
control flow

b

incomplete
portion
plan

figure partial plan pick package
considered indeed technically situation could described terms number
two outcome uncertainties however hard think situations might
naturally represented terms source uncertainty two outcomes
example suppose planner interested getting hold particular object
situation object known one three places case
start pseudo operator would naturally represented three uncertain effects
one possible location object associated alternative outcomes
single source uncertainty cassandra plan acquiring object would involve
three contingencies one possible location
multiple sources uncertainty

plan may involve two sources uncertainty case plan
one set branches example suppose cassandra given goal picking
package one two locations one two cars available
use uncertainty regarding location package encountered first
construction plan cassandra respond building plan involving
two contingencies one location call contingencies b see figure
section
point construction plan contingency cassandra
encounter uncertainty concerning car available make current
plan dependent upon one particular outcome uncertainty since source
uncertainty arises context contingency contingency effect
bifurcated two contingencies package location car


fipryor collins

package location
car available

drive car
location

robot
location

package location

start

car available

drive car
location


decide


robot n
io

loca



link
uncertain
effect

decide

pickup
package

key
link



pickup
package

condition

condition

alternative
control flow

b

incomplete
portion
plan

figure plan two sources uncertainty
available package location car available cassandra
must replace existing contingency labels contingency labels must
introduce copy top level goal labeled contingency
note cassandra must plan scratch achieve top level goal contingency
spite fact already viable plan goal contingency
necessary situations may encountered successful plans
involve different methods achieve goal two contingencies example
extreme differences two cars might necessitate different plans driving
e g detailed representation situation presented
differences might affect routes cars could driven places
could parked cassandra must therefore consider possible ways achieve
goal contingency search completion plan particular car used
fact affect driving plan one path search space
isomorphic contingency plans see figure section
reasoning applies extension plan deal contingency b
cannot assumed priori plan contingency b way resemble
plan constructed contingency interesting consequence


fiplanning contingencies decision
uncertainty concerning availability cars necessarily arise given plan
contingency b example location package contingency b close
enough agent could get without car final plan might
three contingencies location car location car b location
foot
cassandra may course produce extension plan car used
contingency b well case encounter uncertainty associated
location car proceed bifurcate contingency b done
previously contingency limit plan involve one contingency every
member cross product possible outcomes relevant uncertainties however
important note every member cross product set must appear
contingency since shown uncertainties may arise given particular
outcomes uncertainties

decision steps

cassandra encounters source uncertainty adds decision step plan
represent act determining path plan followed
execution following ordering constraints added plan time


decision step must occur step uncertainty associated



decision step must occur step precondition whose achievement
depends particular outcome uncertainty

formulating decision rules

decision step operational must effective procedure
agent executing plan determine decision make cassandra action
deciding contingency execute modeled evaluation set conditionaction rules form
condition contingency
condition contingency
condition contingency

cassandra annotates decision step plan set rules used
make decision executing agent make decision evaluating
rules comes decision step course executing plan order
evaluate decision rule executing agent must able determine whether rule
antecedent holds preconditions decision step must thus include goals know
current status condition appears antecedent rule condition
preconditions decision step become open conditions plan way
preconditions step
intended effect evaluating decision rules choose appropriate contingency given outcome particular uncertainty conditions diagnostic
particular outcomes uncertainty executing agent cannot course directly


fipryor collins
determine outcome uncertainty must infer presence absence
effects depend upon outcome
straightforward constructing antecedent conditions
decision rule would analyze plan operators identify effects could
expected given outcome uncertainty make condition
conjunction effects however turns overkill fact
necessary check effects given outcome uncertainty actually
used establish preconditions contingency associated outcome
words necessary verify contingency plan fact succeed
interesting consequence executing agent might principle end selecting
contingency plan even though outcome uncertainty one
plan associated notice would cause execution
plan since would occur conditions plan success met
fact shall see cassandra depends effect certain circumstances
antecedent condition decision rule thus conjunction direct effects
particular outcome used establish preconditions contingency plan
outcome decision rules constructed incrementally plan elaborated
discuss cassandra construction rules detail section
used formulating cassandra decision rules consistent
morgenstern observation agent execute plan make sure
events plan executable morgenstern
adding decision rule example

bomb toilet example cassandra introduce decision step determine
whether bomb package uncertainty initial conditions
decision constrained occur start step must occur
dunk actions since depend upon particular outcomes uncertainty
decide step precondition know whether bomb package
actions available would allow determine x raying box
example cassandra achieve precondition one actions decide
basis branch plan execute
cassandra constructs decision rules

point process cassandra constructs decision rule
one precondition plan known depend upon particular outcome uncertainty gave rise decision namely one led cassandra discovering
uncertainty first place decision rule set cassandra initially builds thus
looks
effect contingency

contingency

contingency

construction plan cassandra must modify initial rule set time
effect depending directly source uncertainty used establish open condition


fiplanning contingencies decision

action

toss coin coin

preconditions

holding agent coin

effects

unknown u h
effect flat coin
heads coin
unknown u
effect flat coin
tails coin
unknown u e
effect edge coin

uncertain effect
uncertain effect
uncertain effect

figure representing action tossing coin
plan particular cassandra must determine contingency open
condition resides conjoin effect existing antecedent decision rule
contingency
consider example happens coin tossed might say theory
three possible outcomes action coin land heads
tails edge figure suppose cassandra given goal
coin established heads effect tossing since
uncertain effect cassandra introduces two contingencies plan one
outcome coin lands tails another outcome lands
edge
introduction contingencies mandates introduction decision step
whose initial rule set looks
flat coin u h rule heads

u rule tails

u e rule edge
time open condition know flat coin introduced precondition decision step goal conditions introduced must achieved
contingencies u u e cassandra next establishes goal condition contingency u tails effect toss step decision rules associated
tails contingency thus modified follows
flat coin u h rule heads
flat coin u rule tails

u e rule edge
finally goal condition established contingency u e introducing
step tip plan precondition tip step coin edge
established edge effect toss action since effect depends directly
assuming u variable representing source uncertainty instantiated u



fipryor collins
upon uncertainty u decision rule edge contingency modified include
condition
flat coin
u h rule heads
flat coin
u rule tails
edge coin u e rule edge
since plan complete final set decision rules see section notice
rules discriminate heads outcome tails outcome
fact outcome reason make discrimination plan
executed conditions depends solely upon order agent
executing plan chooses evaluate decision rules
somewhat complex arises give cassandra goal
coin flat heads case effects established toss
action lead introduction two contingencies plan one
coin lands tails one lands edge although cassandra
could establish flat coin tails case would fail complete plan
coin would heads however turn action used
leaving coin flat heads given flat tails begin
point decision rules follows
flat coin heads coin u h rule heads
flat coin tails coin u rule tails

u e rule edge
cassandra must plan goal outcome coin lands
edge effects established tip action however
heads uncertain effect tip action since coin might easily
land tails cassandra must therefore add another contingency coin
lands tails tipped instance goal established
turn action tails precondition action established
uncertain tip action final decision rule set first decision
follows
flat coin heads coin u h rule heads
flat coin tails coin u rule tails
edge coin
u e rule edge
edge contingency pursued another decision stemming uncertain
tip must added plan name second source uncertainty u
rules decision
heads coin u h
tails coin u
plan depicted figure shown section
obvious extension cassandra would construction post processor spots decision rules
discriminate particular sets outcomes prunes plan remove super uous
contingencies note cannot determined plan complete whether condition
pertains



fiplanning contingencies decision

flat
heads
flat
tails

heads

decide

flat



tip
coin

decide

key

tails

condition

link uncertain effect

ad

edge

link

end

heads



toss
coin

turn coin


turn coin


condition

flat

alternative control flow
incomplete portion plan

figure plan two decisions
kick door

lock broken

open
door





op

link

decide

condition

end

start

lock

key

en

inta

ct



pick
lock

n
pe

alternative
control flow





door
unlocked

open
door

figure opening door
decision rules unsafe links

fact cassandra allows decision rules fully differentiate outcomes uncertainty raises somewhat subtle issue consider partial plan
opening locked door shown figure action kicking door let us say
two possible outcomes one lock broken one agent foot
broken plan contingency lock broken simply open door
plan alternative contingency pick lock open door
since second plan depend causally outcome uncertainty
agent foot broken order pick lock open door
decision rules discussion would


fipryor collins



lock broken





l
f

rule lock broken
rule foot broken

notice case pick action depends lock intact
action may effect lock longer intact words kick
action potentially clobbers precondition pick however planner arguably
ignore clobbering two actions belong different contingencies
valid though structure decision rules guarantees agent
choose execute contingency involving pick outcome kick
lock broken decision rules clearly enforce solution
case augment decision rule contingency lock broken
test whether lock fact intact following decision rules plan
shown section
kick




lock broken
lock broken




l
f

rule lock broken
rule foot broken

cassandra augments decision rules way whenever direct effect uncertainty
could clobber link different contingency

contingency
section give details cassandra properties considered
section

plan elements

plan consists steps effects links may unsafe open conditions
variable bindings partial ordering contingency labels plan complete
open conditions unsafe links
steps effects

plan step step represents action may enabling preconditions least
one effect eff instantiation operator
plan step may decision step decide decision step enabling preconditions
form know cond condition cond decide set decision rules
effect eff represents action attached step step representing action may secondary preconditions least one postcondition
cond condition becomes true executing step secondary
preconditions hold
links open conditions

link represents causal dependency plan specifying condition cond established effect eff cond postcondition eff secondary preconditions
secpre step step link supports step supstep effect supeff
condition cond one


fiplanning contingencies decision
enabling precondition supstep
secondary precondition effect supeff supstep
negation secondary precondition effect supstep thus
preserving link
link unsafe contingency conting required effect
clobbereff postcondition clobbercond clobbering condition resulting step
clobberstep
clobbercond unify cond
cond form know knowcond clobbercond unify knowcond
step clobberstep occur steps step supstep
effect clobbereff occur contingency conting
open condition unachieved subgoal represented cassandra incomplete
link e link missing information effect establishes


bindings orderings

plan bindings codesignation constraints specify relationships variables
constants following relationships possible
two variables may codesignate
variable may designate constant
variable may constrained designate constant
two variables may constrained codesignate
ordering constrains order two steps respect step
must precede step
contingency labels

every step effect open condition partial plan two sets contingency labels
attached interests brevity refer labels link case
mean labels step effect link establishes
contingency label two parts symbol representing source uncertainty
symbol representing possible outcome source uncertainty positive contingency labels denote circumstances plan element must necessarily
occur negative contingency labels denote circumstances plan element cannot
must occur
contingency labels must propagated plan general positive contingency labels propagated goals effects establish negative
contingency labels propagated steps effects
details follows


fipryor collins
plan partlist

choose partial plan plan partlist
plan complete finish
unsafe link unsafe
resolve plan unsafe add resulting plans partlist
return step
open condition open
establish plan open add resulting plans partlist
return step

figure top level


step inherits positive labels effects



step inherits negative labels effects establish enabling preconditions



effect inherits positive labels steps whose enabling preconditions
establishes



effect inherits positive labels effects whose secondary preconditions
establishes



effect inherits negative labels step



effect inherits negative labels effects establish secondary preconditions



open condition inherits positive labels step effect required
establish

cassandra system label propagation cnlp complex
indeed rather complex would complexity mandated
need deal operators involve multiple context dependent effects
step effects necessarily share labels



process starts constructing partial plan consisting two steps


initial step preconditions initial conditions effects



goal step effects goal conditions enabling preconditions

plan added initially empty list partial plans partlist
proceeds shown figure
remains describe threats unsafe links resolved open
conditions established


fiplanning contingencies decision
resolve plan unsafe

initialize list newplans
unification clobbering condition clobbercond condition cond established link
unsafe involves adding codesignation constraints bindings plan
make possible modification bindings plan ensures clobbercond cannot
unify cond
add resulting partial plan newplans
clobbering step clobberstep precede step step establishes unsafe
add ordering ensure clobberstep precedes step
add resulting partial plan newplans
step supstep supported unsafe precede clobberstep
add ordering ensure supstep precedes clobberstep
add resulting partial plan newplans
prevent clobbering effect clobbereff occurring contingency conting link
unsafe unsafe
one
add negation secondary preconditions clobbereff open condition
positive contingency label conting
b add conting negative contingency labels clobberstep
c add conting negative contingency labels effect supeff step supstep
unsafe supports
appropriate modify relevant decision rule discussed section
add orderings ensure step clobberstep occurs steps step supstep
propagate labels appropriate
add resulting partial plan newplans
return newplans

figure resolving threats
resolving threats unsafe links

figure shows threats resolved methods shown steps
standard methods found snlp ucpop often termed separation demotion
promotion respectively say methods step disable threat
methods steps b ensure threatening effect occur given
contingency method step modification standard method found ucpop
planners use secondary preconditions essentially idea prevent
effect occurring ensuring context occurs cannot hold
method b prevents effect occurring contingency forbidding execution
step produces method step c notes established step effect
cannot occur given contingency techniques inconsistent labeling
plan element example cannot occur every contingency
required resulting partial plan abandoned represents dead end
search space


fipryor collins
establishing open conditions

figure shows procedure used procedure establishpre shows methods adding
step reusing existing step essentially methods used ucpop
extended ect need check propagate contingency labels
procedure establishunk shows methods adding decision reusing existing
decision specific cassandra issues involved discussed section

issues contingency

cassandra partial order planner directly descended ucpop sound complete systematic plans produced ucpop guaranteed achieve goals
plan ucpop ucpop never revisits partial plan
section discuss properties related issues context contingency

soundness

ucpop soundness depends perfect knowledge assumptions discussed section
particular ucpop plans sound initial conditions fully specified

possible effects actions specified operators represent
uncertainties involved plan cassandra equivalent ucpop therefore
constructs sound plans
uncertainties involved plan longer assumed initial
conditions effects actions fully specified indeed uncertainties arise
assumptions violated however assumptions adapted account
presence uncertainty would possible example insist possible
initial conditions action effects specified cassandra representation means
every source uncertainty must specified use unknown secondary
preconditions every possible outcome source uncertainty must specified
conjecture cassandra sound conditions proof would follow
procedure adding goals whenever source uncertainty
encountered ensures every goal achieved every possible outcome uncertainty

completeness

conjecture cassandra complete limited sense sound plan
form construct cassandra believe simple
extension ucpop completeness uncertainties involved cassandra
plan way ucpop introduction source uncertainty
plan leads addition contingent goals cassandra plan
goals appropriate contingency thus goal indeed
achieved every contingency cassandra plan achieves long
way determining contingency holds
example plan disarm bomb described section relies
method determining package bomb mcdermott presentation
example two packages indistinguishable point example
illustrate nonetheless plan succeed disarming bomb namely


fiplanning contingencies decision
establish plan open

open condition type unknown establishpre plan open return resulting list
plans
open condition type unknown source uncertainty uncertainty outcome outcome
establishunk plan open uncertainty outcome return resulting list plans

establishpre plan open

initialize list newplans
effect eff resulting step step plan
eff occur every contingency open must established
eff precede step supstep open required support
postcondition effcond eff unify condition cond open required
establish
complete link open eff establishing effect
add resulting partial plan newplans
operator effect eff postcondition effcond unify cond
instantiate step step
complete link open eff establishing effect
add enabling preconditions step open conditions
add resulting partial plan newplans
plan newplans
add ordering ensure step precedes supstep
add bindings necessary ensure effcond unifies cond
add secondary preconditions secpre eff open conditions
propagate labels appropriate
return newplans

establishunk plan open uncertainty

outcome
initialize list newcplans
uncertainty source uncertainty plan
add decision step decstep uncertainty uncertainty
add top level goals open conditions appropriate labels
add resulting partial plan newcplans
uncertainty existing source uncertainty plan
existing decision step decstep uncertainty uncertainty
add resulting partial plan newcplans
plan newcplans
modify decision rule decstep outcome include cond antecedent
add know cond open condition required establish decstep
add orderings ensure decstep precedes supstep
propagate labels appropriate
return newcplans

figure establishing open conditions


fipryor collins
dunking packages mcdermott described previous section
cannot plan situation impossible achieve preconditions
decision step determines package dunk section discuss
example detail describe simple extension cassandra allows correct
plan dunk packages found
ucpop completeness soundness depends perfect knowledge assumptions discussed section cassandra completeness depends three extensions
assumptions


sources uncertainty specified



specified outcomes exhaustive



actions available allow determination outcome uncertainty even indirectly

unfortunately conditions necessary sucient cassandra
plans actions uses determine contingency interfere
achievement goal instance might dropping action available
would detonate bomb inside package dropped certainly action
allows determination outcome uncertainty sound plan
makes use
order useful notion cassandra completeness must therefore specify form plans construct common proving
completeness planner example claim snlp say incomplete
cannot plan bomb toilet say instead
valid plan form construct fairly simple specify form
plans snlp construct consist partially ordered sequences steps
executed introduction contingencies makes description
cassandra plans rather complex yet formalize description
actively working direction informally cassandra construct plans
every source uncertainty include step decide one relevant plan branches
extension cassandra solves bomb toilet
construct plans meet criterion

systematicity

ucpop systematic never visit partial plan twice searching cas

sandra described systematic may visit partial plans
search space consider plan disarm bomb discussed
section plan two different ways establishing goal disarm
bomb dunking package dunking package cassandra initially choose
way establishing goal leading case introduction contingency
necessity replanning achieve goal contingency search
paths arrive final plan search systematic
cassandra could made systematic insisting handling contingencies
certain order search path uses order treated dead end


fiplanning contingencies decision
however extension added currently debate
desirability systematicity example langley argues non systematic
search method iterative sampling often better systematic method depth first
search multiple solutions deep solution paths peot
smith observe performance non systematic version snlp better
original systematic version ascribed behavior fact
exploring duplicate plans consumed less overhead ensuring systematicity

knowledge goals
agent executing contingency plans must able acquire information actual
state world determine possible courses action pursue
system constructs contingency plans must able plan information
acquisition general acquisition process may arbitrarily complex pryor collins

early uential discussion goals possess knowledge world
mccarthy hayes since theories developed
account e g moore haas morgenstern steel
common thread work knowledge goals arise need specify
actions performed words need make actions operational work area whole concentrated able describe
represent knowledge goals largely ignored issues involved building planners
construct plans containing
structure cassandra notion knowledge goals arise
need make decisions actions performed pryor view
process deciding advance done collins
world conforming perfect knowledge assumptions classical
possible world totally predictable plans therefore need
contain knowledge goals however assumptions relaxed may
possible make decisions advance information necessary make
available planner information may unavailable planner
limited knowledge world events nondeterministically cause
conditions affect decisions yet occurred cases may
possible planner determine decision must made even though cannot
time actually make case planner defer decision plan make
future necessary information available part plan
acquire information plan thus contains knowledge goals
cassandra use unknown preconditions indicate nondeterminism thus crucial
part mechanism cassandra knowledge goals arise deferring decisions deferred decisions represented explicitly plans arise
directly incompleteness cassandra knowledge world whether
effects nondeterministic actions incompletely specified initial conditions
forms uncertainty handled way cassandra recognized need defer decision reason deferral important except
inasmuch incomplete knowledge world


fipryor collins
view knowledge goals arising deferred decisions basically consistent
view needed order make actions operational differs
traditional view knowledge goals directly preconditions physical actions
instead preconditions actions make decisions example mccarthy
hayes consider combination safe commonly held action
opening safe precondition know combination cassandra however
goal knowing combination would arise subgoal deciding plan branch
follow would branch possible combination branches would
arise cassandra incomplete knowledge world initial conditions
plan executed fully specified
cassandra uses variant syntactic proposed haas represent
knowledge goals limiting knowledge goals form know fact turns
adequate assume possible outcomes given uncertainty known
general representation used cassandra strips representation add
delete lists less powerful logics proposed morgenstern haas

miscellaneous issues contingency
cassandra raises number questions concerning desired behavior
contingency planner many obvious answers section brie
consider issues raised
dependence outcomes superfluous contingencies

fact contingency plan assumes particular outcome uncertainty means
cannot depend upon different outcome uncertainty cassandra
enforce constraint plan must causally depend upon outcome assumes
instance example described section plan take ashland
actually depend western blocked could executed successfully regardless
level trac western
observation raises interesting question plan contingency turns
depend outcome uncertainty gave rise would
obviate need plans alternative contingencies instance example
might seem sensible execute plan use ashland regardless whether western
blocked might thus seem planner edit plan way
eliminate apparently super uous contingencies however easily shown
version plan involve dependence outcome uncertainty
generated elsewhere search space example would mean
planner would fact consider plan simply involved taking ashland search
heuristics penalize plans involving contingencies appropriately plan
preferred contingency plan things equal
raises obvious question whether advance every possibility sensible
thing see section discussion issue



fiplanning contingencies decision
one sided contingencies

preceding discussion notwithstanding plan involving contingencies
superior plan involving contingency planner might fact construct
plan western ashland one take clear cut example suppose pat needs
bet horse might try borrow chris outcome
action uncertain chris might refuse alternatively could rob convenience store
robbery plan would shall stipulate involve uncertainties bad plan
reasons would better first try borrow chris
fails rob convenience store cassandra could generate plan order make
prefer plan contingency free alternative however search metric would
take account estimated costs actions perform something akin
expected value computation see example feldman sproull haddawy
hanks discussions decision theoretic measures applied order
execute plan properly would necessary way knowing
borrowing plan preferred robbery plan possible execute

identical branches

possible single plan could work well several different outcomes
uncertainty instance suppose action asking chris three possible
outcomes pat gets money chris happy opportunity
favor pat gets money chris unhappy obliged
favor pat get money pat constructs plan tries
borrow chris bet horse assuming plan depend
upon chris happiness might example pat needed get ride track
chris plan work get money chris happy outcome
get money chris unhappy outcome
cassandra could plan would effect twice
outcome uncertainty would still require decision step discriminate
outcomes inecient two ways extra search time required
essentially plan twice wasted effort put making
unnecessary decision looking ways avoid former latter
could solved post processor would merge identical contingency plans
implemented technique
branch merging

possible construct plan branches split reunite instance
consider western ashland plan context goal get
evanston arises might obligation deliver toast dinner held
evanston restaurant contingency due uncertainty trac western avenue
would case seem affect portion plan concerned getting
evanston probably little bearing wording toast choice wine
natural way frame plan might thus assume regardless


fipryor collins
contingency carried planner eventually arrive certain location
evanston point single plan developed achieve final goal
constructing plan way would compact plan description
might thus reduce effort needed construct plan avoiding example
construction multiple copies subplan considering methods
branch merging might achieved methods considered far seem
complicate process considerably
fail safe

discussed section cassandra operation relies able determine
even indirectly outcome uncertainty however may
possible necessary precondition existence viable plan
bomb toilet example valid plan cassandra cannot
dunk packages
suggests method constructing plans face uncertainty
outcome uncertainty cannot determined one might call fail safe plans
whenever uncertainty arises principle possible might non contingent
plan would achieve goal whatever outcome uncertainty
plan planner must construct version contingency plan actions
contingency branches arising uncertainty executed unconditionally
cassandra extended way adding type decision one
execute branches parallel collins pryor plan containing
decision sound none actions must performed achieve goal
one contingency interfere actions must performed
contingency ability perform actions independent outcome
uncertainty conditions clearly hold bomb toilet
cassandra reason possibility labeling scheme distinguishes
actions must performed given contingency need
performed possible execute branches actions branch may
performed need branches
parallel decision added plan extended version cassandra
goals added usual way labeling handled differently branches
separated cassandra longer reason causal links one branch
affected actions another branch
contingent failure

cassandra produce plan possible achieve goal plan
possible contingencies often however goal cannot fact achieved outcome
underlying uncertainty consider instance peot smith example trying
get ski resort car road leading resort clear blocked
snowdrifts peot smith road clear goal achieved
blocked plans doomed failure
planner expected recognize impossibility achieving goal
general case chapman however possible suggested peot


fiplanning contingencies decision
smith could introduce alternative method resolving open goal conditions simply
assume goal question fails
undesirable method resolving open goal conditions subgoal fact
achievable theory plans involving contingent failure considered
planner failed plan goals achieved sometimes
possible general determining whether successful plan
undecidable may partial plans involve goal failure
cannot completed example partial plan modified may become
complex resolution open condition involving introduction
unachieved subgoals case plans involving contingent failure never considered
unless ranked plans involve contingent failure order
generally useful must weakened instead considering goal failure
avenues attack failed apply high fixed penalty plans involving
failed goals aim would fix penalty high enough contingent failure would
apply genuine cases goals unachievable however would necessity
heuristic completeness would lost

related work
cassandra constructed ucpop penberthy weld platform ucpop
partial order planner handles actions context dependent effects universally quantified preconditions effects ucpop extension snlp barrett et al
mcallester rosenblitt uses subset pednault adl representation
pednault
early contingency planner warren warplan c contingency
less abandoned mid seventies early nineties sensp
etzioni et al cnlp peot smith sensp cnlp members
snlp family sensp cassandra ucpop cnlp directly
snlp c buridan draper et al draper hanks weld b probabilistic
contingency planner probabilistic planner buridan kushmerick hanks
weld snlp cnlp plinth goldman boddy
b total order planner mcdermott pedestal
strongly uenced cnlp treatment contingency plans
warplan c unlike planners considered use strips
action representation predicate calculus could handle actions
two possible outcomes merge resulting plan branches
sensp differs planners considered represents uncertainty
use run time variables distinguished ordinary variables treated
constants whose values yet known sensp plan branches arise
introduction information gathering steps bind run time variables sensp handles
plan branching constructing separate plans achieve goal particular
contingency combines separate plans later stage keeping branches
totally separate sensp thus considers contingency branches separately rather
neither noah sacerdoti interplan tate explicitly addressed issues uncertainty
although tackled involving collins pryor



fipryor collins
parallel actions achieve knowledge goals may preconditions sensp
restriction required order maintain completeness
surprisingly cassandra cnlp c buridan lesser extent plinth
many respects similar except plinth use basic snlp use
extended strips representations cassandra differs cnlp plinth principally
way uncertainty represented section difference important implications handling knowledge goals section principal difference
cassandra c buridan lies latter use probabilities section
contingency one uncertainty aim contingency construct single plan succeed
circumstances essentially extension classical
approaches uncertainty share aim probabilistic planners
aim construct plans high probability succeeding section systems
interleave execution attempt plan fully advance section
approaches possible address determining contingencies planned currently possible cassandra third
reactive behavior controlled set reaction
rules section

representation uncertainty
cnlp plinth uncertainty represented combination uncertain outcomes nondeterministic actions effects observing outcomes threevalued logic used postcondition action may true false unknown
example action tossing coin might postcondition unk side x special conditional actions unknown precondition several mutually
exclusive sets postconditions used observe nondeterministic actions example operator observe tossing coin might
precondition unk side x three possible outcomes side heads
side tails side edge
cnlp thus spreads representation uncertainty action whose execution produces uncertainty action observes consequence
cnlp cannot use observation action observe different
actions example would require different actions observe tossing
coin three possible outcomes tipping coin landed edge
two possible outcomes
plinth notion conditional action extended cover action
observation actions nondeterministic effects planner world model
example image processing domain operator remove noise image may
may succeed however outcome evident soon applied
special observation action required
cnlp plinth information gathering actions included plan whenever
action uncertain effects occurs necessary uncertainty actually
represented information gathering action rather action actually


fiplanning contingencies decision
produces uncertainty knowledge goals thus represented explicitly two
systems
representation used cnlp plinth arises desire use single
model world representing planner state knowledge rather
complex formalization including epistemic ground formulas goldman boddy
b operator therefore represents effects execution underlying action planner knowledge world effects
actual state world course important represent actions affect
planner world model believe important represent affect
world purpose reasoning actions achieve goals world
planner world model particular execution nondeterministic action actual effects although may indeed unknown planner
occurred cannot altered cassandra representation ects indeed cassandra reason possible effects without scheduling observation actions
means extension cassandra example solve original bomb thetoilet possible actions resolve uncertainty
package contains bomb bomb state represented planner
world model stage beginning known armed
end packages dunked known safe
implication method representing uncertainty diculty
representing actions whose uncertain effects cannot determined execution
single action consider example malfunctioning soda machine one
indicator lights cannot make change another lights run
product requested suppoe functioning correctly two
indicators light simultaneously malfunctions must kicked make
work observing light enough determine uncertain effect
working properly malfunctioning occurred

knowledge goals
method representing uncertainty cnlp plinth important implications
knowledge goals handled plans
acquisition information task pryor collins
pryor general sequence actions required achieve given knowledge
goal may arbitrarily complex example action observe tossed coin might
require observer appropriate location cases might
several different possible methods information gathering involving perception
involving reasoning combination contingency planner whose plans
necessarily involve achievement knowledge goals must therefore able plan
fully generally information gathering
confusion source uncertainty observation uncertain
limits ways knowledge goals achieved cnlp plinth must
achieved special observation actions specify uncertain outcomes
representation terms planner world model means
represent effects actions except ag unknown


fipryor collins
planner observed otherwise incorporated world model
discussion issue goldman boddy b explicitly exclude knowledge
goals consideration point uncertainty requires
distinction made actual state world planner knowledge
order plan effectively knowledge goals must represented
done cassandra separating representation uncertainty representation
information gathering effect deterministically action cassandra
reasons need observe forms part world model
uncertain effect hand incorporated unconditionally cassandra
world model noted possibly true necessary cassandra sets
subgoal determine whether indeed true
sensp uses uwl representation goals actions three different
kinds precondition used represent information goals alone
combination etzioni et al well satisfy preconditions may achieved
actions observation uwl hands preconditions indicating
value propositions must changed order achieve subgoal
preconditions latter ways similar preconditions know propositions
cassandra precondition p v tells planner ascertain
whether p truth value v certain circumstances type precondition
may achieved action changes value p knowledge goals may thus
represented preconditions satisfy preconditions often used conjunction
hands preconditions etzioni et al argue knowledge goals
achieved actions change value proposition question
change required another purpose plan believe unnecessary
limitation circumstances enforcement actions may best way
achieving knowledge goals

probabilistic decision theoretic
constructing plans cassandra recognizes presence uncertainty
extent planners specifically address issues probability example buridan
constructs plans whose probability achieving goal given threshold kushmerick et al drips uses utility different possible outcome
plans choose one highest expected utility haddawy suwandi
neither buridan drips constructs contingency plans e plans involve alternative courses action performed different circumstances c buridan
buridan constructs contingency plans likely succeed draper et al b
represents extension cnlp direction decision theoretic
probabilistic planners use information probabilities possible uncertain
outcomes construct plans likely succeed cassandra hand cannot
use information constructs plans guaranteed succeed probabilistic
relies explicit probabilities less powerful
deterministic contingency performed cassandra cassandra cannot use
information probabilities construct plans circumstances
information available example order solve bomb toilet


fiplanning contingencies decision
c buridan would information least make assumption

probabilities bomb package whatever assumptions made might
turn wrong thus invalidating basis plan
believe would possible build probabilistic planner ideas
c buridan cassandra explicit representation decisions cassandra
planner would provide excellent opportunity investigating use different
decision procedures c buridan relies full knowledge probabilities
time constructs plans knowledge may available
plan executed would relatively simple add decision procedures
cassandra decision representation depend information probabilities e g
follow particular course action probability given outcome exceeds
certain value introduction decision procedures might course
introduction knowledge goals determine probabilities possibly leading eventually
system would construct plans perform empirical studies determine probabilities
associated contingency branch merging e
determination whether two steps separate branches treated step
c buridan performs full merging effect probabilistic
adding capability cassandra area future work major
encountered considering branch merging identify variables
different branches c buridan representations include variables
arise may cause diculties adaptation c buridan
merging mechanism cassandra use
advantage combining probabilistic contingency resulting ability judge whether worth given contingency one
limitations cassandra present form requirement every possible contingency planned complex situations makes resulting plans cumbersome
moreover cassandra performance deteriorates number distinct branches
plan cost determining presence particular branch would significantly change probability plan success might well much less cost
constructing branch interesting issue considered future

interleaving execution

although cassandra plans may include sensing actions course action
actually executed depending actions cassandra
interleave execution plans fully specified executed
circumstances clearly inecient consider example cassandra
constructs plan open combination safe see section requires prior knowledge
possible combinations constructs plan branch combination
obvious alternative would construct plan fully specified
information gathering step execute plan stage information
gathered construct rest plan could done cassandra
introducing another type decision procedure achieve goal
assuming would possible plan achieve goal strong
see section discussion issue alternative



fipryor collins
assumption would certainly valid cases opening safe
area future work interleaving execution way would
advantage would necessary plan contingencies actually
arise would however lose advantages advance example
possible interference actions performed information gathering
might missed leading planner suboptimal plans indeed sensing actions
may general change world executing full construction viable plan
might unfortunate making achievement goal impossible
planners interleave execution include ipem ambros ingerson steel
xii golden etzioni weld sage knoblock three use
basic interleaving technique possible steps
executed thus set decide advance exactly
necessary plans include explicit provision
effects different interleaving strategies investigated design bump olawsky
gini continue elsewhere strategy much preplanning possible
performed stop execute strategy goals defined terms sensor readings
executed soon encountered found neither strategy
clear advantage strategies sometimes produced plans
suboptimal might fail

reactive

different uncertainty taken reactive
paradigm specific sequence actions planned advance
contingency planner given set initial conditions goal
however instead producing plan branches produces set condition action
rules example universal plans schoppers situated control rules scrs
drummond
theory reactive system handle exogenous events well uncertain
effects unknown initial conditions possible provide reaction rule every
possible situation may encountered whether circumstances would
lead envisaged contrast contingency planner cassandra cannot
handle exogenous events cannot predict cassandra contingency planners focus effort circumstances predicted possible likely
case probabilistic contingency planner c buridan
would possible represent cassandra contingency plans sets conditionaction rules causal links preconditions specify conditions
action performed however reasoning required execution time
use reaction rules required execute contingency plan instead simply
executing next step plan reasoning branch points use reaction
rules requires evaluation conditions every cycle order select relevant rule

discussion

described cassandra partial order contingency planner represent uncertain outcomes construct contingency plans outcomes design cassandra


fiplanning contingencies decision
coherent view issues arising uncertainty recognizes
uncertain world distinction must drawn actual state
world planner model instantiates intuitively natural account
knowledge goals exist arise bases treatment plan branching
requirements agent execute plan cassandra explicitly
plans gather information allows information gathering actions fully general
coherence design provides solid base advanced capabilities
use varying decision making procedures

contributions
principal contribution work lies explicit representation decision steps
implications handling knowledge goals cassandra believe
first planner decisions represented explicit actions plans
constructs cassandra knowledge goals arise specifically need decide
alternative courses action preconditions decision actions cassandra thus
consistent view process making decisions advance
view contingency plans plans defer decisions information
available pryor different plan branches correspond
different decision outcomes
use explicit decision steps cassandra distinguishes sensing
information gathering actions one hand decision making one
important reason making distinction decision may depend
one piece information available performing different actions addition
separating information gathering decision making provides basis introducing alternative methods making decisions example extension cassandra described
section introduces type decision directs executing agent perform
branches resulting given source uncertainty allows construction
plans succeed situations way telling actual outcome e g bomb toilet believe explicit representation
different methods making decisions important direction future
knowledge goals arise preconditions decisions cassandra need
know whether particular plan branch work distinguished need know
actual outcome uncertainty cassandra plan determine outcomes unless
relevant achievement otherwise goals moreover cassandra
treat knowledge goals special cases plans achieve may complex plans
achieve goals well achieve knowledge goals arise
preconditions decisions cassandra produce plans top level knowledge goals
two features cassandra worth noting exibility afforded labeling
scheme potential learning adaptation afforded representation
uncertainty
cassandra labeling scheme although complex allows agent executing plan
distinguish three classes action must executed given
contingency must whose execution affect achievement


fipryor collins
goal contingency feature paves way extension described
allows cassandra build plans requiring execution branches resulting
source uncertainty
cassandra representation makes assumptions intrinsic nature uncertainty unknown precondition simply denotes information context
produce particular effect action available planner may
information principle unknowable domains involving quantum effects
example much likely uncertainty limitations
planner information available general agent operating real world
domain much effective learn improve performance adapt
changing conditions use unknown preconditions represent uncertainty means
circumstances would relatively simple incorporate learning adaptation planner domain knowledge example planner might
discover predict certain outcomes could change unknown preconditions
ones ecting knowledge hand discovered predicted
effects consistently failing occur could change relevant preconditions
unknown ones

limitations

cassandra one increasing number planners aim extend techniques
classical realistic domains cassandra designed operate domains
two three principal constraints observed classical planners relaxed
namely allow non deterministic actions incomplete knowledge initial conditions cassandra however subject third constraint changes take place
except actions specified plan clearly limits effectiveness
many real world domains moreover limits extent nondeterminism
incompleteness knowledge handled cassandra plans necessarily
achieve goals sources uncertainty ignored possible outcomes
specified
cassandra cannot make use information likely particular outcomes
unlike probabilistic decision theoretic planners cannot plan interleave
execution provide reaction rules possible circumstances
solve valid plans involving ways discriminating
possible outcomes given cannot solve original version bombin toilet although extension described section collins
pryor
described two major practical limitations first
plans produces often complex necessary second time taken
produce plans precludes use except simple
complexity cassandra plans necessity every
contingency lack branch merging example suppose open
combination safe could obtain money pay evening cassandra
agents make use information guarantee third type step
actually executable



fiplanning contingencies decision
plan goal enjoying evening would one branch possible safe
combination branch would start actions open safe
different combination would continue actions going restaurant
movies say would identical branch simpler plan would
merge separate branches safe opened consideration methods
branch merging area future work see sections
circumstances example plan complexity could reduced
use run time variables introduced ipem ambros ingerson
steel used sensp etzioni et al see section
uncertainty value action parameter takes case opening
combination safe would possible use run time variable represent parameter obviating need separate plan branches implementing strategy would
require effective methods determining effects uncertainty limited
parameter values general notion indicates possible
branch merging taking least commitment variable binding
way least commitment taken step ordering partial order
planner would allow concept conditional variable binding variable
binding could labeled required forbidden given contingency
analyzed complexity cassandra believe
exponential effect multiple plan branches whose presence
increases number steps plan increases number potential
interactions number ways resolving certainly subjective impression
cassandra runs even slowly planners snlp family effective
domain independent search control heuristics dicult many toy
domains used cassandra even specific heuristics hard come


conclusion
cassandra system firmly classical paradigm many
strengths weaknesses classical systems example
believe certain circumstances plans valid guaranteed
valid plan one exists however techniques uses valid limited
circumstances computational complexity make direct scaling unlikely
feasible
view principal strengths cassandra arise explicit representation
decisions plans shown use decisions provides natural account
knowledge goals arise process sketched
decisions used basis extensions provide added functionality
type decision allows fail safe plans provide method solving
bomb toilet section another type decision may provide
effective method interleaving execution section
believe use explicit decision procedures enable extension
range applicability techniques classical general idea constructing
single plan succeed circumstances feel unlikely productive


fipryor collins
real world complex uncertain enough trying predict behavior detail
simply impossible however use decision procedures example involve
probabilistic techniques interleave execution appears likely provide
exible framework although inevitably sacrificing completeness correctness
provide basis effective practical real world

appendix cassandra plans
appendix shows plans constructed cassandra examples body
plan consists initial conditions plan steps goals initial conditions
shown top plan unknown shown depending
particular contingency plan steps shown next shown number
denoting order plan numbers parentheses order
steps added plan right step contingency labels
brevity individual effects step omitted links establish
step enabling secondary preconditions often omitted
finally bottom plan come goal conditions goal stated first
contingency goal shown links establish usual contingency
labels right

plan get evanston
plan shown figure discussed section note decision step
single active decision rule situation discussed comments onesided contingencies section route western quicker clear
ashland route slower possible
initial

traffic good traffic bad
traffic bad traffic bad
start road western road belmont road ashland

step

go western belmont
yes traffic good bad
start western belmont
start

step

check traffic western
know traffic bad
western

step

decide traffic
traffic bad

traffic good

traffic bad
know traffic bad

step

take belmont

yes traffic bad
traffic good
western ashland
belmont



fiplanning contingencies decision
step

take ashland

yes traffic bad
traffic good

evanston
ashland
step

traffic good

take western

yes traffic good
traffic bad

evanston
western
traffic bad
goal

traffic bad
traffic bad

evanston
goal
evanston

yes traffic bad
traffic good

evanston

yes traffic good
traffic bad

goal

complete

disarming bomb

plan shown figures discussed section note
moving steps dunking steps possible necessary one
outcome uncertainty fail safe plan see section therefore possible
initial

unk contains package bomb
unk contains package bomb
package rug package rug

step

x ray package
know contains package bomb

step

x ray package
know contains package bomb

step

decide unk
contains package bomb

unk
contains package bomb

unk
know contains package bomb
know contains package bomb

step

move rug toilet package
yes unk
package rug package toilet
package rug

step

move rug toilet package
yes unk
package rug package toilet
package rug

step

dunk package
wet package

yes unk



fipryor collins
package toilet
disarmed bomb
contains package bomb
step

dunk package
wet package
package toilet
disarmed bomb
contains package bomb

goal

unk
yes unk

unk

disarmed bomb
goal
disarmed bomb

yes unk
unk

disarmed bomb

yes unk
unk

goal

complete

fetching package

plan figure discussed section involves one source uncertainty
hence contains one decision step two possible ways achieving goal
one outcome uncertainty
initial

available car
loc b package location
loc package location
car car car car location location
location location

step

ask package
know package location
location location
know package location
location location

step

decide loc
package

package

know
know

location
loc b
location
loc
package location
package location

step

drive car location
location
available car

yes loc

step

drive car location
location
available car

yes loc b

goal

loc package loc



fiplanning contingencies decision

goal

yes loc b
location
package location

goal

loc
yes loc

location
package location

loc b

complete

fetching another package

plan figure discussed section two sources uncertainty two
decision steps four possible ways achieving goal one combination
outcomes two sources uncertainty
initial

step







car c available
car c available
loc b package
loc package
car car car
location location

car
car
location
location
car location location

ask car

yes loc b

know available car
car car
know available car
car car
step

decide car
yes loc b
available car

car c
available car

car c
know available car
know available car

step

ask package

yes car c c

know package location
location location
know package location
location location
step

decide loc
package

package

know
know

yes car c c
location
loc b
location
loc
package location
package location

step

drive car location

yes loc car c



fipryor collins
car c
location
available car
step

car c

drive car location

yes loc b car c
car c

location
available car
step

car c

drive car location

yes loc car c
car c

location
available car
step

car c

drive car location

yes loc b car c
car c

location
available car
goal

car c

loc package loc
goal
location
package location

yes loc car c
car c
loc b

location
package location

yes loc b car c
car c
loc

location
package location

yes loc b car c
car c
loc

location
package location

yes loc car c
car c
loc b

goal

goal

goal

complete

tossing coin

section described plan ending coin decision plan
distinguish coin landing heads tails decision rules
ambiguous
initial

holding coin

step

toss coin
holding coin table
holding coin

step

inspect coin
know flat coin know heads
know tails know edge



fiplanning contingencies decision
step

decide unk
flat coin

unk h
flat coin

unk
edge

unk e
know flat coin
know edge

step

tip coin

yes unk e
unk h

flat coin
edge
goal

unk h

flat coin
goal
flat coin

yes unk
unk h e

flat coin

yes unk h
unk e

flat coin

yes unk e
unk h

goal

goal

complete

tossing another coin
plan figure two decisions unambiguous decision rules four
ways achieving goal plan two sources uncertainty
initial

holding coin

step

toss coin
holding coin table know flat coin
know heads know tails know edge
holding coin

step

decide toss
flat coin
heads

edge

flat coin
tails

know
know
know
know

step

toss h
toss e

toss
edge
flat coin
tails
heads

tip coin

yes toss e



fipryor collins
toss h
flat coin know heads know tails
edge
toss h
step

decide tip

yes toss e
toss h

tails

tip
heads

tip
know tails
know heads
step

turn

heads
tails

toss h e

turn

yes toss e tip
toss h tip h
toss h

flat coin
heads
tails
goal

h
toss h
toss h
yes toss
toss e h
toss h e

flat coin

step



toss h tip h

flat coin heads
goal
flat coin
heads

yes toss e tip
toss h
toss h tip h

flat coin
heads

yes toss e tip h
toss h
toss h tip

flat coin
heads

yes toss
toss h e
toss e h

flat coin
heads

yes toss h
toss e
toss e

goal

goal

goal

complete

opening door
section described plan opening locked door without key depicted
figure plan cassandra produces situation shown even
though preconditions pick step depend effect kick step former
cannot performed lock broken kicking door decision rules
ect dependence


fiplanning contingencies decision
initial

lock intact

step

kick

step

look
know locked know lock intact
know foot broken

step

decide kick
lock intact

kick f
locked

kick l
know locked

step

pick

yes kick f
kick l

locked
lock intact
step

kick l

open door

yes kick f
kick l

open
locked
step

kick l

open door

yes kick l
kick f

open
locked
goal

kick f

open
goal
open

yes kick f
kick l

open

yes kick l
kick f

goal

complete

acknowledgements
thanks dan weld tony barrett supplying ucpop code mark peot robert
goldman comments earlier drafts fitzgerald many useful discussions
anonymous reviewers constructive helpful criticism much
work performed first author student institute learning
sciences northwestern university work supported part afosr
grant number afosr def institute learning sciences established
support andersen consulting part arthur andersen worldwide
organization institute receives additional support ameritech north west
water institute partners ibm


fipryor collins

references

allen j hendler j tate eds readings morgan kaufmann
san mateo ca
ambros ingerson j steel integrating execution monitoring
proceedings seventh national conference artificial intelligence pp
st paul mn aaai allen hendler tate
barrett soderland weld effect step order representations
technical report department computer science engineering university washington seattle
chapman conjunctive goals artificial intelligence
allen et al
collins g c plan creation strategies blueprints technical report
yaleu csd rr department computer science yale university
collins g pryor l achieving functionality filter conditions partial
order planner proceedings tenth national conference artificial intelligence pp san jose ca aaai
collins g pryor l uncertainty key issues proceedings
fourteenth international joint conference artificial intelligence pp
montreal canada ijcai
draper hanks weld probabilistic model action leastcommitment information gathering proceedings tenth conference uncertainty artificial intelligence pp seattle wa morgan
kaufmann
draper hanks weld b probabilistic information gathering contingent execution proceedings second international conference
artificial intelligence systems pp chicago il aaai press
drummond situated control rules proceedings first international
conference principles knowledge representation reasoning pp
toronto morgan kaufmann
etzioni hanks weld draper lesh n williamson incomplete information proceedings third international conference knowledge representation reasoning pp boston
morgan kaufmann
feldman j sproull r f decision theory artificial intelligence ii
hungry monkey cognitive science allen et al
fikes r e nilsson n j strips application
theorem proving solving artificial intelligence allen
et al


fiplanning contingencies decision
golden k etzioni weld omnipotence without omniscience ecient
sensor management proceedings twelfth national conference
artificial intelligence pp aaai press
goldman r p boddy conditional linear proceedings
second international conference artificial intelligence systems pp
chicago il aaai press
goldman r p boddy b representing uncertainty simple planners
proceedings fourth international conference principles knowledge
representation reasoning pp bonn morgan kaufmann
haas r syntactic theory belief action artificial intelligence

haddawy p hanks representations decision theoretic utility
functions deadline goals proceedings third international conference
principles knowledge representation reasoning pp boston
morgan kaufmann
haddawy p suwandi decision theoretic refinement inheritance abstraction proceedings second internatinal conference artificial
systems pp chicago aaai press
knoblock c executing sensing replanning information gathering proceedings fourteenth international joint conference artificial
intelligence pp montreal ijcai
kushmerick n hanks weld probabilistic
artificial intelligence
langley p systematic nonsystematic search strategies proceedings
first international conference artificial intelligence systems pp
college park maryland morgan kaufmann
mcallester rosenblitt systematic nonlinear proceedings
ninth national conference artificial intelligence pp anaheim ca
aaai
mccarthy j hayes p j philosophical standpoint
artificial intelligence meltzer b michie eds machine intelligence pp
edinburgh university press allen et al
mcdermott critique pure reason computational intelligence
mcdermott regression international journal intelligent systems
available yale tr yaleu csd rr
moore r c formal theory knowledge action hobbs j r moore
r c eds formal theories commonsense world ablex norwood nj
allen et al


fipryor collins
morgenstern l knowledge preconditions actions plans proceedings
tenth international joint conference artificial intelligence pp
milan ijcai
olawsky gini deferred sensor use proceedings
workshop innovative approaches scheduling control pp
san diego ca darpa
pednault e p extending conventional techniques handle actions
context dependent effects proceedings seventh national conference
artificial intelligence pp st paul mn aaai
pednault e p adl exploring middle ground strips
situation calculus proceedings first international conference principles
knowledge representation reasoning pp morgan kaufmann
pednault e p generalizing nonlinear handle complex goals
actions context dependent effects proceedings twelfth international
joint conference artificial intelligence pp sydney australia ijcai
penberthy j weld ucpop sound complete partial order planner adl proceedings third international conference knowledge
representation reasoning pp boston morgan kaufmann
peot smith e conditional nonlinear proceedings
first international conference artificial intelligence systems pp
college park maryland morgan kaufmann
pryor l opportunities unpredictable world technical report
institute learning sciences northwestern university
pryor l decisions decisions knowledge goals hallam j ed
hybrid hybrid solutions proceedings aisb frontiers artificial
intelligence applications pp ios press amsterdam
pryor l collins g information gathering task position
notes aaai workshop knowledge construction probabilistic
decision pp anaheim ca aaai
pryor l collins g perceive utilitarian working
notes aaai spring symposium control selective perception pp
stanford ca aaai
pryor l collins g cassandra contingencies technical report institute learning sciences northwestern university
sacerdoti e structure plans behavior american elsevier york
schoppers j universal plans reactive robots unpredictable environments
proceedings tenth international joint conference artificial intelligence
pp milan ijcai


fiplanning contingencies decision
steel knowing semantic hallam j ed hybrid
hybrid solutions proceedings aisb frontiers artificial intelligence
applications pp ios press amsterdam
stefik constraints molgen part artificial intelligence
allen et al
stefik b constraints molgen part artificial intelligence

sussman g j computer model skill acquisition american elsevier
york
tate goal structure direct search solver ph thesis
university edinburgh
tate generating project networks proceedings fifth international
joint conference artificial intelligence pp cambridge ijcai
allen et al
warren generating conditional plans programs proceedings
summer conference artificial intelligence simulation behaviour pp
edinburgh aisb
wilkins e practical extending classical ai paradigm
morgan kaufmann san mateo ca




