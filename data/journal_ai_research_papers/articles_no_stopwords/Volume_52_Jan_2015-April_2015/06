journal artificial intelligence

submitted published

scheduling conservation designs maximum flexibility
via network cascade optimization
xue
alan fern

xue eecs oregonstate edu
afern eecs oregonstate edu

school eecs oregon state university
corvallis usa

daniel sheldon

sheldon cs umass edu

school computer science university massachusetts
amherst usa

abstract
one conserving endangered species purchase protect set land
parcels way maximizes expected future population spread unfortunately
ideal set parcels may cost beyond immediate budget constraints
must thus purchased incrementally raises challenge deciding
schedule parcel purchases way maximizes flexibility budget usage
keeping population spread loss control introduce formulation
scheduling rely knowing future budgets organization
particular consider scheduling purchases way achieves population spread
less desired delays purchases long possible schedules offer conservation
planners maximum flexibility use available budgets efficient way
develop formally stochastic optimization network cascade
model describing commonly used model population spread solution
reducing stochastic novel variant directed steiner tree
call set weighted directed steiner graph
computationally hard motivating development primal dual
computes feasible solution bound quality
optimal solution evaluate real synthetic conservation data
standard population spread model shown produce near optimal
much scalable generic shelf optimizers finally
evaluate variant explore trade offs budget savings
population growth

introduction
reserve site selection key conservation planners select land
regions designated nature reserves achieve general conservation goals
preserving biodiversity achieve specific goals supporting recovery
endangered species general extremely complex involves reasoning
interplay uncertain population spread uncertain future budgets
specific factors particular properly assessing population spread involves
reasoning spatial aspects landscapes sizes shapes connectivity
decision space huge consisting possible land investment combinations
time
c

ai access foundation rights reserved

fixue fern sheldon

given factors would highly desirable conservation practitioners
enhance decision making via automated semi automated scheduling
unfortunately beyond scope existing shelf stochastic planners schedulers largely due combination enormous state
action spaces highly uncertain exogenous dynamics need spatio temporal
reasoning main contribution make progress toward handling
complexities studying useful subproblem conservation used
practitioners realistic scenarios general schema used develop
widely applicable see section one received significant attention
ai community thus hope work inspire specialized
general purpose approaches complex stochastic scheduling
recently sheldon et al studied restricted still challenging version
conservation refer upfront conservation design
optimization planner given upfront budget stochastic
metapopulation model hanski ovaskainen describes species
consideration spread throughout landscape available habitat addition
system given information costs potential land parcels available
purchase conservation objective select set land parcels immediately
purchase conserve subject budget constraint maximize spread
population within specified time horizon
key simplification present land parcels assumed
purchased upfront currently available budget advantage simplification
allows reasonably efficient near optimal solution sheldon
et al however upfront simplification limits utility
number ways first conservation budgets generally arrive increments time
unrealistic purchase large set parcels advance restricting small set
parcels current budget may suboptimal long run moreover
often unnecessary purchase parcels spatially remote current population
species spread enough make relevant population growth
second upfront simplification requires planners commit advance conservation
strategies may take many years play ignores potential advantage
observing responding stochastic outcomes population spreading process
unfolds example population spread observed may beneficial divert
money failed subpopulations purchase parcels near thriving populations
contrast upfront ideal would fully adaptive
regular decision epochs planner would make purchase decisions
recent population budgetary information unfortunately currently available
adaptive tools scale realistic conservation scenarios due
combination enormous state space possible population purchase configurations
enormous action space possible subsets land parcels purchase long horizons tens
hundreds years high degree stochasticity population spread model
given challenge arriving fully adaptive solution main contribution
introduce strikes important middle ground
upfront fully adaptive approaches particular consider conservation design
scheduling exploring trade future population cost


fischeduling conservation designs maximum flexibility

given initial conservation design e set parcels purchase asked
schedule purchase time parcel way achieves population spread
time horizon within arbitrary tolerance population loss maximizes
purchase flexibility delaying specified purchase time e purchase deadline
parcel long possible
formulation simplifies fully adaptive number ways
first set parcels purchased provided input removes degree
freedom second significantly order select
action current time step general case fully adaptive requires
computing policy dictates possible future contingency least
reasonably likely ones contrast space possible schedules focus
much smaller space policies even partial policies allows compact
encoding scheduling appear possible
computing full even partial policies distinction fully adaptive
scheduling setting akin distinction closed loop open loop
generally computing closed loop plans considered difficult openloop plans large stochastic
solution scheduling yields useful tool conservation planners
first develop conservation designs capture complex decision making
objectives perhaps optimization software schedule purchases obtain
efficient cost effective implementation design conservation planner
flexibility purchase parcels time schedule specified
deadlines knowing population spread hurt much purchase
delays
addition scheduling potentially used component
adaptive planner common successful many adaptive
replanning decision epoch non adaptive plan computed current
state first actions executed work enables replanning
decision epoch first computes upfront design existing work e g sheldon
et al computes schedule purchases parcels scheduled
purchased immediately purchase strategy would spend minimum amount
budget step guaranteeing limited loss population spread
addition introducing formalizing conservation design scheduling second contribution develop principled solving
key idea apply sample average approximation saa shapiro
order arrive novel deterministic optimization develop principled solution motivation special case particular
approximated loss tolerance ratio deterministic optimization one
network cascade optimization equivalent novel variant directed
steiner tree traditional steiner tree graph edges associated
costs objective compute steiner tree minimum cumulative edge
cost variant set weighted directed steiner graph costs associated sets edges possibly non disjoint rather individual edges
computationally hard even restrictions traditional
admits efficient solution present efficient primal dual


fixue fern sheldon

guaranteed compute feasible solution bound quality optimal
solution early stopping version provides natural
explore trade future population budget flexibility
experiments real synthetic data red cockaded woodpecker
conservation primal dual produces near optimal
much scalable standard optimization tools cplex
trade population budget allows flexibility purchasing land
parcels
follows section first presents related work followed formulation section section shows reduce subproblem set weighted
directed steiner graph section derives corresponding primal dual
natural extension trade experiments presented section
finally conclude discuss future work

related work
previously many different proposed select reserve sites formulating numerical measure reserve quality together possible addition
constraints reserve must satisfy solving optimal set sites
proposed model e g see review article williams revelle levin although
earliest reserve site selection largely ignored spatial considerations many
newer incorporate spatial objectives constraints directly optimization
williams revelle levin argue primary reason importance
spatial attributes fact capture properties landscape favorable
underlying population dynamics important computationally difficult direction directly optimize respect model population
dynamics instead spatial attributes proxy direction
following addressing spatial conservation
respect specific widely adopted model population dynamics
recent explicitly reasons population dynamics model
work sheldon et al upfront conservation design described
section order cope stochasticity model popular sample
average approximation saa employed transform stochastic
deterministic combinatorial optimization encoded
mixed integer program mip solved state art solvers
able solve reasonably large via speedup techniques
scalability still limited relatively small number sample scenarios used saa
controls accuracy kumar et al addressed
aspect lagrangian relaxation used decompose saa
independent subproblems could solved practical time frame possibly
parallel standard optimizers shown significantly reduce runtime
dependence number saa samples used
unfortunately directly extending compute multi stage adaptive
solutions budget arrives increments time seem practical one
attempt two stage considered ahmadizadeh et al


fischeduling conservation designs maximum flexibility

explore two stage non adaptive formulation
indeed offer advantages upfront setting budget split
decision epochs manually fixed unlike work work explicitly separates
decision parcels buy decision buy focus
work may develop efficient special purpose latter
scale much easily bigger stages
several existing approaches might considered fully adaptive
solution conservation example fully adaptive
encoded markov decision process mdp resulting state action spaces
would far big state art solvers instance recent advances solving
large spatio temporal mdps crowley poole require significant restrictions
solution space acceptable application existing
stochastic successfully applied bent et al chang
et al chong et al yoon et al hindsight optimization
samples future outcomes optimistically estimates state value
determined futures however action space huge would
computational current require enumeration candidate
actions approximating state value another would formulate
adaptive multi stage stochastic integer program however size
formulation scales exponentially number stages running
time already costly single stage sheldon et al two stage
simpler setting fully adaptive ahmadizadeh et al
recently golovin et al proved simple greedy strategy provides
near optimal solutions adaptive conservation setting first appears similar
however order provide approximation guarantees authors restrict
population dynamics spread occurs distinct land parcels may
reasonable assumption slow moving species certain insects
focus work ignores critical aspects population dynamics highly mobile
animals birds including red cockaded woodpecker experiments


formulation
section first introduce basic terminology conservation design
define main stochastic optimization next describe sample average
approximation saa used transform deterministic optimization
focus remainder
basic concepts
largely follow formulation sheldon et al conservation
involve large land region interest divided land parcels
smallest land units available purchase parcel contains number distinct
habitat patches atomic units population dynamics model
occupied unoccupied species interest example redcockaded woodpecker considered experiments habitat patches correspond


fixue fern sheldon

particular trees prepared humans existing birds facilitate
nesting parcel p cost c p denotes cost purchasing land
restoring conserving habitat patches suitable species
occupy
conservation design set parcels intended purchased conserved
given conservation design purchase schedule mapping parcels
purchase times h h time horizon interest purchasing
parcel time means parcel going purchased thus scheduler
may choose purchase parcels even though part design
realize best tradeoff budget flexibility population spread although
species population dynamics yearly time step model described
allowed purchase times e decision epochs may less frequent depending specific
upfront schedule one assigns parcels purchase time
worth noting purchase times specified schedule best viewed
purchase deadlines interpret schedule constraining purchases occur
specified times view justified fact setup
purchasing parcel earlier time specified never worse population
spread

population dynamics model
use stochastic dynamics model sheldon et al instance
popular metapopulation model ecology literature hanski ovaskainen
patch two possible states time step unoccupied occupied
conserved patches may occupied population dynamics consists two types
stochastic events colonization events occur population patch colonizes
unoccupied patch b happens probability pab extinction events occur
patch occupied time becomes unoccupied time happens
probability paa events independent details probabilities used
experiments given section
single step colonization probability pab experiments typically decays
distance patches b encodes spatio temporal dynamics
populations slowly spread source population habitat made available
thus long term population spread often unnecessary purchase
parcels distant source population time since probability
population spreading distant patches near future negligible delaying
purchases become relevant design e population spread
nearby conservation organization use limited funds much flexibly however
non trivial decide much delay purchases harm spread since
decision depends much spatio temporal details population spread
model decision optimization defined designed make


fischeduling conservation designs maximum flexibility

stochastic optimization
statement rely two important concepts reward schedule
flexibility schedule first define two concepts formulate
optimization terms
reward schedule denoted r random variable encodes
amount population spread time h simply count number occupied
patches time h easy model upfront schedule
achieves least much reward schedule thus maximizes expected
reward thus define maximum expected reward r e r upfront
optimization goal schedule almost achieves optimal expected reward
e e r r positive real number indicates percentage
tolerance reward loss maximum purchase flexibility know
upfront schedule achieves r however requires commitment expenditures
first time step thus least flexible indeed formalize notion
flexibility terms expenditures time
given schedule define corresponding cost curve c function
purchase times accumulated cost c equal total cost parcels
purchased time including time curve non decreasing
provides view schedules spending profile time horizon particular
profile cost curve c never c e total expenditures
never exceed say offers flexibility terms budget
management compared preferred else equal
define surrogate cost function schedules
costf

x

c p f p

p

parameterized function f times h real numbers
require f f parcel purchased within time horizon
would contribute surrogate cost see surrogate cost function
simply weighted sum parcel costs weight determined f
parcels purchase time although work real valued function
assume henceforth f strictly decreasing two reasons first
discounting future costs makes sense due economic factors inflation second
intuitively since f decreases purchase times minimizing respect costf would
favor schedules delay purchasing particular policy cost profile
never greater assigned lower surrogate cost f
strictly decreasing
parcels positive costs upfront schedule unique element
maximizes surrogate cost schedule defers purchases time h gives
unique minimum f strictly decreasing function however restrict
schedules achieve least reward r latter schedule excluded
may longer unique minimum


fixue fern sheldon

specify conservation design scheduling
schedule set possible schedules
arg min costf e r r




schedules achieve reward r want return one
minimal terms surrogate cost e maximal flexibility thus controls
trade flexibility reward particular larger increases
set feasible schedules allows potential returning flexible schedule
sacrificing reward
note varying choice f may possible generate different solutions
equation minimal sense feasible policy strictly
lower cost curve experiments use simple discounted f given f
discount factor
practice likely conservation manager particular value
mind design time rather best viewed parameter varied order
observe different flexibility reward trade offs possible final selection
schedule would assessment possibilities
finally worth noting reward approximation upfront solution
feasible solution typical population spread thus
necessary achieving additional flexibility requiring
policy achieve expected reward exactly r e requires make purchases
accommodate unlikely outcomes population spread model contribute tiny
positive amount expected reward example consider outcome
population jumps initial location distant location first year
undergoes spread vanishingly small positive probability
upfront schedule support population spread since distant location purchased
first step thus schedule purchase distant parcel first
step suffer tiny loss reward compared upfront schedule
achieve however purchase tend useless vast majority
probability mass
deterministic optimization
optimization stochastic sense constraint defined
terms expectation complicated population spread distribution greatly
complicates direct solution prior work stochastic optimization
upfront schedules sheldon et al address complication converting
stochastic approximately equivalent deterministic optimization
done via common sample average approximation saa see
shapiro survey key idea approximate stochastic
optimization collection samples probability distribution
used approximate expectations probabilities via averages samples
formulation sample corresponds called cascade scenario
particular realization population spread process time horizon
main idea behind application saa generate set cascade scenarios


fischeduling conservation designs maximum flexibility

probabilistic population spread model approximate expected reward
schedules average reward scenarios scenarios combined single
scenario graph illustrated figure explained detail remainder
section
concretely cascade scenario layered graph layers correspond time
steps vertex va patch time step pair patches
b time step coin flipped probability pab determine directed
edge va vb present edge present patch occupied time
previous colonizations non extinctions patch b colonized
become occupied time long conserved presence edge
va vb interpreted meaning occupied time b conserved
time b occupied time particular scenario
way cascade scenario graph encodes occupancy reachability particular assuming
patches conserved patch b occupied time exactly
vb reachable vertex va corresponding initially occupied patch
approximate probabilistic spread model sample set n cascade
n scenarios
scenarios c cn denote vertices cn va
combined single scenario graph additional root vertex r
n vertex representing initially occupied patch figure
directed edges r va
shows example scenario graph three scenarios range five time steps
involving three patches b c two parcels one containing b
containing c example initially occupied patch hence
connected time step zero root node r across three scenarios assuming
parcels conserved e purchased upfront vertex connected root node r
corresponding patch considered occupied corresponding time
particular scenario defined r connected
vertices initially occupied patches
scenario graphs used work estimate reward schedules follows
n incoming
given scenario graph schedule said purchase node va
edges patch purchased later time p belongs
parcel p thus purchasing parcel p time viewed purchasing vertices
scenario graph along incoming edges involve patches p occur
layer later reflects fact patch purchased conserved
considered conserved hence eligible occupancy remainder time
horizon figure example schedule shown purchases parcel p containing
b time parcel p containing c time vertices purchased
schedule shown shaded region purchased incoming edges
shown bold
define conditions vertex scenario graph considered
n becomes occupied path
occupied given schedule vertex va
n define variable x n equal
purchased edges r va

n
va occupied otherwise figure shaded red set
vertices occupied example policy example note scenario
occupied since path r purchased edges
vertex vc
despite fact path graph r since path involves


fixue fern sheldon

figure example scenario graph n parcels p b p c
schedule p p illustrated shaded boxes
indicate purchased nodes heavy line weights indicate purchased edges
vertices representing occupied patches schedule colored red

unpurchased edges note upfront schedule would purchase node since
vertices edges would considered purchased schedule
average reward schedule relative scenario graph built scenarios
c cn denoted follows
r

n
xx n
x h
n

n

average across scenarios number occupied patches time h
figure average reward example schedule would key property
scenario graphs n r converges e r fixed
implies set schedules r r upfront converges
set r r n grows set policies wish
optimize flexibility policy one use standard probability
concentration bounds e g chernoff bounds event r r
probability mass decreases exponentially fast n grows suggests
relatively small number scenarios required reliably obtain tight approximation
true expected reward policy practice however important empirically
validate approximation errors reasonable number scenarios used
approximation


fischeduling conservation designs maximum flexibility

motivates deterministic saa formulation original stochastic optimization flexibility optimized subject constraint
empirical reward r deterministic solve
arg min costf r r




r r upfront
overview solution
recall stochastic optimization setting resulted optimization would typically upfront schedule feasible solution
rather approximate saa formulation typically non upfront
solutions feasible even even large practical values n set scenarios used approximation tend include
highly unlikely scenarios need accounted stochastic solution
observation motivates solution particular
section first consider turns variant
classic steiner tree derive incremental primal dual
section used approximately solve case
case early stopping experiments able
provide significant flexibility little loss reward flexibility reward trade
controlled

set weighted directed steiner graph formulation
motivated focus optimization case
must optimize flexibility subject constraint obtain optimal
empirical reward measured r section formulate
novel variant steiner tree
set weighted directed steiner graph
arrive final optimization
arg min costf r r




view type steiner tree scenario graph
particular say vertex time h terminal vertex reachable
root r set nodes xnupfront h hence contribute
upfront reward r way satisfy constraint r r purchase
set edges scenario graph connect target nodes r thus
constraint equation corresponds purchasing edges r path
terminal steiner tree
example consider scenario graph figure terminal nodes
v two
example nodes layer except vb
b
nodes connected r directed path schedule satisfies constraint


fixue fern sheldon

r r must purchase edges terminals reachable r note
example schedule figure set purchased edges satisfy

constraint since path purchased edges terminal vertex vc
similar traditional steiner tree
significant difference traditional edge associated distinct
weight purchased individually goal connecting terminals
set edges minimum total weight forms tree rather situation
complicated purchase parcels correspond subsets edges
scenario graph particular purchasing parcel p time incurs cost c p f
equation corresponds purchasing edge set ep cost c p f contains
n come vertex u arrive vertex v n p
edges u va


n n note cost model total cost edge sets
purchased schedule exactly equals surrogate objective costf
see instance call
set weighted directed steiner graph sw dsg novel variant steiner
tree goal select set vertices minimal total cost order
connect terminal vertices root remainder
discuss general form simplify notation input sw dsg
directed graph g v e single root vertex r set terminal vertices v
set edge sets e e em es e non negative cost
cs es particular conservation edge sets e ep
n u v n e p n n cost c
ep u va

p c p f

subset e forms steiner graph union edges connect r vertices
desired output minimum cost subset e forms steiner graph note
optimal steiner graph need tree sw dsg unlike traditional steiner
tree
clear sw dsg general original deterministic optimization
since latter specific edge set structure instance ep ep
however structure make easier sw dsg
following sections prove np complete primaldual setting special structure lead
algorithmic advantages deriving primal dual therefore mainly discuss
form sw dsg simplify notation
sw dsg motivated particular conservation application
relevant steiner style objectives edge
resources best considered groups example steiner trees often used
design communication networks edges correspond existing potentially
communication links situations links must purchased coherent sets
e g communication infrastructure different companies organizations sw dsg
would appropriate formulation
computational complexity
knowledge sw dsg generalization steiner tree
previously studied hence consider computational complexity


fischeduling conservation designs maximum flexibility

sw dsg generalization traditional directed steiner tree dst
known np complete hwang richards winter
standard complexity assumptions dst hard approximate factor better
log charikar chekuri cheung dai guha li note
hold even acyclic directed graphs number effective heuristic
dst drummond santos many successful relying shortest path computations subroutine shortest paths computed edge
weighted graphs efficiently turns case set weighted
particular note shortest path special case dst sw dsg
single terminal vertex turns np hard swdsg even restricted acyclic graphs special edge set structure shown
original deterministic optimization case scenario graphs
conservation
theorem sw dsg np hard even restricted acyclic graphs
single terminal vertex edge set structure scenario graph
proof prove hardness reducing weighted set cover subclass
sw dsg restricted scenario graph one scenario exactly one terminal
note consider decision version sw dsg asks
feasible steiner graph whose cost less specified threshold c instance
weighted set cover specifies ground set elements e en set
sm subsets sj cost cj subset cost bound c



asks whether collection total cost c
sj
given set cover instance first describe construct scenario graph illustrated figure later describe corresponding sw dsg instance graph
contains n layers alternate set layers element layers starting
set layer n layers hence n layers layer vertices labeled sm
represent sets n vertices labeled e en represent elements
addition include root vertex r vertex seen parcel
single patch edges graph go one layer immediate next layer
follows root vertex edge going sj first set layer ith
element layer e layer graph include edge vertex label sj
previous layer vertex label ei current layer whenever ei sj finally
vertex ei ith element layer edge sj next layer
corresponding sw dsg conservation instance graph specified
follows root node r single terminal vertex en final element layer
edge sets specified follows setting scenario graph
edge sets ej sj time particular ej contains every incoming
edge vertex vertex labeled sj layers let
strictly decreasing f sufficiently close ts cost ej equal
cj f cj cost sj original set cover words
cost ej almost cj similarly edge sets ei ei time set
costs cost threshold sw dsg equal threshold c
set cover


fixue fern sheldon

see reduction correct consider case resulting sw dsg
instance feasible solution solution provides path r en purchased
edge sets total cost c
since edge set ei ei zero cost edge set cost
purchasing edge sets ej construction path must go sequence
alternating element nodes set nodes particular path must traverse element
node ei n way happen purchase
ei least one edge leading ei one immediately preceding sj layer
possible ei sj happen purchasing corresponding
edge set ej corresponding sj cost almost cj see
collection sj corresponding purchased edge sets must cover elements
total cost c thus collection sets solution set
cover
conversely consider instance set cover feasible solution
easy verify feasible solution corresponding sw dsg purchase
edge sets ej corresponding sj set cover solution combining
see feasible solution sw dsg instance feasible
solution set cover instance

figure description reduction set cover sw dsg single terminal
vertex scenario graph

proves shortest least cost path np hard
sw dsg e finding least cost path edges purchased
sets thus difficult extend prior shortest path heuristics steiner tree
given sw dsg np np complete motivates
derivation efficient heuristic solution next section computes
feasible solution along bound cost optimal solution importantly
bound provides sense good computed solution compared optimal


fischeduling conservation designs maximum flexibility

primal dual
potential solution sw dsg encode mixed integer
program mip straightforward use shelf mip optimizer
produced non trivial upfront conservation sheldon et al experiments demonstrate scale well
related could consider rounding procedure mips lp relaxation
solving lp relaxation easier solving mip experiments
scalability lp solvers poor sizes interest us instead
exploit mip encoding another way following primal dual schema vazirani derive scalable performs near optimally experiments
work considered non trivial generalization previous work wong
primal dual schema applied dst moreover early stopping version
primal dual provides way trade schedule flexibility reward
note primal dual sw dsg original deterministic
conservation differ notations words edge set structure
conservation offer improvements thus
following present sw dsg
primal dual sw dsg
apply primal dual schema start giving primal mip sw dsg
along dual lp relaxation figure primal mip includes binary
variable es edge set e indicates whether es purchased es
es objective primal simply sum variables
weighted costs corresponding edge sets steiner graph constraint requiring
terminals connected root node purchased edges encoded
standard network flow encoding lines involving flow variables xki j flow variable
xki j encodes flow edge j destined terminal k flow balance constraints
guarantee one unit flow carried path root node r terminal k
lp relaxation primal simply replaces integer constraints es
variables positivity constraint dual relaxed lines includes
k corresponding primal flow constraints note
dual variables uki wi j
constraint one unit flow leaves root implied flow constraints
omitting constraint one could simplify dual eliminating ukr variables
equivalently set ukr k
given primal dual formulations apply primaldual schema designing optimization particular primal dual
iterative iteration increases value dual objective purchases
single edge set es corresponds setting primal variable es
iteration stops purchased edges form steiner graph e primal becomes
feasible value dual objective end iteration serves lower bound
optimal primal objective provides worst case indication far
optimal returned solution high level simple greedy heuristic
continuously purchases beneficial edge set order build paths


fixue fern sheldon

primal min


x

es cs

subject





x
h e

xki h

x

xkj

j e

xki j



r

k k v




r k
x
es k j e






j es

xki j j e k
es

dual max

x

ukk ukr




subject



kt

x

k
wi j
cs



k
ukj uki wi j
k j e



k j es

k
wi j





figure mip sw dsg corresponding dual lp mips lprelaxation sw dsg defined graph g v e root vertex
r set terminal vertices set edges sets e es
es e

unconnected terminal primal dual schema provides principled way incrementally
computing heuristic time computing lower bound
gives pseudo code main data structure auxiliary
graph g v vertices input graph g auxiliary graph edge
set initially empty iteration adds newly purchased edges es e
terminates edges form steiner graph edge sets used
construct graph returned solution following pruning step
removes obviously redundant edge sets sometimes include
iteration process
order describe detail first introduce terminology given
current auxiliary graph let c k denote set vertices directed
paths terminal node k via edges note consider k included
c k define cut set terminal node k denoted cut k set
edges j j c k c k intuitively k already reachable
root know least one edge cut k must added order
arrive steiner graph


fischeduling conservation designs maximum flexibility

primal dual sw dsg
inputs graph g v e edge sets e e em costs c cm terminals
v
initialize
k j e k
uki k v wi j

g v
lowerbound solution
g steiner graph

let k random vertex connected r g

es cut k solution

arg minss
k p

k
k cs k n es wm n
es cut k








ukj ukj k j c k
k w k k j cut k
wi j
j
es
lowerbound lowerbound k
solution solution
end
pruning solution solution solution es es

first initializes dual variables zeros auxiliary graph
include vertices edges iteration proceeds first randomly selecting
terminal vertex k connected r auxiliary graph intuitive level
select edge set es contains cutset edge k according
heuristic k derived applying primal dual schema concretely
aim iteration raise dual objective value increasing value ukk
maintaining feasibility increasing ukk violate constraints type
dual lines maintain feasibility selecting edge set
es among intersects cut set k raising variables corresponding
vertices c k edges cut k value k including ukk done
way causes dual constraint type corresponding edge set es become
tight since constraint corresponds primal variable es effectively
sets es indicating purchase adding edges es dual objective
value termination sum across iterations k returned lower
bound
key property iteration increases dual objective
maintaining feasibility dual guarantees iteration
dual objective value corresponds true lower bound optimal value primal
theorem iteration primal dual produces feasible dual solution
increased objective
proof base case initialization assigns dual variables zeros
l
feasible solution suppose iteration q starts feasible solution uli wi j
satisfies dual constraints type terminates


fixue fern sheldon

get feasible solution otherwise let k terminal vertex selected variables
l l k values changed satisfied remaining
uli wi j
variables l k three cases case j c k variables ukj
k unchanged cannot contribute violation case
wi j
edge j j c k increase ukj uki k continue
satisfy corresponding constraint case cut set edge j cut k
k k remains satisfied since w k edges
increase ukj wi j
j
cut set increased must ensure constraints type become violated
choice k made verified never violate
constraints makes least one tight
main portion terminates pruning step conducted
remove edge set subset edge set solution decreases
total cost maintaining feasibility particular context conservation
scheduling pruning step ensures parcel purchased
final solution aggressive computationally expensive
pruning techniques could used example one could consider removing
one selected edge sets final solution test feasibility
solution still feasible edge set eliminated
aggressive style pruning necessary experiments
implementation running time
k dual variables
note pseudo code stores updates values ukj wi j
naive implementation would e runtime
initialization well computation per iteration e number edges
graph number terminals could much sw dsg
large network one conservation application however
described way presentation purposes turns
purposes running implemented significantly efficiently
k values
particular need store update sum corresponding wi j
edge set e sum term appears inside definition k line
maintain current objective value stored lowerbound pseudo code
updated line therefore iterations variables
need initialized number edge sets much smaller
size network implementation dominant computation per iteration
computation cut set selected terminal k cut set backward
traversal terminal k toward root time computation acceptable
terminals connected relatively small parts overall graph
case conservation terminals connected nodes
cascade among ones spatially close enough reached
applications terminals possibly connected large portion graph
may preferable incrementally maintain cut set every terminal iteration
reduce computation memory needed c c maximum
size cut set presumably c e getting cut set takes
c time identify best edge set update solution



fischeduling conservation designs maximum flexibility

early stopping fractional connection
primal dual computation continues terminals
scenario graph connected paths root context conservation
corresponds reward approximation loss modify
primal dual allow reward approximation loss
case corresponds modifying sw dsg feasibility constraint require
fraction terminals connected leading natural way exploring
trade reward flexibility
given incremental greedy nature primal dual adds one
edge set iteration natural choice fractional connection stop
whenever least fraction terminals connected
basic early stopping lead improvement cost returned
solution compared savings often quite minimal due fact
primal dual grows paths terminal nodes root
unaware early stopping condition paths
grown never actually connected root point stopped
unconnected paths considered waste resources respect
meeting fractional connection constraint thus make early stopping
viable necessary perform pruning early stopping
fractional coverage two stages generation early stopping used
generate initial solution meets fractional connection constraint pruning
solution produced stage pruned maintaining fractional connection
constraint
pruning stage use simple effective greedy strategy idea
iterate purchased parcels schedule returned early stopping stage
delay purchase parcel long possible ensuring number
connected terminal nodes almost within required fractional connection
tolerance
found conservation application sw dsg corresponds set cascades beneficial prune independently generated
larger set scenarios used create initial solution analogous validation data tune parameters machine learning prediction
beneficial reasons found pruning original set
scenarios often overly aggressive hurt empirical performance due fitting
saa scenarios since easily generate independent scenarios estimate true
expected reward pruned policies better prune criterion instead
since computational complexity evaluating reward pruned policies low
compared saa optimization afford use larger set scenarios
particular experiments formed initial schedules set cascade
scenarios conducted pruning step respect cascade scenarios
pruning viewed directly enforcing threshold
independently estimated expected reward original stochastic equation
instead enforcing threshold objective value saa equation
since cant calculate correct threshold value rhs equation without


fixue fern sheldon

knowing true optimum r stochastic use saa optimum r
place saa optimum stochastic upper bound r generally
conservative enforcing equation

experiments
section first evaluate primal dual applying real full scale
conservation next verify robustness
present synthetic conservation data generator used several
recent studies focus first two parts experimentation case
see provides substantial gains flexibility order explore trade
flexibility reward population spread end section evaluate
early stopping
evaluation primal dual real conservation map
real map use dataset prior work sheldon et al
computing upfront conservation designs data derived conservation
involving red cockaded woodpecker rcw large land region southeastern
united states interest conservation fund region divided
non overlapping parcels area least acres patches
serving potential habitat sites parcel costs land prices land
parcels already conserved thus cost zero use population spread
model sheldon et al individual rcw
since requires conservation design input use design computed
sheldon et al total budget constraint map area
shown left cell figure parcels making design shaded green free
parcels cost shaded grey red marks indicate initially occupied patches
method requires specifying strictly decreasing function defining surrogate cost
function use f found
sensitive value
comparing optimal solutions
compare solutions primal dual optimal solutions found
cplex solver applied mip encoding sw dsg mip encodings
become large horizon number scenarios increase particular
h h n variables number constraints grows number
edges cascade network becomes impractical n h grow since
optimal solver cant scale large versions consider involving
cascade networks scenarios horizons ranging years
use cplex compute solutions lp relaxation mip objective value
returned lp provides alternative computing lower bound
optimal solution thus interesting compare lower bound terms tightness
runtime since primal dual stochastic due random selection


fischeduling conservation designs maximum flexibility

h
h
h
h
h
h















cost
mip






pd







lower
lp






bound
pd







run
mip





time
lp







pd







table comparison primal dual pd mip lp

terminal nodes report averages runs noting standard deviations
negligible
first two data columns table surrogate cost solutions
found cplex solving mip pd increasing horizons larger
horizons correspond larger method fails return solution due
memory constraints value shown table see horizons mip
able yield solutions cplex produces solutions similar
costs lower cost better see mip solver runs memory
unable return solutions largest instances already scaled
versions small number cascades horizon
next two columns table provide lower bound computed
cplex solving lp pd see lower bound produced
lp significantly tighter bound produced however
lp cannot solved cplex largest still yields
lower bound overall though lower bound good lp
computed generally within factor two optimal solution provides
non trivial assurance quality returned solution large
final three columns table present time used approaches
blank cells indicate method ran memory
significantly faster mip fails two largest
comparable lp provides lower bound fails
largest later indicates solution lp rounding would
face difficulty since even solving lp large time steps
patches computationally demanding advantage primal dual
avoids encoding lp rather works directly graph

pd cost less optimal mip cost returned cplex investigating found
cplex correctly evaluates solution returns thinks solution optimal
appears issue due small error tolerance allowed cplex solver
mip takes less time lp think possibly cplex uses different
lp mip especially mip solved branch bound uses modern features
cutting planes heuristics making cplex powerful mip solver



fixue fern sheldon

number cascades scenario graph
according saa optimal solution finite set cascade scenarios converge
true optimum scenarios previously two cascades used due
poor scalability cplex study number cascade scenarios use
ensure good solution recall n increases original stochastic
approximated accurately yet larger n corresponds computation
importantly larger n leaves schedule less space flexibility
extreme case n possible schedule upfront schedule minimal
flexibility good value n practice study primal dual solutions
different number cascade scenarios validating reward r primaldual schedule achieve given population spread stochastic compute
reward r running simulations stochastic population spread model
simulation provides reward value number occupied patches horizon
average schedules produced primal dual
upfront schedule recall intention nearly match reward
upfront schedule figure presents time horizon h
observe primal dual schedule achieves reward n increases
reward converging towards expected reward upfront schedule
see cascades quite close get best performance rate improvement
slowing thus remainder experiments use cascades saa

figure rewards pd solutions w r number cascade scenarios

quality conservation schedules
evaluate realistic sizes consider
cascades horizons ranging years well
beyond range approachable mip lp solution times
ranged seconds h minutes h
first evaluate average accumulated reward schedule returned
method horizon figure average reward upfront schedule ranged
h h time horizons primal dual solution
attained average reward least optimal negligible error bars


fischeduling conservation designs maximum flexibility

averages small gap indicates scenarios saa approximation quite
goodthe gap could reduced increasing number scenarios

figure rewards pd schedules w r
time horizon h

figure cost curves pd schedules
horizons

course must consider cost curves corresponding schedules since
affords flexibility criterion figure presents cost
curves schedules note defined section cost curve shows nondiscounted accumulated cost schedule time cost curve schedule
produced horizon h increase time h remain flat reflecting
purchases made time see horizons cost curves
fairly gradual increase cost expenditures time indicating schedules
indeed providing significant amount flexibility regarding purchase times particularly
compared upfront schedule cost curve flat black line
figure since parcels purchased time experiments shown found
cost curves vary small amount different values general
trend present interestingly curves sudden jump cost around
years understand figure parcel purchases made
schedule population spread map year horizon see
sharp increase cost due purchase relatively expensive
vast parcels southern part design looking population spread dynamics
apparent parcels critical gateway ensuring reliable spread
southwestern part design later years delaying purchase longer significantly
increases probability spread occur discovers
another interesting observation seen comparing expected population
spread pd computed schedule expected population spread upfront
schedule figure striking difference spreads seen time steps
northeastern part map upfront schedule entire
northeastern part occupied large part pd schedule hole
northeastern part near initial bird populations located note however
hole finally occupied horizon time
spread upfront pd schedules visually similar agrees fact
measured rewards similar reason difference population
spread pd schedule delays purchase northeastern parts


fixue fern sheldon









figure left original conservation design used scheduling shown green shaded
parcels free zero cost parcels shaded dark grey red indicates
initially occupied patches right top row shows parcels purchased
shaded green pd schedule horizon years middle
row shows population spread horizon schedule
lighter red shading patch indicates smaller probability occupied
measured simulations bottom row shows population spread
upfront schedule horizon years

map near initial bird population years time horizon ends
population spread process schedules found parcels
closely connected hence become occupied fairly short time bird population
nearby apparent upfront schedule areas already occupied
thus purchase parcels delayed long enough time
left population spread landscapes therefore purchasing
delayed parcels far away current population parcels
covered quickly reliably note flexibility mainly due definition
reward function takes population time h account count
population every time step presumably good schedule would purchase hole
area soon population
evaluation primal dual synthetic maps
evaluate primal dual thoroughly randomly selected synthetic
maps generated used prior work ahmadizadeh et al maps consist
region non overlapping parcels patches different configurations
parcel costs initial population map considered involving


fischeduling conservation designs maximum flexibility

different conservation designs design corresponded upfront solution
budget limited factor b total parcel cost map b ranged
section present similar analysis section consistent
indicating primal dual stable across different
comparing optimal solutions
first compare upper lower bounds returned primal dual
optimal objective values mip lp computed cplex since cplex still
scalability issues solving larger synthetic restrict comparison
scenarios horizon years
maps similar example figure shows
surrogate cost pd ub dual objective value pd lb primal dual solution
map together optimal surrogate cost cplex mip lower bound
computed lp cplex see compared optimal still
produce solutions similar costs especially easy b smaller
see lower bound computed cplex better pd lower
bound however pd lower bound still within factor

figure cost objective value map horizontal axis varies
amount budget used compute upfront solution used
conservation design given scheduling

quality conservation schedules
consider larger cascade scenarios horizon h
mip lp practically solvable
first compare average accumulated reward schedule returned primaldual upfront schedule figure shows one maps
indicating rewards achieved primal dual schedules close
upfront schedules desired maps similar
study cost curves schedules order illustrate flexibility
compared upfront schedules figure presents average cost curves schedules
across maps noted budget limited purchase
delayed much example b parcels purchased
long ahead time horizon analysis explained fact


fixue fern sheldon

figure rewards primal dual schedule upfront schedule
map

figure average cost curves pd
schedules maps

many maps small budgets sets affordable parcels fairly spread
loosely connected means population requires time order
reliably spread across sets thus parcels must purchased quite early
horizon support spread rather larger budgets sets parcels must
purchased spread tightly coupled allows easier
reliable population spread thus possible delay purchases much larger extent
seen cost curves larger budgets shows able
afford considerable flexibility initial conservation design supports reasonably
reliable population spread
early stopping trading flexibility reward
consider early stopping variant primal dual referred
pd es producing schedules trade flexibility reward
dataset use real conservation map figure illustrates cost curves
early stopping schedules h
demonstrates possible budget saving time corresponding fraction reward loss
allowed figure shows average simulated rewards schedules
first notice average reward achieved early stopping schedules
almost within specified error tolerance shows pruning step
generalizing effectively see cost curves early stopping schedules
significant improvement even small values compared early stopping
example h almost cost first
several years several decades cost approximately half cost required
able provide set schedules spans
spectrum trade offs considered conservation managers

summary future work
work addressed scheduling purchases parcels conservation
design formulated network cascade optimization


fischeduling conservation designs maximum flexibility

h

h

h

h

figure cost curves pd es schedules pruning red line shows
cost curve non early stopping pd schedule
reduced novel variant classic directed steiner tree showed
computationally hard developed primal dual
experiments showed produces close optimal
much scalable state art mip solver showed
early stopping variant able explore possible trade offs
flexibility reward important consideration practice
scheduling considered work poses considerable challenges generic
shelf schedulers planners complicating factors include highly stochastic
exogenous dynamics arise population spread model need reason
spatio temporal processes long horizons must considered
combinatorial space potential investment options point time general
solution schema pursued work likely applicable
pose similar challenges existing techniques particular general schema suggests
approximating via saa studying resulting deterministic
optimization often resulting deterministic correspond
existing well studied state art approximation
used cases work resulting related
existing well studied solution designed extending existing
solution frameworks expect generic saa schema particularly useful


fixue fern sheldon

h

h

h

h

figure rewards primal dual schedules early stopping number
data point indicates percentage pd es reward pd reward

involving stochastic spread populations information across networks
since deterministic typical map graph theoretic
vast literature
future work plan consider several improvements primal dual
currently iteration randomly picks unconnected terminal
grow path likely intelligent selection mechanisms improve
overall interested developing primal dual directly
incorporates error tolerance constraint early stopping would
provide direct method trading reward improved flexibility furthermore
intend pursue fully adaptive approaches conservation
one idea incorporate scheduling replanning selects
purchases current decision epoch date information
particular decision epoch schedule would formed parcels scheduled
purchased immediately flexibility would purchased subset
cases immediate budget would exceeded considering sophisticated
approaches take account immediate budget would natural useful
extension would interesting consider conservation
variants reward function species rather caring population


fischeduling conservation designs maximum flexibility

end ecological goal may value spread whole period
even presumably would different properties complexities
one study

acknowledgements
parts material appeared earlier work xue fern sheldon
work supported nsf grant iis

references
ahmadizadeh k dilkina c gomes c p sabharwal empirical study
optimization maximizing diffusion network th international conference
principles practice constraint programming
bent r van hentenryck p regret online stochastic optimization
time constraints nineteenth aaai conference artificial intelligence
chang h givan r l chong e k line scheduling via sampling
artificial intelligence scheduling
charikar chekuri c cheung dai guha li approximation directed steiner tree ninth annual acm siam
symposium discrete
chong e k givan r l chang h framework simulation
network control via hindsight optimization ieee cdc conference
crowley poole policy gradient environmental decision making
existing simulators twenty fifth aaai conference artificial intelligence
drummond l santos distributed dual ascent steiner
multicast routing networks
golovin krause gardner b converse j morey dynamic resource
allocation conservation twenty fifth aaai conference artificial
intelligence
hanski ovaskainen metapopulation capacity fragmented landscape nature
hwang f k richards winter p steiner tree springer
kumar wu x zilberstein lagrangian relaxation techniques scalable spatial conservation twenty sixth aaai conference artificial
intelligence
shapiro monte carlo sampling methods stochastic programming handbooks
operations management science vol pp
sheldon dilkina b elmachtoub finseth r sabharwal conrad j gomes
c shmoys allen w amundsen vaughan b maximizing


fixue fern sheldon

spread cascades network design uncertainty artificial intelligence
uai
vazirani v v approximation springer berlin
williams j revelle c levin spatial attributes reserve design
review environmental modeling assessment
wong r dual ascent steiner tree directed graph
mathematical programming
xue fern sheldon scheduling conservation designs via network
cascade optimization twenty sixty aaai conference artificial intelligence
yoon fern givan r l kambhampati probabilistic via
determinization hindsight twenty third aaai conference artificial intelligence




