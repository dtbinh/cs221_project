journal artificial intelligence

submitted published

symmetric subgame perfect equilibria
resource allocation
ludek cigler
boi faltings

ludek cigler epfl ch
boi faltings epfl ch

artificial intelligence laboratory
ecole polytechnique federale de lausanne
ch lausanne switzerland

abstract
analyze symmetric protocols rationally coordinate asymmetric efficient
allocation infinitely repeated n agent c resource allocation
resources homogeneous bhaskar proposed one way achieve agent resource games agents start symmetrically randomizing actions soon
choose different actions start follow potentially asymmetric convention prescribes actions extend concept convention
general case infinitely repeated resource allocation games n agents c
resources convention exists symmetric subgame perfect
equilibrium implements present two conventions bourgeois agents
stick first allocation market agents pay use resources
observe global coordination signal allows alternate different allocations define price anonymity convention ratio maximum
social payoff asymmetric strategy profile expected social payoff
subgame perfect equilibrium implements convention
price anonymity bourgeois convention infinite market convention decreases
price reducing conflict agents

introduction
many situations agents coordinate use resource one wireless channel used one device one parking slot may occupied one vehicle
etc often agents identical preferences everyone prefers
access rather yield similarly everyone prefers parking slot rather leave
car home however multiple agents try use one resource simultaneously
collide everyone loses
consider simple example two agents want access single resource describe
game agents two actions yield access agent
yields gets payoff agent accesses resource agent
yields gets payoff agents access resource time
incur cost
normal form game looks follows



c

ai access foundation rights reserved









ficigler faltings

symmetric game two efficient nash equilibria ne asymmetric
one agent yields one accesses resource vice versa
symmetric equilibrium outcome mixed ne agents access resource

probability pr
however mixed equilibrium efficient
expected payoff agents
asymmetric equilibria symmetric games undesirable two reasons first
fair example one agent access resource second coordinating
asymmetric equilibrium difficult imagine agents identical
anonymous e cannot observe identity identity agent
cannot prescribe different strategy agents agents peer peer
file sharing networks assumed anonymous chothia chatzikokolakis
well agents wireless sensor networks durresi paruchuri durresi barolli

consider following example millions wireless sensors produced
pipeline take two randomly put room one
frequency sensors transmit measurements sensor know
transmit stay quiet factory could program half sensors
transmit odd slots half transmit even slots nevertheless
would likely odd even pair sensors would pair
sensors transmit time
aumann proposed notion correlated equilibria fixes issues
nash equilibria resource allocation game correlated equilibrium
ce probability distribution joint strategy profiles game correlation
device samples distribution recommends action agent play
probability distribution ce agents incentive deviate
recommended action correlation device takes away burden coordination
anonymous agents follow strategy correlation
device told
smart correlation device send agent different private
signal available still reach correlated equilibrium outcome one
anonymous agents play identical strategies yet achieve efficient fair allocation previous work cigler faltings proposed
allows agents learn correlated equilibrium outcome repeated play
considered special case resource allocation proposed use global
coordination signal multi agent learning reach symmetric fair efficient outcome wang et al later implemented actual wireless network
achieved throughput higher standard aloha protocols
coordination signal previous work cigler faltings differ
smart correlation device assumed aumann firstly public
cannot send private signals agents private signals necessary anonymous
agents implement desirable correlated equilibrium single stage resource allocation
game anonymous agents follow strategy given public signal
value secondly coordination signal specific game requirement
ergodic e regularly sends possible values example


fisymmetric subgame perfect equilibria resource allocation

signal day week decimal value price certain stock even noise
frequency
however previous solution major limitation learning
equilibrium repeated game selfish agent could force everyone else yield
accessing time securing resource therefore focus
learning equilibria repeated game propose
distributed allocation set resources symmetric
fair equilibrium draw inspiration works bhaskar
kuzmics palfrey rogers symmetric equilibria symmetric repeated
games
assume agents play infinitely repeated game discount future payoffs
common discount factor strategy agent mapping
history play probability distribution actions goal
symmetric subgame perfect equilibrium subgame perfect equilibrium strategy profile
vector strategies every agent ne history including
cannot occur equilibrium path
symmetric subgame perfect equilibria study following form
agents start choosing actions randomly according given probability distribution soon play asymmetric pure strategy nash equilibrium
game adopt convention prescribes actions deterministically
bhaskar gives two examples conventions symmetric agent action
games
bourgeois agents keep action played last round
egalitarian agents play action opponent last round
extend notion convention arbitrary resource allocation n agents c homogeneous resources convention
exists symmetric subgame perfect equilibrium reaches convention give
closed form expression calculate subgame perfect equilibrium bourgeois convention small number resources c convention leads zero
expected payoff means price anonymity bourgeois convention
present market convention generalization egalitarian convention
bhaskar main idea agents pay price successful access
resource round game observe global coordination
signal k k decide whether resource access
agents decreasing marginal utility accessing often price helps
decrease demand resources global coordination signal effectively
increases capacity k times compared bourgeois convention
market convention improves expected payoff price anonymity therefore finite
structured follows section review basic notions game
theory present general definitions conventions implementations
section formally define resource allocation game n players c resources
convention exists symmetric subgame perfect equilibrium
implements section present two concrete examples convention bourgeois


ficigler faltings

market conventions discuss properties section discuss relationship
work work folk theorems game theory finally section concludes

preliminaries
section first introduce basic concepts game theory going
use throughout define notion price anonymity finally
give general definition convention implementation
game theory
game theory study interactions among independent self interested agents
agent participates game called player player utility function
associated state world self interested players take actions achieve
state world maximizes utility game theory studies attempts
predict behaviour well final outcome interactions leyton brown
shoham give complete introduction game theory
basic way represent strategic interaction game called normal
form
definition normal form game finite n person normal form game tuple
g n u
n set n players
ai set actions available player vector
called action profile
u u u un ui r utility function player assigns
action vector certain utility payoff
studying symmetric games games players
anonymous thing influences outcome number agents
took certain action
definition symmetric game say normal form game g n u
symmetric game permutation vector players n n holds
strategy vector n n
ui n u n
besides playing single deterministic action player choose action
randomly certain probability distribution
definition mixed strategy mixed strategy selects probability distribution
entire action space e ai mixed strategy profile vector mixed
strategies player mixed strategy define support supp
supp ai ai ai


fisymmetric subgame perfect equilibria resource allocation

given game specified normal form players choose
strategy players know strategies others choose action
quite easily pick strategy maximizes payoff given everyone else
playing
definition best response say mixed strategy player best
response strategy profile opponents strategy
ui ui
mentioned earlier one basic goals game theory predict outcome
strategic interaction outcome stable therefore usually called
equilibrium one requirement outcome equilibrium none
players incentive change strategy e players play best response
strategies others defines perhaps important equilibrium concept
nash equilibrium
definition nash equilibrium strategy profile n nash
equilibrium ne every player strategy best response strategies
others
correlated equilibrium extends notion nash equilibrium canonical interpretation assumes central correlation device samples space
possible outcomes game according probability distribution recommends action play player player incentive deviate
recommended action formal definition follows
definition correlated equilibrium given n player game g n u
correlated equilibrium tuple v v tuple random variables v
v v vn domains dn joint probability distribution
v n vector mappings di ai player
every mapping di ai case
x

ui n dn

dd

x


ui n dn

dd

equilibrium agent chooses best strategy oftentimes end
best agents whole analyze overall utility game
outcome agents define social payoff
definition social payoff mixed strategy p
vector n define
social payoff sum utilities players n
ui n
repeated game
repeated game players play given game example specified normal
form repeatedly call normal form game played round
stage game


ficigler faltings





definition future discounted payoff given infinite sequence payoffs ri ri
player discount factor future discounted payoff player
ei


x

j

j ri

j

definition infinitely repeated game let g n u normal form game
infinitely repeated version g game g discounting game players
play normal form game g infinite number rounds payoff player
game g defined future discounted reward ri
study symmetric equilibria extended version repeated
game called augmented game assume every round game players
observe common coordination signal condition strategy
use general coordination signal random integer taken set
k practice piece information observable everyone
price certain stock given time temperature room day week etc
signal allow agents coordinate efficiently time
realistic general correlation device recommends actions agents
assumed definition correlated equilibria
definition augmented repeated game let g n u normal form
game let k k set coordination signals augmented infinitely
repeated version g game g discounting game players play normal
form game g infinite number rounds round players observe
coordination signal kt k coordination signal chosen uniform distribution
k players discount future payoff discount factor
w l g assume repeated games augmented since ordinary
repeated game assume one coordination signal therefore
rest whenever refer repeated game strategy etc
assume game augmented coordination signal
definition history repeated game let g infinitely repeated game
discounting define history ht play round



ht n k
kt
ati action taken player round kt signal players
observe round
definition strategy repeated game strategy repeated game
player function history ht currently observed coordination signal kt
probability distribution action space
ht kt ai
define nash equilibrium repeated game way
stage game treat repeated game normal form game
players commit strategy entire game front


fisymmetric subgame perfect equilibria resource allocation

definition nash equilibrium repeated game strategy profile
n nash equilibrium infinitely repeated game player

ei ei

alternative strategy repeated game ei ht kt future
discounted payoff player adopts strategy players adopt
strategy vector
following text use notion future discounted social payoff
definition future discounted social payoff given strategy profile
infinitely repeated game g future discounted social payoff defined
e

n
x

ei





repeated games exists stronger notion equilibria refinement
standard nash equilibrium definition
definition subgame perfect equilibrium let g infinitely repeated game
discount factor strategy vector n subgame perfect
equilibrium game g player
ei ht kt ei ht kt
strategy history ht coordination signal kt
subgame perfect equilibrium players play best response strategy given
history play including histories cannot occur follow equilibrium
strategy beginning notion subgame perfect equilibria eliminates way
non credible threats equilibria player threatens someone else strategy
player might prefer avoid supposed executed
price anonymity
section seen simple resource allocation game symmetric
equilibrium leads significantly lower payoff asymmetric equilibria symmetry
equilibria natural requirement players e anonymous
much social payoff sacrifice requirement symmetry inspired
price anarchy koutsoupias papadimitriou propose price
anonymity measure efficient given symmetric strategy vector term
price anonymity used previously different context bonnet raynal
given symmetric strategy vector stage game calculate ratio
social payoff efficient potentially asymmetric nash equilibrium
game social payoff strategy vector formal definition follows


ficigler faltings

definition price anonymity nash equilibrium let g symmetric
game let n symmetric nash equilibrium j j
let mixed nash equilibrium game g maximum social payoff
define price anonymity strategy vector follows
rg

e

e

definition price anonymity stage game let g symmetric game
symmetric nash equilibrium minimal social payoff
let n
let mixed nash equilibrium game g maximum social payoff
define price anonymity game g follows
rg

e

e

infinitely repeated games define price anonymity subgame perfect
equilibria
definition price anonymity repeated game let g symmetric game
let n symmetric subgame perfect equilibrium minimal social
payoff let subgame perfect equilibrium game g maximum social
payoff define price anonymity game g follows
rg

e

e

conventions implementations
shown example agent resource allocation game section
exist symmetric games nevertheless asymmetric efficient equilibria
allow central coordination device agents play symmetric efficient
correlated equilibrium selects randomly set efficient nash equilibria without device stage game way reach symmetric efficient outcome
equilibrium
however agents play game repeatedly use history play
condition strategy two agents different histories take different
actions future first round game though history empty
everyone therefore symmetric strategy players randomize order ever
reach point histories agents distinct
bhaskar considered playing asymmetric outcomes stage
game symmetric strategy repeated game work considers games
players actions resource allocation game idea two players start playing randomly probability distribution actions
randomize reach round happen play pure strategy nash
equilibrium take different action call round asynchrony
round agents start following called convention convention maps
asymmetric pure strategy nash equilibrium potentially asymmetric strategy vector
agents adopt


fisymmetric subgame perfect equilibria resource allocation

already mentioned two basic conventions proposed bhaskar
bourgeois egalitarian convention resource allocation game asynchrony
round one agent chooses action one chooses call agent
chose asynchrony round winner agent loser bourgeois
convention guarantees agents keep playing ne forever way
winner forever guaranteed higher payoff loser egalitarian
convention players alternate two pure strategy nash equilibria way
payoffs winner loser closer
infinitely repeated game discounting social payoff depend two
things discount factor probability collision probability
players play action big difference winner loser
payoff losers fight back harder play preferred action
higher probability increase probability collision egalitarian
convention payoffs loser closer winner therefore agents
collide less often reach asynchrony faster
another example convention kuzmics et al analyze nash demand
game nash demand game game n players choose n actions
labeled n players choose distinct action player receives payoff
equal label chosen action two players chose
action every player including chose action alone receives zero payoff
pure strategy nash equilibrium players choose different action naturally
player prefers equilibrium one chose action n
nash demand game define bourgeois egalitarian conventions
kuzmics et al define three notions payoff symmetry
ex ante agents expected payoffs game starts
ex post agents expected payoffs asynchrony occurs regardless
winner
strong ex post agents payoff along realization play
bourgeois convention ex ante payoff symmetric since asynchrony occurs winner gets higher payoff loser egalitarian convention strong
ex post payoff symmetric fact kuzmics et al nash demand
game convention socially efficient must strong ex post payoff symmetric
intuition order maximize social efficiency want reach asynchrony fast
possible possible agents choose actions uniformly random
indifferent action choose moment
asynchrony occurs
formally define convention augmented repeated game n agents
definition convention let g n u
let g repeated version game g
maps vector pure strategy nash equilibria
ak vector strategies


symmetric normal form game
define convention function
game g signal value
repeated game g

ficigler faltings

permutation n n set players
ak ak



convention permutation permutation convention denotes
strategy player strategies different coordination signal value

use notation n n
denote permutation history vector permutation strategy
vectors respectively
definition convention generalizes definition bhaskar gave symmetric
games players two actions bhaskar defined convention mapping
set nash equilibrium action profiles set strategies
players alternate strategy profiles order definition
convention maps nash equilibrium stage game strategy profile provided
satisfies permutation condition
intuitively convention prescribes agent potentially different role
anonymous agents learn role call learning
use implementation convention
definition implementation let g infinitely repeated game let
convention defined game implementation convention strategy
vector infinitely repeated game function assigns
ht kt
satisfies following conditions
let ht history game time
players already played pure strategy nash equilibrium coordination signals k k round round played
ne last signal follow strategy prescribed convention
history ht ht history round onwards
otherwise let kt signal observed current round let vector
ak ak action vector last round signal
k observed signal k observed yet define ak actions
players current round depend vector abusing notation
write ht kt kt permutation n
n

kt n kt kt n kt
strategy current round depends actions played
last round signal observed current coordination signal
section concerned equilibrium strategies resource allocation
game look symmetric subgame perfect equilibria construct
equilibria define concepts equilibrium convention equilibrium
implementation


fisymmetric subgame perfect equilibria resource allocation

definition equilibrium convention let g infinitely repeated game let
convention say convention equilibrium convention
every vector pure strategy nash equilibria ak vector subgameperfect equilibria game g
definition equilibrium implementation let g infinitely repeated game
equilibrium convention implementation convention say
equilibrium implementation subgame perfect equilibrium

resource allocation game
section first formally define resource allocation game discuss
nash equilibria equilibrium convention resource
allocation game exists equilibrium implementation
definitions
first define resource allocation game restricted notions uniform convention uniform implementation
definition resource allocation game resource allocation game gn c game
n agents agent access one c identical resources agent chooses
action ai ai ac action ai means yield action
ai ac means access resource c resources identical define
special meta action ai take action means choose access choose
resource uniformly random set available resources
payoff function agent defined follows


ai




ai
ui ai

j
aj ai



otherwise
game set pure strategy nes c agents access resource ci
n c agents symmetric mixed strategy ne agent
decides play action probability




pr ai min c n



note high enough values c agents choose access
since assume resources identical agents start following
convention expected future payoff shouldnt depend resource
resource allocation game defined instance class games known potential games
monderer shapley exact potential game exists potential function r

ai ai ai ai
ai ai ui ai ui ai



ficigler faltings

accessed nash equilibrium therefore restrict called uniform
conventions
definition uniform convention let gn c resource allocation game gn c
infinitely repeated version let convention say convention
uniform convention following holds let ak vector purestrategy nash equilibria coordination signal let player ci number
signals player accesses resource action vector
j ci cj ei ej
number signals two players access resource
expected payoff remainder game
definition losers winners claimed unclaimed resources let gn c
infinitely repeated resource allocation game let ht history play round
let ak ak ak akn action vector played last round signal k
observed
player winner signal k aki ai players j akj ai
player loser signal k otherwise
resource c claimed signal k exists exactly one player aki ac
resource c unclaimed signal k otherwise
signal k never observed players losers resources
unclaimed signal k
definition uniform implementation let gn c infinitely repeated resource
allocation game let uniform convention uniform implementation defined
follows let ht history game time let kt signal observed
current round
players already played pure strategy nash equilibrium coordination signals follow strategy prescribed convention
otherwise let n number losers signal kt let c number
unclaimed resources signal k strategy prescribed implementation
round following
action vector co occupied resources na agents access resource
exact potential function resource allocation game
co na co
exact potential games referred congestion games rosenthal finite versions
games guaranteed pure strategy nash equilibrium moreover agents
reach pure strategy nash equilibrium starting arbitrary action vector iteratively
playing best response action one one players anonymous update strategies
simultaneously study doesnt hold hence theory potential games cannot
applied scenario study



fisymmetric subgame perfect equilibria resource allocation

agents follow implementation

asynchrony

initial state

agents follow
convention

n
c

n
c

n
c

n
c

figure learning play convention resource allocation game n agents
c resources state denote number losers
current state n number unclaimed resources c winners denoted
black circles losers light grey circles asynchrony state
winners one loser arrows indicate possible transitions
states players reach asynchrony state start following
convention next round

player winner signal kt access resource
last time signal kt observed
player loser access choose access unclaimed resource r
p
probability n c
probability accessing claimed resource
c
zero
remainder section instead studying general strategies repeated
game limit strategies uniform implementation
figure shows agents learn follow convention n c
assume players adopt convention use implementation initially
losers implementation prescribes strategy
agent accesses resource alone becomes winner access
resource agents reach asynchrony round state resource accessed
exactly one agent
definition expected payoff functions ea ey let gn c infinitely
repeated resource allocation game let uniform convention equilibrium
implementation let ht history game round k k
nash equilibrium reached convention activated yet
let nk number losers signal k k ck number unclaimed resources
signal k k let p pn c pnk ck access probability losers


ficigler faltings

signal k k let kt currently observed coordination signal let w nw
expected payoff winner player loser previous rounds becomes
winner round given nw winners round let l nw
expected payoff player stays loser nw winners round
assume player loser signal kt define expected payoff functions ea
ey takes action signal kt adopts strategy prescribed
implementation signals
ea p kt
min n c

x

pr wins nw winners w nw pr loses nw winners l nw

nw







k
x






pr winners
e
p
k

p
e
p
l



p
e
p
l
n
c
n
c



l
l
l
l

k
l
l k


min n c

ey p k

x

pr nw winners l nw

nw





k
x


ey p k
pnl cl ea p l pnl cl ey p l
pr winners


k



l
l k

existence equilibrium implementation
ready prove uniform equilibrium convention exists
equilibrium implementation
lemma signal k k functions ea ey continuous p h ik
proof probabilities pr nw winners pr nw winners continuous
functions ea ey sums products continuous functions must continuous
lemma functions ea ey well defined k k p h ik
proof fixed p functions ea ey define system k linear equations
write system e b e ea ea k ey ey k
vector variables corresponding payoff functions b r k k k unit
matrix matrix defined follows first k rows correspond variables ea k
second k rows correspond variables ey k
elements row k corresponding ea k defined

l k
pr winners pnk ck k




l k k
ak l

pr
winners
p



p
l k l k

nk ck
nl cl

k


pr winners pnk ck k pnl cl k l k l k k


fisymmetric subgame perfect equilibria resource allocation

elements row k k corresponding ey k defined

ak k l


pr winners pnk ck





pr
winners pnk ck



pr winners pnk ck


k

k

k




pnl cl
pnl cl

l k k
l k
l k l k
k l k l k k

system equations unique solution matrix non singular
equivalent saying det
pk
matrix diagonally dominant aii
j j aij
p k
rows matrix sum l ak l pr winners pnk ck
p
k k k
l ak k l pr winners pnk ck k k k k
known diagonally dominant matrices non singular taussky therefore unique solution e system exists functions ea ey well defined
fixed p
lemma exists p k k one following true
pk ey p k ea p k
pk ea p k ey p k
pk ea p k ey p k
p defines symmetric best response strategy losers
proof fix arbitrary p every signal k k
exists p k satisfies one three conditions lemma
contradiction assume p k ey p k ea p k p k
ea p k ey p k fact functions ea ey well defined
continuous pk must intersect p k
must exist vector p k k conditions
lemma satisfied
corollary let gn c infinitely repeated resource allocation game uniform
equilibrium convention game gn c exists equilibrium implementation
illustrate different equilibrium payoffs agents get adopt different
conventions consider resource allocation game n agents c
simplify presentation assume k assume round resource
claimed yet n losers c unclaimed resource
agent becomes winner round agents adopt extended uniform convention
prescribes strategies
comparison assume agents adopt convention convention

adopt convention winners expected payoff w losers
expected payoff l hand adopt convention winners


expected payoff w losers expected payoff l


ficigler faltings

convention

b convention

figure example expected payoff functions resource allocation game n
agents c resources cost collision discount factor
e expected payoff
given access probability p function ea

functions accessing yielding agents use extended convention
e expected payoff functions agents use
similarly ea

extended convention convention expected winner payoff w
expected loser payoff l convention expected winner payoff


w expected loser payoff l
equilibrium implementation convention agents access
resource probability p expected payoff e
equilibrium implementation convention agents access resource
probability p p expected payoff e e

e convention e
figure shows expected payoff functions ea





ey convention depending access probability p see
equilibrium implementation payoff e convention higher equilibrium
payoff e convention even though sum winner loser payoffs higher
convention loser receives positive payoff agents adopt
convention agents less likely fight become winner access
resource lower probability p p way less collisions
agents receive higher expected social payoff adopt convention

calculating equilibrium
symmetric subgame perfect equilibrium guaranteed exist order actually
play agents need able calculate possible obtain


fisymmetric subgame perfect equilibria resource allocation

closed form probability accessing resource therefore
calculate equilibrium strategy numerically
let p probability vector k signal let p p p pk pk e
vector p pk set let p p p pk pk lemma know
ey p k ea p k ea p k ey p k two functions intersect
pk furthermore know ea p k w c since probability
successfully claiming resource everyone else yields ey p k
therefore ey p k ea p k iff w c
w l g assume w c shows calculate
probability vector
calculating equilibrium probabilities
subset k
let system equations

contains two equations e p one corresponding ea p one
ey p see equations
j set pj contains one equation e p j corresponding
ea p j
system k equations k variables
solve numerically system equations
exists solution
pi
found solution
break
end
end
numerical complexity exponential k therefore suitable small k section conditions access probabilities easy compute define equilibrium repeated game
agent gain factor deviating prescribed strategy

actual conventions
previous section shown symmetric way reach
convention provided agents access resources certain probability
shown calculate resource access probability every stage game
section would specific examples conventions agents
adopt discuss properties
bourgeois convention
bourgeois convention simplest one agent accessed resource
successfully first time keep accessing forever say agent
claimed resource dont need coordination signal implement set
k


ficigler faltings

describe decision point view agent assume
n agents c resources round let ct number resources
claimed yet nt n c ct number players claimed
resource yet assume players besides use following strategy
player claimed resource previously keep accessing
player hasnt claimed resource yet loser choose access
probability pct choose actual resource access uniformly random
definition expected payoff function bourgeois convention let p
p p pc probability vector pc probability
losers access c unclaimed resources define expected payoff
function player choose access play choose access
choose resource uniformly random yield play respectively



p n

p n
ea p c



c

c
c
x
pr loses nw l e p c l



l

ey p c

c
x

pr nw l e p c l

l

equations e p c max ea p c ey p c
lemma p c c e p c
proof matter strategy opponents agent chooses yield
payoff
lemma let p probability vector defines strategies losers
let ct number unclaimed resources round c ct ea p c ey p c
c ct e p c
proof ct unclaimed resources round every following round
c ct unclaimed resources bourgeois convention agents never release
claimed resources agent indifferent actions every round
following round means indifferent strategy subgame
prescribes every round strategy expected payoff strategy
prescribes therefore expected payoff subgame strategy
must well
purpose unclaimed resources identical therefore
parameter losers strategy probability agents decide
access resource chosen uniformly random lemma shows necessary
condition p agent indifferent following lemma shows p exists
unique


fisymmetric subgame perfect equilibria resource allocation

lemma assumeat timer

ct unclaimed resources let c ct unclaimed

resources pc c n
probability losers play


c ct unclaimed resources agent indifferent yielding accessing
given c probability unique interval c
proof lemma know agent indifferent e ea p c ey p c
must e p c c ct
definition expected profit agent playing following
best response strategy zero payoff




pc n

pc n
ea p c



c

c

pr loses nw e p c
pc probability losers access want ea p c
ey p c holds pc defined lemma
function ea decreasing pc interval c function ey constantly
therefore intersection unique interval c
lemma assume opponents havent claimed resource access resource probability p pc best response agent access
proof probability agent claims successfully resource playing

p n
pr claim resource

c
probability increases p decreases therefore expected profit playing
increasing p decreases whereas profit playing stays
theorem define agents strategy follows c unclaimed resources
play probability pc min pc pc defined lemma joint
strategy profile n c c subgame perfect equilibrium
infinitely repeated resource allocation game
proof lemma pc agent indifferent playing playing
therefore happily follow strategy lemma pc pc best response
agent play strategy prescribes
theorem c n pc pc e p c
proof proceed induction
c expected payoff trivially e p free resources
let j c e p j pc pc agent plays expected payoff clearly
future induction hypothesis agent plays
expected payoff definition

pc n


ea p c
c



c



x
pc n
pr loses nw l e p c l


c
l



ficigler faltings

way pc defined induction hypothesis e p j
j c get
ea p c pr loses nw e c
pr loses nw max ea p c ey p c



since pr loses nw must ea p c
theorem pc pc e p c
proof lemma know pc pc best response access
e p c ea p c lemma know j e p j pc pc
definition see e p c
theorem shows enough resources pc expected payoff
agents even access time positive
given number agents n discount factor collision cost necessary
number resources c expected payoff positive
c



r
n







figure illustrates value c depending n respectively figure shows
number resources c increases n increases naturally agents need
resources
figure b shows hand increasing discount factor necessary number resources drops high agents almost indifferent
winning winning later section explore idea
detail high enough delta strategy prescribes agents
access constant probability reach asynchrony equilibrium
resource allocation game
finally figure c shows increasing number resources necessary
bourgeois convention positive payoff collision cost increases increase
almost linear higher cost collision lower expected
payoff accessing ea bourgeois convention positive expected payoff
need ea p
let us look price anonymity bourgeois convention defined
definition
theorem price anonymity bourgeois convention infinite
proof highest social payoff strategy profile achieve n agent c resource
allocation game n c
c
max e



achieved every round every resource accessed exactly one agent
strategy profile obviously asymmetric


fisymmetric subgame perfect equilibria resource allocation













c

c


c













n











n









b



c

figure minimum number resources c needed expected payoff bourgeois
convention positive depending n one parameter varying
parameters set n varying n
dashed line shows c n


n
n



r























figure market convention price anonymity c k n varying

agent knew part bourgeois convention play beginning
game convention would socially efficient however agents anonymous
learn part convention play randomization
bourgeois convention small c relative n randomization
agents indifferent accessing resource yielding expected
payoff zero therefore price anonymity infinite
market convention
saw bourgeois convention leads zero expected social payoff small
number resources would improve expected payoff bourgeois
convention agents receive zero expected payoff demand resources
high compared supply need decrease demand increasing


ficigler faltings


n
n


r
















figure market convention price anonymity c k n varying

supply often achieved markets shneidman et al present
reasons markets might appropriate resource allocation
assume following
agents observe k coordination signals
agents decreasing marginal utility access resource often
pay fixed price per successful access point agent prefers
access resource one signal k practice could implemented central authority observes convergence rate agents
dynamically increases decreases price achieve convergence
assumptions define call market convention winners access claimed resource signals observed first claimed
price agents pay serves decrease demand coordination signal effectively increases supply resources k times resource allocation may
different signal values
know implement convention c resources symmetric
play see section small k use calculate access
probabilities ease exposition first describe market convention
c resource generalize description c resources
one resource
agent accesses resource one signal need k n signals make
sure everyone gets access
n agent resource case imagine still n agents playing n n
agents already claimed resource signal imagine n agents
observe one n signals resource claimed


fisymmetric subgame perfect equilibria resource allocation

assume agents access resource probability pn expected payoff
accessing resource agent




ea pn n pn


n




n
pn n
ea pn n
n n n
n





expected payoff yielding agent

ey pn n n pn pn n e n


n
ey pn n
n pn pn n
n n n



pn accessing resource lead collision payoff
accessing negative pn accessing resource claim
payoff accessing positive equilibrium agents indifferent
accessing yielding therefore want pn ea pn n
ey pn n e n
finding closed form expression pn difficult use
calculate probability well expected payoff e n numerically albeit practice
small k
figures price anonymity market convention defined
definition varying discount factor varying cost collision respectively
section price anonymity c contrast market
convention price cases finite relatively small
multiple resources
assume c given round denote c c c ck
vector resources claimed yet value coordination
signal k k denote n number players claimed
resource yet signal value finally let p pn c pn c pn ck vector
probabilities pn ck denotes probability loser access resource
signal k k given ck resources available
corollary know market convention exists equilibrium
implementation look exactly order able express albeit
numerically need define expected payoff functions players receive
action


ficigler faltings

number losers n observed coordination signal k vectors p c
define expected payoff functions player takes action respectively
ea p c n k pr wins w pr wins
min ck n



x

pr loses nw winners e p ck nw ck n nw

nw

pr nw


ea p c n k
k



pr nw
k

k
x
l
l k





pn cl ea p c n l pn cl ey p c n l


min n c

ey p c n k

x

pr nw winners e p ck nw ck n nw

nw


pr nw



k
x


ey p c n k
pn cl ea p c n l pn cl ey p c n l


k
l
l k


equations e p c n expected payoff players observe
coordination signal defined
e p c n

k
x
e p c n k
k
k


winner payoff w defined w k
winner
access one signal current round future round
probability k
probabilities nw winners cases
start simplest case pr nw winners given n agents including
agent ck resources agents except play action probability pk
calculating probability similar well known balls andbins raab steger balls bins assume
n balls randomly assigned one c bins goal
probability bins exactly one ball express probability
n c
ni ways pick balls place bins bin
one ball place remaining n balls remaining c bins randomly


c n
ni
c ni






fisymmetric subgame perfect equilibria resource allocation

total cn ways arrange n balls c bins therefore probability
n c total number ways place n balls c bins exactly one
ball obtained generalized inclusion exclusion principle

n c n
c

n
c


min c n

x

ji



j
min c n

x

ji



j


j
nj



j
c n
j c j nj

j
j





min c n
nj
x
n c
ji c c j


j n j
cn
j


ci
simplification use absorption identity ji jc ci ji

use function calculate pr nw winners n agents
decide play action probability pk choose resource access
randomly agents choose access resource correspond balls bins
therefore
pr nw winners

n
x


n
pk pk n c nw






calculate probability pr wins proceed follows assume w l g
accesses resource agents n choose action
need choose resource therefore
pr wins

n
x





n


n
pk pk

c




finally calculate probability pr loses nw winners use
balls bins given n agents choose action
j agents choose resource agent remaining
j agents face balls bins c bins bin already occupied
agent therefore
pr loses nw winners

n
j
x n
x


ij

j c nw
pik pk n

j
c
c


j


expressed expected payoff functions ea ey explicitly
use calculate equilibrium access probabilities expected payoffs
figures price anonymity market convention c k
n c k discount factor grows price anonymity decreases


ficigler faltings



price anonymity































figure market convention price anonymity n c k
varying




price anonymity























figure market convention price anonymity n c k
varying

note figure axis logarithmic small benefit
winning resource right away much higher payoff winning later
hand gets closer agents dont care whether win later
since market convention guarantees everyone able access resource
signal value expected payoff winner losers
cost agents pay learning convention decreases
compared payoff obtain learnt
increases price anonymity increases cost collision direct
effect expected payoff functions ea ey therefore expected equilibrium


fisymmetric subgame perfect equilibria resource allocation

payoff higher cost lower changing effect optimal
asymmetric outcome though since agents dont pay cost
collisions
equilibrium
calculating equilibrium access probabilities market convention difficult
need use numerical number signals k grows number
equations grows exponentially therefore would access probabilities
easy compute agents incentive deviate small indeed
game theory often interested equilibria agent improve payoff

market pricing ensures agent wants access resource one signal
value doesnt depend access probabilities agents utility
functions agents converge asynchrony round e pure strategy ne
resource allocation every signal value future expected payoff
k





agent improve payoff deviating since players playing psne
stage game round
agents havent claimed resource yet play action constant
probability pconst expected time reach asynchrony finite
properties balls bins see section raab steger
prove following theorem
theorem suppose n agent c resource allocation game agents adopt
market convention following implementation agents havent claimed
resource yet play action constant probability pconst call constantprobability implementation let e expected payoff agent case
given discount factor let e expected payoff best response strategy
convention implementation
exists
e

e



proof market pricing agent wants access one resource one
value coordination signal best response payoff e
e

k





matter strategy agents play
agents adopt market convention constant probability implementation every round converge psne receive payoff
collision cost reach psne expected payoff
k





ficigler faltings

stated therefore say
e


x




k
pr agents reach psne steps







define random variable x x agents reach psne
exactly steps properties expected value ee


e x k e x
e



function x x convex function jensens inequality know


e x e x

therefore

e x k e x
e


e
k



expected time e x reach psne finite doesnt depend
treat constant e x continuous monotonous lim e x
see given exists
e

e



ensuring agent wants access resource one signal value
market convention makes cooperative strategy previous work cigler
faltings almost rational
expected convergence time
section analyze expected number rounds agents need
converge perfect allocation resources one resources used exactly one
collisions first prove upper bound expected number
steps convergence bourgeois convention present experiments
market convention
bourgeois convention
order prove convergence bourgeois convention describe execution
markov chain markov chain describing execution bourgeois convention
n agent c resource allocation game chain whose state round xt c
xt c means c unclaimed resources round
interested expected number rounds take markov chain
reach state started state c called expected hitting time


fisymmetric subgame perfect equilibria resource allocation

definition norris hitting time let xt markov chain state
space given probability space pr hitting time subset random
variable h given
h inf xt
general expected hitting time set states found solving
system linear equations
theorem vector mean hitting times k e h kia minimal
non negative solution system linear equations

ki p



kia j
p
k

ij j

solving analytically markov chain however difficult fortunately
markov chain one absorbing state move state
j j use following theorem derive upper bound hitting time
proved rego
theorem let
e xt xt



kia log







order use theorem need calculate expected state e xt xt c
lemma let xt c let n n c c agents claimed
n
resource claimed
resource yet let us denote q n c pc n pc
round agents play subgame perfect equilibrium strategy vector described
next expected state
e xt xt c q n c c
proof resource denote wi random variable wi resource
claimed round wi otherwise random variable wi bernoullidistributed probability q n c
next expected state
c

c
x
x
e xt xt c c e
wi c
e wi q n c c





e wi q n c
following lemmas denote









ficigler faltings

lemma given collision cost discount factor exists constant
c n p
proof according
definition subgame perfect equilibrium strategy p c


n


want p equivalent


n
c




n



c

know c n



n
n



e
c
n



therefore set e access probability p
lemma given exists c
e xt xt c c

proof prove lemma two cases p
andwhen
p
first let us prove case p p c n therefore q n c


n n shown n


q n c


n log

n

let p lemma must c n



n
c
n

q n c


n
c
n
q n c increasing c





n

n

e







fixed constants set
min e log



proves lemma
theorem expected time agents converge resource allocation
resources claimed log c


fisymmetric subgame perfect equilibria resource allocation

proof shown express expected convergence time expected
hitting time certain markov chain
lemma saw exists c
e xt xt c c
combine theorem expected hitting
time state c state





kn dlog ce
log c log c




constant

market convention
market convention unfortunately difficult express expected number
convergence steps closed form expression however use linear programming
calculate expected number convergence steps given parameters n c k

markov chain market convention k signals c resources looks
follows state time vt c k vtk denotes many resources
claimed signal k initial state v v k c
k k n c k pthe final state vtk k n c k
final states k k vtk c k n
transition probabilities two states vi vj vi vj following
suppose k vjk vik l k vjl vil let us denote c vik e number
unclaimed resources state vi signal k n n c vik number agents
claimed resource signal k state vi
pr vt

n
x n
vj vt vi
p pk nm c vik vjk
k
k





otherwise vj vi pr vt vj vt vi
figure shows expected number rounds converge varying discount factor
generally would expect access probability increase increasing since
profit winning resource increases increase convergence
time however experiments influence convergence time negligible
although observe slight increase increases figure shows convergence
varying collision cost close convergence time remains stable however
high cost convergence time increases linearly case high cost
collision drives resource access probability low agents try avoid collisions
costs
figure shows expected convergence increase number resources c
number agents n proportionally increase convergence time still sub linear
increase c


ficigler faltings



convergence steps






















figure market convention expected number convergence steps given n c
k varying




convergence steps




























figure market convention expected number convergence steps given n c
k varying



fisymmetric subgame perfect equilibria resource allocation




convergence steps


















c









figure market convention expected number convergence steps given k
varying number resources c agents n c

c f
bourgeois
egalitarian
market

ex post fair
x

x
x

efficient
x

x


equilibrium

x
x
x

table properties conventions
convention properties
compare properties following conventions c f channel allocation
presented previous work cigler faltings bourgeois egalitarian
conventions presented bhaskar market convention presented
compare conventions according following properties
ex post fairness expected payoff agents even asynchrony
efficiency convention maximize social welfare among possible conventions
equilibrium convention equilibrium implementation
table summarizes properties conventions c f convention
approximately ex post fair fairness improving number coordination signals
increases agents might worse payoff others hand
efficient least discounting however equilibrium
fair asymptotically n
agents resource games



ficigler faltings

repeated game bourgeois convention neither fair efficient fact
expected payoff agents small number resources equilibrium
implementation though since agents indifferent winner loser
egalitarian convention fair efficient equilibrium implementation however
defined games agents resource finally market convention fair
equilibrium implementation clearly efficient bourgeois
convention nevertheless finding efficient convention remains open

folk theorems symmetric equilibria
previous sections analyzed special kind symmetric equilibria
resource allocation game agents first followed markovian implementation
soon play pure strategy ne adopted convention infinitely repeated
game discounting set nash equilibria characterized called folk
theorem name indicates known used well
first published follow version described fudenberg maskin
informally folk theorem states infinitely repeated game every feasible
individually rational payoff vector stage game exists nash equilibrium
repeated game average payoffs per round correspond stage game
payoff vector
payoff vector individually rational pareto dominates minimax payoff
stage game player minimax payoff
vi min max ui






simplify notation fudenberg maskin normalize payoffs
let
minimax payoffs v v vn
u v vn u v vn
v convex hull u
v v vn v vi
set v set feasible payoffs stage games payoffs
achieved playing mixed correlated strategy set v subset feasible
payoffs individually rational
theorem fudenberg maskin v vn v discount
factor close enough exists nash equilibrium infinitely repeated game
discounting average payoff player vi
idea proof follows agents cycle prescribed sequence
game outcomes achieve desired payoffs one player deviates others
punish playing minimax strategy forever
focus far finding symmetric equilibrium strategies folk theorem doesnt say anything whether equilibrium strategy symmetric even
payoff vector symmetric nevertheless define another class symmetric


fisymmetric subgame perfect equilibria resource allocation

strategies infinitely repeated game one conventions
implementations strategies following form players follow symmetric
mixed strategy stage game one player deviates strategy players
punish following minimax strategy resource allocation game minimax payoff achieved mixed strategy nash equilibrium
folk theorem strategy sustained nash equilibrium repeated
game though necessarily subgame perfect equilibrium
symmetric strategy stage resource allocation game vector access probabilities q q q qc qc probability agent access resource c
interested finding access probability vector q achieves highest expected
payoff
given access probability vector q expected payoff agent receives
follows
c
x



e q
qj qj n qj n

j

theorem resource allocation game n agents c resource
resource access probability maximizes expected payoff stage game
q









proof calculate derivative expected payoff function equation n
c
e q
q
q
setting first derivative equal get
q







since second derivative
e q

q
probability q local maximum expected payoff function e q
corollary resource allocation game n agents c resource
highest expected payoff symmetric strategy stage game
e









corollary resource allocation game n agents c resource
price anonymity strategy accesses optimal access probability q



ficigler faltings





folk theorem
market convention

r




















figure price anonymity symmetric strategy following folk theorem
compared price anonymity market convention n c
varying cost collision

general case resource allocation game n agents c resources

given constraint
pc probability vector maximizes equation

j qj method lagrangian multipliers
p
goal maximize e q q qc q c
qi qi q
probability agent yields lagrangian function
q q qc e q q qc

q

c
x


qi



first partial derivatives


q

e


qi
qi




qi n qi n qi n c

q


c
x








necessary condition solution maximum
partial derivatives lagrangian
p
function therefore q c
qi qi c solution

numerical root finding point partial derivatives
qi
zero compare e q finite number extreme points



fisymmetric subgame perfect equilibria resource allocation

figure compares price anonymity folk theorem symmetric strategy
price anonymity market convention n agents c resource
since price anonymity folk theorem strategy doesnt depend discount
factor needs high enough strategy equilibrium
graph varying collision cost price anonymity folk theorem strategy
order magnitude higher price anonymity market convention

conclusions
considered symmetric protocols rationally coordinate asymmetric
efficient allocation infinitely repeated resource allocation game discounting n agents
c resources assumed agents identical resources
homogeneous work idea bhaskar let agents choose
actions randomly adopt certain convention generalize work
bhaskar arbitrary resource allocation n agents c resources
convention exists symmetric subgame perfect equilibrium
implements presented two conventions repeated resource allocation
game bourgeois market convention defined price anonymity ratio
expected social payoff best asymmetric strategy profile expected
social payoff given symmetric nash equilibrium showed price
anonymity bourgeois convention infinite least small number resources
price anonymity market convention finite relatively small
market convention reduces demand imposing price successful access
time increasing supply agents condition strategy
global coordination signal k k way conflict agents
reduced showed analytically agents adopt bourgeois convention
converge perfect resource allocation polynomial time
market convention calculating equilibrium access probabilities difficult
need use numerical whose complexity exponential number
coordination signals k however market mechanism already makes sure agent
wants access resource one coordination signal therefore showed
cooperative solution agents access resources constant probability
equilibrium given discount factor high enough
future work would investigate whether exist efficient conventions market convention e conventions smaller price anonymity
general finding optimal convention np hard balan richards luke
restricted set infinitely repeated resource allocation games might
able optimal convention similar thue morse sequence richman
used kuzmics et al nash demand game

acknowledgements
particularly thankful david parkes giving first author unique opportunity spend weeks lab harvard davids openness unparalleled
knowledge really helped originate work would thank kate


ficigler faltings

larson reading draft helping make theoretical analysis much
readable

references
aumann r subjectivity correlation randomized strategies journal
mathematical economics
balan g richards luke long term fairness bounded worst case
losses autonomous agents multi agent systems
bhaskar v egalitarianism efficiency repeated symmetric games games
economic behavior
bonnet f raynal price anonymity optimal consensus despite
asynchrony crash anonymity acm trans auton adapt syst

chothia chatzikokolakis k survey anonymous peer peer filesharing embedded ubiquitous computingeuc workshops pp
springer
cigler l faltings b reaching correlated equilibria multi agent learning th international conference autonomous agents multiagent
systems pp international foundation autonomous agents
multiagent systems
durresi paruchuri v durresi barolli l hierarchical anonymous
communication protocol sensor networks embedded ubiquitous computing
euc pp springer
fudenberg maskin e folk theorem repeated games discounting
incomplete information econometrica
jensen j l sur les fonctions convexes et les inegalites entre les valeurs moyennes
acta mathematica
koutsoupias e papadimitriou c worst case equilibria proceedings
th annual conference theoretical aspects computer science stacs pp
berlin heidelberg springer verlag
kuzmics c palfrey rogers b symmetric players repeated games theory
evidence
leyton brown k shoham essentials game theory concise multidisciplinary introduction morgan claypool san rafael ca
monderer shapley l potential games games economic behavior

norris j r markov chains cambridge series statistical probabilistic
mathematics cambridge university press


fisymmetric subgame perfect equilibria resource allocation

raab steger balls bins simple tight analysis vol
lecture notes computer science chap pp springer berlin heidelberg
berlin heidelberg
rego v naive asymptotics hitting time bounds markov chains acta informatica
richman r recursive binary sequences differences complex systems

rosenthal r w class games possessing pure strategy nash equilibria international journal game theory
shneidman j ng c parkes c auyoung snoeren c vahdat chun b
markets could dont currently solve resource allocation
systems usenix proceedings th usenix workshop hot
topics operating systems p
taussky recurring theorem determinants american mathematical
monthly
wang l wu k hamdi ni l attachment learning multi channel
allocation distributed ofdma networks parallel distributed systems international conference




