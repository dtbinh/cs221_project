Journal Artificial Intelligence Research 49 (2014) 451-500

Submitted 10/13; published 03/14

Text-Based Twitter User Geolocation Prediction
Bo Han

HANB @ STUDENT. UNIMELB . EDU . AU

University Melbourne, VIC 3010, Australia
NICTA Victoria Research Laboratory

Paul Cook

PAULCOOK @ UNIMELB . EDU . AU

University Melbourne, VIC 3010, Australia

Timothy Baldwin

TB @ LDWIN . NET

University Melbourne, VIC 3010, Australia
NICTA Victoria Research Laboratory

Abstract
Geographical location vital geospatial applications local search event detection.
paper, investigate improve task text-based geolocation prediction Twitter
users. Previous studies topic typically assumed geographical references (e.g.,
gazetteer terms, dialectal words) text indicative authors location. However,
references often buried informal, ungrammatical, multilingual data, therefore
non-trivial identify exploit. present integrated geolocation prediction framework
investigate factors impact prediction accuracy. First, evaluate range feature
selection methods obtain location indicative words. evaluate impact nongeotagged tweets, language, user-declared metadata geolocation prediction. addition,
evaluate impact temporal variance model generalisation, discuss users differ
terms geolocatability.
achieve state-of-the-art results text-based Twitter user geolocation task,
provide extensive exploration task date. findings provide valuable insights
design robust, practical text-based geolocation prediction systems.

1. Introduction
growing volume user-generated text posted social media services Twitter, Facebook, Tumblr leveraged many purposes ranging natural disaster response targeted advertising (Tuten, 2008; Nunez-Redo, Daz, Gil, Gonzalez, & Huerta, 2011; Yin, Lampert,
Cameron, Robinson, & Power, 2012). many circumstances important know users location order accomplish tasks effectively. example, disaster response managers must
know direct resources order effectively coordinate aid, advertisers could benefit
tailoring advertisements users location. Similarly, search results localisation hinges
knowledge users location. Although many social media services allow user declare
location, metadata known unstructured ad hoc (Hecht, Hong, Suh, & Chi, 2011)
(e.g., melbo denoting Melbourne, AU 1 ), well oftentimes non-geographical (e.g.,
1. Throughout paper, present city names ISO 3166-1 alpha-2 country-level designators AU =
Australia CA = Canada. US-based city names mentioned context North American
regional dataset used experimentation (NA), use ISO 3166-2:US designator US-CA = California
US-PA = Pennsylvania.
c
2014
AI Access Foundation. rights reserved.

fiH , C OOK & BALDWIN

little bubble). Text-based geolocation automatically predicting users location based
content messages therefore becoming increasing interest (e.g., Cheng, Caverlee, &
Lee, 2010, others). paper investigate improve text-based geolocation prediction
Twitter users. Specifically, exploit tweets profile information given user infer
primary city-level location, claim sufficiently fine-grained support sorts
applications mentioned above.
well established previous work (e.g., Wing & Baldridge, 2011, others), reasonable assume user posts social media reflect geospatial locum, lexical priors
differ region region. example, user London much likely talk Piccadilly tube user New York Beijing. say words uniquely
associated London, course: tube could certainly mentioned user outside UK.
However, use range words high relative frequency strongly indicative
fact user located London. work area utilises geotagged data ground truth
evaluation (e.g., Eisenstein, OConnor, Smith, & Xing, 2010, others). geotagged data
contains GPS coordinates inserted users consent GPS-enabled device smartphone, offers accurate information users position time tweeting. Although
approaches text-based geolocation offering increasingly promising results, studies date
topic limited number important ways. raise key issues Section
3 investigate turn, focusing following issues:
1.1 Location Indicative Words
Text-based geolocation prediction models social media predominantly based full text
data tweets, including common words geospatial dimension (e.g., today), potentially
hampering prediction, large number words observed tweets, leading
slower, memory-intensive models. tackle automatically finding location indicative
words (LIWs) via feature selection, demonstrating reduced feature set boosts geolocation accuracy. Section 5, carry extensive evaluation wide range feature selection
methods proposed literature, show information gain ratio-based approach outperforms benchmark geolocation prediction methods 10.6 percentage points terms accuracy,
reduces median prediction error distance 209km publicly-available regional (North
America) dataset. similarly demonstrate effectiveness LIW selection global dataset
Section 6.
1.2 Non-geotagged Tweets
addition experimenting geotagged data, extend analysis incorporate nongeotagged tweets. recent work (e.g., Roller, Speriosu, Rallapalli, Wing, & Baldridge, 2012)
incorporated non-geotagged training data, although little work analysed contribution
non-geotagged data, i.e., extent incorporating non-geotagged data improves geolocation accuracy. Furthermore, evaluation previous models restricted geotagged data
(in order access ground truth) although goal line research able
infer locations users whose locations known. However, unclear well models
evaluated geotagged data generalise non-geotagged data. example, geotagged tweets sent GPS-enabled devices smartphones, non-geotagged tweets
452

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

sent range devices (including desktop computers), two types data could
different characteristics (Gouws, Metzler, Cai, & Hovy, 2011).
Section 7, address issues training testing geotagged tweets, non-geotagged
tweets, combination two. show exploiting users non-geotagged tweets,
city-level accuracy improved 12.6% 28.0% benchmark dataset, underlining
potential contribution non-geotagged data. Furthermore, numbers suggest
model trained geotagged data indeed generalises non-geotagged data, although sub-domain
differences geotagged data non-geotagged data observed.
1.3 Language Influence
exceptions (e.g., Kinsella, Murdock, & OHare, 2011), text-based geolocation
studies carried English-only setting, primarily English setting.
high-accuracy language identification tools (Lui & Baldwin, 2012; Nakatani, 2010) readily
available, problem: messages target language identified, text-based
geolocation methods applied messages. However, remains seen whether
text-based geolocation approaches shown work well English perform well
languages, perform well multilingual setting. English tweeted throughout
world, whereas languages Indonesian primarily tweeted localised areas. such,
performance methods developed tested English data could different applied languages. investigate language influence multilingual dataset Section
8. results suggest model indeed generalises monolingual English multilingual setting. Furthermore, experiments reveal geolocation prediction much easier
languages geographically-restricted use (e.g., Indonesian) languages
diverse usage (e.g., English). go show composite model consisting
number monolingual geolocation models based language identification outperforms model
trained multilingual data.
1.4 Metadata Ensemble Learning
Although tweet-based geolocation worthy study right, tweets accompanied
rich metadata public user profiles. metadata included payload JSON objects containing tweets, offers complementary information may exploited improve accuracy,
e.g., timezone data user-declared location. work utilising
timezone (Mahmud, Nichols, & Drews, 2012) user-declared location (Hecht et al., 2011) information user geolocation, metadata remains largely untouched literature. Section
9, investigate performance metadata-based geolocation models compare
benchmark methods. show incorporating information metadata tweet message stacking-based approach, city-level accuracy 49.1%, median prediction error
distance 9km, achieved global dataset, substantial improvement
base classifiers.
1.5 Temporal Influence
Twitter growing evolving medium, data Twitter streams tends locally temporal time posting. addition evaluating geolocation model old
453

fiH , C OOK & BALDWIN

time-homogeneous data (sampled time period training data), Section 10
evaluate trained model new time-heterogeneous dataset, collected approximately one year training test data used earlier experiments. observed
moderate decline results indicates stacked geolocation model indeed influenced
temporal changes. Error analysis reveals primarily caused unreliability
base model trained user-declared locations. contrast, find models trained tweet
text timezone information relatively insensitive temporal changes. finding
one hand justifies efforts to-date pursuing better text-based geolocation prediction,
hand suggests user-declared location data used, model periodically
updated remain current temporal changes.
1.6 User Geolocatability Prediction Confidence
discuss geolocatability users regard tweeting behaviour Section 11.
instance, mentioning many local place names strong influence prediction
accuracy? Experiments suggest number LIWs (in particular, gazetted location names)
user-declared metadata key geolocating user. different tweeting behaviours
among users, users equally geolocatable, predictions proportion
reliable. conduct pilot study approximating prediction confidence
range variables Section 12.
paper advances state-of-the-art text-based geolocation prediction number
directions, provides practical guidelines design text-based geolocation application.
paper builds previously-published work (Han, Cook, & Baldwin, 2012b, 2013)
much extensive evaluation, new work following areas:
large-scale comparative evaluation twelve feature selection methods user geolocation
nine considered earlier work Sections 46.
analysis impact training non-geotagged data Section 7.
new set experiments, subsequent analysis, examining influence language
Section 8.
analysis utility user-supplied metadata ensemble learning Section 9.
More-detailed analysis model generalisation temporal change Section 10 including
city-level meta-analysis.
new pilot study user geolocatablility privacy Section 11.
proposed text-based method primarily uses words geolocation prediction, intentionally excludes Twitter specific entities, hashtags user mentions. prediction accuracy
therefore largely depends whether text contains sufficient geospatial information geolocation prediction. Therefore, although paper focuses exclusively Twitter, proposed method
could equally applied forms social media text, Facebook status updates
user-submitted comments (to services YouTube).
454

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

2. Related Work
acknowledging potential privacy concerns (Mao, Shuai, & Kapadia, 2011; Pontes, Vasconcelos, Almeida, Kumaraguru, & Almeida, 2012), accurate geolocation prediction key driver
location-specific services localised search, target research across
different disciplines. example, tagging user queries (Wang, Wang, Xie, Forman,
Lu, Ma, & Li, 2005; Backstrom, Kleinberg, Kumar, & Novak, 2008; Yi, Raghavan, & Leggetter,
2009) web pages (Ding, Gravano, & Shivakumar, 2000; Amitay, HarEl, Sivan, & Soffer, 2004;
Zong, Wu, Sun, Lim, & Goh, 2005; Silva, Martins, Chaves, Afonso, & Cardoso, 2006; Bennett,
Radlinski, White, & Yilmaz, 2011) considered information retrieval. geographical
information science, primary focus recognising location mentions text (Leidner
& Lieberman, 2011), named entity recognition tools typically employed detect extract
mentions (Quercini, Samet, Sankaranarayanan, & Lieberman, 2010; Gelernter & Mushegian,
2011). Within social media realm, geolocation methods applied images Flickr
(Crandall, Backstrom, Huttenlocher, & Kleinberg, 2009; Serdyukov, Murdock, & van Zwol, 2009;
Hauff & Houben, 2012; OHare & Murdock, 2013; Laere, Schockaert, & Dhoedt, 2013), Wikipedia
articles (Lieberman & Lin, 2009), individual tweets (Kinsella et al., 2011), Twitter users (Eisenstein
et al., 2010; Cheng et al., 2010; Kinsella et al., 2011; Wing & Baldridge, 2011; Roller et al., 2012;
Han et al., 2012b), identifying words topics Twitter salient particular
regions (Eisenstein et al., 2010; Yin, Cao, Han, Zhai, & Huang, 2011; Hong, Ahmed, Gurumurthy,
Smola, & Tsioutsiouliklis, 2012; Dalvi, Kumar, & Pang, 2012).
Identifying Twitter users locations non-trivial, mainly due unavailability reliable
geographic information. Although Twitter allows users declare location user profile,
location descriptions unstructured ad hoc (Cheng et al., 2010; Hecht et al., 2011), e.g.,
people use vernacular expressions philly, non-standard spellings Filladephia,
refer Philadelphia; non-geographical descriptions heart commonly found.
Without appropriate processing, value location fields greatly limited. Hecht et al.
(2011) demonstrate trivially using location fields off-the-shelf geolocation tools ineffective. Alternatively, tweets sent mobile devices geotagged accurate GPS
coordinates, however, proportion geotagged tweets estimated mere 1% (Cheng
et al., 2010), location vast majority users geotagged. Methods based
IP addresses (Buyukokkten, Cho, Garcia-Molina, Gravano, & Shivakumar, 1999) applied
task, general web contexts shown achieve around 90% accuracy mapping
Internet hosts locations (Padmanabhan & Subramanian, 2001). methods applicable Twitter many social media services, however, IP address device
message sent cannot accessed via public APIs. Doubtless Twitter
access information use user geolocation, although even here, geographical divisions IP addresses always credible. instance, departments international
corporation might use IP address range, true locations could spread across
world. VPNs complication approaches. third-party service provider making
use Twitter data, however, look sources geospatially-identifying information,
including text content users posts metadata information, targeted research.
spatial data mining community, geographical references (e.g., gazetteer terms) text
exploited infer geolocation. Intuitively, place frequently mentioned user
tweets, likely tweeting region. Methods building intuition range
455

fiH , C OOK & BALDWIN

naive gazetteer matching rule-based approaches (Bilhaut, Charnois, Enjalbert, & Mathet, 2003),
machine learning-based methods (primarily based named entity recognition: Quercini et al.,
2010; Gelernter & Mushegian, 2011). Despite encouraging results approach longer
homogeneous documents sets (Quercini et al., 2010), performance impeded
nature tweets: short informal, chances user mentioning gazetted
places tweets high. Moreover, handling vernacular place names, e.g., melbo
Melbourne, approach limited. reliance named entity recognition thwarted
unedited nature social media data, spelling capitalisation much ad hoc
edited document collections (Ritter, Clark, Mausam, & Etzioni, 2011; Han, Cook, & Baldwin,
2012a).
Moving beyond off-the-shelf solutions, recently, many robust machine learning methods
applied geolocation, primary approach estimate locations based
textual content tweets. instance, Cheng et al. (2010) exploit words known primarily used particular regions, along smoothing techniques, improve simple generative
geolocation model applied data continental United States. Wing Baldridge
(2011) divide worlds surface uniform-size grid, compare distribution words
given users tweets grid cell using Kullback-Leibler (KL) divergence identify
users likely location. One limitation approach grid cells rural areas tend
contain tweets, many tweets urban grid cells. Roller et al.
(2012) therefore extend method use adaptive grid representation cells contain
approximately amount data, based k-d tree (Bentley, 1975). Kinsella et al. (2011)
examine geolocation prediction different granularities (e.g., zip codes, city, state country).
Chang, Lee, M., Lee (2012) prune noisy data based geometrically-local words (i.e., words
occur geographically close other, found limited number cities)
non-stop words dis-similar stop words, experiment reduced feature set
using Gaussian mixture model Maximum Likelihood Estimation location prediction.
Beyond purely text-based methods (language model-based methods), sources information
integrated. Li, Serdyukov, de Vries, Eickhoff, Larson (2011) investigate geolocation prediction based linear rank combination text temporal factors. Mahmud et al.
(2012) combine timezone information content-based classifiers hierarchical model geolocation. particular, nouns, hashtags, place names considered content method.
Schulz, Hadjakos, Paulheim, Nachtwey, Muhlhauser (2013) combine scores various geographical sources (e.g., tweet text, user profile data). sum scores location represented
aggregated height polygon-partitioned map, highest polygon predicted
location.
Topics discussed Twitter vary across geographical regions. Intuitively, instance, Americans likely talk NBA baseball Australians (who probably mention AFL
rugby often). capture regional topic variations Twitter, topic modelling-based
approaches used incorporate geographical regions generative process.
instance, Eisenstein et al. (2010) introduce geographical variable (r); instead generating observed word w per-word topic distribution z standard Latent Dirichlet Allocation
(LDA) model (Blei, Ng, & Jordan, 2003), proposed approach refines step additionally
modeling topic distributions across different geographical regions, i.e., w generated
per-word region-topic distribution rz . Therefore, observed user locations generated
geographical regions region variable topic modeling linked user geographical
456

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

locations. Generally, users location predicted regional level adopting location
centroid geotagged tweets region. Hong et al. (2012) improve approach
considering fine-grained factors additive generative model. addition introducing
per-region topic variance, incorporate per-user topic variance, regional language model,
global background topics. compensate computational complexity associated
extra hidden variables, adopt sparse modeling inference. top geolocation prediction tasks, many research problems involve modelling geographical locations.
Dalvi et al. (2012) exploit impact geographical locations users discussions pre-defined
objects (e.g., restaurants) tweets. Yin et al. (2011) propose ways discover compare topics
geographical regions jointly modelling locations text. Despite benefits incorporating per-region topic variance models, concerns prevent us using topic modeling
approaches study. First, temporal currency geographical topics limited, e.g.,
Olympics playoffs. temporally-specific topics less indicative location future inference, e.g., geolocating users model trained. Furthermore, topic modelling
generally computationally expensive, suffers efficiency problems applied large volumes data, available social media. Therefore experiment language
model-based methods better suited large-scale data.
Social network information, including explicit friendship relations (Backstrom, Sun, &
Marlow, 2010; Sadilek, Kautz, & Bigham, 2012; Rout, Bontcheva, Preotiuc-Pietro, & Cohn, 2013)
implicit social interactions (Chandra, Khan, & Muhaya, 2011; Jurgens, 2013), shown
effective predicting locations. City-level prediction results range approximately 50
80% (Rout et al., 2013) depending wide range factors including user density social
network precise scope geolocation prediction task. However, social networks
dynamic, information often difficult obtain text data large scale.
instance, obtaining social network information requires multiple requests rate-limited Twitter
API reconstruct full social graph. therefore focus approaches based text,
metadata accompanies individual tweet, leave possibility integrating social
network information future work.

3. Key Questions Geolocation Prediction Framework
Though various geolocation prediction approaches proposed adapted social media
data, fundamental questions remain. rest paper, address
questions turn.
Given text-based methods rely salient words local particular regions disambiguate
geolocations, location indicative words improve accuracy using full word
set?
model trained geotagged data generalise non-geotagged data? impact
adding non-geotagged texts training test data? inherent sub-domain
difference geotagged non-geotagged tweets given geotagged tweets primarily sent mobile devices?
geolocation prediction accuracy vary language? example, user primarily
tweets Japanese geolocatable user tweets mostly English? language
457

fiH , C OOK & BALDWIN

influence accuracy, exploit improve multilingual geolocation prediction?
user-declared text metadata provide geographical information complementary
tweets themselves? make use multiple sources textual data
produce accurate geolocation predictor?
Twitter rapidly growing evolving, temporal factors influence model
generalisation? model trained old data perform comparably new test data?
perspective privacy protection, users tweeting behaviour affect
geolocatability, i.e., ability model predict location? steps user
take reduce risk inadvertently leaking geographical information sharing
tweets public?
measures prediction confidence formulated estimate accuracy geolocation prediction?
paper, focus predicting Twitter users primary (referred home) geolocation, following Cheng et al. (2010) others, assume given user based
single city-based location throughout time period study. approach geolocation prediction
text classification task. Tweets city taken represent class. tweets
given user aggregated assigned users primary location. characterise geolocation prediction four key components, discuss turn below: (1) representation
different geolocations, (2) model, (3) feature set, (4) data.
3.1 Representation: Earth Grid vs. City
Geolocations captured points, clustered based grid (Wing & Baldridge, 2011;
Roller et al., 2012), city centres (Cheng et al., 2010; Kinsella et al., 2011) topic regions (Eisenstein et al., 2010; Hong et al., 2012). point-based representation presents computational challenges, fine-grained standard classification methods. dynamic location partitioning, granularity regions hard control potentially vary across time,
number regions variable depend dataset potentially vary across
time. Fixed grid-based representations hindered considerable variability
shape size geographical regions: coarse-grained grid cell perhaps appropriate central
Siberia, densely-populated linguistically/culturally diverse regions Luxembourg,
doesnt lead natural representation administrative, population-based language boundaries region. therefore opt city-based representation, able capture
boundaries intuitively. downside representation inappropriate classifying users rural areas. see Figure 1, however, bulk Twitter users are,
unsurprisingly, based cities.
Following Han et al. (2012b), use publicly-available Geonames dataset basis
city-level classes.2 dataset contains city-level metadata, including full city name, population, latitude longitude. city associated hierarchical regional information,
state country based in, London, GB, e.g., distinguished London, CA.
2. http://www.geonames.org, accessed October 25th, 2012.

458

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

hence use city-region-country format represent city (e.g., Toronto, CA represented
toronto-08-ca, 08 signifies province Ontario ca signifies Canada).3
region coding schemes vary across countries, employ first- second-level region
fields Geonames region. Furthermore, second-level field specific (i.e., longer
4 letters setting), incorporate first-level region field (e.g., instead using
melbourne-07-24600-au, use melbourne-07-au). Moreover, cities sometimes
complex structure (e.g., Boston, US colloquially refers metropolitan area rather
city, made cities including Boston, Revere Chelsea), collapse together cities
adjacent one another within single administrative region, follows:
1. Identify cities share region code (i.e., located state,
province, county, etc.) Geonames dataset.
2. region, find city c highest population.
3. Collapse cities within 50km c c.4
4. Select next-largest city c, repeat.
5. Remove cities population less 100K. remaining cities form citybased representation geolocations.
result methodology, Boston, US ends single city (incorporating Revere
Chelsea), neighbouring Manchester, US discrete city (incorporating Bedford)
New Hampshire. algorithm identifies total 3,709 collapsed cities throughout world.
3.2 Geolocation Prediction Models
Various machine learning algorithms applied task multi-class text categorisation.
However, many state-of-the-art learning algorithms appropriate particular task
reasons scalability. example, support vector machines (Vapnik, 1995) well suited
massively multi-class problems (i.e., 3,709 cities case). Finally, would ideally
learning algorithm easily retrained, e.g., incorporate new training data
Twitter data stream. such, primarily experiment simple learning algorithms
ensemble learning geolocation prediction.
3.2.1 G ENERATIVE VS . ISCRIMINATIVE ODELS
Generative models (e.g., naive Bayes) based estimation joint probability observing
word vector class (i.e., P (w1 , w2 , . . . , wn , ci ), w1 , w2 , . . . words ci C
city combined set cities C). contrast, discriminative models based estimation
class given word vector (i.e., P (c|w1 , w2 , . . . , wn )). objective models find
3. Country code information found http://download.geonames.org/export/dump/countryInfo.txt
4. use great-circle distance (Vincenty, 1975) distance calculations experiments, opposed
Euclidean distance, properly capture three-dimensional surface earth. proximity cities varies
across world, e.g., cities east coast United States much closer major cities
Australia. therefore scope explore impact 50km setting city label set, leave
future work.

459

fiH , C OOK & BALDWIN

city cmax C relevant probability maximised. experiments, experiment
models. instance, choose state-of-the-art discriminative geolocation model based
KL divergence k-d tree partitioned unigrams (KL) (Roller et al., 2012). adopt
generative multinomial naive Bayes (NB) model (Hecht et al., 2011) default benchmark,
two reasons: (1) incorporates class prior, allowing classify instance absence
features shared training data; (2) generative models outperform discriminative models
training data relatively scarce (Ng & Jordan, 2002).5
3.2.2 INGLE VS . E NSEMBLE ODELS
addition single model comparisons (e.g., discriminative KL vs. generative NB Sections 5
6), combine multiple base classifiers e.g., heterogeneous NB models trained
Twitter text user metadata improve accuracy. First, investigate
accuracies base classifiers correlations them. Then, apply different ensemble
learning strategies Section 9.
3.3 Feature Set
Predominantly, geolocations inferred based geographical references text, e.g., place
names, local topics dialectal words. However, references often buried noisy tweet
text, lexical variants (e.g., tmrw tomorrow) common words without geospatial dimension (e.g., weather, twitter) prevalent. noisy words potential mislead
model slow processing speed. tackle issue, perform feature selection identify location indicative words. Rather engineering new features attempting
capture named entities (e.g., White House) higher-order n-grams, focus feature selection simple word unigrams (see Section 4). partly pragmatic consideration,
unigram tokenisation simpler.6 Partly, however, comparability past work, determining whether strategically-selected subset words lead significant gains prediction
accuracy (see Sections 5 6).
addition feature selection, feature set refined extended various
ways. instance, feature selection enhanced incorporating non-geotagged tweet data.
Furthermore, languages used shape feature set, words different languages
carry varying amounts geospatial information, e.g., Dutch primarily used
Netherlands, Dutch words usually location indicative English words. Moreover, userprovided metadata (e.g., location timezone) readily accessible tweet JSON objects.
metadata appended extra text features, addition features derived tweet text.
investigate impact factors later sections.

5. certainly abundance Twitter data train models over, number Twitter users sufficient amounts geotagged tweets able perform geolocation prediction small, relative number
parameters model (the product number features classes).
6. Also, preliminary results named entities higher order n-grams disappointing.

460

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Proportion tweets
(relative preceding step)

Filtering criterion
Geotagged
Near city
Non-duplicate non-Foursquare
English

0.008
0.921
0.888
0.513

Table 1: Proportion tweets remaining filtering data based series cascaded criteria.
numbers based Twitter corpus collected two months.

3.4 Data
Geolocation prediction models primarily trained tested geotagged data.7 use
regional datasets (i.e., geotagged tweets collected continental US: Eisenstein et al.,
2010; Mahmud et al., 2012) global datasets (Kinsella et al., 2011; Han et al., 2012b)
research. accessibility issues (e.g., many tweets older datasets deleted
thus accessible now) data sparseness (e.g., 10K users study
Eisenstein et al., 2010), able experiment small number public datasets.
paper, employ three geotagged datasets:
1. regional North American geolocation dataset Roller et al. (2012) (NA hereafter),
benchmarking purposes. NA contains 500K users (38M tweets) total 378
pre-defined cities. NA used as-is ensure comparability previous work Section 5.
2. dataset global coverage constructed us earlier work (Han et al., 2012b) (WORLD
hereafter), collected via Twitter public Streaming API8 21 Sep, 2011 29 Feb,
2012. tweet collection shaped different evaluation tasks, e.g., geotagged
English data WORLD Section 6, incorporating non-geotagged English data WORLD+NG
Section 7, multilingual geotagged data WORLD+ML Section 8 rich metadata
WORLD+META Section 9.
3. second dataset global coverage novel research (LIVE), contains tweets
collected 1 year WORLD (from 3 Mar, 2013 3 May, 2013), analyse
influence temporal recency geolocation prediction. Unlike two datasets, LIVE
used test dataset, Section 10.
WORLD restricted English tweets order create dataset similar NA (in
English predominant language), covering entire world. pre-processed filtering data follows. First, non-geotagged tweets removed. Next, eliminated
tweets arent close city dividing earth 0.5 0.5 grid cells, discarding
tweet city Geonames class set found 8 neighbouring grid
cells. assign user single city majority tweets occur.
7. One exception Cheng et al. (2010), train users whose user-declared metadata location fields correspond canonical locations (e.g., Boston, MA), test users whose locations indicated GPS coordinates
metadata.
8. https://dev.twitter.com/docs/streaming-apis

461

fiCumulative distribution tweets

H , C OOK & BALDWIN

0.9

0.8

0.7

5%

15% 25% 35% 45% 55% 65% 75% 85% 95%
Top N% cities

1

1

number users
10 100 1000

number users
100
10000

Figure 1: Cumulative coverage tweets increasing numbers cities based 26 million geotagged tweets.

1

10
100
1000
10000
Number geotagged tweets

1
5
50
500
5000
Mean distance city centre (kilometres)

Figure 2: number users different numbers tweets, different mean distances
city center, WORLD.

remove cities fewer 50 feature types (i.e., word types) reduce data sparsity.
results 3135 cities WORLD (as opposed 3709 cities full Geonames class set).
eliminated exact duplicate tweets Foursquare check-ins (which encode user location
form Im . . . ). that, non-English tweets removed using langid.py,
open-source language identification tool (Lui & Baldwin, 2012). filtering summarised
Table 1 shows proportion tweets remaining step. total number
users tweets WORLD 1.4M 12M, respectively. Similar NA, development
test datasets contain 10K users, remainder users used training. development test data sampled user least 10 geotagged tweets alleviate
data sparsity.9 tokenised tweets Twitter-specific tokeniser (adapted OConnor,
Krieger, & Ahn, 2010).
Although certainly instances social media users high mobility (Li, Wang, &
Chang, 2012), recent studies shown users tend tweet within limited region
(Cho, Myers, & Leskovec, 2011; Hecht et al., 2011). analyse spread WORLD
9. restriction applied training data.

462

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Figure 2, terms of: (1) number users least 10 geotagged tweets; (2) number
users differing levels geographical spread tweets, measured average distance
users tweets centre city user allocated.10
preliminary analysis shows users relatively small number geotagged tweets,
users stay near single city (e.g., 83% users geographical spread 50 kilometres
less). high proportion users average distance 1km city centre artefact
geotagged tweets mapped city centre performing analysis. order
investigate coverage proposed city-based partition, examine recall original
sample 26 million geotagged tweets (prior filtering, described above). analysis reveals
92.1% tweets close (in neighbouring 0.5 0.5 grid cell) one pre-defined
cities, top 40% cities contain 90% geotagged tweets filtering, shown
Figure 1. supports assumption (geotagged) Twitter users based cities.
3.5 Evaluation Measures
formulated geolocation prediction task discrete class space use
city class set, possible use simple classification accuracy evaluate models. However,
given class labels location (in form latitudelongitude coordinates),
sensitise evaluation distance-based predictive error. instance, correct
location user Seattle, US, prediction Portland, US arguably better prediction
Los Angeles, US, basis geospatial proximity. use number evaluation measures
capture spatial proximity, line previous work (Wing & Baldridge, 2011; Roller et al.,
2012):11
1. Acc: city-level accuracy, i.e., proportion predictions correspond correct city;
2. Acc@161: proportion predictions within distance 161 kilometres (100
miles) correct city-level location. empirical measure (Cheng et al., 2010)
relaxed version Acc, capturing near-miss predictions.
3. Acc@C: country-level accuracy, i.e., proportion predicted locations
country corresponding true locations. measure useful applications relying
country-specific Twitter data, e.g., sentiment analysis specific countries.
4. Median: median prediction error, measured kilometres predicted city centres
true geolocations. prefer use median, opposed mean, distance
median less sensitive wildly incorrect predictions e.g., user London, GB
classified based Sydney, AU. contrast, mean distance increase substantially due small number extreme misclassifications, although effect limited
inherently-bounded regional datasets NA.
10. geographical spread calculated random sub-sample 10 tweets given user, efficiency reasons.
11. recent work, Priedhorsky, Culotta, Valle (2014) additionally proposed set probabilistic metrics
evaluate tweet-based geolocation prediction, including using expected distance tweets true point
location random point location drawn probability distribution geolocation model.
strongly support new direction geolocation modelling evaluation, depending application context,
argue point- region-based representations related discrete evaluation measures equally important
user geolocation research.

463

fiH , C OOK & BALDWIN

4. Finding Location Indicative Words
Precise user locations individual messages embedded geotagged tweets form
latitudelongitude coordinates. mapping coordinates cities representing tweet
bag words, able make connections words (i.e., features) cities (i.e.,
classes). section, present range methods ranking words location
indicativeness, i.e., degree word associated particular cities. Words either
explicitly (e.g., place names) implicitly (e.g., dialectal words, slang local references) encode
geographical information collectively referred location indicative words (LIWs);
words aim automatically identify. Examples LIWs are:
1. local words (1-local) used primarily single city, namely yinz (used Pittsburgh
refer second-person plural pronoun), dippy (used Pittsburgh refer style fried
egg, something dipped coffee) hoagie (used primarily Philadelphia,
refer kind sandwich);12
2. semi-local words (n-local) refer feature relatively limited subset cities,
namely ferry (found, e.g., Seattle, New York Sydney), Chinatown (common many
largest cities US, Canada Australia, much less common European
Asian cities), tram (found, e.g., Vienna, Melbourne Prague)
addition LIWs common words (common) arent expected substantial
regional frequency variation, namely twitter, iphone today.
remainder section, present various feature selection methods identifying
LIWs, drawn work Han et al. (2012b), Chang et al. (2012) Laere et al. (2013).
feature selection methods broadly categorised three types: (1) statistical; (2) informationtheoretic; (3) heuristic. reduce low-utility words noise, feature selection methods,
remove words include non-alphabetic letters, less 3 letters long,
word frequency < 10.
4.1 Statistical-Based Methods
Statistical hypothesis testing often used determine whether event occurs chance (i.e.,
null hypothesis) (i.e., alternative hypothesis) particular confidence level (e.g., 95%
p < 0.05). case, event defined co-occurrence word city,
null hypothesis assumes co-occurrence chance, i.e., word city independent.
goal feature selection find wordcity pairs null hypothesis rejected.
4.1.1 2



L OG -L IKELIHOOD

2 statistic commonly used examine degree independence random variables. contingency table representing observations variables formed, Table 2.
general form statistic is:
n

(Oi Ei )2


Ei

12. words identified aid datasets regional words DARE: http://dare.wisc.edu/.

464

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

c
Ow,c
Ow,c

w
non-w word

c
Ow,c
Ow,c

Table 2: Contingency table word city co-occurrence
Oi represents observation (i.e., co-occurrence city (c) word (w)), n
number cells table. Ow,c Ow,c denote occurrence word w city c non-w
words cities c, respectively. Ew,c denotes expected frequency w c, calculated
marginal probabilities total counts N :
Ow,c + Ow,c Ow,c + Ow,c

N
N
N
= Ow,c + Ow,c + Ow,c + Ow,c

Ew,c = P (w) P (c) N =
N

2 statistic larger number 2 distribution, respect degrees
freedom (in case, 1), null hypothesis city c word w independent rejected.
many statistical tests, 2 ineffective counts low. address
word frequency thresholding use massive amounts training data.
Conventionally, 2 used identify set features satisfies pre-defined confidence
level (e.g., p < 0.05). However, case LIW selection, instead use 2 statistic rank
wordcity pairs. selection LIWs deferred parameter tuning state,
boundary LIWs common words optimised using development data.
point, different ranking LIWs produced per city, desire global
ranking LIWs capturing ability discriminate cities combined label set.
various ways aggregation. suggested Laere et al. (2013), one approach
selecting n features based 2 iteratively aggregate top-m features city
n features obtained. Alternatively, ranked based highest-scoring occurrence
given word city, first sorting cityword 2 test pairs, selecting first
occurrence word type aggregated ranking. two aggregation approaches produce
different feature selection rankings, distinguished using Chi MaxChi , respectively.13
Similar 2 test, log-likelihood ratio (Loglike: Dunning, 1993) applied
LIW selection (Laere et al., 2013). Loglike test determines whether h0 (the null hypothesis,
i.e., word independent city) likely h1 (the alternative hypothesis, i.e.,
word dependent city). Following Dunning, likelihood hypothesis, L(), estimated
using binomial distributions.
( )
( )
k1
k2
n1 k1 n1
n2 k2 n2
L(h1 ) = p1 (1 p1 )
p (1 p2 )
k1 2
k2
p1 = P (w|c) =

Ow,c
k1
=
n1
Ow,c + Ow,c

13. One possible alternative computing 2 word city, aggregating values final
ranking words, would compute single 2 value word contingency table 2 rows
Table 2, one column per city. Nevertheless, standard use 2 feature selection,
leave possibility future work.

465

fiH , C OOK & BALDWIN

Ow,c
k2
=
n2
Ow,c + Ow,c
k1 (k2 ) represents occurrences word w city c (not city c), n1 (n2 ) represents word
occurrences city c (not city c). L(h0 ) special case L(h1 ) p1 p2 equal,
below:
p2 = P (w|c) =

Ow,c + Ow,c
N
Loglike test statistic expanded using observations:
p1 = p2 = p =

Loglike(w) = 2[Ow,c log Ow,c + Ow,c log Ow,c + Ow,c log Ow,c + Ow,c log Ow,c + N log N
(Ow,c + Ow,c ) log(Ow,c + Ow,c ) (Ow,c + Ow,c ) log(Ow,c + Ow,c )
(Ow,c + Ow,c ) log(Ow,c + Ow,c ) (Ow,c + Ow,c ) log(Ow,c + Ow,c )]
calculated Loglike wordcity pair, aggregate across cities similarly
Chi (by selecting top-m features per city n features obtained), following Laere et al.
(2013).14
4.1.2 R IPLEY K TATISTIC
Spatial information incorporated hypothesis testing. example, Ripley K
function (Ripley: OSullivan & Unwin, 2010) measures whether given set points generated
homogeneous Poisson distribution. test statistic calculates number point pairs
within given distance square total number points. regards LIW
selection, set points (Qw ) subset geotagged users using particular word w. test
statistic formulated follows (Laere, Quinn, Schockaert, & Dhoedt, 2014):
K() =

|{p, q Qw : distance(p, q) }|
|Qw |2

represents total area consideration (e.g., whole North America,
whole globe); dropped generating ranking.
larger value K() indicates greater geographical compactness set Qw (i.e., p q
spatially close). However, |Qw | (i.e., number users use word w) varies considerably
across words, dominate overall statistic. number variations proposed
alleviate effect, including replacing denominator factor based L1, taking
logarithm overall value (Laere et al., 2014). quadratic computational complexity
Ripley becomes issue |Qw | large (i.e., common words). Randomised methods
usually adopted tackle issue, e.g., subsampling points training data Ripley calculation relative different distances . experiments, adopt optimised implementation
Laere et al. using = 100km 5K samples.
4.2 Information Theory-Based Methods
addition statistical methods, experiment information-theoretic feature selection
methods based measures shown effective text classification tasks, e.g.,
Information Gain (IG) (Yang & Pedersen, 1997).
14. Note that, see later experiments, almost empirical difference two
aggregation methods 2 , choice aggregation method largely arbitrary.

466

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

4.2.1 NFORMATION G G R ATIO
Information Gain (IG) measures decrease class entropy word brings about, higher
values indicate greater predictability basis feature. Given set words w, IG
word w w across cities (c) calculated follows:
IG(w) = H(c) H(c|w)
H(c|w)


P (w)
P (c|w)logP (c|w) + P (w)
P (c|w)logP (c|w)
cc

cc

P (w) P (w) represent probabilities presence absence word w, respectively. H(c) words, H(c|w) conditional entropy given w
needs calculated rank features.
Words carry varying amounts intrinsic entropy, defined as:
IV (w) = P (w)logP (w) P (w)logP (w)
Local words occurring small number cities often low intrinsic entropy, nonlocal common words high intrinsic entropy (akin inverse city frequency; see Section 4.3.1).
words comparable IG values, words smaller intrinsic entropies preferred.
Therefore, following Quinlan (1993) normalise IG(w) using intrinsic entropy
word w, IV (w), culminating information gain ratio (IGR):
IGR(w) =

IG(w)
IV (w)

4.2.2 L OGISTIC R EGRESSION -BASED F EATURE W EIGHTS
previous two information-theoretic feature selection methods (IG IGR) optimise across
classes simultaneously. Given LIWs may strongly associated certain locations,
less tied locations, conduct per-class feature selection based logistic
regression (LR) modelling.15 consider method information theoretic
maximisation entropy cases uncertainty training data.
Given collection cities c, LR model calculates probability user (e.g., represented
word sequence: w1 , w2 , . . . , wn ) assigned city c c linearly combining eligible LR
feature weights:
P (c|w1 , w2 , . . . , wn ) =



1
exp(
k fk )
Z
k=1

Z normalisation factor, total number features, fk k features
feature weights, respectively. discriminative models, possible incorporate
arbitrary features LR, however, feature (function) task canonically defined word
wi city c: w occurs set messages users class c, feature fk (wi , c)
15. logistic regression modeller, use toolkit Zhang Le (https://github.com/lzhang10/maxent),
30 iterations L-BFGS (Nocedal, 1980) training data.

467

fiH , C OOK & BALDWIN

denoted [class = c wi c]. fk maps feature weight denoted k R. method
results per-city word ranking words ranked decreasing order k ,
derive combined feature ranking manner MaxChi , following Han et al. (2012b).16
Notably, incorporating regularisation factor balances model fitness complexity, could
potentially achieve better results. dont explicitly perform regularisation modelling stage.
Instead, first obtain feature list ranked LR feature selection methods
evaluate subset top-n ranked features development data. fact equivalent
filter-based regularisation (cf. filter-based feature selection: Guyon & Elisseeff, 2003),
leave experimentation regularisation integrated models future work.
4.2.3 ISTRIBUTION IFFERENCE
LIW selection likened finding words maximally dissimilar stop words (Chang
et al., 2012). Stop words today widely used across many cities, thus exhibit
relatively flat distribution. contrast, LIWs predominantly used particular areas,
skewed distribution. capture intuition, LIW selection based
distribution difference across cities stop words potential LIW candidates (i.e.,
non-stop words). Given pre-defined set stop words S, distribution difference calculated
as:
DistDi (wns ) =



Di (wns , ws )

ws

Count(ws )
Count(S)

Count(ws ) Count(S) denote number occurrences stop word ws total
number occurrences stop words, respectively. difference (i.e., Di (wns , ws ))
stop word ws non-stop word wns evaluated various ways, e.g., symmetric KLdivergence (DistDiskl ), total variance (DistDitv ) absolute probability difference across
cities c (Chang et al., 2012):
Diskl (wns , ws ) =



P (c|wns ) log

cc

Ditv (wns , ws ) =



P (c|ws )
P (c|wns )
+ P (c|ws ) log
P (c|ws )
P (c|wns )

|P (c|wns ) P (c|ws )|

cc

P (c|wns ) P (c|ws ) denote probability word occurring city per-word
city distribution wns ws , respectively. non-stop words sorted distribution
difference decreasing order. experiments, use implementation Chang et al..
4.3 Heuristic-Based Methods
commonly-used feature selection methods, number heuristics used select
LIWs.
4.3.1 ECOUPLING C ITY F REQUENCY W ORD F REQUENCY
High-utility LIWs following properties:
16. LogLike, choice aggregation method largely arbitrary, based empirical results 2 .

468

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

1. High Term Frequency (TF ): reasonable expectation observing
users tweets city.
2. High Inverse City Frequency (ICF ): word occur tweets associated relatively small number cities.
calculate ICF word w simply as:
icf w =

|c|
cf w

c set cities cf w number cities users use w training data.
Combining two together, seeking words high TF -ICF , analogous seeking words
high TF -IDF values information retrieval. standard TF -IDF formulations, multiply
TF IDF . simple product TF ICF tends dominated TF component,
however: example, twitter scores highly Jakarta, twitter high TF .
resolve decoupling two factors applying radix sort ranking: first rank features
ICF TF , decreasing order. approach largely based inverse city
frequency, denote ICF below.
4.3.2 G EOGRAPHICAL PREAD ENSITY
LIWs peaky geographical distributions (Cheng et al., 2010). section, discuss two
heuristic measures LIW selection based geographical distribution word.
Geographical spread (GeoSpread : Laere et al., 2013) estimates flatness words distribution cities. First, earth divided 1 latitude 1 longitude cells. word
w, cells w occurs stored. Then, neighbouring cells containing w merged
multi-pass scanning cells merged. number cells containing w
merging stored. Finally, GeoSpread score word w calculated follows:
GeoSpread (w) =

# cells containing w merging
Max (w)

Max (w) represents maximum frequency w original unmerged cells.
Smaller values indicate greater location indicativeness. measure originally used rank
Flickr tags locality, e.g., London location-indicative beautiful. ignores influence stop words, common Flickr tags. However, stop words
frequent Twitter, occur many locations, making numerator small denominator
large. Furthermore, stop word frequencies cells usually high. Consequently, similarly small GeoSpread London, undesirable. words, GeoSpread flawed
able distinguish stop words local words, although effective ranking
less common words (e.g., London vs. beautiful).
Geographical density (GeoDen: Chang et al., 2012) strategically selects peaky words occurring
dense areas. Given subset cities c c word w w used, GeoDen calculated
469

fiH , C OOK & BALDWIN

as:




cc

GeoDen(w) =
|c |2
|c |

cj ,ck c j=k dist(cj ,ck )
|c |(|c |1)





=

P (c|w)

cc

P (c|w)

cj ,ck c j=k dist(cj ,ck )
|c |1

dist(cj , ck ) great-circle distance cities cj ck . Similarly, P (c|w) denotes
distribution word w across city c c . denominator made square
number cities |c | w occurs (which similar effect ICF above),
average distance cities w used. LIWs generally skewed geographical
distribution small number locations, meaning denominator small numerator
large. issue measure computational complexity common words occur
many cities. Furthermore, cities containing small number occurrences w
incorporated, avoid systematic noise, e.g., travellers posting trip. One approach
counter issues set minimum P (c|w) threshold cities, perform randomised
sampling c . paper, follow Chang et al. constructing final c : first, cities
containing w ranked P (c|w) decreasing order, c formed adding cities according
rank, stopping sum P (c|w) exceeds pre-defined threshold r. choose r = 0.1
experiments, based findings Chang et al..

5. Benchmarking Experiments NA
section, compare discuss proposed feature selection methods. particular,
investigate whether using LIWs geolocation prediction better using full
set features, various configurations models location partitions Section 5.2.
subsequent experiments section exclusively based public NA dataset. adopt
user partitions training, dev test used original paper (Roller et al., 2012).
primarily use city-based class representation experiments NA, additionally
present results using original k-d tree partitions learned Roller et al. Section 5.2, direct
comparability published results. distance-based evaluation measures (Acc@161
Median), calculate users location based centroid tweets, and, depending
class representation used, represent predicted location either: (a) city centre; (b)
user-centroid given k-d tree cell. case Acc city-based class representation,
map centroid user nearest city centre 50km away, use basis
Acc calculation. case city centre satisfies constraint,17 map
user NULL class, always misclassify user.18
5.1 Comparison Feature Selection Methods
First, compare effectiveness various feature selection methods NA using citybased class representation. total, 214K features extracted training section NA.
17. occurs 1139 ( 11.4%) test users.
18. such, upper bound Acc city-based representation 0.886. Note Acc k-d tree vs.
city-based representation comparable, different class structure granularity.

470

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

0.4

Acc161

0.3

0.2
ICF
GeoDen
Ripley
IGR
Loglike
Chi

0.1

0.0
2% 8%

16%

24%

32%

40%

48%

56%

64%

72%

80%

88%

96%

Top N% Features

Figure 3: Acc@161 varying levels feature selection NA dataset, based citybased class representation.

select top-n% features, step size 2%, use selected features within
multinomial naive Bayes learner (we return explore choice learner Section 5.2).
tuning n methods based Acc@161 10K held-out users development
data. present results sample feature selection methods Figure 3, omitting methods
largely identical behaviour methods presented graph, namely:
{DistDitv , DistDiskl } ICF
MaxChi Chi
{LR, IG, GeoSpread } LogLike
methods, best result achieved proper subset features based feature
selection, although proportion features gives best results given method
varies greatly (e.g., optima Ripley, IGR GeoDen 10%, 88% 66%, respectively).
observation agrees expectations that: (1) small number features
used, trained model generally underfits data; (2) model trained using full
feature set, noisy words (e.g., the) cause overfitting. instance, using top 2%
features IGR, likely class users features noting users feature
representation default majority class, namely Los Angeles, US-CA Monterrey, MX,
Spanish words highly location-indicative small number Mexican cities
NA dataset. features selected last generally high-frequency function words (e.g.,
the) common words (e.g., facebook), give little indication geolocation, lead
prediction errors.
Two patterns observed results: (1) Chi , MaxChi , IG, LogLike, GeoSpread , LR
Ripley (i.e., local methods, initially select features class, exception
471

fiH , C OOK & BALDWIN

IG Ripley) achieve highest Acc@161 early stage, numbers drop gradually; (2) ICF , IGR, DistDiskl , DistDitv GeoDen (i.e., collective group,
select features classes once) gradually increase accuracy features added,
reach peak majority features selected, drop accuracy sharply.
difference behaviour attributed types word preferred methods.
local methods tend prefer 1-local words taking LR, example, city names (e.g.,
philadelphia) names upper-level administrative regions (e.g., georgia) frequently occur
upper reaches ranking. addition gazetted words, many local/regional words
found upper reaches feature ranking, including informal place names (e.g., philly,
informal name Philadelphia, US-PA), local transport references (e.g., skytrain, public transport system Vancouver, CA) local greetings (e.g., aloha Honolulu, US-HI). However,
reasonable believe 1-local words words predominantly used one city
rarely mentioned cities common. result, accuracy bounded
limited number true 1-local words. could reason early, yet remarkably
high, peak accuracy, subsequent sharp decline, Ripley; reliance pairwise
distances users using given word, Ripley tends rank 1-local words highly. contrast,
collective methods assume words carry varying amounts geospatial information. leveraging combinations LIWs, true location user collectively inferred. instance,
brunswick common suburb/street name many cities, e.g., Melbourne, AU London, GB.
word alone insufficient make reliable predictions. However, LIWs (e.g., tram
Flinders, uniquely disambiguating themselves) observed,
chance location Melbourne, AU becomes high, since unlikely users
cities Melbourne, AU would use combination words. strategy
explained information-theoretic terms: knowing words, extra information obtained,
consequently entropy continuously reduced prediction geolocation becomes
certain.
Among feature selection methods, IGR, GeoDen Ripley stand-out methods
terms Acc@161. compare accuracy classifiers trained using optimised
set LIWs (based development data) full model. performance measured
10K held-out test users, using city-based class representation. results displayed
Table 3 (for subset feature selection methods displayed Figure 3),
show using LIWs offers improvement full feature set evaluation measures
feature selection methods, except slight dips Acc@C IGR GeoDen. Nevertheless, numbers clearly demonstrate feature selection improve text-based geolocation
prediction accuracy. IGR performs best terms accuracy, achieving 8.9% 14.2% absolute
improvements Acc Acc@161, respectively, full feature set.
5.2 Comparison Benchmarks
compare best-performing method Section 5.1 number benchmarks
baselines. experiment two class representations: (1) city-based class representation based Geonames; (2) k-d tree based partitioning Roller et al. (2012),
creates grid cells containing roughly even amounts data differing geographical sizes,
higher-population areas represented finer-grained grids.19 class representations,
19. Recent work (Schulz et al., 2013) considers irregular-sized polygons, based administrative regions cities.

472

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Dataset

Features

Acc

Acc@161

Acc@C

Median

NA

Full
ICF
Chi
IGR
LogLike
GeoDen
Ripley

0.171
0.209
0.233
0.260
0.191
0.258
0.236

0.308
0.359
0.402
0.450
0.343
0.445
0.432

0.831
0.840
0.850
0.811
0.836
0.791
0.849

571
533
385
260
489
282
306

Table 3: Results full feature set compared representative sample
feature selection methodologies NA city-based class representation. best
numbers shown boldface.

compare learners without feature selection. observed previously, Acc comparable across two class representations. Results based distance-based measures (Acc@161
Median), hand, directly comparable. Acc@C results presented kd tree based class representation k-d tree cells map cleanly onto national borders;
although could certainly take country centroid given k-d tree cell lies
country label entire cell, approach would ignore known geo-political boundaries.
consider following methods:
Baseline: geographical distribution tweets skewed towards higher-population
areas (as indicated Figure 1), consider most-frequent class baseline. assign
users coordinates most-common city centre (or k-d tree grid centroid)
training data.
Placemaker: Following Kinsella et al. (2011), obtain results Yahoo! Placemaker,20
publicly-available geolocation service. first 50K bytes (the maximum query length allowed Placemaker) tweets user passed Placemaker queries.
returned city centre predictions mapped collapsed city representations.
queries without results, predicted location outside North America, back
most-frequent class baseline.21
Multinomial naive Bayes: model used Section 5.1.
KL divergence: previous best results NA achieved using KL divergence k-d
tree grid (Roller et al., 2012). Using k-d tree, earths surface partitioned nearrectangular polygons vary size, contain approximately number users.
Locations represented cells grid. KL divergence utilised measure
similarity distribution words users aggregated tweets grid
cell, predicted location centroid most-similar grid cell.22
20. http://developer.yahoo.com/geo/placemaker/, accessed August 2012.
21. alternative would query Placemaker tweet, aggregate predictions (e.g., selecting
majority location) get final user-level prediction. However, Kinsella et al. (2011) found accuracy
approach largely similar approach use.
22. use settings Roller et al. (2012): median-based k-d tree partition, partition containing
approximately 1050 users.

473

fiH , C OOK & BALDWIN

Partition

Method

City

Baseline
Placemaker
NB
NB+IGR
LR
LR+IGR

Acc

Acc@161

Acc@C

Median

0.003
0.049
0.171
0.260
0.129
0.229

0.062
0.150
0.308
0.450
0.232
0.406

0.947
0.525
0.831
0.811
0.756
0.842

3089
1857
571
260
878
369

Table 4: Geolocation performance using city-based partition NA. Results using optimised
feature set (+IGR) shown. best-performing method evaluation measure class representation shown boldface.

Partition

Method

k-d tree

Baseline
NB
NB+IGR
KL
KL+IGR

Acc

Acc@161

Acc@C

Median

0.003
0.122
0.153
0.117
0.161

0.118
0.367
0.432
0.344
0.437







1189
404
280
469
273

Table 5: Geolocation performance using k-d tree-based partition NA. Results using optimised feature set (+IGR) shown. best-performing method evaluation
measure class representation shown boldface.

Logistic regression: apply logistic regression Section 4.2.2 learner. Instead
modelling data, use IGR-selected features Section 5.1. regularisation commonly employed logistic regression learners, made conscious choice
use experiments implementation regulariser would differ across
learners complicate direct comparison feature selection methods (i.e. would
difficult tease apart impact specific regulariser feature selection). said that, objective maximise raw classifier accuracy distinct
exploring impact different features feature selection methods classification accuracy would advocate incorporation regulariser.
Instead evaluating every possible combination model, partition feature set, choose
representative combinations test extent LIWs improve accuracy. results
city-based partition shown Table 4. begin considering baseline results. mostfrequent class city-based representation Los Angeles, US-CA.23 majority class
baseline Placemaker perform well multinomial naive Bayes (NB) logistic regression
(LR), high Median distances. Furthermore, using features selected Section 5.1 (i.e., NB+IGR LR+IGR), performance improved large margin
models, demonstrating identification LIWs improve text-based geolocation prediction. Finally, although LR performs poorly compared NB, LR+IGR still improves substantially
23. New York divided suburbs, manhattan-ny061-us, brooklyn-ny047-us, Geonames.
artefact this, suburbs merged single city.

474

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

LR. plan explore reasons LRs poor performance future work. Overall,
NB+IGR performs best city-based representation terms Acc, Acc@161, Median
distance.
Turning k-d tree-based partition Table 5, observe low performance
most-frequent class baseline (i.e., grid cell near New York state). NB KL representative
generative discriminative models, respectively evaluated using software provided
Roller et al. (2012).24 approaches clearly outperform baseline k-d tree class
representation. Furthermore, performance increases using resultant feature set
LIWs,25 demonstrating variety approaches, identification LIWs improve textbased geolocation.
Overall, compared previously-published results k-d tree based representation (KL),
IGR-based feature selection city-based partition achieves 10.6% absolute improvement
terms Acc@161, reduces Median prediction error 209km.
results k-d tree based representation, clear KL NB better
task: terms Acc@161, NB outperforms KL, KL+IGR outperforms NB+IGR.
differences small, however, suggesting two methods largely indistinguishable
user geolocation task. question class representation used user geolocation, empirically, seems little separate two, although experimentation
may shed light issue. city-based approach intuitive, enables convenient
country-level mapping coarser-grained geolocation tasks. Furthermore, observation
Figure 1 suggests Twitter users cities. therefore use city-based partition
remainder paper consistency ease interpretation.
spin-off benefit feature selection leads compact models,
efficient terms computational processing memory. Comparing model based LIWs
selected using IGR full model, find prediction time faster factor
roughly five.

6. Experiments WORLD
addition establishing comparisons NA, evaluate feature selection methods
WORLD. extends evaluation regional benchmarks global geolocation performance. Similar NA, WORLD reserve 10K random users dev test,
remainder users used training (preprocessed described Section 3.4).
experiments WORLD related datasets, base evaluation city label set.
apply tuning procedure used NA obtain optimal feature set
feature selection method. present results representative sample best-performing
methods Figure 4. again, omit methods largely identical behaviour
methods, namely:
{DistDitv , DistDiskl } ICF
{MaxChi , Chi , LogLike, IG, GeoSpread } LR
24. https://github.com/utcompling/textgrounder/wiki/RollerEtAl_EMNLP2012
25. Note LIWs selected, small proportion users end features. users geolocatable
case KL, discriminative model. turn feature selection users, backoff full feature
set, number test instances consistent rows.

475

fiH , C OOK & BALDWIN

0.25

Acc161

0.20
0.15
0.10
ICF
GeoDen
Ripley
IGR
LR

0.05
0.00
2% 8%

16%

24%

32%

40%

48%

56%

64%

72%

80%

88%

96%

Top N% Features

Figure 4: Acc@161 varying percentages features selected using representative feature selection methods WORLD dataset.

biggest differences Figure 3 are: (1) 2 -based methods converge behaviour
LR, LogLike related methods; (2) LR performs marginally better LogLike,
thus method present graph.
Despite difference scope data size, overall trend WORLD mirrors
NA. particular, GeoDen, IGR Ripley achieve best Acc@161 numbers dev data,
although numbers lower achieved NA Figure 3. WORLD
fewer tweets per user NA (as utilise geo-tagged data), disambiguation
global level makes challenging task.
results multinomial naive Bayes chosen feature selection methods WORLD
shown Table 6. GeoDen (62%), IGR (86%) Ripley (20%) achieve best
accuracy, although clear winner: IGR achieves best Acc Ripley achieves
best Acc@161. Nevertheless, improved city-based Acc Acc@161 numbers confirm
general effectiveness feature selection. basis similar results earlier NA
results (in IGR delivers better results), adopt IGR default LIW feature selection
method remainder paper.
summary, findings utility feature selection Table 3 (NA) Table 6 (WORLD)
tell similar story, namely feature selection improves user geolocation accuracy. impact
feature selection NA much greater WORLD, WORLD larger number
classes smaller average number tweets per user per class, making
challenging dataset.
476

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Dataset

Features

Acc

Acc@161

Acc@C

Median

WORLD

Full
ICF
IGR
LR
GeoDen
Ripley

0.081
0.110
0.126
0.104
0.123
0.121

0.200
0.241
0.262
0.233
0.266
0.268

0.807
0.788
0.684
0.792
0.691
0.582

886
837
913
640
842
1128

Table 6: Results full feature set compared representative sample feature
selection methodologies WORLD using NB. best numbers shown boldface.

Train
G
G+NG
G
G+NG

Test
G
G
G+NG
G+NG

Acc
0.126
0.170
0.187
0.280

Acc@161
0.262
0.323
0.366
0.492

Acc@C
0.684
0.733
0.835
0.878

Median
913
615
398
170

G
G+NG

NG
NG

0.161
0.241

0.331
0.440

0.790
0.826

516
272

G
G

G-small
NG-small

0.121
0.114

0.258
0.248

0.675
0.666

960
1057

Table 7: results geolocation models trained tested geotagged (G) non-geotagged
(NG) tweets, combination.

7. Exploiting Non-geotagged Tweets
Twitter-based geolocation research carried date (Eisenstein et al., 2010; Wing & Baldridge, 2011) trained geotagged tweets, tweets known geographical
coordinates. work (Roller et al., 2012) incorporated non-geotagged tweets
users whose location inferred geotagged tweets. Clearly, possible effectively
utilise non-geotagged tweets, data sparsity ameliorated (as arent restricting
training approximately 1% tweets known location), clear tradeoff
confidence place labels associated tweets/users. section,
investigate utility non-geotagged tweets geolocation prediction.
experiments section, rest paper, use WORLD+NG denote
dataset incorporates geotagged non-geotagged tweets users
WORLD. refer subparts dataset consisting geotagged non-geotagged tweets
G NG, respectively. 194M tweets WORLD+NG, 12M geotagged remaining 182M non-geotagged. use partitioning users training, development,
testing sets WORLD+NG WORLD. compare relative impact NG
train test geolocation method G, NG, combination. Results presented
Table 7.
first row Table 7 shows results using geotagged data (our best result Table
6). rows two three, show results data user training test
477

fiH , C OOK & BALDWIN

datasets, respectively, expanded incorporate non-geotagged data (without changing set
users label user either case). cases, evaluation measures,
performance substantially better benchmark (i.e., first row). finding line
Cheng et al.s (2010) results data spareness big issue text-based geolocation.
validates hypothesis non-geotagged tweets indicative location. best results
achieved non-geotagged tweets incorporated training testing data (shown
row four). case achieve accuracy 28.0%, 15.4 percentage point increase
benchmark using geotagged tweets represent given user. Moreover, prediction
within 161km correct location almost one every two users, country-level
accuracy reaches almost 88%.26
Although research text-based geolocation used geotagged data evaluation, ultimate goal line research able reliably predict locations users
location known, i.e., non-geotagged data. geotagged tweets
typically sent via GPS-enabled devices smartphones, non-geotagged tweets sent
wider range devices, could systematic differences content geotagged
non-geotagged tweets. examine issue rows five six Table 7, test
model non-geotagged data. case know test users gold-standard location
based geotagged tweets. However geotagged tweets used represent user
test instance; instead, user represented non-geotagged tweets. results
actually better experiments training data tested geotagged
tweets (i.e., rows one two table).27 confirms model trained G G+NG
indeed generalises NG data. However, clear whether finding due
much non-geotagged geotagged data given user, whether property
non-geotagged data makes easier classify. explore question, carry following additional experiment. First, construct new dataset NG-small down-sampling NG
contain number features per user G (in terms feature token count). make
comparison fairer, constructed second new dataset G-small exclude
test users G tweets NG tweets. guarantees users NG-small contain
number LIWs G-small. average five iterations random subsampling,
list result final row Table 7.28 see results NG-small
good G-small (i.e., row seven), suggesting might minor sub-domain differences
geotagged non-geotagged tweets, though strong conclusion cannot drawn without
in-depth analysis. One possible explanation could differences (e.g., demographic variations) users non-geotagged tweets users
non-geotagged tweets geotagged tweets; however, comparing two sources beyond
scope paper. Nonetheless, results suggest difference NG G largely due
abundant data NG. explanation supported recent work Priedhorsky
et al. (2014).

26. Note evaluation exactly set users four cases; changes whether
incorporate extra tweets pre-existing set users, training test data.
27. remove users geotagged tweets test data, reducing number users marginally
10,000 9,767.
28. Note calculated variance five iterations random subsampling, found negligible
evaluation measures.

478

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

summary, quantitatively demonstrated impact non-geotagged tweets geolocation prediction, verified models trained geotagged data indeed applicable
non-geotagged data, even though minor sub-domain differences appear exist. established representing user combination geotagged non-geotagged tweets
produces best results.

8. Language Influence Geolocation Prediction
Previous research text-based geolocation primarily focused English data. studies
either explicitly excluded non-English data, based datasets consisting primarily English messages, e.g., selection tweets predominantly English-speaking
regions (Eisenstein et al., 2010; Cheng et al., 2010; Wing & Baldridge, 2011; Roller et al., 2012).
However, Twitter multilingual medium languages might powerful indicators
location: example, user posts mostly Japanese tweets, could strong indication
user based Japan, could used bias class priors user. section,
explore influence language geolocation prediction. predominant language
given tweet identified using langid.py,29 trained recognise 97 languages
(Lui & Baldwin, 2012).
create dataset consisting multilingual geotagged tweets, extract geotagged data
regardless language Twitter crawl WORLD based on. multilingual dataset consists 23M tweets 2.1M users. 12M tweets English WORLD,
remaining 11M tweets languages. Figure 5 shows proportion tweets
fifteen common languages dataset.30 immediate observation large difference language distribution observe geo-tagged tweets compared
observed tweets (irrespective geotag: Hong, Convertino, & Chi, 2011; Baldwin, Cook,
Lui, MacKinlay, & Wang, 2013): among higher-density languages Twitter, appears
weak positive bias towards English users geotagging tweets, strong negative bias
Japanese, Korean German users geotagging tweets. speculate
negative bias caused stronger concerns/awareness privacy issues countries Japan,
South Korea, Germany Austria. explored question whether bias influenced
choice Twitter client looking distribution Twitter clients used post messages
English, German, Japanese Korean: (a) overall (irrespective whether message
geotagged not), based 1M sample tweets 28 Sep, 2011; (b) geotagged
tweets, based WORLD. Overall, found huge variety choice client used
within given language (with top-10 clients accounting 6578% posts, depending
language), significant differences popular clients languages (e.g. Keitai Web
popular client Japanese, web English German, Twitter Android
Korean). geotagged tweets, hand, much greater consistency,
three popular clients languages Twitter iOS, Twitter Android
foursquare, accounting relatively constant two-thirds posts language.
suggestive fact choice client one factor biasing relative proportion
29. Based simplifying assumptions that: (a) every tweet contains linguistic content; (b) tweets monolingual, least predominantly single language.
30. represent languages Figure 5 using two-letter ISO 639-1 codes.

479

fiH , C OOK & BALDWIN

0.3
0.2
0.1

Percentage

0.4

0.5

0.53

0.09

0.0

0.04 0.03 0.03

en

es

pt

ja

nl

0.02 0.02 0.02 0.02 0.01 0.01 0.01 0.01 0.01 0.01
id



ru

de

tr

fr

ms

th

ko

ar

Languages

Figure 5: percentage tweets WORLD+ML written fifteen frequent
languages collected Twitter data. fifteen languages account 88%
tweets full dataset.

geotagged tweets different languages, although research required fully understand
effect.
training, development test data re-partitioned multilingual setting stratify
language, resultant dataset referred WORLD+ML. Again, development
testing sets consist 10K users each, remaining users training set WORLD.
Although Section 7 showed adding non-geotagged data improves geolocation accuracy,
experiments section based geotagged data, prohibitive computational cost experimenting much larger dataset. Note doesnt limit generalisability results, simply means careful compare monolingual
results Table 7 based geotagged tweets (the first row).
first compare geolocation performance multilingual setting English-only
setting, comparison past work geolocation considered. data WORLD+ML
partitioned two subsets E NE according whether majority given
users tweets English non-English, respectively. 10K test users WORLD+ML,
5,916 English 4,084 non-English. One challenge multilingual setting
experiments tokenisation. Although rudimentary tokenisation many languages English
French accomplished using whitespace punctuation, tokenisation much
challenging languages Japanese Chinese represent word boundaries
480

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Train

Test

E+NE
E+NE
E+NE
E

E+NE
E
NE
E

Acc

Acc@161

Acc@C

0.196
0.134
0.287
0.169

0.343
0.256
0.468
0.317

0.772
0.715
0.855
0.746

Median
466
1067
200
632

Table 8: Results multilingual geolocation, training testing English (E) non-English
(NE) users, combination.

whitespace. However, amongst most-common languages Twitter (as shown Figure
5), Japanese language accounts substantial portion data (> 1%)
requires specialised tokenisation strategy (compared English). Japanese tweets
apply Japanese morphological segmenter MeCab (with IPA dictionary),31 post-correct
tokenisation errors relating Twitter-specific tokens mentions, hashtags, URLs (e.g.,
instances MeCab over-segments mention multiple morphemes). non-Japanese
tweets, apply tokeniser based regular expressions used previous English-only
experiments.
resolving tokenisation issue, apply IGR method Section 4.2.1
select optimised feature selection cut-off, based Acc development data. observe
much larger proportion tokens selected multilingual setting compared
English-only experiments. example, 400K token types multilingual experiment,
384K (the top 96%) selected location-indicative, English-only case 83K (the top
86%) location-indicative words selected total 96K token types.
experimental results shown Table 8.32 first row gives results training
testing full dataset English non-English tweets. next two rows show
results testing English (E) non-English (NE) subsets data. much lower
accuracy E compared NE indicates English tweets much difficult geolocate
non-English tweets. One reason many non-English languages,
strong bias towards small number cities. verify calculating class entropy
respective language training data. class probabilities smoothed using simple
add- method, = 1/3709 (where 3709 size class set). shown Table 9,
class entropy English (en) data largest, indicating English prevalent across large
number locations. contrast, Thai (th) Turkish (tr) much smaller entropies, suggesting
location distributions heavily skewed, user geolocation languages
easier English.
explore extent geolocatability user varies respect predominant language tweets, break results language Table 10,
shows results top-10 frequent languages (by number tweets) least 100 users
test data. cut-off users ensures consider under-represented languages.
31. http://sourceforge.net/projects/mecab/
32. English-only results reported comparable experiment Table 7 using
geotagged data, test sets consist different users two cases.

481

fiH , C OOK & BALDWIN

Language

Entropy

Language

Entropy

Language

Entropy

en
es
pt
ja
nl

6.279
5.069
4.144
3.523
3.820

id

ru
de
tr

3.868
5.244
3.772
6.207
2.888

fr
ms
th
ko
ar

5.538
3.970
2.697
2.781
3.281

Table 9: Geolocation class entropy top-15 languages

Lang.
en
es
pt
id
nl
ja
ru
tr
ar
th


No.
5916
945
673
398
342
298
217
186
164
154

Per-language Majority Class

Unified Multilingual

Monolingual Partitioning

Acc Acc@161 Acc@C Med.

Acc Acc@161 Acc@C Med.

Acc Acc@161 Acc@C Med.

0.019
0.116
0.223
0.264
0.175
0.326
0.336
0.538
0.335
0.325

0.039
0.159
0.296
0.472
0.789
0.530
0.378
0.656
0.470
0.766

0.655 3671
0.324 4267
0.952 490
0.899 197
0.889
87
0.960
96
0.857 633
0.930
0
0.463 379
0.981
20

0.134
0.267
0.232
0.324
0.173
0.336
0.346
0.538
0.354
0.279

0.256
0.346
0.305
0.565
0.789
0.544
0.387
0.656
0.488
0.623

0.715 1067
0.734 391
0.952 490
0.965 115
0.889
87
0.956
95
0.862 633
0.930
0
0.500 301
0.792
41

0.169
0.362
0.400
0.440
0.298
0.463
0.341
0.522
0.457
0.325

0.317
0.478
0.489
0.736
0.871
0.695
0.378
0.645
0.591
0.766

0.746
0.802
0.961
0.960
0.845
0.950
0.862
0.930
0.750
0.974

632
185
200
16
58
27
633
0
21
30

10000 0.107

0.189

0.693 2805

0.196

0.343

0.772

0.255

0.425

0.802

302

466

Table 10: Geolocation performance comparison top-10 frequent languages
multilingual test data, using (1) language prior (i.e., city language mostly
used); (2) unified multilingual model (i.e., training testing multilingual data
regardless languages); (3) language-partitioned monolingual models (i.e., first
identify primary language users, train one model per language, classify test
users model corresponding language tweets)

observe results vary remarkably language multilingual section Table
10. results overall lowest English (en), although lowest country-level accuracy
Arabic (ar); speculate caused large number countries Arabic spoken
in, relatively small number Arabic speakers training data. Furthermore, citylevel accuracy better 30% Indonesian (id), Japanese (ja), Russian (ru), Turkish (tr)
Arabic (ar); regions languages commonly-spoken geographicallyrestricted English, suggesting geolocation accuracy languages smaller geographic footprints tend higher languages widely-used throughout
larger geographical area. finding agrees recent work Priedhorsky et al. (2014),
underlines power language information predicting locations. best city-level
accuracy 53.8% observed Turkish (one languages lowest city-level entropy).
Manually inspecting outputs, find model predicts city Istanbul
Turkish users, large proportion Turkish tweets come city.
482

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Based finding, consider language-based benchmark predicts
frequent city given predominant language users tweets (denoted Per-language Majority
Class). observe performance gap multilingual model English (the second
row Table 8) English-only model (the bottom row Table 8). results show
target data known written single language monolingual model outperforms
multilingual one. suggests alternative approach multilingual geolocation prediction:
rather training predicting multilingual data (E+NE), train evaluate models
language-specific data. Motivated observation, apply monolingual partitioned
model users particular language based langid.py (i.e., language partitions), e.g.,
selecting Japanese users training data, applying Japanese-specific model
Japanese users test data. denoted Monolingual Partitioning Table 10,
contrasted simple approach combined model languages users (Unified
Multilingual).
comparing Per-language Majority Class Unified Multilingual model, find
unified model performs better overall, exception Thai (th) Dutch (nl),
associated small number cities, one city much larger
others (Bangkok, TH Amsterdam, NL, respectively). relatively poor results
benchmark method languages English (en) Spanish (es) frequent
Twitter, relatively poor overall performance, Per-language Majority Class
appropriate method task. Nevertheless, using Monolingual Partitioning model,
results far superior, partitioning effect language seen. suggests
modelling language independently improve geolocation performance.
summary, series experiments shown influence language geolocation prediction. Among top-10 languages found Twitter, English difficult perform user
geolocation over, English global language. Despite language variance, multilingual
geolocation prediction certainly feasible, although best way leverage language geolocation prediction training language-partitioned monolingual models geolocating users based
primary language.

9. Incorporating User Meta Data

metadata accompanying tweets valuable source geographical information beyond
available tweets. section, explore incorporating metadata information textbased geolocation system. begin selecting four metadata fields could potentially provide
insights location user, first evaluate models trained sources
information. consider number ways incorporate information metadata
best text-based method developed Section 7. discussed Section 8, language
strong influence geolocation prediction, English-posting users hardest geolocate.
such, experiment English data (i.e., WORLD+NG) remainder paper.
483

fiH , C OOK & BALDWIN

Data
Training
Test

LOC

TZ

DESC

0.813
0.813

0.752
0.753

0.760
0.761

Table 11: proportion users non-empty metadata fields WORLD+NG
9.1 Unlock Potential User-Declared Metadata
choose following four user-supplied metadata fields study: location (LOC), timezone
(TZ), description (DESC), users real name (RNAME).33 contrast rich social network
information much expensive extract, metadata fields included
JSON object provided Twitter Streaming API, i.e., extract metadata
extra crawling cost. information, however, dynamic, i.e., users change profiles,
including metadata interest us. aggregating extracted tweet-level metadata
user, calculate ratio users change metadata field. 18% users changed
DESC field approximately five months dataset collected.
time period, fields considered, less 8% users updated data.
Given relatively small number profile updates, ignore influence changes,
use frequent value metadata field user experiments.
user-supplied metadata imprecise inaccurate, user free
enter whatever textual information choose. example, LOC fields accurate
descriptions geographical locations (e.g., best place universe). Moreover, although
LOC fields canonical renderings users true location (e.g., Boston, MA, USA), large
number abbreviations non-standard forms observed (e.g., MEL Melbourne, AU).
Cheng et al. (2010) find small proportion location fields US-based dataset
canonical locations (i.e., form city, state). Nevertheless, non-standard inaccurate
location fields might still carry information location (Kinsella et al., 2011), similarly
text tweets indicate location without explicitly mentioning place names.
metadata fields differ respect explicitness location information
encode. instance, LOC TZ give direct location information, DESC might contain
references location, e.g., geek Lisp developer Bangalore. Although RNAME
directly encode location regional preferences names (Bergsma, Dredze, Van Durme,
Wilson, & Yarowsky, 2013), e.g., Petrov might common Russia, name Hasegawa
might common Japan. Finally, tweets consider, text field (i.e.,
content tweet itself) RNAME always present, LOC, TZ, DESC missing
user chosen supply information. proportion non-empty metadata fields
LOC , TZ DESC users WORLD+NG listed Table 11.
9.2 Results Metadata-Based Classifiers
variable reliability explicitness selected metadata, incorporate
fields statistical geolocation model similar manner message text. prelimi33. user-supplied real name could name i.e., necessarily users actual name different
field users screen name.

484

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Classifier
LOC
TZ
DESC
RNAME
BASELINE
TEXT

Acc

Acc@161

Acc@C

Median

0.405
0.064
0.048
0.045

0.525
0.171
0.117
0.109

0.834
0.565
0.526
0.550

92
1330
2907
2611

0.008
0.280

0.019
0.492

0.600
0.878

3719
170

Table 12: performance NB classifiers based individual metadata fields, well baseline, text-only classifier IGR feature selection.

nary experiments, considered bag-of-words features metadata fields, well bag-ofcharacter n-gram features n {1, ..., 4}.34 found character 4-grams perform best,
report results using features here. (A bag-of-character 4-grams represents frequency
four-character sequence including start end symbol.) geolocation performance
classifier trained features metadata field isolation, well performance
frequent city baseline (BASELINE) best purely text-based classifier (TEXT, replicated
Table 7), shown Table 12.
classifier based metadata field outperforms baseline terms Acc, Acc@161,
Median error distance. suggests metadata fields indeed encode geographicallyidentifying information, though classifiers less competitive TEXT. Notably, despite
potential noise user-supplied location fields, classifier (LOC) achieves even better
performance purely text-based method, reaching city-level accuracy 40%, predicting location within 161km true location half users. suggests LOC
contains valuable information, even though LOC fields noisy (Cheng et al., 2010),
easily captured off-the-shelf geolocation tools (Hecht et al., 2011). Manual analysis suggests
many vernacular place names captured statistical modelling, Kiladelphia
Philly used represent Philadelphia. utility metadata fields confirmed recent
work Priedhorsky et al. (2014).
9.3 Ensemble Learning Text-Based Classifiers
analyse behaviour four metadata classifiers, consider pairwise city-level
prediction agreement them. Cohens Kappa (Carletta, 1996) conventional metric
evaluate inter-annotator agreement categorical items (such predicted cities case);
larger Kappa values indicate higher pairwise agreement. double fault measure (Giacinto &
Roli, 2001) incorporates gold-standard information, equal proportion test cases
classifiers make false prediction. measure offers empirical lowest error bound
pairwise ensemble classifier performance.
34. Although could certainly consider character n-grams text-based classifier, opted bag-ofwords representation explicitly captures LIWs believe especially important geolocation.
could location-indicative character n-grams, exploration leave future work.

485

fiH , C OOK & BALDWIN

TEXT

0.461

0.689

0.702

0.704

0.181

LOC

0.577

0.578

0.581

0.066

0.063

TZ

0.903

0.907

0.067

0.041

0.085

DESC

0.923

0.065

0.049

0.080

0.088

RNAME

Table 13: Pairwise correlation base classifiers using Cohens Kappa (bottom left, light
grey; higher numbers indicate greater prediction similarity) double fault measure
(top right, white; lower numbers indicate greater prediction similarity).

Pairwise scores Cohens Kappa double fault measure shown Table 13.
Kappa scores (bottom-left Table 13) low, indicating little agreement
classifiers. classifiers achieve better baseline performance, give quite
different outputs, might possible combine classifiers achieve better performance.
double fault results (top-right) suggest improved accuracy could obtained
combining classifiers.
combine individual classifiers using meta-classification. first adopt feature concatenation strategy incrementally combines feature vectors TEXT, LOC, TZ, DESC
RNAME . consider stacked generalisation (Wolpert, 1992), referred simply stacking,
outputs base classifiers, true city-level locations, used train
second classifier produces final output. base classifiers, second classifier,
referred L0 L1 classifiers, respectively. conventional applications stacking,
homogeneous training data used train heterogeneous L0 classifiers; case, however,
train homogeneous L0 multinomial Bayes models heterogeneous data (i.e., different types
data TEXT, LOC, TZ). consider logistic regression (Fan, Chang, Hsieh, Wang, &
Lin, 2008) multinomial Bayes L1 classifier.
carry 10-fold cross validation training users obtain L1 (final) classifier
results, standard procedure stacking experiments. use stratified sampling partitioning
data number users different cities varies remarkably, simple random
sample could bias towards bigger cities. ensemble learning results tabulated Table
14.
combination TEXT LOC improvement LOC (i.e., best results far).
However, using feature concatenation multinomial naive Bayes stacking, accuracy generally
drops metadata feature sets perform relatively poorly isolation (i.e., TZ, DESC, RNAME)
incorporated. hand, using logistic regression stacking, see small increases
accuracy features perform less well isolation incorporated. Though DESC RNAME
moderately useful (as shown Table 12), fields contribute little strong ensembles
(i.e., TEXT, LOC TZ). best model (using logistic regression stacking features)
assigns users correct city almost 50% test cases, Median error
9km. Moreover, approach country-level accuracy reaches almost 92%, indicating
effectiveness method coarse-grained geolocation task.
486

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Feature concatenation
Acc
Acc@161
0.444
0.646
0.429
0.639
0.319
0.529
0.294
0.503

1.
2.
3.
4.

Features
TEXT + LOC
1. + TZ
2. + DESC
3. + RNAME

Acc@C
0.923
0.929
0.912
0.912

Median
27
32
127
156

1.
2.
3.
4.

Multinomial Bayes stacking
Features
Acc
Acc@161 Acc@C
TEXT + LOC
0.470
0.660
0.933
1. + TZ
0.460
0.653
0.930
2. + DESC
0.451
0.645
0.931
3. + RNAME 0.451
0.645
0.931

Median
19
23
27
27

1.
2.
3.
4.

Logistic regression stacking
Features
Acc
Acc@161 Acc@C
TEXT + LOC
0.483
0.653
0.903
1. + TZ
0.490
0.665
0.917
2. + DESC
0.490
0.666
0.919
3. + RNAME 0.491
0.667
0.919

Median
14
9
9
9

Table 14: performance classifiers combining information text metadata using feature concatenation (top), multinomial Bayes stacking (middle), logistic regression
stacking (bottom). Features 1. + TZ refer features used row 1.
combination TZ.

interesting observe that, found NB outperform LR standalone classifier
Section 5.2, L1 classifier, LR clearly outperforms NB. reason almost certainly fact use much smaller feature set relative number training instances
stacking experiments, circumstances, discriminative models tend outperform
generative models (Ng & Jordan, 2002).

10. Temporal Influence
addition held-out English test data WORLD+NG, developed new geotagged
test dataset measure impact time model generalisation. training test data
WORLD+NG time-homogeneous randomly partitioned based data collected
period. contrast, new test dataset (LIVE) much newer, collected 1
year later WORLD+NG. Given Twitter users topics change rapidly, key question
whether statistical model learned old training data still effective new
test data? question implications maintenance retraining geolocation models
time. experiments section train WORLD+NG test new dataset.
LIVE data collected 48 hours 3 Mar, 2013 5 Mar, 2013, based geotagged tweets users whose declared language English. Recent status updates (up 200)
crawled user, langid.py applied data remove remnant nonEnglish messages. addition filtering users less 10 geotagged tweets test data
WORLD+NG, exclude users less 50% geotagged tweets one
487

fiH , C OOK & BALDWIN

Features
1. TEXT
2. LOC
3. TZ
1. + 2. + 3.

Acc
0.280
0.405
0.064
0.490

Features
1. TEXT
2. LOC
3. TZ
1. + 2. + 3.

Acc
0.268
0.326
0.065
0.406

WORLD+NG
Acc@161 Acc@C
0.492
0.878
0.525
0.834
0.171
0.565
0.665
0.917
LIVE
Acc@161
0.510
0.465
0.160
0.614

Acc@C
0.901
0.813
0.525
0.901

Median
170
92
1330
9

Median
151
306
1529
40

Table 15: Generalisation comparison time-homogeneous WORLD+NG timeheterogeneous LIVE (1. + 2. + 3. denotes stacking TEXT, LOC TZ).

city. users geotagged tweets spread across different locations, less
credible adopt users frequent location true primary location evaluation.
post-check WORLD+NG test data shows 9,977 10K users satisfy requirement
geographical coherence, arent unnecessarily biasing data LIVE applying
criterion. Finally, status updates aggregated user-level, WORLD+NG.
filtering, 32K users obtained, forming final LIVE dataset.
use TEXT, LOC TZ section, require less computation achieve
accuracy comparable best results, shown Table 14. temporal factor impact
geolocation prediction model generalisation revealed accuracy WORLD+NG LIVE
shown Table 15. Acc Acc@161 numbers stacked model (1. + 2. + 3.) drop
approximately 8 5 percentage points, respectively, LIVE compared WORLD+NG.
Median prediction error distance increases moderately 9km 40km. decomposing
stacked models evaluating base classifiers, find accuracy declines
primarily caused accuracy drops LOC classifier new LIVE data, approximately
9% Acc 6% Acc@161. could viewed type over-fitting, stacked
classifier relying heavily predictions LOC base classifier. TZ classifier
performs relatively constantly terms accuracy, although Median error increases slightly.
TEXT classifier remarkably robust, numbers except Acc improving marginally.
investigate poor LOC classifier generalisation LIVE. First, down-sample
LIVE 10K users, size WORLD+NG, compare per-city prediction numbers two datasets using LOC classifier. find two factors jointly cause accuracy
decrease LIVE: (1) composition test users, (2) decline per-city recall. instance, 80 test users London, GB WORLD+NG. number sharply increases 155
LIVE, meaning influence London, GB test users overall accuracy LIVE almost
doubled. Furthermore, recall proportion users given location correctly
predicted location London, GB drops 0.676 WORLD+NG
0.568 LIVE. observe proportion empty LOC fields among London, GB test users
jumps 13% (WORLD+NG) 26% (LIVE). reduces utility LOC data LIVE
488

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Rank

cities LIVE

1
2
3
4
5
6
7
8
9
10

Los Angeles, US
Kuala Lumpur,
London, GB
Jakarta, ID
Anaheim, US
Singapore, SG
Fort Worth, US
Chicago, US
Pittsburgh, US
San Antonio, US

LIVE users

LIVE recall

WORLD+NG users

WORLD+NG recall

201
168
155
129
85
76
76
72
72
66

0.766
0.482
0.568
0.550
0.447
0.474
0.289
0.569
0.431
0.455

81
50
80
86
26
160
35
123
39
82

0.691
0.560
0.675
0.686
0.346
0.556
0.371
0.577
0.487
0.585

Table 16: number test users, recall using
LIVE, compared WORLD+NG.

LOC ,

city, top-10 largest cities

explains per-city recall drops: test users empty LOC field assigned
city highest class prior model (i.e., Los Angeles, US). Overall, ratios empty
LOC fields WORLD+NG test data LIVE 0.176 0.305, respectively, suggesting
user-declared locations LIVE carry much less geospatial information WORLD+NG.
show comparisons top-10 cities terms test users Table 16,35 accuracy
highly-represented cities greater impact overall results smaller cities.
London, GB, cities shown Table 16 experience lower recall scores LIVE, many
test users LIVE WORLD+NG. Nevertheless, cities higher
recall test users LIVE, e.g., Los Angeles, US Anaheim, US Table 16. overall
numbers are, course, determined aggregated performance cities. provide insight, 35.6% cities WORLD+NG 40% recall, number 28.5%
LIVE.
important base classifier stacked model, LOC accuracy numbers
influenced temporal changes, whether increased reluctance supply userdeclared location (although admittedly users geotag tweets), primarily due variance user proportions different cities sampled stream. Either way, periodically retrained LOC classifier would, doubt, go way towards remedying temporal gap. Overall,
numbers suggest time-homogeneous data (WORLD+NG) easier classify timeheterogeneous data (LIVE). However, training old data testing new data
shown empirically viable TEXT TZ base classifiers particular. result
validates efforts optimise text-based user geolocation classification accuracy. Recently, similar
results tweet-level geolocation prediction observed Priedhorsky et al. (2014), supporting
claim accuracy geolocation prediction suffers diachronic mismatches
training test data.

35. observe city proportions changed drastically WORLD+NG LIVE. reasons
unclear, speculate due significant shifts microblogging usage different locations
around world.

489

fiH , C OOK & BALDWIN

11. User Tweeting Behaviour
improved extended text-based geolocation prediction, shift focus user
geolocatability. user wishes keep geolocation private, simply disable public
access tweets metadata. However, users choose share (non-geotagged) tweets,
different tweeting behaviours make susceptible geolocation privacy attacks? investigate question, section, discuss impact user behaviour
geolocation accuracy relative predictions LIVE based stacking model Section
10.36
obvious first rule thumb, geotagged tweets avoided, provide
immediate access users geographical footprint, e.g., favourite bars, office address.
Second, immediate implication finding location metadata strong predictor
geolocation (Section 9.2), user wants avoid privacy attacks, avoid presenting
location metadata, effect disabling LOC base classifier stacked classifier. Third, text
users posts used geolocate user (at approximately 27% Acc, Table 15).
investigate impact volume tweets user geolocatability, perform breakdown
results LIVE across two dimensions: (1) number LIWs, investigate whether
sheer volume tweets user makes geolocatable; (2) source geospatial
information exploit geolocation model. evaluate questions Figure 6
four feature combination settings, relative the: (1) tweet text-based classifier; (2) tweet textbased classifier gazetteer names removed;37 (3) metadata stacking using LOC TZ (invariant
tweet number changes); (4) stacking TEXT, LOC TZ users. case,
partition data 20 partitions 5% users each, ranked total number LIWs
contained combined posts user. addition Acc user partition,
indicate average number LIWs per user partition (as shown second y-axis,
right side graph).
Overall, LIWs contained users tweets, higher Acc text-based methods. gazetted terms removed tweets, Acc drops large margin. suggests
gazetted terms play crucial role user geolocation. Metadata contributes substantially accuracy, improving text-based accuracy consistently. Moreover, user tweets lot, Acc
tweet text-based approach comparable best model, even without access metadata
(as shown top right corner graph). overall recommendation, users wish
obfuscate location leave metadata fields blank avoid mentioning LIWs (e.g.,
gazetted terms dialectal words) tweets. make difficult best geolocation models infer location correctly (as demonstrated bottom left graph).
similar conclusion user geolocatability recently obtained Priedhorsky et al. (2014).
help privacy-conscious Twitter users avoid geolocated tweets, made
list LIWs publicly available.38

36. analysis limited behaviours could easily adopted many users. Given system predicts
likely city fixed set given user, one simple way avoid geolocated move far away
cities. However, seems unlikely strategy would widely adopted.
37. gazetteer based ASCII city names Geonames data.
38. http://www.csse.unimelb.edu.au/tim/etc/liw-jair.tgz

490

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

100
200
300
400
Number Location Indicative Words

0.5

Text
Text without gazetteers
Metadata stacking (LOC, TZ)
Stacking (TEXT, LOC, TZ)

Accuracy

0.4
0.3
0.2
0.1
Number Location Indicative Words (LIWs)

0.0
20%

40%
60%
Location Indicative Word partitions

80%

0

0.6

100%

Figure 6: impact use LIWs geolocation accuracy. Users sorted number
LIWs tweets, partitioned 20 bins. Metadata includes LOC TZ.

12. Prediction Confidence
task setup date, forced models geolocate users. practice, however,
many users dont explicitly mention geolocating words posts, making task nigh
impossible even human oracle. alternative approach would predict user geolocation
model confident prediction. Here, consider range variables
potentially indicate prediction confidence.
Absolute probability (AP): consider predictions probability specified threshold.
Prediction coherence (PC): hypothesise reliable predictions, top-ranked locations
tend geographically close. preliminary exploration coherence, formulate PC sum reciprocal ranks predictions corresponding second-level
administrative region class representation (i.e., state province) top-ranking
prediction, calculated top-10 predictions.39 example, suppose top-10 secondlevel predictions following states US: US-TX, US-FL, US-TX, US-TX,
US-CA, US-TX, US-TX, US-FL, US-CA, US-NY. top-ranking state-level prediction
therefore US-TX, occurs ranks 3, 4, 6 7 (for different cities Texas).
case, PC would 11 + 13 + 14 + 16 + 17 .
Probability ratio (PR): model confident prediction, first prediction tend
much probable predictions. formulate intuition PR, ratio
probability first second most-probable predictions.
39. could measured average distance top predictions well.

491

fiH , C OOK & BALDWIN

0.8

Acc@161

0.6

0.4
Absolute Probability (AP)
Prediction Coherence (PC)
Probability Ratio (PR)
Feature Number (FN)
Feature Weight (FW)

0.2

0.05 0.15 0.25 0.35 0.45 0.55 0.65 0.75 0.85 0.95
Recall

Figure 7: Acc@161 classification top-n% most-confident predictions measure
text-based prediction confidence NA

Feature number (FN): take number features found users posts prediction
accuracy. intuition geolocation prediction based features
reliable prediction based fewer features.
Feature weight (FW): Similar FN, case use sum IGR features, rather
number features.
investigate variables NA LIVE results. particular, evaluate using text-based model, experiment text-based user geolocation
section. Nevertheless, exploration metadata classifiers possible. sort
predictions confidence (independently measure prediction confidence) measure
Acc@161 among top-n% predictions following values n: {0.0, 0.05, ..., 1.0}, akin
precisionrecall curve, shown Figures 7 8. Results Acc show similar trend,
omitted paper.
naive AP method least reliable with, surprisingly, accuracy increasing AP decreases
figures. appears raw probabilities accurate reflection prediction
confidence. find larger AP usually indicates user LIW features,
model often geolocates user city highest class prior. comparison, PR
focuses relative, opposed raw, probabilities performs much better, higher
PR generally corresponding higher accuracy. addition, PC shows different trends two
figures. achieves comparable performance PR NA, however incapable estimating
global prediction confidence. largely world-level PC numbers often
small less discriminating regional PC numbers, reducing utility geographic
proximity top predictions. Furthermore, FN FW display similar overall trends PR,
dont outperform PR.
492

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Acc@161

0.8

0.6

0.4
Absolute Probability (AP)
Prediction Coherence (PC)
Probability Ratio (PR)
Feature Number (FN)
Feature Weight (FW)

0.2

0.05 0.15 0.25 0.35 0.45 0.55 0.65 0.75 0.85 0.95
Recall

Figure 8: Acc@161 classification top-n% most-confident predictions measure
text-based prediction confidence LIVE

experiments suggest indeed trade-off coverage accuracy,
could exploited obtain higher-accuracy predictions applications require
data classified. PR, well FN FW, fairly effective indicators predictive accuracy. extension line research would investigate prediction
confidence per city, e.g., users New York, US predictable users Boston,
US?

13. Future Work
research could expanded number directions. First, hierarchical classification models (Mahmud et al., 2012; Ahmed, Hong, & Smola, 2013) becoming increasingly popular,
could combined stacked model. Although explicit social network data (e.g., followers)
non-trivial retrieve, user interactions reconstructed content tweets (e.g.,
replies, retweets user mentions: Jurgens, 2013). implicit network information could
combined current text-based geolocation methods improve geolocation accuracy. Additionally, hypothesise text-based geolocation prediction challenging task
humans, method achieving surpassing accuracy levels human. would
interesting test hypothesis, e.g., using crowdsourcing methods.
Recently, Priedhorsky et al. (2014) proposed evaluating message-level geolocation. use
Gaussian mixture models characterise n-gram probability distributions evaluate geolocation prediction accuracy using probabilistic metrics. conclusions strongly agree
findings, although task setting user-level evaluation metrics different.
future, plan adapt methods tweet-level geolocation carry systematic evaluation
probabilistic analysis geolocation.
493

fiH , C OOK & BALDWIN

14. Summary
paper, investigated series key issues relating text-based geolocation prediction
Twitter users. applied number feature selection methods identify location indicative
words (LIWs), demonstrated effectiveness feature selection regional (NA)
global (WORLD) datasets. extended study analyse impact non-geotagged data,
influence language complementary geographical information user metadata.
evaluated model time-heterogeneous dataset assess models sensitivity
temporal change. Moreover, discussed users tweeting behaviour affects geolocation
prediction, drew conclusions users make less easily geolocatable. Finally,
explored various indicators estimate prediction confidence, terms balance
prediction coverage accuracy.
number conclusions drawn study, corresponding different sections
paper. believe findings contribute deeper understanding text-based geolocation
prediction, shape design practical solutions problem:
demonstrate explicit selection location indicative words improves geolocation prediction accuracy, compared using full feature set.
Non-geotagged tweets (from users whose location known) boost prediction accuracy
substantially training testing. demonstrate modeling geotagged
data inferencing non-geotagged data indeed feasible. largely
similarity geotagged data non-geotagged data, although minor differences
observed geotagged non-geotagged tweets.
Modelling inference multilingual data viable easier monolingual English data. tweet language strongly affects prediction accuracy. Due
uneven geographical distribution languages tweets, users geographically-diverse languages (e.g., English Spanish) much harder geolocate users geographicallyfocused languages (e.g., Japanese Dutch). Although trivially determining locations based
language tweets fine geographically-focused languages, insufficient
majority users post tweets using geographically-diverse languages. integrating
language information different ways, found training range monolingual models
based language identification, predicting location using model based users
primary language, achieves better results monolithic multilingual model.
User-declared metadata, though noisy unstructured, offers complementary location-indicative information contained tweets. combining tweet metadata information stacking, best global geolocation results attained: 49% English
users correctly predicted city level, Median error distance 9km.
Results time-heterogeneous evaluation suggest applying model trained old data
predict new data generally feasible. Although user-declared location field (LOC)
sensitive temporal change, classifiers based tweet content (TEXT) user timezone
(TZ) generalise reasonably well across time.
pilot study user geolocatability led following recommendations preserve
geolocation privacy: (1) reduce usage location indicative words, particularly gazetted
494

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

terms; (2) delete location-sensitive metadata (e.g., user-declared location timezone
metadata).
Probability ratio, measures ratio probability top prediction
second prediction, used estimate prediction confidence, select users
system prediction accurate, e.g., downstream applications require
more-reliable geolocation predictions exhaustive user geolocation required.

Acknowledgments
authors wish thank Stephen Roller Jason Baldridge making data tools available
replicate NA experiments.
NICTA funded Australian government represented Department Broadband,
Communication Digital Economy, Australian Research Council ICT Centre
Excellence programme.

References
Ahmed, A., Hong, L., & Smola, A. J. (2013). Hierarchical geographical modeling user locations
social media posts. Proceedings 22nd international conference World Wide
Web, WWW 13, pp. 2536, Rio de Janeiro, Brazil.
Amitay, E., HarEl, N., Sivan, R., & Soffer, A. (2004). Web-a-where: geotagging web content.
Proceedings 27th Annual International ACM SIGIR Conference Research
Development Information Retrieval (SIGIR 2004), pp. 273280, Sheffield, UK.
Backstrom, L., Kleinberg, J., Kumar, R., & Novak, J. (2008). Spatial variation search engine
queries. Proceeding 17th international conference World Wide Web, WWW 08,
pp. 357366, Beijing, China.
Backstrom, L., Sun, E., & Marlow, C. (2010). Find can: improving geographical prediction social spatial proximity. Proceedings 19th International Conference
World Wide Web, pp. 6170, Raleigh, USA.
Baldwin, T., Cook, P., Lui, M., MacKinlay, A., & Wang, L. (2013). noisy social media text,
diffrnt social media sources?. Proceedings 6th International Joint Conference
Natural Language Processing (IJCNLP 2013), pp. 356364, Nagoya, Japan.
Bennett, P. N., Radlinski, F., White, R. W., & Yilmaz, E. (2011). Inferring using location
metadata personalize web search. Proceedings 34th International ACM SIGIR
Conference Research Development Information Retrieval, SIGIR 11, pp. 135144,
Beijing, China.
Bentley, J. L. (1975). Multidimensional binary search trees used associative searching. Communication ACM, 18(9), 509517.
Bergsma, S., Dredze, M., Van Durme, B., Wilson, T., & Yarowsky, D. (2013). Broadly improving
user classification via communication-based name location clustering Twitter.
Proceedings 2013 Conference North American Chapter Association
495

fiH , C OOK & BALDWIN

Computational Linguistics: Human Language Technologies (NAACL-HLT 2013), pp. 1010
1019, Atlanta, USA.
Bilhaut, F., Charnois, T., Enjalbert, P., & Mathet, Y. (2003). Geographic reference analysis geographic document querying. Proceedings HLT-NAACL 2003 workshop Analysis
geographic references - Volume 1, pp. 5562, Edmonton, Canada.
Blei, D. M., Ng, A. Y., & Jordan, M. I. (2003). Latent Dirichlet Allocation. Journal Machine
Learning Research, 3, 9931022.
Buyukokkten, O., Cho, J., Garcia-Molina, H., Gravano, L., & Shivakumar, N. (1999). Exploiting
geographical location information web pages. ACM SIGMOD Workshop Web
Databases (WebDB99), pp. 9196, Philadelphia, USA.
Carletta, J. (1996). Assessing agreement classification tasks: kappa statistic. Computational
Linguistics, 22(2), 249254.
Chandra, S., Khan, L., & Muhaya, F. (2011). Estimating Twitter user location using social
interactionsa content based approach. 2011 IEEE Third International Conference
Privacy, Security, Risk Trust (PASSAT) 2011 IEEE Third International Conference
Social Computing (SocialCom), pp. 838843, Boston, USA.
Chang, H.-w., Lee, D., M., E., & Lee, J. (2012). @Phillies tweeting Philly? predicting Twitter
user locations spatial word usage. IEEE/ACM International Conference Advances
Social Networks Analysis Mining (ASONAM), pp. 111118, Istanbul, Turkey.
Cheng, Z., Caverlee, J., & Lee, K. (2010). tweet: content-based approach
geo-locating twitter users. Proceedings 19th ACM International Conference
Information Knowledge Management, pp. 759768, Toronto, Canada.
Cho, E., Myers, S. A., & Leskovec, J. (2011). Friendship mobility: user movement locationbased social networks. Proceedings 17th ACM SIGKDD International Conference
Knowledge Discovery Data Mining, pp. 10821090, San Diego, USA.
Crandall, D. J., Backstrom, L., Huttenlocher, D., & Kleinberg, J. (2009). Mapping worlds
photos. Proceedings 18th international conference World wide web, WWW 09,
pp. 761770, Madrid, Spain.
Dalvi, N., Kumar, R., & Pang, B. (2012). Object matching tweets spatial models.
Proceedings Fifth ACM International Conference Web Search Data Mining
(WSDM 2012), pp. 4352, Seattle, USA.
Ding, J., Gravano, L., & Shivakumar, N. (2000). Computing geographical scopes web resources.
Proceedings 26th International Conference Large Data Bases, VLDB 00,
pp. 545556, Cairo, Egypt.
Dunning, T. (1993). Accurate methods statistics surprise coincidence. Computational
Linguistics, 19(1), 6174.
Eisenstein, J., OConnor, B., Smith, N. A., & Xing, E. P. (2010). latent variable model
geographic lexical variation. Proceedings 2010 Conference Empirical Methods
Natural Language Processing (EMNLP 2010), pp. 12771287, Cambridge, USA.
Fan, R.-E., Chang, K.-W., Hsieh, C.-J., Wang, X.-R., & Lin, C.-J. (2008). LIBLINEAR: library
large linear classification. Journal Machine Learning Research, 9, 18711874.
496

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Gelernter, J., & Mushegian, N. (2011). Geo-parsing messages microtext. Transactions GIS,
15(6), 753773.
Giacinto, G., & Roli, F. (2001). Design effective neural network ensembles image classification purposes. Image Vision Computing, 19(910), 699707.
Gouws, S., Metzler, D., Cai, C., & Hovy, E. (2011). Contextual bearing linguistic variation
social media. Proceedings Workshop Languages Social Media, LSM 11, pp.
2029, Portland, USA.
Guyon, I., & Elisseeff, A. (2003). introduction variable feature selection. Journal
Machine Learning Research, 3, 11571182.
Han, B., Cook, P., & Baldwin, T. (2012a). Automatically constructing normalisation dictionary
microblogs. Proceedings Joint Conference Empirical Methods Natural
Language Processing Computational Natural Language Learning 2012 (EMNLP-CoNLL
2012), pp. 421432, Jeju, Korea.
Han, B., Cook, P., & Baldwin, T. (2012b). Geolocation prediction social media data finding
location indicative words. Proceedings 24th International Conference Computational Linguistics, pp. 10451062, Mumbai, India.
Han, B., Cook, P., & Baldwin, T. (2013). stacking-based approach Twitter user geolocation
prediction. Proceedings 51st Annual Meeting Association Computational
Linguistics: System Demonstrations, pp. 712, Sofia, Bulgaria.
Hauff, C., & Houben, G.-J. (2012). Geo-location estimation Flickr images: social web based
enrichment. Proceedings 34th European Conference Advances Information
Retrieval, pp. 8596, Barcelona, Spain.
Hecht, B., Hong, L., Suh, B., & Chi, E. H. (2011). Tweets Justin Biebers heart: dynamics
location field user profiles. Proceedings SIGCHI Conference Human
Factors Computing Systems, pp. 237246, Vancouver, Canada.
Hong, L., Ahmed, A., Gurumurthy, S., Smola, A. J., & Tsioutsiouliklis, K. (2012). Discovering
geographical topics Twitter stream. Proceedings 21st International Conference
World Wide Web (WWW 2012), pp. 769778, Lyon, France.
Hong, L., Convertino, G., & Chi, E. H. (2011). Language matters Twitter: large scale study.
Proceedings 5th International Conference Weblogs Social Media (ICWSM
2011), pp. 518521, Barcelona, Spain.
Jurgens, D. (2013). Thats friends for: Inferring location online social media platforms
based social relationships. Proceedings 7th International Conference Weblogs
Social Media (ICWSM 2013), pp. 273282, Boston, USA.
Kinsella, S., Murdock, V., & OHare, N. (2011). Im eating sandwich Glasgow: modeling
locations tweets. Proceedings 3rd international workshop Search mining
user-generated contents, pp. 6168, Glasgow, UK.
Laere, O. V., Quinn, J., Schockaert, S., & Dhoedt, B. (2014). Spatially-aware term selection
geotagging. IEEE Transactions Knowledge Data Engineering, 26(1), 221234.
Laere, O. V., Schockaert, S., & Dhoedt, B. (2013). Georeferencing Flickr resources based textual
meta-data. Information Sciences, 238, 5274.
497

fiH , C OOK & BALDWIN

Leidner, J. L., & Lieberman, M. D. (2011). Detecting geographical references form place
names associated spatial natural language. SIGSPATIAL Special, 3(2), 511.
Li, R., Wang, S., & Chang, K. C.-C. (2012). Multiple location profiling users relationships
social network content. VLDB, 5(11), 16031614.
Li, W., Serdyukov, P., de Vries, A. P., Eickhoff, C., & Larson, M. (2011). tweet.
Proceedings 20th ACM International Conference Information Knowledge
Management (CIKM 2011), pp. 24732476, Glasgow, UK.
Lieberman, M. D., & Lin, J. (2009). edit: Locating Wikipedia contributors
edit histories. Proceedings 3rd International Conference Weblogs
Social Media (ICWSM 2009), pp. 106113, San Jose, USA.
Lui, M., & Baldwin, T. (2012). langid.py: off-the-shelf language identification tool. Proceedings 50th Annual Meeting Association Computational Linguistics (ACL
2012) Demo Session, pp. 2530, Jeju, Korea.
Mahmud, J., Nichols, J., & Drews, C. (2012). tweet from? Inferring home locations
Twitter users. Proceedings 6th International Conference Weblogs Social
Media (ICWSM 2012), pp. 511514, Dublin, Ireland.
Mao, H., Shuai, X., & Kapadia, A. (2011). Loose tweets: analysis privacy leaks Twitter.
Proceedings 10th Annual ACM Workshop Privacy Electronic Society, pp.
112, Chicago, USA.
Nakatani, S. (2010). Language detection library Java. http://code.google.com/p/
language-detection/.
Ng, A. Y., & Jordan, M. I. (2002). discriminative vs. generative classifiers: comparison
logistic regression naive Bayes. Advances Neural Information Processing Systems
14 (NIPS-02), pp. 841848, Whistler, Canada.
Nocedal, J. (1980). Updating quasi-Newton matrices limited storage. Mathematics Computation, 35(151), 773782.
Nunez-Redo, M., Daz, L., Gil, J., Gonzalez, D., & Huerta, J. (2011). Discovery integration
Web 2.0 content geospatial information structures: use case wild fire monitoring.
Proceedings 6th International Conference Availability, Reliability Security, pp.
5068, Vienna, Austria.
OConnor, B., Krieger, M., & Ahn, D. (2010). TweetMotif: Exploratory search topic summarization Twitter. Proceedings Fourth International AAAI Conference Weblogs
Social Media, pp. 384385, Washington, D.C., USA.
OHare, N., & Murdock, V. (2013). Modeling locations social media. Information Retrieval,
16(1), 3062.
OSullivan, D., & Unwin, D. J. (2010). Point Pattern Analysis, pp. 121155. John Wiley & Sons,
Inc.
Padmanabhan, V. N., & Subramanian, L. (2001). investigation geographic mapping techniques internet hosts. Proceedings 2001 Conference Applications, Technologies, Architectures, Protocols Computer Communications, SIGCOMM 01, pp.
173185, San Diego, USA.
498

fiT EXT-BASED WITTER U SER G EOLOCATION P REDICTION

Pontes, T., Vasconcelos, M., Almeida, J., Kumaraguru, P., & Almeida, V. (2012). know
live: Privacy characterization Foursquare behavior. 4th International Workshop
Location-Based Social Networks (LBSN 2012), Pittsburgh, USA.
Priedhorsky, R., Culotta, A., & Valle, S. Y. D. (2014). Inferring origin locations tweets
quantitative confidence. Proceedings 17th ACM Conference Computer Supported
Cooperative Work Social Computing, Baltimore, USA. appear.
Quercini, G., Samet, H., Sankaranarayanan, J., & Lieberman, M. D. (2010). Determining spatial
reader scopes news sources using local lexicons. Proceedings 18th SIGSPATIAL
International Conference Advances Geographic Information Systems, GIS 10, pp. 43
52, San Jose, USA.
Quinlan, J. R. (1993). C4.5: Programs Machine Learning. Morgan Kaufmann, San Mateo,
USA.
Ritter, A., Clark, S., Mausam, & Etzioni, O. (2011). Named entity recognition tweets: experimental study. Proceedings 2011 Conference Empirical Methods Natural
Language Processing, pp. 15241534, Edinburgh, UK.
Roller, S., Speriosu, M., Rallapalli, S., Wing, B., & Baldridge, J. (2012). Supervised text-based
geolocation using language models adaptive grid. Proceedings 2012 Joint
Conference Empirical Methods Natural Language Processing Computational Natural Language Learning, pp. 15001510, Jeju Island, Korea.
Rout, D. P., Bontcheva, K., Preotiuc-Pietro, D., & Cohn, T. (2013). Wheres @wally?: classification approach geolocating users based social ties. Proceedings 24th ACM
Conference Hypertext Social Media, pp. 1120, Paris, France.
Sadilek, A., Kautz, H., & Bigham, J. P. (2012). Finding friends following
are. Proceedings Fifth ACM International Conference Web Search Data
Mining, pp. 723732, Seattle, USA.
Schulz, A., Hadjakos, A., Paulheim, H., Nachtwey, J., & Muhlhauser, M. (2013). multi-indicator
approach geolocalization tweets. Proceedings 7th International Conference
Weblogs Social Media (ICWSM 2013), pp. 573582, Boston, USA.
Serdyukov, P., Murdock, V., & van Zwol, R. (2009). Placing Flickr photos map. Proceedings 32nd International ACM SIGIR Conference Research Development
Information Retrieval (SIGIR 2009), pp. 484491, Boston, USA.
Silva, M. J., Martins, B., Chaves, M. S., Afonso, A. P., & Cardoso, N. (2006). Adding geographic
scopes web resources. Computers, Environment Urban Systems, 30, 378399.
Tuten, T. L. (2008). Advertising 2.0: Social media marketing Web 2.0 world. Praeger Publishers,
Westport, USA.
Vapnik, V. N. (1995). nature Statistical Learning Theory. Springer-Verlag, New York, USA.
Vincenty, T. (1975). Direct inverse solutions geodesics ellipsoid application
nested equations. Survey Review, 22(176), 8893.
Wang, L., Wang, C., Xie, X., Forman, J., Lu, Y., Ma, W.-Y., & Li, Y. (2005). Detecting dominant
locations search queries. Proceedings 28th Annual International ACM SIGIR
499

fiH , C OOK & BALDWIN

Conference Research Development Information Retrieval (SIGIR 2005), pp. 424
431, Salvador, Brazil.
Wing, B. P., & Baldridge, J. (2011). Simple supervised document geolocation geodesic grids.
Proceedings 49th Annual Meeting Association Computational Linguistics:
Human Language Technologies, pp. 955964, Portland, USA.
Wolpert, D. H. (1992). Stacked generalization. Neural Networks, 5(2), 241259.
Yang, Y., & Pedersen, J. O. (1997). comparative study feature selection text categorization.
Proceedings Fourteenth International Conference Machine Learning, ICML 97,
pp. 412420, San Francisco, USA.
Yi, X., Raghavan, H., & Leggetter, C. (2009). Discovering users specific geo intention web
search. Proceedings 18th International Conference World Wide Web, WWW 09,
pp. 481490, Madrid, Spain.
Yin, J., Lampert, A., Cameron, M., Robinson, B., & Power, R. (2012). Using social media
enhance emergency situation awareness. Intelligent Systems, 27(6), 5259.
Yin, Z., Cao, L., Han, J., Zhai, C., & Huang, T. (2011). Geographical topic discovery comparison. Proceedings 20th International Conference World Wide Web, pp. 247256,
Hyderabad, India.
Zong, W., Wu, D., Sun, A., Lim, E.-P., & Goh, D. H.-L. (2005). assigning place names
geography related web pages. ACM/IEEE Joint Conference Digital Libraries, pp. 354
362, Denver, USA.

500


