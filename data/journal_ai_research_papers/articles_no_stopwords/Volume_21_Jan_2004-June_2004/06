journal artificial intelligence

submitted published

compositional model repositories via dynamic constraint
satisfaction order magnitude preferences
jeroen keppens
qiang shen

jeroen inf ed ac uk
qiangs inf ed ac uk

school informatics university edinburgh
appleton tower crichton street edinburgh eh le uk

abstract
predominant knowledge automated model construction compositional
modelling employs set particular functional components inference mechanism
takes scenario describing constituent interacting components system translates
useful mathematical model presents novel compositional modelling aimed
building model repositories furthers field two respects firstly expands application domain compositional modelling systems easily described terms
interacting functional components ecological systems secondly enables incorporation user preferences model selection process features achieved casting
compositional modelling activity dynamic preference constraint satisfaction
dynamic constraints describe restrictions imposed composition
partial preferences correspond user automated modeller
addition preference levels represented use symbolic values differ
orders magnitude

introduction
mathematical form important aid understanding complex systems help
solvers capture reason essential features dynamics systems
constructing mathematical easy task however many disciplines contributed approaches automate compositional modelling falkenhainer forbus keppens shen b important class approaches automated model construction uses
predominantly knowledge techniques translate high level scenario mathematical
model knowledge base usually consists generic fragments provide one
possible mathematical representation process occurs one components
inference mechanisms instantiate knowledge base search appropriate selection
model fragments compose mathematical model compositional modelling
successfully applied variety application domains ranging simple physics
engineering biological systems
present work aims compositional modelling building model repositories
ecological systems ecological modelling literature range devised
formally characterise phenomena occur ecological systems example
logistic growth verhulst holling predation holling describe
changes size population former expresses changes due births deaths
latter changes due one population feeding another compositional model repository aims
c

ai access foundation rights reserved

fik eppens hen

make partial generally usable providing mechanism instantiate
compose larger complex systems involving many interacting phenomena
thus input compositional model repository scenario describing configuration
system modelled sample scenario may include number populations
predation competition relations output mathematical model called
scenario model representing behaviour system specified given scenario set
differential equations describing changes population sizes aforementioned scenario
due births natural deaths deaths predation available food supply competition
would constitute scenario model
application domain poses three important challenges compositional modelling
firstly processes components ecological system represented
resulting composed model depend one another ways described population dynamics example describing predation competition phenomena
two populations rely existence population growth model populations
involved phenomenon inhibits conventional searching consistent adequate combination partial one component scenario
provides adequate solution physical systems comprised components implementing particular functionality described one multiple partial
although seminal work compositional modelling falkenhainer forbus
recognised existence complex interdependencies model construction general
provided partial solution conditions certain modelling choices
relevant specified manually knowledge base
secondly domain ecology lacks complete theory constitutes adequate model
existing compositional modellers predefined concept model adequacy
employ inference mechanisms guaranteed model meets adequacy criteria
however criteria determine adequate ecological model may vary ecological
domains even ecologists require model within domain therefore
compositional modeller requires facility define properties generated ecological
must satisfy
thirdly possible express criteria imposed scenario model terms
hard requirements often ecological describe mechanisms behaviours partially understood cases choice one model another becomes matter expert
opinion rather pure theory therefore ecological domain modelling approaches presumptions extent selected preferences existing compositional modellers
equipped deal user preferences presents first compositional
modeller incorporates
generally speaking three issues tackled means method
translate compositional modelling activity dynamic preference constraint
satisfaction adpcsp keppens shen adpcsp integrates concept
activity dynamic constraint satisfaction adcsp miguel shen mittal
falkenhainer order magnitude preferences keppens shen
attributes domains adpcsp correspond model design decisions constraints describing restrictions imposed consistency requirements properties order magnitude
preferences describing users preferences modelling choices translation method brings
additional advantage compositional modelling solved means


fic ompositional odel r epositories

efficient adcsp techniques compositional modellers benefit recent future
advances constraint satisfaction
remainder organised follows section introduces concept
adpcsp preference calculus suitable express subjective user preferences model
design decisions integrated general framework adpcsps gives
solution adpcsps next section presents compositional model repository
shows adpcsp employed automated model construction theoretical
ideas illustrated means large example section applying compositional
model repository population dynamics section concludes summary
outline

dynamic constraint satisfaction order magnitude preferences
section preference calculus order magnitude reasoning introduced integrated activity dynamic constraint satisfaction adcsp form adcsp
order magnitude preferences adpcsp solution adpcsps
presented theory illustrated examples compositional modelling domain
background activity dynamic preference constraint satisfaction
hard constraint satisfaction csp tuple hx ci
x x xn vector n attributes
dx dxn vector containing exactly one domain attribute x
domain dx set values di dini may assigned attribute
corresponding domain
c set compatibility constraints compatibility constraint c xi xj c defines
relation subset domains dxi dxj hence c xi xj dxi dxj
solution hard constraint satisfaction tuple hx dx xn dxn

attribute assigned value domain xi x dxi dxi
compatibility constraints satisfied x xi xj c hdxi dxj c xi xj
activity dynamic csp adcsp originally proposed mittal falkenhainer
extends conventional csps notion activity attributes adcsp
attributes necessarily assigned solution active ones attribute
active assigned value inactive

xi x dxi dxi xi dxi active xi

activity attributes adcsp governed activity constraints enforce
assignments attributes assignment another attribute relevant possible information
important dictates attributes value must searched
set compatibility constraints must satisfied clearly compatibility constraints


fik eppens hen

c xi xj c attributes xi xj active must satisfied hard csp
sub type adcsp attributes active
summary activity dynamic constraint satisfaction adcsp tuple
hx c ai
hx ci hard csp
set activity constraints activity constraint restricts sets attribute value
assignments attribute active inactive
axi xj xk dxj dxk active xi active xi
xi xj xk
solution activity dynamic constraint satisfaction tuple hx
dx xl dxl
attributes part solution assigned value domain x
x xl dxi dxi
activity constraints satisfied





axi xj xk xj x xl xk x xl

xi x xl hdxj dxk active xi axi xj xk

xi x xl hdxj dxk active xi axi xj xk

compatibility constraints satisfied
c xi xj c active xi active xj hdxi dxj c xi xj
order magnitude preferences omps
although adcsp capture hard constraints decisions given well
dynamically changing solution space described activity constraints representation scheme employs take account preferences users may possible
alternative value assignments therefore work extended allow preference information
attached attribute value assignments way achieved depends
representation reasoning mechanisms underlying preference calculus general preference calculus defined tuple h


set preferences

commutative associative operator closed
forms partial order reflexive anti symmetric transitive relation defined

reflexive antisymmetric transitive comparing preferences relation
yields one four possible


fic ompositional odel r epositories

two preferences p p
p p

equal one another denoted p p iff p p

preference p
strictly greater preference p
p p p p

denoted p p iff

preference p
strictly smaller preference p
p p p p

denoted p p iff

two preferences p p
p p

incomparable one another denoted p p iff p p

thus activity dynamic preference constraint satisfaction adpcsp tuple
hx c h p
hx c ai adcsp
h preference calculus
p mapping dx dxn
preferences

individual attribute value assignments

preferences attached attribute value assignments express relative desirability
assignments aim adpcsp solution highest combined preference
given adpcsp hx c h p solution hxi dxi xj dxj
adcsp hx c ai solution hxk dxk xl dxl hx c ai exists
p xi dxi p xj dxj p xk dxk p xl dxl solution adpcsp
section preference calculus introduced extend adcsp adpcsp
calculus illustrated examples compositional modelling domain
r epresentation



omp

technically omps combinations called basic preference quantities bpqs
primitive units preference utility valuation associated possible design decisions
often difficult evaluate bpqs numerically ordered relative one another employing similar ordering relations employed relative order magnitude calculi dague
b
let set bpqs respect particular decision bpqs
ordered respect one another two levels granularity two relations first
partitioned orders magnitude ordered bpqs within order
magnitude ordered formally order magnitude ordering bpqs tuple
ho oq partition irreflexive transitive binary
relation subset bpqs said order magnitude similarly
within magnitude ordering set bpqs tuple ho order magnitude
irreflexive transitive binary relation
illustrate ideas consider constructing ecological model describing
scenario containing number populations let populations parasites others
hosts parasites assume certain populations compete others scarce
resources order construct scenario model compositional modeller must make number


fik eppens hen

b lotka volterra
predation model

b holling
predation model




b rogers
host parasitoid model


b thomsons
host parasitoid model

b nicholson baileys
host parasitoid model



host parasitoid phenomenon



b exponential
growth model




b logistic
growth model


b
growth model



b competition
phenomenon

competition phenomenon

population growth phenomena

figure sample space bpqs
model design decisions population growth host parasitoid competition phenomena
relevant types model best describe phenomena
figure shows sample space bpqs correspond selection types model
sake illustration presumption made quality scenario model depends
inclusion types model rather inclusion exclusion phenomena apart
b b bpqs correspond standard textbook ecological bpq b stands
use population growth model implicit another population growth model lotkavolterra model instance implicitly includes concept growth finally bpq b
preference associated competition model say one included knowledge base
bpqs sample space partitioned orders magnitude relation
orders orders magnitude binary relation orders individual bpqs within order magnitude bpq ordering within instance rogers
host parasitoid model b preferred nicholson bailey b holling
predation model b latter two compared one another
preferred lotka volterra model furthermore thompsons host parasitoid model
less preferred nicholson bailey compared lotka volterra
holling
c ombinations



omp

definition omps combinations bpqs implicit value omp p equals combination b bn constituent bpqs b bn property allows omps defined
functions omp p b bn function fp b fp b
precise bpqs b b b b b b b respectively correspond inclusion rogers
host parasitoid model host parasitoid model nicholson bailey hollings predation model
thompsons host parasitoid model predation model lotka volterra logistic
population growth model verhulst exponential population growth model malthus



fic ompositional odel r epositories

set bpqs set natural numbers fp b equals number occurrences b
b bn
example let pmodel denote omp associated scenario model contains three
logistic population growth b two holling predation model b one competition
model b therefore
pmodel b b b b b b
hence








fpmodel b







b b
b b
b b
otherwise

describing omps functions concept combinations omps becomes clear
two omps p p combined preference p p defined
fp p



b fp p b fp b fp b

note combination operator assumed commutative associative strictly monotonic p p p latter assumption made better reflect ideas underpinning conventional utility calculi binger hoffman
partial ordering omp
combinations omps partial order omps computed exploiting constituent bpqs omps considered partial order implies comparison
pair omps returns equal preference smaller preference greater preference
incomparable preference calculus developed assuming following
prioritisation combination bpqs never order magnitude greater constituent bpqs given set bpqs belonging order magnitude
b b bn bpq b belonging higher order magnitude e

b b bn b
respect ongoing example means bpq taken order magnitude preferred combination bpqs taken words choice
model describe host parasitoid phenomenon considered important
choice population growth model see figure
prioritisation means distinctions higher orders magnitude considered
significant lower orders magnitude consider number bpqs
b bm bm bn taken one order magnitude pair bpqs b b
taken order magnitude higher b b irrespective
ordering bpqs taken
b bm b bm bn b


fik eppens hen

strict monotonicity even though distinctions higher orders magnitude significant distinctions lower orders magnitude negligible given omp
p two bpqs b b taken order magnitude b b
irrespective orders magnitude bpqs constitute p
b p b p
instance preference ordering depicted figure shows scenario model
rogers host parasitoid model two logistic predation preferred one
rogers host parasitoid model two exponential predation
b b b b b b
note departure conventional order magnitude reasoning omps
associated two partial outcomes contain equal bpqs higher order magnitude
usually desirable compare solutions terms less important constituent
bpqs lower orders magnitude example illustrated however conventional orderof magnitude reasoning techniques handle
partial ordering maintenance conventional order magnitude reasoning motivated
need abstract descriptions real world behaviour whereas omp calculus motivated incomplete knowledge decision making opposed conventional orderof magnitude reasoning real numbers omps necessarily totally ordered
implies user states example b b b b b b
explicit absence ordering information bpqs b b b b
means user unable compare e g entirely different things
consequently b b would deemed incomparable b b e b b b b rather
roughly equivalent
derived given two omps p p order magnitude
p less equally preferred p respect order magnitude denoted p p
provided
bi fp bi

x

bj bi bj


fp bj fp bi

x

bj bi bj

fp bj



thus comparing two omps within order magnitude yield four possible
p less preferred p respect p p iff p p p p
p preferred p respect p p iff p p p p
p equally preferred p respect p p iff p p p p

p incomparable p respect p p iff p p p p


fic ompositional odel r epositories

ongoing example figure instance preference scenario model
rogers host parasitoid model holling predation model p b b preference
scenario model rogers host parasitoid model lotka volterra predation model
p b b latter model less equally preferred former within
host parasitoid order magnitude e p p
fp b fp b
fp b fp b fp b fp b
fp b fp b fp b fp b
fp b fp b fp b fp b fp b fp b
fp b fp b fp b fp b fp b fp b fp b fp b
similarly established reverse e p p true therefore latter
scenario model less preferred former within e p p
generalised given two omps p p p less
equally preferred p denoted p p
oi p oi p oj oi oj p oj p
generally relations derived manner
relation
illustrate utility orderings consider scenario one predator population
feeds two prey populations two prey populations compete scarce resources
following two plausible scenario scenario
model contains two holling predation three logistic population growth
preference p b b b b b
model contains one competition model two holling predation two logistic population growth exponential population growth model preference
p b b b b b b
demonstrated earlier shown p p p p p p
relations follows p p
p p since p p
exists order magnitude p p
p p since p p
reverse true concluded scenario model preferred scenario model

solving adpcsps
section presents basic solving adpcsps although omps used
work take adpcsp provided employs preference calculus


fik eppens hen

commutative associative monotonic combination operator however use omps provides
convenient way specifying incomplete preference information
adpcsp similar valued csps presented schiex fargier verfaillie
semiring csps bistarelli montanari rossi however extends
approaches activity constraints involves different underlying presumptions valuation
structure preference valuations work allowed ordered partially opposed
valued csps
adpcsp represents important type constraint satisfaction optimisation tsang
order tackle optimisation preferences type employed hart
nilsson raphael raphael known efficient terms
total number nodes explored effort optimal solutions given amount
information downside exponential space complexity naturally number
alternative approaches could explored including conventional constraint solving
methods depth first branch bound search however use
sufficient solving adpcsps domain present interest particular
implements search strategy capable handling activity constraints involves
use basic csp techniques constraint propagation backtracking
maintains explored attribute value assignments means priority
queue q nodes node n q corresponds set attribute value assignments solution n
search proceeds number iterations iteration node n taken q
replaced nodes extend solution n additional attribute value assignment
specifically node n q set xu n remaining active unassigned attributes
maintained iteration possible assignments first attribute x x u n
n node taken q current iteration processed every assignment x
consistent solution n e solution n x c child node n
solution n solution n x xu n xu n x created added q
activity constraints processed via propagation rather constraint satisfaction whenever node n taken q xu n empty activity constraints fired order
obtain set active unassigned attributes x u n assigned
xi solution n active xi xa n
xa n represents active already assigned attributes node n
priority queue q nodes maintained means two heuristics committed preference
cp n potential preference p p n given node n
cp n x dsolution n p x
p p n cp n xxnd n max p x
ddx

xnd n set unassigned attributes still activated given partial assignment solution n indicated previously actual implementation employs assumption
truth maintenance system de kleer efficiently determine attributes activity
longer supported words cp n preference associated partial attributevalue assignment node n p p n cp n combined highest possible preference
assignments taken values domains attributes x nd n thus p p n


fic ompositional odel r epositories



solve x c p

n node
solution n
xu n xi active xi
xa n
cp n
p p n xx maxdd x p x
q createorderedqueue
enqueue q n p p n cp n q

n dequeue q





xu n






x first xu n




process x n c p q


xu n xi solution n active xi xa n







xu n






nnext first q












cp n p p nfirst





return solution n
else













else p p n cp n







enqueue q n p p n cp n










x first xu n



else
process x n c p q
procedure process x nparent c p q

x
solution n


parent x c


nchild node





solution n solution n



child
parent x




x deactivated solution n x n




child
parent






xnd nchild xnd nparent x xd

xa nchild xa nparent x






xu nchild xu nparent x









cp nchild cp nparent p x








p p nchild cp nchild xxnd n maxdd x p x




enqueue q nchild p p nchild cp nchild

computes upper boundary preference adpcsp solution includes partial
attribute value assignments corresponding n
following theorem shows guaranteed set attribute value
pairs highest combined preferences within set solutions satisfy constraints
theorem solve x c p admissible
proof solve x c p guided heuristic function p p n cp n
h n cp n actual preference node n h n xxnd n maxddx p x
follows previous discussion h n greater equal combined preference
value assignment unassigned attributes consistent partial solution n
nodes n maintained priority queue descending order p p n let
distance function reverses preference ordering p p p p
solve x c p described nodes n priority


fik eppens hen

queue q ordered ascending order p p n p p n cp n h n
h n lower bound distance n optimal solution therefore following work hart nilsson raphael solve x c p admissible
guaranteed solution minimal p maximal p
illustrate consider finding ecological model describes
behaviour two populations one predates adpcsp constructed
compositional modelling following attributes domains note section
demonstrates attributes domains constraints constructed
automatically section illustrates ideas context larger example

x x x x x x x
dx yes
dx yes
dx yes
dx logistic
dx logistic
dx holling lotka volterra
attributes x x x respectvely describe relevance following phenomena
change size predator population change size prey population
predation prey predator attributes x x represent choice type
population growth model two types incorporated logistic
one finally attribute x associated choice model type predation
phenomenon two types model holling model lotka volterra model
included
holling predation model presumes logistic employed describe
population growth lotka volterra model incorporates population growth
model combinations assignments x x x restricted hence adpcsp
contains set c c x x c x x compatibility constraints
c x x hx x lotka volterrai hx logistic x hollingi
c x x hx x lotka volterrai hx logistic x hollingi
furthermore model type predator prey growth must selected corresponding population growth phenomenon deemed relevant model type predation must selected population growth phenomena predation phenomenon deemed relevant ecological describing predation rely submodels
describing population growth predator prey hence adpcsp contains set
ax x ax x ax x x x activity constraints


fic ompositional odel r epositories

ax x hx yes active x hx active x
ax x hx yes active x hx active x
ax x x x hx yes x yes x yes active x hx yes x yes x active x
hx yes x x yes active x hx yes x x active x
hx x yes x yes active x hx x yes x active x
hx x x yes active x hx x x active x
finally let preference calculus consist two orders magnitude growth opredation
ogrowth opredation
ogrowth pother plogistic plogistic pother
opredation pholling plotka volterra plotka volterra pholling
omp assignments follows
p x p x pother
p x logistic p x logistic plogistic
p x holling pholling
p x lotka volterra plotka volterra
applied initialises search creating node n
xu n set currently active attributes initialised x x x activity
attributes depend attribute value assignments
xa n cp n initialised empty set respectively since attributes
assigned yet
finally p p n equals pother pother pholling combination highest
omps associated domain
initial node enqueued q next proceeds number iterations
iteration node potential measured p p cp dequeued
children generated enqueued q nodes created way depicted
figure number subscript node ni indicates order node generation
thick arrows order search space explored
note three important features could clearly demonstrated within figure firstly node n initial set unassigned attributes exhausted
xu n therefore activity constraints fired n explored n corresponds assignment x yes x yes x yes remaining attributes activated
xu n reset x x x
secondly node n corresponds assignment active attributes consistent
activity compatibility constraints
x yes x yes x yes x x x lotka volterra


fix
yes

n

p p pother pother pholling
cp



n
p p pother
cp

x
yes

n

n

p p pother pother pholling
cp



p p pother
cp

x
n

yes

p p pother pother
cp



p p pother pother pholling
cp

k eppens hen



n

x


n

p p pother pother pholling
cp pother

n

logistic

p p plogistic pother pholling
cp plogistic

x
n



x

n

p p pother pother pholling
cp pother pother

logistic

p p pother plogistic pholling
cp pother plogistic

x
n

n

holling
inconsistent

p p plogistic pother pholling
cp plogistic pother

x
lotka volterra

p p pother pother plotka volterra
cp pother pother plotka volterra

n

n

logistic

p p plogistic plogistic pholling
cp plogistic plogistic

x

n

holling
inconsistent



n

lotka volterra
inconsistent

n

x

n

holling
inconsistent

lotka volterra
inconsistent

figure search space explored solving sample adpcsp

n

holling

p p plogistic plogistic pholling
cp plogistic plogistic pholling

n

lotka volterra
inconsistent

fic ompositional odel r epositories

assignment solution adpcsp corresponding preference guaranteed maximal assignment fact optimal creation n priority queue q looks follows ordering n n may vary since p p n p p n
cp n cp n
n n n n n n
therefore next node explored n subsequent creation n n
thirdly node n correspond optimal solution creation q equals
n n n n n
consequence n dequeued next iteration children n created
xu n activity constraints activate attributes n retained solution
user interested finding multiple alternative solutions search may proceed
q contains nodes p p value smaller maximum preference
first solution case p p n cp n hence one solution
adpcsp

compositional model repositories
adpcsps discussed previous section provide foundation development
compositional model repositories section specifies compositional model
repository built solve shows translated adpcsp hence resolved
proposed adpcsp solution
background assumption truth maintenance
atms mechanism keeps track piece inferred information depends
presumed information facts inconsistencies arise atms piece
information used derived solver stored node certain pieces information
known true cannot inferred pieces information yet plausible
inference may drawn nodes categorised special type referred
assumptions
inferences pieces information maintained within atms dependencies corresponding nodes extended form see de kleer keppens
atms take inferences called justifications form n nj nk nl nm
ni nj nk nl nm nodes solver interested atms
take specific type justification called nogood leads inconsistency
form ni nj nk nl meaning least one statements
ni nj nk nl must false atms nogoods represented justifications special node called nogood node
given justifications nogoods atms computes label nonassumption node label set environments environment set assumptions
particular environment e depicts possible world assumptions e true
thus label l n node n describes possible worlds n true label
computation atms guarantees label


fik eppens hen

sound assumptions environment within label node true sufficient
condition derive node
e l n ni e ni ni e ni n
consistent environment label node nogood node describes
impossible world
e l n ni e ni ni e ni
minimal label contain possible worlds less general one
possible worlds contains e environments supersets environments
label
e l n e l n e e
complete label node nogood node describes possible worlds
node inferred
e ni e ni ni e ni n
e l n ni e ni ni e ni n
knowledge representation
knowledge building compositional modeller requires formalism specification inputs outputs knowledge base work developed
loosely compositional modelling language bobrow falkenhainer farquhar fikes
forbus gruber iwasaki kuipers proposed standard knowledge representation formalism compositional modellers adapted meet challenges ecological compositional
modelling identified introduction
p reliminary

concepts

primitive constructs compositional modeller participants relations assumptions subsection summarises concepts explains represented herein
participants refer objects interest involved scenario model
participants may real world objects conceptual objects variables express
features real world objects mathematical model instance population species
typical example real world object variable expresses number individuals
species forms example conceptual object natural group objects share
something common classes participants herein grouped participant classes
representing set participants share certain common features class given
name easy reference
relations describe participants related one another participants
relations represent real world relationship
previous work compositional modelling refers individuals quantities names
would suit present application ecological typically describe behaviour populations rather
individuals often hard distinguish quantities



fic ompositional odel r epositories

predation frog insect



relations may conceptual nature equation describes important
textbook model logistic population growth ford

size
change parameter size

dt
capacity



consistent compositional modelling approaches employs lispstyle notation relations two sample relations become

predation frog insect



dt change change rate size size capacity



assumptions form special type relation employed distinguish alternative
model design decisions internally assumptions stored form assumption nodes
atms see section knowledge base assumptions appear relations
specific syntax semantics
two types assumptions employed article relevance assumptions state phenomena included excluded scenario model typical examples phenomena
population growth predation phenomena general format relevance assumption
shown phenomenon incorporated scenario model describing relevance assumption identified hnamei specific subsequent participants relations
example relevance assumption states growth participant population
included model

relevant

hnamei

hparticipanti hrelationi

relevant growth population




model assumptions specify type model utilised describe behaviour certain
participant relation typical examples model types include exponential malthus
logistic verhulst model types population growth formal specification
model assumption given often hnamei corresponds name known
partial model phenomenon process described example states
population population modelled logistic
model

hparticipanti hrelationi

hnamei

model population logistic






fik eppens hen

predators
natality

mortality
mortalityrate

natalityrate
preyrequirement

capacity

prey
mortality

natality

natalityrate

predation

mortalityrate
capacity
searchrate
preyhandlingtime

figure stock flow diagram predator prey scenario model
cenarios scenario
formalised keppens shen b compositional modeller takes two inputs produces one output first input representation model describes
system interest means accessible formalism model normally consists
mainly real world participants interrelationships called scenario second input
task description formal description criteria adequacy output
evaluated output model describes scenario detailed formalism
usually set variables equations model reasoner employ readily
model normally contains conceptual participants interrelationships called scenario
model aim compositional modeller translate scenario scenario model
means task description
work model formally defined tuple hp ri p set participants
r set relations participants p definition applies scenario
scenario model typical example scenario description predator population prey
population predation relation predator prey scenario model
hp ri
p predator prey
r predation predator prey
aim compositional model repository translate scenario scenario model
within work systems dynamics stock flow formalism forrester ordinary differential equations odes employed modelling formalisms example scenario
model corresponds scenario depicted figure formally scenario model
another model hp ri case
p npredator bpredator dpredator nprey bprey dprey pprey
bpredator bprey dpredator dprey cpredator cprey
prey predator prey predator r predator prey


fic ompositional odel r epositories

symbol
npredator nprey
bpredator bprey
dpredator dprey
pprey
bpredator bprey
dpredator dprey
cpredator cprey
prey predator
prey predator
r predator prey

variable name
number predators prey
natality predators prey
mortality predators prey
predation prey
natality rate predators prey
mortality rate predators prey
capacity predators prey
search rate
prey handling time
prey requirement

table variables stock flow diagram mathematical model
r


npredator bpredator dpredator
dt

nprey bprey dprey pprey
dt
bpredator bpredator npredator
bprey bprey nprey
dpredator dpredator npredator

npredator

cpredator

nprey

cprey
prey predator nprey npredator


prey predator nprey prey predator

dprey dprey nprey
pprey

cpredator r predator prey nprey
cprey nprey
relation variables mathematical model used stock flow diagram given table generally speaking stock flow diagrams graphical representations
systems ordinary qualitative differential equations automated modelling literature
general engineering physical systems modelling particular sophisticated representational formalisms developed enable identification mathematical
behaviour dynamic systems observations examples include bond graphs karnopp margolis rosenberg generalised physical networks easley bradley however
potential benefits advanced formalisms exploited remain
interesting future work instead stock flow diagrams employed throughout
far commonly used ecological modelling ford
often possible construct multiple scenario single given scenario
task specification employed guide search appropriate one work
scenario selected basis hard constraints user preferences hard constraints stem restrictions imposed compositionality representational framework see
section properties scenario model required satisfy see section


fik eppens hen

name
addition
multiplication
selection

syntax infix notation
var c formula
var c formula
var c formula
var c formula
var c p antecedent formula
var c else formula

syntax prefix notation
var c add formula
var c sub formula
var c mul formula
var c div formula
var c antecedent formula priority p
var c else formula

table composable functors composable relations
user preferences express users subjective view modelling approaches
appropriate context current scenario see section


knowledge base

construct scenario given scenario compositional modeller relies use
knowledge base particular domain illustrate ideas section
presents constructs employed compositional modeller developed synthesise
scenario ecological domain
composable relations knowledge base consists partial
instantiated composed complex scenario composition partial
scenario model may involve composition partial relations coming different partial
compounded relations sample scenario model section following
relation describes changes population size prey population

nprey bprey dprey pprey
dt



nprey population size bprey number births dprey number natural deaths
pprey number prey died due predation thus relation actually describes two
phenomena affect population size nprey natural population growth bprey dprey
predation related deaths pprey constructing knowledge base desirable represent
two phenomena isolation occur combination example
species predators therefore unnecessary include predation
cause death viewpoint relation seen composed different
composable relations knowledge base

nprey c bprey
dt


nprey c dprey
dt


nprey c pprey
dt

use composable relations enables knowledge base cover many combinations
phenomena may affect relation possible representing phenomenon individually rather precompiling everything together component parts e
composable relations relations need represented instead possible however complex combinations knowledge base smaller effective section
describes composable relations represented knowledge base well whether
composed form compounded relations


fic ompositional odel r epositories

composable relations containing composable functors method
composition exists describes complete set composable relations composed
composable functors employed proposed bobrow et al addition
composable selection summary composable relations presented table
composable relations introduced bobrow et al easy understand
formulae f v c f v c f represent terms respectively f f sum
formulae f v c f v c f represent factors respectively f f product
however ecological use typically contain selection statements declare
one certain equation must employed condition satisfied one otherwise
formally selection relation form
c v r else c else v rn



v participant ci n relation describing condition statement
rj j n relation selection relation consists partial relations
ci v ri

n

else v rn
therefore selection relation composed two types composable relation first
composable relation form v c p f v participant p
element taken total order set natural numbers denotes priority
composable relation sequence f two given relations second type
composable relation composable else relation form v c else felse
felse given relation assigned v none antecedents composable relations
true
illustrate notation selection relation composed following composable relations
v c p c r


v c pn cn rn
v c else rn
p pn
combine composable relations number rules defined implement semantics
representational formalism theory set rules generated enables aggregation set composable relations practice however trade must made
flexibility ability combine many different types composable relation comprehensibility use set rules easily understood knowledge engineer employs
composable relations thus types composable relations combined
restricted
table summarises composable relations joined form compounded relations
principle guiding construction table allow composition relations
certain types resulting compound relation intuitively obvious example according


fik eppens hen

c f
c f
c f
c f
c p f
c p f
c else f

c f
yes
yes






c f
yes
yes






c f


yes
yes




c f


yes
yes




c p f




yes

yes

c else f




yes
yes


table composibility composable relations
table composable addition relation x c combined composable subtraction relation x c z combination clearly x z however according
table composable addition relation x c combined composable multiplication relation x c z arbitrary non intuitive rule would otherwise
defined decide whether compound relation would x z x z
order composable selections must considered defined priorities
implicit case c else therefore composable selections combined one
another provided two composable relations priority
order derive actual rules composition sets composable relations
functor given model hp ri defined first

r v c v c v c r
r v c v c v c r
r v c v c v c r
r v c v c v c r
r v c v c pi ai v c pi ai r
r v c else v c else v c else r
rules composition built given expressions
jointly state given set composable relations rewritten single compound
relation rules contains complete set composable relations antecedent
particular antecedent rule contains set composable addition subtraction
relations participant v left hand side
similarly antecedent rule contains complete set composable multiplication relations finally antecedent rule satisfied complete set composable else
relations left hand participant v provided priorities strictly ordered e
two priorities equal single composable else relation latter two
conditions added two composable relations priority two composable
else relations compounded consequents rules composition explain
complete sets composable relations joined simply matter applying
appropriate mathematical operation provided terms


fic ompositional odel r epositories

r v c v c f v c fm
r v c v c f v c fn



v f fm f fn
r v c v c f v c fm
r v c v c f v c fn
f fm
v
f fn



r v c v c p f v c pm fm
r v c else v c else felse p pm



v f else fm else felse
property definitions property definitions describe features interest application requiring
scenario model property definition tuple hp p ps psm set
source participants predicate calculus sentence whose free variables elements p
relation whose free variables elements p
ps psm

typical example feature interest requirement certain variable model
endogenous exogenous specific property definitions describe
variable v endogenous exogenous respectively
defproperty endogenous
source participants v type variable
structural condition v dt v
property endogenous v
defproperty exogenous
source participants v type variable
structural condition endogenous v
property exogenous v

v true matches
first definition states whenever v dt
constant formula v deemed endogenous second property definition indicates
variable said exogenous object exists endogenous
describing features formally knowledge base property definitions enable
imposed criteria selection scenario way variable describing
size particular population eco system instance forced endogenous
note required properties specified two different ways globally goals
scenario model construction locally required purpose certain model fragment
latter use model properties illustrated later



fik eppens hen

model fragments model fragments building blocks scenario constructed model fragment tuple hp p p ps psm
set variables called source participants p pt ptn set variables called targetparticipants sv set relations called structural conditions whose free variables elements p tx set relations called postconditions whose free
variables elements p p ay set relations called assumptions
set relations called purpose required properties
ti ps psm pt ptn sv ay ti


ps psm pt ptn





sv

ax




note work property definition hp equivalent model fragment
hp
example model fragment states population p described two
variables p size describing size p p change describing rate change
population size differential equation

p size p change
dt
usage partial scenario model subject two conditions growth phenomenon
relevant regard p variable p change endogenous eventual scenario
model former requirement indicated relevance assumption latter
purpose required property
defmodelfragment population growth
source participants p type population
assumptions relevant growth p
target participants p size type variable
p change type variable
postconditions size p size p
change p change p
dt p size p change
purpose required endogenous p change

purpose required property usually satisfied additional model fragments
one
defmodelfragment logistic population growth
source participants p type population
p size type variable
p change type variable
structural conditions size p size p
change p births p
assumptions model p size logistic
target participants r type parameter
k type variable
type variable
postconditions capacity k p
density p size
c add p size k
p change r p size



fic ompositional odel r epositories

model fragments rules inference describe knowledge derived
existing knowledge committing emerging model certain assumptions used
generate space possible model fragments instantiated matching sourceparticipants existing participants scenario emerging model matching
structural conditions corresponding relations possible instantiation instance
generated target participants necessary instances created
postconditions assumptions instances well inferential relationships
instances source participants structural conditions assumptions one hand
target participants postconditions stored atms forming
model space explained section
model fragment said applied instantiated underlying assumptions
hold model fragment applied instances target participants postconditions
corresponding instantiation model fragment must added resulting model
respect example model fragment implements logistic population growth
model instantiated whenever variables exist describe size change population
applied logistic model population size selected
note compositional modellers ones devised heller struss
levy iwasaki fikes nayak joskowicz rickel porter
model fragments represent direct translations components physical systems influences variables compositional modeller presented herein aims serve ecological
model repository contents model fragments employed differs conventional
compositional modellers two important regards
firstly model fragments contain partial describing certain phenomena instead influences partial normally correspond developed ecological modelling
typical examples include logistic population growth model verhulst
holling predation model holling devised population dynamics literature
secondly partial contained model fragments often need composed incrementally example aforementioned sample model fragment logistic populationgrowth requires emerging scenario model may generated sample model
fragment population growth thus one model fragment e g logistic populationgrowth expand partial model contained another e g population growth feature correctly presumed model fragment generates relations
preconditions model fragments expands violating presumption would
make little sense context present application would imply recursive extension
emerging scenario model set variables equations
participant class declaration participant type hierarchies
general participant classes need defined however certain types participant may
described terms interesting participants irrespective modelling choices
feature provides syntactic sugar describing important relations participants making
easier declare required properties scenario model terms participants scenario
example behaviour population may described terms population size growth
rate variables
defentity population
participants size growth rate



fik eppens hen

participant class declarations may employed within model fragments provide
specific definition meaning source participants target participants way
participant specifications constrained feature another participant means
entity statement following example illustrates
defmodelfragment define population growth phenomenon
source participants p type population
target participants
ps type stock entity size p
pg type variable entity growth rate p
pb type flow
pd type flow
assumptions relevant growth p
postconditions pg pb pd
flow pb source pl
flow pd pl sink

furthermore participant class declarations may define one class immediate subclass
another example population participant class holometabolous insects e g butterflies
may defined subclass population participant class
defentity holometabolous insect population
subclass population
participants
larva number pupa number adult number

way participant type hierarchy defined subclass inherits participants
superclasses e immediate superclass superclasses superclasses
summary participant class declaration tuple h p participant
class called immediate superclass participant class p set participants classes
describe important features participant class
inference
compositional modelling method presented herein employs four step inference procedure
model space construction model space atms efficiently stores participants relations model design decisions represented form relevance model
assumptions may part final scenario model well conditions
participants relations must must part scenario model
adcsp construction model space contains number hard constraints participants relations may combined inference step extracts restrictions
translates adcsp
inclusion order magnitude preferences preferences associated relevance
model assumptions scenario space reflect relative appropriateness
assumptions resulting adpcsp
scenario model selection inference step solves adpcsp resulting solutions
correspond scenario consistent according domain knowledge
optimise overall preference respect order magnitude preference calculus


fic ompositional odel r epositories

specification

compositional model repository

population prey
population predator
predation predator prey

application

step
model space construction

scenario
model space

requirements
inconsistencies
generation

activitybased dynamic constraint
satisfaction construction

requirements
inconsistencies

knowledge base
step

scenario model
construction
dynamic constraint
satisfaction

scenario model
step
inclusion orderofmagnitude
preferences

preferences
preference ordering

dynamic preference constraint
satisfaction

application

prey
death
rate

birth
rate

crowding
max crowd
sustainable
population

fooddemand

consumption

step

predator
death
rate

birth
rate

scenario model selection
adcsp solver

crowding

assumption set

knowledge elements

inference elements

figure inference procedures compositional modeller



fik eppens hen

four steps correspond four squares compositional model repository figure
section inference steps discussed detail illustrated means
simple examples next section contains detailed example shows procedure
applied non trivial ecological modelling domain
cenario k nowledge base odel pace
previously stated aim compositional modeller translate scenario scenario
model representations system interest though model system different
level detail knowledge base provides foundation translation scenario
constructed given scenario regard knowledge base stored
model space
model space atms de kleer containing participants relations assumptions instantiated given scenario work generalised version
atms introduced de kleer employed allows use negations nodes
justifications generate odel pace ho ri describes model
space created scenario ho ri first initialises model space participant instances relation instances r scenario model fragment whose source participants structural conditions match participants relations already
instances target participants assumptions postconditions added property definition hp equivalent model fragment hp
procedure applies property definitions well model fragments matching sourceparticipants structural conditions model fragment emerging model space performed function match specified model fragment
matched substitution source participants participant instances


true ps psm om





p ps psm

match
om








false otherwise
match specified model fragment substitution processed follows

assumption node denoting assumption instance created
added
node n denoting instantiation via substitution created added
justified implication
aa pp p n
finally instance target participant p p postcondition
provided already exist model space created
target participants involves creating symbol participant instance
function gensym extending substitution p gensym node n


fic ompositional odel r epositories



generate odel pace ho ri

atms
add node
r r add node r
match

justification










newnode add node





justification
justification newnode


p p





justification justification node p








justification justification node




add node n
add justification n njustificationn





p p



p gensym




add node p





add justification n



















get node




else
add node





add justification n
n nm inconsistent n nm
add justification n n nm







instances assumptions




pt x



instances sourceparticipants
p ps psm

instances structural
conditions
sv

ps













ptn




psm






ts







instances target
participants
p pt ptn

instances postconditions
ts

sv

figure model fragment application

created added participant instance p instantiated
relation nodes justified implication n n


fik eppens hen

global property must satisfied
consistent scenario

purpose required property model fragment
applied substitution

r r
non composable relations

v r

















inconsistency caused
global property



v r




b inconsistency caused
purpose required property

c inconsistency caused
non composable relations

figure sources inconsistency
illustrate procedure figure shows graphical representation inferences
constructed applying model fragment hp p respect substitution

possible applications model fragments exhausted inconsistencies
model space identified recorded atms nogoods generated
set n nm inconsistent nodes denoted inconsistent n nm
three sources inconsistencies reported atms different way
global properties let instance global property scenario model must
satisfy combination assumptions negations assumptions prevents
satisfied inconsistent therefore inconsistent must reported
required global property type inconsistency depicted figure
purpose required properties application model fragment without satisfying
purpose required properties yields inconsistency see hence node
n denoting instantiation via substitution node n describing
appropriate instance purpose required property inconsistent n n
reported type inconsistency depicted figure b
non composable relations mathematical formalism designed describe simulation
dynamic systems certain combinations relations may constrain model
hence unsuitable generating behaviour system interest within
system dynamics ode formalisms used assignments relations
variable composable relations explicitly deemed composable
words two relations v ri v rj combined one another ri
rj composable examples pairs non composable relations include
x c x c z c c relations composable
c b c c composable relation
combinations non composable relations must reported inconsistency well
type inconsistency depicted figure c


fic ompositional odel r epositories

assumption
relevant growth frog
participant
population frog






assumption
model nfrog logistic

participant
parameter rfrog

relation

dt nfrog cfrog

participant
parameter kfrog

participant
variable cfrog

relation
capacity kfrog frog

participant
variable nfrog

population growth
model fragment
logistic population growth
model fragment
endogenous
property definition

cfrog rfrog nfrog

nfrog

kfrog

relation
change cfrog frog
relation
size nfrog frog

relation
endogenous cfrog

relation







relation
endogenous cfrog



figure partial model space
illustrate model space construction figure presents small sample model
space application population growth logistic population growth model fragments endogenous property definition described
earlier single population frog larger scenario involving multiple populations relations populations specified similar partial model space would generated
individual population
f rom

model space dcsp

model space constructed translated adcsp translation
procedure summarised createa dcsp consists three steps described


createa dcsp

comment set substitutions

comment generate attributes domains

assumption class
x create attribute




x





x

aa



v create value



x x v



x v
comment generate activity constraints

assumption class
subject
ap aq l

add ap aq active
comment generate compatibility constraints
ap aq l n
add ap aq



fik eppens hen

generate attributes domain values assumptions adcsp attributes correspond underlying assumption classes e groups assumptions indicating alternative
choices regards model construction decision relevance assumption
negation jointly form assumption class example relevant growth
frog relevant growth frog specifies assumption class set
model assumptions involving participants relations different model names
hence different descriptions form assumption class instance model
nfrog exponential model nfrog logistic model nfrog
nfrog variable denoting size population specifies assumption class running step attribute created assumption class
domain attribute consisting assumption instances assumption class
create activity constraints attributes domain values generated previous step
meaningful situations participant relation instances contained
arguments corresponding assumptions exist example assumption model
nfrog logistic relevant participant instance nfrog exists clearly assumptions within one assumption class participant relation instances
arguments assumption class corresponds one attribute attribute
activated participant relation instances associated related assumption class active therefore step creates activity constraints activate
attribute conjunction environments contained within labels
participants relations assumption class instance deduced figure
nfrog activated relevant growth frog committed thus attribute
corresponding assumption class defined step activated attribute value
assignment associated relevant growth frog assumption
create compatibility constraints atms model space sources inconsistencies contained label nogood node therefore compatibility constraints
created directly translating environments label l corresponding
conjunctions attribute value assignments


dcsp



preferences

dpcsp

adcsp produced formalises hard requirements imposed upon scenario
among scenario meet requirements may better others
underlying model design decisions may deemed appropriate user preferences
express relative level appropriateness attached assumptions describe
model design decisions extension attribute value pairs adcsp discussed
section extension adcsp constitutes adpcsp
specifically worth recalling section order magnitude preference
calculus presented enables representation reasoning subjective user preferences
different relevance modelling assumption next section introduces solution
adpcsps include adcsp ones constructed section
extended subjective user preferences alternative design decisions


fic ompositional odel r epositories

outline analysis complexity
complexity work arises four major sources model space construction label
propagation atms model space adcsp translation adpcsp solution
generate odel pace ho ri essentially performs fixed sequence instructions
produces small set nodes inferences match model fragment therefore
time space complexity linear respect number possible matches model
fragments createa dcsp extracts certain information model space rewrites
different formalism without manipulations therefore time space complexity
linear respect size model space
label propagation atms known exponential time complexity
however model space built incrementally generate odel pace ho ri
root nodes atms network e correspond facts antecedents leaf nodes e consequents nogood node
inconsistencies added end complexity increases exponentially
depth network number participants relations individual model fragments rather size model space fact significantly limits complexity
impact label propagation firstly depth atms network restricted domain
many conventional compositional modellers model fragments direct translations
scenario components scenario model equations depth would one empirically constructing model space sophisticated eco systems depth model space never exceeded
secondly size individual model fragments change significantly size
knowledge base
fourth final source complexity driven fact constraint satisfaction
must determine consistent combination assumptions model space space
attribute value assignments increases exponentially size number assumptions
hence model space thus overall complexity present largely
dominated constraint satisfaction employed
user specify preference csp adcsp recently number efficient
methods devised solving adcsps presented minton et al mittal
falkenhainer verfaillie schiex helps minimise overhead incurred
compositional modelling
preferences csp becomes adpcsp argued section presents
yet studied detail work proposed
implement csp solution method known efficient terms
proportion search space needs explore finding optimal solution
compared search methods heuristic hart et al
disadvantage incurs exponential space complexity explained miguel shen
b tsang wide range alternative solution techniques exist ordinary
csps many could extended solve adpcsps detailed examination
techniques topic future
automated modelling scientific discovery
mentioned previously compositional model repository designed order compose
systems structure relevant domain knowledge gives rise po

fik eppens hen

tentially beneficial means operationalise outcomes scientific discovery specifically
resultant compositional model repositories allow existing knowledge model construction
applied unexperienced scenarios support investigation situations may
physically difficult replicate create may synthesised computational representations
present work applied vegetation component modmed n species
model legg muetzelfeldt heathfield n species model offers system dynamics
representation populations mediterranean vegetations affected populations farm animals climate environmental management purpose model
instantiated respect mediterranean communities serve component
large scale simulation designed simulate effects environmental
policies mediterranean landscape knowledge base containing approximately model
fragments property definitions constructed basis complex parts
n species model two man weeks knowledge base employed reconstruct variations n species model accommodate variety possible scenarios well
examine simplifications original n species model exclude certain phenomena
compositional model repository closely related seminal work compositional modelling falkenhainer forbus similar functionality
devised specifically physical systems relies component connection formalism
represent scenarios
another recently developed applied ecological domain
heller struss work derives systems structure observations
behaviour domain knowledge therefore able perform diagnosis ecological systems
therapy suggestion another important distinction work present study
presumes process described one way instead allowing multiple
alternative
machine learning community number approaches devised bradley
easley stolle langley et al todorovski dzeroski
induce sets differential equations observations behaviour b domain knowledge represented form hypothetical equations c description structure system
approaches aim scientific discovery generalising observed behaviour mathematical
specifications scenario domain knowledge methods similar
used article especially true work langley et al todorovski dzeroski work applied population dynamics
however internal mechanisms approaches different essentially rely
exhaustive search procedures instead constraint satisfaction techniques

population dynamics example
examples used throughout previous sections taken extensive application
study present work application aimed construct repository basic population
dynamic describing phenomena growth predation competition section
presents overview proposed employed application
ability work scale larger


fic ompositional odel r epositories

knowledge base
subsection illustrates set model fragments constructed challenge
task lies fact model fragments must encompass sufficiently general reusable
component part ecological instances found literature ecological
modelling boundaries recurring component parts hidden therefore
knowledge engineer identify
first hierarchy entity types set system dynamics shown earlier contain
three types participant variables stocks flows stocks flows special
type variable predetermined meaning flow f stock corresponds


c f flow f stock denotes dt
c f hence stocks
equation dt
flows defined subclasses participant class variable
defentity variable
defentity stock
subclass variable
defentity flow
subclass variable

sample properties defined section describe condition
variable endogenous exogenous employed knowledge base
defproperty endogenous
source participants v type variable
structural conditions v
property endogenous v
defproperty endogenous
source participants v type variable
structural conditions dt v
property endogenous v
defproperty exogenous
source participants v type variable
structural conditions endogenous v
property exogenous v

next three model fragments contain rules stock flow diagrams employed systems dynamics respectively describe
flow flow stock stock corresponds composable differential equation

stock c flow
dt
flow flow stock stock corresponds composable differential equation

stock c flow
dt
flow flow one stock stock another stock stock corresponds
composable differential equations


stock c flow stock c flow
dt
dt


fik eppens hen

defmodelfragment inflow
source participants
stock type stock
flow type flow
structural conditions
flow flow source stock
postconditions
dt stock c add flow
defmodelfragment outflow
source participants
stock type stock
flow type flow
structural conditions
flow flow stock sink
postconditions
dt stock c sub flow
defmodelfragment inflow
source participants
stock type stock
stock type stock
flow type flow
structural conditions
flow flow stock stock
postconditions
dt stock c sub flow
dt stock c add flow

declarations place knowledge base model fragments defined first model fragment describes population growth phenomenon note
aforementioned growth predation competition contain stock representing population
size two flows one flow births stock another flow deaths stock
common feature population dynamics contained single model fragment
defmodelfragment population growth
source participants
population type population
assumptions
relevant growth population
target participants
size type stock name size
birth flow type flow name births
death flow type flow name deaths
postconditions
flow birth flow source size
flow death flow size sink
size size population
births birth flow population
deaths death flow population
purpose required
endogenous birth flow
endogenous death flow

variables birth flow death flow become endogenous model contains
equation describing birth flow death flow equations differ population growth
two types population growth model exponential growth model malthus
shown figure logistic growth model verhulst shown
figure b following two model fragments formally describe component


fic ompositional odel r epositories




fffi








fffi




exponential growth




b logistic growth

figure population growth
defmodelfragment exponential population growth
source participants
population type population
size type variable
birth flow type variable
death flow type variable
structural conditions
size size population
births birth flow population
deaths death flow population
assumptions
model size exponential
target participants
birth rate type variable name birth rate
death rate type variable name death rate
postconditions
birth flow birth rate size
death flow death rate size
defmodelfragment logistic population growth
source participants
population type population
size type variable
birth flow type variable
death flow type variable
structural conditions
size size population
births birth flow population
deaths death flow population
assumptions
model size logistic
target participants
birth rate type variable name birth rate
death rate type variable name death rate
density type variable name total population
capacity type variable name capacity
postconditions
birth flow birth rate size
death flow death rate size density
density c add size capacity
density density population
capacity capacity population

one twist compositional modelling population growth sometimes actual
growth model implicitly contained within another type model cases growth
phenomenon corresponding differential equations still relevant none dedicated
growth employed example shown later lotka volterra predation
model comes equations describing growth


fik eppens hen

model fragment growth allows empty growth model named
selected however due purpose required property instance p change must
endogenous empty model selected growth model implicitly included
elsewhere
defmodelfragment growth
source participants
population type population
size type variable
birth flow type variable
death flow type variable
structural conditions
size size population
births birth flow population
deaths death flow population
assumptions
model population

addition population growth two phenomena included knowledge base
predation competition predation competition relations species represented
predicates populations e g predation foxes rabbits competition
sheep cows however existence phenomenon necessarily mean must
contained within model would make little sense model predation competition without
modelling size populations phenomena relate population sizes
one another therefore incorporation predation phenomenon made dependent upon
existence variables representing population size human expert modellers may prefer
leave phenomenon resulting model keep choice open following two
model fragments construct participant representing phenomena predation competition
make dependent upon relevance assumption
defmodelfragment predation phenomenon
source participants
predator type population
prey type population
predator size type variable
prey size type variable
structural conditions
predation predator prey
size predator size predator
size prey size prey
assumptions
relevant predation predator prey
target participant
predation phenomenon type phenomenon name predation phenomenon
postconditions
predation phenomenon predation phenomenon predator prey
purpose required model predation phenomenon
defmodelfragment competition phenomenon
source participants
population type population
population type population
size type variable
size type variable
structural conditions
competition population population
size size population
size size population



fic ompositional odel r epositories

bprey bprey nprey

bprey bprey nprey

dprey dprey nprey

nprey
kprey

dprey pprey nprey npred

dt nprey


dt nprey

bprey dprey p

bprey dprey p

bprey

p

pprey

bprey

dprey

snprey npred
snprey th

kprey


th

dpred dpred npred

bpred bpred npred

dpred dpred npred

bpred ppred nprey npred

dt npred

npred
kpred


dt npred

npred
kpred

bpred dpred

bpred dpred
dpred

bpred

dpred

ppred

kpred k nprey

b holling predation

lotka volterra predation

figure predation
assumptions
relevant competition population population
target participant
competition phenomenon type phenomenon name competition phenomenon
postconditions
competition phenomenon competition phenomenon population population
purpose required
model competition phenomenon

model fragments purpose required property form model phen
property expresses condition model must exist respect phenomenon
defproperty model
source participants p type phenomenon
structural conditions model p
property model p

next two model fragments implement thereby satisfying model
purpose required property predation phenomenon two populations describe
two well known predation lotka volterra model shown figure holling model shown graphically figure b
defmodelfragment lotka volterra
source participants
predation phenomenon type phenomenon
predator type population
predator size type stock
predator birth flow type flow
predator death flow type flow
prey type population
prey size type stock
prey birth flow type flow
prey death flow type flow
structural conditions
predation phenomenon predation phenomenon predator prey



fik eppens hen

size predator size predator
births predator birth flow predator
deaths predator death flow predator
size prey size prey
births prey birth flow prey
deaths prey death flow prey
assumptions
model predation phenomenon lotka volterra
target participants
prey birth rate type variable name birth rate
predator factor type variable name predator factor
prey factor type variable name prey factor
predator death rate type variable name death rate
postconditions
prey birth flow prey birth rate prey size
predator birth flow predator factor prey size predator size
prey death flow prey factor prey size predator size
predator death flow predator death rate predator size
model lotka volterra predation phenomenon

mentioned earlier lotka volterra model introduces growth model prey
predator populations assigning specific equations variables describe changes
sizes predator prey populations pred change prey change respectively
thus satisfies purpose required property application population growth
model fragment prey pred populations
defmodelfragment holling
source participants
predation phenomenon type phenomenon
predator type population
predator size type stock
capacity type variable
prey type population
prey size type stock
structural conditions
predation phenomenon predation phenomenon predator prey
size predator size predator
size prey size prey
capacity capacity predator
assumptions
model predation phenomenon holling
target participants
search rate type variable name search rate
handling time type variable name handling time
prey requirement type variable name prey requirement
predation type flow name predation
postconditions
flow predation prey size sink
predation
search rate prey size predator size
search rate prey size handling time
capacity c add prey requirement prey
model holling predation phenomenon

holling model employs variable denoting capacity population variable
may introduced logistic growth model practice logistic growth holling
predation often used conjunction compositional modeller need aware
combinations however needs know prerequisites individual
component contained within model fragment


fic ompositional odel r epositories

n

b b n

dt n

n w n
k

b



b

w
k

n

b b n

dt n

w n n
k

b



b

w
k

figure species competition model

final model fragment knowledge base implements model competition
two species formally describes competition model type depicted figure model
fragment contains population competition model knowledge base contain
model assumption represent model

defmodelfragment competition
source participants
competition phenomenon type phenomenon
population type population
size type stock
density type variable
capacity type variable
population type population
size type stock
density type variable
capacity type variable
structural conditions
competition phenomenon competition phenomenon population population
density density size
capacity capacity size
density density size
capacity capacity size
assumptions
relevant competition population population
target participants
weight type variable name weight
weight type variable name weight
postconditions
density c add weight size capacity
density c add weight size capacity



fik eppens hen

relevant
growth predator

growth

predator

predation
predator prey
relevant
predation
predator prey

exponential

model predator
exponential

logistic
model

logistic

model predator
logistic


model

othergrowth

model predator


predationphen
predator prey

growth

stock
flows

predation
predator prey
relevant
predation
predator prey

exponential
model

othergrowth

model predator


logistic
model

logistic

model predator
logistic


model

exponential

model predator
exponential

predation

predationphen
predator prey

growth

stock
flows

prey
relevant
growth prey

exponential
model

predation
prey
relevant
growth prey

stock
flows

exponential
model

othergrowth

model predator


logistic
model

logistic

model predator
logistic


model

exponential

model predator
exponential

relevant
competition
prey prey

lotkavolterra
model

lotkavolterra

model comp
lotkavolterra

holling
model

holling

model comp
holling

lotkavolterra
model

lotkavolterra

model comp
lotkavolterra

holling
model

holling

model comp
holling

competition

competitionphen
prey prey

competition
prey prey

figure model space predator competing prey scenario
model space
model space constructed knowledge base instantiated respect given scenario consider example following scenario describes predator population
preys two populations prey prey whilst two prey populations compete
one another
defscenario pred prey prey scenario
entities predator type population
prey type population
prey type population
relations predation predator prey
predation predator prey
competition prey prey

full specification model space unwieldy present abstract graphical
representation model space scenario shown figure model space contains
following knowledge
three populations scenario set three population growth
e exponential logistic derived inference dependent upon
relevance assumption population growth phenomenon model assumption
corresponds one three population growth


fic ompositional odel r epositories

predation relations e predation predator prey predation
predator prey populations related set two predation
e lotka volterra holling derived inference dependent upon relevance assumption predation phenomenon model assumption corresponds
one two predation
competition relation competition prey prey populations related competition model derived one competition model
inference competition model dependent upon relevance assumption
corresponds competition phenomenon
addition hypergraph figure model space contains number constraints
conjunctions assumptions consistent explained earlier stem two
sources non composable relations purpose required properties example given
type
let predation phen predation phenomenon predator prey
prey size variable representing size prey population example model fragments exponential population growth lotka volterra
generate equation computing value variable representing change
prey size equations composed following inconsistency generated
relevant growth prey model prey size exponential
relevant growth predator relevant predation predator prey
model predation phen lotka volterra

inconsistencies arise purpose required properties example model fragment predation phenomenon applicable predation relation deemed relevant
purpose required property model pred phen become condition consistency certain combinations assumptions property may satisfied say
holling predation exponential growth selected holling model generated capacity capacity capacity pred true
predation model created case holling model fragment instantiated even though predation phenomenon deemed relevant set assumptions
inconsistent model purpose required property predation phenomenon
model fragment responsible combination assumptions therefore marked nogood
relevant growth predator model predator size exponential
relevant growth prey model prey size exponential
relevant predation predator prey model predation phen holling

adpcsp solution
resultant model space translated adcsp enable selection consistent set
assumptions advanced csp solution techniques adcsp derived model
space depicted figure


fik eppens hen

attribute
x
x
x
x
x
x
x
x
x
x
x

meaning
relevant growth prey
relevant growth prey
relevant growth predator
relevant predation predator prey
relevant predation predator prey
relevant competition prey prey
model size
model size
model size
model predation phen
model predation phen
table attribute list

domain












content
n
n
n
n
n
n
l e
l e
l e
h lv
h lv

meaning
population none
population none
population none
population population none
population population none
population population none
logistic exponential
logistic exponential
logistic exponential
holling lotka volterra
holling lotka volterra

table adcsp predator competing prey scenario domains contents
meaning

adcsp contains attributes listed corresponding assumption classes
table first attributes correspond notion relevance phenomenon population
growth phenomena predation phenomena competition phenomenon precise
attributes correspond sets model types sets population growth sets
predation
assumptions attributes generated form domains values resulting domains aforementioned attributes summarised table
activity constraints adcsp describe conditions instantiate subject
assumptions correspond attribute since participant relation label
model space minimal set assumptions becomes part emerging model
available participant relation subject assumption label explicitly
describes sets assumptions attribute corresponds subject


fic ompositional odel r epositories

x


x
n



x
l

e

x
n



x
n



x


lv

x
n



x
h

l

e

x
n



x


lv

n

x
h

l

e



attribute
value
compatibility constraint
activity constraint

figure adcsp derived space reflecting predator competing prey
scenario

activated translating label subject sets attribute value assignments antecedents activity constraints constructed
example relevance assumptions attributes x x take subjects
scenario hence active attributes related model assumptions
population growth active corresponding assumptions denoting relevance population
growth true
x active x
x active x
x active x
attributes related assumptions predation active corresponding
assumptions denoting relevance predation assumptions describing relevance population growth true populations involved predation relation
x x x active x
x x x active x
figure shows graphical representation activity constraints
compatibility constraints correspond directly inconsistencies nogood node
inconsistencies discussed previous section depicted figure
adcsp constructed preferences may attached attribute value assignments
suppose preferences assigned standard population modelling choices e expo

fik eppens hen

attribute
x x
x
x
x
x
x
x

preference assignments
preference assignments
p x pcompetition
p x l plogistic p x e pexponential
p x l plogistic p x e pexponential
p x l plogistic p x e pexponential
p x h pholling p x lv plotka volterra
p x h pholling p x lv plotka volterra

table preference assignments predator competing prey
nential growth logistic growth lotka volterra predation holling predation relevance
competition one type model implemented phenomenon
example following bpqs could employed
pexponential plogistic
plotka volterra pholling
pcompetition
logistic holling preferred exponential lotka volterra former generally regarded accurate note preferences
ordered way corresponding different phenomena related one
another justification ordering even though structurally connected
restrictions combined one another different phenomena inherently describe behaviours compared one another preference
assignments attribute value assignments summarised table
solving adpcsp simple first attributes x x activated
attributes assigned xi di assignment maximises potential preference
attributes x x activated attributes x x assigned xi di l
logistic growth model highest preference finally x x assigned x h
x h holling highest preference inconsistent
logistic model committed earlier resulting solution satisfies following set assumptions
relevant growth prey
relevant growth prey
relevant growth predator
relevant competition prey prey
relevant predation predator prey
relevant predation predator prey
model size logistic
model size logistic
model size logistic
model predation phen holling
model predation phen holling



fic ompositional odel r epositories

symbols
relevant
growth predator

growth

nodes entailed
adpcsp solution

predator

predation
predator prey

exponential

model predator
exponential

logistic
model

logistic

model predator
logistic


model

othergrowth

model predator


nodes entailed
adpcsp solution
applied model fragment

predation

predationphen
predator prey

lotkavolterra
model

lotkavolterra

model comp
lotkavolterra

growth

stock
flows

holling
model

holling

model comp
holling

prey

predation
predator prey
relevant
predation
predator prey

exponential
model

othergrowth

model predator


logistic
model

logistic

model predator
logistic


model

exponential

model predator
exponential

predation

predationphen
predator prey

lotkavolterra
model

lotkavolterra

model comp
lotkavolterra

growth

stock
flows

holling
model

holling

model comp
holling

prey
relevant
growth prey

exponential
model

model fragment
applied

relevant
predation
predator prey

relevant
growth prey

assumptions
adpcsp solution

stock
flows

exponential
model

othergrowth

model predator


logistic
model

logistic

model predator
logistic


model

exponential

model predator
exponential

relevant
competition
prey prey

competition

competitionphen
prey prey

competition
prey prey

figure deducing scenario model model space given set assumptions

sample scenario model
figure shows scenario model deduced set assumptions exploiting model space nodes corresponding aforementioned assumptions
logically follow assumption set indicated figure
combining participants relations resulting scenario model model given
figure drawn model corresponds one ecologist would draw
logistic growth holling predation regarded appropriate task hand

conclusion future work
article presented novel compositional modelling enables construction
ecological systems work differs existing approaches automatically
translates compositional modelling adcsp order magnitude preference valuations several benefits method
use translation converts compositional modelling
adcsp allows criteria formalised importantly enables efficient existing
future adcsp solution techniques effectively applied solving compositional modelling



figrowth

growth

b b n

n

dt n

b b n

n

dt n

b p

b p

holling

k eppens hen



k





n
k



p

b


w n
k

th

k

logistic



k

w n
k



n
k

logistic

growth

b b n

b



th

n
k

n

dt n



n n
n th



p

b

holling

n n
n th

b


logistic

figure sample scenario model predator competing prey scenario

fic ompositional odel r epositories

extension adcsps order magnitude preferences form adpcsps
permits incorporation softer requirements compositional modelling
order magnitude preferences employed express appropriateness alternative model types certain phenomena considerations may described hard
constraints physical systems domain subjective less understood
domains ecological modelling domain presented herein provides means
capture represent subtlety flexible model design decisions
theoretical ideas presented article applied real world ecological modelling demonstrated resultant compositional modeller
employed create repository population dynamics
applied automated model construction large complex ecosystems modmed
model mediterranean vegetation legg et al reported keppens
practical theoretical issues need addressed however practical side types ecological model design decisions represented assumptions
assumption classes supported inference mechanisms extended ecological
systems tend involve interrelated populations individuals instead functional compositions
individual components physical systems one particularly important type design decision
ecological modelling therefore granularity requires introduction novel representation formalisms inference mechanisms aggregation disaggregation initial work
considering populations single entities dividing entities sub populations
necessary carried keppens shen integration work present
adpcsp framework requires investigation
theoretical side analysis complexity present rather informal
much remains done regard especially comparing complexity existing
compositional modellers comparison additional work required adapt current translation procedure suit existing compositional modelling compositional
modellers exponential complexity however employ specific solution little known opportunities improving efficiency work hopes
first step toward understanding important issue

acknowledgments
work partly supported uk epsrc grant gr first author
supported college science engineering scholarship university edinburgh
grateful robert muetzelfeldt helpful discussions assistance
reported whilst taking full responsibility views expressed thanks go
anonymous referees constructive comments useful revising earlier
version

references
binger b hoffman e microeconomics calculus longman
called operating conditions stating range values certain variables within use
certain assumptions permitted



fik eppens hen

bistarelli montanari u rossi f semiring constraint satisfaction optimization journal acm
bobrow falkenhainer b farquhar fikes r forbus k gruber iwasaki kuipers
b compositional modeling language proceedings th international
workshop qualitative reasoning physical systems pp
bradley e easley stolle r reasoning nonlinear system identification
artificial intelligence
dague p numeric reasoning relative orders magnitude proceedings
national conference artificial intelligence pp
dague p b symbolic reasoning relative orders magnitude proceedings
th international joint conference artificial intelligence pp
de kleer j assumption tms artificial intelligence
de kleer j general labeling assumption truth maintenance
proceedings th national conference artificial intelligence pp
easley bradley e generalized physical networks automated model building
proceedings th international joint conference artificial intelligence pp

falkenhainer b forbus k compositional modeling finding right model
job artificial intelligence
ford modeling environment introduction system dynamics modeling
environmental systems island press
forrester j principles systems wright allen press cambridge usa
hart p nilsson n raphael b formal basis heuristic determination
minimal cost paths ieee transactions systems science cybernetics ssc

heller u struss p diagnosis therapy recognition ecosystems usage modelbased diagnosis techniques proceedings th international symposium computer
science environment protection
heller u struss p transformation qualitative dynamic application hydroecology hotz l struss p guckenbienl eds intelligent diagnosis industrial
applications pp shaker verlag
holling c characteristics simple types predation parasitism canadian
entomologist
karnopp margolis rosenberg r system dynamics united second
edition edition john wiley sons inc
keppens j compositional ecological modelling via dynamic constraint satisfaction
order magnitude preferences ph thesis university edinburgh
keppens j shen q disaggregation compositional modelling ecological systems
via dynamic constraint satisfaction proceedings th international workshop
qualitative reasoning physical systems pp


fic ompositional odel r epositories

keppens j shen q b compositional modelling knowledge engineering review

keppens j shen q supporting dynamic constraint satisfaction order magnitude preferences proceedings th international workshop qualitative reasoning physical systems pp
langley p sanchez j todorovski l dzeroski inducing process
continuous data proceedings th international conference machine learning
pp
legg c muetzelfeldt r heathfield modelling vegetation dynamics mediterranean ecosystems issues scale proceedings th symposium international
association vegetation science
levy iwasaki fikes r automated model selection simulation
relevance reasoning artificial intelligence
lotka elements physical biology williams wilkins co baltimore
malthus essay principle population printed j johnson st pauls
church yard london england
miguel shen q hard flexible dynamic constraint satisfaction knowledge
engineering review
miguel shen q solution techniques constraint satisfaction advanced
approaches artificial intelligence review
miguel shen q b solution techniques constraint satisfaction foundations artificial intelligence review
minton johnston philips laird p minimizing conflicts heuristic repair
method constraint satisfaction scheduling artificial intelligence

mittal falkenhainer b dynamic constraint satisfaction proceedings
th national conference artificial intelligence pp
nayak p joskowicz l efficient compositional modeling generating causal explanations artificial intelligence
nicholson bailey v balance animal populations proceedings zoological society london
raphael b shapiro c ed encyclopedia artificial intelligence
vol pp john wiley sons
rickel j porter b automated modeling complex systems answer prediction
questions artificial intelligence
rogers random search insect population journal animal ecology

schiex fargier h verfaillie g valued constraint satisfaction hard
easy proceedings th international joint conference artificial intelligence pp


fik eppens hen

thompson w relative value parasites predators biological control
insect pests bull etnomol res
todorovski l dzeroski declarative bias equation discovery proceedings
th international conference machine learning pp
todorovski l dzeroski domain knowledge population dynamics modeling equation discovery proceedings th european conference machine
learning pp
tsang e foundations constraint satisfaction academic press london san diego
verfaillie g schiex solution reuse dynamic constraint satisfaction
proceedings th national conference artificial intelligence pp
verhulst p recherches mathematiques sur la loi daccroissement de la population nouveaux memoires de lacademie royale des sciences et belles lettres de bruxelles
volterra v fluctuations abundance species considered mathematically nature





