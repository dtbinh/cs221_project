Journal Artificial Intelligence Research 21 (2004) 1936

Submitted 7/03; published 1/04

Price Prediction Trading Agent Competition
Michael P. Wellman
Daniel M. Reeves
Kevin M. Lochner
Yevgeniy Vorobeychik

WELLMAN @ UMICH . EDU
DREEVES @ UMICH . EDU
KLOCHNER @ UMICH . EDU
YVOROBEY @ UMICH . EDU

University Michigan, Artificial Intelligence Laboratory
Ann Arbor, MI 48109-2110 USA

Abstract
2002 Trading Agent Competition (TAC) presented challenging market game domain travel shopping. One pivotal issues domain uncertainty hotel prices,
significant influence relative cost alternative trip schedules. Thus, virtually
participants employ method predicting hotel prices. survey approaches employed
tournament, finding agents apply interesting diversity techniques, taking account differing sources evidence bearing prices. Based data provided entrants
agents actual predictions TAC-02 finals semifinals, analyze relative efficacy
approaches. results show taking account game-specific information flight
prices major distinguishing factor. Machine learning methods effectively induce relationship flight hotel prices game data, purely analytical approach based
competitive equilibrium analysis achieves equal accuracy historical data. Employing new
measure prediction quality, relate absolute accuracy bottom-line performance game.

1. Introduction
Many market decision problems involve anticipation forecast future prices. Price prediction particularly important, example, committing binding offer purchase good
complements purchased later date. sort scenario arises whenever
sequential overlapping auctions related goods. Although market forecasting techniques
widespread use broad range applications, unaware studies exploring problem
context reminiscent multi-auction environments.
annual Trading Agent Competition (TAC) (Wellman et al., 2003) provides convenient
medium studying approaches price prediction. open-invitation tournament, attracted diverse community researchers interested many aspects trading agent strategy.
Price prediction turned pivotal issue TAC market game, 1 interesting array approaches emerged agent designers efforts three years competition. Since
TAC defines controlled, regular, repeatable, transparent environment observing trading
agent behavior, uncommonly amenable analysis.

1. refer original (classic) TAC game, scenario domain travel shopping. Sadeh et al. (2003)
introduced second game (TAC/SCM), domain supply chain management, expect
domains subject trading competitions coming years.

c 2004 AI Access Foundation. rights reserved.

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

2. TAC Travel-Shopping Game
TAC market game presents travel-shopping task, traders assemble flights, hotels,
entertainment trips set eight probabilistically generated clients. Clients described
preferred arrival departure days (pa pd), premium (hp) willing pay
stay Towers (T) hotel rather Shanties (S), values three different types
entertainment events. agents objective maximize value trips clients, net
expenditures markets travel goods.
Flights. feasible trip includes round-trip air, consists inflight day outflight

. Flights day sold independently, prices determined
day ,
stochastic process. initial price flight , follows random walk
thereafter increasingly upward bias.
Hotels. Feasible trips must include room one two hotels night
clients stay. 16 rooms available hotel night, sold
ascending 16th-price auctions. auction closes, units allocated 16 highest
offers, bidders paying price lowest winning offer. minute, hotel auctions
issue quotes, indicating 16th- (ASK) 17th-highest (BID) prices among currently active
unit offers. minute, starting 4:00, one hotel auctions selected random close,
others remaining active open bids.
Entertainment. Agents receive initial random allocation entertainment tickets (indexed
type day), may allocate clients sell agents continuous
double auctions.
feasible client trip defined inflight day , outflight day , hotel type ( ,
1 0 S). Trips specify entertainment allocations, purposes paper
summarize expected entertainment surplus function trip days. (The paper describing
agent (Cheng et al., 2004) provides details well constructs glossed
here.) value trip client (with preferences pa, pd, hp) given


pa
pd
hp



(1)

end game instance, TAC server calculates optimal allocation trips clients
agent, given final holdings flights, hotels, entertainment. agents game score
total client trip utility, minus net expenditures TAC auctions.

3. Price Prediction
TAC participants recognized early importance accurate price prediction overall performance (Stone & Greenwald, 2004). prices hotels highly variable game game,
yet hotels price finalized auction closessome minutes game, depending
random closing order. agents tend submit serious hotel bids first
closing imminent, useful information revealed price quotes fourth minute
play. Complementarity among goods dictates outcomes early auctions significantly affect
value agent places particular hotel later game, conversely, prices hotels
available later dictate whether agent bid wisely early game.
Anticipating hotel prices key element several decisions facing TAC agent, particular:
20

fiTAC P RICE P REDICTION

1. Selecting trip itineraries. flight prices tend increase, agents great incentive
commit traveling particular days early game. Yet quality day choices
depends crucially hotel prices included travel days.
2. Bidding policy. likelihood obtaining good given bid depends obviously
resulting clearing price. Moreover, value particular good general function
price others. example, value obtaining room hotel (S, ) increasing
function projected cost alternative hotel day, (T, ), decreasing
function projected cost complementary hotel rooms adjacent days, (S, )
(S,
).
Given importance price prediction, surprising TAC researchers explored
variety approaches. Stone et al. (2003) noted diversity price estimation methods among
TAC-01 agents. particular interest problem certainly connected TAC-02
agent, Walverine, introduced method quite distinct reported previously. Thus,
highly motivated characterize performance price prediction task.
Indeed, competitions TAC successful facilitating research, necessary separately evaluate techniques developed problem subtasks (Stone, 2002). Although
interesting subtasks tend strictly separable complex game, price-prediction
component trading strategy may easier isolate most. particular, problem
formulated terms, natural absolute accuracy measures. fact, see below,
agent developers independently chose define price prediction distinct task
agent designs.
divide price prediction two phases: initial interim. Initial refers beginning
game, hotel auctions close provide quote information. Interim refers
method employed thereafter. Since information available initial prediction (flight prices,
client preferencessee Section 5.2) strict subset available interim (which adds transaction hotel price data), agents treat initial prediction (simpler) special case.
Initial prediction relevant bidding policy first hotel closing, especially salient
trip choices typically made early game. Interim prediction supports ongoing revision bids hotel auctions start close. analysis report focus initial prediction,
mainly simpler two tasks, involving less potential information. Moreover,
agents initially relatively comparable information sets, thus providing cleaner analysis.
Interim prediction quite important interesting, focus work.

4. TAC-02 Agents
nineteen agents participated TAC-02 tournament listed Table 1. table
presents raw average scores finals semifinals, weighted averages seeding
round. overviews agents, see survey edited Greenwald (2003a).
seeding rounds held period 1-12 July, agent playing 440 games.
Weights increased day, later games counted earlier, lowest 10 scores
agent dropped. top 16 agents advanced semifinals, held 28 July
Edmonton, Canada. two semifinal heats: H1 comprising agents seeded 1-4 13-16,
5-12 seeds placed heat H2. top four teams heat (14 games, lowest score
21

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

Agent
ATTac
BigRed
cuhk
harami
kavayaH
livingagents
PackaTAC
PainInNEC
RoxyBot
sics
SouthamptonTAC
Thalis
tniTac
TOMAhack
tvad
UMBCTAC
Walverine
WhiteBear
zepp

Affiliation
AT&T Research (et al.)
McGill U
Chinese U Hong Kong
Bogazici U
Oracle India
Living Systems AG
N Carolina State U
NEC Research (et al.)
Brown U
Swedish Inst Comp Sci
U Southampton
U Essex
Poli Bucharest
U Toronto
Technion
U Maryland Baltimore Cty
U Michigan
Cornell U
Poli Bucharest

Seeding
3131
696
3055
2064
2549
3091
2835
2319
2855
2847
3129
3000
2232
2809
2618
3118
2772
2966
2098

Semifinals
H1: 3137

H2: 3266

H1: 3200
H1: 3310
H2: 3250
H1: 2193
H2: 3160
H2: 3146
H1: 3397
H2: 3199
H1: 3108
H2: 2843
H1: 2724
H1: 3208
H2: 3287
H2: 3324


Finals


3069

3099
3181




3385
3246



3236
3210
3413


Table 1: TAC-02 tournament participants, scores round.

dropped) proceeded finals, ran 32 games day. details
TAC-02 tournament available http://www.sics.se/tac.

5. Price Prediction Survey
Shortly TAC-02 event, distributed survey entrants eliciting descriptions
data documenting agents price-prediction methods. Sixteen 19 teams responded
survey, including 14 16 semifinalists, eight finalists. result provides detailed picture
prediction techniques employed, enables comparison efficacy respect
common experiencethe TAC-02 finals semifinals.
Thirteen 16 respondents reported agents indeed form explicit price predictions use trading strategies. thirteen listed Table 2, along
high-level descriptors approach initial prediction task. 2 addition, tniTac zepp
responded price predictions part agent designs, developed sufficiently
deployed tournament. TOMAhack reported ambitious design (also actually employed) based model-free policy learning, account agents bidding behavior
without formulating explicit price predictions.
2. Though address initial prediction report, survey solicited descriptions interim methods.

22

fiTAC P RICE P REDICTION

Agent
ATTac
cuhk
harami
kavayaH
livingagents
PackaTAC
RoxyBot
sics
SouthamptonTAC
Thalis
UMBCTAC
Walverine
WhiteBear

Approach
machine learning
historical
historical
machine learning
historical
historical
historical
historical
historical
historical (?)
historical
competitive
historical

Form
prob
priceline
prob
point
point
prob
prob
priceline
point
point
point
point
point

Notes
boosting
moving average
neural net

classification reference categories
survey incomplete
equilibrium analysis

Table 2: Agents reporting prediction hotel prices TAC-02.

5.1 Forms Prediction
One distinction observed TAC-01 agents explicitly formulated predictions terms
probability distributions prices, rather point estimates. Predictions form enable
agent properly account price uncertainty decision making. Thus, asked entrants
form predictions survey.
Although agents generate point predictions, notable exceptions. ATTacs boosting algorithm (Stone et al., 2003) expressly learns probability distributions associated game
features. RoxyBot tabulates game price statistics direct estimation deciles hotel
auction. PackaTAC harami measure historical variance, combining historical averaging define parametric distribution hotel price. Walverine predicts point prices,
hedging approach decisions amounts forming effective distribution around them.
Given prediction form distribution, agents may make decisions sampling
decision-analytic techniques. distribution may facilitate interim prediction task, enabling updates based treating observations price quotes evidence.
However, first controlled experiment evaluating distribution feature, context ATTac
(Stone et al., 2003), find overall advantage decision-making based distributions
compared using mean values. authors offered several possible explanations observed
performance, including (1) implementation employs insufficient samples, (2)
use distributions makes unrealistic assumption subsequent decisions made
full knowledge actual price values. Greenwald (2003b) found bidding marginal utility based means outperformed bidding expected marginal utility based distributions, time
implemented context RoxyBot. since performed analogous trials using Walverinewhich generates applies distributions yet third wayand found bidding based
means superior distribution-based bidding agent actually employed TAC-02.
Although source deficiency conclusively established, speculate
second reason adduced ATTac designers plausible.
23

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

Despite evidence, alternative ways using distributions may well prove beneficial.
study Greenwald (2003b) demonstrated advantage RoxyBots 2002 strategy evaluating
candidate bid sets respect distributions, compared 2000 strategy evaluating
respect means.
Nevertheless, agents predict probability distributions, take mean distributions subject analysis. may discount potential advantages, based
discussion above, suspect thatwith possible exception RoxyBotagents
actually benefit predicting distributions TAC-02.
Another variation form prediction prices function quantity demanded.
first TAC, entrants recognized purchasing additional units may cause price increase,
introduced concept pricelines, express estimated prices unit (Boyan & Greenwald, 2001; Stone & Greenwald, 2004). Agents sics cuhk reported predicting pricelines. 3
cases, agent started baseline point prediction first unit hotel,
derived remainder priceline according rule. example, sics predicted price
ffth unit (i.e., price given demands units) , baseline prediction
1.15 hotels day 1 4, 1.25 hotels day 2 3.
succeeding analysis, evaluate predictions terms baseline prices only. noted
below, accuracy measures applied pricelines would reflect actual value.
5.2 Information Employed
set information potentially available beginning game includes data past
games, initial vector flight prices, agents client preferences. TAC-02,
agents except Walverine reported using historical information predictions. ATTac,
kavayaH, Walverine employ flight prices. agents construct pricelines effectively take
account client preferences. Walverine construct pricelines factor
client preferences part equilibrium calculations.
identities agents participating game instance known TAC
preliminary (qualifying seeding) rounds, agents drawn randomly round-robin tournament. However, semifinal final rounds fixed set eight agents series games,
identity agents effectively observable. ATTac agent exploit
availability information.

6. Approaches Price Prediction
Based survey responses, divide TAC-02 prediction techniques three categories.
6.1 Historical Averaging
agents took relatively straightforward approach initial price prediction, estimating
hotel clearing prices according observed historical averages. example, harami calculates
mean hotel prices preceding 200 games, uses initial prediction. respective
agents classified adopting historical approach Table 2 differ set games
3. WhiteBear reported using pricelines interim prediction (Vetsikas & Selman, 2003), initial predictions
essentially points.

24

fiTAC P RICE P REDICTION

include average, used games seeding round. Given dataset, agents tend
use sample mean distribution estimate, 4 least baseline.
majority averaging agents fixed pool prior games, update averages
finals. exception cuhk, employed moving average previous ten
games current round, previous rounds beginning new round.
UMBCTAC reported employing mean prices predictions respect decisions trips
two days, median prices (which tended lower) decisions one-day
trips. semifinals based statistics last 100 seeding games. finals
dataset comprised 14 games semifinal heat. analysis below, attribute
predictions UMBCTAC based mean values samples.
approach taken SouthamptonTAC (He & Jennings, 2003) unique among TAC
agents. SouthamptonTAC designers partitioned seeding-round games three categories, competitive, non-competitive, semi-competitive. specified reference
price type day hotel game category. agent chooses category
game based monitoring recent game history. actual tournament, SouthamptonTAC began semifinals predicting semi-competitive reference prices, maintaining stance
switching non-competitive last eight games finals.
6.2 Machine Learning
couple TAC-02 agents employed machine learning techniques derive relationships
observable parameters resulting hotel prices. premise approach game-specific
features provide potentially predictive information, enabling agent anticipate hotel price directions manifest price quotes themselves. surprisingly, noted Section 5.2,
two learning agents employed kinds information typical TAC-02 agents.
ATTac predicts prices using sophisticated boosting-based algorithm conditional density
estimation (Stone et al., 2003). Development technique expressly motivated TAC
price-prediction problem, though resulting algorithm quite general. ATTac learns predictor
hotel type day category (i.e., days 1 4 treated symmetrically, 2 3).
predictor applied beginning game maps following features predicted
price hotel:





identity agents participating game,
initial flight prices,
closing time hotel room.

Since hotel closing times unknown game start, predictor induces distribution
price predictions, based distribution hotel closing sequences. distribution constitutes
ATTacs initial price prediction.
kavayaH (Putchala et al., 2002) predicts initial hotel prices using neural networks trained via
backpropagation. agent separate network hotel. output network
4. Several agents complement simple initial prediction relatively sophisticated approach interim
prediction, using evidence price quotes gradually override initial estimate. else equal, course,
straightforwardness advantage. Indeed, simplicity likely significant ingredient livingagentss success
TAC-01 (Fritschi & Dorer, 2002; Wellman et al., 2003).

25

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

one discrete set prices, choice set hotel (type, day) specified
kavayaHs designers based historical prices. inputs network based initial
flight prices, specifically thresholded differences flights adjacent days. example,
hotel T1 might binary input indicates whether price difference inflights
days 1 2 greater 50. Hotel S2 might input, well another based
difference flight prices days 2 3. kavayaHs designers selected relevant inputs
based experiments agent.
6.3 Competitive Analysis
Walverines overall approach TAC markets presume well-approximated
competitive economy (Cheng et al., 2004). method predicting hotel prices literal
application assumption. Specifically, calculates Walrasian competitive equilibrium
TAC economy, defined set prices markets would clear, assuming
agents behave price takers (Katzner, 1989). Taking account exogenously determined
flight prices, Walverine finds set hotel prices support equilibrium, returns
values prediction hotels final prices.
Let vector hotel prices, consisting elements denoting price hotel type
day . Let denote agent demand hotel day prices, write vector
demands . Aggregate demand simply sum agent demands, .
Prices constitute competitive equilibrium aggregate demand equals aggregate supply
hotels. Since 16 rooms available hotel day, competitive
equilibrium, .
Starting initial guess , Walverine searches equilibrium prices using tatonnement protocol, iterative price adjustment mechanism originally conceived Walras (Arrow
& Hahn, 1971). Given specification aggregate demand, tatonnement iteratively computes
revised price vector according following difference equation:




(2)

Although equilibrium prices guaranteed exist given discreteness complementarities TAC environment, found procedure typically produces approximate
equilibrium well within 300 iterations Walverine devotes prediction calculation.
critical step competitive analysis determining aggregate demand function. Walverine estimates sum (1) demand based eight clients knows about,
(2) expected demand agents (56 clients), based specified TAC distribution client preferences. calculation expected demand others exact, modulo
summarization entertainment effects, given assumption agent demands separable
client (Cheng et al., 2004). assumption true beginning game (hence initial
prediction), invalidated agents accumulate holdings flights hotels. Although
analytic expression expected demand somewhat complicated, deriving conceptually computationally difficult.
Note larger component Walverines demand estimation expectation
defined distribution client preferences. Therefore, prices derives properly viewed
equilibrium expectation, rather expected equilibrium prices. latter might
actually appropriate measure price prediction. However, since expected equilibrium
26

fiTAC P RICE P REDICTION

much computationally expensive equilibrium expectation (and suspect
difference would relatively small 56 i.i.d. clients), employ simpler measure.

7. Predictions
part survey, entrants provided predictions agents actually employed TAC02 finals semifinals: total 60 games. many cases, predictions constant (i.e.,
every game), straightforward evaluate respect full slate
final semifinal games. two cases initial predictions change every game (ATTac
Walverine), entrants able construct agent would predicted
games, whether actually participated. one case (kavayaH), partial
data. kavayaH reported predictions 32 final games, semifinal heat
participated (H1), except one game predictor crashed.
include two versions ATTac, corresponding predictors learned 2001
2002 preliminary rounds. ATTac01 ATTac02, respectively, represent prediction functions
employed TAC-01 TAC-02 finals. applying ATTac01 predictor TAC-02
finals, use agent identity information disabled.
price vectors supplied entrants employed analysis presented Table 3.
Prices rounded nearest integer display, though analysis employed whatever precision provided. Agents condition game-specific information produce distinct vectors
instance, tabulated here.
Agent
harami
livingagents
PackaTAC
RoxyBot5
sics
WhiteBear
SouthamptonTAC
SouthamptonTAC N
UMBCTAC semifinals
UMBCTAC finals
Actual Mean
Actual Median
Best Euc Dist
Best EVPP
Walverine const

S1
21
27
21
20
30
19
50
20
20
37
68
9
18
28
28

S2
58
118
116
103
100
102
100
30
133
75
85
48
73
51
76

S3
80
124
119
103
100
96
100
30
124
87
97
38
57
67
76

S4
16
41
38
20
40
28
50
20
45
29
52
8
15
0
28

T1 T2 T3 T4
47 108 101
64
73 163 164 105
76 167 164
97
76 152 152
76
95 160 155 110
75 144 141
81
100 150 150 100
50
80
80
50
83 192 158 110
113 141
95
71
121 124 154 109
59 105
98
59
71 111
95
69
80 103 100
84
73 113 113
73

Table 3: Predicted price vectors: Shoreline Shanties, followed Tampa Towers, days 1
4. first ten rows represent predictions employed agents tournament. last
five represent various benchmarks, discussed below.

27

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

first six rows Table 3 (harami WhiteBear) correspond constant predictions
associated agents. noted above, SouthamptonTAC switched two prediction
vectors: represents reference prices semi-competitive environment, N
non-competitive prices. UMBCTAC well switched prediction vectors within 60 gamesin
case introducing finals prediction based average semifinal (H1) prices.
rows labeled Actual Mean Actual Median, respectively, present average
median hotel prices actually resulting 60 games interest. Although clairvoyance obviously admissible approach prediction, include benchmark. direct
sense, actual central tendencies represent best agents taking historical averaging
approach hope capture.
price vectors labeled Best Euc Dist, Best EVPP, Walverine const discussed
Section 8.2.

8. Evaluating Prediction Quality
8.1 Accuracy Measures
remains assess efficacy various prediction approaches, terms agents
price predictions actual TAC-02 final semifinal games. order so, require
given actual prices given game.
measure characterizing accuracy prediction
8.1.1 E UCLIDEAN ISTANCE
natural measure closeness two price vectors Euclidean distance:





















indexes price hotel day . Clearly, lower values
preferred, , .
Calculating straightforward, done reported predictions
form distribution, Euclidean distance mean
60 games. Note
provides lower bound average distance components distribution. Thus,
least according measure, evaluation distribution predictions terms means
provides bias favor.
set games
likewise case among constant predictions, actual mean
minimizes aggregate squared distance games. is, actual price vector

,
game ,






























5. RoxyBots prediction based statistics seeding rounds, expressed cumulative price distributions
hotel, discretized deciles. RoxyBot reportedly based decisions samples distribution,
taking decile value occur probability 0.1. tends overestimate prices, however, decile values
correspond upper limits respective ranges. prediction vector presented Table 3 (and analyzed below)
corresponds adjusted value, obtained dropping top decile averaging remaining nine.

28

fiTAC P RICE P REDICTION

closed form prediction minimizing aggregate , one derive numerically
given set games (Bose et al., 2002).
8.1.2 E XPECTED VALUE P ERFECT P REDICTION
Euclidean distance appears reasonable measure accuracy absolute sense. However,
purpose prediction accuracy sake, rather support decisions based
predictions. Thus, seek measure relates principle expected TAC performance.
analogy standard value-of-information measures, introduce concept value
perfect prediction (VPP).
Suppose agent could anticipate perfectly eventual closing price hotels. Then, among
things, agent would able purchase flights immediately confidence
selected optimal trips clients. 6 Since many agents apparently commit trips
beginning game anyway, perfect prediction would translate directly improved quality
choices.7 take primary worth predictions, measure quality prediction
terms supports trip choice comparison perfect anticipation. idea
VPP particularly high agents otherwise poor estimate prices.
already predicting well, value obtaining perfect prediction relatively small.
corresponds use standard value-of-information concepts measuring uncertainty:
agent perfect knowledge, value additional information nil.
Specifically, consider client preferences pa pd hp. trips surplus client
prices , defined value minus cost,


cost

cost simply total price flights hotel rooms included trip . Let





denote trip maximizes surplus respect prices . expression







, evaluated respect prices
represents surplus trip chosen based prices
. define value perfect prediction,



VPP

(3)

Note VPP definition (3) relative client preferences, whereas seek measure
applicable pair price vectors outside context particular client. end define
6. Modulo residual uncertainty regarding availability entertainment tickets, ignore analysis.
7. compiled statistics temporal profile flight purchases eight agents TAC-02 finals. Four
agents purchased 16 flights (enough round trips clients) within 45 seconds average. eight agents
purchased half flights time, average. Vetsikas Selman (2003) verified experimentally
predicting prices benefits agents commit flights early greater extent delay
flight purchases.

29

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

expected value perfect prediction, EVPP, expectation VPP respect TACs
distribution client preferences:
EVPPff







VPP






(4)

Note , lower values EVPP preferred, , EVPP .
(4) see computing EVPP reduces computing
. derive
latter value follows. (pa,pd) pair, determine best trip hotel best trip
ignoring contribution hotel premium, hp.
hotel T, respectively, prices
determine threshold value hp (if any) agent would switch T.
use boundary split integration surplus (based prices ) trips,
respect underlying distribution hp. Note procedure analogous Walverines
method calculating expected client demand (Cheng et al., 2004) competitive equilibrium
computation.
8.2 Results
Figure 1 plots thirteen agents prediction data according two quality
measures. one exception, EVPP values shown represent averages 60 games
TAC-02 finals semifinals. Since kavayaH predicted 45 games, normalized average EVPP values account relative difficulty games omitted compared
games predicted. normalization multiplied raw average ratio prediction qualities
game sets another representative agent (ATTac01, favorable choice
kavayaH, though normalizations would produced similar results).
two dashed lines Figure 1 represent best-achievable constant predictions respect
two accuracy measures. Best Euc Dist minimizes average Euclidean distance, indicated
vertical line. EVPP, performed hill-climbing search promising candidate vectors derive local minimum measure, represented horizontal line.
reference vectors provided Table 3. Note principle, agents varied predictions across game instances (ATTac, kavayaH, cuhk, Walverine, coarser degree,
SouthamptonTAC UMBCTAC) potential perform outside upper-right quadrant.
assess significance accuracy rankings among agents, performed paired-sample
t-tests pairs agents measures. differences Walverine
ATTac01 reach threshold statistical significance either measure. Walverine beats
ATTac01
ATTac01 beats Walverine EVPP
. Walverine

fi) outperforms agents measures. ATTac01 significantly
significantly (fi

) outperforms agents EVPP, statistically distinguishable
(fi
(fi

) kavayaH, harami, cuhk. EVPP, Walverine ATTac01
agents beat Best EVPP (fi

), Best EVPP turn beats
agents (all cuhk significantly). , Walverine agent significantly (fi
)
beat Best Euclidean Distance, turn beats every agent ATTac01 kavayaH.
agent Walverine significantly better Actual Mean, ATTac01, kavayaH,
harami statistically indistinguishable.
large discrepancy performance ATTac01 ATTac02 unexpected, given
predictors generated boosting-based learning algorithm (Stone et al.,
30

fiTAC P RICE P REDICTION

livingagents
PackaTAC
Southampton

Best Euc. Dist.

Expected value perfect prediction

65
60

RoxyBot

whitebear

UMBCTAC

ATTac02

55

SICS

50
harami
45
40

kavayaH

cuhk
Best EVPP

Walverine

35

ATTac01
190

200

210
220
230
Euclidean distance actual prices

240

Figure 1: Prediction quality eleven TAC-02 agents. Dashed lines delimit accuracy achievable constant predictions: best Euclidean distance best EVPP two
respective measures. diagonal line least-squares fit points. Observe
origin graph (190,32).

2003). might explained 2002 preliminary rounds somehow less predictive
TAC-02 finals case 2001. relative success another learning agent, kavayaH,
evidence this, however. likely hypothesis 2002 agent suffered
bug emerging last-minute change computing environments.
directly evaluate prediction form pricelines, would need know initial
demand agent corresponding priceline. obtain information sics,
found accuracy priceline prediction according measures far worse
baseline prediction. impression pricelines may well advantageous
respect decisions agents based them, improve basic accuracy. Note
EVPP inherently based interpretation prices linear, thus may provide proper
evaluation priceline predictions.
8.3 Influence Flight Prices
Observe three best price predictorsATTac01, Walverine, kavayaHare exactly
agents take flight prices account. Initial flight prices potentially affect hotel prices
influence agents early trip choices. theory, lower flight prices increase
tendency agents travel days, else equal, thus increasing prices hotels
31

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

corresponding days stay. Indeed, capturing effect flight prices one main
motivations Walverines price-equilibrium approach. ATTac kavayaH attempt induce
relationship game data. kavayaHs designers, particular, explored neural network models based hypotheses flights likely affect hotel prices (Putchala
et al., 2002).
isolate quantify effect flight prices, investigated contribution different
factors employed Walverine predictions. defined three additional versions Walverines prediction model, ignores information Walverine takes account:





Walv-no-cdata ignores client knowledge, effectively treating demand based
underlying client preference distribution assumed agents.
Walv-constF ignores initial flight prices, assuming set mean
initial flight distribution (i.e., 325) every game instance.
Walverine const ignores client knowledge takes flight prices mean rather
actual values. result constant prediction vector, presented Table 3.

Figure 2 plots prediction qualities agents. Ignoring client knowledge degraded prediction quality slightly, increasing EVPP 38.0 38.6. Neglecting initial flight prices,
however, significantly hurt predictions, increasing EVPP 47.9. Ignoring both, Walverine const
incurred average EVPP 49.1.
50

Walverine_Const
Actual_Mean

Expected value perfect prediction

48

Walv_constF

46
Best_EucDist
Actual_Median

44

Best_EVPP

42

40
Walv_no_cdata
38

Walverine
197.5

200

202.5
205
207.5
210
Euclidean distance actual prices

212.5

215

Figure 2: Prediction quality Walverine variants various central tendency benchmarks.
results confirm predictive value flight prices. EVPP measure, Walverine
gain significant advantage considering client data, cannot beat Best EVPP
32

fiTAC P RICE P REDICTION

without considering initial flight prices. , client data make significant (fi
fi) difference considering flight data. Flight data significantly (fi
) affects Walverines
prediction quality metric, regardless client data.
8.4 Relating Accuracy Performance
indicated scatter plot Figure 1, two accuracy measures highly correlated
(
). Given EVPP value-based, suggest accuracy translates somewhat
proportionally performance. However, EVPP highly idealized proxy actual scores,
definitively establish relation prediction accuracy overall TAC performance.
relation observed prior work Stone et al. (2003), evaluated predictive
accuracy overall performance four variations ATTac01 experimental trial. Employing different measure prediction quality above, found average score
related monotonically average predictive accuracy.
effort directly connect accuracy measures bottom line, regressed
actual TAC-02 game scores accuracy measures reported predictionsone data
point per agent per game. controlled favorability random client preferences, employing
summary statistics used construct client preference adjustment analysis
TAC-01 tournament (Wellman et al., 2003). two separate regressions, found highly
significant coefficients (fi ) EVPP. Predictive accuracy explained score

), however, might expected given unmodeled
variance quite poorly (
variation across agents.
reduce variation, undertook series controlled trials involving variants Walverine (Cheng et al., 2004). trial comprised set games fixed configuration agents.
agents constant within trials, varied across, conducted weeks months
apart Walverine undergoing modifications. trial, regressed actual score
first agent EVPP, controlling favorability random client preferences.
considered one agent per game, since data points agents would dependent
given common game instance. results linear regression summarized Table 4.
Trial
1
2
3



200
151
110

Mean EVPP
70.4
32.2
59.5

EVPP Coeff
-8.89
-11.59
-10.26





0.57
0.26
0.65

Table 4: Regression score EVPP three trials.
EVPP coefficient highly significant cases (fi ). Note since EVPP
measured per-client units scores, direct translation would equate reducing EVPP
one increase eight score points. regressions yielded coefficients ranging
-8.89 -11.59, take rough confirmation expected relationship. anything,
results indicate EVPP understates value predictionwhich might expect since
addresses initial trip choice. Interestingly, regression model seems provide better fit
(as measured ) trials involving worse price predictors (as measured mean EVPP).
suggests prediction optimized, unmodeled factors may relatively greater
incremental influence score.
33

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

noted games appear quite unrepresentative TAC tournament
games. Since agents versions Walverine, tend make trip choices
basis.

9. Limitations
important emphasize several limitations study, must qualify conclusions
drawn efficacy prediction methods evaluated here.
First, focused exclusively initial price prediction, whereas many agents placed
greater emphasis interim prediction task.
Second, many cases represented agents predictions abstraction actual
object produced prediction modules. particular, reduce probability distributions
means, consider first unit priceline prediction. generally,
account different ways agents apply predictions generate. Without question
even measure introduce, EVPP, inspired thinking terms Walverine uses
predictions. Perhaps measures tailored processes agents would (justifiably) show
predictions favorable light.
Third, recognized despite desirability isolating focused components
agent analysis, complete separation possible principle. Prediction evaluation relative
agent uses prediction, makes tradeoffs (e.g.,
commits flights), ultimately entire strategy, complexity. Studies
must strive balance benefits decomposition appreciation interconnections
synergies among elements sophisticated agents behavior.

10. Conclusions
presented comprehensive survey approaches initial price prediction TAC-02,
quantitative analysis relative accuracy. analysis introduces new measure, expected
value perfect prediction, captures important sense instrumental value accurate
predictions, beyond nominal correspondence realized outcomes.
draw several conclusions price prediction TAC exercise. First, results
clearly demonstrate instance-specific information provide significant leverage pure
background history. Three agents use instance-specific information perform better least
one measure constant prediction. particular, initial flight prices provide substantial
predictive value. induced verified empirically, seen success
machine-learning agents. predictive value flows influence flight prices demand
hotels, indicated success competitive analysis capturing relationship.
believe striking purely analytical approach, without empirical tuning, could
achieve accuracy comparable best available machine-learning method. Moreover, many
would surely skeptical straight competitive analysis could prove successful, given
manifest unreality assumptions applied TAC. analysis certainly show
competitive equilibrium best possible model price formation TAC,
demonstrate deriving shape market idealized economic theory surprisingly effective.
34

fiTAC P RICE P REDICTION

several advantages model-based reasoning, obviously ability perform
minimal empirical data. Even historical information available, misleading rely nonstationary environment. tournament setup TAC naturally violates
stationarity, agent pool evolves time, selection well individual learning
development. course, dealing time-variance, particularly multiagent environments,
active area current research, ultimately best methods combine elements
model-based data-based reasoning.
Finally, suggest present study represents evidence research competitions
right circumstances produce knowledge insights beyond might emerge independent research efforts. hope additional researchers inspired bring innovative
ideas trading strategy next TAC, look forward investigating results
interplay future work.

Acknowledgments
study would possible without generous cooperation TAC-02 entrants.
research supported part NSF grant IIS-9988715, well STIET fellowship
third author, NSF IGERT grant.

References
Arrow, K. J., & Hahn, F. H. (1971). General Competitive Analysis. Holden-Day, San Francisco.
Bose, P., Maheshwari, A., & Morin, P. (2002). Fast approximations sums distances, clustering
Fermat-Weber problem. Computational Geometry: Theory Applications, 24,
135146.
Boyan, J., & Greenwald, A. (2001). Bid determination simultaneous auctions: agent architecture. Third ACM Conference Electronic Commerce, pp. 210212, Tampa, FL.
Cheng, S.-F., Leung, E., Lochner, K. M., OMalley, K., Reeves, D. M., & Wellman, M. P. (2004).
Walverine: Walrasian trading agent. Decision Support Systems, appear.
Fritschi, C., & Dorer, K. (2002). Agent-oriented software engineering successful TAC participation. First International Joint Conference Autonomous Agents Multi-Agent Systems,
Bologna.
Greenwald, A. (2003a). 2002 trading agent competition: overview agent strategies. AI
Magazine, 24(1), 8391.
Greenwald, A. (2003b). Bidding uncertainty simultaneous auctions. IJCAI-03 Workshop
Trading Agent Design Analysis, Acapulco.
He, M., & Jennings, N. R. (2003). SouthamptonTAC: adaptive autonomous trading agent. ACM
Transactions Internet Technology, 3, 218235.
Katzner, D. W. (1989). Walrasian Vision Microeconomy. University Michigan Press.
Putchala, R. P., Morris, V. N., Kazhanchi, R., Raman, L., & Shekhar, S. (2002). kavayaH: trading
agent developed TAC-02. Tech. rep., Oracle India.
Sadeh, N., Arunachalam, R., Eriksson, J., Finne, N., & Janson, S. (2003). TAC-03: supply-chain
trading competition. AI Magazine, 24(1), 9294.
35

fiW ELLMAN , R EEVES , L OCHNER , & VOROBEYCHIK

Stone, P. (2002). Multiagent competitions research: Lessons RoboCup TAC. Sixth
RoboCup International Symposium, Fukuoka, Japan.
Stone, P., & Greenwald, A. (2004). first international trading agent competition: Autonomous
bidding agents. Electronic Commerce Research, appear.
Stone, P., Schapire, R. E., Littman, M. L., Csirik, J. A., & McAllester, D. (2003). Decision-theoretic
bidding based learned density models simultaneous, interacting auctions. Journal
Artificial Intelligence Research, 19, 209242.
Vetsikas, I. A., & Selman, B. (2003). principled study design tradeoffs autonomous
trading agents. Second International Joint Conference Autonomous Agents MultiAgent Systems, pp. 473480, Melbourne.
Wellman, M. P., Greenwald, A., Stone, P., & Wurman, P. R. (2003). 2001 trading agent competition. Electronic Markets, 13, 412.

36


