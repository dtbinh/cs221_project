Journal Artificial Intelligence Research 21 (2004) 595-629

Submitted 7/03; published 5/04

Concurrent Auctions Across Supply Chain
mosheb@cs.huji.ac.il
noam@cs.huji.ac.il

Moshe Babaio
Noam Nisan
School Computer Science Engineering,
Hebrew University Jerusalem, Jerusalem 91904, Israel

Abstract
recent technological feasibility electronic commerce Internet,
much attention given design electronic markets various types
electronically-tradable goods. markets, however, normally need function
relationship markets related goods, usually downstream upstream supply chain. Thus, example, electronic market rubber tires
trucks likely need strongly inuenced rubber market well
truck market.
paper design protocols exchange information sequence markets
along single supply chain. protocols allow markets function separately, information exchanged ensures ecient global behavior across supply
chain. market forms link supply chain operates double auction,
bids one side double auction come bidders corresponding
segment industry, bids side synthetically generated
protocol express combined information links chain. double
auctions markets several types, study several variants
incentive compatible double auctions, comparing terms eciency
market revenue.

1. Introduction
recent rush towards electronic commerce Internet raises many challenges,
technological conceptual. paper deals conceptual challenge coordination electronic markets. Let us look years technological future
electronic commerce. seems likely following two key challenges
adequately solved industry:
Supply Chain Integration: enterprise information systems businesses
able securely eciently share information inter operate information systems suppliers, customers, partners.
Electronic Markets: Ecient, sophisticated, robust liquid electronic markets
available trade goods segments industry. markets
interactively respond changes supply demand, dynamically changing
trade quantities prices.
interested conceptual question markets related goods
share information. Consider, example, ctional market rubber tires trucks,
two related markets rubber trucks. One imagine following
c
2004
AI Access Foundation. rights reserved.

fiBabaioff & Nisan

simplied supply chain forming: rubber manufacturers placing sell bids rubber
rubber market; tire manufacturers placing buy orders rubber market sell bids
tire market; truck manufacturers placing buy bids tire market selling
trucks truck market; nally customers bidding trucks. One would expect
combination markets together information systems manufacturers
able automatically respond markets changes economically ecient way.
Thus, example, surge demand certain type trucks, raise price
truck market causing manufacturers type truck automatically decide
increase production, consequently automatically raising electronic bids tires.
This, turn, may increase tire prices tire market, etc., etc., leading, eventually
indirectly, still completely automatically, increased rubber production rubber
manufacturers.
Let us emphasize: process described occurs, slowly, normal human trade
combined eects large number self-interested decisions many people
involved supply chain. desire combination participating
information systems electronic markets automatically (without human control)
rapidly (within time-frames electronic commerce), reach similar results
even economically ecient ones humans usually achieve. results
achieved despite fact information systems manufacturers still
self-interested optimizing companys prot global economic eciency.
Seeing invisible hand function normal human economic activity, one would
certainly expect electronic markets reach types results. However, key conceptual design challenge emerges bidders must concurrently active
one market. Tire manufacturers must concurrently participate buyers rubber market sellers tire market. Clearly, quantity rubber wish buy
given price determined amount tires sell given price. Thus,
price bid buying rubber must intimately related price bid selling
tires increase one lead corresponding increase other.
theoretically impossible dene suggested bid one without other. Thus,
two markets operate independently, tires manufacturers able reasonably
participate them. operate sequentially, say rst rubber bought
afterwards tires sold, serious exposure problem emerges: tire manufacturers must
conservative bids rubber, know advance price
get tire market.
One approach handling inter-dependence markets run complete
supply chain single complex huge market. Conceptually spirit
recently popular vertical markets vertical portals try vertically integrate
information trade complete vertical segment industry. integration
markets single complex market results complex optimization problem,
research done address problems pure optimization problems.
centralized solution obvious advantages, problematic due necessity
concentrating information, communications, decision making single point.
centralization information problematic sense distributed computing
systems economic sense.
596

fiConcurrent Auctions Across Supply Chain

paper suggest alternative approach: supply chain organized
sequence separate markets (which act strategically) communicate among
using xed protocol create distributed mechanism (for general overview
distributed algorithmic mechanism design, refer reader Feigenbaum & Shenker,
2002). similar approach suggested Walsh Wellman (2003) Walsh,
Wellman, Ygge (2000), formulate general problem NP-complete obtain
solutions provably ecient, either computational sense economic
sense. much simpler problem linear supply chain considered Bosch-Domenech
Sunder (1999), provably ecient protocol suggested. consider
linear supply chain problem, obtain computationally ecient protocols achieve
provably high economic eciency budget balance (or full eciency budget decit).
protocols, intermediate markets along chain transform one good another.
Thus, example, tire manufacturers place bids operation transforming unit
rubber tire. protocol dierent markets assures dierent
markets reach compatible decisions, i.e. amount rubber units tires
allocated equal amount rubber manufactured amount tires
needed. Furthermore, amounts achieve global economic eciency across supply
chain. Finally, result assume manufactures information systems
global knowledge behavior, beyond knowledge cost structure
self-interested (rational) behavior.
paper focuses case simple linear supply chain discrete units goods,
manufacturer able transform single unit one good single unit
another good, incurring cost transformation. consumer obtains value
acquiring single unit nal good. assume agent quasi-linear
utility function, goal maximize utility.
markets takes form double auction (see Friedman & Rust, 1991,
study double auction markets), consider several variants double auctions.
variants address four issues: Incentive Compatibility (IC): double auction rules
motivate self-interested agents (the manufacturers consumers) reveal costs /
values truthfully (we use standard notions dominant strategies IC Mechanism
Design literature; Mas-Collel, Whinston, & Green, 1995; Osborne & Rubinstein, 1994).
Individual Rationality (IR): Every agent strategy ensures non-negative utility,
agents participate voluntarily (Ex-Post individual rationality). Economic Eciency:
desired outcome optimize sum valuations participants. Budget Balance
(BB): payment buyer necessarily equal payment received
seller, wish ensure market mechanism subsidize
trade. Thus, total payment buyers least total amount given
sellers. Myerson Satterthwaite (1983) impossibility result, four conditions
cannot apply simultaneously. paper Parkes, Kalagnanam, Eso (2001) presents
mechanisms combinatorial exchange BB IR fairly ecient fairly
incentive compatible. take dierent approach consider variants always
IR IC trade-o last two conditions eciency budget balance.
deterministic rule previously suggested McAfee (1992), but, surprisingly, rule
turned compatible supply-chain protocols. Therefore suggest two
new randomized double auction rules used supply-chain protocols,
597

fiBabaioff & Nisan

obtain budget balance surplus slight loss eciency. provide
simulation results comparing eciency budget surplus dierent variants
double auctions.
main contribution paper description two alternative protocols
allow supply chain mechanism formed double auctions operate eciently.
protocols computationally ecient terms communication computation time.
prove protocols applied specic double auction rule (the
Trade Reduction rule), resulting system exhibits following three key properties:
1. Ex-post Individual Rationality Incentive Compatibility (in sense dominant
strategies).
2. High global economic eciency (not optimal, good underlying double
auction guarantees high fraction ecient allocation value).
3. Budget Balance.
new double auctions, even higher global economic eciency achieved
expectation, expected (ex-ante) budget balance rather worst case (ex-post).
protocols use VCG (Vickrey, 1961; Clarke, 1971; Groves, 1973) double
auction rule ecient, maintain IR IC achieve full economic eciency
entire supply chain, budget decit.
Clearly stylized model general supply chain model far
simple realistic model. purpose analyzing model present rst step
towards mechanism design approach supply chain problems. far know
rst design mechanism IC, IR, BB highly ecient supply chain
model.
rest paper structured follows. Section 2 give complete self
contained example organization simple supply chain demonstrate
type calculations information transfer one protocols. Section 3
present model conditions incentive compatibility. Section 4 summarize
properties several variants incentive-compatible double auctions present two
new randomized double auction rules. Section 5 present two alternative protocols
supply chain coordination markets, prove properties achieved
protocols, Section 6 conclude directions future work.

2. Lemonade-Stand Industry
Charlie Brown decided draw vast experience lemonade stand industry
transform whole industry bringing online Internet. Charlie Brown
already struck partnerships strategic players three core segments
industry:
Lemon Pickers: Alice, Ann, Abe pick lemon neighborhood lemon
tree (one lemon maximum per day).
Lemonade Squeezers: Bob, Barb, Boris know squeeze single lemon
make glass lemonade (one glass maximum per day).
598

fiConcurrent Auctions Across Supply Chain

Lemonade Consumers: Chris, Carol, Cindy want buy one glass lemonade
(per day).
Charlie Brown obtained preliminary version paper built Internet
systems accordingly, using Symmetric Protocol suggested here. Charlie Brown
created three communicating electronic markets: lemon market Alice,
Anna, Abe sell lemons. squeezing market Bob, Barb, Boris
oer squeezing services, juice market Chris , Carol, Cindy buy
lemonade.
rst day operations participants logged market
entered bid: Alice asking $3 order pick lemon, Ann wanted $6,
Abe (who living farthest tree) wanted $7. Bob, Barb, Boris asking
for, respectively, $1, $3, $6 order squeeze lemon, Chris, Carol, Cindy,
willing pay, respectively, $12, $11, $7 glass lemonade. Figure 1
presents three markets, supply curves lemon market (S L ) squeezing
market (S LJ ), demand curve juice market (DJ ). Knowing auction
works optimal bidding strategy report true value cost, agent
reports truthfully. Let us follow operation system see manages reach
socially ecient allocation decide many lemons picked squeezed
lemonade.
Lemon Market
Supply Demand
(S L )
(DL )
3
6
7

Squeezing Market
Supply Demand
(S LJ )
(DLJ )
1
3
6

Juice Market
Supply Demand
(S J )
(DJ )
12
11
7

Figure 1: Supply Chain bids
rst stage, markets send information two phases.
rst phase, lemon market aggregates supply curve lemons, L , sends
information squeezing market. squeezing market aggregates supply curve
squeezing services, LJ , adds vector, point-wise, L , sends sum
juice market. juice market, sum represents supply curve juice, J ,
aggregated complete supply chain. seen Figure 2, cost rst
glass lemonade $4, since rst lemon cost $3 squeezing operation cost
$1.
second phase, juice market sends demand curve juice, DJ
squeezing market, subtracts it, point wise, supply curve squeezing services, sending dierence vector lemon market, interpreted
demand curve lemons, DL , aggregated complete supply chain. seen
Figure 3, demand rst lemon $11, since rst glass lemonade
demand $12 squeezing operation cost $1.
net demand curve squeezing services, DLJ calculated
squeezing market DJ L . seen Figure 4, demand rst
599

fiBabaioff & Nisan

Lemon Market
Supply Demand
(S L )
(DL )
3
6
7

Squeezing Market
Supply Demand
(S LJ )
(DLJ )
1
3
6
SL

Juice Market
Supply Demand
(S J )
(DJ )
4
12
9
11
13
7

L +S LJ





Figure 2: Supply Chain supply graphs propagation
Lemon Market
Supply Demand
(S L )
(DL )
3
11
6
8
7
1

Squeezing Market
Supply Demand
(S LJ )
(DLJ )
1
3
6

J LJ

Juice Market
Supply Demand
(S J )
(DJ )
4
12
9
11
13
7
DJ





Figure 3: Supply Chain demand graphs propogation
squeezing operation $9 since rst glass lemonade demand $12 rst
lemon cost $3. means lowest cost squeezing operation less
$9, least one glass lemonade manufactured.
Lemon Market
Supply Demand
(S L )
(DL )
3
11
6
8
7
1

Squeezing Market
Supply Demand
(S LJ )
(DLJ )
1
9
3
5
6
0

Juice Market
Supply Demand
(S J )
(DJ )
4
12
9
11
13
7

Figure 4: Supply Chain constructing supply demand graphs
point three markets supply curve demand curve,
market conduct double auction.
Internet startup, Charlie Brown decided subsidize trade
markets, ignoring sections paper aim eliminate budget decit
markets. market thus uses VCG (Vickrey, 1961; Clarke, 1971; Groves, 1973)
double auction rule1 , derived Vickrey, Clarke Groves general auction scheme.
VCG double auction picks highest value allocation market, winners
agents socially ecient allocation. ecient allocation market
includes two highest value (lowest cost) bidders, since two trades
positive gain, third trade negative gain. VCG double auction charges
1. formal denition VCG double auction rule appears Section 4

600

fiConcurrent Auctions Across Supply Chain

consumer (demand side) minimal value agent must bid order
ecient allocation. Similarly, supplier (supply side) receives payment equals
maximal cost may bid still ecient allocation. payment takes
account competition agents class competitiveness
bid respect bids agents classes. payment scheme,
best strategy agent bid truthfully. lemon market, two lemons sold
(by Alice Ann) $7 = min($7, $8) (in order win, must bid cost lower
cost Abe, rst non-winning lemon supplier, $7. must bid
cost lower $8, otherwise cost lemon high match lowest
demand lemon). squeezing market, two squeezing contracts awarded (to
Bob Barb) $5 = min($6, $5) (since one bids cost higher $5,
demand squeezing operation, squeezing operation cost Boris
$6, higher $5). juice market, VCG rule awards two glasses
lemonade (to Chris Carol) price $9 = max($7, $9) (since must bid
least $9 match supply juice, do, defeat Cindy).
Charlie Brown thrilled: dierent markets reached allocation
amount, 2, which, veried indeed social optimum: Societys net gains
trade system (12 + 11) (1 + 3) (3 + 6) = $10, cant beaten. Charlie
Browns investors somewhat worried fact system subsidized every glass
lemonade $3 (= 7 + 5 9), Charlie Brown assures changing doubleauction rules one double auction rules suggested paper lead
budget balance even surplus, maintaining high social gain. nine trading
partners evaluated carefully operation chain markets assured
best served always bidding true cost structure.

3. IC Mechanisms Single-Minded Agents
Section 3.1 presents abstract model agents partition set outcomes two,
case win case loss. agent valuation case
wins, valuation represented single parameter. double auction model
supply chain model consider special cases model. main theorem
section presents necessary sucient conditions incentive compatibility
abstract model. Mualem Nisan (2002) presented theorem context
combinatorial auction agents desire one specic bundle publicly known
(the Known Single Minded Model). theorem derived general result
agents private bundles (the Single Minded Model), proved Lehmann, OCallaghan,
Shoham (2002). Similar result dierent general model one-parameter agents
Archer Tardos (2001) appears Computer Science literature. completeness,
present results relevant single-minded agents model.
section 3.2 farther restrict model single-minded agents case
sets agents replace other, characterize non-discriminating mechanisms
case.
601

fiBabaioff & Nisan

3.1 General Model
Single-Minded agents model, nite set agents N set outcomes
O. agent N , partitioned two disjoint sets OiW OiL , outcomes
Wins outcomes Loses, respectively (this partition public
knowledge). ordered set values space Vi case wins. Agent
private value vi Vi OiW (he wins) value 0 OiL
(he loses). private values private information, information
publicly known participants mechanism (and known rest
information public). technical reasons assume vi1 , vi2 Vi ,
vi1 > vi2 , exist vi3 Vi vi1 > vi3 > vi2 (For example Vi set
Real numbers Rational numbers). agent wins pays pi quasi-linear
utility ui = vi pi , normalized mechanisms pays 0 0 utility loses.
assume agents self-interested try maximize utility. model,
outcome one-to-one mapping set winners called allocation

A, = {i N |o OiW }. say thatthe allocation ecient iA vi maximized.
vi
eciency allocation iA v , ecient allocation. Let V
iA



set possible values agents, V = Vi . work mechanisms
agents required report values, mechanism decides allocation
payments agents deterministic way. reported value bi Vi agent
called bid agent might dierent private value vi . Let b V
bids agents. allocation rule R decides allocation according reported
values b V , R function R : V O. payment rule P decides payment pi agent
i, P function P : V RN . mechanism denes allocation payment rule,

= (R, P ). Mechanism Budget Balanced (BB) pi 0 bids b V .
Incentive-Compatible (IC) dominant strategies agent i, bidding vi maximizes
utility possible bids agents. normalized losing agents
payment (and utility) 0. (ex-post) Individually Rational (IR) agent
value vi , bid bi bids bi , ui 0 possible bids
agents. Note normalized incentive-compatible mechanism individually
rational (since truthful bidding ensures non negative utility).
present necessary sucient conditions mechanism incentive
compatible dominant strategies single-minded agents model. conditions
later used prove properties double auctions supply chain mechanisms
created protocols.
bids b V denote b = (bi , bi ) bi bids agents i.
Denition 1. Allocation rule R Bid Monotonic bids b V , agent
two possible bids i, bi > bi , allocation R(bi , bi )
allocation R(bi , bi ).
bid monotonic allocation rule ensures winning agent becomes loser
improving bid. following observation direct result denition.
Observation 3.1. Let R bid monotonic allocation rule, let b V set bids
agents let agent bid bi .
602

fiConcurrent Auctions Across Supply Chain

exists bid bi allocation R(bi , bi ), exists
critical value Ci wins bids bi > Ci loses bids bi < Ci (Ci
independent bid bi )2 .
Note bid equal critical value, observation say
agent wins not.
Lemma 3.2. Let normalized IC mechanism allocation rule R. R
Bid Monotonic.
Proof. Assume contradiction auction normalized IC (thus IR)
allocation bid monotonic. exists agent two values bH > bL ,
wins auction pays PL bids bL , loses auction pays zero
bids bH . mechanism IR therefore bL PL 0. true value bH
gain misreporting private value: reports true value loses auction
utility zero, bids bL wins auction pays PL . case utility
bH PL > bL PL 0 contradiction assumption auction IC.
Theorem 3.3. normalized mechanism allocation rule R IC R
Bid Monotonic trading agent pays critical value Ci (pi = Ci ).
Proof. Case if: Assume normalized, R bid monotonic agent value vi
pays Ci wins. rst show auction IR, show receives non-negative
utility bidding truthfully. loses, pays zero zero utility. wins
auction bidding truthfully, Observation 3.1, vi Ci = pi , hence utility
vi pi = vi Ci 0.
prove IC prove cannot improve utility misreporting value. Consider case agent wins auction bidding true value vi . bids
untruthfully loses, gets zero utility, IR cannot better
utility truthful bid. bids untruthfully wins auction, since still
pays critical value Ci utility remains same.
consider case loses auction bidding truthfully. utility
zero vi Ci Observation 3.1. bids untruthfully loses, utility remains
zero. bids untruthfully wins, utility vi Ci 0. cases, shown
agent cannot improve utility bidding untruthfully, thus proving
IC.
Case if: Assume auction normalized IC (thus IR). Lemma 3.2
allocation rule bid monotonic, need prove agent value vi
must pay critical value Ci . Assume pi = Ci agent i. pi > Ci ,
pi > vi > Ci bids truthfully, Observation 3.1 wins utility
vi pi < 0 contradicts individual rationality. pi < Ci , pi < vi < Ci
Observation 3.1 loses zero utility bids truthfully. misreports value
bidding bi > Ci , would win auction utility vi pi > 0 contradicts
incentive compatibility.
normalized IC mechanisms, allocation rule bid monotonic
uniquely denes critical values agents thus payments.
2. Ci = always wins

603

fiBabaioff & Nisan

Observation 3.4. Let 1 2 two normalized IC mechanisms
allocation rule. 1 2 must payment rule, means 1
2 mechanisms.
3.2 Non-Discriminating Mechanisms
interested subclass mechanisms single-minded agents
discriminate agents roll outcome. agents
always replace other.
Denition 2. Agent class agent j, every allocation
j
/ A, allocation = \ {i} {j} O, every allocation

/ j A, allocation = \ {j} {i} O.
Note class agent equivalence class.
Denition 3. Let mechanism, class agents i, j two agents
class . non-discriminating identity bids b V , wins bids
bi bj > bi j wins.
non-discriminating pricing bids b V every class
value pT , agent class bid bi bi > pT wins pays pT .
non-discriminating (ND) non-discriminating identity nondiscriminating pricing.
Non-discriminating mechanisms called Envy-Free mechanisms Goldberg
Hartline (2003), since loser envies winner fact auction
price paid. paper consider mechanisms non-discriminating
identity, means agents class picked bid order,
high low. note IR non-discriminating pricing agent
class bids pT must lose auction (otherwise negative utility
contradicting IR).
following observation direct result Theorem 3.3.
Observation 3.5. Let normalized mechanism IC ND. Let pT payment
winners class . critical value winning agents class pT .
normalized, IC ND mechanisms, prove payment winners
class independent bids.
Lemma 3.6. Let normalized IC ND mechanism. every agent class ,
agent j class wins pays pT bids bj > pT winning agent class
bids bi pT , j wins pays pT bids bi > bi .
Proof. Since normalized IC, Theorem 3.3 bid monotonic
Observation 3.5 pT critical value j. Observation 3.1 pT independent
bid bi , must pay pT bids bi > bi . Since non-discriminating, j must
win (since bj > pT ) pay pT .
604

fiConcurrent Auctions Across Supply Chain

4. Incentive Compatible Double Auctions
markets along supply chain performs double auction (for study
double auctions see Friedman & Rust, 1991). protocols supply chains work
wide variety double auction rules, section present several double
auction rules suggested literature, two new randomized double auction
rules later use create supply chain mechanisms. double auction rule decides
trading agents payments agents.
rst give description Double Auction (DA) model. single-minded
agents model following specications possible outcomes, value spaces classes
agents. homogeneous good g traded discrete quantities,
agents one two classes agents. agent either seller buyer one
unit good g. Seller single unit g non-negative cost si (vi = si )
sells unit. Buyer non-negative value bi (vi = bi ) receives one unit
good g. set possible allocations set materially balanced allocations,
allocations number sellers buyers.
DA begins agents reporting values one unit good. seller
reports cost Si might dierent real cost si . buyer reports value
Bi might dierent real value bi . DA rules non-discriminating
identity, rst construct supply demand curves sorting supply bids
s.t. S1 S2 . . . demand bids s.t. B1 B2 . . .. agents report truthfully
order maximize eciency, trade quantity q set, trading agents must
rst q sellers rst q buyers. optimal trade quantity l dened
maximal Bl Sl . Trading l units maximizes eciency agents bids
agents true values. double auctions consider non-trading agents pay zero.
setting trade quantity optimal trade quantity, real markets proceed
choosing market clearing price anywhere [Sl , Bl ]. example setting price
(Bl + Sl )/2 1/2-Double Auction special case k-Double
Auction (Wilson, 1985; Chatterjee & Samuelson, 1983; Satterthwaite & Williams, 1989).
general, k-Double Auction double auction auction begins,
parameter k chosen k [0, 1]. k used calculate clearing price P =
k Sl + (1 k) Bl . l units good traded uniform price P sellers
buyers. pricing scheme incentive compatible (in dominant strategies),
additional strong assumptions agents values (all known distribution),
shown perform reasonably well many cases strategic behavior
participants (Rustichini, Satterthwaite, & Williams, 1994; Satterthwaite & Williams,
1991). Nevertheless, even assuming uniform distribution agents values,
non zero eciency loss Bayesian Nash equilibrium achieved (and equilibrium
concept much weaker dominant strategies equilibrium discuss paper).
One may alternatively use VCG Double Auction rule, sets trade
quantity optimal trade quantity l. rule non-discriminating, l winning buyers
pay pB = max(Sl , Bl+1 ) l winning sellers receive pS = min(Sl+1 , Bl ). VCG mechanisms
(Vickrey, 1961; Clarke, 1971; Groves, 1973) general, VCG DA mechanism
special case, IR IC. Incentive compatibility leads maximal eciency since
trade optimal size l, leads budget decit since pB pS .
605

fiBabaioff & Nisan

Observation 3.4 normalized, IC ecient mechanism must payments
VCG DA thus mechanism budget-balanced.
Myerson Satterthwaite (1983) shown long individual rationality
participation constraints met (e.g. non-traders pay 0), incentive compatible
mechanism always achieves ecient outcome lead budget decit (even
general model weaker solution concept consider). turn look
several normalized IC double auction rules achieve budget balance (sometimes
even surplus) price achieving slightly sub-optimal eciency (by reducing trade
quantity).
simplest auction property Trade Reduction (TR) DA.
non-discriminating auction, l 1 units good traded. trading buyer pays
pB = Bl , trading seller receives pS = Sl . Since Bl Sl auction BB.
rule extension Trade Reduction DA rule, previously suggested

+B
McAfee (1992). McAfees DA rule, suggested clearing price p = l+1 2 l+1
accepted l buyer seller (p [Sl , Bl ]) l units good traded
price p, otherwise TR rule used. Trade Reduction DA rule McAfees
rule normalized, bid monotonic payments critical values, thus
IC (and IR) applying Theorem 3.3. rules eciency least (l 1)/l
agents values, since unit lowest trade value might traded.
McAfees rule turned compatible protocols expand
appendix A.
suggest two new normalized randomized double auctions, capture
tradeo auction eciency budget balance one parameter . Unlike
McAfees rule, rules used supply-chain protocols, achieve
higher eciency Trade Reduction DA expectation. carefully chosen
parameter achieve exact budget balance (zero balance) expectation (Ex ante
Budget-Balanced).
Reduction DA, xed 0 1, bids submitted
probability Trade Reduction DA rule used, probability 1
VCG DA rule used. randomized double auction universally incentive compatible
(dened Nisan & Ronen, 1999), means agents bid truthfully even
know randomization result. seen fact bidding truthfully
dominant strategy Trade Reduction DA rule VCG DA rule.
normalized ND since Trade Reduction DA VCG DA normalized ND.
Payment DA another randomized double auction distribution allocation former auction (and therefore expected eciency),
payment agent expected payment Reduction DA (so
expected budget auctions same). auction, parameter chosen
Reduction DA. bids submitted allocation payments
decided. l 1 units traded buyers, paying Bl + (1 ) max(Bl+1 , Sl ),
sellers, receiving Sl + (1 ) min(Sl+1 , Bl ). probability another
unit good traded l buyer pays max(Bl+1 , Sl ) l seller
receives min(Sl+1 , Bl ). auction discriminating since l buyer pays dierent price rest winning buyers wins auction (and holds
sellers). Payment DA much lower variance agents payments
606

fiConcurrent Auctions Across Supply Chain

Reduction DA, hides randomized character almost
agents. allocation payment agents l buyer seller independent
coin toss, thus zero variance. auction individually rational incentive
compatible; universally.
Theorem 4.1. Payment DA incentive compatible randomized DA,
universally incentive compatible randomized DA.
Proof. Since Reduction DA universally incentive compatible, truth telling maximizes expected utility agent Reduction DA. Payment DA
probability distributions allocation payments Reduction DA,
therefore truth telling maximizes expected utility agent Payment DA
well.
Payment DA universally incentive compatible randomized DA. Assume
seller one rst l 1 sellers knows randomization result
VCG allocation, facing deterministic auction. Observation 3.4
unique payment rule ensures dominant strategy IC normalized mechanism
ecient allocation (the VCG allocation), VCG payment rule.
Payment DA normalized gives dierent payment agent, therefore cannot
incentive compatible dominant strategies.
auctions eciency least (l 1)/l, since least l 1 l units
traded. grows zero one, expected revenue increases negative
positive expected eciency decreases (linearly). distribution agents
values known prior beginning auction, parameter = (D)
chosen expected revenue zero (dierent distributions dierent values
(D), paper solve problem nding (D) analytically). denote
value (D). uniform distribution agents values [0, 1] denote
value .
Table 1 present summary properties double auction rules.
DA rule
k-DA
VCG
Trade Reduction
(D) Reduction
(D) P ayment
McAfee

Incentive compatible

yes
yes
yes, universally
yes, universally
yes

Revenue
0
decit
surplus
0 (expected)
0 (expected)
surplus

eciency loss
0
0
LFT
(D) LF (expected)
(D) LF (expected)
LFT

Table 1: Double Auction Rules comparison table
Notes : a) k-DA assume agents bid truthfully, not, non zero eciency
loss equilibrium. b) LFT means Least Favorable Trade Bl Sl .

run simulations comparing dierent DA rules respect market


revenue ( pi ) total social eciency ( iA vi ). Figures 5 6 show
results average 100 random executions auction given number
607

fiBabaioff & Nisan

buyers sellers, values drawn uniformly independently random [0, 1].
calculated Reduction DA eciency revenue ratios {0.25, 0.5, 0.75}.
Note expectation, results would obtained Payment
DA, since expected eciency revenue Reduction DA.
calculated = (U ) (where U uniform distribution agents values [0, 1])
simulations using binary search. Note gures, values Trade
Reduction DA, dierent Reduction DA, VCG DA well Reduction
DA, lay linear curve. point representing McAfees DA lays line
simulations lower eciency Reduction DA. Reduction
DA extracts eciency McAfees DA, still budget balanced.
simulations show symmetric case number buyers sellers
same, auctions extract high fraction eciency (more 99%).
hand asymmetric case number buyers much larger
number sellers, Trade Reduction DA well McAfees DA extract signicantly
lower eciency Reduction DA (about 5% less).
0.7

0.6

0.5

0.4

Revenue

0.3

0.2

0.1
VCG
Trade Reduction

0

0.25 Reduction
0.5 Reduction

0.1

0.75 Reduction
McAfee

0.2

a*
0.3
6.06

6.07

6.08

6.09
6.1
Social Efficiency

6.11

6.12

6.13

6.14

Figure 5: 25 buyers 25 sellers
Revenue/Eciency tradeo simulations results

5. Supply Chain Protocols
begin presenting linear supply chain model, unit initial good
converted unit nal good sequence unit unit conversions.
supply chain model single-minded agents model following specications
possible outcomes, value spaces classes agents. ordered set G (|G| = t)
homogeneous goods traded discrete quantities. agent one
following + 1 classes. initial supplier supply one unit rst good
608

fiConcurrent Auctions Across Supply Chain

0.7

0.6

0.5

Revenue

0.4

0.3

0.2

VCG
Trade Reduction

0.1

0.25 Reduction
0.5 Reduction
0.75 Reduction

0

McAfee
a*

0.1
2.1

2.15

2.2
Social Efficiency

2.25

2.3

2.35

Figure 6: 50 buyers 5 sellers
Revenue/Eciency tradeo simulations results

non-negative cost si (vi = si ) trades. converter one unit good r {1, . . . , t1}
one unit good r + 1 non-negative cost si (vi = si ) converts unit.
consumer non-negative value bi (vi = bi ) receives one unit nal good.
market set agents class. allocation materially balanced
good, number units produced number units consumed.
means number winners class agents same. Clearly number
winners market cannot exceed minimal number bidders market n,
assume markets n bidders (n found single message
market next market. message includes minimal size seen
far. consumer market sends n backwards chain markets).
suggest two protocols used conduct auction chain markets
distributed manner: Symmetric Protocol Pivot Protocol.
protocols run servers connected network linear chain topology. server
represents one market receives bids one class agents (suppliers, consumers
converters specied good next good chain). servers
act strategically, follow specied protocols (they owned entity).
denote supply market 1 conversion market good r
following good r + 1 rr+1 . consumer (demand) market marked .
conversion markets connected bi-directional communication channels
market supplies input good market demands output good.
denote supply demand curves good r r Dr respectively,
supply demand curves conversion good r good r + 1 rr+1
rr+1 respectively.
609

fiBabaioff & Nisan

agents must bid xed deadline. input protocols supply
bids rst good, conversion bids conversion markets demand
bids nal good. protocols decide allocation payments trading
agents (the protocols normalized, losing agents pay zero). protocols generic
operate various normalized DA rules.
Symmetric Protocol, markets conducts double auction, constructing demand supply curves. agent views supply chain auction
double auction since market conducts double auction central market makes allocation payments decisions. order protocol create
materially balanced allocation, restriction imposed double auction rule
used Symmetric Protocol, later describe. protocol use either discriminating non-discriminating DA rule. present protocol using abstract
discriminating DA rule takes supply demand curves inputs, returns
trade quantity q two price vectors, PS sellers PB buyers.
Pivot Protocol, one market (the demand market) constructs demand
supply curves, market applies double auction allocation payments rule,
sends results auction predecessor. market uses information
receives bids market send predecessor information used
calculate allocation payments. Unlike Symmetric Protocol, Pivot Protocol
must use non-discriminating DA rule, creates materially balanced allocation
DA rule. many DA rules, protocol improved much
lower communication burden Symmetric Protocol, show Section 5.3.
present protocol using abstract non-discriminating double auction rule takes
supply demand curves inputs, returns trade quantity q single price
PS trading sellers another price PB trading buyers.
5.1 Symmetric Protocol
seen example Section 2, bids submitted Symmetric
Protocol begins supply curve propagation along supply chain, supply
market consumer market. protocol continues demand curve propagation
along supply chain way (demand curves propagation may done concurrently supply curves propagation). process markets builds
supply demand curves information receives. point
markets supply demand curves, double auction conducted. rule
randomized, assume random coins public, means markets
access random coins (a public coin created one market tossing
coin propagating result markets along supply chain). formal protocol supply market 1 , conversion markets rr+1 demand
market described Figures 7, 8 9, respectively.
DA rule decides trade size market according supply demand
curves created protocol. allocation materially balanced case
trade size decided markets.
Denition 4. Let S(M ) D(M ) supply demand curves created Symmetric Protocol market . Let q(M ) trade size obtained applying DA rule
610

fiConcurrent Auctions Across Supply Chain

Symmetric Protocol Supply Market 1 .
1. 1 sort list supply bids non-decreasing order.
2. Send 1 demand market 12 .
3. Receive D1 demand market 12 .
4. Apply DA Rule (S 1 , D1 ) obtain (q, PS , PB ).
5. Output: q lowest bidders sell unit pay vector PS .

Figure 7: Symmetric Protocol Supply Market

Symmetric Protocol Conversion Market rr+1
1. rr+1 sort list supply bids non-decreasing order.
2. receiving r r1r ,
send r+1 = r + rr+1 r+1r+2 .
3. receiving Dr+1 r+1r+2 ,
send Dr = Dr+1 rr+1 r1r .
4. Construct market demand curve Drr+1 = Dr+1 r .
5. Apply DA Rule (S rr+1 , Drr+1 ) obtain (q, PS , PB ).
6. Output: q lowest bidders convert unit pay vector PS .

Figure 8: Symmetric Protocol Conversion Market

Symmetric Protocol Demand Market
1. Dt sort list demand bids non-increasing order.
2. Send Dt supply market t1t .
3. Receive supply market t1t .
4. Apply DA Rule (S , Dt ) obtain (q, PS , PB ).
5. Output: q highest bidders buy unit pay vector PB .

Figure 9: Symmetric Protocol Demand Market

611

fiBabaioff & Nisan

R (S(M ), D(M )). DA rule R called consistent q(M 1) = q(M 2) two
markets 1 2.
following Lemma shows optimal trade size markets same,
rule set trade size function optimal trade size consistent.
Lemma 5.1. Let l(M ) optimal trade size market . two markets 1
2, l(M 1) = l(M 2). denote optimal trade size l.
Proof. denition optimal trade size, l(M ) maximal index
Bl(M ) (M ) Sl(M ) (M ). enough show two markets 1 2,
B(M 1) S(M 1) = B(M 2) S(M 2) (as vectors).
r:

mm+1 ) r rr+1 =
rr+1 rr+1 = (Dr+1 r ) rr+1 = (Dt t1
m=r+1

mm+1 ) =
(S r + rr+1 + t1
m=r+1
Similar argument shows D1 1 = Dt
conclude trade size qM decided DA rule R market
function optimal trade size lM = l, R consistent. Clearly consistent DA
rule always creates materially balanced allocation.
Since trade size decided VCG DA rule l, rule consistent.
Similarly Trade Reduction DA rule consistent since trade size l 1.
double auction rules consistent, McAfees DA example inconsistent rule (a
specic example inconsistency presented appendix A). intuitive reason
consistent trade size dependent comparison
function l + 1 bids l bids, might dierent markets.
hand two new randomized DA, Reduction DA Payment DA
consistent. markets share public coin, either trade size l 1
markets, l markets.
Following main theorem regarding Symmetric Protocol.
Theorem 5.2. normalized DA rule R consistent used Symmetric
Protocol create supply chain mechanism normalized materially balanced.
R IC mechanism created Symmetric Protocol IC (thus IR)
eciency eciency R. R non-discriminating, mechanism
non-discriminating.
Proof. Since R consistent allocation materially balanced denition. payments normalized denition, show R IC mechanism IC.
Theorem 3.3 DA rule R bid monotonic payments critical values.
agent, supply demand curves (disregarding bid) independent
bid way built protocol. mechanism bid monotonic
payments critical values (from agent point view, submits bid
DA), therefore direction Theorem 3.3 supply chain mechanism IC
(and IR). IC way costs aggregated protocol, eciency
mechanism eciency R. R non-discriminating,
payments winning agents market same, mechanism
non-discriminating.
612

fiConcurrent Auctions Across Supply Chain

Note normalized, IC consistent DA rule must used
markets mechanism materially balanced, normalized IC. DA rule
function supply demand curves market. two supplier
conversion markets get supply bids, get demand curves
consistency must allocation. Since normalized IC
Observation 3.4 must payment rule. demand market must
DA rule supply market, since case converters
zero cost, markets supply demand curves. Applying
argument presented markets, proves must DA rule.
5.2 Pivot Protocol
Pivot Protocol supply chain protocol creates normalized materially balanced
supply chain mechanism non-discriminating normalized double auction rule.
DA rule incentive compatible protocol creates incentive compatible supply
chain mechanism. Unlike Symmetric Protocol, Pivot Protocol restricted
using consistent double auction rules, sense less restricted Symmetric
Protocol. hand, unlike Symmetric Protocol restricted use nondiscriminating double auction rules. use randomized double auctions
natural Pivot Protocol, since one market (the Pivot market) uses random
coins need public coins created distribution random coins
one market markets.
dening Pivot Protocol formally, explain execution Lemonadestand industry example Section 2. Symmetric Protocol, protocol begins
supply curve propagation along supply chain juice market (see Figure 2).
Figure 10 presents information propagation Pivot Protocol supply curve
propagation stage, explained below.
Lemon Market
Supply Demand
(S L )
(DL )
3
6
8
7

Squeezing Market
Supply Demand
(S LJ )
(DLJ )
1
3
5
6

(V,q)=(8,2)

Juice Market
Supply Demand
(S J )
(DJ )
4
12
9
11
13
7

(V,q)=(11,2)





Figure 10: Pivot Protocol Lemonade-stand industry
Unlike Symmetric Protocol, demand curve propagated backwards,
rather, juice market, supply demand curves stage,
conducts non-discriminating double auction. example, running VCG double
auction results ecient trade size 2 juice market. trade size propagated
markets set trade size market along supply chain,
ensuring materially balanced allocation (the trade size denoted q Figure 10).
VCG DA rule charges two winning consumers juice market $9 = max($9, $7)
613

fiBabaioff & Nisan

(since must bid least $9 match supply juice, do,
defeat Cindy, losing consumer). single agent juice supplier role
juice market, rather, juice supplier aggregation lemon picker juice
squeezer. use price double auction would charged supplier
juice market nd prices lemon pickers juice squeezers. market sends
predecessor chain highest price winning agents willing pay one unit
input good. supplier juice market paid $11 = min($13, $11),
maximal cost winning supplier charge juice. So, $11 highest cost
juice, juice market informs squeezing market trade size 2
price juice exceed $11 (V gure marks propagated value).
squeezing market informs lemon market trade size 2 price
lemon market $8 = $11 $3, since highest cost winner
squeezing market $3. price squeezing market cannot exceed $5 = $11 $6,
since price juice cannot exceed $11 cost lemon winning lemon picker
might high $6. Also, price squeezing market cannot exceed $6, cost
loser market, price set $5 = min($6, $5). price lemon
market set $7 = min($7, $8), since price cannot exceed $7, cost loser
market, lower propagated maximal cost $8.
Note use VCG double auction rule, Lemonade-stand industry
allocation payments Pivot Protocol exactly allocation
payments Symmetric Protocol presented Section 2. later show (Theorem 5.5)
general phenomena happens normalized DA incentive compatible
rule used protocols, is, DA rule non-discriminating
consistent (if DA rule inconsistent, McAfees DA rule, allocation created
Symmetric Protocol materially balanced. hand rule
discriminating, cannot used Pivot Protocol since dierent maximal
unit costs dierent winning agents market).
turn general denition Pivot Protocol. Pivot Protocol, one
markets chosen pivot double auction held there. market
may chosen pivot; describe case pivot consumer market.
bids submitted, protocol begins supply curves propagation along
supply chain Symmetric Protocol. point consumer market
supply demand curves, non-discriminating double auction conducted
market. DA sets trade size, price mechanism charges consumers,
highest cost unit good (suppliers price), sent predecessor
market consumer market. that, starting consumer market
viewed demand market predecessor, demand markets sends
supply market size trade highest price demand market willing
pay one unit input good, without reducing trade quantity. payment
market set maximal cost market results trade size,
calculated minimum two terms. rst term dierence
propagated maximal cost market output maximal cost market input.
second term highest cost loser market. show
payment scheme creates normalized, incentive compatible non-discriminating supply
614

fiConcurrent Auctions Across Supply Chain

Pivot Protocol Pivot Market
1. Dt sort list demand bids non-increasing order.
2. Receive supply market t1t .
3. apply DA Rule (S , Dt ) obtain (q, PS , PB ).
// Send results markets:
4. Send (PS , q) market t1t .
5. Output: q highest bidders buy price PB .

Figure 11: Pivot Protocol Pivot Market
Pivot Protocol Conversion Market rr+1
1. rr+1 sort list supply bids non-decreasing order.
2. receiving r r1r ,
send r+1 = r + rr+1 r+1r+2 .
3. receiving pair (V, q) r+1r+2 ,
send (V Sqrr+1 , q) r1r .

rr+1
4. Output: q lowest bidders sell price min(V Sqr , Sq+1
).

Figure 12: Pivot Protocol Conversion Market
chain mechanism, given normalized, incentive compatible non-discriminating double
auction rule.
formal protocol pivot market, conversion markets supply market
presented Figures 11, 12 13, respectively.
following theorem shows properties mechanism created Pivot
Protocol derived properties DA rule used pivot market.
Theorem 5.3. normalized DA rule R non-discriminating used
Pivot Protocol create normalized supply chain mechanism materially balanced
non-discriminating. R IC mechanism created Pivot Protocol
IC (thus IR) eciency eciency R.
Pivot Protocol Supply Market 1
1.
2.
3.
4.

1 sort list supply bids non-decreasing order.
Send 1 demand market 12 .
Receive pair (V, q) demand market 12 .
1
).
Output: q lowest bidders sell price min(V, Sq+1

Figure 13: Pivot Protocol Supply Market
615

fiBabaioff & Nisan

Proof. protocol denition mechanism materially balanced, normalized
non-discriminating. Assume DA rule normalized IC. Then, since
protocol denition supply curve pivot market independent bids
consumers, mechanism normalized IC consumers. prove
IC initial suppliers, proof converters similar (so omitted),
conclude mechanism normalized IC (thus IR). show
mechanism bid monotonic payments critical values, thus Theorem 3.3
mechanism IC.
Assume supplier bids Si1 wins. Assume trade size q (q since wins)
PS price sellers pivot market. allocation bid monotonic since
bids lower cost still one q lowest bidding suppliers bid change
reduce cost q lowest bidding sellers pivot market. applying
Lemma 3.6 DA rule, PS remains same, corresponding seller bid still
lower PS remains winner. Let Ci1 critical value supplier i.
Pivot Protocol payment winning supplier supply market
p1i

= min(PS

t1


1
Sqrr+1 , Sq+1
)

r=1

need show Ci1 = p1i prove payments critical values. Assume
changes bid X j bid market new order
bids. show X < p1i wins X > p1i loses (note
consider costs, values). means p1i critical value supplier Si1 win
auction.
1
supplier still one q highest bidders
X < p1i X < Sq+1
market (j q). way protocol builds supply curve
pivot market, bid change change q highest sellers bids pivot
market. q highest sellers bids pivot market still PS , since

rr+1 < PS , even q bidder assumption
originally Sq1 + t1
t1 rr+1 r=1 q
< PS . Lemma 3.6 applied DA rule, PS remains
X + r=1 Sq
since corresponding seller bid PS , supplier wins auction.
proves Ci1 p1i
1 , j q + 1. win bidding X must
X > Sq+1


rr+1
rr+1
1
1
, Ci1 > Sq+1
+ t1
ND means
Ci > X + t1
r=1 Sj
r=1 Sq+1
original q + 1 supplier (which q supplier) must win bids X.
Lemma 3.6 original q + 1 supplier must win bids Si1 contradicts
assumption trade size q bids Si1 .



rr+1 X 1
X > PS t1
q+1 j q (without loss generality
r=1 Sq

rr+1 > P
ordered q + 1 bid tie). Since X + t1

r=1 Sq

t1 rr+1
1
1
(the original q supplier wins bids Si ) conclude
PS Sq + r=1 Sq
X > Sq1 means q bidder (j = q). corresponding

rr+1 > P , high enough win
seller bid DA X + t1

r=1 Sq
DA therefore agent loses.

616

fiConcurrent Auctions Across Supply Chain

conclude agent wins auction pays critical value, therefore
auction IR IC. IC way costs aggregated protocol,
eciency mechanism eciency R.
Theorem 5.3 presented relationship incentive compatibility DA
rule resulting supply chain auction created Pivot Protocol. brings
question whether budget balance DA rule ensures budget balance
supply chain mechanism. turn so! appendix present example
DA rule (McAfees rule) revenue surplus, Pivot Protocol using
rule creates mechanism revenue decit.
next theorem gives condition DA rule sucient ensure
supply chain mechanism created Pivot Protocol budget-balanced. shows
DA rule budget decit creates mechanism decit.
Theorem 5.4. Let R normalized DA rule IC non-discriminating. Let
supply chain mechanism created Pivot Protocol using rule R .
supply demand curves, let q trade size decided R, let PS PB
sellers buyers prices respectively.
PB Sq+1 holds supply demand curves, budget-balanced.
PB < PS supply demand curves (R budget decit) budget
decit.
Proof. rst show PB Sq+1 holds supply demand curves,
budget-balanced. divide supply chain allocation q disjoint procurement
sets. set single winner market. show total payment
procurement set non-negative, therefore auction BB. Theorem 5.3
mechanism non-discriminating, procurement sets payments.
Let P total payments agents procurement set, except consumer.


P PS . PB Sq+1
PB P ,
Lemma B.1 (see appendix B) shows Sq+1
conclude PB P 0 BB.
Similarly supply demand curves R budget decit, every procurement set decit. PB < PS supply demand curves, PB < P
conclude total payment procurement set PB P < 0,
means budget decit.
Note double auction rule R BB, sucient PB PS .
prove supply chain mechanism budget balanced, theorem relies stronger
condition PB Sq+1 (it always true Sq+1 PS Lemma B.1 shows).
McAfees DA satises PB PS , stronger condition PB Sq+1 always hold,
indeed example Appendix shows supply chain mechanism
budget decit cases. hand, Trade Reduction DA rule satises
constraints since q = l 1 (recall l optimal trade size) PB = Bq+1 =
Bl Sl = Sq+1 = PS .
Clearly DA rule budget decit might create supply chain mechanism
budget decit used Symmetric Protocol. since double auction special
case supply chain. able present parallel sucient condition
Symmetric Protocol ensure budget-balanced supply chain mechanism. case
617

fiBabaioff & Nisan

normalized DA rule incentive compatible, consistent non-discriminating, next
theorem proves two protocols create mechanism, implies
sucient condition budget balance holds Symmetric Protocol
DA rules.
turn look relationship two protocols. case
normalized DA rule consistent non-discriminating used protocols.
following theorem shows rule IC, Symmetric Protocol
Pivot Protocol create mechanism:
Theorem 5.5. Let R normalized DA rule non-discriminating consistent.
R IC mechanism created Pivot Protocol using R
mechanism created Symmetric Protocol using R (for set bids,
allocation payments). Thus, eciency budget mechanisms
equal.
Proof. Since supply demand curves demand market built
way, DA rule used demand market protocols, market
trade sizes decided rule mechanisms. Symmetric Protocol
consistent, therefore trade sizes markets same. Since mechanism
non-discriminating, allocations markets protocols.
Observation 3.4 mechanisms must payments, since
allocation.
5.3 Communication Complexity
naive implementation supply chain mechanism centralized mechanism would
required sending (tn) bids one centralized point (t number goods n
minimal number agents market). protocols described
much lower communication O(n) prices received sent market (note
bid single agent requires k bits, prices communicated grow
much k + bits). many interesting DA rules reduce
communication market O(log(n)) prices improved Pivot Protocol
present below. Thus, DA rules Pivot Protocol implemented
exponentially larger markets still using bandwidth. example,
use improved protocol size trade q set DA rule calculated
Optimal Trade Quantity l, payments dependent l l + 1 bids
supply demand curves (this case DA rules presented).
Theorem 5.6. Let R normalized DA rule IC non-discriminating. Assume
trade size decided rule function Optimal Trade Size l only,
payments decided using O(1) prices knowing l. Pivot Protocol
implemented O(log(n)) messages sent received market,
message contains single price.
Proof. Pivot Protocol improved using binary search nd l thus sending
values needed supply curves, instead passing entire supply curves
along chain. search l preformed binary search sending
618

fiConcurrent Auctions Across Supply Chain

O(log(n)) messages two consecutive markets. improved protocol, rst
tn passed pivot market, n minimal number bids market
2
(known markets protocol explained beginning section).
pivot market checks value smaller greater Dtn asks 3n
4
2
n4 element supply curves respectively. pivot market receives requested
value continues similar way search, l found. O(1) prices
needed supply curve nd payments (which function l
assumption) propagated pivot market request.
Similar results presented Symmetric Protocol restrictions
DA rule used protocol. Symmetric Protocol protocol choice
DA rule discriminating, case likely entire supply
demand curves needed order nd prices winners.
5.4 Global Properties Dierent DA Types
section examine properties mechanisms created supply chain
protocols using dierent double auction rules.
Chain VCG Double Auctions created running Symmetric Protocol
using VCG DA rule. creates local VCG double auction markets.
Since VCG DA rule IR, IC, consistent non-discriminating, Theorem 5.5 Pivot
Protocol VCG DA rule creates mechanism.
following proposition summarizes properties supply chain mechanism
using VCG double auction rule.
Proposition 5.7. Chain VCG Double Auctions IR, IC, non-discriminating, Socially
Ecient revenue decit. (RChain V CG 0)
Proof. Since VCG DA rule normalized, IC non-discriminating, Theorem 5.3
mechanism created IR, IC non-discriminating. outcome maximizes sum
valuations (Socially Ecient), since agents bid truthfully, trade size Optimal
Trade Size highest value bidders markets chosen winners.
fact VCG DA budget decit Theorem 5.4 conclude
Chain VCG DAs budget decit.
Note Observation 3.4 mechanism created using VCG DA rule VCG
global sense presented Vickrey, Clarke Groves (A mechanism IR, IC
ecient).
Chain Trade Reduction Double Auctions created running Symmetric
Protocol using Trade Reduction DA Rule. creates local Trade Reduction double
auction markets, double auctions chained. Since Trade
Reduction DA rule normalized, IC, consistent non-discriminating, Theorem 5.5
Pivot Protocol Trade Reduction DA rule creates mechanism.
Proposition 5.8. Chain Trade Reduction Double Auctions IR, IC , non-discriminating,
revenue surplus
RChain

rade Reduction

= (l 1) (Dlt Slt ) 0
619

fiBabaioff & Nisan

reduction Social Eciency Dlt Slt eciency least (l 1)/l
maximal eciency.
Proof. Since Trade Reduction DA rule normalized, IC ND, Theorem 5.3
mechanism created IR, IC non-discriminating.
revenue sum payments
(l 1) (Dlt

t1


Slrr+1 Sl1 ) = (l 1) (Dlt Slt )

r=1

non-negative since Dlt Slt denition Optimal Trade Quantity l.
reduction social eciency Dlt Slt , since l unit traded,
Trade Reduction DA l 1 highest trades optimal l trades conducted,
giving eciency least (l 1)/l.
Chain Reduction Double Auctions created running Pivot Protocol
using Reduction Rule, creates randomized mechanism. mechanism
probability distribution two mechanisms - Chain Trade Reduction DA
Chain VCG DA. mechanisms used according random variable
one probability zero otherwise. rst mechanism chosen one
(with probability ), second mechanism chosen zero (which happens
probability 1 ).
auction preformed using Symmetric Protocol public coin
assumption (which created distributing random coin, tossed one
markets). case random variable shared markets, meaning
either Trade Reduction rule used markets, non markets.
ensures trade consistency creates mechanism.
Chain Reduction Double Auctions achieves allocation payments
Chain Trade Reduction DA probability , probability 1 achieves
allocation payments Chain VCG DA.
Proposition 5.9. Chain Reduction Double Auctions individually rational
universally incentive compatible randomized mechanism. expected revenue
RChain

Reduction

= RChain

rade Reduction

+ (1 ) RChain

V CG

eciency least (l 1)/l maximal eciency. expected reduction
Social Eciency (Dlt Slt ) expectation random choice .
Proof. mechanism individually rational universally incentive compatible randomized mechanism, since Chain Trade Reduction DAs Chain VCG
DAs normalized incentive compatible Proposition 5.8 Proposition 5.7.
easy verify expected revenue reduction social eciency
claimed.
Chain Payment Double Auctions created running Symmetric Protocol, market running Payment Double Auction, creates randomized
620

fiConcurrent Auctions Across Supply Chain

mechanism (again public coin assumption). mechanism expected revenue social eciency Chain Reduction DAs,
agents probability winning auction expected utility
Chain Reduction DAs. Note since Payment DA rule discriminating,
Pivot Protocol dened cannot used create supply chain mechanism.
Proposition 5.10. Chain Payment Double Auctions individually rational
incentive compatible randomized mechanism. expected revenue expected social
eciency Chain Reduction Double Auctions.
Proof. Chain Payment Double Auctions distribution allocation
payments Chain Reduction Double Auctions, therefore agent facing
mechanism expectation bids truthfully. Since expected payment
agent mechanisms, expected revenue same. Since
allocation mechanisms, expected social eciency same.
Unfortunately, chaining McAfees Double Auction preserve nice properties
McAfees DA rule has. run Symmetric Protocol using McAfees DA Rule,
might get inconsistent trade. hand, run Pivot Protocol using
McAfees DA rule, revenue decit! (See examples appendix A). However
weaker claim made - mechanism revenue least high chain
VCG DA, eciency least high chain Trade Reduction DA.
Chain McAfees Double Auction created running Pivot Protocol using
McAfees Rule.
Proposition 5.11. Chain McAfees Double Auction IR, IC, ND, revenue never
smaller revenue Chain VCG Double Auction, reduction
Social Eciency never greater reduction Chain Trade Reduction Double
Auction.
Proof. Chain McAfees Double Auction IR, IC ND Theorem 5.3 fact
McAfees DA rule normalized, IC ND.
mechanism revenue never smaller revenue Chain VCG Double
Auctions since trade reduction, revenue surplus Proposition 5.8,
know Chain VCG Double Auctions revenue decit Proposition 5.7.
case trade reduction, revenue never smaller revenue Chain
St

+D

VCG Double Auctions, since winning buyer pays p = PB = PS = l+1 2 l+1


> Dl+1

least much pays VCG mechanism. Sl+1





Sl+1 > p > Dl+1 Sl p therefore max(Dl+1 , Sl ) p. winning seller
1 , 1 ) receives VCG
supply good, never receives min(Sl+1
l


mechanism. since p min(Sl+1 , Dl ) receives
1
,p
min(Sl+1

t1


1

Slrr+1 ) min(Sl+1
, min(Dlt , Sl+1
)

r=1
1
, Dlt
min(Sl+1

t1


Slrr+1 ) =

r=1
t1



Slrr+1 , Sl+1


r=1

t1

r=1

621

1
Slrr+1 ) = min(Sl+1
, Dl1 )

fiBabaioff & Nisan





rr+1
rr+1

last equality holds since Dl1 = Dlt t1
Sl+1
t1

r=1 Sl
r=1 Sl

t1
rr+1

1
= Sl+1 . similar argument shows winning convert never
Sl+1 r=1 Sl+1
receives VCG mechanism.
reduction social eciency never greater reduction Chain
Trade Reduction Double Auction, since trade size never smaller trade size
auction, l 1.

Table 2 summarizes properties supply chain mechanisms created two
protocols using dierent double auction rules. normalized mechanisms, one cares
incentive compatibility eciency budget balance, VCG
mechanism used. budget balance must ensured every execution
incentive compatible mechanism, Trade Reduction auction mechanism
choice. one wants mechanism incentive compatible every execution,
settle expected budget balance instead ensured one, higher expected eciency
achieved (D) Reduction, assuming right choice (D). Finally,
variance agents payments important, (D) P ayment used
order lower variance agents. cost, since mechanism
incentive compatible every execution (universally), rather, incentive
compatible agents care expected utility. table presents
McAfee supply chain mechanism, point fact budget supply chain
mechanism might dierent budget underlying double auction.
DA rule
VCG
Trade Red.
(D) Reduction
(D) P ayment
McAfee

Incentive Comp.
yes
yes
yes, universally
yes, universally
yes

Revenue
decit
surplus
0 (expected)
0 (expected)
surplus decit

Eciency loss
0
LFT
(D) LF (expected)
(D) LF (expected)
LFT

Table 2: Supply Chain Auctions
Notes: a) McAfees rule used Symmetric Protocol, table presents properties
Pivot Protocol. b) LFT (least favorable trade) context supply chain, means net total utility
least favorable item. c) distribution agents supply chain. d) (D) P ayment
lower variance payments (D) Reduction.

comparing properties chain mechanisms Table 2 properties
original double auction rules Figure 1, one see following. incentive
compatibility eciency properties preserved protocols, achieving
revenue surplus requires stronger condition DA rule, shown Theorem 5.4. consistency property, enables chaining markets Symmetric
Protocol, applies rst two deterministic rules, two randomized rules
assumption common coin toss. exist McAfees rule since rule sets
trade quantity function bids submitted, way trade quantity
dierent two dierent markets. k-DA presented table since
622

fiConcurrent Auctions Across Supply Chain

incentive compatible therefore cannot used protocols (the two protocols
create dierent mechanisms rule).

6. Discussion Future Work
paper presented two distributed protocols create supply chain mechanisms using double auction rules. protocols generic use dierent double
auction rules create dierent mechanisms. characterized properties
supply chain mechanisms derive properties underlining double auction
rule. protocols use VCG DA achieve IR, IC full eciency budget
decit. use Trade Reduction DA ensure budget balance surplus
high eciency. even higher eciency maintaining BB expectation
achieved using two new randomized double auction rules.
work concentrated simple case indivisible homogeneous goods,
agents desires one good desires convert one unit good one unit
another good, supply chain linear form. Pivot Protocol easily extended
case trees good created one several goods (but
good used create two dierent goods). example, might lemon market
Florida another lemon market California, separate squeezing markets
states, one lemonade market. tree auctions decides many lemonade
glasses produced, many glasses produced Florida lemons
California lemons. Since main ideas extension similar ones
presented paper, omit technical details refer interested reader
Babaio (2001) details. Babaio (2001) discusses extension model
case agent allowed bid multiple units market, bidding
maximal quantity willing trade price per unit.
paper Babaio Walsh (2004) extends model case item
produced combination several items several dierent goods, good
still produced exactly one market. presented specic auction (unlike
work presents generic protocols supply chain formation) individually
rational, incentive compatible, budget-balanced, yet highly ecient.
Similar results (IR, IC, BB high eciency) presented Babaio, Nisan,
Pavlov (2004) related model Spatially Distributed Market. model single
good traded set independent markets, shipment markets possible
incurs publicly known cost (but model strategic producers
model).
One interesting challenge stay unit-to-unit conversion model, extend
model allow general directed a-cyclic supply chain graph topology. Yet another
important challenge extend model case agents single-minded
agents, submit exclusive non exclusive bids several markets.
623

fiBabaioff & Nisan

Acknowledgments
research supported grants Israeli Ministry Science, Israeli
Academy Sciences USA-Israel Bi-national Science Foundation. rst author
(Babaio) supported Yeshaya Horowitz Association.
thank William Walsh, Daniel Lehmann, Hila Babaio anonymous reviewers
helpful comments.

Appendix A. Problems Chaining McAfees Double Auction
Consistency Problem: following example supply chain auction using McAfees
rule shows double auction rules consistent. Figure 14 shows supply
demand curves three markets supply demand curves propagation.
Lemon Market
Supply Demand
(S L )
(DL )
10
20
20
10

Squeezing Market
Supply Demand
(S LJ )
(DLJ )
5
15
7
-3

Juice Market
Supply Demand
(S J )
(DJ )
15
25
27
17

Figure 14: Chaining McAfees DA example
optimal trade quantity example 1, seen Figure 14. McAfees
= 22 [15, 25].
rule Lemonade Market set trade size 1, since 27+17
2
hand, use McAfees rule Squeezing Market, trade reduction
= 2
/ [5, 15] trade quantity zero, contradiction
made since 7+(3)
2
previous decision. conclude exists non-consistent DA rule cannot
used Symmetric Protocol.
Revenue Problem: example Pivot Protocol presented
Figure 15 shows fact DA rule revenue surplus, ensure
supply chain mechanism created Pivot Protocol using DA rule revenue
surplus well.
Lemon Market
Supply Demand
(S L )
(DL )
10
20

Squeezing Market
Supply Demand
(S LJ )
(DLJ )
5
7

(V,q)=(17,1)

Juice Market
Supply Demand
(S J )
(DJ )
15
25
27
17

(V,q)=(22,1)





Figure 15: Pivot Protocol McAfees rule
example, McAfees rule Lemonade Market sets trade size 1, since
= 22 [15, 25]. buyer market pay 22. following Pivot
Protocol, squeezer bid 5 paid 7 = min(7, 22 10)
27+17
2

624

fiConcurrent Auctions Across Supply Chain

supplier supply market bid 10 paid 17 = min(17, 20).
total revenue 22 7 17 = 2 means revenue decit.

Appendix B. Supply Chain Payments
appendix prove Lemma B.1 used proof Theorem 5.4.
Lemma B.1. double auction rule used Pivot Protocol IR, IC nondiscriminating, PS sellers price double auction, total payment
P supplier converters (one market) create one unit nal
.
good satises PS P Sq+1
Proof. induction, conversion market C C m+1 receives pair (PS
t1
rr+1 , q) demand market, payment winning converter
r=m+1 Sq
min(PS

t1


mm+1
Sqrr+1 Sqm , Sq+1
)

r=m+1

Similarly, supply market 1 receives pair (PS
ment winning supplier
min(PS

t1


t1

rr+1 , q),
r=1 Sq

pay-

1
Sqrr+1 , Sq+1
)

r=1

conclude total payment converters supplier one unit
P =

t1

m=1

min(PS

t1


mm+1
Sqrr+1 Sqm , Sq+1
) + min(PS

r=m+1

t1


1
Sqrr+1 , Sq+1
)

r=1


since
First notice P Sq+1

P

t1


mm+1
1

Sq+1
+ Sq+1
= Sq+1

m=1

Secondly prove PS P . idea proof holds
one conversion C 1 C (as show Lemma B.2), splitting conversion
two consecutive conversions, total payment converters grows (as
show Lemma B.3).
Lemma B.2. Assume one conversion market C 1 C ,

rr+1

means every i, Si1t = t1
r=1 Si
1t
1
) + min(PS Sq1t , Sq+1
)
PS P = min(PS Sq1 , Sq+1

Proof. Note double auction pivot market original
auction, since supply curve pivot market same, therefore PS
same.
prove claim true checking four possible cases:
625

fiBabaioff & Nisan

1t P 1t 1 ,
1. PS Sq1 Sq+1

q
q+1

P = (PS Sq1 ) + (PS Sq1t ) = PS + (PS (Sq1 + Sq1t )) PS
since PS Sq1 + Sq1t = Sqt , DA rule non-discriminating.
1t 1
1t ,
2. PS Sq1 Sq+1
q+1 PS Sq
1
1
= PS + (Sq+1
Sq1 ) PS
P = (PS Sq1 ) + Sq+1
1
since Sq+1
Sq1
1t P 1 P 1t 1 ,
3. Sq+1


q
q
q+1
1t
1t
+ (PS Sq1t ) = PS + (Sq+1
Sq1t ) PS
P = Sq+1
1t 1t .
since Sq+1
q
1t P 1 1
1t ,
4. Sq+1

q
q+1 PS Sq
1t
1
+ Sq+1
PS
P = Sq+1
1t + 1

since Sq+1
q+1 = Sq+1 PS , DA rule non-discriminating.

proven P PS case one conversion market.
Lemma B.3. Assume conversion market C k C split two conversion
markets - one C k C k+1 C k+1 C , payment
conversion one unit C k C grow, means
P kt P kk+1 + P k+1t
P wz cost conversion one w unit one z unit. words,
always true
kk+1
k+1t
kt
) min(PS Sqk+1t Sqk , Sq+1
) + min(PS Sqk+1 , Sq+1
)
min(PS Sqk , Sq+1

Sikt =

t1

r=k

Sirr+1

Proof. Note double auction pivot market original
auction, since supply curve pivot market same, therefore PS
same.
prove claim true checking four possible cases:
kk+1
k+1t
PS Sqk+1 Sq+1
,
1. PS Sqk+1t Sqk Sq+1
kk+1
k+1t
kt
kt
+ Sq+1
= Sq+1
min(PS Sqk , Sq+1
) = P kt
P kk+1 + P k+1t = Sq+1

626

fiConcurrent Auctions Across Supply Chain

kk+1
k+1t
2. PS Sqk+1t Sqk Sq+1
PS Sqk+1 Sq+1
,
k+1t
=
P kk+1 + P k+1t = (PS Sqk+1t Sqk ) + Sq+1
k+1t
(PS Sqk ) + (Sq+1
Sqk+1t ) PS Sqk P kt
k+1t
since Sq+1
Sqk+1t .
kk+1
k+1t
3. PS Sqk+1t Sqk Sq+1
PS Sqk+1 Sq+1
,
kk+1
+ (PS Sqk+1 ) =
P kk+1 + P k+1t = Sq+1
kk+1
Sqkk+1 ) (PS Sqk ) P kt
(PS Sqk ) + (Sq+1
kk+1
since Sq+1
Sqkk+1 .
kk+1
k+1t
PS Sqk+1 Sq+1
,
4. PS Sqk+1t Sqk Sq+1

P kk+1 + P k+1t = (PS Sqk+1t Sqk ) + (PS Sqk+1 ) =
(PS Sqk ) + (PS Sqk+1 Sqk+1t ) (PS Sqk ) P kt
since PS Sqk+1 + Sqk+1t = Sqt .
proven payment grow splitting conversion market.
conclude cost one unit C never smaller PS , since
rst lemma, true one conversion, induction second
lemma, splitting conversion market 1 conversion markets increase
cost.

References
Archer, A., & Tardos, E. (2001). Truthful mechanisms one-parameter agents. Proceedings 42nd IEEE symposium foundations computer science, pp. 482491.
Babaio, M. (2001).
Concurrent auctions across supply chain. m.sc. thesis, department computer science, hebrew university jerusalem, israel.
http://www.cs.huji.ac.il/mosheb.
Babaio, M., Nisan, N., & Pavlov, E. (2004). Mechanisms spatially distributed market.
5th ACM Conference Electronic Commerce, pp. 920.
Babaio, M., & Walsh, W. E. (2004). Incentive-compatible, budget-balanced, yet highly
ecient auctions supply chain formation. Decision Support Systems. press.
Partial version appeared EC03.
Bosch-Domenech, A., & Sunder, S. (1999). Tracking invisible hand: Convergence
double auctions competitive equilibrium. Tech. rep., Carnegie Mellon University.
627

fiBabaioff & Nisan

Chatterjee, K., & Samuelson, W. (1983). Bargaining incomplete information. Operations Research, 31, 835851.
Clarke, E. H. (1971). Multipart pricing public goods. Public Choice, 1733.
Feigenbaum, J., & Shenker, S. (2002). Distributed algorithmic mechanism design: Recent
results future directions. 6th International Workshop Discrete Algorithms
Methods Mobile Computing Communications, pp. 113.
Friedman, D., & Rust, J. (1991). Double Auction Market Institutions, Theories,
Evidence. Addison-Wesley Publishing Company.
Goldberg, A. V., & Hartline, J. D. (2003). Envy-free auctions digital goods. 4st ACM
Conference Electronic Commerce, pp. 2935. ACM Press.
Groves, T. (1973). Incentives teams. Econometrica, 617631.
Lehmann, D. J., OCallaghan, L. I., & Shoham, Y. (2002). Truth revelation approximately
ecient combinatorial auctions. Journal ACM, 49 (5), 577602.
Mas-Collel, A., Whinston, W., & Green, J. (1995). Microeconomic Theory. Oxford university press.
McAfee, R. (1992). dominant strategy double auction. Journal Economic Theory, 56,
434450.
Mualem, A., & Nisan, N. (2002). Truthful approximation mechanisms restricted combinatorial auctions.. AAAI (poster), 2002. presented Dagstuhl workshop
Electronic Market Design.
Myerson, R. B., & Satterthwaite, M. A. (1983). Ecient mechanisms bilateral trading.
Journal Economic Theory, 29, 265281.
Nisan, N., & Ronen, A. (1999). Algorithmic mechanism design. Proceedings STOC
1999, pp. 129140.
Osborne, M. J., & Rubinstein, A. (1994). Course Game Theory. MIT press.
Parkes, D. C., Kalagnanam, J., & Eso, M. (2001). Achieving budget-balance vickreybased payment schemes exchanges. IJCAI, pp. 11611168.
Rustichini, A., Satterthwaite, M. A., & Williams, S. R. (1994). Convergence eciency
simple market incomplete information. Econometrica, 62 (5), 10411063.
Satterthwaite, M., & Williams, S. (1989). Bilateral trade sealed bid k-double
auction: Existence eciency. Journal Economic Theory, 48, 107133.
Satterthwaite, M. A., & Williams, S. R. (1991). bayesian theory k-double auction.
Double Auction Market Institutions, Theories, Evidence, pp. 99124.
Vickrey, W. (1961). Counterspeculation, auctions competitive sealed tenders. Journal
Finance, 837.
628

fiConcurrent Auctions Across Supply Chain

Walsh, W., & Wellman, M. (2003). Decentralized supply chain formation: market protocol
competitive equilibrium analysis. Journal Articial Intelligence Research, 19,
513567.
Walsh, W. E., Wellman, M. P., & Ygge, F. (2000). Combinatorial auctions supply chain
formation. 2nd ACM Conference Electronic Commerce, pp. 260269.
Wilson, R. (1985). Incentive eciency double auctions. Econometrica, 53, 11011115.

629


