journal articial intelligence

submitted published

mixed strategies combinatorial agency
moshe babaio

moshe microsoft com

microsoft silicon valley
mountain view ca usa

michal feldman

mfeldman huji ac il

school business administration
center study rationality
hebrew university jerusalem
jerusalem israel

noam nisan

noam cs huji ac il

school computer science
hebrew university jerusalem
jerusalem israel

abstract
many multiagent domains set agents exert eort towards joint outcome yet
individual eort levels cannot easily observed typical example scenario
routing communication networks sender observe whether packet
reached destination often information actions intermediate
routers inuences nal outcome study setting principal needs
motivate team agents whose combination hidden eorts stochastically determines
outcome companion devise study basic combinatorial agency model
setting principal restricted inducing pure nash equilibrium
study implications restriction first contrast
case observable eorts inducing mixed strategies equilibrium may benecial
principal second present sucient condition technologies gain
generated third bound principals gain families technologies finally
study robustness mixed equilibria coalitional deviations computational
hardness optimal mixed equilibria

introduction
study combinatorial agency mixed strategies section reviews
background combinatorial agency pure strategies present
mixed strategies
background combinatorial agency
well studied principal agent deals principal motivate
rational agent exert costly eort towards welfare principal diculty
model agents action e whether exerts eort invisible
principal nal outcome probabilistic inuenced
c

ai access foundation rights reserved

fibabaioff feldman nisan

factors visible well studied many contexts classical
economic theory refer readers introductory texts economic theory
work mass colell whinston green chapter settings
properly designed contract payments contingent upon nal outcome
inuence rational agent exert required eort
many multiagent settings however set agents work together towards joint
outcome handling combinations agents rather single agent focus
work babaio feldman nisan much work previously done
motivating teams agents e g holmstrom strausz emphasis
dealing complex combinatorial structure dependencies agents actions
general case combination eorts exerted n dierent agents may
dierent expected gain principal general question asks given exact
specication expected utility principal combination agents actions
conditional payments principal oer agents maximize
net utility
view hidden actions computational settings complementary
hidden information heart eld algorithmic
mechanism design nisan roughgarden tardos vazirani nisan ronen
recent years computer science articial intelligence showed lot interest
algorithmic mechanism design particular imported concepts game theory
mechanism design solving arise articial intelligence application
domains computer networks routers autonomous software agents
communication networks serve typical application setting since many computer networks internet mobile ad hoc networks used administered
multiple entities dierent economic interests performance determined
actions among interacting self interested parties thus taking account
economic strategic considerations together technical ones may crucial
settings indeed recent years seen urry employing game theoretic analysis better understanding eect strategic considerations
network design performance
example discussed work feldman chuang stoica shenker
quality service routing network every intermediate link router may
exert dierent amount eort priority bandwidth etc attempting forward
packet information nal outcome whether packet reached destination
clearly visible rarely feasible monitor exact amount eort exerted
intermediate link ensure really exert appropriate amount
eort example internet routing ip routers may delay drop packets
mobile ad hoc networks devices may strategically drop packets conserve constrained
energy resources aside forwarding decisions done sequential manner
eort decisions take place prior actual packet transmission done
simultaneous manner many examples decisions among
quality hardware appropriate tuning routers focus
invisible meant wide sense includes precisely measurable costly determine
non contractible meaning upheld court law



fimixed strategies combinatorial agency

priori eort decisions since crucial quality transmission
harder detect agents shirk respect matters
general model presented work babaio et al n agents
set possible actions combination actions players
outcome happens probabilistically main part specication
model function technology species distribution
n tuple agents actions additionally species principals utility
possible outcome agent agents cost possible action
principal motivates agents oering contract species
payment possible outcome whole project key actions
players non observable hidden actions thus contract cannot make
payments directly contingent actions players rather outcome
whole project
given set contracts agent optimizes utility e chooses action
maximizes expected payment minus cost action since outcome depends
actions players together agents put game assumed
reach nash equilibrium ne principals designing optimal
contract e vector contracts dierent agents induce equilibrium
optimize expected utility outcome minus expected total payment
main diculty determining required nash equilibrium point
interest work babaio et al focused
binary case agent two possible actions exert eort shirk
two possible outcomes success failure motivating examples come
following restricted concrete structured subclass instances
every agent performs subtask succeeds low probability agent
exert eort higher probability agent exert eort
whole project succeeds deterministic boolean function success subtasks
example boolean functions represent respective cases
agents complementary e project succeeds agents
succeed substitutive e project succeeds least one
agents succeeds yet restricted subclass instances technologies
represented read networks two specied source sink nodes
every edge labeled single agent project succeeds e g packet
information reaches destination successful path source
sink nodes
mixed equilibria
focus work babaio et al notion nash equilibrium
pure strategies allow principal attempt inducing equilibrium
agents mixed strategies actions observable actions case
principal condition payments agents individual actions restriction
pure strategies without loss generality mixed actions never help since simply
provide convex combination would obtained pure actions


fibabaioff feldman nisan

yet surprisingly case hidden actions case
studying cases mixed nash equilibrium provide better expected utility
principal obtain equilibrium pure strategies particular
already happens case two substitutive agents certain quite restricted range
parameters see section
inducing mixed strategy equilibria might benecial principal mixed
nash equilibrium much weaker solution concept pure nash equilibrium
already observed harsanyi opposed nash equilibria pure strategies
guarantees one obtains expectation addition player deviate
equilibrium strategy without lowering expected payo even expects
players stick equilibrium strategies moreover best response dynamics converge
pure proles natural dynamics leading mixed nash equilibrium
principal cannot gain much inducing nash equilibrium mixed
strategies might willing tolerate instability notion main goal
quantify principals gain inducing mixed equilibrium rather pure
analyze worst ratio principals values principals optimal
utility mixed equilibrium optimal utility pure equilibrium term
ratio price purity pop instance study
price purity least denition larger principal
gain inducing mixed equilibrium compared pure one prove
super modular technologies e g technologies increasing returns scale
contains particular boolean function price purity trivial e p op
moreover boolean function assignment
parameters agents individual success probabilities obtained structured
technology non trivial pop e p op section
price purity may strictly greater obtain quite large number
bounding ratio section bounds range linear bound
general families technologies e g p op n anonymous sub modular
technology constant bounds restricted cases e g p op family
anonymous technologies p op technology agents
additionally study properties mixed equilibrium mixed
nash equilibria delicate pure ones particular unlike
pure case optimal contract strong equilibrium aumann
e resilient deviations coalitions optimal mixed contract least two
agents truly mix never satises requirements strong equilibrium section
finally study computational hardness optimal mixed nash equilibrium
hardness pure case hold mixed case well
section

model preliminaries
focus simple binary action binary outcome scenario agent two
possible actions exert eort shirk two possible outcomes failure
success begin presenting model pure actions generalization
model winter move mixed case principal employs set


fimixed strategies combinatorial agency

agents n size n agent n set two possible actions ai binary
action low eort action cost ci high eort action
cost ci ci ci played prole actions determine probabilistic way
contractible outcome outcomes denote project failure
success respectively binary outcome outcome determined according success
function denotes probability project
success players play action prole
use notation c denote technology success function vector costs
one agent assume everything eort agents common
knowledge
principals value successful project given scalar v gains
value project failure hidden actions model actions players
invisible nal outcome visible others may design enforceable
contracts outcome assume principal pay agents
ne known limited liability constraint contract agent thus given
scalar value pi denotes payment gets case project success
project fails agent gets money contrast observable actions
model payment agent contingent action contracts
agents public agents know making eort decisions
given setting agents put game utility agent
prole actions given ui pi ci ai
usual denote ai ai n dimensional vector actions agents
excluding agent e ai ai ai agents assumed
reach nash equilibrium equilibrium exists principals

design contracts pi maximize expected
utility u v v pi actions nash equilibrium
case multiple nash equilibria model let principal choose desired
one suggest agents thus focusing best nash equilibrium
wish concentrate motivating agents rather coordination
agents assume eort agent leads better probability
success formally n ai ai ai ai assume

next consider extended game agent mix exerting eort
shirking randomize two possible pure actions let qi denote probability
agent exerts eort let qi denote n dimensional vector investment
probabilities agents except agent extend denition success
function range mixed strategies taking expectation
q qn



n

qiai qi ai

n

pure case babaio feldman nisan b best nash equilibrium strong
equilibrium case delicate mixed case see section variants ne
exist one variant similar spirit strong implementation mechanism design would
take worst nash equilibrium even stronger yet require single equilibrium exists
work winter



fibabaioff feldman nisan

note agent qi qi holds qi qi qi qi qi
qi mixed equilibrium prole least one agent mixes probability
pi called non degenerate mixed equilibrium
pure strategies marginal contribution agent given ai ai dened
ai ai ai mixed case dene marginal contribution
agent given qi qi qi qi since monotone
positive function
next characterize payment agent mixing exerting
eort shirking
claim agent best response mix exerting eort shirking probability qi indierent ai ai thus given prole
strategies qi agent mixes
pi

ci
ci

qi
qi qi

payment makes indierent exerting eort shirking


q

expected utility agent exerts eort probability qi ui q ci q

qi
proof recall ui q q pi qi ci thus ui q qi ui qi qi ui qi
since maximizes utility qi must case ui qi ui qi
ci


solving pi get pi q

prole mixed strategies q q qn mixed nash equilibrium agent
qi agent best response given qi
principals expected utility mixed nash prole q given

u q v
ci
v p q p total payment case success given p qi q



optimal mixed contract principal equilibrium mixed strategy prole q v
maximizes principals utility value v babaio et al
similar characterization optimal pure contract agent exerts eort paid
ci
ai utilities given pure prole
pure nash case given value v optimal pure contract principal set agents
v exert eort equilibrium set maximizes principals utility
value v
simple crucial observation generalizing similar one work babaio
et al pure nash case shows optimal mixed contract exhibits
monotonicity properties value
lemma monotonicity lemma technology c expected utility
principal optimal mixed contract success probability optimal mixed
contract expected payment optimal mixed contract monotonically
non decreasing value
proof postponed appendix shows monotonicity
holds observable actions case additionally lemma holds general
settings agent arbitrary action set restricted binary actions
model considered


fimixed strategies combinatorial agency

wish quantify gain inducing mixed nash equilibrium inducing pure
nash dene price purity worse ratio v maximum
utilities obtained mixed pure strategies
denition price purity p op c technology c dened worse
ratio v principals optimal utility mixed case optimal utility
pure case formally



q v v q v qci v




p op c supv

ci

v v v ai
v denotes optimal pure contract q v denotes optimal mixed contract
value v
price purity least may greater later additionally obtained value transition point pure case point
principal indierent two optimal pure contracts
lemma technology c price purity obtained nite v
transition point two optimal pure contracts
structured technology functions
order concrete next present technology functions whose structure
described easily derived independent agent tasks call structured
technology functions subclass gives us natural examples technology functions
provides succinct natural way represent technology success functions
structured technology function individual succeeds fails task
independently projects success failure deterministically depends maybe complex way set successful sub tasks thus assume monotone boolean
function f n indicates whether project succeeds function
success n agents tasks
structured technology function dened probability
f x xn bits x xn chosen according following
distribution ai xi probability xi probability
otherwise e ai xi probability xi
probability thus structured technology dened n f parameters

let us consider two simple structured technology functions first
consider
technology f x xn logical conjunction xi f x

x

thus project succeeds agents succeed tasks shown

graphically read network figure technology probability
success product individual
success probabilities agent succeeds

probability iai ai thus iai ai
next consider technology f x xn logical disjunction xi
f x xi thus project succeeds least one agents succeed


fibabaioff feldman nisan



x x

xn

x
x






xn
b technology

technology

figure technologies project successful packet routed
along linear path agent controls edge b project
successful packet routed least along one edge

tasks shown graphically read network figure b technology
probability success minus probability
fail agent fails
probability ai ai thus ai ai
two simple examples one consider interesting examples
majority function project succeed majority agents successful
ands technology disjunction conjunctions several teams
project succeed agents one teams successful additional
examples see work babaio et al
success function called anonymous
symmetric respect players

e depends ai example anonymous technology
parameters agent succeed probability
eort probability eort agents exert eort success
probability nm
technology identical costs exists c agent ci c
case identical costs pop independent c use p op denote
pop technology identical costs abuse notation denote technology
identical costs success function throughout unless explicitly stated
otherwise assume identical costs technology identical costs anonymous
anonymous

example mixed nash outperforms pure nash
actions observable henceforth observable actions case agent
exerts eort paid exactly cost principals utility equals social welfare
case social welfare mixed strategies convex combination social
welfare pure strategies thus clear optimal utility obtained pure
strategies however surprisingly enough hidden actions case principal might
gain higher utility mixed strategies allowed demonstrated following
example



fimixed strategies combinatorial agency

figure optimal mixed contracts technologies agents areas indicated
correspond areas optimal agents respectively
exert eort probability white area corresponds agents exert eort
non trivial probability q xed q increases v

example consider anonymous technology two agents c
v holds

consider mixed strategy q q holds

payment player

thus principals
successful project pi
utility mixed strategies q q v u

principals utility mixed prole q q
optimal contract pure strategies obtained agents exert eort achieves
utility implies moving pure strategies mix strategies one
gains least factor improvement approximately
worse ratio exists general case necessarily hold
v case get optimal pure
contract one agent gives utility mixed contract q q
gives utility ratio least approximately
complete example diagram presents optimal contract agents
function v shows parameters v
optimal contract obtained agents exert eort equal probabilities
following lemma proved appendix shows optimal mixed contracts
anonymous technology n agents specic structure
agents shirk mix exactly probability



fibabaioff feldman nisan

lemma anonymous technology c n value v
optimal mixed contract pure contract optimal mixed contract k n
agents exert eort equal probabilities q qk rest agents
exert eort

pure nash good enough
next identify class technologies price purity
principal cannot improve utility moving pure nash equilibrium mixed nash
equilibrium technologies marginal contribution agent nondecreasing eort agents formally two pure action proles b
denote b j bj j aj eort bj least high eort aj
denition technology success function exhibits weakly increasing returns
scale irs every every pure proles b
bi bi ai bi bi ai ai ai
technology exhibits irs winter babaio et al irs
technologies p op
theorem assume super modular cost vector c p op c
moreover non degenerate mixed contract never optimal
proof mixed prole q q q qn let q support q q
qi agent q let si q support q
excluding similarly pure prole let support
ci
similarly
mixed prole q agent q paid pi qi qi q

ci
pure prole agent paid pi pi ai

success probability aj j aj j

denote
q non degenerate mixed prole e least one agent q exerts
eort probability qi prole agent q exerts eort
probability yields higher utility principal
lemma see section holds pi qi mint si pi pi
ci
exhibits irs increasing function denition see section therefore mint si pi pi si therefore holds q
pi qi pi si thus


pi qi
pi si
q

q

note exhibits irs super modular



fimixed strategies combinatorial agency

addition due monotonicity holds q q therefore



u q v q v
pi qi


q

q v

q v


q




pi qi

pi si

q

u q v
u q v principals utility pure prole agents
q exert eort probability rest exert eort

subset bits function structured
technology function exhibits irs function
choices parameters n structured technology exhibits
irs boolean function assignment parameters
created structured technology essentially inputs lemma b appendix b
thus non trivial pop recall example proof following theorem
see appendix b
theorem let f monotone boolean function n inputs
constant conjunction subset input bits exist parameters
ni pop structured technology parameters
identical cost c greater
thus goal give upper bounds pop technologies

quantifying gain mixing
section present bounds price purity general technologies following
bounds special case technology
pop general technologies
rst pop bounded principals price unaccountability babaio et al b whose denition follows
denition principals price unaccountability p oup c technology c
dened worst ratio v principals utility observable actions
case hidden actions case

v v
soa
v ci
isoa

p oup c supv
ci
v v v

v optimal pure contract observable actions case v
soa
optimal pure contract hidden actions case



fibabaioff feldman nisan

theorem technology holds p oup p op
proof p oup p op dened supremum utilities ratio given
value v present bound v thus holds supremum denominator
case optimal utility principal hidden actions case
pure strategies numerator pop optimal principal utility hiddenactions case mixed strategies obviously optimal principal utility
observable actions case mixed strategies already observed
observable actions case mixed strategies cannot help principal see section e
principal utility mixed strategies equals principal utility pure strategies
assertion theorem follows observing optimal principal utility
pure strategies observable action case numerator p oup

however bound rather weak best see note principals price
unaccountability might unbounded e g babaio et al b yet shown
section p op
section provide better bounds technologies identical costs begin
characterizing payments mixed contract mixed prole
agent support contract paid least minimal payment single
agent pure prole support maximal payment
mixed prole q q q qn let q support q q
qi similarly pure prole let
ci
support mixed prole q agent q paid pi qi qi q


similarly pure prole agent paid pi pi ai
ci
success probability aj j aj
j

lemma mixed prole q q q qn agent q let si
q support q excluding holds
maxt si pi pi qi mint si pi
proof agent q increase success probability
exerting eort players play mixed strategies convex combination
increases success probability

support play pure strategies

nthe aagents

recall q qn n qi qi ai
let technology restricted support q
agents ai ai ais dened value aj
agent j
aj aik j ik dened mixed strategies
expected way thus
qi qi qi
qsi qsi

aj


qj qj aj
jsi















jsi

qj j

qj aj

jsi



qj j qj aj


fimixed strategies combinatorial agency

conclude qi convex combination bi b support b
si therefore mint si qi maxt si
thus
maxt si mint si
qi pi qi
maxt si
mint si

follows consider two general families technologies n agents anonymous technologies technologies exhibit decreasing returns scale drs drs
technologies technologies decreasing marginal contribution eort others
decrease contribution agent families present bound n
pop
begin formal denition drs technologies
denition technology success function exhibits weakly decreasing returns
scale drs every every b
bi bi ai bi bi ai ai ai
theorem anonymous technology non anonymous technology exhibits drs holds p op n
proof theorem well proofs claims appear later
section see appendix c prove bound pop technology
agents even anonymous improved bound anonymous case
theorem technology even non anonymous agents holds
p op anonymous p op
provide bounds non anonymous technologies left open
future believe linear bound anonymous drs
technologies tight conjecture exists universal constant c
bounds pop technology moreover simulations seem indicate nonanonymous technology agents yields highest possible pop motivates
us explore pop technology detail
pop technology
technology even non anonymous exhibits drs see appendix implies
bound n pop technology yet anonymous technology
present improved bounds pop particular bound
pop
note exhibits drs submodular



fibabaioff feldman nisan

theorem anonymous technology n agents
n

n n b pop goes n goes
p op

xed goes xed n





p op

goes










b pop goes goes

xed n

bounds anonymous technologies case
much better general bounds still tight highest pop able
obtain simulations see section
deriving exact bound analytically left open

robustness mixed nash equilibria
order induce agent truly mix exerting eort shirking pi must
equal exactly ci qi see claim even increase pi agent
longer indierent ai ai equilibrium falls apart
ci
contrast pure case pi
maintain required

equilibrium delicacy exhibits robustness obtained equilibrium
deviations coalitions opposed unilateral deviations nash strong
equilibrium aumann requires subgroup players henceforth coalition
coordinate joint deviation every member coalition strictly improves
utility
denition mixed strategy prole q n strong equilibrium se
exist coalition n strategy prole q
q u q
ui q


work babaio et al b payments induce
pure strategy prole best pure nash equilibrium e pure nash equilibrium
maximizes principals utility strong equilibrium contrast
pure case next non degenerate mixed nash equilibrium q
exist least two agents truly mix e j qi qj never strong
equilibrium coalition qi deviate q
exerts eort probability agent strictly improves utility see
proof appendix
theorem mixed optimal contract q includes least two agents truly mix
j qi qj q strong equilibrium
technology example holds non degenerate mixed equilibrium least two agents truly mix see lemma therefore non degenerate contract
technology strong equilibrium
generically mixed nash contract strong equilibrium pure nash
contract pricipal wishes induce strong nash equilibrium e g
agents coordinate moves restrict inducing pure nash
equilibrium loss bounded pop see section


fimixed strategies combinatorial agency

algorithmic aspects
computational hardness nding optimal mixed contract depends representation technology accessed black box access
special case read networks generalize hardness pure case
babaio et al b mixed case main open question whether possible
nd optimal mixed contract polynomial time given table representation
technology optimal pure contract found polynomial time case
generalization theorems follow see proofs appendix e

theorem given input black box success function costs
identical value v number queries needed worst case nd
optimal mixed contract exponential n

even technology structured technology restricted sourcepair reliability read network see babaio et al b computing optimal
mixed contract hard
theorem optimal mixed contract read networks p hard
turing reductions

conclusions open
studies model principal induces set agents exert eort
individual contracts nal outcome project focus
question much principal benet inducing nash equilibrium
mixed strategies instead restricted pure nash equilibrium assumed
original model nd case observable actions mixed equilibria
cannot yield principal higher utility level pure ones indeed happen
hidden actions yet whether mixed equilibria improve principals utility
depends technology project give sucient conditions technologies
mixed strategies yield gain principal moreover provide bounds
principals gain families technologies finally optimal
contract non degenerated mixed nash equilibrium strong equilibrium contrast
pure one nding optimal contract computationally challenging
model raise several open directions future work
would interesting study principals gain mixed strategies dierent
families technologies series parallel technologies additionally model
extended beyond binary eort level used moreover focus inducing
mixed nash equilibrium equilibrium might unique one consider
solution concepts unique nash equilibrium iterative elimination dominated
strategies finally might interest study performance gap pure
mixed nash equilibria domains beyond combinatorial agency


fibabaioff feldman nisan

acknowledgments
michal feldman partially supported israel science foundation grant number
leon recanati fund jerusalem school business administration

appendix general
lemma monotonicity lemma technology c expected utility
principal optimal mixed contract success probability optimal mixed
contract expected payment optimal mixed contract monotonically
non decreasing value
proof suppose proles mixed actions q q optimal v v v
respectively let p p total payment case successful project corresponding
minimal payments induce q q nash equilibria respectively utility
linear function value u v v p p total payments case
successful project q optimal v u q v u q v
v v u q v u q v conclude u q v u q v thus utility
monotonic non decreasing value
next success probability monotonic non decreasing value q
optimal v thus
q v p q v p
q optimal v thus
q v p q v p
summing two equations get q q v v implies
v v q q
finally expected payment monotonic non decreasing value
q optimal v q q observe
q v p q v p q v p
equivalently p p wanted

note lemma holds case proles pure actions
observable actions case exactly arguments
lemma technology c price purity obtained nite v
transition point two optimal pure contracts
proof clearly large enough value v ratio cases agents exert
maximal eort small enough values principal choose contract
agent cases ratio true value smaller
agents cost optimal contract contract agent cases let v
supremum values principal choose contract agent
cases ratio continuous function compact range v v thus
supremum obtained value v


fimixed strategies combinatorial agency

seen pop obtained value v next prove obtained
transition point pure case p op claim clearly holds thus
consider case p op let v maximal value pop
obtained assume contradiction v transition point two optimal
pure contracts q optimal pure mixed cases respectively
p op q non degenerate u q v u v let p p q denote total
payment case success q respectively next consider two options
rst consider case q case utilities ratio
v worse utilities ratio v get contradiction
small enough optimal pure contract still u q v let q
optimal mixed contract v holds
p op

u q v
u q v
u q v q
u q v



u v
u v
u v
u v

last strict inequality following argument
u q v q
u q v

u v
u v



q u v u q v



p q p

p q p u q v q v p q v p u v q
next consider case q p q p argument
presented shows utilities ratio v worse
utilities ratio v get contradiction hand p q p
utilities ratio v least large utilities ratio
v contradiction v maximal value pop obtained
small enough optimal pure contract still v transition point
pure contracts let q optimal mixed contract v holds
p op

u q v
u q v q
u q v
u q v



u v
u v
u v
u v

last inequality following argument
u q v q
u q v

u v
u v

q u v u q v



p q p

holds assumption

following corollary lemma helpful nding pop technologies
agents
corollary assume technology agents identical costs exhibits
drs pop obtained transition point pure case contract
agents
proof lemma pop obtained transition point pure case
single transition point agents agents claim holds contracting
single agent sometimes optimal must case single agent
contracted agent possibly weakly highest success probability agent


fibabaioff feldman nisan

j j implies j j
thus need pop obtained transition point v
agents contract agent assume q optimal mixed contract
v p q total payment case success q gives utility
contract done
otherwise u q v u v corollary c holds p q c thus
q implies utilities ratio value v small enough
worse ratio v argument presented lemma case
q

analysis technology

lemma anonymous technology c n value v
optimal mixed contract pure contract optimal mixed contract k n
agents exert eort equal probabilities q qk rest agents
exert eort
proof first observe cannot case agents one exert eort
single agent mix probability qi principal would rather
change prole qi pays gets higher success probability suppose
contradiction contract induces prole qi qj qij qi qj
qi qj qi qj without loss generality optimal agent k denote
probability failure agent k task qk qk qk qk
qk qk
suciently small mixed prole q qi qj qji qij
q

qi
obtains better contract
q e min qi qi q
j
contradiction optimality original contract


technology q kn qk q q kn qk
denote ij q k j qk change success probability related



product qi qj ji

qi



qj




qj
qi qj
qi


qj
qi qj
qi
qj
qj
qi qj qj
qi
qi
qi
qj
qi qj
qi


fimixed strategies combinatorial agency

therefore success probability q increased change
j
qij



qj
qi qj
ij q
qi


qj
qi qj
ij q
qi


q
q
q
q
qi
q qi

q qi qj



q

denote z q q
thus q q z z

showing success probability increases left suciently small total payment decreases payment agent l given

pl

c
c ql
c



ql ql
l qm
q

change payment agent k
c qk
c qk

q q


qk
c

qk
q
z


c

qk qk qk z
q z


w qk qk qk z

pk pk

c
w q z
agent k j qk qk get pk pk w qk z agent
qi qi get pi pi w qi z agent j qj qj

qji get pj pj w qji qj z
summing agents get
q

q


kn

pk


kn

pk



pk pk

kn

pi pi pj pj



pk pk

k j



qj
z
qk
w
qi
kn




qj
w
z
qk
qi


kn



fibabaioff feldman nisan

positive following observations w z clearly

qj
kn qk additionally qi qi qj
pi p j
conclude success probability q greater success
probability q payments lower thus utility principal increases
moves q q contradiction optimality q

observation technology exhibits drs
proof let ra rb n two proles actions rb ra rib ria
b r r b r b r r r indeed
need every ti rib ri







b
b
ti rib ri
ti ria ri
rib rjb ria rjb
j


rib ria rjb

j

j



rib



ria


rja
j

rib



rja ria rja
j




ti rib ri




j


ti ria ri




appendix b pure nash good enough
lemma b let f n n monotone boolean function
constant conjunction subset input bits exist
assignment two bits restricted function disjunction
two bits
proof induction number bits function depends base case n
monotone function constant conjunction subset
input bits disjunction two input bits
let xi variable f depends must exist since f constant let
x


f
f xi denote function f restricted xi denote h f xi
x
g f f monotone f x f xi f xi g x h f xi f xi
xi f xi f xi f xi f xi
h constant conjunction subset input bits continue
induction h setting x similarly g constant conjunction
subset input bits continue induction g setting x
left case h g conjunctions subset
variables constant considered conjunction empty set
variables easy verify h g cannot constant since f depends
xi h g since h g exists variable xj j


fimixed strategies combinatorial agency

set variables whose conjunction h g set variables
xi xj left xi xj

theorem b let f monotone boolean function n inputs
constant conjunction subset input bits exist parameters
ni pop structured technology parameters
identical cost c greater
proof lemma b assignment two variables restricted
function two variables function two variables choose
parameters according worst pop know technology see section
rest variables choose parameters value
worst utilities ratio achieved rest agents exert eort provide success
probabilities almost success probabilities dictated assignment next
make argument formal
recall lemma b assignment two variables
restricted function two variables function let indices
two variables section observed technology two agents
values v pop least
embed instance technology n agents considering value
v success probabilities follows agents let
rest agents x suciently small set
set assignment set set
assignment
small enough payment needed induce every agent
exert eort prole eorts others greater v inversely
proportional increase success probability due eort goes
zero thus small enough agents exert eort
optimal contract agent provide almost sure success case
assignment variable almost sure failure case assignment
variable zero created technology essentially technology
agents value v
pop least


appendix c quantifying gain mixing
c pop n agents
observe technology pop bounded ratio success
probability agents exert eort success probability none agents
exert eort simple bound shows success probability none agents
exert eort least positive constant pop bounded constant
observation c technology c set agents n p op


n


fibabaioff feldman nisan

proof given value v utility principal optimal mixed nash
v n utility principal optimal pure nash least

n
v thus pop bounded vt n

vt
point consider technologies identical costs following lemma
shows anonymous technologies well technology exhibits drs pop
n
lemma c assume technology n agents following holds
optimal mixed contract q support pure prole support






agent pure prole b support r holds ai
ai bi bi
p op n
proof rst observe p total payment prole case
success p q total payment prole q set agents
paid subset set agents paid q agent
paid least much q paid second condition
increase success probability q convex combination increase success
probability pure proles support r thus p p q u
conclude
q v p q
q

u q v




u v
v p


last inequality derived rst condition implies pop
bounded n

corollary c anonymous technology n agents p op n
proof assume value v mixed prole q optimal support size
k let tm success probability agents exert eort let tm tm let
argmaxmk
denition second condition holds rst condition holds
ktm k tm k tm k tm tm km tk tk

corollary c technology n agents exhibits drs identical
costs p op n
proof let agent agent maximal individual contribution support
q j j drs ensures two conditions lemma c
hold

following holds technology n agents even non anonymous exhibits drs particular even single agent get bound
pop


fimixed strategies combinatorial agency

observation c assume technology n agents identical costs exhibits
n
drs p op
agent maximal individual contribution
j j n
proof let agent j agent maximal individual contribution support
q following proof lemma c j p q p j p
u q v implies u v u j v thus optimal pure contract
gives utility least u v therefore v bound
u q v
u q v
q v p q

n




u v
u v
v p


implies pop bounded

n




corollary c anonymous technology n agents exhibits drs holds
p op ttn
c pop anonymous
exhibits drs following direct corollary observation c
corollary c anonymous technology n agents holds p op
tn

theorem anonymous technology n agents
n

p op
n n b pop goes n goes

xed goes xed n





p op

goes










b pop goes goes

xed n

proof corollary c p op

n

n

bound

proof part
n
n
n
n



n
n


additionally


n

j
j
n n

n

n

n

j

j

j

concludes proof


fibabaioff feldman nisan

proof part b
n
n

n
n
expression goes xed n goes n
n goes zero
n



additionally saw p op
goes pop goes

thus clear n xed

proof part rst bound pop case anonymous
agents case pop bounded







derivative ratio

equals zero
maximum point since second derivative negative ratio point
equals therefore
observation c shows
n holds

n
n






proof part b expression


thus bound holds n

n
n



n
n

goes goes





anonymous technology n agents bound
pop
observation c let orn denote anonymous technology n agents
k holds
p op ork

ork k
ork k

ork k
ork k

thus k holds
p op ork

ork k



k
ork


proof technology ork holds
ork k
k

ork k
k
thus need k
k
k

k
k


fimixed strategies combinatorial agency

holds
k k k k k k k k
holds
k k k k
dividing holds
k k k k
holds thus k k k k



c pop agents
let us consider case n prove better bound pop
shown pop irs technology since anonymous technology agents
exhibits irs drs need handle drs case let
assume drs
following corollary lemma
corollary c drs technology agents assume w l g
denote mixed prole q q q holds agent
paid least c
proof implies drs
implies

thus lemma implies agent paid least c
theorem c anonymous technology agents holds p op

proof let u q q v utility principal mixed prole q q value
project v let p q q denote total payment agents project
successful similarly let u v utility principal pure prole
value v
given value v let q q optimal mixed contract let
u q q v
optimal pure contract value v holds u

v
sucient prove theorem
optimal mixed prole pure prole ratio thus need handle
case prole q q pure non degenerate mixed contract case
u q q v q q vp q q holds vp q q corollary c
implies u v p q q c thus u v u v
u q q v
u q q v
q q v p q q
q q







c
u v
u v
v





fibabaioff feldman nisan

consider two cases first consider case case






u q q v






u v






replace use lemma c
next consider case case look value v
principal independent contracting agents v v holds
c
v c v c thus v v c
thus

c


holds v value v v enough bound ratio
q v
value v v enough bound ratio u q
u v bound
ratios separately


lemma c case tt





value v v


v c
u q q v
q q v p q q
v p q q









u v
v c

v c

v c





v


c

u q q v
u v






v
c
























conclude













thus
u q q v

u v










v
c





















lemma c shows function rhs bounded
q v
finally value v v enough bound ratio u q
u v
v
u q q v
q q v p q q


c
u v
v
v

c

c




v
v

c

c

intuitively fraction goes goes implies suciently small
fraction less formally
v

c

c



v







c




v





c

c




v
c









v
c



























fimixed strategies combinatorial agency








nd maximum rhs derivative

maximum obtained

















maximum second derivative negative

maximum










lemma c holds










proof

f
let h






















derivative h














maximum

value maximum lower

look function
increasing function



get f
conclude
proof f decreasing function derivative
f


thus need
holds



function derivative positive
thus monotonically increasing function


theorem c technology even non anonymous agents identical
costs holds p op
proof technology anonymous already proved stronger claim assume
w l g assume shown prole
never optimal implies argument seen case
technology anonymous
p op

u q q v
u q q v



u v
u v


technology exhibits irs know pop conclude proof

technology exhibits irs
assume
technology exhibits irs true since




implies




fibabaioff feldman nisan

holds



implies irs
lemma c b x

x




b x
b

appendix robustness mixed nash equilibria
theorem mixed optimal contract q includes least two agents truly mix
j qi qj q strong equilibrium
proof let q support q e q qi let k q recall
ci
optimal payments induce strategy prole q pi q
qi

qi qi q pi n q let qi
assumption consider deviation coalition pure strategy
prole q qi q denote prole e q q q
next ui q ui q thus q resilient deviation
since qi must indierent ai ai see claim
therefore utility q
ui q ui qi ci

qi
qi

utility q
ci
ui q q pi ci q
ci ci
qi








q

qi




ci

q qi qi
qi



therefore ui q ui q q qi holds assumption
monotonicity


appendix e algorithmic aspects
e mixed case
next black box model exponential number queries needed
determine optimal mixed contract proved optimal pure contract
completeness present claim theorem e taken babaio et al
holds mixed case
theorem given input black box success function costs
identical value v number queries needed worst case nd
optimal mixed contract exponential n
proof optimal mixed contract technology presented theorem e value c k support exactly thus claim direct
theorem e


fimixed strategies combinatorial agency

assume q optimal mixed contract value c k support q must
size k otherwise payment case success least c k c k
agent support must paid least c implies negative utility
support size k exactly least one agent
paid c c k suciently small thus case utility
negative

next read one network optimal mixed contract p hard
theorem work babaio et al cited theorem e
theorem optimal mixed contract read networks p hard
turing reductions
proof use reduction presented theorem e prove x close enough
transition point e e x pure case optimal mixed
contract pure e e x implies use argument
theorem e calculate network reliability p hard
optimal mixed contract
lemma e presents generalization lemma work babaio et al
mixed case lemma implies value v x rst entered
support optimal mixed contract q contract x optimal value
v e single edge optimal mixed contracts pure thus x exerts
eort probability additionally contract original graph edges e
optimal value v x thus x close enough v large enough
optimal mixed contract agents exerting eort probability pure


let g h two boolean functions disjoint inputs let f g h e take
networks series optimal mixed contract f v denoted qs
composed h part g part call mixed prole parts qt qr
respectively

lemma e let qs optimal mixed contract f g h v qt
optimal mixed contract h v tg qr qr optimal mixed contract g
v th qt
proof proof pure case presented work babaio et al
b
e work babaio et al b pure case
following cited work babaio et al b completeness
theorem e given input black box success function costs
identical value v number queries needed worst case nd
optimal contract exponential n
proof consider following family technologies small k n
dene success probability given set follows k
k n set agents size k technology
tt dened n size k


fibabaioff feldman nisan

value v c k optimal contract tt contract
utility principal v c k c contract utility
negative
n
sets size k cannot
queries n
determine optimal contract
n sets queried might
optimal one conclude n
queries needed determine optimal
contract exponential n

let e denote probability success edge succeeds probability
e rst notice even computing value e hard called
network reliability known p hard provan ball
little eort reveal easier
theorem e optimal contract read networks p hard
turing reductions
proof used solve network
reliability given instance network reliability g e ee
e denotes es probability success dene instance optimal contract
follows rst dene graph g obtained anding g
player x x close x x edges let e e
e e choosing x close enough make sure player x enter
optimal contract large values v agents contracted
nd optimal contract value easy nd value
original network optimal contract e keep doubling value asking
c
larger
optimal contract nd value choose x
x
value let us denote x x
critical value v player x enters optimal contract g found
binary search supposedly nds optimal contract
network value note critical value v principal indierent
set e e x write expression indierence terms
e ti e observe following

e x v


ie

c
x ti e




e x v


ie

c
c

x ti e e x




x c
x v
thus nd optimal contract able compute value
e

e

references
aumann r acceptable points general cooperative n person games contributions theory games vol


fimixed strategies combinatorial agency

babaio feldman nisan n combinatorial agency acm ec
pp
babaio feldman nisan n b combinatorial agency full version
feldman chuang j stoica shenker hidden action multi hop
routing ieee jsac special issue non cooperative behavior networking
harsanyi j c games randomly disturbed payos rationale mixedstrategy equilibrium points international journal game theory
holmstrom b moral hazard teams bell journal economics
mass colell whinston green j microeconomic theory oxford university press
nisan n ronen algorithmic mechanism design games economic
behaviour preliminary version appeared stoc
nisan n roughgarden tardos e vazirani v v algorithmic game
theory cambridge university press
provan j ball complexity counting cuts computing
probability graph connected siam j comput
strausz r moral hazard sequential teams departmental working free
university berlin
winter e incentives discrimination american economic review




