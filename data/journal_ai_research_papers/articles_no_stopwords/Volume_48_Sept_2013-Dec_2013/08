journal articial intelligence

submitted published

complexity optimal monotonic
bad good causal graph
carmel domshlak
anton nazarenko

dcarmel ie technion ac il
anton nazarenko gmail com

faculty industrial engineering management
technion israel institute technology
haifa israel

abstract
almost two decades monotonic delete free relaxation one
key auxiliary tools practice domain independent deterministic
particular contexts satiscing optimal underlies state theart heuristic functions satiscing monotonic tasks polynomial time
optimal monotonic tasks np equivalent establish negative
positive complexity wide fragments optimal monotonic
fragments dened around causal graph topology shed
light link complexity general optimal complexity
optimal respective monotonic relaxations

introduction
domain independent deterministic classical world states represented complete assignments set variables operators allow deterministic
modications assignments objective nd sequence operators
sequentially modies given initial assignment assignment satises certain
predened goal property last two decades solvers made spectacular advances empirical eciency especially context state space
heuristic search techniques eciency made possible largely
ability exploit monotonic delete free relaxations tasks mcdermott
bonet gener homann nebel
high level monotonic relaxation replaces regular value switching semantics
operators value accumulating semantics operator switches
value variable v x relaxed version operator extends
value v x x key point applying operators value
accumulating semantics reduce applicability operators future two
properties monotonic relaxation make especially valuable automated first
deterministic pspace complete even rather conservative propositional
formalisms monotonic tasks polynomial time bylander thus
exploited deriving heuristic estimates second numerous practical
interest plans monotonic relaxations distant true plans
homann helmert mattmuller helmert domshlak bonet
helmert hence starting seminal hsp bonet gener
homann nebel systems exploiting particular explicitly
c

ai access foundation rights reserved

fidomshlak nazarenko

monotonic relaxations became important ingredient systems
domain independent deterministic comprehensive survey see e g betz
helmert
ideally planner reasoning cost plans monotonic relaxations
reason cost optimal plans monotonic relaxations unfortunately
regular monotonic tasks polynomial time optimal tasks
np equivalent bylander constant factor approximations
provably hard well betz helmert still admissible heuristic estimates
principle exploit tractable fragments optimal monotonic relaxations katz
domshlak however best knowledge substantial fragments
tractability revealed monotonic optimal date
identifying signicant fragments tractability optimal monotonic precisely focus special interest establishing connections complexity optimal optimal monotonic relaxations
respective tasks interest motivated important role
methods combine tractable fragments regular deterministic monotonic relaxation heuristics helmert keyder gener katz domshlak
katz homann domshlak b katz homann turn
comparative perspective brought us consider tasks terms nite domain
representations go beyond standard propositional representation formalisms
strips fikes nilsson adl pednault explanation
possibly even justication choice analysis place
due close relationship rst order propositional logics propositional representations dominated area automated since early days ai instance propositional pddl language still de facto standard
description language community fox long however propositional languages blur lot important structure present typical tasks
interest discuss later nite domain representations fdr go beyond propositional state variables backstrom klein backstrom nebel helmert
allowed much deeper much discriminative analysis automated complexity turn formal developments already translated
practical advances allowing introduction eective enhancements
monotonic relaxation heuristics fox long helmert helmert gener
keyder gener cai homann helmert katz et al
b abstraction heuristics edelkamp helmert haslum homann katz
domshlak decomposition nissim brafman domshlak
nissim brafman search topology analysis homann many others
nonetheless value accumulating semantics monotonic relaxation fdr
longer maintains key advantage propositional representations
longer seems reason prefer explicit representation certain mutual exclusion
relationships propositions therefore principle presented
follows phrased sometimes even extended context propositional
representations strips chosen view complexity
optimal relaxed lens fdr primary reason interest
comparative complexity analysis optimal optimal respective


fithe complexity optimal monotonic

monotonic relaxations departing previously discovered fragments tractability
satiscing optimal following two high level questions
fragments deterministic optimal hard
optimal monotonically relaxed easy
fragments deterministic optimal easy yet
optimal monotonically relaxed hard
regular best classication days worst case time
complexity exploits properties graphical structures induced
tasks together properties fdr state variables size
domains hence discussing optimal relaxed fdr tasks keeps us direct
relation well explored complexity map regular deterministic moreover
known links complexity graph topological
properties fdr tasks even stronger case optimal relaxed
second reason choice recent work already revealed interesting
interplays complete partial monotonic relaxation nite domain variables graphical structures induced fdr tasks respective
context computational complexity non optimal katz et al b heuristic estimates keyder gener b katz et al katz homann
search topology analysis homann instance homann showed
causal graph fdr task acyclic every variable transition invertible
h heuristic induced optimal relaxed plans evaluated states local
minima particular testies examining monotonic relaxations
lens fdr lead crisp concisely formulated
found work easily reformulated sometimes even generalized terms strips
conform easily strips reformulation
finally immediate value work mostly theoretical
would see step towards exploiting optimal relaxed devise
heuristic functions deterministic theorem
fact directly used within framework implicit abstractions katz domshlak
possibly exploited within frameworks
partial monotonic relaxation e g recent red black framework katz
et al b extent actually happen remains course
seen however focus implicit abstractions red black
nite domain task representations make much easier assess relevance
frameworks

formalism background related
use notation n refer set n directed graphs edge x
denoted x undirected graphs edge x denoted
x x refer representation size object x confused x
denotes number elements set x


fidomshlak nazarenko

fdr mfdr monotonic relaxation
adopt terminology notation katz et al b task
nite domain representation fdr given quintuple v g cost

v set state variables v v associated nite domain
v partial variable assignment p function variable subset v p v
assigns v v p value p v v domain partial variable assignment
called state v v
initial state goal g partial variable assignment v
nite set actions action pair pre e partial variable
assignments v called precondition eect respectively
cost r real valued nonnegative action cost function
auxiliary notation
partial assignment p variable subset v v p p v denote
assignment provided p v ease presentation sometimes specify
partial assignments sets constructs v v v v
variable v v av denote actions aecting value v
av v v e sequence actions state variable v v
v denote restriction actions av
semantics fdr tasks follows action applicable state
v pre v v v pre applying state changes value every v
v e e v resulting state denoted sjak sja ak k denote
state obtained sequential application respectively applicable actions ak
starting state action sequence plan sja ak k v g g
optimal plan sum action costs minimal among plans
computational task optimal nding optimal plan follows
optimal plans often referred simply optimal plans
monotonic nite domain representation mfdr task given
quintuple v g cost exactly fdr tasks semantics dierent
informally mfdr tasks state variables accumulate values rather switching
specically mfdr state function assigns v v
non empty subset v v domain mfdr action applicable state
pre v v v v pre applying mfdr action state changes
value v v e v v e v respectively mfdr action sequence
ak applicable state plan g v sja ak k v v v g
respects mfdr fdr semantics identical
entirely clear original formulation monotonic relaxation multi valued variable
domains attributed traced back least work helmert
fast downward system



fithe complexity optimal monotonic

fdr pspace complete even propositional state variables mfdr tasks polynomial time bylander starting hsp bonet
gener homann nebel systems exploiting attractive property mfdr deriving heuristic estimates via notion monotonic
relaxation became key ingredient many systems given fdr task
v g monotonic relaxation mfdr task
state optimal relaxation heuristic h dened cost optimal
plan mfdr task v g optimal relaxed refer
optimal plan referred relaxed
plan
finally fdr mfdr sometimes distinguish tasks
terms pair standard graphical structures induced description tasks
causal graph cg digraph nodes v arc v v cg v
v exists action v v v e v pre v e
case say v v induced succ v pred v respectively
denote sets immediate successors predecessors v cg
domain transition graph dtg v variable v v arc labeled
digraph nodes v arc labeled pre v v
cost belongs graph e v pre v
v v pre
causal graph treewidth complexity
introduced halin tree width went unnoticed independently rediscovered robertson seymour arnborg cornell proskurowski
since received widespread attention due numerous graph theoretic algorithmic
applications informally tree width graph measure close structure
graph tree example tree width tree regardless size
whereas tree width complete graph n nodes n formally tree width
graph dened via notion tree decomposition follows
tree decomposition connected undirected graph g v e pair
v e tree e connected acyclic graph v v
every v v set v v non empty connected
every v u e v v u
width tree decomposition g max v treewidth g tw g minimum width tree decompositions g following
appears standard terminology tree width digraph g refer
tree width undirected graph induced g berwanger dawar hunter kreutzer
obdzralek
development parametrized complexity analysis downey fellows
flum grohe shown many np hard solved
polynomial time restricted induce certain specic graphical structures
xed tree width particular constraint satisfaction constraint optimization


fidomshlak nazarenko

nite domain variables solved time polynomial size
explicit description exponential tree width induced
constraint graph dechter since causal graph captures high level structure
one would expect tree width play similar role
worst case time complexity satiscing optimal fdr unfortunately
direction mostly negative
standard assumption parametric complexity hierarchy w nu fpt
flum grohe chen gimenez proved family
digraphs c fdr tasks inducing causal graphs c polynomial time
size connected components c bounded constant
family digraphs tree width trivially fails satisfy latter condition
immediate corollary even satiscing fdr restricted
causal graphs tree width polynomial
construction proof chen gimenez uses fdr tasks
variable domains parametric size work gimenez jonsson b
shows negative causal graphs tree width holds even
restricted tasks xed variable domains specically gimenez
jonsson fdr chain causal graphs np hard even
restricted variables domains size
negative role causal graphs tree width computational
tractability fdr strong apparently tell part story
shown brafman domshlak causal graphs tree width play
role worst case time complexity fdr tight interplay
another parameter called tasks local depth informally local depth fdr task
captures minmax amount work required single variable order solve since
later refer brafman domshlak precise specication local depth
warranted denoting p lans possibly innite set plans fdr
task local depth


min

max v

p lans vv

maximal number value changes single state variable along plan
minimizes quantity among plans theorem brafman domshlak
fdr tasks solved time polynomial exponential
tw cg possible stratications succinct representation
internal variable domain dynamics suggested fabre jezequel haslum
thiebaux appears strongest link discovered far
complexity general fdr graph topological properties causal
graphs note positive applies satiscing applicable
optimal limited settings fabre et al brafman domshlak



fithe complexity optimal monotonic

negative bottleneck variable domains
focus connections worst case time complexity optimal relaxed
structure causal graphs note causal graphs
fdr tasks trivially invariant monotonic relaxation since
cg cg mentioned previous works already revealed certain connections structure causal graphs particular tree width
complexity fdr follows link even stronger
somewhat intriguing case optimal relaxed said
begin set negative least rst glance suggest
link actually likely
denition connected digraph g n e fork contains exactly one node
r n non zero degree e r n n n r similarly g
inverted fork contains exactly one node r n non zero degree
e n r n n r respective special nodes r fork inverted fork graphs
called roots graphs
considering fdr tasks fork inverted fork causal graphs rst
impression might fdr fragments restricted enough allow polynomialtime however case even non optimal fdr tasks
simple causal graphs hard even variables roots
restricted binary valued domshlak dinitz hand especially
since non optimal relaxed fdr polynomial time direct
inuence complexity optimal relaxed respective fdr fragments
nonetheless surprisingly hard
theorem optimal relaxed np equivalent even restricted fdr tasks
fork inverted fork structured causal graphs moreover holds even
state variables roots restricted binary domains
proof proof polynomial reductions np equivalent minimum directed steiner tree minimum set cover karp
directed steiner tree given digraph g n e arc weights w e r
set terminals z n root vertex nr nd minimum weight arborescence
directed tree rooted nr n terminals z included
set cover given collection c subsets nite set nd minimum cardinality
subset c c every element belongs least one member c
fragment given directed steiner tree g n e w z nr corresponding fork structured fdr task v g cost constructed follows
variable set v contains variable per terminal node g plus extra variable r
v r vz vz vz z z domain r r n corresponds
nodes g variables binary valued vz
initial state r nr v v vz goal achieve value
v vz arc e x e action set contains root changing action


fidomshlak nazarenko

ae pre ae r x e ae r cost ae w e likewise
terminal z z contains vz changing action az pre az r z vz
e az vz cost az construction clearly polynomial causal
graph forms fork rooted r variable domains required
theorem holds
relaxed plan set arcs e ae r g induces connected
sub graph g containing nr terminals z included g otherwise
least one leaf variables could changed goal value
likewise directed path g nr every node n g
otherwise respective value n root variable r could achieved
along hence particular g contains arborescence rooted nr includes
terminals z
ii vice versa let arborescence g rooted nr includes terminals
z z zm let e ek topological ordering arcs
ae aek az azm relaxed plan cost precisely
weight
hence optimal relaxed plans induce minimum directed steiner trees g n e w z nr
vice versa
fragment ii given set cover c c n
corresponding inverted fork structured fdr task v g cost constructed
follows variable set v contains variable per member c plus extra variable r
v r vc c c domain r r variables
binary valued vc initial state v v v goal
achieve value special variable r subset c c c
action set contains root changing action ai c pre ai c r vc
e ai c r cost ai c likewise c c contains vc changing
action ac pre ac vc e ac vc cost ac construction
polynomial causal graph forms inverted fork rooted r variable
domains required theorem note due chain structure
domain transition graphs dierence plans
easy verify plan induces cover cost
vice versa hence optimal relaxed plans induce minimum set covers c
vice versa

corollary optimal relaxed np equivalent even restricted fdr tasks
causal graph tree width
corollary immediate theorem undirected graphs induced
forks inverted forks special case trees thus tree width rst
glance message corollary discouraging respect agenda structure
causal graphs seem play major role complexity optimal
relaxed fdr next however seems even discouraging
respect prospects tractability optimal relaxed fdr


fithe complexity optimal monotonic

theorem optimal relaxed np equivalent even restricted fdr tasks
two state variables
proof proof polynomial reduction minimum directed steiner tree
fact proof similar fork case theorem given
directed steiner tree g n e w z nr z z zm compile
fdr task v v g cost follows domain v corresponds
nodes g domain v corresponds terminal nodes root
node v n v z nr initial state v nr
v nr goal achieve value zm v arc e x e
action set contains v changing action ae pre ae v x e ae v
cost ae w e likewise denoting nr z contains v changing
action azi pre azi v zi v zi e azi v zi cost azi
construction polynomial correctness stems analysis identical
proof theorem

theorem shows even dimensionality fdr state spaces plays secondary
role complexity optimal relaxed however answers
one two macro questions agenda
corollary exist fragments fdr optimal polynomial time
optimal relaxed np equivalent
corollary immediate theorem polynomial time solvability optimal
fdr tasks xed number state variables

positive state variables fixed size domains
depending readers background intuitions theorem surprise seem
somewhat predictable case theorem led us consider dierent
time fruitful fragmentation optimal relaxed
closer look theorem lemma reveals size fdr variable
domains might crucial complexity optimal relaxed proofs
two claims rely heavily parametric domain size state variables
proofs imply optimal relaxed hard even single fdr
variable comes parametric domain size departing observation
topology causal graph play interesting role worstcase time complexity classication optimal relaxed fdr tasks particular
turns bounding tree width causal graph constant takes
achieve polynomial time optimal relaxed fdr tasks xed size variable
domains
theorem family directed graphs c tree width c bounded
constant optimal relaxed fdr tasks xed size variable domains
causal graphs c polynomial time


fidomshlak nazarenko

proof proof theorem inspired closely resembles brafman
domshlak discussed section given fdr task v g cost
compile constraint optimization cop x nite domain
variables x functions global objective minimize x unsolvable assignments x evaluate objective function otherwise
optimum objective obtained assignments x correspond
optimal plans optimal relaxed plans
let v n maxvv v recall pred v state variable v v denotes
set vs immediate predecessors causal graph
state variable v v x contains variable xv represents choice
subset actions av participate plan looking possible
choices form domain xv xv choice represented set
size smaller equal element set quadruple
id
v id v pred v n id v
av e v otherwise high level view state variables
active decision makers value relaxed variable v aims achieve
accumulate time point action delegating
task another variable id later variable accumulate
values since accumulated values never lost optimal plans
cannot longer n actions
state variable v v contains non negative extended real valued function v xv likewise pair state variables v w
causal graph cg contains arc v w arc w v contains indicator
function v w xv xw simplify specication v w
dene set auxiliary constraints follows
precondition constraint assignment v vn x satises
v v v v implies w v pre
pre w w w



delegation constraint assignment v vn x satises v v
w v implies av aw e v w w
goal achievement constraint assignment v vn x satises
v v g
g v v v

constraint ensures preconditions actions variable committed
provided time constraint ensures outsourced value achievements
fullled required time points finally constraint simply veries value
v induced v goal value importantly corresponds set n unary constraints


fithe complexity optimal monotonic

represented set binary constraints x given
functions specied

v v
cost
v v


v w satises xv xw xv xw xv xw
v w v w

otherwise



xv xw xv xw xv correspond binary unary constraints
induced respectively cop variables xv xw
let us take closer look cop constructed
scope theorem
constraint network cop corresponds undirected graph induced
causal graph cg cg hence since tree width latter bounded
constant scope theorem tree width constraint network
cop nding optimal tree decomposition graph g np hard
tree decomposition g width c tw g low constant c found
time polynomial size g robertson seymour becker geiger
amir hence cop solved time polynomial size
representation standard message passing constraint optimization
trees dechter
recall values cop variable xv sets quadruples id size
size xv domain xv upper bounded
v z
n av n
z
z z


id







since xv poly together implies
cop solved time poly
prove correctness compilation showing unsolvable
assignments x evaluate objective function x otherwise objective minimized assignments x correspond
optimal plans
first given assignment v vn x
induces valid plan cost note since
eq satisfying constraints


consider multi set z vv v v induced let
z tm z
arbitrary ordering z j holds tj ti
let v variable charge performing action ai
e ai v v ai ti v w v pre ai eq constraint implies
pre ai w w pre ai w id w ti latter case


fidomshlak nazarenko

id w construction aj j denition
xw pre ai w e aj w otherwise id w w w
denition pre ai w e w w w thus aj
j pre ai w e aj w therefore action sequence

applicable initial state given satisfying implies
plan finally immediate construction eq
cost
optimal plan induces assignment
v vn x cost denition mfdr
state variable v v ija ai k v ija ai k v
optimality exists least one variable v v
ija ai k v ija ai k v particular implies actions
dierent variable v v


v ai ija ai k v ija ai k v
v
adopting arbitrary ordering v vn state variables v j n let
vj aj ajmj turn l mj let djl vj value achieved
accumulated vj action ajl e ija ajl k vj ija ajl k vj djl

l mj ajl j
k vk vj set contain djl vj ajl jl otherwise vj
set contain djl vk jl k min k ajl vk
construction action present value exactly one
variable xv eq v v sums cost exactly hence satises
constraints enforced step functions v w
cost former directly follows construction j n
mj
let vj djl idjl ajl tjl l
denition values djl set
values dj djmj exactly set values vj gets accumulated relaxed
plan thus satisfaction follows plan
construction sequence time points tj tjmj corresponds time
points rst achievements dj djmj respectively along
rst achiever ajl along captured properly scheduled vi neighbor
vi causal graph hence constraints satised well
nalizes proof compilation correctness thus theorem

note theorem particular answers second macro question agenda
corollary exist fragments fdr even satiscing npequivalent optimal relaxed polynomial time
corresponds
well known fact notation optimal plans mfdr cannot

longer vv v n



fithe complexity optimal monotonic

corollary immediate theorem discovery gimenez jonsson
b fdr chain causal graphs np hard even restricted variables
domains size
following strips vs fdr discussion introduction theorem trivially
implies optimal relaxed strips tasks done time polynomial
exponential tree width causal graph actually
example tractability fragment one benet switching
propositional representation formulation remains
coverage grows size fdr variable domains bounded
tree width causal graph strips representation
times larger fdr however smaller identical
later however present directly benet nite domain input
representation tasks
discussion remainder section addresses readers familiar
work brafman domshlak detail discussion skipped without
loss continuity
rst view compilation proof theorem brings mind compilation
v
v
vn
behind proof theorem brafman domshlak one might thus naturally ask whether
cannot used directly proof
theorem stands however
vn
brafman domshlak yield polynomialtime complexity tasks theorem
concerned see consider fdr task v g cost v v vn
vi vi vi g vi
v pre ai v e ai vi vn e ai vi e ai vn causal graph
depicted tree width however plan maxvv v
n local depth n cannot solved without applying
n actions least actions aects value variable
vn hence nding even non optimal plan brafman
domshlak take time exponential
nal note actually shown brafman domshlak
optimal polynomial time sub class mfdr tasks theorem
restricted single eect operators multiple eect actions complicate
matters require dierent algorithmic guarantee tractability

positive ii unfoldable state variables
despite discouraging section return consider fdr tasks
parametric size domains recall variable values monotonic relaxation
correspond sets values respective variables large variable domains
given implicitly via variable domains v vn conciseness
representation however hides many aspects structure otherwise
might exploited eciency particular reasoning domain


fidomshlak nazarenko

transition graphs induced fdr tasks successfully exploited complexity
analysis fdr jonsson backstrom domshlak dinitz katz domshlak
gimenez jonsson contrast monotonic relaxations true domain
transition graphs denoted henceforth dtg v cannot represented
explicitly number nodes graphs exponential however
case focus
accessible monotonic variables
denition given fdr task v g cost eective domain
v v v consists value subsets v v reachable
v dtg v v
v
ii value directed path v unlabeled digraph
induced dtg v values along path belong
elements v called eective values v
denition let innite set fdr tasks property state variables
task partitions state variables satisfy
referred variables satisfy say variables
monotonically unfoldable unfoldable exists integer k n
every task every variable v v k
denition property fdr state variables particular
property dened respect tasks causal graphs root sink nodes
whose causal graph degrees larger causal graph degrees etc informally variables set fdr tasks unfoldable every task
every variable v relevant subgraph dtg v described explicitly
space polynomial representation size instance v trivially unfoldable
size domain bounded constant even log generally let dtg v digraph obtained labels ignored domain transition
graph dtg v unifying parallel edges hard verify denitions
v unfoldable number arborescence subgraphs dtg v
rooted v covering g v v v g poly
return consider fork structured fdr tasks theorem considered
fork structured fdr tasks root variables unrestricted consider
inverse fragment corresponding fork structured fdr tasks root variables
restricted optimal fdr tasks polynomial time r
katz domshlak np equivalent r katz keyder
contrast theorem shows optimal relaxed fork structured fdr
tasks polynomial time much wider class root variables moreover simple
observation behind construction proof theorem later generalized capture
much richer fragment causal graphs
theorem optimal relaxed polynomial time set fdr tasks
fork structured causal graphs unfoldable root variables


fithe complexity optimal monotonic

proof let v g cost fork structured fdr task root r vleafs
v r v vn assume goal values specied variables vleafs
none leaves vleafs v g need change value thus
schematically removed given fdr task optimal
plan relaxation constructed follows
eective values r consistent goal g r
r v g processed one one independently eective value
extract following information
root variable r determine cheapest path r dtg r
denoting action sequence inducing path
leaf variable v vleafs
schematically remove domain transition graph dtg v
arcs labeled actions supported actions
r v pre pre r
b determine cheapest path v g v arc reduced domain
transition graph g v denoting action sequence inducing
path
return concatenation action sequences g v g vn


n


cost g vi
argmin cost
r



cost action sequence sum costs actions along
polynomial time given explicit description eective part
dtg r thus polynomial time r unfoldable recall since
causal graph acyclic action aects one variable correctness
stems simple observation relaxed plan fork structured
fdr task r v vn relaxed plan trivially identical
cost hence searching optimal relaxed plan restrict
plans latter form immediate description
nds cheapest plan

aside following strips vs fdr discussion note theorem provides
example exploiting value grouping induced fdr representation tasks simple proof exploits fact actions
change value leaf variable depend value prevents restrictions
placed size leaf domains structure domain
transition graphs course theorem reformulated terms strips yet
would require respective partition propositions given discovered
essentially equivalent starting something fdr input rst place
scope tractability theorem fairly limited terms
causal graph structure nice property sets optimal relaxed plans forkstructured fdr tasks exploited proof theorem generalized much


fidomshlak nazarenko

wider fragment causal graphs turn generalization allows us provide next
tractability wide fragment optimal relaxed fdr
lemma let v g cost fdr task directed acyclic causal graph
let v vn arbitrary topological ordering v respect cg
plan v vn plan
proof directed acyclicity causal graph particular implies action aects
one variable proof lemma stems combining property
fact preserves order actions vi ii core property
monotonic relaxations variable v value v state
relaxed task v v reachable
since cg forms dag state variables ordered according topological
ordering cg v pre v v actions v thus order preservation
v along respect implies v applicable ijv k v ijk v
ijv k vi vi assume v vi applicable


ijk vj j
ijv vi k vj


vj
j
together topological ordering v order preservation vi along
respect eq implies vi applicable ijv vi k
ijv


ijk vj
j

vi kjvi k vj
ijv vi k vj otherwise



putting eqs together proves induction hypothesis n eq
boils
ij k ijv vn k ijk

denition let innite set fdr tasks say tasks munfoldable state variables unfoldable
theorem let innite set unfoldable fdr tasks directed acyclic causal
graphs tree width node degree causal graphs bounded
constant optimal relaxed polynomial time
proof similarly proof theorem proof theorem planningto cop compilation given fdr task v g cost compile monotonic
relaxation constraint optimization cop x variables x
functions global objective minimize x unsolvable
assignments x evaluate objective function otherwise
optimum objective obtained assignments x correspond
optimal plans specic construction cops relies property
monotonic relaxations dag structured fdr tasks expressed lemma


fithe complexity optimal monotonic

given fdr task v g cost theorem cop x specied
follows state variable v v
x contains variable xv domain xv v eective domain
v
contains non negative extended real valued function v v immediate
ancestors causal graph xv xw w pred v
assuming arbitrary xed ordering w wk vs immediate ancestors pred v
pred pred v w wk let dtg v pred denote
restriction dtg v edges supported pred edge marked
action remains dtg v pred w v pre v pre w
pred w given eective value v pred pred v
v pred reachable v dtg v pred g v specied
yet g v otherwise v pred equals cost cheapest path v
dtg v pred follows action sequence inducing cheapest path
denoted pred
properties cop constructed scope theorem follows
constraint network cop corresponds undirected graph induced
moral graph causal graph cg since degree tree width cg
bounded constant tree width cop constraint network
mentioned given graph g tree decomposition graph g width
c tw g low constant c found time polynomial size g
exponential tw g hence since cop cop solved time
polynomial size explicit representation
since unfoldable domain size cop variable poly together implies cop solved time poly
denitions monotonic relaxation domain transition graphs explicit
description dtg v unfoldable fdr task polynomial
hence construction functional components thus entire cop
done time poly
construction cop lemma topological ordering v vn
v every complete assignment cop variables x

v v pred v
vv

induces relaxed plan
v pred v vn pred vn
cost vice versa thus solvable given assignment
x minimization objective cop obtained derive
poly time optimal relaxed plan otherwise unsolvable
assignments x evaluate objective function


fidomshlak nazarenko

onml
hijk
v


hijk
onml
v


hijk
onml
v














onml
hijk
hijk
hijk
onml
onml

qo q


bb qqq bb
mm


bb q q q
b



bb qqqmmmmbbb
b
mmqqqq bb
bbmmm
q b
mmmmm bb qqqqqbb
mv

hijk
onml
hijk
hijk
onml

onml
qo q



bb qqq bb




bb q q q
b



bb qqqmmmmbbb
b
mmqqqq bb
bbmmm
q b
mmmmm bb qqqqqbb
mv

hijk
onml
hijk
hijk
onml
onml








































b

figure illustration example used discussion theorem
nalizes proof theorem corollary generalizes digraphs
almost dags

note theorem provides yet another example exploiting value grouping induced fdr representation tasks consider task family
n v g cost v v vn n vi di di n
vi di g vi di n actions


ai k j vi di k vi di j vi di k

z

z

jn
kn

pre

e

figure illustrates causal graph domain transition graphs task
causal graphs n form directed chains thus tree width node
degree causal graphs n equal likewise eective domain vi
vi
n size n thus tractability optimal relaxed n
directly covered theorem contrast variable value di j represented
separate propositional variable inducing causal graph figure b
tree width node degree family induced causal graphs order
n fact causal graph even acyclic therefore theorem longer
directly applicable
corollary let innite set unfoldable fdr tasks size strongly
connected components tree width node degree causal graphs
bounded constant optimal relaxed polynomial time
proof fdr task causal graph whose strongly connected components sccs
size k compiled equivalent fdr task directed acyclic
causal graph merging variables scc single variable seipp helmert
compilation done time polynomial exponential k
causal graph cgm obtained causal graph cg contracting nodes
scc since node contraction decrease tree width tw cgm


fithe complexity optimal monotonic

tw cg thus tw cgm likewise maximal node degree cg
c maximal node degree cgm ck thus finally
domain variable u obtained merging scc v u vku
k k corresponds cross product domains sccs variables
easy verify denition u v u vku thus together
k unfoldability v u vku implies u poly tting
denition

returning statement theorem comments extensions beyond
corollary place first note theorem generalize theorem
fork structured fdr tasks latter allows general unfoldable
leaf variables however easy see theorem stratied allow
generalization since variable depends leaf v care v
achieving g v thus optimal relaxed plan v induces simple path
general arborescence dtg v hence binary valued g v achieved yes
cop variables xv dag leaf v specifying respective functions v
procedure proof theorem scope theorem extended generalize
theorem
second case dag structured causal graphs denition eective domains
notion unfoldability overly conservative instead deriving
eective domains variables isolation derive topological order
causal graph given already derived eective domains immediate ancestors
specic domains substantially extend scope unfoldability fdr tasks
dag causal graphs
finally theorem requires tree width degree causal
graph bounded constant extra condition latter sucient
necessary notion prevail decomposability list two local
properties state variables guarantee polynomial time optimal relaxed
arbitrary acyclic causal graphs xed tree width likely
helpful properties exist thus boundaries prevail decomposability
extended nicely optimal relaxed remain polynomial time even dierent
state variables satisfy dierent properties even state variables
prevail decomposable xed degree
denition let innite set fdr tasks property state variables
task partitions state variables satisfy
referred variables satisfy say variables
prevail decomposable every task every variable v
set prv pre pred v av preconditions actions av variables
v size log
note possible u v u vku instance v x x
x g x x x x
x xy x
fact example easily extended merged variable xy unfoldable
x



fidomshlak nazarenko

ii set arbv arborescence subgraphs dtg v rooted v covering g v
v v g size log
say tasks prevail decomposable state variables
prevail decomposable
note prevail decomposability type tangential notion unfoldability
neither former imply latter way around contrast prevail
decomposability type ii direct stratication unfoldability latter
considers compacted version dtg v dtg v furthermore allows
polynomial rather logarithmic bound number arborescence subgraphs
theorem let innite set unfoldable prevail decomposable fdr tasks
directed acyclic causal graphs tree width causal graphs bounded
constant optimal relaxed polynomial time
proof well proof theorem follows cop compilation
methodology however compilation prevail decomposability must dier
one proof theorem since longer rely xed degree causal
graphs derive xed tree width constraint networks xed tree width
causal graphs ease presentation rst specify compilation assuming
state variables satisfy specic condition denition extend
specication cover alternative condition ii denition well
construction need establish certain graph theoretic formalism
respective notation let g v e graph let n v v node neighborhood function g n v u v u e splitting v v
support n v transforms g adding vertex v edge v v
u removing edge v u adding edge v u informally splitting seen
non unique reverse process edge contraction nodes added g splittings
called stretch nodes example figure b depicts graph obtained graph
figure splitting node v support x u n v x u w
adding stretch node v
graph g expansion g g transformed g sequence splittings
example figure c depicts graph obtained graph figure rst
splitting node v support x n v x u w splitting v
support u w n v v u w specically g v e
expansion g v e exist functions f v v g e e

v v subgraph g induced f v v v f v v tree
b v u e g v u v u f v v f u u
tree subgraph v g induced f v called stretch tree v
bijective correspondence leaves v neighbors n v v via
function g v u e exactly one edge e g v u directly
connects v u words f induces partition v
part stretch tree v v v g maps edges g edges


fithe complexity optimal monotonic

x






v





u

w



x






v





x



v
v

x

v

w

u




u

b

v



v

v
u



x

w

c

v

u

w
w



figure node splitting graph expansions
g connect parts partition finally node degree g
bounded g called sub cubic example expansion figure c
sub cubic expansion figure b
terminology mostly adopted markov shi addition
call expansion g g fully separating stretch trees g connected
stretch nodes original nodes g g v e fully
separating expansion g v e exists function v v
v v holds v f v edge v v e v f v
example expansion figure c fully separating expansion figure

given notion graph expansion solved
graph g eciency solving depends badly possibly exponentially
node degree g try reformulate sub cubic expansion
g g however eciency question depends badly
graphs tree width tree width g close possible g
tree width g cannot smaller tree width g g g
minor numerous ecient schemes sub cubic graph expansion
create expansions arbitrarily larger tree width expandees
recently however markov shi showed negative side eect
eliminated sometimes even eciently
theorem markov shi states main polynomialtime given graph g tree decomposition width w computes
sub cubic expansion g g tw g w particular implies
graph g admits sub cubic expansion whose tree width tw g
expansion constructed eciently arbitrary graph families xed
without eective loss generality one assume v v nodes v never
mapped stretch nodes mirrors v however decided stick
explicit use function avoid confusion nodes v identically named nodes
v



fidomshlak nazarenko

tree width moreover straightforward verify expansion transformed
linear time fully separating expansion without increasing tree width node
degrees therefore theorem markov shi holds even request fully
separating sub cubic expansions
cop compilation exploits tree width friendly expansions causal graphs
since focus theorem digraph families c tree width c
bounded constant theorem markov shi digraph g c
eciently associated fully separating sub cubic expansion g tree width
tw g note however construction g ignores orientation arcs
g g digraph g undirected graph construction
tree decomposition undirected graph induced g since cop compilation
depend direction arcs causal graph restore g
relevant bits information g
rst give auxiliary notation
given fully separating expansion g undirected graph induced digraph
g v e consider stretch trees v rooted respective nodes v
tv v denote subtree v rooted v v
recalling graphs g interest dags leaves v
bijectively associated neighbors n v v g let n v n v
n v partition vs neighbors g immediate ancestors immediate
descendants v respectively
v denote respective neighbors
nvin v n v nvout
v n
v associated leaves stretch subtree tv v
v u u
u nvin v nvout
v leaf v
v





g contains edge v u e g v u v u

proceed specifying cop compilation fdr tasks theorem
given task v g cost let g v e fully separating sub cubic
expansion g causal graph cg tree width tw cg respective
constraint optimization cop x specied follows
v v x contains variable xv schematically associated root
v v variable xv v stretch tree node v v v
domain variable xv

v g v v v g
xv


v
otherwise
domain variable xv v
xv v mv xv



determining optimal tree decomposition graph np hard done polynomial time
graph families xed tree width bodlaender
requiring expansions fully separating luxury need relying property
simplies compilation scheme described next scheme modied require
full separation



fithe complexity optimal monotonic

mv prv xv v set pairs mv
v mv dtg v denote restriction dtg v
edges supported assuming arbitrarily xed numbering elements
prv pr prmv edge marked action pre pred v pri
prv remains dtg v v c denote
cost cheapest path v dtg v case unreachability
c
similarly way node causal graphs expansion g associated
cop variable associated non negative extended real valued function
state variable v v
stretch tree root v associated function v scope v
q v xv xv v v n v


n v v node neighborhood function g note n v
g sub cubic xv assignment v v v n v
q v xv

c h v n v v
v



otherwise
h hadamard entrywise product indicator vectors
v v n v
ii leaf stretch node v v associated indicator function v v
scope
q v v xv v xu u
u leaf node u g v u v u orientation
arcs within causal graph cg matters specically v u represents
causal graph arc u v v v zeroes assignments v u u

vector v enables preconditions prv passively
actively supported value u u
vector u enables preconditions pru since v condition
u changing actions dag structured task
v v xv v u u xu u




u
v v v v u u
mv v u v pri pri u u


otherwise

note value v v independent v component v v u u


fidomshlak nazarenko

otherwise v u represents causal graph arc v u conversely


v




v v v v u u
mu u v v pri pri v v


otherwise

iii internal stretch node v v associated indicator function
v v scope comprises variable xv v together variables xv v
correspond immediate descendants v tv v
q v v xv v xv v v n v tv v
v v xv v assignment v v q v v
xv v v v zeroes v v vector v enables
preconditions prv passively actively supported
immediate ancestors u nvin v via values ancestors commit
respective stretch tree root cop variables xu

v h v n v tv v v v
v v v v

otherwise
words starting eqs support provided nvin v v
communicated v indicator vectors v aggregated summarized
eq hadamard vector product h
complexity wise properties cop constructed follows
constraint network cop obtained expansion g replacing
graph
subgraph g induced nodes q clique q let gq
nodes q x x edges q q pairs
isomorphic
q q construction cop functions gq

g likewise since q q pairs functions tree width
max q together implies
cop constraint network tw gq



cop tw gq
max q tw g max q tw g tw cg




hence since nding constant factor approximation graphs tree width polynomial size graph exponential tree width cop
solved time polynomial size representation
unfoldability eq v v domain size cop variable xv
poly domain stretch node variable xv v cross product
two sets size second set eq poly domain
size respective variable xv size rst set eq prv
denition prv log poly together implies
cop solved time poly
since theorem devoted directed acyclic causal graphs address case
cg contains v u u v



fithe complexity optimal monotonic

denition monotonic relaxation denition domain transition graphs
explicit description dtg v unfoldable fdr task polynomial
hence construction functional components eqs thus
entire cop done time poly

proceed prove correctness cop x prove
unsolvable assignments x evaluate objective function
x otherwise objective minimized assignments
x correspond optimal plans
first given assignment x induces
valid plan cost eqs implies
v v xv v stretch tree v xv v xv
relaxation value v assigned xv consistently propagated nodes
v particular leaves
let leaf node xv v v connect v u causal graph neighbor
u n v let xv v v xv u n v eq v v
implies v encodes preconditions prv disabled
relaxation value xu u otherwise u n v dag structure cg
u nothing preconditions actions aecting v eq v v
implies v trivially enables preconditions prv
given leaf internal stretch node v let xv v v xv
conjunctive structure preconditions fdr hadamard vector product
eq v v implies v encodes preconditions prv
notdisabled values xu u nvin v finally denition graph
expansion v n v nvin v n v thus eq v implies xv
reachable v properly restricted domain transition graph dtg v xv
xv xu u pred v v equals cost cheapest
path rest follows dag structure cg lemma proof
opposite direction straightforward construction cop serialization
lemma


nal note return denition prevail decomposability specically
second sucient condition state variables v v set arbv arborescence
sugraphs dtg v rooted v covering g v v v g size log
condition addressed cop construction far switching
rst second sucient condition prevail decomposability requires
semantics indicator vectors changed instead encoding support
pred v provide individual preconditions actions av encode support
pred v provide entire arborescences arbv dtg v since condition
requires arbv log support encoded reasoned eciently
note choice two conditions made variable variable basis
thus two conditions mutually exclusive complementary


fidomshlak nazarenko


causal graph
extra condition
xed size

v
dag v
dag degree
dag

fdr
p
yes





mfdr
p

yes
yes
yes unfoldable
yes unfoldable
prevail decomposable

th
th
th
th
th







table summary main optimal mfdr contrasted
previously established complexity corresponding fragments optimal fdr
table fragment fdr mfdr characterized
terms causal graph tree width causal graph degree upper
bound v size variable domains unfoldability prevail
decomposability two properties mfdr tasks introduced
exploited work

summary future work
took step towards ne grained classication worst case time complexity optimal
monotonic focus gets harder gets easier
switching optimal optimal relaxed context nite domain
task representations along way established negative positive
complexity wide fragments negative
emphasizing role structure state variable domains positive
emphasizing role causal graph topology table lists main optimal
monotonic contrasted complexity corresponding fragments
optimal fdr key conclusions follows
optimal monotonic relaxations hard even restricted simple
causal graph structures complexity stems size state
variable domains
restricted tasks constant bounded state variable domains becomes solvable time exponential tree width causal graph
known much even non optimal regular
tree width digraphs independent edge directions exploiting
directed structure causal graph together tree width allows
computational tractability expanded beyond xed size state variable domains
latter conclusion opens interesting venue investigation
addressed directed acyclic causal graphs scope tractability perhaps expanded exploiting existing directed notions graph width johnson robertson
seymour thomas hunter kreutzer berwanger et al might


fithe complexity optimal monotonic

especially appealing tree width standard benchmarks natural fdr encodings appear xed across respective families
tasks
another interesting direction would examine techniques introduced wider context recently introduced framework red black
relaxations katz et al b red black rb variables partitioned
two sets black set adopts regular value switching semantics fdr
red set adopts monotonic value accumulating semantics mfdr context
satiscing complexity analysis rb complexity lens
causal graph topology already led advances practice heuristic search
katz et al katz homann take similar step optimal
admissible heuristics rb relaxations must devised
turn calls identifying tractable fragments optimal rb cautiously
optimistic techniques presented found valuable context rb well instance positive theorem
fork structured mfdr tasks straightforwardly extended rb tasks
root variables taking monotonic semantics leaves keeping regular fdr
semantics similarly positive theorem dag structured mfdr tasks
straightforwardly extended rb tasks black painted leaf variables interesting
question respect whether computational tractability optimal rb
extended causal graphs internal nodes get keep original fdr
semantics

acknowledgments
work partly supported israel science foundation isf grant
eoard grant fa

references
amir e approximation treewidth algorithmica
arnborg cornell g proskurowski complexity nding embeddings
k tree siam journal algebraic discrete methods
backstrom c klein polynomial time sas pubs class
computational intelligence
backstrom c nebel b complexity sas computational
intelligence
becker geiger suciently fast nding close optimal
junction trees proceedings th conference uncertainty articial
intelligence uai pp
berwanger dawar hunter p kreutzer obdzralek j dag width
directed graphs journal combinatorial theory series b
betz c helmert h theory practice proceedings
nd annual german conference articial intelligence ki pp


fidomshlak nazarenko

bodlaender h l linear time nding tree decompositions small
treewidth siam journal computing
bonet b gener h heuristic search articial intelligence

bonet b helmert strengthening landmark heuristics via hitting sets
proceedings th european conference articial intelligence pp
lisbon portugal
brafman r domshlak c factored
proceedings th national conference articial intelligence aaai pp
boston
brafman r domshlak c complexity agent teams
implications single agent articial intelligence
bylander computational complexity propositional strips
articial intelligence
cai homann j helmert enhancing context enhanced additive
heuristic precedence constraints proceedings th international conference automated scheduling icaps pp
chen h gimenez causal graphs structurally restricted journal computer system sciences
dechter r constraint processing morgan kaufmann
domshlak c dinitz multi agent line coordination structure complexity proceedings sixth european conference ecp pp
downey r g fellows r parameterized complexity springer verlag
york
edelkamp pattern databases proceedings european
conference ecp pp
fabre e jezequel l haslum p thiebaux cost optimal factored
promises pitfalls proceedings international conference automated
scheduling icaps pp
fikes r e nilsson n strips application theorem
proving solving articial intelligence
flum j grohe parameterized complexity theory springer verlag
fox long stan hybrid strategy subproblem
abstraction ai magazine
fox long pddl extension pddl expressing temporal
journal articial intelligence
gimenez jonsson inuence k dependence complexity
proceedings th international conference automated
scheduling icaps pp


fithe complexity optimal monotonic

gimenez jonsson b chain causal graphs variables
domains size np hard journal articial intelligence
halin r functions graphs journal geometry
helmert heuristic causal graph analysis proceedings
fourteenth international conference automated scheduling
icaps pp
helmert fast downward system journal articial intelligence

helmert concise nite domain representations pddl tasks articial intelligence
helmert domshlak c landmarks critical paths abstractions whats
dierence anyway proceedings th international conference automated scheduling icaps pp
helmert gener h unifying causal graph additive heuristics proceedings th international conference automated scheduling
icaps pp
helmert haslum p homann j flexible abstraction heuristics optimal
sequential proceedings th international conference automated
scheduling icaps pp
helmert mattmuller r accuracy admissible heuristic functions selected domains proceedings rd aaai conference articial
intelligence pp
homann j ignoring delete lists works local search topology
benchmarks journal articial intelligence
homann j analyzing search topology without running search connection causal graphs h journal articial intelligence

homann j nebel b system fast plan generation
heuristic search journal articial intelligence
hunter p kreutzer digraph measures kelly decompositions games
orderings theoretical computer science
johnson robertson n seymour p thomas r directed tree width
journal combinatorial theory series b
jonsson p backstrom c state variable structural restrictions
complexity articial intelligence
karp r reducibility among combinatorial complexity computer
computations pp plenum press york
katz domshlak c islands tractability cost optimal
journal articial intelligence


fidomshlak nazarenko

katz domshlak c implicit abstraction heuristics journal articial
intelligence
katz homann j red black relaxed plan heuristics reloaded proceedings
th annual symposium combinatorial search socs pp
katz homann j domshlak c red black relaxed plan heuristics
proceedings th aaai conference articial intelligence aaai pp

katz homann j domshlak c b said need relax variables proceedings rd international conference automated
scheduling icaps pp
katz keyder e structural patterns beyond forks extending complexity
boundaries classical proceedings th aaai conference
articial intelligence aaai pp
keyder e gener h heuristics action costs revisited
proceedings th european conference articial intelligence ecai pp

keyder e gener h b heuristics action costs revisited
proceedings th european conference articial intelligence pp
markov l shi constant degree graph expansions preserve treewidth
algorithmica
mcdermott v regression match graphs control search
articial intelligence
nissim r brafman r multi agent parallel distributed systems
proceedings th international conference autonomous agents multiagent systems aamas pp
nissim r brafman r domshlak c general fully distributed multiagent proceedings th international conference
autonomous agents multiagent systems aamas pp
pednault e adl exploring middle ground strips situation calculus proceedings st international conference principles
knowledge representation reasoning pp
robertson n seymour p graph minors iii planar tree width journal
combinatorial theory
robertson n seymour p graph minors x obstructions tree decomposition journal combinatorial theory series b
seipp j helmert fluent merging classical proceedings icaps workshop knowledge engineering
scheduling keps pp




