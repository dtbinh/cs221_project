journal of artificial intelligence research                

submitted        published     

a logic for reasoning about upper probabilities
joseph y  halpern
riccardo pucella

halpern cs cornell edu
riccardo cs cornell edu

department of computer science
cornell university
ithaca  ny      
http   www cs cornell edu home halpern

abstract
we present a propositional logic to reason about the uncertainty of events  where the
uncertainty is modeled by a set of probability measures assigning an interval of probability
to each event  we give a sound and complete axiomatization for the logic  and show that
the satisfiability problem is np complete  no harder than satisfiability for propositional
logic 

   introduction
various measures exist that attempt to quantify uncertainty  for many trained in the use
of probability theory  probability measures are an obvious choice  however  probability
cannot easiliy capture certain situations of interest  consider a simple example  suppose
we have a bag of     marbles  we know    are red and we know the remaining    are
either blue or yellow  although we do not know the exact proportion of blue and yellow  if
we are modeling the situation where we pick a ball from the bag at random  we need to
assign a probability to three different events  picking up a red ball  red event   picking up
a blue ball  blue event   and picking up a yellow ball  yellow event   we can clearly assign
a probability of    to red event  but there is no clear probability to assign to blue event or
yellow event 
one way to approach this problem is to represent the uncertainty using a set of probability measures  with a probability measure for each possible proportion of blue and yellow
balls  for instance  we could use the set of probabilities p                   where
 gives red event probability     blue event probability   and yellow event probability
      to any set of probabilities p we can assign a pair of functions  the upper and lower
probability measure  that for an event x give the supremum  respectively  the infimum  of
the probability of x according to the probability measures in p  these measures can be
used to deal with uncertainty in the manner described above  where the lower and upper
probability of an event defines a range of probability for that event    this example can
be viewed as giving a frequentist interpretation of upper probabilities  upper probabilities
can also be given a subjective interpretation  for example  by considering the odds at which
someone would be willing to accept or reject a bet  smith        walley         
   note that using sets of probability measures is not the only way to model this situation  an alternative
approach  using inner measures  is studied by fagin and halpern        

c
    
ai access foundation and morgan kaufmann publishers  all rights reserved 

fihalpern   pucella

given a measure of uncertainty  one can define a logic for reasoning about it  fagin 
halpern and megiddo         fhm from now on  introduce a logic for reasoning about
probabilities  with a possible worlds semantics that assigns a probability to each possible
world  they provide an axiomatization for the logic  which they prove sound and complete
with respect to the semantics  they also show that the satisfiability problem for the logic 
somewhat surprisingly  is np complete  and hence no harder than the satisfiability problem
for propositional logic  they moreover show how their logic can be extended to other notions
of uncertainty  such as inner measures  fagin   halpern        and dempster shafer belief
functions  shafer        
in this paper  we describe a logic for reasoning about upper probability measures  along
the lines of the fhm logic  the logic allows reasoning about linear inequalities involving
upper probabilities measures  like the logics considered in fhm  our logic is agnostic
as to the interpretation of upper probabilities  whether frequentist or subjectivist  the
main challenge is to derive a provably complete axiomatization of the logic  to do this  we
need a characterization of upper probability measures in terms of properties that can be
expressed in the logic  many semantic characterizations of upper probability measures have
been proposed in the literature  the characterization of anger and lembcke        turns
out to be best suited for our purposes  even though we are reasoning about potentially
infinite sets of probability measures  the satisfiability problem for our logic remains npcomplete  intuitively  we need guess only a small number of probability measures to satisfy
any given formula  polynomially many in the size of the formula  moreover  these probability
measures can be taken to be defined on a finite state space  again polynomial in the size of
the formula  thus  we need to basically determine polynomially many valuesa value for
each probability measure at each stateto decide the satisfiability of a formula 
the rest of this paper is structured as follows  in section    we review the required
material from probability theory and the theory of upper probabilities  in section    we
present the logic and an axiomatization  in section    we prove that the axiomatization is
sound and complete with respect to the natural semantic models expressed in terms of upper
probability spaces  finally  in section    we prove that the decision problem for the logic is
np complete  the proofs of the new  more technical results are given in appendix a  to
make the paper self contained  we also review anger and lembckes results in appendix b 

   characterizing upper probability measures
we start with a brief review of the relevant definitions  recall that a probability measure
is a function             for  an algebra of subsets of   that is  is closed under
complements and unions   satisfying                 and  a  b     a     b  for
all disjoint sets a  b in    a probability space is a tuple         where  is a set   is
an algebra of subsets of   the measurable sets   and  is a probability measure defined on
  given a set p of probability measures  let p  be the upper probability measure defined
   if  is infinite  we could also require that  be a  algebra  i e   closed under countable unions  and that
 be countably additive  requiring countable additivity would not affect our results  since we show that
we can take  to be finite  for ease of exposition  we have not required it 

  

fia logic for reasoning about upper probabilities

by p   x    sup  x      p  for x     similarly  p  x    inf  x      p  is
the lower probability of x    a straightforward derivation shows that the relationship
p  x     p   x  holds between upper and lower probabilities  where x is the complement
of x in   because of this duality  we restrict the discussion to upper probability measures
in this paper  with the understanding that results for lower probabilities can be similarly
derived  finally  an upper probability space is a tuple      p  where p is a set of probability
measures on  
we would like a set of properties that completely characterizes upper probability measures  in other words  we would like a set of properties that allow us to determine if a
function f     r  for an algebra  of subsets of   is an upper probability measure 
that is  whether there exists a set p of probability measures such that for all x   
p   x    f  x   
one approach to the characterization of upper probability measures is to adapt the
characterization of dempster shafer belief functions  these functions are known to be the
lower envelope of the probability measures that dominate them  and thus form a subclass
of the class of lower probability measures  by the duality noted earlier  a characterization
of lower probability measures would yield a characterization of upper probability measures 
the characterization of belief functions is derived from a generalization of the following
inclusion exclusion principle for probabilities  obtained by replacing the equality with an
inequality  
 

n
 

n
x
   i   

ai    

i  

i  

x

 

j        n 
 j  i

 

aj    

jj

it seems reasonable that a characterization of lower  or upper  probability measures
could be derived along similar lines  however  as is well known  most properties derivable
from the inclusion exclusion principle  which include most of the properties reported in the
literature  are insufficient to characterize upper probability measures  huber        p      
and walley        p      give examples showing the insufficiencies of such properties 
to give a sense of the insufficiency of simple properties  consider the following inclusionexclusionstyle properties  some of which are taken from  walley         to simplify the
statement of these properties  let p     p  and p      p  
p p
i t
    p   a       an    ni    i  i    i   p       ji aj   
    p  a       an   

pn p
i  

 i  i    

i   p    i    

t

ji

aj   

    p  a  b    p  a  b   p  a    p   b   p   a  b    p   a  b  
   in the literature  the term upper probability is sometimes used in a more restricted sense than here  for
example  dempster        uses the term to denote a class of measures which were later characterized as
dempster shafer belief functions  shafer         belief functions are in fact upper probability measures
in our sense  but the converse is not true  kyburg         in the measure theory literature  what we call
upper probability measures are a special case of upper envelopes of measures  which are defined as the
sup of sets of general measures  not just probability measures 
   it is possible to define a notion of upper probability over an arbitrary set of subsets of   not necessearily
an algebra  by simply requiring that f coincides with p  on its domain  for some set p of probability
measures  see walley        for details 

  

fihalpern   pucella

    p  a    p  b   p  a  b    p   a  b   p   a    p   b  
    p  a    p  b   p  a  b    p   a  b   p   a    p   b  
note that without the alternation between upper probabilities and lower probabilities 
    and     would just be the standard notions of subadditivity and superadditivity  respectively  while subadditivity and superadditivity hold for upper and lower probabilities 
respectively      and     are stronger properties  it is easily verified that all five properties
hold for upper probability measures  the question is whether they completely characterize
the class of upper probability measures  we show the inherent incompleteness of these
properties by proving that they are all derivable from the following simple property  which
is by itself insufficient to characterize upper probability measures 
    if a  b     then p   a    p  b   p   a  b   p   a    p   b  
proposition      property     implies properties         
observe that our property     is already given by walley        p       as properties  d 
and  e   the following example shows the insufficiency of property      let p be the set
of probability measures                  over     a  b  c  d   with  containing all subsets
of   defined on singletons by
   b   

 
 

   c   

 
 

   d   

 
 

   a         b   

 
 

   c   

 
 

   d   

 
 

 
 

   c     

   d   

 
 

   a   

 
 

   a   

 
 

   b   

   a   

 
 

   b         c   

 
 

   d        

and extended by additivity to all of   this defines an upper probability measure p  over
  consider the function             defined by
 
p  x     if x    a  b  c 
  x   
p   x 
otherwise 
we claim that the function    for small enough       satisfies property      but cannot be
an upper probability measure 
proposition      for             the function  satisfies property      but is not an
upper probability measure  that is  we cannot find a set p   of probability measures such
that     p      
this example clearly illustrates the need to go beyond the inclusion exclusion principle
to find properties that characterize upper probability measures  as it turns out  various
complete characterizations have been described in the literature  lorentz        huber 
            williams        wolf        giles        anger   lembcke        walley        
most of these characterizations are obtained by considering upper and lower expectations 
rather than working directly with upper and lower probabilities  anger and lembcke       
  

fia logic for reasoning about upper probabilities

give a characterization in terms of upper and lower probabilities  since their characterization
is particularly well suited to the logic presented in the next section  we review it here 
the characterization is based on the notion of set cover  a set a is said to be covered
n times by a multiset   a            am    of sets if every element of a appears in at least
n sets from a            am   for all x  a  there exists distinct i            in in             m  such
that for all j  n  x  aij   it is important to note here that   a            am    is a multiset  not a set  the ai s are not necessarily distinct   we use the       notation to denote
multisets   an  n  k  cover of  a    is a multiset   a            am    that covers  k times
and covers a n   k times  for example                           covers             times  and
                                     is a       cover of                  
the notion of  n  k  cover is the key concept in anger and lembckes characterization
of upper probability measures 
theorem       anger   lembcke        suppose that  is a set   is an algebra of subsets
of   and      r  then there exists a set p of probability measures with    p  if and
only if  satisfies the following three properties 
up          
up          
up   for all natural numbers m  n  k and all subsets a p
          am in   if   a            am   
is an  n  k  cover of  a     then k   n a   m
i    ai   
proof  we reproduce a proof of this result in appendix b 
note that up  is redundant in the presence of up  and up   indeed         is a
       cover of       and applying up  yields              since up  states that
        this means that         a further consequence of up  is that if a  b  then
 a    b   since   b   is a        cover of  a     therefore  for all a     a          
we need to strengthen theorem     in order to prove the main result of this paper 
namely  the completeness of the axiomatization of the logic we introduce in the next section 
we show that if the cardinality of the state space  is finite  then we need only finitely
many instances of property up   notice that we cannot derive this from theorem    
alone  even if    is finite  up  does not provide any bound on m  the number of sets to
consider in an  n  k  cover of a set a  indeed  there does not seem to be any a priori reason
why the value of m  n  and k can be bounded  bounding this value of m  and hence of n
and k  since they are no larger than m  is one of the key technical results of this paper  and
a necessary foundation for our work 
theorem      there exist constants b    b          such that if  is a finite set   is an
algebra of subsets of   and      r  then there exists a set p of probability measures
such that    p  if and only if  satisfies the following properties 
upf          
upf          
upf   for all integers m  n  k  b   and all sets a    p
        am   if   a            am   
is an  n  k  cover of  a     then k   n a   m
i    ai   
  

fihalpern   pucella

property upf  is significantly weaker than up   in principle  checking that up 
holds for a given function requires checking that it holds for arbitrarily large collections of
sets  even if the underlying set  is finite  on the other hand  upf  guarantees that if  is
finite  then it is in fact sufficient to look at collections of size at most b     this observation
is key to the completeness result 
theorem     does not prescribe any values for the constants b    b            indeed  the
proof found in appendix a relies on a ramsey theoretic argument that does not even
provide a bound on the bi s  we could certainly attempt to obtain such bounds  but
obtaining them is completely unnecessary for our purposes  to get completeness of the
axiomatization of the logic introduced in the next section  it is sufficient for there to exist
finite constants b    b           

   the logic
the syntax for the logic is straightforward  and is taken from fhm  we fix a set    
 p    p            of primitive propositions  the set  of propositional formulas is the closure
of   under  and   we assume a special propositional formula true  and abbreviate
true as false  we use p to represent primitive propositions  and  and  to represent
propositional formulas  a term is an expression of the form   l            k l k    where
            k are reals and k     a basic likelihood formula is a statement of the form t   
where t is a term and  is a real  a likelihood formula is a boolean combination of basic
likelihood formulas  we use f and g to represent likelihood formulas  we use obvious
abbreviations where needed  such as l    l    a for l        l    a  l    l  
for l    l       l    a for l    a  l     a for  l    a  and l     a for
 l    a    l    a   define the length  f   of the likelihood formula f to be the number
of symbols required to write f   where each coefficient is counted as one symbol  let lqu be
the language consisting of likelihood formulas   the qu stands for quantitative uncertainty 
the name for the logic is taken from  halpern         
in fhm  the operator l was interpreted as either probability or belief  in the sense
of dempster shafer   under the first interpretation  a formula such as l     l       
would be intereted as the probability of  plus the probability of  is at least      here
we interpret l as upper probaiblity  thus  the logic allows us to make statements about
inequalities involving upper probabilities 
to capture this interpretation  we assign a semantics to formulas in lqu using an upper
probability space  as defined in section    formally  an upper probability structure is a
tuple m        p    where      p  is an upper probability space and  associates with
each state  or world  in  a truth assignment on the primitive propositions in     thus 
 s  p    true  false  for s   and p      let   p  m    s      s  p    true  
we call m measurable if for each p        p  m is measurable  if m is measurable then
    m is measurable for all propositional formulas   in this paper  we restrict our attention
to measurable upper probability structures  extend  s  to a truth assignment on all
propositional formulas in a standard way  and associate with each propositional formula
the set     m    s      s      true   an easy structural induction shows that     m

  

fia logic for reasoning about upper probabilities

is a measurable set  if m        p     let
m      l            k l k     iff   p         m          k p     k   m    
m    f iff m     f
m    f  g iff m    f and m    g 
note that lqu can express lower probabilities  it follows from the duality between upper
and lower probabilities that m    l        iff p      m      
consider the following axiomatization axup of upper probability  which we prove sound
and complete in the next section  the key axioms are simply a translation into lqu of the
characterization of upper probability given in theorem      as in fhm  axup is divided
into three parts  dealing respectively with propositional reasoning  reasoning about linear
inequalities  and reasoning about upper probabilities 
propositional reasoning
taut  all instances of propositional tautologies in lqu  see below  
mp  from f and f   g infer g 
reasoning about linear inequalities
ineq  all instances of valid formulas about linear inequalities  see below  
reasoning about upper probabilities
l   l false      
l   l true      
l   l      
w
v
l   l            l m    nl    k if   j        m    j  k n jj j and
w
v
 
j        m    j  k jj j are propositional tautologies 
l   l     l   if    is a propositional tautology 
the only difference between axup and the axiomatization for reasoning about probability
given in fhm is that the axiom l       l       l   in fhm  which expresses
the additivity of probability  is replaced by l   although it may not be immediately
obvious  l  is the logical analogue of sup   to see this 
t first note that   a            am   
covers
a
m
times
if
and
only
if
a

j        m    j  n jj aj   thus  the formula  
w
v

says
that

 more
j        m    j  k n jj j
wprecisely  the setvof worlds where  is true 
is covered k  n times by               n     while j        m    j  k jj j says that the whole
space is covered k times by               n     roughly speaking  the multiset               n   
is an  n  k  cover of    true   the conclusion of l  thus corresponds to the conclusion of
   another approach  more in keeping with fhm  would be to interpret l as a lower probability measure 
on the other hand  interpreting l as an upper probability measure is more in keeping with the literature
on upper probabilities 
   note that  according to the syntax of lqu               m must be propositional formulas 

  

fihalpern   pucella

up   note that in the same way that up  follows from up  and up   axiom l   as
well as l   follows from l  and l  
instances of taut include all formulas of the form f  f   where f is an arbitrary
formula in lqu   we could replace taut by a simple collection of axioms that characterize
propositional reasoning  see  for example   mendelson          but we have chosen to focus
on aspects of reasoning about upper probability 
as in fhm  the axiom ineq includes all valid formulas about linear inequalities  an
inequality formula is a formula of the form a  x         an xn  c  over variables x            xn  
an inequality formula is said to valid if it is true under every possible assignment of real
numbers to variables  to get an instance of ineq  we replace each variable xi that occurs
in a valid inequality formula by a primitive likelihood term of the form l i    naturally each
occurence of the variable xi must be replaced by the same primitive likelihood term l i    
as with taut  we can replace ineq by a sound and complete axiomatization for boolean
combinations of linear inequalities  one such axiomatization is given in fhm 

   soundness and completeness
a formula f is provable in an axiom system ax if f can be proven using the axioms and
rules of inferences of ax  ax is sound with respect to a class m of structures if every
formula provable in ax is valid in m  i e   valid in every structure in m   ax is complete
with respect to m if every formula valid in m is provable in ax 
our goal is to prove that axup is a sound and complete axiomatization for reasoning
about upper probability  i e   with respect to upper probability structures   the soundness
of axup is immediate from our earlier disscussion  completeness is  as usual  harder  unfortunately  the standard technique for proving completeness in modal logic  which involves
considering maximal consistent sets and canonical structures  see  for example   popkorn 
       does not work  we briefly review the approach  just to point out the difficulties 
the standard approach uses the following definitions  a formula  is consistent with
an axiom system ax if  is not provable from ax  a finite set of formulas              n  
is consistent with ax if the formula        n is consistent with ax  an infinite set
of formulas is consistent with ax if all its finite subsets are consistent with ax  f is
a maximal ax consistent set if f is consistent with ax and no strict superset of f is
consistent with ax  if ax includes taut and mp  then it is not hard to show  using
only propositional reasoning  that every ax consistent set of formulas can be extended to
a maximal ax consistent set 
to show that ax is complete with respect to some class m of structures  we must show
that every formula that is valid in m is provable in ax  to do this  it is sufficient to show
that every ax consistent formula is satisfiable in some structure in m  typically  this is
done by constructing what is called a canonical structure m c in m whose states are the
maximal ax consistent sets  and then showing that a formula  is satisfied in a world w
in m c iff  is one of the formulas in the canonical set associated with world w 
unfortunately  this approach cannot be used to prove completeness here  to see this 
consider the set of formulas
f      l   

 
  n                   l        
n
  

fia logic for reasoning about upper probabilities

this set is clearly axup consistent according to our definition  since every finite subset
is satisfiable in an upper probability structure and axup is sound with respect to upper
probability structures  it thus can be extended to a maximal axup consistent set f  
however  the set f   of formulas is not satisfiable  it is not possible to assign l   a value
that will satisfy all the formulas at the same time  hence  f is not satisfiable  thus  the
canonical model approach  at least applied naively  simply will not work 
we take a different approach here  similar to the one taken in fhm  we do not try to
construct a single canonical model  of course  we still must show that if a formula f is
axup  consistent then it is satisfiable in an upper probability structure  we do this by an
explicit construction  depending on f   we proceed as follows 
by a simple argument  we can easily reduce the problem to the case where f is a
conjunction of basic likelihood formulas and negations of basic likelihood formulas  let
n
p            pn be the primitive propositions that appear in f   observe that there are   
inequivalent propositional formulas over p            pn   the argument goes as follows  let an
atom over p            pn be a formula of the form q          qn   where qi is either pi or pi  
there are clearly  n atoms over p            pn   moreover  it is easy to see that any formula
n
over p            pn can be written in a unique way as a disjunction of atoms  there are   
such disjunctions  so the claim follows 
continuing with the construction of a structure satisfying f   let               n be some
canonical listing of the inequivalent formulas over p            pn   without loss of generality  we assume that   is equivalent to true  and   n is equivalent to false  since every propositional formula over p            pn is provably equivalent to some   it follows
that f is provably equivalent to a formula f   where each conjunct of f   is of the form
  l              n l   n      note that the negation of such a formula has the form
  l              n l   n      or  equivalently      l               n  l   n      
thus  the formula f gives rise in a natural way to a system of inequalities of the form 
    l                n l   n  
   
r   l            r   n l   n  
  l             
   
 
n l   n  
    
  
 
 
s   l               n l   n  
s  

  
  
  
 
 
 r
   
  
  
 
 
  s  

   

we can express     as a conjunction of inequality formulas  by replacing each occurrence
of l i   in     by xi   call this inequality formula f  
if f is satisfiable in some upper probability structure m   then we can take xi to be the
upper probability of i in m   this gives a solution of f   however  f may have a solution
without f being satisfiable  for example  if f is the formula l p         l p       then
f has an obvious solution  f   however  is not satisfiable in an upper probability structure 
because the upper probability of the set corresponding to p and the upper probability of the
set corresponding to p must sum to at least   in all upper probability structures  thus 
we must add further constraints to the solution to force it to act like an upper probability 
up up  or  equivalently  the axioms l l   describe exactly what additional constraints are needed  the constraint corresponding to l   or up   is just x       since
  

fihalpern   pucella

we have assumed   is the formula false  similarly  the constraint corresponding to l  is
n
x  n      the constraint corresponding to l  is xi     for i                   what about
l   this seems to require an infinite collection of constraints  just as up  does  
this is where upf  comes into play  it turns out that  if f is satisfiable at all  it
is satisfiable in a structure with at most  n worlds  one for each atom over p            pn  
thus  we need to add only instances of l  where k  m  n   b n and             m    are all
among               n   although this is a large number of formulas  in fact  we do not know
exactly how large  since it depends on b n   which we have not computed   it suffices for our
purposes that it is a finite number  for each of these instances of l   there is an inequality
of the form a  x         a  n x  n  k  let f  the inequality formula corresponding to f  
be the conjunction consisting of f   together with all the inequalities corresponding to the
relevant instances of l   and the equations and inequalities x       x  n      and xi   
n
for i                   corresponding to axioms l l  
proposition      the formula f is satisfiable in an upper probability structure iff the
inequality formula f has a solution  moreover  if f has a solution  then f is satisfiable in
an upper probability structure with at most   f   worlds 
theorem      the axiom system axup is sound and complete for upper probability structures 
proof  for soundness  it is easy to see that every axiom is valid for upper probability
structures  including l   which represents up  
for completeness  we proceed as in the discussion above  assume that formula f is not
satisfiable in an upper probability structure  we must show that f is axup inconsistent 
we first reduce f to a canonical form  let g       gr be a disjunctive normal form
expression for f  where each gi is a conjunction of basic likelihood formulas and their
negations   using propositional reasoning  we can show that f is provably equivalent to this
disjunction  since f is unsatisfiable  each gi must also be unsatisfiable  thus  it is sufficient
to show that any unsatisfiable conjunction of basic likelihood formulas and their negations is
inconsistent  assume that f is such a conjunction  using propositional reasoning and axiom
n
l   f is equivalent to a likelihood formula f   that refers to    propositional formulas  say
              n   since f is unsatisfiable  so is f     by proposition      the inequality formula
f  corresponding to f   has no solution  thus  by ineq  the formula f    that results by
replacing each instance of xi in f  by l i   is axup provable  all the conjuncts of f    that
are instances of axioms l l  are axup provable  it follows that f   is axup provable 
and hence so is f  

   decision procedure
having settled the issue of the soundness and completeness of the axiom system axup  
we turn to the problem of the complexity of deciding satisfiability  recall the problem of
   although we are dealing with only finitely many formulas here                n   recall that the formulas
            m in l  need not be distinct  so there are potentially infinitely many instances of l  to deal
with 

  

fia logic for reasoning about upper probabilities

satisfiability  given a likelihood formula f   we want to determine if there exists an upper
probability structure m such that m    f   as we now show  the satisfiability problem is
np complete  and thus no harder than satisfiability for propositional logic 
for the decision problem to make sense  we need to restrict our language slightly  if
we allow real numbers as coefficients in likelihood formulas  we have to carefully discuss
the issue of representation of such numbers  to avoid these complications  we restrict our
language  in this section  to allow only integer coefficients  note that we can still express
rational coefficients by the standard trick of clearing the denominator  for example  we
can express    l      by  l      and l       by  l       recall that we defined
 f   to be the length of f   that is  the number of symbols required to write f   where each
coefficient is counted as one symbol  define   f    to be the length of the longest coefficient
appearing in f   when written in binary  the size of a rational number ab   denoted    ab    
where a and b are relatively prime  is defined to be   a       b   
a preliminary result required for the analysis of the decision procedure shows that if a
formula is satisfied in some upper probability structure  then it is satisfied in a structure
     p     which is small in terms of the number of states in   the cardinality of the
set p of probability measures  and the size of the coefficients in f  
theorem      suppose f is a likelihood formula that is satisfied in some upper probability
structure  then f is satisfied in a structure      p     where      f            every
subset of  is measurable    p    f     w  is a rational number such that    w    is
o  f      f       f    log  f     for every world w   and   p  and  w  p    false for every
world w   and every primitive proposition p not appearing in f  
theorem      the problem of deciding whether a likelihood formula is satisfiable in an
upper probability structure is np complete 
proof  for the lower bound  it is clear that a given propositional formula  is satisfiable iff
the likelihood formula l       is satisfiable  therefore the satisfiability problem is np hard 
for the upper bound  given a likelihood formula f   we guess a small satisfying structure
m        p    for f of the form guaranteed to exist by theorem      we can describe
such a model m in size polynomial in  f   and   f      the fact that  w  p    false for
every world w   and every primitive proposition p not appearing in f means that we
must describe  only for propositions that appear in f    we verify that m    f as follows 
let l   be an arbitrary likelihood term in f   we compute     m by checking the truth
assignment of each s   and seeing whether this
p truth assignment makes  true  we then
replace each occurence of l   in f by maxp   s    m  s   and verify that the resulting
expression is true 

   conclusion
we have considered a logic with the same syntax as the logic for reasoning about probability  inner measures  and belief presented in fhm  with uncertainty interpreted as the upper
probability of a set of probability measures  under this interpretation  we have provided
a sound and complete axiomatization for the logic  we further showed that the satisfiability problem is np complete  as it is for reasoning about probability  inner measures  and
  

fihalpern   pucella

beliefs   despite having to deal with probability structures with possibility infinitely many
states and infinite sets of probability measures  the key step in the axiomatization involves
finding a characterization of upper probability measures that can be captured in the logic 
the key step in the complexity result involves showing that if a formula is satisfiable at all 
it is satisfiable in a small structure  where the size of the state space  as well as the size
of the set of probability measures and the size of all probabilities involved  are polynomial
in the length of the formula 
given the similarity in spirit of the results for the various interpretations of the uncertainty operator  as a probability  inner measure  belief function  and upper probability  
including the fact that the complexity of the decision problem is np complete in all cases 
we conjecture that there is some underlying result from which all these results should follow 
it would be interesting to make that precise 
in fhm  conditional probabilities as well as probabilities are investigated  we have not 
in this paper  discussed conditional upper probabilities  the main reason for this is that 
unlike probability  we cannot characterize conditional upper probabilities in terms of  unconditional  upper probabilities  thus  our results really tell us nothing about conditional
upper probabilities  it might be of interest to consider a logic that allows conditional upper probabilities as primitive likelihood terms  that is  allows likelihood terms of the form
l        while there is no intrinsic difficult giving semantics to such a language  it is far
from clear what an appropriate axiomatization would be  or the effect of this extension on
complexity 
finally  it is worth noting that the semantic framework developed here and in fhm
is in fact rich enough to talk about gambles  that is  real valued functions over the set
of states  and the expectation of such gambles  expectation functions can be defined for
the different measures of uncertainty  including upper probabilities  and it is not difficult to
extend the fhm logic in order to reason about expectation  one advantage of working with
expectation functions is that they are typically easier to characterize than the corresponding
measures  for instance  the characterization of expected upper probabilities is much simpler
than that of upper probabilities  huber        walley               however  getting a
complete axiomatization is quite nontrivial  we refer the reader to  halpern   pucella 
      for more details on this subject  we remark that wilson and moral        take as
their starting point walleys notion of lower and upper previsions  they consider when
acceptance of one set of gambles implies acceptance of another gamble  since acceptance
involves expectation  it cannot be expressed in the logic considered in this paper  however 
it can be expressed easiliy in the logic of  halpern   pucella        

acknowledgments
a preliminary version of this paper appears in uncertainty in artificial intelligence  proceedings of the seventeenth conference        thanks to dexter kozen  jon kleinberg  and
hubie chen for discussions concerning set covers  vicky weissman read a draft of this paper
and provided numerous helpful comments  we also thank the anonymous uai and jair
reviewers for their useful comments and suggestions  this work was supported in part by
nsf under grants iri          and iis          and onr under grants n              

  

fia logic for reasoning about upper probabilities

    n                 and n                 the first author was also supported in part
by a guggenheim and a fulbright fellowship while on sabbatical leave  sabbatical support
from cwi and the hebrew university of jerusalem is also gratefully acknowledged 

appendix a  proofs
proposition      property     implies properties         
proof  we introduce the following auxiliary properties to help derive the implications 
    p  a    p  b   p  a  b    p   a  b  
    p  a    p  b   p  a  b    p   a  b  
    p  a  b    p  a  b   p  a    p   b  
     if a  b     then
p  a    p  b   p  a  b   p  a    p   b   p   a  b   p   a    p   b  
using these properties  we show the following chain of implications 

          

                
                
                

                    

the implication                     follows easily by mutual induction on n  the
base case is the following instances of properties     and      p  a  b   p  a    p  b  
p   a  b  and p   a  b   p   a    p   b   p  a  b   the details are left to the reader 
we now prove the remaining implications 
           since     is already one of the inequalities in      it remains to show that
it implies the other inequality in      that is  p  a  p   b   p   ab  p   ab  
p   a  b    p   a  b       p  a  b       p  a  b 
     p  a  b       p  a  b 
      p  a  b    p  a  b  
      p  b  a    p  b  a  
     p  b    p   a  
     p  b       p   a 
  p   b    p  a  

  

fihalpern   pucella

           since     is already one of the inequalities in      it remains to show that
it implies the other inequality in      that is  p  ab  p   ab   p   a  p   b  
p   a    p   b       p  a       p  b 
      p  a    p  b  
     p  a  b    p   a  b  
     p  a  b       p   a  b 
     p  a  b       p   a  b 
  p   a  b    p  a  b  
           since     is already one of the inequalities in      it remains to show that
it implies the other inequality in      that is  p  ab  p   ab   p   a  p   b  
p   a    p   b       p  a       p  b 
      p  a    p  b  
     p  a  b    p   a  b  
     p  a  b       p   a  b 
     p  a  b       p   a  b 
  p   a  b    p  a  b  
for the next implications  given a  b  let z   a  b 
           
p  a  b    p   a  z   b 
 p  a  z    p   b 

 since  a  z   b    

 p   a  z   z   p  z    p   b 
  p  a    p   b   p  a  b  
           
p  a  b    p   a  z   b 
 p  a  z    p  b 
 p   a  z   z   p   z    p  b 
  p  a    p  b   p   a  b  
           
p   a  b    p    a  z   b 
 p   a  z    p  b 
 p   a  z   z   p  z    p  b 
  p  a    p  b   p  a  b  
  

fia logic for reasoning about upper probabilities

            again  since     already comprises two of the inequalities in       it
remains to show that it implies the other two  that is  if a  b     then
p  a    p  b   p  a  b   p   a    p  b  
first  we show that p  a    p  b   p  a  b   using      we know that
p   a  b    p  a   p    a  b   a    p   b  
in other words  p   a  b   p   b    p  a   from this  we derive that
p  a  b       p   a  b 
     p   a  b 
     p   b   p  a  
     p   b    p  a 
  p  b    p  a  
second  we show that p  a  b   p   a    p  b   using      we know that
p   a  b    p   a   p    a  b   a    p   b  
 the last equality follows from the fact that  a  b   a   b when a  b      in
other words  p   a  b   p   b   p   a   from this  we derive that
p  a  b       p   a  b 
     p   a  b 
     p   b   p   a  
     p   b    p   a 
  p  b    p   a  
proposition      for             the function  satisfies property      but is not an
upper probability measure  that is  we cannot find a set p   of probability measures such
that     p      
proof  we are given             it is easy to check mechanically that  satisfies     
we now show that there is no set p   such that     p       by way of contradiction 
assume there is such a p     by the properties of sup  this means that there is a   p   such
that   a  b  c          since    a  b  c                  consider this  in detail  since   p 
we must have for all x    x     a  b  c   that  x    p      x    p   x   in particular 
  a  b      b  c      a  c         therefore 
 
  a  b       b  c       a  c     
 

   

however  from standard properties of probability  it follows that
  a  b       b  c       a  c        a  b  c       
  

 
 
   
 
 

fihalpern   pucella

which contradicts      therefore    and therefore p   cannot exist  and  is not an upper
probability measure 
theorem      there exists constants b    b          such that if  is an algebra of subsets
of  and  is a function      r  then there exists a set p of probability measures such
that    p  if and only if  satisfies the following properties 
upf          
upf          
upf   for all integers m  n  k  b   and all sets a    p
        am   if   a            am   
is an  n  k  cover of  a     then k   n a   m
i    ai   
proof  in view of theorem      we need only show that there exist constant b    b         
such that a function  satisfies up  iff it satisfies upf   clearly  up  always implies
upf   so it is sufficient to show that there exists b    b          such that upf  implies
up  
we need some terminology before proceeding  an exact  n  k  cover of  a    is a cover
c of a with the property that every element of a appears in exactly n   k sets in c  and
every element of   a appears in exactly k sets in c  thus  while an  n  k  cover of  a   
can have many extra sets  as long as the sets cover a at least n   k times and  k times 
an exact cover has only the necessary sets  with the right total number of elements  an
exact  n  k  cover c of  a    is decomposable if there exists an exact  n    k    cover c  and
an exact  n    k    cover c  of  a    such that c  and c  form a nontrivial partition of c 
with n   n    n  and k   k    k    intuitively  an exact cover c is decomposable if it
can be split into two exact covers  it follows easily by induction that for any exact  n  k cover  there exists a  not necessarily unique  finite set of nondecomposable exact covers
c            cm
pm ni   ki   cover  such that the ci s a nontrivial partition of c
p  mwith ci an exact
with n   i   ni and k   i      if c is itself nondecomposable  we can take m     and
c    c   one can easily verify that if c is an exact  n  k  cover of  a    and c    c is
an exact  n    k     cover of  a    with n    k     n   k  then c is decomposable 
the following lemma highlights the most important property of exact covers from our
perspective  it says that for any set a    there cannot be a large nondecomposable
exact cover of  a    
lemma a    there exists a sequence b     b     b           such that for all a    every exact
 
 
 n  k  cover of  a    with n   b  
or k   b  
is decomposable 
proof  it is clearly sufficient to show that for any finite  we can find a b   with the
required properties  fix a   given a    we first show that there exists na such that
if n   na or k   na   every exact  n  k  cover of  a    is decomposable  suppose for the
sake of contradiction that this is not the case  this means that we can find an infinite
sequence c    c          such that ci is a nondecomposable exact  ni   ki   cover of  a     with
either n    n          or k    k           
to derive a contradiction  we use the following lemma  known as dicksons lemma
 dickson        
  

fia logic for reasoning about upper probabilities

lemma a    every infinite sequence of d dimensional vectors over the natural
numbers contains a monotonically nondecreasing subsequence in the pointwise
ordering  where x  y in the pointwise ordering iff xi  yi for all i  
proof  it is straightforward to prove by induction on k that if k  d  then
every infinite sequence of vectors x    x          contains a subsequence xi    xi         
such that xij    xij          is a nondecreasing sequence of natural numbers for all
j  k  the base case is immediate from the observation that every infinite
sequence of natural numbers contains a nondecreasing subsequence  for the
inductive step  observe that if xi    xi          is a subsequence such that xij    xij         
is a nondecreasing sequence of natural numbers for all j  k  then the sequence
 
 
xik  
  xik  
        of natural numbers must have a nondecreasing subsequence  this
determines a subsequence of the original sequence with the appropriate property
for all j  k     
let s            s    be an arbitrary ordering of the     subsets of   we can associate
c
c
with any cover c a      dimensional vector xc    xc
            x       where xi is the number
of times the subset si of  appears in the multiset c  the key property of this association
 
is that if c   and c are multisets  then c    c iff xc  xc in the pointwise ordering 
consider the sequence of vectors xc    xc          associated with the sequence c    c         
of nondecomposable exact covers of  a     by lemma a    there is a nondecreasing subsequence of vectors  xci   xci        but this means that ci   ci        since
n    n          or k    k            every cover in the chain must be distinct  but any pair
of exact covers in the chain is such that ci  ci     meaning ci   is decomposable  contradicting our assumption  therefore  there must exist an na such that any exact  n  k  cover
of a with n   na or k   na is decomposable 
 
  max na   a                    it is easy to see that this choice
now define b  
works 
    for n                 where b   is as
to get the constants b    b            let bn    n bn
n
in lemma a    we now show that upf  implies up  with this choice of b    b           
assume that upf  holds  fix   suppose that c     a     p
      am    is an  n  k  cover
of  a    with  c    m  we want to show that k   n a   m
i    ai    we proceed as
follows 
the first step is to show that  without loss of generality  c is an exact  n  k  cover of
 a     let bi consist of those states s  ai such that either s  a and s appears in
more than n   k sets in a            ai  or s    a and s appears in more than k sets in
a            ai    let a i   ai  bi   let c       a             a m     it is easy to check that c   is
an exact  n  k  cover of  a     for if s  a  then s appears in exactly n   k sets in c    it
appears in a j iff aj is among the first n   k sets in c in which s appeared  and  similarly 
if s    a  then s appears in exactly k sets in c     clearly if up  holds for c     then it
holds for c  since  a i     ai   for i              m  thus  we can assume without loss of
generality that c is an exact  n  k  cover of a 
we can also assume without loss of generality that no set in c is empty  otherwise 
we can simply remove the empty sets in c  the resulting set is still an  n  k  cover of
 a      there are now two cases to consider  if max m  n  k   b     the desired result

  

fihalpern   pucella

follows from upf   if not  consider a decomposition of c into multisets c            cp  
where ch is an exact  nh   kh   cover of  a    and is not further decomposable  we claim
that max  ch    nh   kh    b   for h              p  if nh   b   or kh   b     then it is
immediate from lemma a   that ch can be further decomposed  contradicting
the fact
p
that ch is not decomposable  and if  ch     b     then observe that xch  x    ch   
    there must be some s   which appears in at least  b  
since  ch     b        b  
  
  or k   b    
sets in ch   since ch is an exact  nh   kh   cover  it follows that either nh   b  
h
  
but then  by lemma a    ch is decomposable  again a contradiction 
now we can apply upf  to each of c            ck to get
x
 x   nh  a   kh  
xch

since the ch s form a decomposition of c  we have


p
p
x
x
x


kh
 x   nh  x  
xch

h  





p
x
h  



m
x

p
p
x
x
 ai     
nh   a  
kh

i  

pp

h  





x

xch

 x  

p
x

h  

by decomposition  n   h   nh and k  
showing that up  holds  as desired 

nh  a  

h  

p
x

kh

h  

h  

pp

h   kh  

and therefore

pm

i    ai    n a 

 k 

proposition      the formula f is satisfiable in an upper probability structure iff the
inequality formula f has a solution  moreover  if f has a solution  then f is satisfiable in
an upper probability structure with at most   f   worlds 
proof  assume first that f is satisfiable  thus there is some upper probability structure
m        p    such that m    f   as in section    let p            pn be the primitive propositions that appear in f   and let               n be some canonical listing of the inequivalent
formulas over p            pn   without loss of generality  we assume that   is equivalent to
true  and   n is equivalent to false  define the vector x by letting xi   p     i   m   
n
for    i       since m    f   it is immediate that x is a solution to the inequality
 n

formula f   moreover  since     false and  
  true  it follows that x       since
p     false  m     p          and x n      since p     true  m     p           final 
ly  consider a conjunct of f corresponding to an instance of l   suppose it has the form
xi       xw
since this conjunct appears
in f  it must be the case that
im  nxim    k  v
w
v
 im    j        m    j  k n j        m   jj ij       j  k jj ij   is a propositional tautology  thus  it follows that   i    m             im   m is an  n  k  cover for    im     m     true  m   
it follows from up  that
p     i    m          p     im   m    np       m    k 
  

fia logic for reasoning about upper probabilities

thus  x is a solution to the inequality formulas corresponding to l   hence  x is a solution
to f 
for the converse  assume that x is a solution to f  we construct an upper probability
structure m    s  e  p    such that m    f as follows  let p            pn be the primitive
propositions appearing in f   let s                 n   be the atoms over p            pn   let e be
the set of all subsets of s  as observed earlier  every propositional formula over p            pn
is equivalent to a unique disjunction of atoms  thus  we can get a canonical collection
              n of inequivalent formulas over p            pn by identifying each formula i with a
different element of e  where   corresponds to the empty set and   n corresponds to all
of s  define a set function  by taking   i            ij      xi if i is the disjunction of the
atoms i            ij   let        true iff    
it is now sufficient to show that  is an upper probability  of a set p of probability
measures   since then it is clear that  s  e  p       f  since x is a solution to f  the system
of inequalities derived from formula f    to do this  by theorem      it suffices to verify
upf   upf   and upf   using b n in upf   since  s     n  
upf        x      
upf    s    x n     
 

upf   suppose that a and a            am are in e and satisfy the premises of property upf   with k  m  n  b n   let i            im   im   be the canonical
to a            amw  a  respectively  clearly 
a 
v
s formulas corresponding
t
iff



a
i
i
i
m  
j
j      
j        m    j  k n jj
s  m    j  k n tjj j is a
propositional tautology and similarly   j        m    j  k jj aij iff
w
v
pm
j        m    j  k jj ij is a propositional tautology  thus 
j   xij 

x
 k is one of the inequality formulas in f   thus  it follows that
pim  
m


 k  as desired  by our definition of   we therefore have
j   xij  xip
m  
k   n a   m
i    ai    and so upf  holds 
theorem      suppose f is a likelihood formula that is satisfied in some upper probability
structure  then f is satisfied in a structure      p     where      f            every
subset of  is measurable    p    f     w  is a rational number such that    w    is
o  f      f       f    log  f     for every world w   and   p  and  w  p    false for every
world w   and every primitive proposition p not appearing in f  
proof  the first step in the proof involves showing that if p is a set of probability measures
defined on an algebra  of a finite space   we can assume without loss of generality that
for each set x    there is a probability measure x  p such that x  x    p   x 
 rather than p   x  just being the sup of  x  for   p  
lemma a    let p be a set of probability measures defined on an algebra  over a finite set
  then there exists a set p   of probability measures such that  for each x    p   x   
 p      x   moreover  there is a probability measure x  p   such that x  x    p   x   in
addition  for any interpretation   if m        p    and m        p        then for all
likelihood formulas f   m    f iff m      f  

  

fihalpern   pucella

proof  since  is finite  to show that p   exists  it clearly suffices to show that  for each
x    there is a probability measure x such that x  x    p   x  and  if p     p  x   
then p   y      p      y   for all y   
given x  if there exists   p such that  x    p   x   then we are done  otherwise 
we construct a sequence               of probability measures in p such that limi i  x   
p   x  and  for all y    the sequence i  y   converges to some limit  let x            xn
be an enumeration of the sets in   with x    x  we inductively construct a sequence of
measures m    m          in p for m  n such that mi  xj   converges to a limit for i  k
and limi mi  x    p   x   for m      we know there must be a sequence                
of measures in p such that  i  x  converges to p   x   for the inductive step  if m   n 
suppose we have constructed an appropriate sequence m    m            consider the sequence
of real numbers mi  xm      using the bolzano weierstrass theorem  rudin         which
says that every sequence of real numbers has a convergent subsequence   this sequence has
a convergent subsequence  let  m        m             be the subsequence of m    m         
which generates this convergent subsequence  this sequence of probability measures clearly
has all the required properties  this completes the inductive step 
define x  y     limi ni  y    it is easy to check that that x is indeed a probability
measure  that x  x    p   x   and if p     p   x    that p   y      p      y   for all
y    this shows that an appropriate set p   exists 
now  given   let m        p    and m          p        a straightforward induction
on the structure of f shows that m    f iff m      f   for the base case 
     p       a  l            an l n    a
 a  p         m          an p     n   m    a
 a   p            m            an  p        n   m      a
      p          a  l            an l n    a 
the others cases are trivial 
just as in fhm  to prove theorem      we make use of the following lemma which
can be derived from cramers rule  shores        and simple estimates on the size of the
determinant  see also  chvatal        for a simpler variant  
lemma a    if a system of r linear equalities and or inequalities with integer coefficients
each of length at most l has a nonnegative solution  then it has a nonnegative solution with at
most r entries positive  and where the size of each member of the solution is o rl  r log r   
continuing with the proof of theorem      suppose that f is satisfiable in an upper
probability structure  by proposition      the system f of equality formulas has a solution 
so f is satisfied in a upper probability structure with a finite state space  thus  by lemma a    f is satisfied in a structure m        p    such that for all x    there exists
x  p such that x  x    p   x  
as in the completeness proof  we can write f in disjunctive normal form  each disjunct
g is a conjunction of at most  f      basic likelihood formulas and their negations  since
m    f   there must be some disjunct g such that m    g  suppose that g is the conjunction
of r basic likelihood formulas and s negations of basic likelihood formulas  let p            pn
  

fia logic for reasoning about upper probabilities

be the primitive formulas appearing in f   let              n be the atoms over p            pn  
as in the proof of completeness  we derive a system of equalities and inequalities from g 
it is a slightly more complicated system  however  recall that each propositional formula
over p            pn is a disjunction of atoms  let             k be the propositional formulas that
appear in g  notice that k    f    since there are some symbols in f   such as the coefficients 
that are not in the propositional formulas   the system of equations and inequalities we
construct involve variables xij   where i              k and j               n   intuitively  xij
represents   i   m     j   m    where   i   m  p is such that   i   m    i   m     p     i   m    thus 
the system includes k    f   equations of the following form 
xi         xi n     
for i              k  since   i   m    i   m       i   m   for all   p  if ei is the subset of
w
             n   such that i   jei j   the system includes k    k inequalities of the form
x
x
xij 
xi   j  
jei

i 

jei

i   

for each pair i 
such that i   
for each conjunct in g of the form   l           
n l k      there is a corresponding inequalityp
where  roughly speaking  we replace l i  
by   i   m      m     since   i   m corresponds to jei xij   the appropriate inequality is
k
x

i

i  

x

xij   

jei

negations of such formulas correspond to a negated inequality formula  as before  this is
equivalent to a formula of the form
 

k
x
i  

i

x

xij      

jei

notice that there are at most  f   inequalities corresponding to the conjuncts of g  thus 
altogether  there are at most k k         f      f    equations and inequalities in the
system  since k    f     we know that the system has a nonnegative solution  taking
xij to be   i   m     j   m     it follows from lemma a   that the system has a solution
x    x             x  n           xk            xk n   with t   f    entries positive  and with each entry
of size o  f      f       f    log  f     
we use this solution to construct a small structure satisfying the formula f   let i  
 i   xij is positive  for some j   suppose that i    i            it     for some t   t  let
m    s  e  p    where s has t  states  say s            st    and e consists of all subsets of s  let
 sh   be the truth assignment corresponding to the formula ih   that is   sh   p    true
if and only if ih  p  and where  sh   p    false if p does not appear in f    define
p    j      i  k   where j  sh     xih j   it is clear from the construction that m    f  
since  p    k    f     s    t   t   f    and j  sh     xih j   where  by construction  the size
of xih j is o  f      f       f    log  f      the theorem follows 
   for simplicity here  we are implicitly assuming that each of the formulas i appears in each conjunct of
g  this is without loss of generality  since if i does not appear  we can put it in  taking i     

  

fihalpern   pucella

appendix b  proof of the characterization of upper probabilities
to make this paper self contained  in this appendix we give a proof of theorem      the
proof we give is essentially that of anger and lembcke         walley        gives an
alternate proof along somewhat similar lines  note that the functional g we define in our
proof corresponds to the construction in walleys natural extension theorem  which is
needed in his version of this result 
theorem      suppose that  is a set   is an algebra of subsets of   and      r 
then there exists a set p of probability measures with    p  if and only if  satisfies the
following three properties 
up          
up          
up   for all integers m  n  k and all subsets a            a
pm in   if   a            am   
is an  n  k  cover of  a     then k   n a   m
i    ai   
proof  the if direction of the characterization is straightforward  given p    i  ii a
set of probability measures  we show p  satisfies up  up  
up   p       sup i       sup       
up   p       sup i       sup       
s
t
up   givensa            am and
t a such that a  j        m   j  k n jj aij and
  j        m   j  k jj aij   then for any i we have ki      ni  a  
pm
p
pm
i  aj    that is kp  ni  a   m
j   i  aj    supi   j   i  aj    
pj  
m
m
  a    but sup  k n  a     k n sup    a    
j
i
i
i
i
j   supi  i  aj     
j   p p
  a    as required 
k   np   a   so k   np   a   m
p
j
j  
as for the only if direction  we first prove a general lemma relating the problem to the
hahn banach theorem  some general definitions are needed  suppose that we are given a
space w and an algebra f of subsets of w   let k be the vector space generated by the
indicator functions  x defined by

  if x   x
 x  x   
  if x  x 
for x  f  a sublinear functional on k is a mapping c   k  r such that c h    c h 
for     and c h    h     c h      c h    for all h    h    a sublinear functional is increasing
if h    implies c h   h     c h    for all h   k  the following result is a formulation of the
well known hahn banach theorem  see  for example   conway         
theorem  hahn banach   let k be a vector space over r  and let g be a sublinear
functional on k  if m is a linear subspace in k and    m  r is a linear functional such
that  x   g x  for all x in m  then there is a linear functional     k  r such that
   m    and    x   g x  for all x in k 
lemma b    let g   f         be such that g w       and suppose that there is an
increasing sublinear functional g on k such that
  

fia logic for reasoning about upper probabilities

   g  k     g k  for k  f 
   g h     if h    
   g        where g   is identified with g  w    
then g is an upper probability measure 
proof  we show that g is an upper probability by exhibiting a set  x   x    of
probability measures  with the property that x  x    g x  and x  y    g x  for y    x 
each probability measure x is constructed through an application of the hahn banach
theorem 
given x  f  define the linear functional  on the subspace generated by  x by
  x     g  x    we claim that  h   g h  for all h in the subspace  since the elements
of the subspace have the form  x   there are two cases to consider      and      
if      then   x     g  x     g  x    since g is sublinear  moreover      g     
g  x    x    g  x     g  x    so g  x    g  x    thus  if       then
  x     g  x    g  x     g  x   
now  by the hahn banach theorem  we can extend  to a linear functional   on all of
k such that    h   g h  for all h  we claim that  a      y      for all y  k and  b 
           for  a   note that     y    g  y      by assumption  so     y       for
 b   note that        g      g w       and that                g        since
g        by assumption  
define x  y         y    since     w        x  w        if y and y   are disjoint  it is
immediate from the linearity of  that x  y  y       x  y     x  y      by construction 
x  y    g  y     g y   for any y    x  and x  x      x     g  x     g x   bottom
line  there is a probability measure x dominated by g such that x  x    g x  
take p    x   x     since for any x we have that x  x    g x  and
x  y    g x   if y    x   we have p   x    x  x    g x   therefore  g   p   
the main result follows by showing how to construct  from a function  satisfying the
properties of theorem      a sublinear functional c on k with the required properties 
suppose that g     r is a function satisfying up  up   as we show in the discussion
after theorem     in the text  up  up  show that the range of g is in fact        psince g
m
satisfies up   if   k            km    is an  n  k  cover
pm of  k     we have k  ng k   i   ki  
this is equivalent
to saying that k   n k  pi    ki   hence  for all k            km such that
p
m
k   n k  m
 
i   ki   we have k   ng k  
i   g ki    or equivalently
m

k
 x
  
g ki    g k  
n n

   

i  

this observation motivates the following definition of the functional g   k  r 
     
 
 
m
m
k
 x
k
 x
g h    inf   
g ki     m  n  k  n  m  n      k            km  f    
 ki  h  
n n
n n
i  

i  

our goal now is to show that g satisfies the conditions of lemma b   
  

fihalpern   pucella

 it is almost immediate from the definitions that g is increasing  if h    and  nk  
  pm
k
  pm
 
 
i    ki  h   h   then  n   n
i    ki  h  
n
 to see that g is sublinear  note that it is easy to see using the properties of inf that
g h    h     g h      g h     to show that g h    g h  for      first observe that
the definition of g is equivalent to
 
 
m
m
x
x
inf   
i g ki     m  n    i  r    k            km  f    
i  ki  h  
i  

i  

consider first the case       then
 
 
m
m
x
x
g h    inf   
i g ki        
i  ki  h
i  

  inf

 

  

m
x
i  

   inf

 

i  

 
m
 x

i  ki  h
i g ki       
 


 
  
 

i  

m
x
i  

 
m

 x
i g ki       
i  ki  h
 
i  

  g h  
for       it is clear from the definition of g that g      g    from     it follows
that g      g    and hence g      g       g       
 it is immediate from the definition of g that g  k    g k  for k  f  the fact that
g  k     g k  now follows from     
 it is immediate from the definition that g       
 if h     then h     since g is increasing  g h   g h   h    g     and since g is
sublinear  g        
since the conditions of lemma b   are satisfied  g is an upper probability measure 

references
anger  b     lembcke  j          infinitely subadditive capacities as upper envelopes of
measures  zeitschrift fur wahrscheinlichkeitstheorie und verwandte gebiete         
    
chvatal  v          linear programming  w  freeman and co   san francisco  calif 
conway  j  b          a course in functional analysis  second edition   no     in graduate
texts in mathematics  springer verlag 
dempster  a  p          upper and lower probabilities induced by a multivalued mapping 
annals of mathematical statistics                 

  

fia logic for reasoning about upper probabilities

dickson  l  e          finiteness of the odd perfect and primitive abundant numbers with
n distinct prime factors  american journal of mathematics                 
fagin  r     halpern  j  y          uncertainty  belief and probability  computational
intelligence                
fagin  r   halpern  j  y     megiddo  n          a logic for reasoning about probabilities 
information and computation                  
giles  r          foundations for a theory of possibility  in gupta  m  m     sanchez  e 
 eds    fuzzy information and decision processes  pp          north holland 
halpern  j  y          reasoning about uncertainty  book manuscript 
halpern  j  y     pucella  r          reasoning about expectation  in proc  eighteenth
conference on uncertainty in artificial intelligence  uai       
huber  p  j          kapazitaten statt wahrscheinlichkeiten  gedanken zur grundlegung
der statistik  jber  deutsch  math  verein           
huber  p  j          robust statistics  wiley interscience 
kyburg  jr   h  e          bayesian and non bayesian evidential updating  artificial intelligence             
lorentz  g  g          multiply subadditive functions  canadian journal of mathematics 
              
mendelson  e          introduction to mathematical logic  van nostrand  new york 
popkorn  s          first steps in modal logic  cambridge university press  cambridge 
new york 
rudin  w          principles of mathematical analysis  third edition   mcgraw hill 
shafer  g          a mathematical theory of evidence  princeton university press  princeton  nj 
shores  t          applied linear algebra and matrix analysis  second edition   mcgrawhill 
smith  c  a  b          consistency in statistical inference and decision  journal of the
royal statistical society  series b          
walley  p          coherent lower  and upper  probabilities  manuscript  dept  of statistics 
university of warwick 
walley  p          statistical reasoning with imprecise probabilities  chapman and hall 
williams  p  m          indeterminate probabilities  in przelecki  m   szaniawski  k    
wojciki  e   eds    formal methods in the methodology of empirical sciences  pp 
       
wilson  n     moral  s          a logical view of probability  in proc    th european
conference on artificial intelligence  ecai      pp       
wolf  g          obere und untere wahrscheinlichkeiten  doctoral dissertation  eidgenossischen technischen hochschule  zurich   diss  eth       

  

fi