journal artificial intelligence research                

submitted        published     

logic reasoning upper probabilities
joseph y  halpern
riccardo pucella

halpern cs cornell edu
riccardo cs cornell edu

department computer science
cornell university
ithaca  ny      
http   www cs cornell edu home halpern

abstract
present propositional logic reason uncertainty events 
uncertainty modeled set probability measures assigning interval probability
event  give sound complete axiomatization logic  show
satisfiability problem np complete  harder satisfiability propositional
logic 

   introduction
various measures exist attempt quantify uncertainty  many trained use
probability theory  probability measures obvious choice  however  probability
cannot easiliy capture certain situations interest  consider simple example  suppose
bag     marbles  know    red know remaining   
either blue yellow  although know exact proportion blue yellow 
modeling situation pick ball bag random  need
assign probability three different events  picking red ball  red event   picking
blue ball  blue event   picking yellow ball  yellow event   clearly assign
probability    red event  clear probability assign blue event
yellow event 
one way approach problem represent uncertainty using set probability measures  probability measure possible proportion blue yellow
balls  instance  could use set probabilities p                
gives red event probability     blue event probability   yellow event probability
     set probabilities p assign pair functions  upper lower
probability measure  event x give supremum  respectively  infimum 
probability x according probability measures p  measures
used deal uncertainty manner described above  lower upper
probability event defines range probability event    this example
viewed giving frequentist interpretation upper probabilities  upper probabilities
given subjective interpretation  example  considering odds
someone would willing accept reject bet  smith        walley         
   note using sets probability measures way model situation  alternative
approach  using inner measures  studied fagin halpern        

c
    
ai access foundation morgan kaufmann publishers  rights reserved 

fihalpern   pucella

given measure uncertainty  one define logic reasoning it  fagin 
halpern megiddo         fhm on  introduce logic reasoning
probabilities  possible worlds semantics assigns probability possible
world  provide axiomatization logic  prove sound complete
respect semantics  show satisfiability problem logic 
somewhat surprisingly  np complete  hence harder satisfiability problem
propositional logic  moreover show logic extended notions
uncertainty  inner measures  fagin   halpern        dempster shafer belief
functions  shafer        
paper  describe logic reasoning upper probability measures  along
lines fhm logic  logic allows reasoning linear inequalities involving
upper probabilities measures  logics considered fhm  logic agnostic
interpretation upper probabilities  whether frequentist subjectivist 
main challenge derive provably complete axiomatization logic  this 
need characterization upper probability measures terms properties
expressed logic  many semantic characterizations upper probability measures
proposed literature  characterization anger lembcke        turns
best suited purposes  even though reasoning potentially
infinite sets probability measures  satisfiability problem logic remains npcomplete  intuitively  need guess small number probability measures satisfy
given formula  polynomially many size formula  moreover  probability
measures taken defined finite state space  polynomial size
formula  thus  need basically determine polynomially many valuesa value
probability measure stateto decide satisfiability formula 
rest paper structured follows  section    review required
material probability theory theory upper probabilities  section   
present logic axiomatization  section    prove axiomatization
sound complete respect natural semantic models expressed terms upper
probability spaces  finally  section    prove decision problem logic
np complete  proofs new  technical results given appendix a 
make paper self contained  review anger lembckes results appendix b 

   characterizing upper probability measures
start brief review relevant definitions  recall probability measure
function          algebra subsets  that closed
complements unions   satisfying                  a b     a     b 
disjoint sets a  b    probability space tuple         set 
algebra subsets  the measurable sets   probability measure defined
  given set p probability measures  let p upper probability measure defined
   infinite  could require  algebra  i e   closed countable unions 
countably additive  requiring countable additivity would affect results  since show
take finite  ease exposition  required it 

  

fia logic reasoning upper probabilities

p  x    sup  x    p  x    similarly  p  x    inf  x    p 
lower probability x   straightforward derivation shows relationship
p  x     p  x  holds upper lower probabilities  x complement
x   duality  restrict discussion upper probability measures
paper  understanding results lower probabilities similarly
derived  finally  upper probability space tuple      p  p set probability
measures  
would set properties completely characterizes upper probability measures  words  would set properties allow us determine
function f   r  for algebra subsets   upper probability measure 
is  whether exists set p probability measures x  
p  x    f  x   
one approach characterization upper probability measures adapt
characterization dempster shafer belief functions  functions known
lower envelope probability measures dominate them  thus form subclass
class lower probability measures  duality noted earlier  characterization
lower probability measures would yield characterization upper probability measures 
characterization belief functions derived generalization following
inclusion exclusion principle probabilities  obtained replacing equality
inequality  
 

n
 

n
x
   i   

ai    

i  

i  

x

 

j        n 
 j  i

 

aj    

jj

seems reasonable characterization lower  or upper  probability measures
could derived along similar lines  however  well known  properties derivable
inclusion exclusion principle  which include properties reported
literature  insufficient characterize upper probability measures  huber        p      
walley        p      give examples showing insufficiencies properties 
give sense insufficiency simple properties  consider following inclusionexclusionstyle properties  taken  walley         simplify
statement properties  let p     p p      p  
p p

    p  a    ni    i  i    i   p       ji aj   
    p  a   

pn p
i  

 i  i    

i   p    i    



ji

aj   

    p  a b    p  a b  p  a    p  b  p  a b    p  a b  
   literature  term upper probability sometimes used restricted sense here 
example  dempster        uses term denote class measures later characterized
dempster shafer belief functions  shafer         belief functions fact upper probability measures
sense  converse true  kyburg         measure theory literature  call
upper probability measures special case upper envelopes measures  defined
sup sets general measures  probability measures 
   possible define notion upper probability arbitrary set subsets   necessearily
algebra  simply requiring f coincides p domain  set p probability
measures  see walley        details 

  

fihalpern   pucella

    p  a    p  b  p  a b    p  a b  p  a    p  b  
    p  a    p  b  p  a b    p  a b  p  a    p  b  
note without alternation upper probabilities lower probabilities 
        would standard notions subadditivity superadditivity  respectively  subadditivity superadditivity hold upper lower probabilities 
respectively          stronger properties  easily verified five properties
hold upper probability measures  question whether completely characterize
class upper probability measures  show inherent incompleteness
properties proving derivable following simple property 
insufficient characterize upper probability measures 
    b     p  a    p  b  p  a b  p  a    p  b  
proposition      property     implies properties         
observe property     already given walley        p       properties  d 
 e   following example shows insufficiency property      let p set
probability measures                     a  b  c  d   with containing subsets
  defined singletons
   b   

 
 

   c   

 
 

   d   

 
 

   a         b   

 
 

   c   

 
 

   d   

 
 

 
 

   c     

   d   

 
 

   a   

 
 

   a   

 
 

   b   

   a   

 
 

   b         c   

 
 

   d        

extended additivity   defines upper probability measure p
  consider function          defined

p  x    x    a  b  c 
 x   
p  x 
otherwise 
claim function   small enough      satisfies property      cannot
upper probability measure 
proposition                 function satisfies property     
upper probability measure  is  cannot find set p   probability measures
   p      
example clearly illustrates need go beyond inclusion exclusion principle
find properties characterize upper probability measures  turns out  various
complete characterizations described literature  lorentz        huber 
            williams        wolf        giles        anger   lembcke        walley        
characterizations obtained considering upper lower expectations 
rather working directly upper lower probabilities  anger lembcke       
  

fia logic reasoning upper probabilities

give characterization terms upper lower probabilities  since characterization
particularly well suited logic presented next section  review here 
characterization based notion set cover  set said covered
n times multiset   a               sets every element appears least
n sets a              x a  exists distinct i                        m 
j n  x aij   important note   a               multiset  set  ai necessarily distinct   we use       notation denote
multisets    n  k  cover  a    multiset   a               covers k times
covers n   k times  example                           covers             times 
                                           cover                  
notion  n  k  cover key concept anger lembckes characterization
upper probability measures 
theorem       anger   lembcke        suppose set  algebra subsets
    r  exists set p probability measures   p
satisfies following three properties 
up          
up          
up   natural numbers m  n  k subsets a p
              a              
 n  k  cover  a     k   n a 
i    ai   
proof  reproduce proof result appendix b 
note up  redundant presence up  up   indeed        
       cover       applying up  yields              since up  states
        means         consequence up  b 
 a   b   since   b          cover  a     therefore     a         
need strengthen theorem     order prove main result paper 
namely  completeness axiomatization logic introduce next section 
show cardinality state space finite  need finitely
many instances property up   notice cannot derive theorem    
alone  even    finite  up  provide bound m  number sets
consider  n  k  cover set a  indeed  seem priori reason
value m  n  k bounded  bounding value  and hence n
k  since larger m  one key technical results paper 
necessary foundation work 
theorem      exist constants b    b          finite set 
algebra subsets     r  exists set p probability measures
  p satisfies following properties 
upf          
upf          
upf   integers m  n  k b   sets a    p
            a              
 n  k  cover  a     k   n a 
i    ai   
  

fihalpern   pucella

property upf  significantly weaker up   principle  checking up 
holds given function requires checking holds arbitrarily large collections
sets  even underlying set finite  hand  upf  guarantees
finite  fact sufficient look collections size b     observation
key completeness result 
theorem     prescribe values constants b    b            indeed 
proof found appendix relies ramsey theoretic argument even
provide bound bi s  could certainly attempt obtain bounds 
obtaining completely unnecessary purposes  get completeness
axiomatization logic introduced next section  sufficient exist
finite constants b    b           

   logic
syntax logic straightforward  taken fhm  fix set    
 p    p            primitive propositions  set propositional formulas closure
    assume special propositional formula true  abbreviate
true false  use p represent primitive propositions  represent
propositional formulas  term expression form   l         k l k   
            k reals k    basic likelihood formula statement form  
term real  likelihood formula boolean combination basic
likelihood formulas  use f g represent likelihood formulas  use obvious
abbreviations needed  l   l   l        l   a  l   l  
l   l      l   l   a  l      l   a  l    
 l   a   l   a   define length  f   likelihood formula f number
symbols required write f   coefficient counted one symbol  let lqu
language consisting likelihood formulas   the qu stands quantitative uncertainty 
name logic taken  halpern         
fhm  operator l interpreted either probability belief  in sense
dempster shafer   first interpretation  formula l     l      
would intereted probability plus probability least     
interpret l upper probaiblity  thus  logic allows us make statements
inequalities involving upper probabilities 
capture interpretation  assign semantics formulas lqu using upper
probability space  defined section    formally  upper probability structure
tuple        p         p  upper probability space associates
state  or world  truth assignment primitive propositions     thus 
 s  p   true  false  p     let   p  m    s    s  p    true  
call measurable p       p  m measurable  measurable
    m measurable propositional formulas   paper  restrict attention
measurable upper probability structures  extend  s  truth assignment
propositional formulas standard way  associate propositional formula
set     m    s    s      true   easy structural induction shows     m

  

fia logic reasoning upper probabilities

measurable set         p     let
     l         k l k   iff   p        m       k p    k   m  
   f iff     f
   f g iff    f    g 
note lqu express lower probabilities  follows duality upper
lower probabilities    l     iff p      m     
consider following axiomatization axup upper probability  prove sound
complete next section  key axioms simply translation lqu
characterization upper probability given theorem      fhm  axup divided
three parts  dealing respectively propositional reasoning  reasoning linear
inequalities  reasoning upper probabilities 
propositional reasoning
taut  instances propositional tautologies lqu  see below  
mp  f f   g infer g 
reasoning linear inequalities
ineq  instances valid formulas linear inequalities  see below  
reasoning upper probabilities
l   l false      
l   l true      
l   l     
w
v
l   l         l m   nl   k j        m    j  k n jj j
w
v
 
j        m    j  k jj j propositional tautologies 
l   l     l   propositional tautology 
difference axup axiomatization reasoning probability
given fhm axiom l      l      l   fhm  expresses
additivity probability  replaced l   although may immediately
obvious  l  logical analogue sup   see this 
first note   a              
covers


times






j        m    j  n jj aj   thus  formula
w
v

says


 more
j        m    j  k n jj j
wprecisely  setvof worlds true 
covered k  n times               n     j        m    j  k jj j says whole
space covered k times               n     roughly speaking  multiset               n   
 n  k  cover    true   conclusion l  thus corresponds conclusion
   another approach  keeping fhm  would interpret l lower probability measure 
hand  interpreting l upper probability measure keeping literature
upper probabilities 
   note that  according syntax lqu               must propositional formulas 

  

fihalpern   pucella

up   note way up  follows up  up   axiom l   as
well l   follows l  l  
instances taut include formulas form f f   f arbitrary
formula lqu   could replace taut simple collection axioms characterize
propositional reasoning  see  example   mendelson          chosen focus
aspects reasoning upper probability 
fhm  axiom ineq includes valid formulas linear inequalities 
inequality formula formula form a  x      xn c  variables x            xn  
inequality formula said valid true every possible assignment real
numbers variables  get instance ineq  replace variable xi occurs
valid inequality formula primitive likelihood term form l i    naturally
occurence variable xi must replaced primitive likelihood term l i    
taut  replace ineq sound complete axiomatization boolean
combinations linear inequalities  one axiomatization given fhm 

   soundness completeness
formula f provable axiom system ax f proven using axioms
rules inferences ax  ax sound respect class structures every
formula provable ax valid  i e   valid every structure m   ax complete
respect every formula valid provable ax 
goal prove axup sound complete axiomatization reasoning
upper probability  i e   respect upper probability structures   soundness
axup immediate earlier disscussion  completeness is  usual  harder  unfortunately  standard technique proving completeness modal logic  involves
considering maximal consistent sets canonical structures  see  example   popkorn 
       work  briefly review approach  point difficulties 
standard approach uses following definitions  formula consistent
axiom system ax provable ax  finite set formulas              n  
consistent ax formula   n consistent ax  infinite set
formulas consistent ax finite subsets consistent ax  f
maximal ax consistent set f consistent ax strict superset f
consistent ax  ax includes taut mp  hard show  using
propositional reasoning  every ax consistent set formulas extended
maximal ax consistent set 
show ax complete respect class structures  must show
every formula valid provable ax  this  sufficient show
every ax consistent formula satisfiable structure m  typically 
done constructing called canonical structure c whose states
maximal ax consistent sets  showing formula satisfied world w
c iff one formulas canonical set associated world w 
unfortunately  approach cannot used prove completeness here  see this 
consider set formulas
f      l  

 
  n                  l        
n
  

fia logic reasoning upper probabilities

set clearly axup consistent according definition  since every finite subset
satisfiable upper probability structure axup sound respect upper
probability structures  thus extended maximal axup consistent set f  
however  set f   formulas satisfiable  possible assign l   value
satisfy formulas time  hence  f satisfiable  thus 
canonical model approach  least applied naively  simply work 
take different approach here  similar one taken fhm  try
construct single canonical model  course  still must show formula f
axup  consistent satisfiable upper probability structure 
explicit construction  depending f   proceed follows 
simple argument  easily reduce problem case f
conjunction basic likelihood formulas negations basic likelihood formulas  let
n
p            pn primitive propositions appear f   observe   
inequivalent propositional formulas p            pn   argument goes follows  let
atom p            pn formula form q        qn   qi either pi pi  
clearly  n atoms p            pn   moreover  easy see formula
n
p            pn written unique way disjunction atoms    
disjunctions  claim follows 
continuing construction structure satisfying f   let               n
canonical listing inequivalent formulas p            pn   without loss generality  assume   equivalent true    n equivalent false  since every propositional formula p            pn provably equivalent   follows
f provably equivalent formula f   conjunct f   form
  l           n l   n     note negation formula form
  l           n l   n     or  equivalently      l            n  l   n      
thus  formula f gives rise natural way system inequalities form 
    l             n l   n  
   
r   l         r   n l   n  
  l         
   
 
n l   n  
    
  
 
 
s   l            n l   n  
s  

 
  
  
 
 
r
   
  
  
 
 
   

   

express     conjunction inequality formulas  replacing occurrence
l i       xi   call inequality formula f  
f satisfiable upper probability structure   take xi
upper probability   gives solution f   however  f may solution
without f satisfiable  example  f formula l p        l p      
f obvious solution  f   however  satisfiable upper probability structure 
upper probability set corresponding p upper probability
set corresponding p must sum least   upper probability structures  thus 
must add constraints solution force act upper probability 
up up  or  equivalently  axioms l l   describe exactly additional constraints needed  constraint corresponding l   or up   x       since
  

fihalpern   pucella

assumed   formula false  similarly  constraint corresponding l 
n
x  n      constraint corresponding l  xi                     
l   seems require infinite collection constraints  up  does  
upf  comes play  turns that  f satisfiable all 
satisfiable structure  n worlds  one atom p            pn  
thus  need add instances l  k  m  n   b n              
among               n   although large number formulas  in fact  know
exactly large  since depends b n   computed   suffices
purposes finite number  instances l   inequality
form a  x      a  n x  n k  let f  inequality formula corresponding f  
conjunction consisting f   together inequalities corresponding
relevant instances l   equations inequalities x       x  n      xi  
n
                  corresponding axioms l l  
proposition      formula f satisfiable upper probability structure iff
inequality formula f solution  moreover  f solution  f satisfiable
upper probability structure   f   worlds 
theorem      axiom system axup sound complete upper probability structures 
proof  soundness  easy see every axiom valid upper probability
structures  including l   represents up  
completeness  proceed discussion above  assume formula f
satisfiable upper probability structure  must show f axup inconsistent 
first reduce f canonical form  let g  gr disjunctive normal form
expression f  where gi conjunction basic likelihood formulas
negations   using propositional reasoning  show f provably equivalent
disjunction  since f unsatisfiable  gi must unsatisfiable  thus  sufficient
show unsatisfiable conjunction basic likelihood formulas negations
inconsistent  assume f conjunction  using propositional reasoning axiom
n
l   f equivalent likelihood formula f   refers    propositional formulas  say
              n   since f unsatisfiable  f     proposition      inequality formula
f  corresponding f   solution  thus  ineq  formula f    results
replacing instance xi f  l i   axup provable  conjuncts f   
instances axioms l l  axup provable  follows f   axup provable 
hence f  

   decision procedure
settled issue soundness completeness axiom system axup  
turn problem complexity deciding satisfiability  recall problem
   although dealing finitely many formulas here                n   recall formulas
            l  need distinct  potentially infinitely many instances l  deal
with 

  

fia logic reasoning upper probabilities

satisfiability  given likelihood formula f   want determine exists upper
probability structure    f   show  satisfiability problem
np complete  thus harder satisfiability propositional logic 
decision problem make sense  need restrict language slightly 
allow real numbers coefficients likelihood formulas  carefully discuss
issue representation numbers  avoid complications  restrict
language  in section  allow integer coefficients  note still express
rational coefficients standard trick clearing denominator  example 
express    l      l     l       l      recall defined
 f   length f   is  number symbols required write f  
coefficient counted one symbol  define   f    length longest coefficient
appearing f   written binary  size rational number ab   denoted    ab    
b relatively prime  defined   a       b   
preliminary result required analysis decision procedure shows
formula satisfied upper probability structure  satisfied structure
     p     small terms number states   cardinality
set p probability measures  size coefficients f  
theorem      suppose f likelihood formula satisfied upper probability
structure  f satisfied structure      p         f           every
subset measurable    p   f     w  rational number    w   
o  f      f       f    log  f     every world w p   w  p    false every
world w every primitive proposition p appearing f  
theorem      problem deciding whether likelihood formula satisfiable
upper probability structure np complete 
proof  lower bound  clear given propositional formula satisfiable iff
likelihood formula l       satisfiable  therefore satisfiability problem np hard 
upper bound  given likelihood formula f   guess small satisfying structure
       p    f form guaranteed exist theorem      describe
model size polynomial  f     f      the fact  w  p    false
every world w every primitive proposition p appearing f means
must describe propositions appear f    verify    f follows 
let l   arbitrary likelihood term f   compute     m checking truth
assignment seeing whether
p truth assignment makes true 
replace occurence l   f maxp   s    m  s   verify resulting
expression true 

   conclusion
considered logic syntax logic reasoning probability  inner measures  belief presented fhm  uncertainty interpreted upper
probability set probability measures  interpretation  provided
sound complete axiomatization logic  showed satisfiability problem np complete  as reasoning probability  inner measures 
  

fihalpern   pucella

beliefs   despite deal probability structures possibility infinitely many
states infinite sets probability measures  key step axiomatization involves
finding characterization upper probability measures captured logic 
key step complexity result involves showing formula satisfiable all 
satisfiable small structure  size state space  well size
set probability measures size probabilities involved  polynomial
length formula 
given similarity spirit results various interpretations uncertainty operator  as probability  inner measure  belief function  upper probability  
including fact complexity decision problem np complete cases 
conjecture underlying result results follow 
would interesting make precise 
fhm  conditional probabilities well probabilities investigated  not 
paper  discussed conditional upper probabilities  main reason that 
unlike probability  cannot characterize conditional upper probabilities terms  unconditional  upper probabilities  thus  results really tell us nothing conditional
upper probabilities  might interest consider logic allows conditional upper probabilities primitive likelihood terms  that is  allows likelihood terms form
l        intrinsic difficult giving semantics language  far
clear appropriate axiomatization would be  effect extension
complexity 
finally  worth noting semantic framework developed fhm
fact rich enough talk gambles  that is  real valued functions set
states  expectation gambles  expectation functions defined
different measures uncertainty  including upper probabilities  difficult
extend fhm logic order reason expectation  one advantage working
expectation functions typically easier characterize corresponding
measures  instance  characterization expected upper probabilities much simpler
upper probabilities  huber        walley               however  getting
complete axiomatization quite nontrivial  refer reader  halpern   pucella 
      details subject  remark wilson moral        take
starting point walleys notion lower upper previsions  consider
acceptance one set gambles implies acceptance another gamble  since acceptance
involves expectation  cannot expressed logic considered paper  however 
expressed easiliy logic  halpern   pucella        

acknowledgments
preliminary version paper appears uncertainty artificial intelligence  proceedings seventeenth conference        thanks dexter kozen  jon kleinberg 
hubie chen discussions concerning set covers  vicky weissman read draft paper
provided numerous helpful comments  thank anonymous uai jair
reviewers useful comments suggestions  work supported part
nsf grants iri          iis          onr grants n              

  

fia logic reasoning upper probabilities

    n                 n                 first author supported part
guggenheim fulbright fellowship sabbatical leave  sabbatical support
cwi hebrew university jerusalem gratefully acknowledged 

appendix a  proofs
proposition      property     implies properties         
proof  introduce following auxiliary properties help derive implications 
    p  a    p  b  p  a b    p  a b  
    p  a    p  b  p  a b    p  a b  
    p  a b    p  a b  p  a    p  b  
     b    
p  a    p  b  p  a b  p  a    p  b  p  a b  p  a    p  b  
using properties  show following chain implications 

          

                
                
                

                    

implication                     follows easily mutual induction n 
base case following instances properties          p  a b  p  a    p  b 
p  a b  p  a b  p  a    p  b  p  a b   details left reader 
prove remaining implications 
           since     already one inequalities      remains show
implies inequality      is  p  a  p  b  p  ab  p  ab  
p  a b    p  a b      p  a b      p  a b 
    p  a b      p  a b 
     p  a b    p  a b  
     p  b a    p  b a  
   p  b    p  a  
    p  b      p  a 
  p  b    p  a  

  

fihalpern   pucella

           since     already one inequalities      remains show
implies inequality      is  p  ab  p  ab  p  a  p  b  
p  a    p  b      p  a      p  b 
     p  a    p  b  
   p  a b    p  a b  
    p  a b      p  a b 
    p  a b      p  a b 
  p  a b    p  a b  
           since     already one inequalities      remains show
implies inequality      is  p  ab  p  ab  p  a  p  b  
p  a    p  b      p  a      p  b 
     p  a    p  b  
   p  a b    p  a b  
    p  a b      p  a b 
    p  a b      p  a b 
  p  a b    p  a b  
next implications  given a  b  let z   b 
           
p  a b    p   a z  b 
p  a z    p  b 

 since  a z  b    

p   a z  z  p  z    p  b 
  p  a    p  b  p  a b  
           
p  a b    p   a z  b 
p  a z    p  b 
p   a z  z  p  z    p  b 
  p  a    p  b  p  a b  
           
p  a b    p   a z  b 
p  a z    p  b 
p   a z  z  p  z    p  b 
  p  a    p  b  p  a b  
  

fia logic reasoning upper probabilities

            again  since     already comprises two inequalities      
remains show implies two  is  b    
p  a    p  b  p  a b  p  a    p  b  
first  show p  a    p  b  p  a b   using      know
p  a b    p  a  p   a b  a    p  b  
words  p  a b  p  b    p  a   this  derive
p  a b      p  a b 
    p  a b 
   p  b  p  a  
    p  b    p  a 
  p  b    p  a  
second  show p  a b  p  a    p  b   using      know
p  a b    p  a  p   a b  a    p  b  
 the last equality follows fact  a b    b b     
words  p  a b  p  b  p  a   this  derive
p  a b      p  a b 
    p  a b 
   p  b  p  a  
    p  b    p  a 
  p  b    p  a  
proposition                 function satisfies property     
upper probability measure  is  cannot find set p   probability measures
   p      
proof  given            easy check mechanically satisfies     
show set p      p       way contradiction 
assume p     properties sup  means p  
  a  b  c          since   a  b  c                 consider detail  since p 
must x   x     a  b  c    x   p      x    p  x   particular 
  a  b      b  c      a  c        therefore 
 
  a  b       b  c       a  c    
 

   

however  standard properties probability  follows
  a  b       b  c       a  c        a  b  c      
  

 
 
   
 
 

fihalpern   pucella

contradicts      therefore    therefore p   cannot exist  upper
probability measure 
theorem      exists constants b    b          algebra subsets
function   r  exists set p probability measures
  p satisfies following properties 
upf          
upf          
upf   integers m  n  k b   sets a    p
            a              
 n  k  cover  a     k   n a 
i    ai   
proof  view theorem      need show exist constant b    b         
function satisfies up  iff satisfies upf   clearly  up  always implies
upf   sufficient show exists b    b          upf  implies
up  
need terminology proceeding  exact  n  k  cover  a    cover
c property every element appears exactly n   k sets c 
every element appears exactly k sets c  thus   n  k  cover  a   
many extra sets  long sets cover least n   k times k times 
exact cover necessary sets  right total number elements 
exact  n  k  cover c  a    decomposable exists exact  n    k    cover c 
exact  n    k    cover c   a    c  c  form nontrivial partition c 
n   n    n  k   k    k    intuitively  exact cover c decomposable
split two exact covers  follows easily induction exact  n  k cover  exists  not necessarily unique  finite set nondecomposable exact covers
c            cm
pm ni   ki   cover  ci nontrivial partition c
p  mwith ci exact
n   i   ni k   i      if c nondecomposable  take    
c    c   one easily verify c exact  n  k  cover  a    c   c
exact  n    k     cover  a    n    k     n   k  c decomposable 
following lemma highlights important property exact covers
perspective  says set   cannot large nondecomposable
exact cover  a    
lemma a    exists sequence b     b     b             every exact
 
 
 n  k  cover  a    n   b  
k   b  
decomposable 
proof  clearly sufficient show finite find b  
required properties  fix   given   first show exists na
n   na k   na   every exact  n  k  cover  a    decomposable  suppose
sake contradiction case  means find infinite
sequence c    c          ci nondecomposable exact  ni   ki   cover  a    
either n    n          k    k           
derive contradiction  use following lemma  known dicksons lemma
 dickson        
  

fia logic reasoning upper probabilities

lemma a    every infinite sequence d dimensional vectors natural
numbers contains monotonically nondecreasing subsequence pointwise
ordering  where x pointwise ordering iff xi yi i  
proof  straightforward prove induction k k d 
every infinite sequence vectors x    x          contains subsequence xi    xi         
xij    xij          nondecreasing sequence natural numbers
j k  base case immediate observation every infinite
sequence natural numbers contains nondecreasing subsequence 
inductive step  observe xi    xi          subsequence xij    xij         
nondecreasing sequence natural numbers j k  sequence
 
 
xik  
  xik  
        natural numbers must nondecreasing subsequence 
determines subsequence original sequence appropriate property
j k     
let s            s    arbitrary ordering     subsets   associate
c
c
cover c      dimensional vector xc    xc
            x       xi number
times subset si appears multiset c  key property association
 
c   c multisets  c   c iff xc xc pointwise ordering 
consider sequence vectors xc    xc          associated sequence c    c         
nondecomposable exact covers  a     lemma a    nondecreasing subsequence vectors  xci  xci    means ci  ci    since
n    n          k    k            every cover chain must distinct  pair
exact covers chain ci ci     meaning ci   decomposable  contradicting assumption  therefore  must exist na exact  n  k  cover
n   na k   na decomposable 
 
  max na                     easy see choice
define b  
works 
    n                 b  
get constants b    b            let bn    n bn
n
lemma a    show upf  implies up  choice b    b           
assume upf  holds  fix   suppose c     a     p
          n  k  cover
 a     c    m  want show k   n a 
i    ai    proceed
follows 
first step show that  without loss generality  c exact  n  k  cover
 a     let bi consist states ai either appears
n   k sets a            ai  appears k sets
a            ai    let a i   ai bi   let c       a             a m     easy check c  
exact  n  k  cover  a     a  appears exactly n   k sets c    it
appears a j iff aj among first n   k sets c appeared  and  similarly 
a  appears exactly k sets c     clearly up  holds c    
holds c  since  a i    ai                m  thus  assume without loss
generality c exact  n  k  cover a 
assume without loss generality set c empty  otherwise 
simply remove empty sets c  resulting set still  n  k  cover
 a      two cases consider  max m  n  k  b     desired result

  

fihalpern   pucella

follows upf   not  consider decomposition c multisets c            cp  
ch exact  nh   kh   cover  a    decomposable  claim
max  ch    nh   kh   b   h              p  nh   b   kh   b    
immediate lemma a   ch decomposed  contradicting
fact
p
ch decomposable   ch     b     observe xch  x   ch   
    must appears least  b  
since  ch     b        b  
  
  k   b    
sets ch   since ch exact  nh   kh   cover  follows either nh   b  
h
  
then  lemma a    ch decomposable  contradiction 
apply upf  c            ck get
x
 x  nh  a  kh  
xch

since ch form decomposition c 


p
p
x
x
x


kh
 x  nh  x 
xch

h  





p
x
h  




x

p
p
x
x
 ai    
nh   a 
kh

i  

pp

h  





x

xch

 x 

p
x

h  

decomposition  n   h   nh k  
showing up  holds  desired 

nh  a 

h  

p
x

kh

h  

h  

pp

h   kh  

therefore

pm

i    ai   n a 

k 

proposition      formula f satisfiable upper probability structure iff
inequality formula f solution  moreover  f solution  f satisfiable
upper probability structure   f   worlds 
proof  assume first f satisfiable  thus upper probability structure
       p       f   section    let p            pn primitive propositions appear f   let               n canonical listing inequivalent
formulas p            pn   without loss generality  assume   equivalent
true    n equivalent false  define vector x letting xi   p    i   m   
n
       since    f   immediate x solution inequality
 n

formula f   moreover  since     false  
  true  follows x       since
p    false  m     p         x n      since p    true  m     p          final 
ly  consider conjunct f corresponding instance l   suppose form
xi    xw
since conjunct appears
f  must case
im nxim   k  v
w
v
 im   j        m    j  k n j        m   jj ij      j  k jj ij   propositional tautology  thus  follows   i    m             im   m  n  k  cover    im     m     true  m   
follows up 
p    i    m       p    im   m   np      m   k 
  

fia logic reasoning upper probabilities

thus  x solution inequality formulas corresponding l   hence  x solution
f 
converse  assume x solution f  construct upper probability
structure    s  e  p       f follows  let p            pn primitive
propositions appearing f   let                 n   atoms p            pn   let e
set subsets s  observed earlier  every propositional formula p            pn
equivalent unique disjunction atoms  thus  get canonical collection
              n inequivalent formulas p            pn identifying formula
different element e    corresponds empty set   n corresponds
s  define set function taking   i            ij      xi disjunction
atoms i            ij   let        true iff  
sufficient show upper probability  of set p probability
measures   since clear  s  e  p       f  since x solution f  system
inequalities derived formula f    this  theorem      suffices verify
upf   upf   upf   using b n upf   since  s     n  
upf        x      
upf    s    x n     
 

upf   suppose a            e satisfy premises property upf   k  m  n b n   let i            im   im   canonical
a            amw  a  respectively  clearly 

v
formulas corresponding

iff







m  
j
j      
j        m    j  k n jj
 m    j  k n tjj j
propositional tautology similarly j        m    j  k jj aij iff
w
v
pm
j        m    j  k jj ij propositional tautology  thus 
j   xij

x
k one inequality formulas f   thus  follows
pim  



k  desired  definition   therefore
j   xij xip
m  
k   n a 
i    ai    upf  holds 
theorem      suppose f likelihood formula satisfied upper probability
structure  f satisfied structure      p         f           every
subset measurable    p   f     w  rational number    w   
o  f      f       f    log  f     every world w p   w  p    false every
world w every primitive proposition p appearing f  
proof  first step proof involves showing p set probability measures
defined algebra finite space   assume without loss generality
set x   probability measure x p x  x    p  x 
 rather p  x  sup  x  p  
lemma a    let p set probability measures defined algebra finite set
  exists set p   probability measures that  x   p  x   
 p      x   moreover  probability measure x p   x  x    p  x  
addition  interpretation          p           p       
likelihood formulas f      f iff      f  

  

fihalpern   pucella

proof  since finite  show p   exists  clearly suffices show that 
x   probability measure x x  x    p  x  and  p     p  x   
p  y      p      y    
given x  exists p  x    p  x   done  otherwise 
construct sequence               probability measures p limi  x   
p  x  and    sequence  y   converges limit  let x            xn
enumeration sets   x    x  inductively construct sequence
measures m    m          p n mi  xj   converges limit k
limi mi  x    p  x        know must sequence                
measures p  i  x  converges p  x   inductive step    n 
suppose constructed appropriate sequence m    m            consider sequence
real numbers mi  xm      using bolzano weierstrass theorem  rudin         which
says every sequence real numbers convergent subsequence   sequence
convergent subsequence  let  m        m             subsequence m    m         
generates convergent subsequence  sequence probability measures clearly
required properties  completes inductive step 
define x  y     limi ni  y    easy check x indeed probability
measure  x  x    p  x   p     p  x    p  y      p      y  
  shows appropriate set p   exists 
now  given   let        p             p        straightforward induction
structure f shows    f iff      f   base case 
     p       a  l         l n  
a  p        m       p    n   m  
a   p            m          p        n   m    
     p          a  l         l n   a 
others cases trivial 
fhm  prove theorem      make use following lemma
derived cramers rule  shores        simple estimates size
determinant  see  chvatal        simpler variant  
lemma a    system r linear equalities and or inequalities integer coefficients
length l nonnegative solution  nonnegative solution
r entries positive  size member solution o rl  r log r   
continuing proof theorem      suppose f satisfiable upper
probability structure  proposition      system f equality formulas solution 
f satisfied upper probability structure finite state space  thus  lemma a    f satisfied structure        p    x   exists
x p x  x    p  x  
completeness proof  write f disjunctive normal form  disjunct
g conjunction  f     basic likelihood formulas negations  since
   f   must disjunct g    g  suppose g conjunction
r basic likelihood formulas negations basic likelihood formulas  let p            pn
  

fia logic reasoning upper probabilities

primitive formulas appearing f   let              n atoms p            pn  
proof completeness  derive system equalities inequalities g 
slightly complicated system  however  recall propositional formula
p            pn disjunction atoms  let             k propositional formulas
appear g  notice k    f    since symbols f   coefficients 
propositional formulas   system equations inequalities
construct involve variables xij                k j               n   intuitively  xij
represents   i   m     j   m      i   m p   i   m    i   m     p    i   m    thus 
system includes k    f   equations following form 
xi      xi n     
             k  since   i   m    i   m      i   m   p  ei subset
w
             n     jei j   system includes k   k inequalities form
x
x
xij
xi   j  
jei

i 

jei

i   

pair i 
  
conjunct g form   l        
n l k     corresponding inequalityp
where  roughly speaking  replace l i  
  i   m      m     since   i   m corresponds jei xij   appropriate inequality
k
x



i  

x

xij  

jei

negations formulas correspond negated inequality formula  before 
equivalent formula form
 

k
x
i  



x

xij      

jei

notice  f   inequalities corresponding conjuncts g  thus 
altogether  k k        f      f    equations inequalities
system  since k    f     know system nonnegative solution  taking
xij   i   m     j   m     follows lemma a   system solution
x    x             x  n           xk            xk n    f    entries positive  entry
size o  f      f       f    log  f     
use solution construct small structure satisfying formula f   let  
 i   xij positive  j   suppose    i            it     t  t  let
   s  e  p    t  states  say s            st    e consists subsets s  let
 sh   truth assignment corresponding formula ih   is   sh   p    true
ih p  and  sh   p    false p appear f    define
p    j     k   j  sh     xih j   clear construction    f  
since  p    k    f     s    t   f    j  sh     xih j   where  construction  size
xih j o  f      f       f    log  f      theorem follows 
   simplicity here  implicitly assuming formulas appears conjunct
g  without loss generality  since appear  put in  taking     

  

fihalpern   pucella

appendix b  proof characterization upper probabilities
make paper self contained  appendix give proof theorem     
proof give essentially anger lembcke         walley        gives
alternate proof along somewhat similar lines  note functional g define
proof corresponds construction walleys natural extension theorem 
needed version result 
theorem      suppose set  algebra subsets     r 
exists set p probability measures   p satisfies
following three properties 
up          
up          
up   integers m  n  k subsets a           
pm     a              
 n  k  cover  a     k   n a 
i    ai   
proof  direction characterization straightforward  given p    i  ii
set probability measures  show p satisfies up  up  
up   p      sup i       sup       
up   p      sup i       sup       


up   givensa           
j        m   j  k n jj aij
j        m   j  k jj aij   ki      ni  a 
pm
p
pm
 aj    kp  ni  a 
j    aj   supi   j    aj   
pj  


 a    sup  k n  a     k n sup    a    
j




j   supi  i  aj     
j   p p
 a    required 
k   np  a   k   np  a 
p
j
j  
direction  first prove general lemma relating problem
hahn banach theorem  general definitions needed  suppose given
space w algebra f subsets w   let k vector space generated
indicator functions  x defined

  x   x
 x  x   
  x x 
x f  sublinear functional k mapping c   k r c h    c h 
  c h    h    c h      c h    h    h    sublinear functional increasing
h   implies c h   h    c h    h  k  following result formulation
well known hahn banach theorem  see  example   conway         
theorem  hahn banach   let k vector space r  let g sublinear
functional k  linear subspace k   r linear functional
 x  g x  x m  linear functional     k r
   m      x  g x  x k 
lemma b    let g   f        g w       suppose
increasing sublinear functional g k
  

fia logic reasoning upper probabilities

   g  k     g k  k f 
   g h    h   
   g       where g   identified g  w    
g upper probability measure 
proof  show g upper probability exhibiting set  x   x  
probability measures  property x  x    g x  x  y   g x     x 
probability measure x constructed application hahn banach
theorem 
given x f  define linear functional subspace generated  x
  x     g  x    claim  h  g h  h subspace  since elements
subspace form  x   two cases consider        
     x     g  x     g  x    since g sublinear  moreover      g     
g  x    x   g  x     g  x    g  x   g  x    thus      
  x     g  x   g  x     g  x   
now  hahn banach theorem  extend linear functional  
k    h  g h  h  claim  a      y     k  b 
            a   note     y   g  y     assumption      y     
 b   note       g      g w                     g       since
g       assumption  
define x  y         y    since     w        x  w          disjoint 
immediate linearity x  y       x  y     x  y      construction 
x  y   g  y     g y      x  x  x      x     g  x     g x   bottom
line  probability measure x dominated g x  x    g x  
take p    x   x    since x x  x    g x 
x  y   g x   if    x   p  x    x  x    g x   therefore  g   p  
main result follows showing construct  function satisfying
properties theorem      sublinear functional c k required properties 
suppose g   r function satisfying up  up   show discussion
theorem     text  up  up  show range g fact        psince g

satisfies up     k            km     n  k  cover
pm  k     k  ng k  i   ki  
equivalent
saying k   n k pi    ki   hence  k            km
p

k   n k
 
i   ki   k   ng k 
i   g ki    equivalently


k
 x
 
g ki   g k  
n n

   

i  

observation motivates following definition functional g   k r
     
 
 


k
 x
k
 x
g h    inf  
g ki     m  n  k n  m  n      k            km f   
 ki h  
n n
n n
i  

i  

goal show g satisfies conditions lemma b   
  

fihalpern   pucella

almost immediate definitions g increasing  h   nk  
  pm
k
  pm
 
 
i    ki h   h   n   n
i    ki h  
n
see g sublinear  note easy see using properties inf
g h    h    g h      g h     show g h    g h     first observe
definition g equivalent
 
 


x
x
inf  
g ki     n    r    k            km f  
 ki h  
i  

i  

consider first case     
 
 


x
x
g h    inf  
g ki      
 ki h
i  

  inf

 

 


x
i  

  inf

 

i  

 

 x

 ki h
g ki      



 
 


i  


x
i  

 


 x
g ki      
 ki h

i  

  g h  
     clear definition g g     g        follows
g     g    hence g      g       g       
immediate definition g g  k   g k  k f  fact
g  k     g k  follows     
immediate definition g      
h    h    since g increasing  g h  g h   h    g     since g
sublinear  g        
since conditions lemma b   satisfied  g upper probability measure 

references
anger  b     lembcke  j          infinitely subadditive capacities upper envelopes
measures  zeitschrift fur wahrscheinlichkeitstheorie und verwandte gebiete         
    
chvatal  v          linear programming  w  freeman co   san francisco  calif 
conway  j  b          course functional analysis  second edition   no     graduate
texts mathematics  springer verlag 
dempster  a  p          upper lower probabilities induced multivalued mapping 
annals mathematical statistics                 

  

fia logic reasoning upper probabilities

dickson  l  e          finiteness odd perfect primitive abundant numbers
n distinct prime factors  american journal mathematics                 
fagin  r     halpern  j  y          uncertainty  belief probability  computational
intelligence                
fagin  r   halpern  j  y     megiddo  n          logic reasoning probabilities 
information computation                  
giles  r          foundations theory possibility  gupta  m  m     sanchez  e 
 eds    fuzzy information decision processes  pp          north holland 
halpern  j  y          reasoning uncertainty  book manuscript 
halpern  j  y     pucella  r          reasoning expectation  proc  eighteenth
conference uncertainty artificial intelligence  uai       
huber  p  j          kapazitaten statt wahrscheinlichkeiten  gedanken zur grundlegung
der statistik  jber  deutsch  math  verein           
huber  p  j          robust statistics  wiley interscience 
kyburg  jr   h  e          bayesian non bayesian evidential updating  artificial intelligence             
lorentz  g  g          multiply subadditive functions  canadian journal mathematics 
              
mendelson  e          introduction mathematical logic  van nostrand  new york 
popkorn  s          first steps modal logic  cambridge university press  cambridge 
new york 
rudin  w          principles mathematical analysis  third edition   mcgraw hill 
shafer  g          mathematical theory evidence  princeton university press  princeton  nj 
shores  t          applied linear algebra matrix analysis  second edition   mcgrawhill 
smith  c  a  b          consistency statistical inference decision  journal
royal statistical society  series b          
walley  p          coherent lower  and upper  probabilities  manuscript  dept  statistics 
university warwick 
walley  p          statistical reasoning imprecise probabilities  chapman hall 
williams  p  m          indeterminate probabilities  przelecki  m   szaniawski  k    
wojciki  e   eds    formal methods methodology empirical sciences  pp 
       
wilson  n     moral  s          logical view probability  proc    th european
conference artificial intelligence  ecai      pp       
wolf  g          obere und untere wahrscheinlichkeiten  doctoral dissertation  eidgenossischen technischen hochschule  zurich   diss  eth       

  


