journal of artificial intelligence research                  

submitted       published      

a novel sat based approach to model based diagnosis
amit metodi

amitmet   cs   bgu   ac   il

department of computer science 
ben gurion university of the negev  beer sheva  israel

roni stern
meir kalech

roni   stern   gmail   com
kalech   bgu   ac   il

department of information systems engineering 
ben gurion university of the negev  beer sheva  israel

michael codish

mcodish   cs   bgu   ac   il

department of computer science 
ben gurion university of the negev  beer sheva  israel

abstract
this paper introduces a novel encoding of model based diagnosis  mbd  to boolean satisfaction  sat  focusing on minimal cardinality diagnosis  the encoding is based on a combination
of sophisticated mbd preprocessing algorithms and the application of a sat compiler which optimizes the encoding to provide more succinct cnf representations than obtained with previous
works  experimental evidence indicates that our approach is superior to all published algorithms
for minimal cardinality mbd  in particular  we can determine  for the first time  minimal cardinality diagnoses for the entire standard iscas    and   xxx benchmarks  our results open the way
to improve the state of the art on a range of similar mbd problems 

   introduction
automated diagnosis is concerned with reasoning about the health of systems  including the identification of abnormal behavior  isolation of faulty components and prediction of system behavior
under normal and abnormal conditions  as systems become large scale and more complex  their
automated diagnosis becomes more challenging  model based diagnosis  mbd  is an artificial
intelligence based approach that aims to cope with the diagnosis problem  reiter        de kleer
  williams         in mbd  a model of the system is first built  a diagnoser then observes the
system to predict its behavior by the model  discrepancies between the observation and the prediction are used as the input for a diagnosis algorithm which produces a set of possible faults that
can explain the observation  mbd has been deployed in several real world applications  including
spacecrafts  williams   nayak         satellite decision support systems  feldman  de castro  van
gemund    provan         the automotive industry  struss   price        and spreadsheets  jannach   schmitz         also  there exist several commercial mbd tools  feldman        dressler
  struss        
mbd is known to be a hard problem where algorithms have exponential runtime  exponential
in the number of components in the diagnosed system   moreover  the number of potential diagnoses for a given observation can be huge  therefore  mbd algorithms typically focus on minimal
c
    
ai access foundation  all rights reserved 

fim etodi   s tern   k alech   c odish

diagnoses  minimal subset  that do not contain other diagnoses  and minimal cardinality  that
are smallest in size  computing the first minimal diagnosis is in p   but computing the next one is
np hard  bylander  allemang  tanner    josephson         computing the minimal cardinality is
np hard  even for the first diagnosis  selman   levesque         in this work we focus on this
hard task of finding minimal cardinality diagnoses 
the study of model based diagnosis has resulted in a variety of computational and modeling
challenges  in this paper we focus on one such challenge which has received much attention over
the years  originally defined by reiter        and by de kleer and williams         this problem
aims to diagnose multiple faulty components in the so called weak fault model  which ignores the
mode of abnormal behavior of components  this problem has been extensively researched for more
than    years and a wide range of papers propose different algorithms to solve it  including a range
of papers from recent years  feldman   van gemund        williams   ragno        feldman 
provan    van gemund      a  siddiqi   huang               when addressing this challenge  it
is common practice to focus on the diagnosis of combinational logic circuits  namely  boolean
circuits where the single output of each component is determined only by the logical function of its
current input state  independent of time and with no feedback  
in the basic setting a diagnosis considers a single observation on the inputs and outputs of
the system  variations consider additional information such as probabilities on component failure 
multiple observations on the inputs and outputs of the system  and observations on internal positions
of the system  probes   in this paper we focus on the basic setting  extensions and variations are
discussed in section   
even in the basic setting  solving an mbd problem is often impractical  especially for highcardinality faults  for instance  in a system of      components  to find a minimal cardinality
diagnosis of size    a diagnosis engine must verify the absence of a diagnosis consisting of   components  there are more than      such combinations   to overcome the complexity of the problem
we consider a novel encoding to sat 
in recent years  boolean sat solving techniques have improved dramatically  todays sat
solvers are considerably faster and able to manage larger instances than yesterdays  moreover  encoding and modeling techniques are better understood and increasingly innovative  sat is currently
applied to solve a wide variety of hard and practical combinatorial problems  often outperforming
dedicated algorithms  for a survey on the state of the art in sat solving see the work by biere 
heule  van maaren  and walsh        or the draft of the forthcoming volume of the art of computer programming  knuth        
the general idea is to encode a  typically  np  hard problem instance    to a boolean formula 
   such that the solutions of  correspond to the satisfying assignments of    given the encoding 
a sat solver is then applied to solve  
sat based solutions for mbd have already been proposed  smith et al         encode a circuit 
representing each component through its clauses and add constraints for cardinality  this is the basis
for all the other sat based encodings  including the one we contribute in this paper  bauer       
introduces a tailored sat solver specifically designed to return many diagnoses  stein et al        
address diagnosis of qualitative models of physical systems with multiple fault modes  more recently  feldman et al         propose an encoding to max sat and demonstrate that off the shelf
solvers require more calls to a sat solver than the stochastic diagnosis algorithm safari  feldman
et al       a  
   

fia n ovel sat based a pproach to m odel based d iagnosis

these previous applications of sat for mbd appear to indicate that sat and max sat solvers
are doomed to perform poorly on the standard benchmarks  feldman et al          this paper proves
the contrary  our sat based approach differs from previous sat encodings in several key aspects 
first  sophisticated mbd preprocessing techniques are applied to facilitate the construction of a
carefully designed constraint model  which includes constraints that exploit unique substructures in
the diagnosed system  second  this constraint model is compiled to a corresponding cnf using a
constraint compiler called bee  metodi   codish         that simplifies constraints and generates
an encoding to cnf which significantly improves the subsequent runtime of the underlying sat
solver  lastly  a structural abstraction inspired by siddiqi and huang        is used to decompose
the diagnosis problem  such that the sat solver is only used to find top level diagnoses  and
we show a simple poly time algorithm to expand these top level diagnoses to find all minimal
cardinality diagnoses  our approach requires some preprocessing of the diagnosed system  but the
complexity of that preprocessing is a low order polynomial  and negligible  both theoretically and
empirically  compared to the cost of the actual sat solving 
we evaluated our sat based approach using two standard benchmarks  iscas     brglez 
bryan    kozminski        and   xxx  these are the standard benchmarks in the mbd literature  used extensively from the time they were made available until today  feldman   van gemund 
      feldman et al       a  siddiqi   huang              stern  kalech  feldman    provan 
      nica  pill  quaritsch    wotawa         finding minimal cardinality diagnoses for hard sets
of observations in the iscas    has been a long standing challenge in the mbd community and
used in diagnosis competitions  dxc         the iscas    systems were also used as a standard
for automatic benchmark generation  wang   provan        
we consider three known sets of observations with minimal cardinalities between      and
for the first time succeed to compute a minimal cardinality diagnosis for all observations in the
benchmark  we compare our approach to a wide collection of state of the art algorithms for mbd 
including  ha   feldman   van gemund         cda   williams   ragno         safari  feldman et al       a   hdiag  siddiqi   huang        and dcas  siddiqi   huang         results
are unequivocal  our approach outperforms the others  often by orders of magnitude  in terms of
runtime  this result is even more significant  as safari is a stochastic algorithm  known as fast 
which does not even aim to guarantee minimal cardinality  our approach  on the other hand  guarantees a minimal cardinality diagnosis and runs faster than safari 
this paper goes beyond our preliminary version of this work  metodi  stern  kalech    codish 
    a   we provide a detailed description of each of the components of our approach  we present
detailed algorithms  prove correctness  provide additional examples and present a more elaborate
experimental evaluation  in the next section we discuss additional related work  section   presents
the required background on mbd  in section   we present the standard approach to model mbd
with sat  section   is the main part of this paper in which we describe the building blocks of our tool
to find minimal cardinality diagnosis  section   describes how these building blocks are combined
into a diagnosis algorithm  comprehensive evaluation of our approach is given in section    section
  discusses the applicability of our approach in a more general setting and section   concludes 

   related work
since the late   s  the model based diagnosis problem with weak fault model has been widely
researched and a wide range of papers propose different algorithms to solve it  reiter        de kleer
   

fim etodi   s tern   k alech   c odish

  williams        feldman   van gemund        williams   ragno        feldman et al       a 
siddiqi   huang               till today it is considered a challenge as reflected by the synthetic
track in the annual dxc diagnosis competition  dxc        
many of the existing diagnosis techniques propose to apply a combination of deterministic reasoning and search algorithms  one classic approach involves a two stage process  first  it identifies
conflict sets  each of which includes at least one fault  then  it applies a hitting set algorithm to
compute sets of multiple faults that explain the observation  de kleer   williams        williams
  ragno         these methods guarantee sound diagnoses  and some of them are even complete 
however  they tend to fail for large systems due to infeasible runtime or space requirements 
an alternative method is to directly search for diagnoses by trying different assumptions on
which components are faulty  for example  the drum ii diagnosis engine finds a minimal diagnosis by performing an iterative deepening search  limiting in every iteration  the number of
components that are assumed to be faulty  frohlich   nejdl         drum ii also analyzes the
dependencies between components to prune irrelevant diagnoses  recent work presents empirical
evidence suggesting that direct search for diagnoses is often better than conflict directed diagnosis algorithms  nica et al          nica et al  did not compare against our sat based approach 
as it uses pre processing  in this work we show that the proposed pre processing is very efficient
computationally and results in huge speedups during the search for a diagnosis  this form of preprocessing is a key ingredient which enables us to find very large minimal cardinality diagnoses 
even with sizes up to    
another approach considers the diagnosis problem in terms of inductive learning  here  one
tries to learn relations between the symptoms and the faults  murray  hughes    kreutz delgado 
       one disadvantage of most works in this approach is that they learn only a single fault rather
than multiple faults  balakrishnan   honavar         in addition  inductive learning methods do
not guarantee sound diagnoses nor completeness  we  on the other hand  propose a method which
addresses multiple faults and guarantees sound and complete minimal cardinality diagnoses 
feldman et al       a  propose a stochastic diagnosis algorithm  called safari  although this
method is not guaranteed to return diagnoses of minimal cardinality  it presents solutions which are
close to minimal cardinality in very low runtime  in section    we demonstrate that our approach
outperforms safari in terms of runtime  and also guarantees that minimal cardinality diagnoses
are returned 
compilation based methods have also been proposed in the mbd context  torasso and torta
       proposed to compile the system description to a binary decision diagrams  bdds   darwiche        proposed to compile the system description into decomposable negation normal
form  dnnf   in both cases  the compiled model allowed finding minimal cardinality diagnosis
in time that is polynomial in the size of the compiled model  however  in these works  the size of
the compiled model  bdd or dnnf  may grow exponentially and is shown to become a bottleneck  siddiqi   huang        
siddiqi and huang        suggest to optimize mbd by identifying components that dominate
others  we adopt this idea and apply it in our sat based approach  another compilation based
diagnosis algorithm is the ha  algorithm  feldman   van gemund         ha  is designed to
exploit a given hierarchy of the diagnosed system  this is done by converting a given system
hierarchy to a dnf hierarchy  each element in this dnf hierarchy is then solved by a simple
best first search using as a heuristic function given a prior probability on the health of the system
components  in section    we demonstrate that our approach substantially outperforms ha  
   

fia n ovel sat based a pproach to m odel based d iagnosis

   x    x    a    a    o   
obs    a  b  c  d  e 
comps

figure    an mbd problem  a  faulty  full adder 
another previously proposed approach imposes a tree structure over a given system description 
a system in a tree structure can be diagnosed by joining the diagnoses of its constituent subsystems 
el fattah and dechter        obtained a tree structure by converting the diagnosed system into a
chordal graph and then decomposed it to a tree of maximal cliques  the tree  algorithm is another
such tree decomposition algorithm  initially proposed only for tree structured systems  stumptner
  wotawa         tree  was later generalized to perform on any system by embedding a hyper
tree over a specific representation of the diagnosed system  stumptner   wotawa         follow up
work further generalized tree  to support various forms of diagnosis optimization tasks  such as
finding minimal cardinality diagnoses  or finding subset minimal diagnoses  or finding most probable diagnoses  sachenbacher   williams         note that the complexity of tree  is exponential
in the width of the hyper tree embedded in the system description as defined in these works 

   model based diagnosis  preliminaries
this section introduces the background on model based diagnosis  in addition to the basic definitions  we review several other concepts from the literature that we build on in this paper 
model based diagnosis problems arise when the normal behavior of a system is violated due
to faulty components as indicated by certain observations  we focus on weak fault models  which
ignore the mode of abnormal behavior of components  an mbd problem is specified as a triplet
hsd  comps   obs i where  sd is a system description  comps is a set of components  and obs is an
observation  the system description takes into account that some components might be abnormal
 faulty   this is specified by an unary predicate h   on components such that h c  is true when
component c is healthy and false when c is faulty  denoting the correct behavior of c as a propositional formula  c   sd is given formally as
 
sd  
h c   c
ccomps

namely  each component which is not faulty follows its correct behavior  a diagnosis problem
arises when  under the assumption that none of the components are faulty  there is an inconsistency
between the system description and the observations  de kleer   williams        reiter        
definition    diagnosis problem   given an mbd problem  hsd  comps   obs i  a diagnosis problem
arises when
 
sd 
h c   obs   
ccomps

   

fim etodi   s tern   k alech   c odish

for example  a diagnosis problem arises for the mbd of figure   as normal behavior would give
output e      once there is an inconsistency  a diagnosis algorithm tries to find a subset   comps
which  if assumed faulty  explains the observation 
definition    diagnosis  given an mbd problem  hsd  comps   obs i  the set of components  
comps is a diagnosis if
 
 
h c   obs   
sd 
h c  
c

c
 

we say that  is a minimal diagnosis if no proper subset     is a diagnosis  and that  is a
minimal cardinality diagnosis if no other diagnosis    comps exists such that           
for the mbd of figure        x    x         o         a    are minimal diagnoses  and    
  are minimal cardinality diagnoses  as there is no smaller diagnosis 
an important concept that we make use of in this paper is that of gate domination  used
for automatic test pattern generation  atpg   kirkland   mercer        fujiwara  member  shimono    member        and in some modern sat solvers  marques silva  lynce    malik        
sometimes under the name unique sensitization  siddiqi and huang        applied gate domination in model based diagnosis  introducing the notion of a cone  the following wording is
taken from siddiqi and huangs paper in a setting where the system is a boolean circuit and the
components are its gates 
definition    dominator and cone  a gate x in the fan in region of gate g is dominated by g and
conversely g is a dominator of x if any path from x to an output of the circuit contains g  the cone
corresponding to a gate g is the set of gates dominated by g  a maximal cone is one that is either
contained in no other cone or contained in exactly one other cone which is the entire circuit 
for example  in the circuit depicted as figure    the components  a    a    o    form a cone  since
any path from a  or from a  to a system output contains o    here o  is the dominator and a  and a 
are the dominated gates 
although definition   is stated in terms of boolean circuits and logical gates  the notions of
dominators and cones can be generalized for many systems  where components correspond to gates 
and a component c  dominates a component c  if all of the paths passing through c  also pass
through c    for example  in the system illustrated in figure   components c  and c  form a cone 
where c  dominates c   
the importance of cones to mbd algorithms is rooted in two observations presented by siddiqi
and huang  firstly  cones are single output sub systems and as such  a minimal cardinality diagnosis will always  independent of the observation  indicate at most one unhealthy component per cone 
secondly  if c is a cone in sd  then without loss of generality  we may assume that all dominated
components in c are healthy  this is correct because if x is unhealthy in some minimal cardinality
diagnosis and dominated by g  then g must be healthy  so  there exists another minimal cardinality
diagnosis where x is healthy and g is not  for example  in the circuit depicted in figure      is
a minimal cardinality diagnosis that signifies dominated a  as unhealthy  and there exists another
minimal cardinality diagnosis      in which a  is healthy but o    which dominates a    is unhealthy 
based on these observations we can restrict the search for minimal cardinality diagnoses  to
so called top level minimal cardinality diagnoses  the notion of top level diagnoses was introduced by siddiqi and huang 
   

fia n ovel sat based a pproach to m odel based d iagnosis

definition    top level diagnosis  tld   we say that a minimal cardinality diagnosis is top level
if it does not contain any dominated components 
to formally justify the focus on top level diagnoses we make explicit the following propositions   and    which are left implicit in previous work 
proposition   let   be a minimal cardinality diagnosis for a given mbd problem  then there is
a top level diagnosis   of the same cardinality 
proof  straightforward  to obtain   replace each dominated component from   by its corresponding dominator 

we further note that the set of all minimal cardinality diagnoses can be obtained by expanding the set of all top level minimal cardinality diagnoses in the following sense  given a minimal
cardinality top level diagnosis      c            c    consisting of   dominators from corresponding
cones  c          c     denote
fi
n
o
fi
i   c i  ci fi     ci     c i   is a diagnosis
   
we say that  expands to the set of minimal cardinality diagnoses defined in terms of a crossproduct by                  for example  consider the system from figure   with the
observation obs    a  b  c  d  e   the cones in the system are c     x     c     x     and c   
 a    a    o     the corresponding mbd problem has two top level minimal cardinality diagnoses 
     x    o    and      x    o    and we have         x      o        x    o     and       
 x      a    o        x    a      x    o     
proposition     is a minimal cardinality diagnosis if and only if there is a top level minimal
cardinality diagnosis  that expands to include    
proof  the proof is straightforward from the construction 

finally  we comment that the sets i which specify the expansion of a top level diagnosis 
in equation     are easy to compute  for each component c i  ci checking if     ci     c i   is
a diagnosis means propagating the observed inputs through the system  flipping the outputs when
propagating through a component in     ci     c i   and checking if there is no conflict to the
observed outputs  this observation is not explicit in previous work and it is essential to justify the
focus on top level diagnoses  proposition   is important as it applies for any diagnosis algorithm 
as such  diagnosis algorithms in general can focus  and be compared on finding tlds  instead of
finding all minimal cardinality diagnoses 

   the standard approach to sat based mbd
the standard encoding of an mbd problem hsd  comps   obs i to boolean satisfiability  as introduced in smith et al         associates each component c  comps with a propositional formula 
c   denoting its correct behavior  and with a boolean variable  hc   signifying if c is healthy 
viewing the observation as a propositional statement  an encoding is obtained by specifying
 
   obs 
hc  c
   
ccomps

   

fim etodi   s tern   k alech   c odish

in a satisfying assignment for   the health variables assigned the value false determine a  not
necessarily minimal  diagnosis  
for example  consider the mbd problem of figure    and let comp a  b  c  with
comp   and  or  xor  denote the propositional formula describing the behavior of the component which is an and     or   or xor   gate with inputs a  b and output c  so  equation     takes
the form 


a  b  c  d  e  hx   xor a  b  z    


   
    ha   and a  b  z   
 hx   xor z    c  d   
ha   and z    c  z     ho   or z    z    e 
this formula is satisfied by the assignment of variables  a  c  ha    ha    ho    to true and of variables
 b  d  e  z    z    z    hx    hx    to false  this assignment indicates that     x    x    is a diagnosis 
to obtain a minimal cardinality diagnosis we seek a satisfying assignment with a minimal number of health variables taking value false  for example the assignment of variables
 a  c  z    z    hx    hx    ha    ha    to true and of variables  b  d  e  z    ho    to false which also satisfies equation     and indicates only one faulty component  this can be achieved using a max sat
solver  feldman et al          or using a sat solver as done in the implementation underlying this
paper  where a cardinality constraint  encoded to cnf  is introduced to constrain the number of
faulty components as detailed in the next section 
no matter how the cardinality constraint is encoded to cnf  for a setting with  comps     n and
a constant k  the formula
fi
n
o
fi
k     sum leq  hc fi c  comps   k 
   
is satisfied only if at most k of the n health variables take the value false  more specifically  we seek
a minimal value of k such that  the cnf corresponding to  k is satisfiable  this involves iterating
over calls to the sat solver with formulae k for decreasing values of k until k is satisfiable but
k  is not  this approach takes advantage of the fact that sat solvers are typically incremental 
adding clauses to a satisfiable instance allows to solve again while maintaining all of the derived
information about the search space from the previous call 

   our approach to sat based mbd
our approach to encoding an mbd problem hsd  comps   obs i to sat proceeds as follows  first  we
adopt a finite domain constraint based representation to express the basic model  second  we analyze
the structure and substructures of the sd to introduce additional  redundant  constraints that will
later boost the search for a minimal cardinality analysis  third  we introduce constraints to model
the given observation obs with an additional constraint that imposes a bound on the cardinality
of the diagnosis  the number of unhealthy components   this additional constraint reduces the
subsequent number of iterations in search of the minimal cardinality diagnosis  each such iteration
involves a call to the underlying sat solver and hence has worst time exponential complexity  so 
reducing this number is important  given all of these constraints  we apply a finite domain constraint
compiler  metodi   codish        metodi  codish    stuckey        to simplify and encode them
to a corresponding cnf  finally we apply a sat solver to seek a suitable satisfying assignment
and solve the problem  in the rest of this section we describe these phases in more detail  an
   

fia n ovel sat based a pproach to m odel based d iagnosis

figure    modeling component c by composition with xor
experimental evaluation illustrating the impact of the various constraints in the model is presented
in section   
    the basic model for mbd
we build on the standard approach  as in equation      however  we observe that for model based
diagnosis in the weak fault model with a single observation and when searching for a minimal
diagnosis  the behavior of a faulty component can be assumed to produce an output opposite to that
of its normal behavior  this is because any diagnosis that assumes that a component c is faulty but
still produces its normal output can be replaced by a smaller diagnosis that does not contain c  thus 
if  is a minimal diagnosis  i e  no subset of  is a diagnosis   this means that all the components
in  are assumed to produce the opposite of their normal output  in this paper we focus on minimal
cardinality diagnoses  which are in particular also minimal subset  so we modify equation     as
follows  replacing the implication by a bi implication 
   obs 

 

hc  c

   

ccomps

we model the behavior  hc  c   of a possibly faulty component c as if encapsulated together
with a xor gate as illustrated in figure    here  the output of the encapsulated component is the
xor of the usual output of c and its negated health variable hc   one can observe that if hc is
true then this composition is equivalent to the normal behavior of c  otherwise it is equivalent to
component c with a negated output 
our decision to model the relation between a component c and its health variable hc by introducing an additional xor gate  instead of just introducing cnf clauses to directly encode hc  c  
has two motivations      to improve cnf encodings we provide tools to reason about  and simplify
system components  so there is an advantage to a uniform representation where all of the logic is
expressed in the system model itself  and     the underlying sat solver that we apply  cryptominisat  soos         offers direct support for xor clauses  because of     our mbd problem is more
amenable to simplification  and because of     the underlying sat solver can optimize the search
for a satisfying assignment  we comment that it is straightforward to apply our technique with other
sat solvers  which do not support xor clauses  by adding their cnf encodings to the model  the
finite domain constraint compiler  bee  metodi   codish         which we apply  is configurable
to work with both types of solvers 
as in equation      we write comp a  b  c  with comp   and  or  xor  to represent a component which is an and     or   or xor   gate with inputs a  b and output c  we also write
comph  a  b  c  to represent the corresponding encapsulated component with a health variable h 
so 
comph  a  b  c    comp a  b  c     xor h  c    c 
   

fim etodi   s tern   k alech   c odish

and we view
comph  a  b  c 

 constraints   

as a constraint on the boolean variables a  b  c and h  given this notation  the system depicted as
figure   is modeled by the following constraints 
xorhx   a  b  z     andha   a  b  z     xorhx   z    c  d  
andha   z    c  z     orho   z    z    e 
finally  we add to the constraints representing the system components an additional cardinality
constraint 
fi
o
n
fi
sum leq  hc fi c  comps   k 
 constraint   
to specify for an integer constant k that the number of faulty components must be at most k 
for example  for the system depicted as figure   and a constant k  we introduce the constraint
sum leq  hx    hx    ha    ha    ho     k   later we will require to satisfy the constraints of the
model and also to minimize the value of k 
to summarize this presentation of the basic model  we show the complete constraint model
for the minimal cardinality diagnosis of the mbd problem of figure    for an integer value k  a
solution of these constraints is a diagnosis of cardinality  k 
xorhx   a  b  z     andha   a  b  z     xorhx   z    c  d  
andha   z    c  z     orho   z    z    e  
sum leq  hx    hx    ha    ha    ho     k  
a    b    c    d    e  
this type of constraint model can be solved by encoding it to a cnf formula and then applying
a sat solver  by repeatedly seeking a solution for decreasing values of k we can find a minimal
cardinality diagnosis  however  we do not apply this basic modeling  instead we further refine it as
described in the rest of this section 
    encoding cardinality constraints
the encoding of cardinality constraints to cnf is the topic of a large body of research papers  many
of these  such as that described by een and sorensson         are based on the use of batchers oddeven sorting network  batcher         a sorting network is a boolean circuit with n inputs and n
outputs  given boolean values on its inputs  the output consists of the same values but sorted  say 
zeroes before ones  in our context we apply such a sorting network where the n inputs are the health
variables of the n components in the given system  and the n outputs are the sorted values  now  to
encode that at most k health variables take the value false we assert that the  k     th output of the
sorting network is a one  because its outputs are sorted this implies that the last n  k outputs are
also ones thus imposing that at most all of the k remaining outputs are zero  looking backwards
through the sorting network this implies that at most k of its inputs take the value false 
sorting networks  like other boolean circuits are straightforward to encode to a cnf formula 
with batchers odd even construction this results in a cnf with o n log   n   clauses  further
improvements enable an encoding with o n log   k   clauses to constrain the sum of the n boolean
inputs to be less than k  asn  nieuwenhuis  oliveras    rodrguez carbonell              codish
   

fia n ovel sat based a pproach to m odel based d iagnosis

  zazon ivry         in this paper we encode cardinality constraints to cnf using bee  metodi  
codish        metodi et al         which takes such an improved approach 
    from cones to sections
reasoning about relations between the components in a system description sd enables to infer additional constraints on the number of unhealthy components in certain subsystems of sd  these
constraints when compiled into the cnf  help boost the search  by the sat solver  for a minimal
cardinality diagnosis  proposition   enables a diagnosis algorithm to focus on top level diagnoses
based on a partitioning of the system into cones  each cone contains at most one unhealthy component  and without loss of generality  it can be assumed to be the dominator of the cone 
to restrict the sat based search to top level minimal cardinality diagnoses we simply add the
following constraints where d denotes the set of dominated components 
v

 constraint   

cd hc

introducing constraints to indicate healthy components reduces the number of  unassigned  health
variables and hence boosts the search for minimal cardinality diagnosis  in section   we show that
reasoning about cones to restrict the search to top level diagnoses improves considerably the search
for minimal cardinality diagnosis 
motivated by the utility of partitioning a system into cones  we seek a more general partitioning 
which enables to apply similar cardinality constraints to larger subsystems of components  to this
end we introduce the notion of a section  we denote by sysout c  the set of system outputs which
occur at the end of a path from a component c  as an example  in the system depicted in figure  
sysout c       o    o    and sysout c       o    o    
definition    section  given a system description sd with components comps we define a disjoint
partitioning comps   s   s       sn such that for every c    c   comps   c  and c  are in the
same section si if and only if sysout c      sysout c    

c 
c 
c 

c 
c 

s 

s 

c 

s 

c 

c 

c 

c  

o 
s 

s 

o 

o 

figure    partitioning a system into cones and sections 
figure   shows a partitioning of a system into maximal cones and sections  the cones are depicted with dotted lines  and the sections with dashed  for example  components  c    c    form a
cone  and section s  consists of three cones  we observe that partitioning a system into sections can
be done in polynomial time as demonstrated by algorithm   presented below  given a partitioning
   

fim etodi   s tern   k alech   c odish

 s            sn   to sections  we introduce to the constraint model the following constraints which further improve the encoding and hence the subsequent search for minimal cardinality diagnosis  for
each section si   the constraint
fi
o
n
fi
sum leq  hc fi c  si   bi  
 constraints   
expresses that the sum of the negated health variables in si is bounded from above by a constant bi
that is the smaller of the following two bounds on the number of unhealthy components in section
si    a  the number of outputs from si   and  b  the value of  sysout c   for some component
c  si   note that by definition    this value is the same for any c  si   we justify this statement
below in proposition   
to illustrate the utility of sections  consider again the system given as figure   and its partition
into   sections  observe that the section labeled s  has   outputs  but each component c  s 
has only   corresponding system outputs   sysout c         so  b    min       and hence  
is an upper bound on the number of unhealthy components in s    this is also an improvement
over the reasoning with cones where the bound on the number of unhealthy components in s  is  
 since there are three cones   similarly  b    min        b    min        b    min       and
b    min       
reasoning about constraints on the number of faulty components per section facilitates the
mbd encoding in another way  for constraints   we have already encoded the number of faulty
components per section  these numbers are partial sums in the context of constraint   which
specifies the total number of faulty components in the system and can be reused in the encoding 
the following justifies constraints    
proposition   let hsd  comps   obs i be an mbd problem  s  sd be a section  c  s be a component and  be a minimal cardinality diagnosis  then  both  a  the number of outputs from s  and
 b  the value  sysout c   are bounds on the number of unhealthy components  from   in s 
proof  the statement regarding the number of outputs from s follows directly from an assertion
by de kleer        that the number of outputs from any  sub   system is a bound on the number of
its unhealthy components  so  it remains to prove the statement regarding  sysout c   
assume the premise of the proposition  denote      k and  s      t  so t  k   assume
for contradiction that t    sysout c    we construct a diagnosis   with less than k unhealthy
components  first note the obvious  that given  we can propagate the observed system inputs
to the system outputs where in each step we choose a component with known inputs and produce
its normal output if the component is healthy  or its opposite to normal output otherwise  because
 is a diagnosis this process will result in no contradictions between propagated outputs and the
observed outputs 
now  take        s  this is not  yet  a diagnosis  with     propagate the observed system
inputs in the same way as before with   now  because   is not a diagnosis there will be some
flipped system outputs  those which contradict the observed outputs   each such flipped output
o must be due to one of the unhealthy components in s that was marked healthy in   and so we
have o  sysout c   now consider the component g which outputs o  if g      then remove it 
and if g       then add it  so  now   is a diagnosis and k           k  t    sysout c     k  
algorithm   describes how to partition a system into sections  denoting the components and
outputs of the system as comps    c            cn   and outs    o            om    an n  m boolean
   

fia n ovel sat based a pproach to m odel based d iagnosis

matrix b is computed so that bij   true if oj  sysout ci   and false otherwise  figure   shows an
example of this matrix b for the system in figure    so  by definition    a pair of components ci   cj
are in the same section if and only if row i and row j in matrix b are identical  for instance  section
s  includes the components c  and c   since their system output o  is identical  the computational
complexity of this partitioning process is the complexity of running a graph search algorithm for
every system output and is in the worst case o n   m   the algorithm returns a mapping from
components to bit vectors which can be seen as section identifiers  so  the algorithm returns a
mapping of components to sections 
algorithm   partitioning a system into sections
input  a system  view it as a graph 
output  a partitioning of the system into sections
   c            cn  
the system components
outs
   o            om   the system outputs
b
   bij  
an n  m boolean matrix
for all  oj  outs   do
apply dfs on the reverse edges of the system  with source   oj
for all  ci  comps   do
bij
fi oj  
 
    ci is reachable from
return ci   hbi            bim i fi    i  n

   denote 

  
  
  
  
  

comps

example    partition into sections  consider
the  abstract  system depicted as figure   where comps    c            c     and
outs    o            o     the boolean matrix evaluated by application of algorithm   is illustrated
in figure   

figure    partitioning the system
from figure   into sections
there is another benefit of partitioning into sections  the identification of cones may be performed per section which is more efficient  this works because  if component x is dominated by component g then sysout x     sysout g  implying that the components of a cone
are always in the same section  for example  in figure   component c  is dominated by c  and
sysout c      sysout c       o    o    
the recursively defined algorithm   shows how to compute cones given a partition into sections 
it computes the set of dominators for a component c in a section s of the system  we denote by
succ c  the set of components that c feeds into directly  if c  s feeds into a component that is
not in s then it is only dominated by itself  otherwise  c is dominated by c   s only if c  is
dominated by all elements of succ c   for instance  given section s  and component c  in figure  
succ c       c     in the next recursive call succ c    does not include any component of s 
   

fim etodi   s tern   k alech   c odish

 condition in line    and thus c  is returned  line     the union of both calls  c    c    is returned as
a cone  line    
it is straightforward to implement algorithm   efficiently using a memoization table to avoid
recomputing dominators for components already encountered  since a system is a directed acyclic
graph  the recursion in algorithm   will halt when a leaf node is reached  thus the complexity of
calculating the dominators of every component c in a section s is o  s      given the sets of dominators per component  it is straightforward to specify the set of maximal cones  a component c is a
dominator of a maximal cone  if it is only dominated by itself  and the maximal cone corresponding
to such a c is the set of components which have c as dominator 
to find all cones in a system  algorithm   is applied once per component per section  and the
cost depends on the size of the largest section  in contrast  without the partition into sections  the
same algorithm is applied  but considering all of the components in the system instead of all the
components in a section  practice shows that the partition into sections benefits the computation of
cones 
algorithm   dominators  component c  section s  system c 
input  component c in section s of system c
output  the set of dominators of c
fi

 
   denote  succ c    c   c fi the output of c is an input to c 
   if  succ c   s  then  
  
return  c  
dominators c    s  c 
c  succ c 

   else
  
return  c 

    modeling the observation and further boosting the search
let obs   and obs  denote the sets of variables assigned true and false in obs   respectively  then 
to model the observation we add the obvious constraints 
v
v
 constraint   
xobs  x
xobs   x 
to improve the search for a minimal cardinality diagnosis one can introduce an upper bound
on the minimal cardinality  the number of outputs in a system is an upper bound on the minimal
cardinality  de kleer         such a bound  as well as the section specific constraint given above
 constraints     ignores the observed inputs and outputs  siddiqi and huang        propose to
obtain a tighter upper bound on the minimal cardinality for a given observation by propagating
the input values through the system  and taking as an upper bound the number of contradictions
between the observed and the propagated outputs  for example  considering the mbd problem
from figure    k     is an upper bound on the size of a minimal cardinality diagnosis because the
system has   outputs  siddiqi and huangs proposal states that also   is an upper bound because
when propagating the inputs through the system there is only one contradiction to the observed
outputs 
while siddiqi and huangs        proposal is intuitively appealing  it is correct only in case
that no observed output is also input to another component  and in fact their results are restricted
to systems where this is the case  this does not work for the example in figure    propagating the
   

fia n ovel sat based a pproach to m odel based d iagnosis

figure    minimal cardinality diagnosis is of size    but propagating observed inputs leads to  
contradiction to the observed outputs 
observed inputs through the system assigns   to both outputs indicating a single contradiction with
the observation  on o     however  the smallest diagnosis for this example has cardinality    this
example is not contrived     of the     observations for system       of the   xxx benchmark 
exhibit a minimal cardinality diagnosis larger than the  erroneous  bound obtained when counting
conflicts between propagated and observed outputs 
algorithm   is about computing an upper bound on the number of faulty components by propagating observed inputs and counting conflicts  the algorithm computes a diagnosis   and    is
thus an upper bound on the minimal cardinality of a diagnosis  the basic idea is to propagate inputs
as long as they do not contradict observed  or other already computed  outputs  the components
in the system are processed one at a time  at line   we select some component c whose inputs
are already determined  initially only the system inputs are determined   for this c we consider its
already determined output  oobs   and denote oobs    if its output is not yet determined  we also
consider its propagated output oprop which is obtained by propagating the inputs through c assuming that c is healthy  now there are three cases  lines       if c has no already determined output
then we fix its output to oprop and mark c as healthy  if c has an already determined output and it
is consistent with oprop then we also mark c as healthy  otherwise we mark c as not healthy  but do
not propagate its output  which is already determined  
algorithm   find a diagnosis   and upper bound    on min  card  
input  a system with components  comps   and observation  obs
output  a diagnosis 
   c  comps      
   while  c      do
  
select c  c such that the inputs of c are determined
  
oobs  the value on the output of c  n a if it is undefined 
  
oprop  the value if propagating the inputs of c  assume c is healthy 
  
if  oobs   n a then
  
set output of c to oprop and mark c as healthy
  
else if  oobs   oprop   then
  
mark c as healthy
   
else
   
mark c as faulty and       c 
   
c  c    c 
    return 

when algorithm   terminates we have marked all components as healthy or faulty and have
in fact determined a correct diagnosis  as such applying algorithm   provides an upper bound
on a minimal cardinality diagnosis  the number of components marked as faulty in the returned
diagnosis  note that algorithm   is correct also when given probes  observed values on the outputs
   

fim etodi   s tern   k alech   c odish

from internal components   assuming that the components are maintained in a data structure where
components are sorted  topologic  according to their depth  algorithm   is performed as a single
linear traversal of this data structure with complexity o  comps    
as an example application of algorithm    consider the circuit in figure    propagating the
inputs of gate a  gives the output   in contradiction to the observation on o    hence  we mark a  as
unhealthy and propagate the observation o      as an input to a  together with i       this results
in an additional contradiction to the observation o      and so we mark a  as unhealthy too  and
report     a    a    hence the value   as an upper bound for the minimal cardinality 
let kub be the bound found by application of algorithm    we refine constraint   and introduce
instead 
fi
n
o
fi
sum leq  hc fi c  comps   kub  
 constraint     
to appreciate the impact of algorithm   we note that  for the benchmark considered in this
paper  algorithm   determines an upper bound equal to the actual minimal cardinality for     of
the        observations considered  of course  even when given a precise upper bound  an mbd
algorithm still needs to validate its minimality  in our sat based approach this requires one single
iteration with the underlying sat solver  typically  this is the hardest iteration as it involves a call
which is unsatisfiable and is of the largest cardinality for which the instance is unsatisfiable 
    compiling constraints to cnf
metodi and codish        introduced a compiler called bee that encodes finite domain constraints
to cnf  besides facilitating the encoding process  this compiler also applies partial evaluation and
other optimizations to simplify the constraints before encoding them to cnf  in particular  it applies
equi propagation  metodi  codish  lagoon    stuckey        which is the process of identifying
equalities between literals  and constants  implied by other such equations and a given constraint 
if x l is implied by a constraint  where x is a variable and l is a literal or a boolean constant   then
all occurrences of x can be replaced by l  reducing the number of variables in the subsequent cnf
encoding  we illustrate constraint simplification for the diagnosis of the circuit in figure    consider
the following constraints  we have omitted some of the constraints as they do not contribute to the
example  
   
   
   
   
   

xorhx   a  b  z     andha   a  b  z     xorhx   z    c  d  
andha   z    c  z     orho   z    z    e  
sum leq  hx    hx    ha    ha    ho     k  
a    b    c    d    e  
ha       ha     

the constraints on lines          comprise the basic constraint model described in section      the
constraints on line     model the observation  and the constraints in line     express that without
loss of generality the dominated components  a    a    from the cone  a    a    o    are healthy  we
observe the following equi propagation steps 
    a        b       xorhx   a  b  z        z    hx   
    a        b        ha        andha   a  b  z        z      
   

fia n ovel sat based a pproach to m odel based d iagnosis

    c        ha        andha   z    c  z        z    z   
    c        d       xorhx   z    c  d      z    hx   
    e        z        orho   z    z    e      z    ho   
from these  and the other given  equalities between literals we obtain a substitution 
 
 
a      b      c      d      e      z    hx    z      
 
z    hx    hx    hx    ha       ha       ho    hx 
applying  to specialize the constraint system we get 
   
   
   
   
   

xorhx         hx     and           
 xorhx   hx          
and   hx       hx     or hx        hx       
sum leq  hx    hx          hx     k  
                       
        

now  most of the constraints are tautologies and we remove them  all that remains is a single
constraint 
    sum leq  hx    hx    hx     k 
which is satisfied for k     when hx       and as implied from  then we have
ha       ha       hx       ho       this example illustrates how equi propagation and partial evaluation are applied to simplify constraints prior to their encoding to cnf 
we summarize with the following observations 
   the constraint model for mbd is polynomial in the size of the system  each component
contributes a constraint and a fresh health variable  each cone contributes an assignment to
the health variables for its dominated components  each section contributes a cardinality constraint  and finally the observation contributes an assignment to the input and out variables of
the system 
   constraint simplification using bee is polynomial in the size of the constraint model  this is
because   a  each simplification step reduces the number of boolean variables in the model by
at least one  so there are a linear number of steps  and  b  each step checks the applicability
of a fixed number of simplification patterns to each constraint 
   the cnf encoding of the constraint model is polynomial in size  as each of the constraints
introduces a polynomial number of clauses to the cnf  all of the constraints supported by
bee have this property  

   process and implementation
in this section we summarize the different phases of the diagnosis process in our approach  in
section     we focus on the case where we seek a single minimal cardinality diagnosis  and then in
section      on the case when we seek all minimal cardinality diagnoses 
   

fim etodi   s tern   k alech   c odish

    single minimal cardinality diagnosis
the process for a single minimal cardinality diagnosis consists of four phases  let   
hsd  comps   obs i be an mbd problem  in the first two phases we construct a constraint model 
first  focusing on sd  to introduce constraints which are independent of the observation  and then
per observation to introduce further constraints  in the third phase we encode the constraint model
to a cnf  k where k is an upper bound on the size of the minimal cardinality diagnosis  in the
fourth phase  solving k using a sat solver results in a diagnosis with cardinality at most k  we
now detail these four phases 
phase    modeling the system  offline   the system sd is first preprocessed to partition it into
sections  algorithm    and cones  algorithm     then  we introduce constraints   to model sd in
terms of its components behavior and introduce constraints   to bound the number of unhealthy
components per section  finally  using information about cones  we add constraint   which asserts
that  without loss of generality  all dominated components are healthy  all of the system preprocessing is performed offline  once per system 
phase    modeling the observation  online   constraint   is added to model the observation
and constraint    is added to bound the total number of unhealthy components by the upper
bound kub obtained by application of algorithm   
obs  

phase    encoding  the constraint system is then simplified online  for each observation and
encoded to a cnf k   applying the optimizing cnf compiler  metodi et al          the parameter k
reflects the bound set in constraint    to bound the number of unhealthy components in a diagnosis 
initially  k is computed by algorithm   
phase    solving  to compute a diagnosis    we seek a satisfying assignment for the encoding  k  
by applying the cryptominisat solver  soos          is then the set of health variables assigned
false by this assignment  denoting      k     we again seek a satisfying assignment  but this time
 
for the formula k     if a satisfying assignment is found  it indicates a smaller diagnosis     
otherwise   is of minimal cardinality  this process is invoked repeatedly  each time finding a
 
smaller diagnosis  until for some k   the formula k   is not satisfiable  then  the diagnosis found
in the previous iteration is of minimal cardinality 
to facilitate the search for a minimal cardinality diagnosis  we apply the sat solver wrapper  scryptominisat  metodi      b   scryptominisat takes as input a cnf formula  k   and
the boolean variables representing the number k  it provides a satisfying assignment which minimizes k  scryptominisat takes advantage of the incrementality of the underlying sat solver which
maintains learned clauses over consecutive calls which only add clauses 
algorithm   illustrates the process of finding a single minimal cardinality diagnosis  identified
at line      and of returning the set of all minimal cardinality diagnoses  line     
    all minimal cardinality diagnoses
to find all minimal cardinality diagnoses we first apply the process described in section     to find
a single minimal cardinality diagnosis  this provides us with the value k   indicating the number of
faulty components in a minimal cardinality diagnosis 
then  to enumerate the set of all top level minimal cardinality diagnoses  each of size k     we
apply an additional functionality of scryptominisat which allows to enumerate  possibly with a
   

fia n ovel sat based a pproach to m odel based d iagnosis

algorithm   satbd
input  a system sd with components comps and an observation obs
output    the set of minimal cardinality diagnoses
  
  
  
  
  
  
  
  
  
   
   
   
   
   
   
   
   
   
   
   
   
   
   

   phase    offline pre processing

sections  partition sd into sections
constraints  
for all  s  sections  do
for all  c  s  do
add constraints   to constraints
dominators  dominators c  s  sd 
if  dominators      then
add constraint   for component c to constraints

   algorithm  

   describes normal behavior of component c
   algorithm  
   sets dominated gates to healthy

   phase    modeling the observation

add constraint   to constraints
  find initial diagnosis
add constraint    to constraints with kub     

   add constraints representing obs
   algorithm  

   phase    encoding

  bee constraints 

   run the constraint compiler to obtain a cnf

   phase    solving

mc  scryptominisatminimize k  

   find min  card  diagnosis  assignment that minimizes k     mc  

   finding all diagnoses of minimal cardinality

    cnf kub    m c   
    t ld  scryptominisatallsolutions  
for all    t ld   do
add to  all the diagnoses expanded from 
return 

   

   restrict constraint    to use kub    m c  
   find all top level diagnoses
   proposition  

fim etodi   s tern   k alech   c odish

name
     
     
     
c   
c   
c   
c    
c    
c    
c    
c    
c    
c    

 comp 
  
  
  
   
   
   
   
   
    
    
    
    
    

system details
in
out
offline
  
 
    
 
 
    
 
 
    
  
 
    
  
  
    
  
  
    
  
  
    
  
  
    
       
    
  
  
    
       
    
  
  
    
       
    

feldman
 obs 
   
   
   
   
   
    
   
   
    
   
    
   
    

dxc   

    

     

     

   
   
   
   
  
  
  
  
  
  
  
   
  

 
 
 
 
 
  
  
 
  
 
  
 
  

 
 
 
 
 
  
 
 
 
 
 
 
 

 obs 
  
  
  
  
   
   
  
   
   
  
   
 
   

    

     

     

   
   
   
   
  
  
  
  
  
   
  
   
  

 
 
 
 
  
  
  
  
  
 
  
 
  

 
 
 
 
 
  
 
 
 
 
  
 
  

sidd 
 obs 
   
   
   
   
   
   
  
  
  

table    the benchmark suite  systems   xxx and iscas     and observations  feldman  dxc   
and siddiqi 

specified time out  all  or a specified number of  satisfying assignments for a given cnf  we apply
this option to enumerate all satisfying assignments for the formula  k described in section     with
k   k   
finally  based on proposition   we expand the obtained top level diagnoses to provide all minimal cardinality diagnoses  note that the observation that a tld can be expanded easily to all
minimal cardinality diagnoses applies for any diagnosis algorithm  as such  diagnosis algorithms
in general can focus  and be compared on finding tlds  instead of finding all minimal cardinality
diagnoses 

   experimental results
this section presents an experimental evaluation of our proposed sat based encoding for mbd 
in section      we consider the search for a single minimal cardinality diagnosis and compare the
performance of satbd to the algorithms  ha   feldman   van gemund         cda   williams
  ragno        and safari  feldman et al       a   in section      we consider the search for
all minimal cardinality diagnoses and compare satbd to the algorithms  hdiag  siddiqi   huang 
      and dcas  siddiqi   huang         finally  in section      we evaluate the impact of the
various components of our sat based encoding of mbd  all experiments were run on an intel core
  duo  e         ghz cpu   gb memory  under linux  ubuntu lucid  kernel           generic 
unless stated otherwise  the entire set of our tools  range of benchmarks  as well as a more detailed
report of the results can be found online  metodi      a  metodi  stern  kalech    codish      b  
table   provides basic details concerning the systems and three observation sets in our benchmark suite  the systems are   xxx  hansen  yalcin    hayes         described in the first   rows 
and iscas     brglez et al          described in the following    rows  the left column in the
table specifies the system name  the next four columns  from the left  describe the systems  the
numbers of components  inputs and outputs in each of the systems  and also the preprocessing time
per system for the sat based approach  this includes all actions performed once per system as
described in section      decomposing the system to sections and cones and computing the bounds
per section 
   

fia n ovel sat based a pproach to m odel based d iagnosis

the rest of the columns are divided to three groups describing experiments with the three observation sets  the first two describe the observation set generated by feldman et al       a  and
the dxc    observation set used in the diagnosis competition  dxc  of       these are applied in
our experimentation to evaluate the search for a single minimal cardinality diagnosis  the minimal
cardinality of the diagnoses in these observations is between   and     the columns in each of these
two groups indicate the number of observations and a distribution of the observations according to
the size of their minimal cardinality diagnoses  the observations in these sets are considered hard
and many of them  have high minimal cardinality diagnoses  the third group  the rightmost column
in the table  presents the observation set generated by siddiqi and huang        where minimal
cardinality is bounded by   and the observations are distributed uniformly according to the size of
their minimal cardinality diagnoses  this set is used in the evaluation of the search for all minimal
cardinality diagnoses 
table   illustrates a comprehensive experimental benchmark involving a total of        observations of varied minimal cardinality diagnosis size  observe also that the  offline  preprocessing
time per system is negligible  for instance  reprocessing the largest system  c      takes less than
two seconds 
    satbd vs  other mbd algorithms  single minimal cardinality diagnosis
we now compare satbd to the algorithms  ha   feldman   van gemund         cda   williams
  ragno        and safari  feldman et al       a  in their application to search for a single minimal cardinality diagnosis  ha  and cda  are based on a complete algorithm to find all minimal
subset diagnoses  those that do not contain other diagnoses  they can be configured such that the
first minimal subset diagnosis is guaranteed to be also of minimal cardinality and it is this configuration that we apply for comparison with satbd  safari applies an algorithm based on stochastic
search which does not guarantee minimal cardinality and not even minimal subset diagnosis  feldman et al       a  report that even for single and double fault cardinalities  safari does not always
find the minimal cardinality  so  at the expense of minimality  safari is often faster  comparing to
ha  and cda  
name

ha 
succ 
time
rate 
sec 

     
    
     
     
     
     
c   
    
c   
    
c   
    
c    
    
c    
   
c    
    
c    
   
c    
   
c    
    
c    
   
   sec timeout
c    
   

cda 
succ 
time
rate 
sec 

succ 
rate 

safari
min diag 
card  
ratio

    
    
    
    
    
    
    
    
    
    
     
    
    

    
     
     
    
    
   
   
   
   
   
   
   
   

    
    
    
    
    
    
 

     
     
     
     
     
     
     
     
     
     
     
    
   

    
    
    
    
   
    
   
    
    
   
   
    
 

     

   

   

    

    

time
sec 

satbd
succ 
time
rate 
sec 

    
    
    
    
    
    
    
    
    
    
    
    
 

    
    
    
    
    
    
    
    
    
    
     
     
 

     
     
     
     
     
     
     
     
     
     
     
     
    

    
    
    
    
    
    
    
    
    
    
    
    
    

    

     

     

    

table    single minimal cardinality diagnosis  feldmans observations     sec  timeout  
   

fim etodi   s tern   k alech   c odish

algorithm
system
     
     
     
c   
c   
c   
c    
c    
c    
c    
c    
c    
c    

min
    
    
    
    
    
    
    
    
    
    
    
    
    

ha 
max
     
    
    
     
     
     
     
     
     
     
     
     
    

st  dev 
    
    
    
    
    
    
    
    
    
    
     
    
    

min
    
    
    
    
    
    
 

cda 
max
st  dev 
     
    
    
    
     
    
     
    
    
    
     
    
 

min
    
    
    
    
    
    
    
    
    
    
     
     
     

safari
max
st  dev 
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
     
    
     
    
     
    

min
    
    
    
    
    
    
    
    
    
    
    
    
    

satbd
max
st  dev 
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
     
    

table    single minimal cardinality diagnosis  feldmans observations  additional statistics 
table   presents the evaluation focusing on feldmans observations imposing a    second timeout  except for the bottom line   the columns indicate for each algorithm  the percentage of observations solved within the prescribed timeout  succ  rate    and the average search time  time
sec   where the average is computed over the set of observations excluding timeouts  for satbd 
the search time      includes all actions performed once per observation as described in section
     modeling the observation  online        excludes the cost of actions performed once per system as described in table   of section      column offline   and     includes times for adding the
observation and the cardinality constraints  encoding to cnf and solving with scryptominisat 
the results in table   show clearly that satbd outperforms all of the other evaluated algorithms 
both in terms of success rate as well as in terms of average runtime  satbd also outperforms
safari which succeeds to compute a diagnosis for almost all of the systems  however  only a
small percentage of these are of minimal cardinality as indicated by the column min card 
which shows the percentage  excluding timeouts  of observations where the diagnosis found by
safari is actually of minimal cardinality  we also show  in the column titled diag  ratio 
the ratio between the average cardinality of the diagnoses found by safari and the average minimal
cardinality  so for example looking at the data for system            of the diagnoses found by
safari are minimal  and the average diagnosis size found is      times larger than the average
size of the minimal cardinality diagnosis  we observe that satbd computes and verifies minimal
cardinality diagnoses even for observations with a minimal cardinality of     to the best of our
knowledge  no algorithm before succeeded to compute minimal cardinality diagnosis for such hard
observations 
table   details additional statistics for the running times presented in table    showing the
minimum  maximum  and standard deviation of the runtime for the solved observations  as can
be seen  the standard deviation of satbd is very small compared to the other algorithms  the
displayed statistics are only over cases solved within the    second timeout  table entries with
  mark cases where the corresponding algorithms could not find a minimal cardinality diagnosis
 within the timeout  even for a single observation 
observe in table   that       of the       observations for system c     are solved by satbd
within the    second timeout  only    observations are not solved   all of the observations are 
however  solved within    seconds each  as indicated by the last row in the table  one may observe
that while satbd solves all observations given    seconds  the other algorithms are still not able to
   

fia n ovel sat based a pproach to m odel based d iagnosis

solve all of them  with the exception of safari  given the extended    seconds timeout  safari
is also able to solve almost all of the observations for this system  but returns minimal cardinality
diagnoses only in     of the cases  and in average  the size of the diagnosis found by safari is
     times larger than the actual minimal cardinality 
name

ha 
succ 
time
rate 
sec 

cda 
succ 
time
rate 
sec 

succ 
rate 

safari
min
card  

time
sec 

satbd
succ  time
rate 
sec 

     
     
     
c   
c   
c   
c    
c    
c    
c    
c    
c    
c    

    
     
     
    
    
    
   
   
    
    
   
   
   

    
     
     
    
   
   
   
   
   
   
   
   
   

     
     
     
     
     
     
     
     
     
     
     
     
   

  
  
  
  
 
  
 
  
  
  
 
   
 

    
    
    
    
    
    
    
    
    
    
     
     
 

     
     
     
     
     
     
     
     
     
     
     
     
     

    
    
    
    
    
    
    
    
    
    
     
    
    

    
    
    
    
    
    
 

    
    
    
    
    
    
    
    
    
    
    
   
    

table    single minimal cardinality diagnosis  dxc    observations     sec  timeout  
table   shows the evaluation for the dxc    benchmark and is in the same format as table  
 except that we omit the details regarding the size of the diagnoses found by safari   the results
exhibit the same trend  our sat based method is substantially faster than all of the previous algorithms  note that this benchmark even contains observations with minimal cardinality diagnoses of
        which were also solved by satbd under the    seconds timeout  table   provides additional
statistics for these runtimes in the same format as in table    here too  we see a small standard
deviation for satbd compared to the other algorithms  note that the data for the c     system is
not given  as there is only a single observation for this system in the dxc    observation set 
figure   details the evaluation for a single minimal cardinality diagnosis with feldmans observations for four systems  from smaller to larger   for each system we plot the average runtime
to find a single minimal cardinality diagnosis  including timeouts  as a function of the value of
the minimal cardinality  the black diamond labeled timeout marks the time limit  after which
algorithms were halted 
typically  the diagnosis problem becomes harder as the minimal cardinality increases  first
consider the three plots in figures  a   b and  c  the two upper curves correspond to the systems
ha  and cda  and they quickly converge to the    seconds timeout  the curves for safari are
more or less constant but only a minority of the diagnoses are actually of minimal cardinality    
in c         in c    and    in c       the performance of safari is not affected by the
cardinality since it first finds an arbitrary diagnosis and then proceeds stochastically to minimize the
diagnosis using a pre defined number of attempts  this process involves consistency checks which
are affected only by the size of the system and not by the cardinality of the diagnosis 
now consider the plot in figure  d where we omit the curves for ha  and cda  as they depict
a constant    second timeout  the performance of safari is more or less constant  around the
average      seconds  but only     of the diagnoses found are actually of minimal cardinality  in
contrast  satbd is considerably faster and scales to solve even the hardest observations 
   

fim etodi   s tern   k alech   c odish

algorithm
system
system
     
     
     
c   
c   
c   
c    
c    
c    
c    
c    
c    

min
min
    
    
    
    
    
    
    
    
    
    
    
    

ha 
max
max
     
    
    
     
     
     
    
     
     
    
     
    

st  dev 
st  dev 
    
    
    
    
    
    
    
    
    
    
    
    

cda 
max
st  dev 
max
st  dev 
     
    
    
    
    
    
     
    
    
    
     
    
 

min
min
    
    
    
    
    
    
 

safari
max
st  dev 
max
st  dev 
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
     
    
 

min
min
    
    
    
    
    
    
    
    
    
    
     
 

min
min
    
    
    
    
    
    
    
    
    
    
    
    

satbd
max
st  dev 
max
st  dev 
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
     
    
     
    

    timeout

   

time  sec    log scale

time  sec    log scale

table    single minimal cardinality diagnosis  dxc    observations     sec  timeout   additional
statistics 

  
cda 

ha 

safari

satbd

 
   

  
cda 

ha 

safari

satbd

 
   

    

    
 

 

 
 
 
  
minimal cardinality

  

  

 

 a  system c        sec  timeout  
   

time  sec    log scale

  
cda 

ha 

safari

 

 

 

                         
minimal cardinality

 b  system c        sec  timeout  

    timeout

time  sec    log scale

timeout

satbd

 

timeout

  

safari

satbd

 

   

   

    

    
 

 

 

 

                          
minimal cardinality

 

 c  system c         sec  timeout  

 

 

 

                       
minimal cardinality

 d  system c         sec  timeout  

figure    single minimal cardinality diagnosis  feldmans observations  average search time per
size of the minimal cardinality diagnosis 

the results of this section clearly indicate that our sat based approach outperforms the other
three algorithms in the search for a single minimal cardinality diagnosis 
   

fia n ovel sat based a pproach to m odel based d iagnosis

name
c   
c   
c   
c    
c    
c    
c    
c    
c    

intelxeon x         ghz   gb ram
hdiag
dcas
succ 
time
succ 
time
rate 
sec 
rate 
sec 
     
    
     
    
     
    
     
    
    
    
    
    
    
    
    
    
    
      
    
     
    
      
     
    
   
    
     
   
    
      
   
    
      

intel core   duo e          ghz   gb ram
satbd
succ 
tld
time
tld
all
rate 
sec 
sec 
count
count
     
    
    
   
  
     
    
    
   
   
     
    
    
    
      
     
    
    
   
      
     
    
    
    
       
     
    
    
   
    
     
    
    
    
      
    
      
      
      
     
     
    
    
    
     

table    siddiqis observation set  search for all minimal cardinality diagnoses       sec  timeout  
    satbd vs  other mbd algorithms  all minimal cardinality diagnosis
we now compare satbd to the algorithms hdiag  siddiqi   huang        and dcas  siddiqi
  huang        in their application to search for all minimal cardinality diagnosis  both algorithms search for a complete set of the minimal cardinality diagnoses  we consider the observations
generated by siddiqi and huang        where minimal cardinality is bounded by   
table   presents the results of our evaluation  the results for the hdiag and dcas are quoted
from siddiqi and huangs work        where experiments are reported for an intelxeon x    
   ghz   gb ram  we present results only for the systems for which siddiqi and huang reported
results  although the machines differ  with an advantage for satbd   the results show a clear
advantage for satbd which is faster in orders of magnitude for the larger systems 
for each of the three algorithms the table reports on 
succ  rate  indicating the percentage of the observations for which the algorithm finds all
minimal cardinality diagnoses within an      second timeout  and
time sec  indicating the average computation times to find all minimal cardinality diagnoses
 taking the average over the set of observations for which there is no time out  
for satbd we report also
tld sec  the average runtime to compute all top level diagnoses 
tld count the number of top level diagnoses  and
all count the total number of minimal cardinality diagnoses found 
table   illustrates that satbd clearly outperforms hdiag and dcas  it succeeds to compute all
minimal cardinality diagnoses for all observations for all of the systems except for c     where
it succeeds on     of the    observations compared to       for dcas  note that because of
the higher success rate  the average runtimes for satbd involve harder observations not solved by
dcas 
observe that most of the diagnosis time for satbd is spent to find all top level diagnoses indicated in column tld sec  the cost to compute all minimal cardinality diagnoses is indicated in
column time sec and the difference between these two columns is negligible  this reflects the
   

fim etodi   s tern   k alech   c odish

fact that the set of all minimal cardinality diagnoses is derived as a cross product representation of
the set of all minimal cardinality diagnoses  observe also that the number of tlds  column tld
count  is small in comparison to the huge number of minimal cardinality diagnoses  column all
count   the focus on tlds is essential as each additional solution invokes an additional call to
the sat solver  using the sat solver to find the minimal cardinality diagnoses directly would be
hopeless due to their sheer number 
    impact of the components of satbd
we proceed to illustrate the impact of the various components of our sat based encoding of mbd 
satbd is designed using a variety of techniques that distinguish it from the simple vanilla encoding of an mbd problem to a sat problem described in section      we present here an evaluation
of the impact of these techniques based on several experiments using the following five configurations of our sat based system  these configurations are incremental  starting from the basic
model  each one adds another component  ending with the final model applied in satbd 
   vanilla  this is the minimal basic sat encoding for mbd described in section      here
we assume the naive upper bound on the minimal cardinality determined as the number of
outputs of the given system 
   improved cardinality bound  here we assume the same vanilla setting but consider the
improved bound on the minimal cardinality of a diagnosis using algorithm   
   e p  this setting is the same as the previous but applies the equi propagation constraint compiler of metodi and codish              to optimize the encoding as described in section     
   cones  this setting is the same as the previous but also partitions the system into its cones
and adds constraints to restrict the search to find top level diagnoses  tlds   as described in
section   
   sections  this setting is the same as the previous but also partitions the system into its
sections and introduces corresponding redundant cardinality constraints as described in section     
figure   illustrates the impact of each of the five settings on the search for a single minimal
cardinality diagnosis for      observations from feldmans observation set for system c     on
the horizontal axis  we consider the observations according to the size of their minimal cardinality
diagnosis  on the vertical axis  we illustrate the average runtime in seconds  all runs apply a    
second timeout  we choose system c    to present these results as   a  it is the only midsize system
for which the observation sets contain observations with minimal cardinality diagnosis larger than
    and  b  it is the largest system which exhibits an interesting behavior for all five configurations
without too many timeouts which shadow the results  with larger systems  such as c     and
c     considered below  only the last two of the five configurations exhibit interesting curves 
the other three configurations timeout on most of the observations 
the upper curve in figure   describes the vanilla setting and one may observe that as the cardinality increases the curve converges to the     second timeout  the second curve down describes
the improved bound setting and illustrates the impact of algorithm    especially for the observations with minimal cardinality diagnoses of size        here  using the improved bound reduces
   

fia n ovel sat based a pproach to m odel based d iagnosis

figure    impact of the different settings on the search for a single minimal cardinality diagnosis
for system c    

the number of iterations with the sat solver and this is the source of the improvement  to explain
why we see no improvement when the minimal cardinality diagnosis involves a larger number of
faults  consider first that for large minimal cardinalities  the results are meaningless as both of the
upper curves converge on the timeout  as for the medium sized minimal cardinalities  consider
that with both techniques the overwhelming part of the runtime is spent on the last unsat iteration  moreover  the number of iterations with the sat solver with both techniques is more or
less the same  this is because system c    has only    outputs which is the naive bound used
in the vanilla setting which then jumps down in each iteration to a smaller bound  but not using a
one by one decrement   given this evaluation we might consider omitting the constraints for the
improved lower bound depending on the parameters of the instance  however  the cost of running
algorithm   is negligible so we always impose the corresponding constraints 
the third curve down  e p   shows the additional impact when applying the equi propagation
constraint compiler  this results in substantial speedups over the first two settings  for example 
finding a diagnosis of minimal cardinality    requires an average of      seconds with this setting
in comparison to       seconds without it  the two lower curves of the graph coincide  and it
is the fourth setting  cones  which makes the dramatic impact on performance for system c    
the average runtime required to find the first minimal cardinality using this setting is under    
seconds for all observations  this includes finding diagnoses with minimal cardinality of        in
   milliseconds  on average  the runtimes with this setting are so small that we cannot observe any
additional added value when applying the fifth setting  sections   to this end we consider in the
next experiment a comparison using two larger systems  namely c     and c     
figure   illustrates the impact of the fifth setting which involves the partitioning of a system into
sections  the left graph illustrates the impact of sections when seeking a single minimal cardinality
diagnosis for the observations in system c     and the right graph illustrates the impact when
seeking all top level minimal cardinality diagnoses  tlds   the lower curve  in both graphs   summarizes the results using sections and the upper curve without  for example  for the observations
with minimal cardinality     with sections finding the first minimal cardinality diagnosis requires
   

fim etodi   s tern   k alech   c odish

figure    impact of sections and cones on the search for a single minimal cardinality diagnosis  left 
and on the search for all tlds  right  using system c     

figure    impact of sections and cones on the search for a single minimal cardinality diagnosis  left 
and on the search for all tlds  right  using system c     
an average of      seconds  while without it requires      seconds  for the same observations  with
sections  we find all tlds in an average of   seconds  and without it requires    seconds 
similar trends are illustrated in figure   which depicts the same information for system c     
here we apply a timeout of     seconds  and this timeout is encountered for    of the       observations when searching for all minimal cardinality tlds  timeout observations are not considered in
the average runtimes   however  even for these    observations  using sections provides on average
    more tlds than without         vs        tlds  before reaching the timeout 
table   details  for the iscas    benchmark with feldmans observations  the average sizes
of the sat encodings when using the full satbd algorithm  the table indicates the number of
system
  components
  variables
  clauses

c   
   
   
   

c   
   
   
    

c   
   
   
   

c    
   
    
    

c    
    
   
    

c    
    
    
    

c    
    
    
     

c    
    
    
     

c    
    
    
     

table    average sat encoding sizes for the iscas    benchmark with feldmans observations 
   

fia n ovel sat based a pproach to m odel based d iagnosis

components in each system and the number of variables and clauses in the resulting cnfs  taking
the average over all observations in the feldman benchmark  notably  as indicated by the table  the
sat encodings are extremely small with  in the worst case  less than three cnf variables and ten
cnf clauses per system component 

   discussion
this paper focuses on an mbd problem considering possibly multiple faulty components in a weak
fault model  the presentation is restricted to assume that  every component has a single output  the
observation includes a single input output  there are no queries about observations of specific components  probes   and there is no information regarding the probability of component failures  even
with these restrictions  the problem addressed in this paper is computationally hard and has been the
focus of many prior works in the model based diagnosis literature  feldman   van gemund       
williams   ragno        feldman et al       a  siddiqi   huang              
we discuss here briefly the applicability of our approach in a more general setting  deeper
analysis of how to adapt our approach to a more general setting is a research topic on its own  we
believe that our success in applying sat solvers to mbd problems in this simplified setting paves
the way to their application in other more general settings 
    boolean extensions
our approach applies directly in any setting where the components are described by propositional
formulae and where their mode of fault can be ignored  i e   any weak fault model setting   boolean
circuits are just one straightforward example where this is obvious and where the community has
focused attention  other examples with similar assumptions and where our sat based approach can
be expected to apply directly include the works by  abreu et al         where the authors model
software components as propositional formulae and apply an mbd algorithm to find bugs  kalech
and kaminka              where the authors model robots in a multi robot system and diagnose
the violation of coordination constraints among robots  and felfernig et al         where the authors
model finite domain constraints and diagnose inconsistent constraint sets 
note that restricting components to have a single output is not really a restriction as it is straightforward to represent a component with multiple outputs as a conjunction of single output components  in this way the partition into cones and sections is fully compatible with multiple output
components 
    probabilities
real world applications of mbd typically come with information regarding the probability of a
component to be faulty and many mbd algorithms exploit this information to prioritize diagnoses
with respect to their likelihood  interalia  see de kleer   williams        williams   ragno 
       sachenbacher and williams        showed how to incorporate fault probabilities in a treedecomposition diagnosis algorithm  extending our approach tonconsider
fi probabilities
o is straightfi
forward  the essential difference is in constraint    sum leq  hc fi c  comps   k   which
specifies the objective function we n
aim to minimize fiit can be replaced
o with a constraint that takes
fi
probabilities into account  sum leq  hc      pc   fi c  comps   k  where pc is the probabil   

fim etodi   s tern   k alech   c odish

ity that component c is faulty  so  constraints which are more likely to be faulty contribute less to the
objective function  note that it is straightforward to normalize the constraint so that the coefficients
are integers  constraints of this form are called pseudo boolean constraints and their encoding to
cnf is well studied  een   sorensson        
    testing and probes
another extension that is straightforward to model in sat concerns testing and probing  de kleer
  williams         here  the diagnosis algorithm is given multiple observations on the input output
behavior of the system  in testing  or additional observations on internal wires in the system  in
probing   under the assumption that faulty components are consistently faulty  we can invalidate
diagnoses that are inconsistent with multiple observations  similarly  probes can invalidate diagnoses that are not consistent with the new internal observation  both methods can be run iteratively
until there is a single consistent diagnosis  both techniques are straightforward to encode to sat 
for testing  to improve the diagnosis we simply take the conjunction of encodings with respect to
different observations  but using the same health variables  for probing we also take a conjunction
with the internal observations  the main challenge for both methods is to reduce the number of
probes  or tests  required to find the actual diagnosis  a common  greedy  approach to address this
challenge is to choose a probe  test  that maximizes the information gain as described by feldman
et al       b  
    the strong fault model
now consider an extension of our approach to a setting in which components are associated with
a wider range of possible faulty behavior modes  this is called the strong fault model  for
instance  a setting where a circuit component may be stuck at    always returns output     stuck
at   always returns output     or flip  always flips its output   struss   dressier        de kleer
  williams         in the context of this example  a naive sat model may be obtained as follows 
instead of considering only a single propositional health variable hc   consider one additional varif
s 
able per fault mode  hs 
c  stuck at zero   hc  stuck at one   and hc  flip   now  introduce clauses
f
s 
s 
 a  to express that any fault mode is a fault  hc  hc  hc  hc    and  b  to express that there is at
s 
f
most one fault on a component sum leq  hs 
c   hc   hc        in this way the propositional health
variable hc   as before  indicates if a component is healthy but a diagnosis is now an assignment of
fault types to each component  however  this extension requires to reconsider the definitions of
minimal diagnosis and cardinality and presents a new challenge in identifying useful partitions of
the system and in solving the problem with sat  we consider this as future work 
    diagnosis for physical systems
this is the most challenging problem  physical systems are typically dynamic  involve components
with time dependent behavior  and described in terms of continuous variables  one common approach to apply mbd to physical systems is to use qualitative models where the behavior of the
system is modeled as a set of constraints over non numerical  discrete  descriptions  subramanian
  mooney         a well known example of an mbd engine that makes such relaxations is the
livingstone model based diagnosis system  williams   nayak         livingstone has been successfully applied in deep space one  the first spacecraft for nasas new millennium program 
   

fia n ovel sat based a pproach to m odel based d iagnosis

a first and important step for a sat based approach for the diagnosis of physical systems is to
provide a setting for mbd in the strong fault model and able to capture probabilities  of course 
there are many additional challenges and the modeling of such systems using sat is an important
but feasible challenge 

   conclusion
this paper addresses an mbd challenge which has been extensively researched for more than   
years and for which a wide range of papers propose different algorithms  we present a novel satbased solution for this problem and determine for the first time  minimal cardinality diagnoses for
the entire standard benchmarks  we present an extensive experimental evaluation comparing our
algorithm to ha   cda   safari  hdiag and dcas  results are unequivocal  our algorithm outperforms the others  often by orders of magnitude  both for the search of a single minimal cardinality
diagnosis as well as for the search for all minimal cardinality diagnoses  we succeed to find and
verify a minimal cardinality diagnosis for all but    of the        observations of the benchmark
in under    seconds per observation  and for the remaining    in under    seconds each  to the
best of our knowledge  our satbd algorithm is the first algorithm to find the minimal cardinality of
these standard benchmarks discussed above  further details regarding the experimental evaluation
as well as a prototype implementation of our sat based mbd tool can be found online  metodi 
    a  metodi et al       b  
a major contribution to the success of our approach is the range of preprocessing techniques
presented in section    their impact is demonstrated through five configurations of the system
in section     and their full combination is the fifth such configuration  even as sat  and other
related solvers  improve we conjecture that careful modeling choices involving combinations of
these techniques are invaluable to the success of future mbd algorithms  it is our belief that the
results of this paper will pave the way to develop and apply sat based methodologies to other
mbd problems  in particular  extensions for diagnosis with probabilities of components to be
faulty  for sequential diagnosis with testing and probes  and  most challenging  for the diagnosis
of physical systems with qualitative models  we expect that our methodology  which combines
domain dependent preprocessing  clever modeling in sat  and application of tools to optimize the
cnf encodings  is relevant to other hard problems in ai where sat based techniques are applicable 
acknowledgments
this research was supported by the israel science foundation  grant        

references
abreu  r   zoeteweij  p   golsteijn  r     van gemund  a  j  c          a practical evaluation of
spectrum based fault localization  journal of systems and software                   
asn  r   nieuwenhuis  r   oliveras  a     rodrguez carbonell  e          cardinality networks
and their applications  in kullmann  o   ed    sat  vol       of lecture notes in computer
science  pp          springer 
asn  r   nieuwenhuis  r   oliveras  a     rodrguez carbonell  e          cardinality networks 
a theoretical and empirical study  constraints                
   

fim etodi   s tern   k alech   c odish

balakrishnan  k     honavar  v          intelligent diagnosis systems  journal of intelligent systems                 
batcher  k  e          sorting networks and their applications  in afips spring joint computing
conference  vol     of afips conference proceedings  pp         
bauer  a          simplifying diagnosis using lsat  a propositional approach to reasoning from
first principles  in bartak  r     milano  m   eds    international conference on integration of
ai and or techniques in constraint programming for combinatorial optimization problems
 cp ai or   vol       of lecture notes in computer science  pp        berlin  heidelberg 
springer verlag 
biere  a   heule  m   van maaren  h     walsh  t   eds            handbook of satisfiability  vol 
    of frontiers in artificial intelligence and applications  ios press 
brglez  f   bryan  d     kozminski  k          combinatorial profiles of sequential benchmark
circuits  in ieee international symposium on circuits and systems  pp           
bylander  t   allemang  d   tanner  m  c     josephson  j  r          the computational complexity of abduction  artificial intelligence                
codish  m     zazon ivry  m          pairwise cardinality networks  in logic for programming 
artificial intelligence  and reasoning  lpar   pp         
darwiche  a          decomposable negation normal form  journal of the acm                
de kleer  j     williams  b  c          diagnosing multiple faults  artificial intelligence        
      
de kleer  j          an improved approach for generating max fault min cardinality diagnoses  in
international workshop on principles of diagnosis  dx  
de kleer  j     williams  b  c          diagnosis with behavioral modes  in international joint
conference on artificial intelligence  ijcai   pp           
dressler  o     struss  p          occm  http   www occm de 
dxc

       
international diagnostic
https   sites google com site dxcompetition  

competition

series 

website 

een  n     sorensson  n          translating pseudo boolean constraints into sat  journal on
satisfiability  jsat               
el fattah  y     dechter  r          diagnosing tree decomposable circuits  international joint
conference on artificial intelligence  ijcai                
feldman  a   provan  g   de kleer  j   robert  s     van gemund  a          solving model based
diagnosis problems with max sat solvers and vice versa  in international workshop on
principles of diagnosis  dx   pp         
feldman  a          lydia ng  http   www general diagnostics com products 
php 
feldman  a   de castro  h  v   van gemund  a     provan  g          model based diagnostic
decision support system for satellites  in ieee aerospace conference  pp       ieee 
feldman  a   provan  g     van gemund  a       a   approximate model based diagnosis using
greedy stochastic search  journal of artificial intelligence research  jair              
   

fia n ovel sat based a pproach to m odel based d iagnosis

feldman  a   provan  g     van gemund  a       b   a model based active testing approach to
sequential diagnosis  journal of artificial intelligence research  jair              
feldman  a     van gemund  a  j  c          a two step hierarchical algorithm for model based
diagnosis  in conference on artificial intelligence  aaai   pp         
felfernig  a   schubert  m     zehentner  c          an efficient diagnosis algorithm for inconsistent constraint sets  artificial intelligence for engineering design  analysis and manufacturing              
frohlich  p     nejdl  w          a static model based engine for model based reasoning  in
international joint conference on artificial intelligence  ijcai   pp         
fujiwara  h   member  s   shimono  t     member  s          on the acceleration of test generation
algorithms  ieee transactions on computers               
hansen  m  c   yalcin  h     hayes  j  p          unveiling the iscas    benchmarks  a case
study in reverse engineering  ieee des  test           
jannach  d     schmitz  t          model based diagnosis of spreadsheet programs  a constraintbased debugging approach  automated software engineering         
kalech  m     kaminka  g  a          towards model based diagnosis of coordination failures  in
conference on artificial intelligence  aaai   pp         
kalech  m   kaminka  g  a   meisels  a     elmaliach  y          diagnosis of multi robot coordination failures using distributed csp algorithms  in conference on artificial intelligence
 aaai   pp         
kirkland  t     mercer  m  r          a topological search algorithm for atpg  in acm ieee
design automation conference  dac  pp         
knuth  d  e          the art of computer programming  volume  b  pre fascicle  a  section
         satisfiability  unpublished  draft available from  http   www cs faculty 
stanford edu knuth fasc a ps gz 
marques silva  j   lynce  i     malik  s          conflict driven clause learning sat solvers 
handbook of satisfiability              
metodi  a       a   scryptodiagnoser  a sat based mbd solver  http   amit metodi 
me research mbdsolver 
metodi  a       b   scryptominisat  http   amit metodi me research scrypto 
metodi  a     codish  m          compiling finite domain constraints to sat with bee  theory
and practice of logic programming  tplp                   
metodi  a   codish  m   lagoon  v     stuckey  p  j          boolean equi propagation for optimized sat encoding  in cp  pp         
metodi  a   codish  m     stuckey  p  j          boolean equi propagation for concise and efficient
sat encodings of combinatorial problems  journal of artificial intelligence research  jair  
           
metodi  a   stern  r   kalech  m     codish  m       a   compiling model based diagnosis to
boolean satisfaction  in conference on artificial intelligence  aaai  
   

fim etodi   s tern   k alech   c odish

metodi  a   stern  r   kalech  m     codish  m       b   compiling model based diagnosis to
boolean satisfaction  detailed experimental results and prototype implementation  http 
  www cs bgu ac il mcodish papers pages aaai      html 
murray  j   hughes  g     kreutz delgado  k          machine learning methods for predicting failures in hard drives  a multiple instance application  journal of machine learning research
 jmlr             
nica  i   pill  i   quaritsch  t     wotawa  f          the route to success   a performance comparison of diagnosis algorithms  in international joint conference on artificial intelligence
 ijcai   pp           
reiter  r          a theory of diagnosis from first principles  artificial intelligence              
sachenbacher  m     williams  b          diagnosis as semiring based constraint optimization  in
eureopean conference on artificial intelligence  ecai   pp         
selman  b     levesque  h  j          abductive and default reasoning  a computational core  in
national conference on artificial intelligence  aaai   pp         
siddiqi  s  a     huang  j          hierarchical diagnosis of multiple faults  in international joint
conference on artificial intelligence  ijcai   pp         
siddiqi  s  a     huang  j          sequential diagnosis by abstraction  journal of artificial intelligence research  jair              
smith  a   veneris  a  g   ali  m  f     viglas  a          fault diagnosis and logic debugging
using boolean satisfiability  ieee trans  on cad of integrated circuits and systems         
         
soos  m          cryptominisat  v       http   www msoos org cryptominisat  
stein  b   niggemann  o     lettmann  t          speeding up model based diagnosis by a heuristic
approach to solving sat  in iasted international conference on artificial intelligence and
applications  pp         
stern  r  t   kalech  m   feldman  a     provan  g  m          exploring the duality in conflictdirected model based diagnosis  in aaai 
struss  p     dressier  o          physical negation  integrating fault models into the general
diagnostic engine  in international joint conference on artificial intelligence  ijcai   pp 
         
struss  p     price  c          model based systems in the automotive industry  ai magazine        
     
stumptner  m     wotawa  f          diagnosing tree structured systems  artificial intelligence 
            
stumptner  m     wotawa  f          coupling csp decomposition methods and diagnosis algorithms for tree structured systems  in international joint conference on artificial intelligence
 ijcai   pp         
subramanian  s     mooney  r  j          qualitative multiple fault diagnosis of continuous dynamic systems using behavioral modes  in national conference on artificial intelligence
 aaai   pp         
   

fia n ovel sat based a pproach to m odel based d iagnosis

torasso  p     torta  g          model based diagnosis through obdd compilation  a complexity
analysis  in reasoning  action and interaction in ai theories and systems  pp         
wang  j     provan  g          a benchmark diagnostic model generation system  part a  systems
and humans  ieee transactions on systems  man and cybernetics                
williams  b  c     nayak  p  p          a model based approach to reactive self configuring systems  in national conference on artificial intelligence  aaai   pp         
williams  b  c     ragno  r  j          conflict directed a  and its role in model based embedded
systems  discrete applied mathematics                    

   

fi