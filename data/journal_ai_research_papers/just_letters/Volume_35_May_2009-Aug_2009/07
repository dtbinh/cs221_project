journal artificial intelligence research                  

submitted        published      

solving weighted constraint satisfaction problems
memetic exact hybrid algorithms
jose e  gallardo
carlos cotta
antonio j  fernandez

pepeg lcc uma es
ccottap lcc uma es
afdez lcc uma es

dept  lenguajes ciencias de la computacion
universidad de malaga  etsi informatica
campus de teatinos        malaga  spain

abstract
weighted constraint satisfaction problem  wcsp  constraint satisfaction problem
preferences among solutions expressed  bucket elimination complete
technique commonly used solve kind constraint satisfaction problem 
memory required apply bucket elimination high  heuristic method based
 denominated mini buckets  used calculate bounds optimal solution 
nevertheless  curse dimensionality makes techniques impractical large scale
problems  response situation  present memetic algorithm wcsps
bucket elimination used mechanism recombining solutions  providing
best possible child parental set  subsequently  multi level model
exact metaheuristic hybrid hybridized branch and bound techniques
mini buckets studied  case study  applied algorithms resolution
maximum density still life problem  hard constraint optimization problem based
conways game life  resulting algorithm consistently finds optimal patterns
date solved instances less time current approaches  moreover  shown
proposal provides new best known solutions large instances 

   introduction
many real problems formulated constraint satisfaction problems  csps 
solutions assignments set variables  each variable taking values certain
domain   exists collection constraints restrict assignment
particular values combination values  solving csp means finding feasible assignment
values variables  i e   one constraints satisfied  however  wide range
problems cannot posed way  either problem over constrained  and
thus solution  problem multiple solutions objective
find best one according optimality criterion  cases  problem might
handled optimization point view associating preferences constraints 
kind csp preferences among constraints solutions expressed
called weighted constraint satisfaction problems  wcsps   schiex  fargier    verfaillie 
      bistarelli  montanari    rossi         solving wcsp means optimally satisfying
set weighted constraints  clearly enlarges scope csps  many practical
problems modeled wcsps  instance  radio frequency assignment 
scheduling cellular manufacturing  among others  cabon  de givry  lobjois  schiex   
warners        khemmoudj   bennaceur        nonobe   ibaraki        
c
    
ai access foundation  rights reserved 

figallardo  cotta    fernandez

complete methods  branch and bound  lawler   wood        bucket elimination  dechter         technique originated early work bertele
brioschi        nonserial dynamic programming  two popular ways
attack wcsps  however  although picture csp general  noted
inclusion preferences constraints makes particular wcsp specific
consequence wcsps tackled using specialized algorithms
specifically designed  freuder   wallace        verfaillie  lematre    schiex       
kask   detcher        lematre  verfaillie  bourreau    laburthe        larrosa   schiex 
      gelain  pini  rossi    venable        khemmoudj   bennaceur        marinescu
  dechter         moreover  general techniques require large computational effort
 in time  memory both  solve many wcsps  due size complexity 
therefore impractical many cases  alleviated using heuristic methods 
e g   beam search  bs   barr   feigenbaum        mini buckets  dechter        
branch and bound bucket elimination respectively  however  large scale problems 
high computational cost still evident 
context use alternative techniques must considered overcome
limitations general techniques  instance  evolutionary algorithms  back        back 
fogel    michalewicz        powerful heuristics optimization problems based
principles natural evolution  flexible enough deployed wide
range problems  however  generality reduces competitiveness  unless domain
knowledge incorporated  need exploiting domain knowledge optimization
methods repeatedly shown  wolpert   macready        culberson        
memetic algorithms  moscato   cotta              krasnogor   smith        represent
one successful responses need  hart  krasnogor    smith        
paper explores different ways hybridizing branch and bound bucket elimination  and
corresponding heuristic methods  memetic algorithms  combining search
capabilities synergetic way 
hybrid techniques proposed used general problem solvers wcsps 
note essentially heuristic nature hence cannot provide optimality
proofs solutions obtain  notice however probably provide optimal
near optimal solutions wide range wcsps  furthermore  hybrid techniques
less time consuming general methods involved them  thus applied
larger problem instances  order experimentally evaluate hybrid techniques 
tackled maximum density still life problem  hard combinatorial optimization problem prime example weighted constraint optimization problem 
polynomial time algorithm known solve problem  although  best
knowledge  problem yet proven np hard  reasons 
surprising problem attracted interest constraint programming
community  central development assessment sophisticated techniques bucket elimination  indeed  constitutes excellent test bed different
optimization techniques  included csplib  repository  web page 
keeps record up to date results 
   http   www csplib org
   http   www ai sri com  nysmith life

   

fisolving wcsps memetic exact hybrid algorithms

   preliminaries
section  briefly introduce concepts techniques used rest
paper  end  first define weighted constraint satisfaction problems  well
techniques bucket elimination mini buckets  subsequently  describe beam
search  heuristic tree search algorithm derived branch and bound  finally  memetic
algorithms presented  sake notational simplicity  appropriate stick
notation larrosa et al               
    weighted constraint satisfaction problems
weighted constraint satisfaction problem  wcsp   schiex et al         bistarelli et al  
      constraint satisfaction problem  csp  preferences among solutions
expressed  formally  wcsp defined tuple  x   d  f      d      dn  
set finite domains  x    x      xn   set variables taking values finite
domains  di domain variable xi   f set cost functions  also called soft
constraints weighted constraints  used declare preferences among possible solutions 
variable correctly assigned receive finite costs express degree preference  the
lower value better preference  variables correctly assigned receive cost
  note f f defined subset variables  var f   x   called
p scope 
objective function f defined sum functions f  i e   f   f f f  
assignment value vi di variable xi noted xi   vi   partial assignment
  n variables tuple    xi    v    xi    v      xim   vm   ij             n 
different  complete assignment variables values domains
satisfies every soft constraint  i e   finite valuation f   represents solution
wcsp  optimization goal find solution minimizes objective function 
    bucket elimination
bucket elimination  be   dechter        generic technique suitable many automated
reasoning optimization problems and  particular  solving wcsp  functioning
based upon following two operators functions  larrosa et al         
sum two functions f g  denoted  f   g   new function scope
var f  var g  returns tuple sum costs f g  i e    f  g  t   
f  t    g t  
elimination variable xi f   denoted f xi   new function scope
var f    xi   returns tuple minimum cost extension xi  
 f xi   t    minvdi  f  t  xi   v      xi   v  means extension
assignment assignment value v variable xi   observe f
unary function  i e   arity one   constant obtained upon elimination
variable scope 
without losing generality  let us assume lexicographic ordering variables
x   i e      x    x      xn    figure   shows pseudo code algorithm solving
wcsp instance  returns optimal cost f one optimal assignment
   

figallardo  cotta    fernandez

bucket elimination wcsp  x   d  f  
  
  
  
  
  
  
  
  
  
    
    

function be x   d  f 
   n downto  
bi     f
p f   xi var f   
gi     
f bi f   xi
f     f  gi    bi
end
  
     n p
v    argminadi    f bi f   t  xi   a   
    xi   v 
end
return f  t 
end function

figure    general template  adapted larrosa morancho         bucket
elimination wcsp  x   d  f   

t  observe that  initially  eliminates decreasing order one variable xi x
iteration loop comprising lines      done computing firstly bucket bi
variable xi set cost functions f xi scope  then  new function
gi defined sum functions bi variable xi eliminated 
finally  f updated removing functions involving xi  i e   bi   adding
new function contain xi   consequence xi exist f
value optimal cost preserved  elimination x  produces function
empty scope  i e   constant  optimal cost problem  then 
lines       generates optimal assignment variables considering order
imposed o  done starting empty assignment assigning xi
best value extension t  respect sum functions bi  argmina  f  a  
represents value producing minimum f  a   
note exponential space complexity because  general  result summing functions eliminating variables cannot expressed intensionally algebraic expressions and  consequence  intermediate results collected extensionally
tables  precise  complexity depends problem structure  as captured
constraint graph g  ordering o  according larrosa morancho        


complexity along ordering time  q n dw  o      space  n dw  o    
largest domain size  q cost evaluating cost functions  usually assumed       w  o  induced width graph along ordering o  describes
largest clique created graph bucket elimination  corresponds
largest scope function recorded algorithm  although finding optimal
ordering np hard  arnborg         heuristics approximation algorithms
developed task check work dechter        details 
   

fisolving wcsps memetic exact hybrid algorithms

    mini buckets
main drawback requires exponential space store functions extensionally  complexity high  solution approximated using
mini bucket  mb  approach presented dechter        detcher rish         recall that  order eliminate variable xi  
p corresponding bucket bi    fi            fim   
calculates new cost function gi     f bi f   xi   whose time space complexity increases cardinality gi   i e   size set f bi var f    xi   
complexity decreased approximating function gi set smallerarity functions  basic idea partition bucket bi k called mini buckets
bi            bik   number variables scope bij bounded
parameter  afterwards 
set k cost functions reduced arity sought
p
defined gij     f bi f   xi   j           k  required approximation gi
j
p
p
p
computed sum gi      j k gij     j k    f bi f   xi   
j
note minimization computed gi operator migrated inside
sum  since  general  two non negative functions f   x  f   x   minx  f   x  
f   x     minx f   x    minx f   x   follows gi  lower bound gi   therefore 
variable elimination performed using approximated cost functions  provides lower
bound optimal cost requiring less computation be  notice described
approach provides family under estimating heuristic functions whose complexity
accuracy parameterized maximum number variables allowed mini bucket 
    beam search
branch and bound  bb   lawler   wood        general tree search method solving
combinatorial optimization problems  tree search methods constructive  sense
work partial solutions  way  tree search methods start empty
solution incrementally extended adding components it  way partial
solutions extended depends constraints imposed problem solved 
solution construction mechanism maps search space tree structure 
way path root tree leaf node corresponds construction
solution  order efficiently explore search tree  bb algorithms maintain
upper bound estimate lower bounds partially constructed solutions  assuming
minimization problem  upper bound corresponds cost best solution found
far  search process  lower bound computed partial solution
generated  estimating cost best solution constructed extending
it  lower bound greater current upper bound  solutions constructed
extending lead improvement  thus nodes descending
pruned search tree  clearly  capability algorithm pruning
search tree depends existence accurate lower bound 
computationally inexpensive order practical 
beam search  bs   barr   feigenbaum        algorithms incomplete derivates bb
algorithms  thus heuristic methods  essentially  bs works extending every partial
solution set b  called beam  kext possible ways  new partial
solution generated stored set b  solutions b processed 
algorithm constructs new beam selecting best kbw  called beam width 
   

figallardo  cotta    fernandez

solutions b  clearly  way estimating quality partial solutions 
lower bound  needed this 
interesting peculiarity bs way extends parallel set different partial
solutions several possible ways  making particularly suitable tree search method
used hybrid collaborative framework  it used provide periodically promising partial solutions population based search method memetic algorithm  
gallardo  cotta  fernandez        shown kind hybrid algorithms
provide excellent results combinatorial optimization problems  subsequently present hybrid tree search memetic algorithm wcsps based idea 
    memetic algorithms
evolutionary algorithms  eas  population based metaheuristic optimization methods
inspired biological evolution  back et al          order explore search space 
ea maintains set solutions known population individuals  usually
randomly initialized across search space  although heuristics may used 
initialization  three different phases iteratively performed termination condition
reached  selection  reproduction  which encompasses recombination mutation 
replacement  context eas  objective function assigning values solution
termed fitness function  used guide search 
note eas black box optimization procedures sense knowledge
problem  apart fitness function  used  need exploit problemknowledge repeatedly shown  wolpert   macready        culberson        however  different attempts made answer need  memetic algorithms  moscato
  cotta              krasnogor   smith         mas  one successful approaches date  hart et al          eas  mas population based metaheuristics  main difference components population  sometimes termed
agents terminology  passive entities  rather  active entities
cooperate compete order find improved solutions 
many possible ways implement mas  common implementation
consists combining ea procedure perform local search
solutions population main generation loop  cf  krasnogor   smith        
figure   shows general outline ma  px   pm arity respectively refer
recombination probability  mutation probability recombination arity i e   number
parents involved recombination  must noted however paradigm
simply reduce particular scheme different places  e g  
population initialization  genotype phenotype mapping  evolutionary operators  etc  
problem specific knowledge incorporated  work  addition using
tabu search  glover               ts  local search procedure within ma 
designed intelligent recombination operator uses relaxation bucket elimination
order find best solution constructed set parents without
introducing implicit mutation  i e   exogenous information  
   

fisolving wcsps memetic exact hybrid algorithms

memetic algorithm
  
  
  
  
  
  
  
  
  
    
    
    
    
    
    
    
    
    
    
    
    
    
    

function  px   pm   arity 
     popsize
pop i     random solution n 
pop i     local search pop i  
evaluate pop i  
end
timeout
     offsize
recombination performed  under px  
j      arity
parentj    select pop 
end
offspring i      recombine parent    parent            parentarity  
else
offspring i      select pop 
end
mutation performed  under pm  
offspring i      mutate offspring i   
end
offspring i      local search offspring i   
evaluate offspring i   
end
pop    replace pop  offspring 
end

figure    pseudo code memetic algorithm  ma   although different variants possible respect scheme  broadly captures typical algorithmic structure
mas 

   multi level memetic exact hybrid algorithm wcsps
wcsps suitable tackled evolutionary metaheuristics  obviously 
quality results greatly depend well knowledge problem
incorporated search mechanism  final goal present algorithmic model
based hybridization mas exact techniques two levels  within  as
embedded operator   outside  in cooperative model   firstly  focus
next subsection first level hybridization  incorporates exact technique
 namely be  within embedded recombination operator  subsequently 
proceed second level hybridization  cooperates branchand bound based beam search algorithm uses technique mini buckets
lower bound  see figure    
   

figallardo  cotta    fernandez



promising regions

bs
ga
ts
local
search



mb

crossover

lower
bound

upper bound

figure    schematic description proposed hybrid algorithm 
    optimal recombination
previously mentioned  one phases constitutes typical recombination
 i e   lines      figure     individuals population combined
aim obtaining improved individuals  purpose  different standard recombination operators proposed literature  see back et al          although
blind operators feasible computational point view  would perform poorly 
problem knowledge used  context wcsps  resort
order achieve sensible recombination information 
even though performance exact method resolution wcsps
may better basic search based approaches  corresponding time space complexity still high  making technique unsuitable large instances 
following  explain used implement intelligent recombination operator wcsps  operator implicitly explore possible children solutions
recombined  providing best solution constructed without introducing
implicit mutation  i e   exogenous information  cf  cotta   troya         note
use bucket elimination related usually referred large neighborhood
search  ahuja  ergun  orlin    punnen        
sake simplicity  let us assume variables wcsp  x   d  f  
domain  i e   d      dn    let x    x    x      xn      y    y      yn  
two solutions recombined   zi   value variable zi   operator calculate best solution obtained combining variables
x without introducing information present parents 
achieved restricting domain variables values appearing configurations recombined  recombination operator becomes be x   d  f  
    x        xn     y        yn     applying approach wcsp variables
may different domains would require previously separating set variables x
subsets variables sharing domain 
    beam search ma hybrid algorithm
subsection  describe hybrid tree search memetic algorithm wcsps 
algorithm combines  collaborative way  puchinger   raidl         bs algorithm
ma  noted previously  bs works extending parallel set different partial solutions
several possible ways  thus used provide promising partial solutions
   

fisolving wcsps memetic exact hybrid algorithms

hybrid algorithm wcsp
  
  
  
  
  
  
  
  
  
    
    
    
    
    
    
    
    

function bs ma  x   d  kbw   km  
sol   
b          
     n
b       
b
di
b      b    s  xi   a  
end
end
b    select best kbw nodes b  
 i   km  
initialize population best popsize nodes b  
run
sol    min  sol  solution 
end
end
return sol
end function
figure    hybrid algorithm wcsp 

population based search method ma  goal exploit capability bs
identifying potentially good regions search space  exploit
explore regions  synergistically combining two different approaches 
proposed hybrid algorithm  executes bs interleaved way 
depicted figure    pseudo code   possibly partial  solution wcsp instance
represented vector variables    x    x            xi      n   xi   a  stands
extension partial solution assigning value i th variable noted
previously  hybrid algorithm constructs search tree  leaves consist
complete solutions internal nodes level represent partially specified  up i th
variable  solutions  tree heuristically traversed breadth first way using bs
algorithm beam width kbw  i e   maintaining best kbw nodes level
tree   beam selection  line      heuristic quality measure defined
partial solutions  whose value must partial solution unfeasible  algorithm
starts  line    totally unspecified solution  initially  bs part algorithm
executed  iteration bs  lines        new variable assigned every
solution beam  line     interleaved execution starts partial
solutions beam least km variables  line      iteration bs 
best popsize solutions beam selected  using quality measure described above 
initialize population  line      since partial solutions  must
first converted full solutions  e g   completing remaining variables randomly 
   

figallardo  cotta    fernandez

running ma  solution used update incumbent solution  sol  
process repeated search tree exhausted 
    computing tight bounds mini buckets
performance bs component algorithm described previous section
depend quality heuristic function used estimate partial solutions  line
   figure     order compute tight  yet computationally inexpensive  lower bound
remanning part solution resort mini buckets  mb   described
kask detcher         intermediate functions created applying mb scheme
used general mechanism compute heuristic functions estimate best
cost yet unassigned variables partial solutions  end  mb must run
preprocessing stage  using reverse order search instantiate variables 
set augmented buckets computed process used estimations
best cost extension partial solutions  check work kask   detcher       
details  

   tackling maximum density still life problem
previously proposed algorithms general enough used many wcsps
executed  section present application case study maximum
density still life problem  mdslp   problem defined context game life
proposed john h  conway   s divulged martin gardner  gardner        
let us first describe game  played infinite checkerboard
player places checkers squares  square board called cell
eight neighbors  eight cells share one two corners it  cell alive
checker it  dead otherwise  contents board evolve iteratively 
way state time determines state time     according
simple rules      live cell remains alive two three live neighbors  otherwise
dies      dead cell becomes alive exactly three live neighbors 
simple rules game life nevertheless generate incredibly complex
dynamics  better understand mdslp  let us define stable pattern  also called
still life  board configuration change time  let density
region percentage living cells  mdslp nn grid consists finding still
life maximum density  elkies        shown that  infinite boards  maximum
density      for finite size  exact formula known   paper  concerned
mdslp finite patterns  is  finding maximal n n still lifes 
    related work
mdslp tackled literature using different approaches  bosch trick
       compared different formulations mdslp using integer programming  ip 
constraint programming  cp   best results obtained hybrid algorithm
mixing two approaches  able solve cases n      n     
    days cpu time respectively  smith        used pure constraint
programming approach address problem  however  instances n     
   

fisolving wcsps memetic exact hybrid algorithms

table    best experimental results reported bosch trick         cp ip   larrosa
morancho         be  larrosa et al          hyb be  solving
mdslp  time indicated seconds 

optimum
cp ip

hyb be

  
  
     
    
 

  
  
     
     
 

  
  
     
   
 

  
   
     

  
   

  
   

  
   

  
   

  
   

  

 

    

    

     

     

could solved  best results problem reported larrosa morancho
       larrosa et al          showing usefulness bucket elimination  be  
exact technique based variable elimination commonly used solving constraint
satisfaction problems described detail section      basic approach could solve
problem n          seconds  improvements increased boundary
n      twice much time  recently  cheng yap              tackled
problem via use ad hoc global case constraints  results comparable
ip cp hybrids  thus cannot compared ones obtained previously larrosa
et al 
table   summarizes experimental results current approaches used tackle mdslp  reporting computational times hybrid ip cp algorithm bosch trick
        approach larrosa morancho        be search hybrid
larrosa et al          although different computational platforms may used
experiments  trends clear give clear indication potential
different approaches  noted techniques applied mdslp
exact approaches  inherently limited increasing problem sizes
capabilities anytime algorithms unclear  tackle problem  recently proposed
use hybrid methods combining exact metaheuristic approaches  considered
hybridization evolutionary algorithms  a stochastic population based search
method  endowed tabu search  a local search method  gallardo  cotta    fernandez 
    a   resulting algorithm memetic algorithm  ma  see section       used
mechanism recombining solutions  providing best possible child
parental set  experimental tests indicated algorithm provided optimal nearoptimal results acceptable computational cost  subsequently  studied extended
multi level models previous hybrid algorithm hybridized
branch and bound derivative  namely beam search  bs  gallardo  cotta    fernandez 
    b   studies influence variable clustering multi parent recombination
performance algorithm conducted  results indicated
variable clustering detrimental problem multi parent recombination improves performance algorithm  best knowledge 
heuristic approaches applied problem date 
section  previous research problem included extended 
new contributions  redone experiments using improved implementation
   

figallardo  cotta    fernandez

bucket elimination crossover operator  described section      additionally 
present extensive experimental analysis bs ma hybrid described  gallardo
et al       b   analyzing sensitivity parameters  propose new hybrid
algorithm uses technique mini buckets improve lower bounds
partial solutions considered bs part hybrid algorithm  new algorithm
obtained hybridization  different levels  complete solving techniques  be  
incomplete deterministic methods  bs mb  stochastic algorithms  mas  
experimental analysis shows new proposal consistently finds optimal solutions
mdslp instances n      considerably less time previous approaches
reported literature  finally  order test scalability approach  novel
hybrid algorithm run large instances mdslp optimal
solution currently unknown  results successful  algorithm performed
state of the art level  providing solutions equal better best
ones reported date literature  readability reasons  many particular technical
details different algorithms mdslp omitted  fully described
accompanying report  gallardo  cotta    fernandez         rate  model
mdslp wcsp presented appendix a 
    memetic algorithm mdslp
first all  develop mdslp  ma  n n board represented
binary n n matrix  based stratified gradient provided penalty based fitness
function measures number violated constraints distance feasibility
 prioritizing former latter   efficient local search strategy explores
set solutions obtained flipping exactly one cell configuration devised  order
escape local optima  tabu search scheme used  line    figure    
uses crossover operation described section      line    figure    
one interesting property operator described limited recombining
two board configurations  instead generalized recombine number
considering domains consisting values variable parents 
multi parental capability explored rest paper 
evaluate usefulness described hybrid recombination operator  set experiments problem sizes n      n      realized  recall optimal
solutions mdslp known n        experiments performed
using steady state evolutionary algorithm  popsize        pm     n    px        binary
tournament selection   aim maintaining diversity  duplicated individuals
allowed population  algorithms run optimal solution found
time limit exceeded  time limit set   minutes problem instances size   
gradually increased    seconds size increment  algorithm
instance size     independent runs made  experiments paper
performed pentium iv pc      mhz    mb ram  suse linux 
base algorithm using two dimensional version spx  single point
crossover  recombination  endowed tabu search local improvement 
algorithm termed mats   shown capable finding feasible solutions systematically  solving optimality instances n       see mats figure  a  
   

fisolving wcsps memetic exact hybrid algorithms

  
   
 
   
 
   
 
   
 
   
 
   
 
   
 
   
 
   
 
   
 

  
mabe
mabe f
mabe f
mats

arity  
arity  
arity  
arity   

    
  

  distance optimum

  distance optimum

although performance algorithm degrades larger instances  provides distributions solutions whose average relative distance optimum less      
cases  contrasts case plain eas  incapable finding even
feasible solution runs  gallardo et al       a  

    
  
    
  
   
 
   

  

  

  

  

  

  

  

  

 

  

  

  

  

  

  

  

  

  

  

instance size

instance size

 a 

 b 

figure    relative distances optimum different  a  algorithms  b  arities sizes
ranging        subsequent figures  box summarizes    runs  boxes comprise second third quartiles distribution
 i e   inner       horizontal line marks median  plus sign indicates
mean  circles indicate results median     times
interquartile distance 
mats firstly compared mas endowed performing recombination 
since use recombination higher computational cost simple blind
recombination  guarantee recombining two infeasible solutions
result feasible solution  defined three variants mas 
first one  called ma be  always used perform recombination 
second  termed ma be f   require least one parents feasible
order apply be  otherwise blind recombination used 
last variant  identified ma be f   require two parents feasible 
thus restrictive application be 
evaluating variants  intend explore computational tradeoffs involved
application embedded component ma  algorithms 
mutation performed prior recombination order take advantage good solutions
provided be  figure  a shows empirical performance different algorithms 
results show ma be returns significantly better results mats   ma be f
find slightly better solutions ma be smaller instances  n               
   

figallardo  cotta    fernandez

larger instances winner ma be  seems effort saved recombining
unfeasible solutions improve performance algorithm  note
that  larger instances  ma be f better ma be f   correlates well
fact used frequently former latter 
mentioned section      optimal recombination scheme use readily extended multi parent recombination  eiben  raue    ruttkay         arbitrary number
solutions contribute constituent rows constructing new solution  additional experiments done explore effect capability ma be  figure  b
shows results obtained ma be different number parents recombined
 arities              arity      algorithm able find optimum solution
instances except n      n       the relative distance optimum
best solution found less       cases   runs arity     cannot find
optimum solutions remaining instances  note distribution improves
cases  clearly  performance algorithm deteriorates combining
  parents due higher computational cost be  variable clustering could
used alleviate higher computational cost  results performance degradation
since coarser granularity pieces information hinders information mixing  cotta
  troya        gallardo et al       b  
    bs ma hybrid algorithm mdslp
section evaluate instantiation bs hybrid algorithm described
section     mdslp  called bs ma be  beam selection  line    figure    
simple quality measure defined partial solutions  whose value either
partial configuration unstable  number dead cells otherwise  methodology
section         executions performed algorithm instance
size   arities            setting remaining parameters
kbw         preliminary tests indicated value reasonable   km
     n      n       n   i e   best      nodes kept level bs algorithm 
             levels bs tree initially descended
run  respect termination conditions  execution within
hybrid algorithm consists      generations  time limits imposed hybrid
algorithms  run n iterations bs 
figure  a shows results different values parameter km   order better
compare distributions  number optimal solutions obtained algorithm
 out    executions  shown box plot  km       n  performance
resulting algorithm improves significantly original ma  note bs ma be 
using arity   parents  able find optimum cases except n     
 this instance solved arity       distributions different instance sizes
significantly improved  n      arity            algorithm consistently finds
optimum runs  instances  solution provided algorithm
always within       optimum  except n       relative distance
optimum worst solution       two charts show that  general 
performance algorithm deteriorates increasing values km parameter 
may due low quality bounds used bs part 
   

fisolving wcsps memetic exact hybrid algorithms

   
arity  
arity  
arity  

   

k



       n

   

 
    
kma        n

    
arity  
arity  
arity  

 

 

 

kma        n

   

     
 

 

     
      

   

time best solution s 

   

    

   

   

   

                                            

 

  distance optimum

   

 

 

    
k

   

kma        n

   



     

       n

    
 

 

     

    

       

   

    

                                            

 
   

    

 

   
kma        n

   

     
     

 

   

     
        

   

   
                                            

 

  

  

  

  

  

  

  

  

 

  

 a 

  

  

  

  

  

  

  

  

  

instance size

instance size

 b 

figure     a  relative distances optimum  b  time best solution different
arities bs ma be km      n      n       n   sizes ranging
       numbers box indicate many times optimal
solution found 

regarding execution times  figure  b shows time distributions  in seconds  reach
best solution needed algorithms  although bs ma be requires time
ma be  time needed remains reasonable instances  always less
     seconds  note execution time increases arity  time
needed perform crossover operator  hand  execution
time decreases larger values km number executions decreases 
although  already remarked  quality solutions worsens 
    improving lower bound using mb mdslp
simple quality measure beam selection used previous section depends solely
part solution already constructed  section  experimentally
study use mb technique compute tight  yet computationally inexpensive 
   

figallardo  cotta    fernandez

lower bound remanning part configuration aim improving
performance bs part hybrid algorithm  basically  idea cluster cells
row board metavariable  metavariables partitioned
columns n m cells each  finally  resort mb estimate best cost
extensions partial board configuration considering columns 
summing estimations column extensions  bound best board extension
partial solution obtained  section  experimented      i e   three
columns row   although complexity still high  approach
used reduce further  considering columns 
   
   

  distance optimum

 
kma        n

   

     

 

  

     

       

   
                                            

 

  

  

  

  

     

  

  

  

  

  

  

 
kma        n

   

  

 

  

        

       

   

  

                                            

instance size

     

     

 

 a 

 b 

   

   

arity  
arity  
arity  

   

time b  sol s 

 

kma        n
  

 

        

        

       

arity  
arity  
arity  

   

k



       n

   

   
                                            

  

 

  

 c 

  

  

  

  

  

  

  

  

  

instance size

 

 d 

figure     a   c  relative distances optimum using different arities
bs ma be mb km      n      n       n   sizes ranging
        d  time  in seconds  best solution different arities
bs ma be mb km        n  sizes ranging       
experiments repeated hybrid algorithm equipped new lower bound 
bs ma be mb  figure  a  c shows results experiments values km
     n      n       n   algorithm finds optimum instances arities
relative distance optimum worst solution found less      
cases  best results obtained arity      although requires slightly
execution time  note bs ma be mb less sensitive setting parameter
km   means execution times reduced considerably using large value
parameter  see figure  d   particular combination parameters km        n
arity     provides excellent results lower computational cost  execution times
always     seconds n       comparison  recall approach
literature solve instances described larrosa et al         requires
   minutes n          hours n        days n      
approaches unaffordable n       note however times correspond
computational platform different ours  order make fairer comparison  executed
   

fisolving wcsps memetic exact hybrid algorithms

algorithm larrosa et al    platform  case  required      seconds
 i e      minutes  order solve n      instance    day
   hours solve n      instance  values close times reported
larrosa et al          hence indicate computational platforms fairly
comparable 
   

  distance

 

arity  
arity  
arity  

   
 
   
 

  

  

  

  

instance size

figure    relative distances best known solutions using different arities
bs ma be mb km       n  large instances  i e   sizes    
             note improvement best known solutions sizes   
   

figure    new best known maximum density still lifes n          

table    optimal solutions smdlp 
n
opt

     
     

  
  

  
   

  
   

  
   

  
   

  
   

  
   

  
   

     
       

  
   

    results large instances
already mentioned  currently approach available tackle mdslp
n       larrosa et al         tried algorithm n      n       could
   available http   www lsi upc edu  larrosa publications life source code tar gz   time
n      could obtained code provided larrosa et al  used even sized
instances 

   

figallardo  cotta    fernandez

solve instances within week cpu  large instances 
solutions relaxations problem known  one relaxations  known
symmetrical maximum density still life problem  smdslp   proposed bosch
trick         consists considering symmetric boards  either horizontally
 
vertically  reduces search space  n  ndn  e  
alone find vertically symmetric still lifes  considering variable domains
sets contain symmetric rows  larrosa morancho        larrosa et al 
       used algorithm solve smdslp instances considered far
paper  i e   n               well large instances  i e   n                   
results summarized table    shows instance size optimal
symmetrical solution  as number dead cells   clearly  cost optimal symmetric
still lifes upper bounds mdslp  additionally observed
tight n       results n      currently best known solutions
instances 
run algorithm  bs ma be mb  large instances  i e   n
                   compare results symmetrical solutions instances  results  displayed figure    show algorithm able find two new best known
solutions mdslp  namely n      n               dead
cells respectively new solutions  solutions pictured figure   
worth noting algorithm could find solution     dead cells
n      instance  instances  algorithm could reach best known solutions consistently  computation mini buckets large instances done
considering four clustered cost functions variables row board 
complexity using three cost functions still high 

   conclusions
many problems modeled wcsps  one exact technique used
tackle problems be  however  high space complexity exact technique 
makes approach impractical large instances  case  one resort minibuckets get approximate solution  although complexity large 
work  presented several proposals hybridization mb
memetic algorithms beam search order get effective heuristics shown
represent promising models 
experimentally evaluated model mdslp  excellent example
wcsp  highly constrained nature typical many optimization scenarios  difficulty solving problem illustrates limitations classical optimization approaches 
highlights capabilities proposed approaches  indeed  experimental results positive  solving large instances mdslp optimality  among
different models presented  must distinguish new algorithm resulting
hybridization  different levels  complete solving techniques  i e   bucket elimination  
incomplete deterministic methods  i e   beam search mini buckets  stochastic algorithms  i e   memetic algorithms   algorithm empirically produces good quality results 
solving optimality large instances constrained problem relatively
short time  providing new best known solutions large instances 
   

fisolving wcsps memetic exact hybrid algorithms

future work  plan consider complete versions hybrid algorithm 
involves use appropriate data structures store yet considered promising
branch and bound nodes  memory requirements course grow enormously
size problem instance considered  interesting analyze computational tradeoffs algorithm anytime technique 

acknowledgments
would thank javier larrosa valuable comments  helped us improve
significantly preliminary version paper  thanks due reviewers
constructive comments  work partially supported spanish mcinn
grant tin            nemesis  

appendix a  mdslp wcsp
shown larrosa morancho        larrosa et al          mdslp
well formulated wcsps  end  n n board configuration represented
n dimensional vector  r    r            rn    vector component encodes  as binary
string  row  j th bit row ri  noted rij   represents state j th cell
i th row  a value   represents live cell value   dead cell  
two functions rows useful describe constraints must satisfied
valid configuration  first one 
x
zeroes a   
   ai   
   
   i n

returns number dead cells row  i e   number zeroes binary string a  
second one 
adjs a    adjs    a         

l 
 
adjs  a    l     adjs    a        l       

max l  adjs    a             

   
i n
ai    
ai     

computes maximum number adjacent living cells row a  introduce ternary
predicate  stable ri    r   ri      takes three consecutive rows board configuration
satisfied if  if  cells central row stable  i e   cells row r
remain unchanged next iteration game  
stable a  b  c   

v

  i n s a  b  c  i 

     a  b  c  i       bi    
s a  b  c  i   
 a  b  c  i       
bi    
p
 a  b  c  i    max   i   j min n i     aj   bj   cj   bi  

   

 a  b  c  i  number living neighbors cell bi   assuming c rows
row b 
   

figallardo  cotta    fernandez

mdslp formulated wcsp using n cost functions          n  
accordingly  fn binary scope last two rows board  var fn      rn    rn   
defined as 

 
stable a  b      adjs b     
fn  a  b   
   
zeroes b   otherwise 
first line checks cells row rn stable  whereas second one checks
new cells produced nn board  note pair rows representing
unstable configuration assigned cost   whereas stable one assigned number
dead cells  to minimized  
       n     corresponding cost functions ternary scope var fi    
 ri    ri   ri     defined as 

 
 a  b  c   
zeroes b  

stable a  b  c   a    b    c         an   bn   cn      
   
otherwise 

case  boundary conditions checked left right board  regards
cost function f    binary scope first two rows board  var f       r    r    
specified similarly fn  

 
stable     b  c  adjs b     
   
f   b  c   
zeroes b   otherwise 

references
ahuja  r  k   ergun  o   orlin  j  b     punnen  a  p          survey large scale
neighborhood search techniques  discrete appl  math                    
arnborg  s          efficient algorithms combinatorial problems graphs bounded
decomposability   survey  bit         
back  t          evolutionary algorithms theory practice  oxford university press 
new york ny 
back  t   fogel  d     michalewicz  z          handbook evolutionary computation 
oxford university press  new york ny 
barr  a     feigenbaum  e          handbook artificial intelligence  morhan kaufmann 
new york ny 
bertele  u     brioschi  f          nonserial dynamic programming  academic press  new
york ny 
bistarelli  s   montanari  u     rossi  f          semiring based constraint satisfaction
optimization  journal acm                 
bosch  r     trick  m          constraint programming hybrid formulations three
life designs  international workshop integration ai techniques
constraint programming combinatorial optimization problems  cp ai or    pp 
     
   

fisolving wcsps memetic exact hybrid algorithms

cabon  b   de givry  s   lobjois  l   schiex  t     warners  j  p          radio link
frequency assignment  constraints              
cheng  k  c  k     yap  r  h  c          ad hoc global constraints life  van beek 
p   ed    principles practice constraint programming cp      vol      
lecture notes computer science  pp          berlin heidelberg  springer 
cheng  k  c  k     yap  r  h  c          applying ad hoc global constraints case
constraint still life  constraints            
cotta  c     troya  j          influence representation granularity heuristic
forma recombination  carroll  j   damiani  e   haddad  h     oppenheim  d 
 eds    acm symposium applied computing       pp          acm press 
cotta  c     troya  j          embedding branch bound within evolutionary algorithms 
applied intelligence                
culberson  j          futility blind search  algorithmic view free lunch 
evolutionary computation                
dechter  r          mini buckets  general scheme generating approximations automated reasoning    th international joint conference artificial intelligence 
pp            nagoya  japan 
dechter  r          bucket elimination  unifying framework reasoning  artificial
intelligence                  
detcher  r     rish  i          mini buckets  general scheme bounded inference 
journal acm                 
eiben  a   raue  p  e     ruttkay  z          genetic algorithms multi parent recombination  davidor  y   schwefel  h  p     manner  r   eds    parallel problem
solving nature iii  vol      lecture notes computer science  pp       
berlin heidelberg  springer 
elkies  n  d          still life problem generalizations  engel  p     syta  h 
 eds    voronois impact modern science  book    pp          institute math 
kyiv 
freuder  e  c     wallace  r  j          partial constraint satisfaction  artificial intelligence                 
gallardo  j  e   cotta  c     fernandez  a  j          finding still lifes memetic exact
hybrid algorithms  corr  available http   arxiv org abs           
gallardo  j   cotta  c     fernandez  a          hybridization memetic algorithms branch and bound techniques  ieee transactions systems  man
cybernetics  part b               
gallardo  j  e   cotta  c     fernandez  a  j       a   memetic algorithm bucket
elimination still life problem  gottlieb  j     raidl  g   eds    evolutionary
computation combinatorial optimization  vol       lecture notes computer
science  pp        berlin heidelberg  springer 
   

figallardo  cotta    fernandez

gallardo  j  e   cotta  c     fernandez  a  j       b   multi level memetic exact hybrid
algorithm still life problem  runarsson  t  p   et al   eds    parallel problem
solving nature ix  vol       lecture notes computer science  pp         
berlin heidelberg  springer 
gardner  m          fantastic combinations john conways new solitaire game 
scientific american              
gelain  m   pini  m  s   rossi  f     venable  k  b          dealing incomplete preferences soft constraint problems  bessiere  c   ed    principles practice
constraint programming cp       vol       lecture notes computer science 
pp          berlin heidelberg  springer 
glover  f          tabu search part i  orsa journal computing                
glover  f          tabu search part ii  orsa journal computing             
hart  w   krasnogor  n     smith  j          recent advances memetic algorithms  vol 
    studies fuzziness soft computing  springer  berlin heidelberg 
kask  k     detcher  r          general scheme automatic generation search
heuristics specification dependencies  artificial intelligence             
khemmoudj  m  o  i     bennaceur  h          valid inequality based lower bounds
wcsp  bessiere  c   ed    principles practice constraint programming
cp       vol       lecture notes computer science  pp          berlin
heidelberg  springer 
krasnogor  n     smith  j          tutorial competent memetic algorithms  model 
taxonomy  design issues  ieee transactions evolutionary computation        
       
larrosa  j     morancho  e          solving still life soft constraints bucket
elimination  principles practice constraint programming cp      vol 
     lecture notes computer science  pp          berlin heidelberg  springer 
larrosa  j   morancho  e     niso  d          practical use variable elimination
constraint optimization problems  still life case study  journal artificial
intelligence research             
larrosa  j     schiex  t          solving weighted csp maintaining arc consistency 
artificial intelligence                 
lawler  e     wood  d          branch bounds methods  survey  operations research 
              
lematre  m   verfaillie  g   bourreau  e     laburthe  f          integrating algorithms
weighted csp constraint programming framework  international workshop
modelling solving problems soft constraints  paphos  cyprus 
marinescu  r     dechter  r          best first and or search graphical models 
twenty second aaai conference artificial intelligence  pp            vancouver  canada  aaai press 
moscato  p     cotta  c          gentle introduction memetic algorithms  handbook
metaheuristics  pp          kluwer academic press  boston  massachusetts  usa 
   

fisolving wcsps memetic exact hybrid algorithms

moscato  p     cotta  c          memetic algorithms  gonzalez  t   ed    handbook
approximation algorithms metaheuristics  chap      chapman   hall crc
press 
nonobe  k     ibaraki  t          improved tabu search method weighted
constraint satisfaction problem  infor                 
puchinger  j     raidl  g          combining metaheuristics exact algorithms
combinatorial optimization  survey classification  mira  j     alvarez  j 
 eds    artificial intelligence knowledge engineering applications  bioinspired
approach  vol       lecture notes computer science  pp        berlin heidelberg  springer 
schiex  t   fargier  h     verfaillie  g          valued constraint satisfaction problems  hard
easy problems    th international joint conference artificial intelligence 
pp          montreal  canada 
smith  b  m          dual graph translation problem life  hentenryck  p  v 
 ed    principles practice constraint programming   cp      vol      
lecture notes computer science  pp          berlin heidelberg  springer 
verfaillie  g   lematre  m     schiex  t          russian doll search solving constraint
optimization problems  thirteenth national conference artificial intelligence
eighth innovative applications artificial intelligence conference  aaai   iaai
    pp          aaai press   mit press 
wolpert  d     macready  w          free lunch theorems optimization  ieee
transactions evolutionary computation              

   


