journal of articial intelligence research                  

submitted        published      

mixed strategies in combinatorial agency
moshe babaio

moshe microsoft com

microsoft research   silicon valley
mountain view  ca       usa

michal feldman

mfeldman huji ac il

school of business administration
and center for the study of rationality 
hebrew university of jerusalem 
jerusalem  israel

noam nisan

noam cs huji ac il

school of computer science 
the hebrew university of jerusalem 
jerusalem  israel

abstract
in many multiagent domains a set of agents exert eort towards a joint outcome  yet the
individual eort levels cannot be easily observed  a typical example for such a scenario is
routing in communication networks  where the sender can only observe whether the packet
reached its destination  but often has no information about the actions of the intermediate
routers  which inuences the nal outcome  we study a setting where a principal needs to
motivate a team of agents whose combination of hidden eorts stochastically determines an
outcome  in a companion paper we devise and study a basic combinatorial agency model
for this setting  where the principal is restricted to inducing a pure nash equilibrium  here
we study various implications of this restriction  first  we show that  in contrast to the
case of observable eorts  inducing a mixed strategies equilibrium may be benecial for the
principal  second  we present a sucient condition for technologies for which no gain can be
generated  third  we bound the principals gain for various families of technologies  finally 
we study the robustness of mixed equilibria to coalitional deviations and the computational
hardness of the optimal mixed equilibria 

   introduction
in this paper we study combinatorial agency with mixed strategies  this section reviews
some background on combinatorial agency with pure strategies and then present our results
for mixed strategies 
    background  combinatorial agency
the well studied principal agent problem deals with how a principal can motivate a
rational agent to exert costly eort towards the welfare of the principal  the diculty
in this model is that the agents action  i e  whether he exerts eort or not  is invisible
to the principal and only the nal outcome  which is probabilistic and also inuenced
c
    
ai access foundation  all rights reserved 

fibabaioff  feldman   nisan

by other factors  is visible    this problem is well studied in many contexts in classical
economic theory and we refer the readers to introductory texts on economic theory such
as the work of mass colell  whinston  and green         chapter     in these settings  a
properly designed contract  in which the payments are contingent upon the nal outcome 
can inuence a rational agent to exert the required eort 
in many multiagent settings  however  a set of agents work together towards a joint
outcome  handling combinations of agents rather than a single agent is the focus of the
work by babaio  feldman  and nisan      a   while much work was previously done
on motivating teams of agents  e g   holmstrom        strausz         our emphasis is on
dealing with the complex combinatorial structure of dependencies between agents actions 
in the general case  each combination of eorts exerted by the n dierent agents may result
in a dierent expected gain for the principal  the general question asks  given an exact
specication of the expected utility of the principal for each combination of agents actions 
which conditional payments should the principal oer to which agents as to maximize his
net utility 
we view this problem of hidden actions in computational settings as a complementary
problem to the problem of hidden information that is the heart of the eld of algorithmic
mechanism design  nisan  roughgarden  tardos    vazirani        nisan   ronen        
in recent years  computer science and articial intelligence have showed a lot of interest
in algorithmic mechanism design  in particular  they imported concepts from game theory
and mechanism design for solving problems that arise in articial intelligence application
domains  such as computer networks with routers as autonomous software agents 
communication networks serve as a typical application to our setting  since many computer networks  such as the internet and mobile ad hoc networks  are used and administered
by multiple entities with dierent economic interests  their performance is determined by
the actions among the various interacting self interested parties  thus  taking into account
the economic and strategic considerations together with the technical ones may be crucial
in such settings  indeed  recent years have seen a urry of research employing game theoretic models and analysis for better understanding the eect of strategic considerations on
network design and performance 
an example that was discussed in the work of feldman  chuang  stoica  and shenker
       is quality of service routing in a network  every intermediate link or router may
exert a dierent amount of eort  priority  bandwidth  etc   when attempting to forward
a packet of information  while the nal outcome of whether a packet reached its destination
is clearly visible  it is rarely feasible to monitor the exact amount of eort exerted by each
intermediate link  how can we ensure that they really do exert the appropriate amount
of eort  for example  in internet routing  ip routers may delay or drop packets  and in
mobile ad hoc networks  devices may strategically drop packets to conserve their constrained
energy resources  aside from forwarding decisions  which are done in a sequential manner 
some eort decisions take place prior to the actual packet transmission  and are done in
a simultaneous manner  there are many examples for such decisions  among them are the
quality of the hardware  appropriate tuning of the routers  and more  our focus is on these
   invisible here is meant in a wide sense that includes not precisely measurable  costly to determine 
or non contractible  meaning that it can not be upheld in a court of law  

   

fimixed strategies in combinatorial agency

a priori eort decisions  since they are crucial to the quality of the transmission  and it is
harder to detect agents who shirk with respect to these matters 
in the general model presented in the work of babaio et al       a   each of n agents
has a set of possible actions  the combination of actions by the players results in some
outcome  where this happens probabilistically  the main part of the specication of a
problem in this model is a function  the technology  that species this distribution for
each n tuple of agents actions  additionally  the problem species the principals utility
for each possible outcome  and for each agent  the agents cost for each possible action 
the principal motivates the agents by oering to each of them a contract that species a
payment for each possible outcome of the whole project  key here is that the actions of
the players are non observable  hidden actions  and thus the contract cannot make the
payments directly contingent on the actions of the players  but rather only on the outcome
of the whole project 
given a set of contracts  each agent optimizes his own utility  i e   chooses the action that
maximizes his expected payment minus the cost of the action  since the outcome depends
on the actions of all players together  the agents are put in a game here and are assumed
to reach a nash equilibrium  ne   the principals problem is that of designing the optimal
contract  i e  the vector of contracts to the dierent agents that induce an equilibrium that
will optimize his expected utility from the outcome minus his expected total payment  the
main diculty is that of determining the required nash equilibrium point 
our interest in this paper  as in the work of babaio et al       a   is focused on the
binary case  each agent has only two possible actions exert eort and shirk and there
are only two possible outcomes success and failure  our motivating examples come
from the following more restricted and concrete structured subclass of problem instances 
every agent i performs a subtask which succeeds with a low probability i if the agent does
not exert eort and with a higher probability i   i   if the agent does exert eort  the
whole project succeeds as a deterministic boolean function of the success of the subtasks 
for example  the boolean and and or functions represent the respective cases where
the agents are complementary  i e   where the project succeeds if and only if all the agents
succeed  or substitutive  i e   where the project succeeds if and only if at least one of the
agents succeeds   yet  a more restricted subclass of problem instances are those technologies
that can be represented by read once networks with two specied source and sink nodes 
in which every edge is labeled by a single agent  and the project succeeds  e g   a packet
of information reaches the destination  if there is a successful path between the source and
the sink nodes 
    this paper  mixed equilibria
the focus in the work by babaio et al       a  was on the notion of nash equilibrium in
pure strategies  we did not allow the principal to attempt inducing an equilibrium where
agents have mixed strategies over their actions  in the observable actions case  where the
principal can condition the payments on the agents individual actions  the restriction to
pure strategies is without loss of generality  mixed actions can never help since they simply
provide a convex combination of what would be obtained by pure actions 
   

fibabaioff  feldman   nisan

yet  surprisingly  we show this is not the case for the hidden actions case which we are
studying  in some cases  a mixed nash equilibrium can provide better expected utility to
the principal than what he can obtain by equilibrium in pure strategies  in particular  this
already happens in the case of two substitutive agents with a certain  quite restricted  range
of parameters  see section    
while inducing mixed strategy equilibria might be benecial for the principal  mixed
nash equilibrium is a much weaker solution concept than pure nash equilibrium  as was
already observed by harsanyi         as opposed to nash equilibria in pure strategies  the
guarantees that one obtains are only in expectation  in addition  any player can deviate from
his equilibrium strategy without lowering his expected payo even if he expects all other
players to stick to their equilibrium strategies  moreover  best response dynamics converge
to pure proles  and there is no natural dynamics leading to a mixed nash equilibrium 
as a result  if the principal cannot gain much by inducing a nash equilibrium in mixed
strategies  he might not be willing to tolerate the instability of this notion  our main goal
is to quantify the principals gain from inducing mixed equilibrium  rather than pure  to do
that  we analyze the worst ratio  over all principals values  between the principals optimal
utility with mixed equilibrium  and his optimal utility with pure equilibrium  we term this
ratio the price of purity  pop  of the instance under study 
the price of purity is at least   by denition  and the larger it is  the more the principal
can gain by inducing a mixed equilibrium compared to a pure one  we prove that for
super modular technologies  e g  technologies with increasing returns to scale  which
contains in particular the an d boolean function  the price of purity is trivial  i e   p op  
    moreover  we show that for any other boolean function  there is an assignment of
the parameters  agents individual success probabilities  for which the obtained structured
technology has non trivial pop  i e   p op        section    
while the price of purity may be strictly greater than    we obtain quite a large number
of results bounding this ratio  section     these bounds range from a linear bound for
very general families of technologies  e g   p op  n for any anonymous or sub modular
technology  to constant bounds for some restricted cases  e g   p op           for a family
of anonymous or technologies  and p op    for any technology with   agents  
additionally  we study some other properties of mixed equilibrium  we show that mixed
nash equilibria are more delicate than pure ones  in particular  we show that unlike the
pure case  in which the optimal contract is also a strong equilibrium  aumann       
 i e   resilient to deviations by coalitions   an optimal mixed contract  in which at least two
agents truly mix  never satises the requirements of a strong equilibrium  section    
finally  we study the computational hardness of the optimal mixed nash equilibrium 
and show that the hardness results from the pure case hold for the mixed case as well
 section    

   model and preliminaries
we focus on the simple binary action  binary outcome scenario where each agent has two
possible actions  exert eort or shirk  and there are two possible outcomes  failure 
success   we begin by presenting the model with pure actions  which is a generalization
of the model of winter         and then move to the mixed case  a principal employs a set
   

fimixed strategies in combinatorial agency

of agents n of size n  each agent i  n has a set of two possible actions ai           binary
action   the low eort action     has a cost of    ci           while the high eort action     as
a cost of ci      ci       ci    the played prole of actions determine  in a probabilistic way 
a contractible outcome  o          where the outcomes   and   denote project failure and
success  respectively  binary outcome   the outcome is determined according to a success
function t   a          an          where t a            an   denotes the probability of project
success where players play with the action prole a    a            an    a          an   a 
we use the notation  t  c  to denote a technology  a success function and a vector of costs 
one for each agent   we assume that everything but the eort of the agents is common
knowledge 
the principals value of a successful project is given by a scalar v      where he gains
no value from a project failure  in this hidden actions model the actions of the players are
invisible  but the nal outcome is visible to him and to others  and he may design enforceable
contracts based on this outcome  we assume that the principal can pay the agents but not
ne them  known as the limited liability constraint   the contract to agent i is thus given
by a scalar value pi    that denotes the payment that i gets in case of project success  if
the project fails  the agent gets no money  this is in contrast to the observable actions
model in which payment to an agent can be contingent on his action   the contracts to all
the agents public  all agents know them before making their eort decisions 
given this setting  the agents have been put in a game  where the utility of agent i
under the prole of actions a    a            an    a is given by ui  a    pi  t a   ci  ai    as
usual  we denote by ai  ai the  n     dimensional vector of the actions of all agents
excluding agent i  i e   ai    a            ai    ai             an    the agents will be assumed to
reach nash equilibrium  if such an equilibrium exists  the principals problem  which is our
problem in this paper  is how
 to design the contracts pi as to maximize his own expected
utility u a  v    t a    v  in pi    where the actions a            an are at nash equilibrium 
in the case of multiple nash equilibria  in our model we let the principal choose the desired
one  and suggest it to the agents  thus focusing on the best nash equilibrium  
as we wish to concentrate on motivating agents  rather than on the coordination between
agents  we assume that more eort by an agent always leads to a better probability of
success  formally  i  n  ai  ai we have that t    ai     t    ai    we also assume
that t a      for any a  a 
we next consider the extended game in which an agent can mix between exerting eort
and shirking  randomize over the two possible pure actions   let qi denote the probability
that agent i exerts eort  and let qi denote the  n     dimensional vector of investment
probabilities of all agents except for agent i  we can extend the denition of the success
function t to the range of mixed strategies  by taking the expectation 
t q            qn    



n

  qiai      qi    ai    t a            an  

a     n i  

   while in the pure case  babaio  feldman    nisan      b   the best nash equilibrium is also a strong
equilibrium  this is not the case in the more delicate mixed case  see section     other variants of ne
exist  one variant  which is similar in spirit to strong implementation in mechanism design  would be
to take the worst nash equilibrium  or even  stronger yet  to require that only a single equilibrium exists
 as in the work of winter        

   

fibabaioff  feldman   nisan

note that for any agent i and any  qi   qi   it holds that t qi   qi     qi  t    qi         qi   
t    qi    a mixed equilibrium prole in which at least one agent mixes with probability
pi         is called a non degenerate mixed equilibrium 
in pure strategies  the marginal contribution of agent i  given ai  ai   is dened to
be  i  ai     t    ai    t    ai    for the mixed case we dene the marginal contribution
of agent i  given qi to be  i  qi     t    qi    t    qi    since t is monotone  i is a
positive function 
we next characterize what payment can result in an agent mixing between exerting
eort and shirking 
claim     agent is best response is to mix between exerting eort and shirking with probability qi         only if he is indierent between ai     and ai      thus  given a prole
of strategies qi   agent i mixes only if 
pi  

ci
ci
 
i  qi  
t    qi    t    qi  

which is the payment that makes him indierent between exerting eort and shirking  the
 

q
 
expected utility of agent i  who exerts eort with probability qi is  ui  q    ci  it q 
i
 qi  
proof  recall that ui  q    t q   pi  qi  ci   thus ui  q    qi  ui     qi         qi    ui     qi   
since i maximizes his utility  if qi          it must be the case that ui     qi     ui     qi   
ci
 
 
solving for pi we get that pi   i  q
i  
a prole of mixed strategies q    q            qn   is a mixed nash equilibrium if for any agent
i  qi is agent is best response  given qi  
the principals expected utility under the mixed nash prole q is given
 
 by u q  v 
ci
 v  p    t q   where p is the total payment in case of success  given by p   i qi    i  q
 
i  

an optimal mixed contract for the principal is an equilibrium mixed strategy prole q  v 
that maximizes the principals utility at the value v  in babaio et al       a  we show a
similar characterization of optimal pure contract a  a  an agent that exerts eort is paid
ci
i  ai     and the utilities are the same as the above  when given the pure prole  in the
pure nash case  given a value v  an optimal pure contract for the principal is a set of agents
s   v  that exert eort in equilibrium  and this set maximizes the principals utility at the
value v 
a simple but crucial observation  generalizing a similar one in the work of babaio
et al       a  for the pure nash case  shows that the optimal mixed contract exhibits some
monotonicity properties in the value 
lemma      monotonicity lemma   for any technology  t  c  the expected utility of
the principal at the optimal mixed contract  the success probability of the optimal mixed
contract  and the expected payment of the optimal mixed contract  are all monotonically
non decreasing with the value 
the proof is postponed to appendix a  and it also shows that the same monotonicity
also holds in the observable actions case  additionally  the lemma holds in more general
settings  where each agent has an arbitrary action set  not restricted to the binary actions
model considered here  
   

fimixed strategies in combinatorial agency

we wish to quantify the gain by inducing mixed nash equilibrium  over inducing pure
nash  we dene the price of purity as the worse ratio  over v  between the maximum
utilities that are obtained in mixed and pure strategies 
denition     the price of purity p op  t  c  of a technology  t  c  is dened as the worse
ratio  over v  between the principals optimal utility in the mixed case and his optimal utility
in the pure case  formally 
 
 

t q   v   v  i q  v    i  qci  v  
i
i
 
 
p op  t  c    supv  

ci

t s  v   v  is   v  i  ai  
where s   v  denotes an optimal pure contract and q   v  denotes an optimal mixed contract 
for the value v 
the price of purity is at least    and may be greater than    as we later show  additionally  it is obtained at some value that is a transition point of the pure case  a point in
which the principal is indierent between two optimal pure contracts  
lemma     for any technology  t  c   the price of purity is obtained at a nite v that is a
transition point between two optimal pure contracts 
    structured technology functions
in order to be more concrete  we next present technology functions whose structure can be
described easily as being derived from independent agent tasks  we call these structured
technology functions  this subclass gives us some natural examples of technology functions 
and also provides a succinct and natural way to represent technology success functions 
in a structured technology function  each individual succeeds or fails in his own task
independently  the projects success or failure deterministically depends  maybe in a complex way  on the set of successful sub tasks  thus we will assume a monotone boolean
function f         n         which indicates whether the project succeeds as a function of
the success of the n agents tasks 
a structured technology function t is dened by t a            an   being the probability
that f  x            xn       where the bits x            xn are chosen according to the following
distribution  if ai     then xi     with probability i          and xi     with probability
   i    otherwise  i e  if ai      then xi     with probability i   i  and xi     with
probability    i    thus  a structured technology is dened by n  f and the parameters
 i   i  in  
let us consider two simple structured technology functions  and and or  first
consider
the and technology  f  x            xn   is the logical conjunction of xi  f  x   

x
  
thus the project succeeds only if all agents succeed in their tasks  this is shown
in i
graphically as a read once network in figure   a   for this technology  the probability
of success is the product of the individual
success probabilities  agent i succeeds with

probability iai  i ai   thus t a    in iai  i ai  
next consider the or technology  f  x            xn   is the logical disjunction of xi
 f  x    in xi    thus the project succeeds if at least one of the agents succeed in their
   

fibabaioff  feldman   nisan

s

x  x 

xn

x 
x 
t

s

t

xn
 b  or technology

 a  and technology

figure    and and or technologies  in and  a   the project is successful if a packet is routed
along a linear path  where each agent controls an edge   and in or  b   the project is
successful if a packet is routed at least along one edge 

tasks  this is shown graphically as a read once network in figure   b   for this technology 
the probability of success is   minus the probability
that all of them fail  agent i fails with
probability     i  ai      i   ai   thus t a       in     i  ai      i   ai  
these are just two simple examples  one can consider other more interesting examples
as the majority function  the project succeed if the majority of the agents are successful  
or the or of ands technology  which is a disjunction over conjunctions  several teams 
the project succeed if all the agents in any one of the teams are successful   for additional
examples see the work of babaio et al       a  
a success function t is called anonymous
if it is symmetric with respect to the players 

i e  t a            an   depends only on i ai   for example  in an anonymous or technology
there are parameters             such that each agent i succeed with probability 
with no eort  and with probability     with eort  if m agents exert eort  the success
probability is         m       nm  
a technology has identical costs if there exists a c such that for any agent i  ci   c 
as in the case of identical costs the pop is independent of c  we use p op  t  to denote
the pop for technology t with identical costs  we abuse notation and denote a technology
with identical costs by its success function t  throughout the paper  unless explicitly stated
otherwise  we assume identical costs  a technology t with identical costs is anonymous if t
is anonymous 

   example  mixed nash outperforms pure nash 
if the actions are observable  henceforth  the observable actions case   then an agent that
exerts eort is paid exactly his cost  and the principals utility equals the social welfare 
in this case  the social welfare in mixed strategies is a convex combination of the social
welfare in pure strategies  thus  it is clear that the optimal utility is always obtained in pure
strategies  however  surprisingly enough  in the hidden actions case  the principal might
gain higher utility when mixed strategies are allowed  this is demonstrated in the following
example 

   

fimixed strategies in combinatorial agency

figure    optimal mixed contracts in or technologies with   agents  the areas indicated by   
   and   correspond to areas where it is optimal that       or   agents  respectively 
exert eort with probability    the white area corresponds to both agents exert eort
with the same non trivial probability  q  for any xed   q increases in v 

example     consider an anonymous or technology with two agents  where c        
                           and v        it holds that t                    
       t         t                                 and t                           
consider the mixed strategy q    q          it holds that  t                  t        
      t                t                  t               t                and t              
       t                     t                   t                the payment to each player
 
         thus the principals
under a successful project is pi                t        t        
utility under the mixed strategies q    q         and v       is u                     
t                                        
while the principals utility under the mixed prole q    q         is          the
optimal contract with pure strategies is obtained when both agents exert eort and achieves
a utility of        this implies that by moving from pure strategies to mix strategies  one
gains at least                       factor improvement  which is approximately       
a worse ratio exists for the more general case  in which it does not necessarily hold that
        of                   and v        for this case we get that the optimal pure
contract is with one agent  gives utility of        while the mixed contract q    q        
gives utility of          and the ratio is at least         approximately       
to complete the example  diagram   presents the optimal contract for or of   agents 
as a function of   when         and v  it shows that for some parameters of  and v 
the optimal contract is obtained when both agents exert eort with equal probabilities 
the following lemma  proved in appendix a    shows that optimal mixed contracts in
any anonymous or technology  with n agents  have this specic structure  that is  all
agents that do not shirk  mix with exactly the same probability 

   

fibabaioff  feldman   nisan

lemma     for any anonymous or technology  any      c  n  and value v  either the
optimal mixed contract is a pure contract  or  in the optimal mixed contract k            n 
agents exert eort with equal probabilities q            qk          and the rest of the agents
exert no eort 

   when is pure nash good enough 
next  we identify a class of technologies for which the price of purity is    that is  the
principal cannot improve his utility by moving from pure nash equilibrium to mixed nash
equilibrium  these are technologies for which the marginal contribution of any agent is nondecreasing in the eort of the other agents  formally  for two pure action proles a  b  a
we denote b  a if for all j  bj j aj  eort bj is at least as high as the eort aj   
denition     a technology success function t exhibits  weakly  increasing returns to
scale  irs   if for every i  and every pure proles b  a
t bi   bi    t ai   bi    t bi   ai    t ai   ai  
any and technology exhibits irs  winter        babaio et al       a   for irs
technologies we show that p op     
theorem     assume that t is super modular  for any cost vector c  p op  t  c      
moreover  a non degenerate mixed contract is never optimal 
proof  for a mixed prole q    q    q            qn    let s q  be the support of q  that is  i  s q 
if and only if qi      and for any agent i  s q  let si   s q     i  be the support of q
excluding i  similarly  for a pure prole a    a    a            an   let s a  be the support a  under
ci
  similarly  under
the mixed prole q  agent i  s q  is being paid pi  qi     t   qi  t   q
i  
ci
the pure prole a  agent i  s a  is being paid pi  s a     i     pi  ai     t s a  t s a   i  
 
where t t   is the success probability when aj     for j  t   and aj     for j 
  t   we also
denote i  t     t t    t t    i   
we show that if q is a non degenerate mixed prole  i e   at least one agent in q exerts
eort with probability qi           the prole in which each agent in s q  exerts eort with
probability   yields a higher utility to the principal 
by lemma      see section     it holds that pi  qi    mint si pi  t    where pi  t    
ci
i  t     but if t exhibits irs  then i  t   is an increasing function by denition  see section     therefore mint si pi  t     pi  si    therefore it holds that for any i  s q  
pi  qi    pi  si    thus 


pi  qi   
pi  si  
is q 

is q 

   note that t exhibits irs if and only if it is super modular 

   

fimixed strategies in combinatorial agency

in addition  due to the monotonicity of t  it holds that t q    t s q    therefore 



u q  v    t q  v 
pi  qi  


is q 

  t s q   v 

 t s q   v 


is q 




pi  qi  

pi  si  

is q 

  u s q   v 
where u s q   v  is the principals utility under the pure prole in which all the agents in
s q  exert eort with probability    and the rest exert no eort 
 
we show that an d  on some subset of bits  is the only function such that any structured
technology based on this function exhibits irs  that is  this is the only function such that for
any choices of parameters  any n and any  i   i  in    the structured technology exhibits
irs  for any other boolean function  there is an assignment for the parameters such that the
created structured technology is essentially or over   inputs  lemma b   in appendix b  
thus it has non trivial pop  recall example       for the proof of the following theorem
see appendix b 
theorem     let f be any monotone boolean function with n    inputs  that is not
constant and not a conjunction of some subset of the input bits  then there exist parameters
 i   i  ni   such that the pop of the structured technology with the above parameters  and
identical cost c      is greater than        
thus  our goal now is to give upper bounds on the pop for various technologies 

   quantifying the gain by mixing
in this section we present bounds on the price of purity for general technologies  following
by bounds for the special case of or technology 
    pop for general technologies
we rst show that the pop can be bounded by the principals price of unaccountability  babaio et al       b   whose denition follows 
denition     the principals price of unaccountability p oup  t  c  of a technology  t  c 
is dened as the worst ratio  over v  between the principals utility in the observable actions
case and the hidden actions case 

  v    v 
t soa
  v  ci
isoa

p oup  t  c    supv  
ci
t s   v    v  is   v  i  a
i  
  v  is the optimal pure contract in the observable actions case  and s   v  is the
where soa
optimal pure contract in the hidden actions case 

   

fibabaioff  feldman   nisan

theorem     for any technology t it holds that p oup  t   p op  t  
proof  both p oup  t  and p op  t  are dened as supremum over utilities ratio for a given
value v  we present a bound for any v  thus it holds for the supremum  the denominator in
both case is the same  it is the optimal utility of the principal in the hidden actions case with
pure strategies  the numerator in the pop is the optimal principal utility in the hiddenactions case with mixed strategies  obviously  this is at most the optimal principal utility
in the observable actions case with mixed strategies  it has already been observed that in
the observable actions case mixed strategies cannot help the principal  see section     i e  
the principal utility with mixed strategies equals the principal utility with pure strategies 
the assertion of the theorem follows by observing that the optimal principal utility with
pure strategies in the observable action case is the numerator of p oup  
 
however  this bound is rather weak  to best see this  note that the principals price of
unaccountability for and might be unbounded  e g   babaio et al       b   yet  as shown
in section      p op  an d      
in this section we provide better bounds on technologies with identical costs  we begin
by characterizing the payments for a mixed contract  we show that under a mixed prole 
each agent in the support of the contract is paid at least the minimal payment to a single
agent under a pure prole with the same support  and at most the maximal payment 
for a mixed prole q    q    q            qn    let s q  be the support of q  that is  i  s q 
if and only if qi      similarly  for a pure prole a    a    a            an   let s a  be the
ci
support a  under the mixed prole q  agent i  s q  is being paid pi  qi     t   qi  t   q
 
i  
similarly  under the pure prole a  agent i  s a  is being paid pi  s a     i     pi  ai    
ci
t s a  t s a   i     where t t   is the success probability when aj     for j  t   and aj    
for j 
  t 
lemma     for a mixed prole q    q    q            qn    and for any agent i  s q  let si  
s q     i  be the support of q excluding i  it holds that
maxt si pi  t    pi  qi    mint si pi  t  
proof  we show that for any agent i  s q   the increase in the success probability from him
exerting eort when some other players play mixed strategies  is a convex combination of
the increases in the success probability
when
in the support play pure strategies 

nthe aagents
i
recall that  t q            qn     a     n   i   qi      qi    ai    t a            an   
let t be the technology t restricted to the support s   s q   that is  if i            is are
the agents in s then t  ai    ai            ais   is dened to be the value of t on a  when aj    
for any agent j 
  s  and aj   aik for j   ik  s  t is dened on mixed strategies in the
expected way  thus 
i  qi     t    qi    t    qi  
  t     qsi    t     qsi  

 aj
 
 
qj      qj    aj     t     a  
a      s   jsi

 



 





 



a      s   jsi
a
qj j

     qj    aj     t     a   t     a  

a      s   jsi

   

qj j      qj    aj    t     a 
a

fimixed strategies in combinatorial agency

we conclude that i  qi   is a convex combination of i  bi   for b with support s b  
si   therefore  mint si  t  i   t    t t     i  qi    maxt si  t  i   t    t t    
thus 
maxt si    t  i   t    t t        mint si  t  i   t    t t   
   i  qi     pi  qi  
   maxt si  t  i   t    t t   
  mint si    t  i   t    t t   
 
in what follows  we consider two general families of technologies with n agents  anonymous technologies and technologies that exhibit decreasing returns to scale  drs   drs
technologies are technologies with decreasing marginal contribution  more eort by others
decrease the contribution of an agent   for both families we present a bound of n on the
pop 
we begin with a formal denition of drs technologies 
denition     a technology success function t exhibits  weakly  decreasing returns to
scale  drs   if for every i  and every b  a
t bi   bi    t ai   bi    t bi   ai    t ai   ai  
theorem     for any anonymous technology or a  non anonymous  technology that exhibits drs  it holds that p op  t   n 
for the proof of this theorem as well as the proofs of all claims that appear later in this
section  see appendix c  we also prove a bound on the pop for any technology with  
agents  even not anonymous   and an improved bound for the anonymous case 
theorem     for any technology t  even non anonymous  with   agents  it holds that
p op  t      if t is anonymous then p op  t       
we do not provide bounds for non anonymous technologies  this is left as an open
problem for future research  we believe that the linear bound for anonymous and drs
technologies are not tight and we conjecture that there exists a universal constant c that
bounds the pop for any technology  moreover  our simulations seem to indicate that a nonanonymous or technology with   agents yields the highest possible pop  this motivates
us to explore the pop for the or technology in more detail 
    pop for the or technology
as any or technology  even non anonymous  exhibits drs  see appendix a     this implies
a bound of n on the pop of the or technology  yet  for anonymous or technology we
present improved bounds on the pop  in particular  if              we can bound the
pop by          
   note that t exhibits drs if and only if it is submodular 

   

fibabaioff  feldman   nisan

theorem     for any anonymous or technology with n agents 
n

 n   n       b  pop goes to   as n goes
   if               a  p op      

to   for any xed   or when  goes to    for any xed n     
   if

 
 

               a  p op 

to   or as  goes to

 
 


       

  
      

           b  pop goes to   as  goes

 for any xed n     

while the bounds for anonymous or technologies for the case in which        are
much better than the general bounds  they are still not tight  the highest pop we were able
to obtain by simulations was of        for      and        for         see section    
but deriving the exact bound analytically is left as an open problem 

   the robustness of mixed nash equilibria
in order to induce an agent i to truly mix between exerting eort and shirking  pi must
be equal exactly to ci  i  qi    see claim       even under an increase of  in pi   agent
i is no longer indierent between ai     and ai      and the equilibrium falls apart 
ci
this is in contrast to the pure case  in which any pi  i  a
will maintain the required
i  
equilibrium  this delicacy exhibits itself through the robustness of the obtained equilibrium
to deviations in coalitions  as opposed to the unilateral deviations as in nash   a strong
equilibrium  aumann        requires that no subgroup of players  henceforth coalition 
can coordinate a joint deviation such that every member of the coalition strictly improves
his utility 
denition     a mixed strategy prole q        n is a strong equilibrium  se  if there
does not exist any coalition   n and a strategy prole q  i        such that for any
   q     u  q  
i    ui  q
i

in the work of babaio et al       b  we show that under the payments that induce the
pure strategy prole s  as the best pure nash equilibrium  i e   the pure nash equilibrium
that maximizes the principals utility   s  is also a strong equilibrium  in contrast to the
pure case  we next show that any non degenerate mixed nash equilibrium q in which there
exist at least two agents that truly mix  i e   i   j s t  qi   qj           can never be a strong
equilibrium  this is because if the coalition     i qi          deviate to q in which each
i   exerts eort with probability    each agent i   strictly improves his utility  see
proof in appendix d  
theorem     if the mixed optimal contract q includes at least two agents that truly mix
 i   j s t  qi   qj           then q is not a strong equilibrium 
in any or technology  for example  it holds that in any non degenerate mixed equilibrium at least two agents truly mix  see lemma       therefore  no non degenerate contract
in the or technology can be a strong equilibrium 
as generically a mixed nash contract is not a strong equilibrium while a pure nash
contract always is  if the pricipal wishes to induce a strong nash equilibrium  e g   when
the agents can coordinate their moves   he can restrict himself to inducing a pure nash
equilibrium  and his loss from doing so is bounded by the pop  see section    
   

fimixed strategies in combinatorial agency

   algorithmic aspects
the computational hardness of nding the optimal mixed contract depends on the representation of the technology and how it is being accessed  for a black box access and for
the special case of read once networks  we generalize our hardness results of the pure case
 babaio et al       b  to the mixed case  the main open question is whether it is possible
to nd the optimal mixed contract in polynomial time  given a table representation of the
technology  the optimal pure contract can be found in polynomial time in this case   our
generalization theorems follow  see proofs in appendix e  

theorem     given as input a black box for a success function t  when the costs are
identical   and a value v  the number of queries that is needed  in the worst case  to nd the
optimal mixed contract is exponential in n 

even if the technology is a structured technology and further restricted to be the sourcepair reliability of a read once network  see  babaio et al       b    computing the optimal
mixed contract is hard 
theorem     the optimal mixed contract problem for read once networks is  p  hard
 under turing reductions  

   conclusions and open problems
this paper studies a model in which a principal induces a set of agents to exert eort through
individual contracts that are based on the nal outcome of the project  the focus of this
paper is the question how much the principal can benet when inducing a nash equilibrium
in mixed strategies instead of being restricted to a pure nash equilibrium  as was assumed
in the original model   we nd that while in the case of observable actions mixed equilibria
cannot yield the principal a higher utility level than pure ones  this can indeed happen
under hidden actions  yet  whether or not mixed equilibria improve the principals utility
depends on the technology of the project  we give sucient conditions for technologies
in which mixed strategies yield no gain to the principal  moreover  we provide bounds on
the principals gain for various families of technologies  finally  we show that an optimal
contract in non degenerated mixed nash equilibrium is not a strong equilibrium  in contrast
to a pure one  and that nding such an optimal contract is computationally challenging 
our model and results raise several open problems and directions for future work  it
would be interesting to study the principals gain  from mixed strategies  for dierent
families of technologies  such as series parallel technologies  additionally  the model can be
extended beyond the binary eort level used here  moreover  our focus was on inducing some
mixed nash equilibrium  but that equilibrium might not be unique  one can consider other
solution concepts such as a unique nash equilibrium or iterative elimination of dominated
strategies  finally  it might be of interest to study the performance gap between pure and
mixed nash equilibria in domains beyond combinatorial agency 
   

fibabaioff  feldman   nisan

   acknowledgments
michal feldman is partially supported by the israel science foundation  grant number
         and by the leon recanati fund of the jerusalem school of business administration 

appendix a  general
lemma       monotonicity lemma  for any technology  t  c  the expected utility of
the principal at the optimal mixed contract  the success probability of the optimal mixed
contract  and the expected payment of the optimal mixed contract  are all monotonically
non decreasing with the value 
proof  suppose the proles of mixed actions q   and q   are optimal for v  and v    v   
respectively  let p   and p   be the total payment in case a successful project  corresponding
to the minimal payments that induce q   and q   as nash equilibria  respectively  the utility
is a linear function of the value  u a  v    t a    v  p    p is the total payments in case
of successful project   as q   is optimal at v    u q     v     u q     v     and as t a     and
v    v    u q     v     u q     v     we conclude that u q     v     u q     v     thus the utility is
monotonic non decreasing in the value 
next we show that the success probability is monotonic non decreasing in the value  q  
is optimal at v    thus 
t q       v   p      t q       v   p    
q   is optimal at v    thus 
t q       v   p      t q       v   p    
summing these two equations  we get that  t q      t q        v   v        which implies that
if v    v  then t q      t q     
finally we show that the expected payment is monotonic non decreasing in the value 
as q   is optimal at v  and t q      t q      we observe that 
t q       v   p      t q       v   p      t q       v   p    
or equivalently  p    p     which is what we wanted to show 
 
we note that the above lemma also holds for the case of proles of pure actions  and
for the observable actions case  by exactly the same arguments  
lemma     for any technology  t  c   the price of purity is obtained at a nite v that is a
transition point between two optimal pure contracts 
proof  clearly for a large enough value v    the ratio is    as in both cases all agents exert
maximal eort  for small enough values the principal will choose not to contract with any
agent in both cases  and the ratio is     this is true as at a value that is smaller than any
agents cost  an optimal contract is to contract with no agent in both cases  let v be the
supremum on all values for which the principal will choose not to contract with any agent
in both cases  now  the ratio is a continuous function on the compact range  v  v     thus its
supremum is obtained  for some value that is at most v   
   

fimixed strategies in combinatorial agency

we have seen that the pop is obtained at some value v  we next prove that it is obtained
at a transition point of the pure case  if p op     the claim clearly holds  thus we should
only consider the case that p op      let v be the maximal value for which the pop is
obtained  assume in contradiction that v is not a transition point between two optimal
pure contracts  and that a and q are optimal for the pure and mixed cases  respectively  as
p op      q is non degenerate and u q  v    u a  v   let p  a  and p  q  denote the total
payment in case of success for a and q  respectively  we next consider two options 
we rst consider the case that t a   t q   we show that in this case  the utilities ratio
for v    for some      is worse than the utilities ratio for v  and we get a contradiction 
for      small enough  the optimal pure contract is still a  and u q  v         let q be
the optimal mixed contract at v    it holds that
p op 

u q   v   
u q  v   
u q  v   t q   
u q  v 

 
 
u a  v   
u a  v   
u a  v   t a   
u a  v 

where the last strict inequality is by the following argument 
u q  v   t q   
u q  v 
 
u a  v   t a   
u a  v 



t q   u a  v    t a   u q  v 



p  q    p  a 

and p  q    p  a  as u q  v    t q  v  p  q     t a  v  p  a     u a  v  and t a   t q  
next we consider the case that t q    t a   if p  q    p  a   the argument that was
presented above shows that the utilities ratio for v    for some       is worse than the
utilities ratio for v  and we get a contradiction  on the other hand  if p  q   p  a  we show
that the utilities ratio for v     for some       is at least as large as the utilities ratio for
v  in contradiction to v being the maximal value for which the pop is obtained  for     
small enough  the optimal pure contract is still a  as v is not a transition point between
pure contracts   let q be the optimal mixed contract at v     it holds that
p op 

u q  v    
u q  v    t q   
u q  v 
u q   v    

 

u a  v    
u a  v    
u a  v    t a   
u a  v 

where the last inequality is by the following argument 
u q  v    t q   
u q  v 

u a  v    t a   
u a  v 

 t q   u a  v   t a   u q  v 



p  q   p  a 

which holds by our assumption 
 
the following corollary of lemma     will be helpful in nding the pop for technologies
with   agents 
corollary a   assume that technology t with   agents and with identical costs exhibits
drs  then the pop is obtained at the transition point of the pure case  to the contract with
both agents 
proof  by lemma     the pop is obtained at a transition point of the pure case  if there
is a single transition point  between   agents and   agents  the claim holds  if contracting
with a single agent is sometimes optimal  it must be the case that the single agent that is
contracted is the agent with the  possibly weakly  highest success probability  agent i such
   

fibabaioff  feldman   nisan

that t  i    t  j   where j   i  which implies that i   t  i  t    t  j  t     j   
thus we only need to show that the pop is not obtained at the transition point v between
  agents and the contract with agent i  assume that q is the optimal mixed contract at
v  and that p  q  is the total payment in case of success  if q gives the same utility as the
contract  i   we are done 
otherwise  u q  v    u  i   v    and by corollary c   it holds that p  q   c    thus
t q    t  i    this implies that the utilities ratio at the value v    for      small enough
is worse than the ratio for v  by the argument presented in lemma     for the case that
t q    t a   
 
a   analysis of the or technology

lemma     for any anonymous or technology  any      c  n  and value v  either the
optimal mixed contract is a pure contract  or  in the optimal mixed contract k            n 
agents exert eort with equal probabilities q            qk          and the rest of the agents
exert no eort 
proof  first  observe that it cannot by the case that all agents but one exert no eort  and
this single agent mix with probability     qi      this is so as the principal would rather
change the prole to qi      pays the same  but gets higher success probability   suppose
by contradiction that a contract that induces a prole  qi   qj   qij   such that qi   qj        
and qi   qj  qi   qj without loss of generality  is optimal  for agent k  we denote the
probability of failure of agent k in his task by  qk    that is   qk         qk        qk     
          qk      qk where       
we show that for a suciently small       the mixed prole q     qi   qj    qji     qij  
 q  

 qi  
     obtains a better contract  in
 for  such that q           i e      min qi       qi    q
j 
contradiction to the optimality of the original contract 


for the or technology t q       kn  qk         q   where  q    kn  qk   
we also denote ij  q    k i j  qk    the change in success probability is related to the
 
 

new product  qi      qj   ji   

 qi  



 qj  

 

 
 qj  
   qi      qj   
 qi  
 
 
 qj  
    qi        qj     
 qi  
 qj  
 qj  
   qi   qj     qj     
 qi        
 qi  
 qi  
 qj  
   qi   qj        
 qi  
   

fimixed strategies in combinatorial agency

therefore the new success probability t q    has increased by the change 
j
  qij  
i
 
 
 qj  
      qi      qj   
 ij  q 
 qi  
 
 
 qj  
      qi   qj        
 ij  q 
 qi  
 
 
      q 
      q 
  t q   
  t q     
  qi    
t q     qi    

t q      t qi    qj  

   

   q 

we denote z     t q   q
    thus t q     t q        z     where z       for any  
i   
after showing that the success probability increases  we are left to show that for suciently small   the total payment decreases  the payment to agent l is given by 

pl  

c
c   ql  
c

 
 
t    ql    t    ql  
     m l  qm  
      t q 

the change in the payment of agent k is
c   qk  
c   qk  

      t q        t q   
 
 
 qk  
c
 
  qk   
t q       
     z   
 
 
c
 
  qk     qk      qk    z  
t q              z   
 
 
  w      qk     qk      qk    z  

pk  pk  

c
for w      t q      z   
for agent k   i  j  as  qk      qk   we get pk  pk   w      qk    z    for agent i  as
 qi     qi      we get pi  pi   w          qi    z     for agent j  as  qj     qj    

  qji   we get pj  pj   w        qji      qj    z    
by summing over all agents we get
 q  

 q  


kn

pk 


kn

pk  



 pk  pk  

kn

   pi  pi      pj  pj    



 pk  pk  

k i j

 

 qj  
  z   
 qk  
  w       
 qi  
kn
   
 
 

 qj  
  w        
  z   
 qk  
 qi  
 

kn

   

fibabaioff  feldman   nisan

which is positive by the following observations  w        and z       for any   and clearly

 qj  
kn  qk        additionally       qi         as            and  qi      qj   as
pi   p j  
to conclude  we have show that the success probability of q  is greater than the success
probability of q  and the payments are lower  thus the utility of the principal increases when
he moves from q to q    which is a contradiction to the optimality of q 
 
observation a   the or technology exhibits drs 
proof  let ra   rb        n be two proles of actions  such that rb  ra  for any i  rib  ria   
b    t  r a   r b    t  r b   r a    t  r a   r a    indeed 
we need to show that for every i  ti  rib   ri
i i
i i i
i i
i
i


b
b
ti  rib   ri
   ti  ria   ri
           rib       rjb            ria       rjb   
j i


   rib  ria       rjb  

j i

j i



 rib



ria  


    rja  
j i

         rib  



    rja            ria       rja   
j i

 

a
ti  rib   ri
 



j i

a
ti  ria   ri
 

 

appendix b  when is pure nash good enough 
lemma b   let f         n         for n    be a monotone boolean function that is
not constant and not a conjunction of some subset of the input bits  then there exist an
assignment to all but two of the bits such that the restricted function is a disjunction of the
two bits 
proof  by induction on the number of bits the function depends on  the base case is n     
where the only monotone function that is not constant and not a conjunction of some subset
of the input bits is the disjunction of two input bits 
let xi be a variable on which f depends  which must exist since f is not constant   let
 x
 a
i
f
  f  a  xi   denote the function f restricted to xi   a  we denote h   f  xi    and
 x
g   f i      as f is monotone  f   x  f  xi      f  xi      g  x   h  where f  xi     f  xi     that
is  for any xi   if f     xi       then f     xi        and if f     xi       then f     xi        
if h is not constant and not a conjunction of some subset of the input bits  then we continue
by induction using h by setting x      similarly if g is not constant and not a conjunction
of some subset of the input bits  then we continue by induction using g by setting x     
so we are left with the case where both h and g are conjunctions of some subset of
the variables  where the constant   is considered to be the conjunction of the empty set of
variables  and it is easy to verify that h and g cannot be the constant     since f depends
on xi   we have that h   g  and since h  g  there exists some variable xj  j   i  that is in
   

fimixed strategies in combinatorial agency

the set of variables whose conjunction is h but not in that of g  now set all variables but
xi and xj to    and we are left with xi   xj  
 
theorem b   let f be any monotone boolean function with n    inputs  that is not
constant and not a conjunction of some subset of the input bits  then there exist parameters
 i   i  ni   such that the pop of the structured technology with the above parameters  and
identical cost c      is greater than        
proof  by lemma b   there is an assignment to all but two variables such that the restricted
function over the two variables is an or function  for these two variables we choose the
parameters according to the worst pop we know of for an or technology  see section    
for the rest of the variables we choose parameters such that for the value for which the
worst utilities ratio is achieved  all the rest of the agents exert no eort and provide success
probabilities that are  almost  the success probabilities dictated by the assignment  next
we make this argument formal 
recall that by lemma b   there is an assignment to all but two variables such that the
restricted function over the two variables is an or function  let i  and i  be the indices of
these two variables  in section   we have observed that for or technology with two agents
with values v                       and              the pop is at least        
we embed this into an instance of an or technology with n agents by considering a value
v       and success probabilities as follows  for agents i  and i    let i    i           and
i    i         for the rest of the agents  x a suciently small       then set i      
and i        if i was set to   in the assignment  and set i     and i    if i was set
to   in the assignment 
when      is small enough the payment needed to induce every agent i   i    i  to
exert eort  for any prole of eorts of the others  will be greater than v as it is inversely
proportional to the increase in the success probability due to is eort  and this goes to
zero with   thus  for a small enough  all agents i   i    i  will not exert eort in the
optimal contract  but each such agent i will provide an almost sure success in the case
the assignment of variable i is    and an almost sure failure in the case the assignment of
variable i was zero  the created technology is essentially the same as the or technology
with agents i  and i  with i    i            i    i         and for the value v       the
pop will be at least        
 

appendix c  quantifying the gain by mixing
c   pop for n agents
we observe that for any technology  the pop is bounded by the ratio between the success
probability when all agents exert eort  and the success probability when none of the agents
exert eort  this simple bound shows that if the success probability when none of the agents
exert eort is at least some positive constant  the pop is bounded by a constant 
observation c   for any technology  t  c  with set of agents n   p op  t  
   

t n  
t    

fibabaioff  feldman   nisan

proof  for any given value v  the utility of the principal with the optimal mixed nash is
at most v  t n    while the utility of the principal with the optimal pure nash is at least
 
t n  
v  t    thus the pop is bounded by vt n
 
vt     t    
from this point we only consider technologies with identical costs  the following lemma
shows that anonymous technologies as well as any technology that exhibits drs have pop
at most n 
lemma c   assume that for a technology t with n agents the following holds  for any
optimal mixed contract q with support s  there is a pure prole a with support t  s such
that
 t a  

t s 
 s 

 for each agent i  t   and any pure prole b with support r  s it holds that t    ai  
t    ai    t    bi    t    bi   
then the p op  t   n 
proof  we rst observe that p  a   the total payment under the prole a in the case of
success  is at most p  q   the total payment under the prole q  as t  s  the set of agents
that are paid under a is a subset of the set of agents that are paid under q  each agent in
t is paid at least as much under q  as he is paid under a  by the second condition  as the
increase in success probability under q is a convex combination of the increase in success
probability for pure proles with support r  s   thus  p  a   p  q   and u  a       we
conclude that
t q  v  p  q  
t q 
t s 
u q  v 



  s 
u a  v 
t a  v  p  a  
t a 
t a 
where the last inequality is derived from the rst condition  this implies that the pop is
bounded by n 
 
corollary c   for any anonymous technology t with n agents  p op  t   n 
proof  assume that for the value v the mixed prole q is optimal  and its support is of size
k  let tm be the success probability if m agents exert eort  and let m   tm  tm    let
m   argmaxmk m  
by the denition of m the second condition holds  the rst condition holds as 
ktm  k t   tm t     t   k tm t     t   k tm tm      t   km  t    tk t      tk
 
corollary c   for any technology t with n agents that exhibits drs and has identical
costs  p op  t   n 
proof  let agent i  s be the agent with maximal individual contribution in s  the support
of q  t  i    t  j   for all j  s   drs ensures that the two conditions of lemma c  
hold 
 
the following holds for or technology with n agents  even non anonymous   as it exhibits drs  in particular  even if a single agent has i       we get a bound of   on the
pop 
   

fimixed strategies in combinatorial agency

observation c   assume that the technology t with n agents  with identical costs  exhibits
t n  
drs  then p op  t   t  i  
  for agent i with maximal individual contribution  t  i   
t  j   for all j  n   
proof  let agent j  s be the agent with maximal individual contribution in s  the support
of q  following the proof of lemma c    as t  i    t  j   and p  q   p   j    p   i   
and u q  v       this implies that u  i   v   u  j   v       thus the optimal pure contract
a gives utility of at least u  i   v       therefore for any v we have the bound
u q  v 
u q  v 
t q  v  p  q  
t s 
t n  

 


u a   v 
u  i   v 
t  i   v  p   i   
t  i  
t  i  
which implies that the pop is bounded by

t n  
t  i    

 

corollary c   for any anonymous technology with n agents that exhibits drs  it holds
that p op  t   ttn   
c   pop for anonymous or
as or exhibits drs  the following in a direct corollary of observation c   
corollary c   for any anonymous or technology with n agents  it holds that p op  or  
tn
t   
theorem     for any anonymous or technology with n agents 
n

   if               a  p op      
 n   n       b  pop goes to   as n goes

to   for any xed   or when  goes to    for any xed n     
   if

 
 

               a  p op 

to   or as  goes to

 
 


       

  
      

           b  pop goes to   as  goes

 for any xed n     

proof  based on corollary c    p op 

t  n  
 
t    n   

all the results are based on this bound 

   proof of part   a  
t  n  
        n
        n
        n
 

 
t     n   
             n 
        

additionally 


        n 
 
     j      
     j     
        n   n    
        
n 

n 

n 

j  

j  

j  

and this concludes the proof 
   

fibabaioff  feldman   nisan

   proof of part   b  
t  n  
        n
 
t     n   
             n 
this expression goes to   for any xed          when n goes to   as      n and
     n  goes to zero 
    n
 


additionally  we saw that p op 
goes to    the pop goes to   

thus it is clear that if n is xed and 

   proof of part   a   we rst bound the pop for the case of anonymous or with  
agents and with               for this case the pop is bounded by
t      
     
   
t      
   

 
the derivative of this ratio is    
      this is
         which equals to zero at   
a maximum point since the second derivative is negative  and the ratio at this point
equals to          therefore  t     
t                observation c   below shows that for
any n    it holds that

t  n  
t    n   



t     
t     

   proof of part   b   the expression
or

thus the same bound holds for any n 

t  n  
t    n   

 

  n
    n 

goes to   when  goes to  

 
  

 
for anonymous or technology with n agents and              we can bound the
pop by         
observation c   let orn  denote the anonymous or technology of n agents with   
           for any k    it holds that
p op  ork    

ork    k  
ork     k   

ork       k   
ork        k   

thus for any k    it holds that
p op  ork    

ork    k  
or         

         
k 
ork         
or         

proof  for the technology ork  it holds that
ork    k  
   k
 
ork       k   
          k 
thus we need to show that for any k   
   k
    k 

          k 
          k 
   

fimixed strategies in combinatorial agency

which holds if and only if
    k         k     k         k       k          k     k       k 
which holds if and only if
 k                 k                 k       k               
by dividing by            this holds if and only if
 k         k     k        k             
which holds as       thus      k    k  and  k        k              

 

c   pop for   agents
let us now consider the case that n      and prove a better bound on the pop  we have
shown that the pop for irs technology is    since an anonymous technology with   agents
exhibits either irs or drs  we only need to handle the drs case  let     t   t  and
    t   t    assume that         for some      drs  
the following is a corollary of lemma     
corollary c   for a drs technology over   agents  assume w l o g  that t       t     
and denote     t       t    for any mixed prole q    q    q    it holds that each agent
is paid at least c   
proof  as t       t      it implies that     t       t    t       t    and drs
implies that     t       t    t          t      and t       t    t          t      
 
thus lemma     implies that each agent is paid at least c   
theorem c    for any anonymous technology t with   agents  it holds that the p op  t  
    
proof  let u  q    q     v  be the utility of the principal for mixed prole  q    q    when his value
for the project is v  let p  q    q    denote the total payment to both agents if the project is
successful  similarly  let u  a    a     v  be the utility of the principal for pure prole  a    a   
when his value is v 
for a given value v  let  q    q    be the optimal mixed contract  and let  a    a    be the
u  q   q    v 
optimal pure contract  we show that for any value v it holds that u  a
      which
   a    v 
is sucient to prove the theorem 
if the optimal mixed prole is a pure prole  the ratio is    thus we only need to handle
the case that the prole  q    q    is not pure  a non degenerate mixed contract   in this case 
as u  q    q     v    t q    q    vp  q    q          it holds that vp  q    q         by corollary c  
this implies that u         v      as p  q    q     c    thus u  a    a     v   u         v       so
u  q    q     v 
u  q    q     v 
t q    q    v  p  q    q    
t q    q   
t      
t 




 
c
u  a    a     v 
u         v 
t       v     
t      
t      
t 
   

fibabaioff  feldman   nisan

now we consider two cases  first we consider the case that t       in this case
t 
t           
            
  
 
 
u  q    q     v 

 

 
   

u  a    a     v 
t 
t      
       
  
  
 
to replace t  with   we use lemma c    
next we consider the case that t        in this case we look at the value v  for which
the principal is independent between contracting with   or   agents  at v   v  it holds
c
that t         v  c      t         v   c     thus v      v   t   t      t   c   t   
  thus
 
c


it holds that v             t   t     for a value v  v it is enough to bound the ratio
   q    v 
while for a value v  v  it is enough to bound the ratio u  q
u       v    we bound
each of these ratios separately 
 
    
by lemma c     for the case that    t        tt     t   
     
         
t    
 

for a value v  v
 
 
v   c 
u  q    q     v 
t q    q    v  p  q    q    
t  v  p  q    q   
 





 
 

u         v 
t       v  c   
t 
v  c 

v  c 
 
   
 
 
 
    v
  

c      

u  q   q    v 
u       v   

now  as

 
t 

v
c

 

 
t        

 
 
     



 
        

 
  
     

 

 
    

we conclude that

 
 
 
 

 
   t   t    
        t 
 t   t      
 
            

thus
u  q    q     v 

u         v 

 

 
  


   
  

v
c

 
     

 

 


 
  


   
  

 
            

 

lemma c    shows that the function on the rhs is bounded by     for any     
   q    v 
finally  for a value v  v    it is enough to bound the ratio u  q
u       v   
v
u  q    q     v 
t q    q    v  p  q    q    
 

 c
u         v 
t       v     
v

 c
 
 c
 

 

v
v

 c
 
  c 

intuitively  as the fraction goes to   as  goes to    this implies that for suciently small 
the fraction is less than      formally 
v

 c
 
  c 

   

v
 
 
 

   


 c
 



v

 
  
     

 c
 
 c
 

        
   
    v
c      

 

 


 


v
c

 

     

 
       
       
  
   

 

t

t

 


      t 
 t   t      
 
 
 
   

fimixed strategies in combinatorial agency

  

      
      

    
is
we nd the maximum of the rhs  the derivative by  of         

maximum is obtained at       


for       

 
    


 
 

         
 
       

the

 it is a maximum as the second derivative is negative

and the maximum is    


  

              

 

       

lemma c    for     it holds that
 
   
 
 
 
  
  
    

            
proof 
 
f     
let h    

    
   

 
  


      
      

   
  

 
            

 

 
 

the derivative of h   by  is

 
 
  

 


       
 
       

         
      
it has a maximum at

and the value of the maximum is lower than       
 
we look at         as the function      
is an increasing function of   for      
 
 
 
we get that for any     f                      
                to conclude the
proof we show that f    is a decreasing function of   for any           the derivative
of f    by  is
                     
                 
thus we only need to show that                        for any           this
holds as                    for any       and                      
       
 
 
for any     as the function          has derivative      which is positive for any
           thus it is a monotonically increasing function for                          
  
 
theorem c    for any technology t  even non anonymous  with   agents and identical
costs  it holds that the p op  t     
proof  if the technology is anonymous  we have already proved a stronger claim  assume
that it is not  then w l o g  assume that t        t        we have shown that the prole
       is never optimal  this implies  by the same argument as we have seen in the case that
the technology is anonymous   that
p op 

u  q    q     v 
u  q    q     v 
t      


u  a    a     v 
u         v 
t      

if the technology exhibits irs  then we know that pop    to conclude the proof we show
t     
that if the technology does not exhibits irs then t     
t          assume that t           we
show that the technology exhibits irs  this is true since

t     
t     

    implies 

t        t         t        t        t      
   

fibabaioff  feldman   nisan

and as t        t       it also holds
t        t         t        t        t        t        t        t      
 

which implies irs 
lemma c    if a  b    and x  y     then

a x
a y



b x
b y  

appendix d  the robustness of mixed nash equilibria
theorem     if the mixed optimal contract q includes at least two agents that truly mix
 i  j s t  qi   qj           then q is not a strong equilibrium 
proof  let q be the support of q  i e   q    i qi        and let k    q   recall that
ci
the optimal payments that induce the strategy prole q are pi   i  q
 where i  qi    
i  
t    qi    t    qi    for any i  q  and pi     for any i  n   q  let     i qi         
       by assumption   and consider a deviation of the coalition  into a pure strategy
prole q   in which for any i    qi      q  denote the new prole  i e   q     q   q    
we next show that for any i    ui  q    ui  q     thus q is not resilient to a deviation
by   since qi          i must be indierent between ai     and ai      see claim      
therefore  is utility in q is 
ui  q    ui     qi     ci

t    qi  
i  qi  

the utility of i in q  is 
ci
ui  q     t q  pi ci   t q  
ci   ci
i  qi  






 

t q   
 
i  qi  

 

 
  ci

t q     t    qi     t    qi  
i  qi  

 

therefore  ui  q      ui  q  if and only if t q     t    qi        which holds by the assumption
that       and the monotonicity of t 
 

appendix e  algorithmic aspects
e   results for the mixed case
we next show that in the black box model  exponential number of queries is needed to
determine the optimal mixed contract  we have proved this for the optimal pure contract
 for completeness we present the claim as theorem e    taken from  babaio et al       a   
and now show that it also holds for the mixed case 
theorem     given as input a black box for a success function t  when the costs are
identical   and a value v  the number of queries that is needed  in the worst case  to nd the
optimal mixed contract is exponential in n 
proof  we show that the optimal mixed contract for the technology presented in theorem e   at the value c k        has support exactly t   thus the claim is a direct result of
theorem e   
   

fimixed strategies in combinatorial agency

assume that q is optimal mixed contract at the value c k         the support of q must
be of size at most k  otherwise the payment in case of success is at least c k       c k      
 as each agent in the support must be paid at least c   which implies negative utility  if he
support is of size at most k and is not exactly t   then there is at least one agent that is
paid c    c k        for suciently small       thus in any such case the utility is again
negative 
 
next we show that for read one network the optimal mixed contract is  p  hard  it is
based on a theorem from the work of babaio et al       a  cited as theorem e   below 
theorem     the optimal mixed contract problem for read once networks is  p  hard
 under turing reductions  
proof  we use the reduction presented in theorem e    we prove that for x close enough
to      at the transition point from e to e   x  of the pure case  the optimal mixed
contract is pure  also e and e   x    this implies that we can use the same argument
of theorem e   to calculate the network reliability  which is  p  hard  using an algorithm
for the optimal mixed contract 
lemma e   below presents a generalization of a lemma from the work of babaio et al 
     a  to the mixed case  the lemma implies that at the value v that x is rst entered
to the support of the optimal mixed contract q  the contract for x is optimal for the value
v  t e   but for a single edge  the only optimal mixed contracts are pure  thus x exerts
eort with probability    additionally  the contract for the original graph  with edges e 
is optimal for the value v      x    thus for x close enough to      v is large enough such
that the optimal mixed contract is with all agents exerting eort with probability    pure  
 

let g and h be two boolean functions on disjoint inputs and let f   g h  i e   take
their networks in series   the optimal mixed contract for f for some v  denoted by qs   is
composed of the h part and the g part  call them mixed prole for these parts qt and qr
respectively 

lemma e   let qs be an optimal mixed contract for f   g h on v  then  qt is an
optimal mixed contract for h on v  tg  qr    and qr is an optimal mixed contract for g on
v  th  qt   
the proof is the same as the proof for the pure case  presented in the work of babaio et al 
     b  
e   results from the work of babaio et al       b  for the pure case
the following results are cited from the work of babaio et al       b   for completeness 
theorem e   given as input a black box for a success function t  when the costs are
identical   and a value v  the number of queries that is needed  in the worst case  to nd the
optimal contract is exponential in n 
proof  consider the following family of technologies  for some small      and k   n  
we dene the success probability for a given set t as follows  if  t     k  then t t      t     
if  t     k  then t t         n   t       for each set of agents t of size k  the technology
tt is dened by t t         n   t      and t t      t     for any t   t of size k 
   

fibabaioff  feldman   nisan

for the value v   c   k         the optimal contract for tt is t  for the contract t the
utility of the principal is about v  c  k        c      while for any other contract the utility
is negative  
  n  
   sets of size k  then it cannot always
if the algorithm queries about at most n  
determine the optimal contract  as any
  n of  the sets that it has not queried about might be
the optimal one   we conclude that n  
   queries are needed to determine the optimal
contract  and this is exponential in n 
 
let t e  denote the probability of success when each edge succeeds with probability
e   we rst notice that even computing the value t e  is a hard problem  it is called the
network reliability problem and is known to be  p  hard  provan   ball         just a
little eort will reveal that our problem is not easier 
theorem e   the optimal contract problem for read once networks is  p  hard  under
turing reductions  
proof  we will show that an algorithm for this problem can be used to solve the network
reliability problem  given an instance of a network reliability problem   g   e  ee  
 where e denotes es probability of success   we dene an instance of the optimal contract
problem as follows  rst dene a new graph g which is obtained by anding g with a
new player x  with x very close to    and x      x   for the other edges  we let e   e
and e   e     by choosing x close enough to      we can make sure that player x will enter
the optimal contract only for very large values of v  after all other agents are contracted  if
we can nd the optimal contract for any value  it is easy to nd a value for which in the
original network the optimal contract is e  by keep doubling the value and asking for the
c
is larger than that
optimal contract  once we nd such a value  we choose x s t    
x
value   let us denote x       x  
the critical value of v where player x enters the optimal contract of g   can be found
using binary search over the algorithm that supposedly nds the optimal contract for any
network and any value  note that at this critical value v  the principal is indierent between
the set e and e   x   now when we write the expression for this indierence  in terms of
t e  and ti  e    we observe the following 
 
t e x  v 


ie

c
x  ti  e   i 

 

 
  t e   x   v 


ie

c
c

    x    ti  e   i  t e   x

 

if and only if
    x    c
 x     v
thus  if we can always nd the optimal contract we are also able to compute the value
of t e  
 
t e   

references
aumann  r          acceptable points in general cooperative n person games  in contributions to the theory of games  vol    
   

fimixed strategies in combinatorial agency

babaio  m   feldman  m     nisan  n       a   combinatorial agency  in acm ec   
pp       
babaio  m   feldman  m     nisan  n       b   combinatorial agency  in full version 
feldman  m   chuang  j   stoica  i     shenker  s          hidden action in multi hop
routing   in ieee jsac special issue on non cooperative behavior in networking 
harsanyi  j  c          games with randomly disturbed payos  a new rationale for mixedstrategy equilibrium points  international journal of game theory             
holmstrom  b          moral hazard in teams  bell journal of economics             
mass colell  a   whinston  m     green  j          microeconomic theory  oxford university press 
nisan  n     ronen  a          algorithmic mechanism design  games and economic
behaviour                a preliminary version appeared in stoc      
nisan  n   roughgarden  t   tardos  e     vazirani  v  v          algorithmic game
theory  cambridge university press 
provan  j  s     ball  m  o          the complexity of counting cuts and of computing the
probability that a graph is connected  siam j  comput                  
strausz  r          moral hazard in sequential teams  departmental working paper  free
university of berlin 
winter  e          incentives and discrimination  american economic review             

   

fi