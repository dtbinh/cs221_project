journal of artificial intelligence research                  

submitted        published      

algorithms for closed under
rational behavior  curb  sets
michael benisch
george b  davis
tuomas sandholm

mbenisch cs cmu edu
gbd cs cmu edu
sandholm cs cmu edu

school of computer science
carnegie mellon university
     forbes ave
pittsburgh  pa       usa

abstract
we provide a series of algorithms demonstrating that solutions according to the fundamental game theoretic solution concept of closed under rational behavior  curb  sets in
two player  normal form games can be computed in polynomial time  we also discuss extensions to n player games   first  we describe an algorithm that identifies all of a players best
responses conditioned on the belief that the other player will play from within a given subset
of its strategy space  this algorithm serves as a subroutine in a series of polynomial time
algorithms for finding all minimal curb sets  one minimal curb set  and the smallest
minimal curb set in a game  we then show that the complexity of finding a nash equilibrium can be exponential only in the size of a games smallest curb set  related to this 
we show that the smallest curb set can be an arbitrarily small portion of the game  but
it can also be arbitrarily larger than the supports of its only enclosed nash equilibrium 
we test our algorithms empirically and find that most commonly studied academic games
tend to have either very large or very small minimal curb sets 

   introduction
for noncooperative multi agent settings  game theoretic solution concepts help players choose
strategies  help modelers predict outcomes  and help mechanism designers guarantee properties of the systems they create  significant attention has been given to algorithms for computing solutions according to concepts of subgame perfect nash equilibrium  e g   minimax
search and   pruning   nash equilibrium  lemke   howson        porter  nudelman 
  shoham        sandholm  gilpin    conitzer         correlated equilibrium  gilboa  
zemel         iterative dominance  knuth  papadimitriou    tsitsiklis        conitzer  
sandholm      a   and other related concepts  conitzer   sandholm      b  
the nash equilibrium concept  under which each player weakly prefers its strategy as
long as the other players do not deviate from theirs  remains the most important pointvalued game theoretic solution concept  however  it has been shown that  even in twoplayer games with binary utilities  computing a single nash equilibrium is ppad complete
 chen   deng        abbott  kane    valiant         suggesting that no algorithms exist
for computing these equilibria in worst case polynomial time  daskalakis  goldberg   
papadimitriou        
c
    
ai access foundation  all rights reserved 

fibenisch  davis    sandholm

there are other fundamental solution concepts that have some known advantages over
nash equilibria  andas we will showsolutions according to some of these concepts can be
found in polynomial time  even in the worst case  specifically  we will study the fundamental
concept of closed under rational behavior  curb  strategy sets in two player  normal form
games  a game can have multiple nash equilibria  but each of those is a point  or a single
 potentially mixed  strategy for each player  in contrast  a curb set can contain multiple
strategies for each player  and it is stable so long as players choose any  potentially mixed 
strategies from within the set 
curb sets are based on the notion of rationalizability  which was introduced by pearce
       and bernheim         rationalizability is  by now  a widely known  robust gametheoretic solution concept and has been used to study various applications  such as first price
auctions  battigalli   siniscalchi         its main insight is that rationality restricts players
from ever playing strategies that are not best responses given the beliefs they hold about
their opponents  strategies that are not best responses to a set of consistent beliefs about
opposing strategies are said not to be rationalizable  in two player games  the process of
iteratively eliminating strategies that are dominated  that is strategies that are not best
responses to any opponent strategy  captures the concept of rationalizability  it emulates
the players assumptions that an opponent will never play a strategy that is not a best
response to one of the players own remaining strategies  pearce        
the set of all players rationalizable strategies has the property that no players best
response to any pure or mixed strategy inside the set lies outside the set  in other words  the
set is curb  however  this curb set may also have curb subsets  which demonstrates
how curb sets extend the notion of rationalizability  basu and weibull        introduced
the notion of a minimal curb set  or a curb set that does not contain any curb subsets 
and proved that each minimal curb set is guaranteed to contain the supports of at least
one nash equilibrium 
the minimal curb set solution concept has since been motivated from several perspectives in academic literature  including the following 
 mixed strategy nash equilibria  the type guaranteed to exist in every game  can be
highly unstable  because a player may be indifferent between some of its strategies 
strict nash equilibria  where players strictly prefer their strategies in equilibrium  are
a more stable alternative  but they are not guaranteed to exist  minimal curb sets
always exist and have been referred to as the nearest set valued generalization of
strict nash equilibria  since they are the smallest sets of strategies that include all
ways of choosing among the indifferences of an equilibrium  basu   weibull        
 a curb set can be viewed as a subspace of strategies within which any best response
dynamic  even a best response dynamic of mixed strategies  will stay  thus  curb
sets have been used as a solution concept to describe the strategy subspace where
iteratively adapting agents will eventually settle  hurkens        
 voorneveld et al  enumerated a number of other properties of minimal curb sets
that illustrate the stability of set based solution concepts over point valued concepts 
such as nash equilibria  voorneveld  kets    norde        
   

fialgorithms for closed under rational behavior  curb  sets

in order for a solution concept to be operational  it must also be accompanied by algorithms for applying it  finding minimal curb sets has been previously considered
challenging  pruzhansky         and  prior to this work on curb sets  little had been done
on the problem from a computational standpoint  to our knowledge  the only such work to
predate ours was that of pruzhansky  which studied sequential games of perfect information 
such games are relatively simple  in that they contain exactly one minimal curb set  and
a straightforward algorithm can quickly find it by exploiting the sequential representation
 pruzhansky         in this paper  we present the first thorough computational treatment
of curb sets in general two player games  we show that  in these settings  minimal curb
sets are actually easy to find  the time complexity is polynomial in the size of the game 
even in the worst case 
the primary source of complexity for our algorithms is a linear programming based
subroutine for finding all of a players best responses  i e   utility maximizing pure strategies 
conditioned on the belief that the other player will play from within a given subset of its
strategy space  this problem can be solved fast for two players  in this case it involves
solving a simple linear feasibility program  but the mathematical program we use is of
degree p     where p is the number of players  and with p     the constraints are already
quadratic  on the plus side  our curb set algorithms only make a polynomial number of
calls to this subroutine  if future research is able to identify polynomial time algorithms for
finding all of a players best responses in n player games  then our curb set algorithms
will also be polynomial time in those settings  additionally  our algorithms have been useful
as templates for the development of other algorithms to compute related solution concepts
in n player games  brandt  brill  fischer    harrenstein        jordan   wellman        
the rest of the paper is organized as follows  we begin with some preliminaries on
our notations and definitions  next  we present and analyze our algorithm for finding
conditional best responses  which serves as the main subroutine of our curb set finding
algorithms  we then present and analyze a family of polynomial time algorithms for twoplayer  normal form games that compute all of a games minimal curb sets  a single one of
its minimal curb sets  and its smallest minimal curb set  finally  we discuss additional
applications of our results  including the potential for our curb set algorithms to bound
the theoretical complexity of finding nash equilibria 

   preliminaries
we describe and analyze our algorithms in the classic game theoretic setting of a two player 
normal form game represented as a matrix with rows corresponding to the pure strategies
 or actions  of one player  player r  and columns corresponding to the pure strategies of
the other  player c   for shorthand  we will often omit the term pure and refer to a pure
strategy simply as a strategy   as is typical in game theory  the players are assumed to be
fully rational  utility maximizing agents 
each row in the game matrix corresponds to a strategy  sr   from the set of all player rs
strategies  sr   likewise  each column corresponds to a strategy  sc   from the set of all of
player cs strategies  sc   the cell corresponding to strategies sr and sc contains two entries 
one indicating the real valued utility of the row player when sr and sc are played  ur  sr   sc   
and the other indicating that of the column player when those two strategies are played 
   

fibenisch  davis    sandholm

uc  sr   sc    using these entities  we also refer to a game  g  as a tuple  g   hsr   sc   ur   uc i 
the size of the game  which we refer to as n  is the total number of strategies it contains 
n    sr      sc   
a mixed strategy  or mixture  is a probability distribution over pure strategies  or a
function  m
pi   that maps from each of player is pure strategies to a probability  mi   si 
       and ssi mi  s       the supports of a mixture are all of the pure strategies in the
mixture with non zero probability  the set of all possible mixtures with supports in some
set of strategies  si   is denoted m  si    and can be thought of as a simplex with degree
 si       a pure strategy can be represented as a point mass mixture  that is a mixture
with all of its probability mass on one strategy 
a strategy profile is a set of pure or mixed strategies  with one for each player  when
a mixed strategy profile is played  a players utility is assumed to be its expected utility  which is given by summing that players utility for each possible pure strategy profile
weighted
by the
pprofiles joint probability according to the mixtures  e g   ur  mr   mc    
p
m
 s
 
r
r
sc sc mc  sc  ur  sr   sc    we occasionally use the notation i to refer to the
sr sr
player or players other than some player i  when used as a subscript on a strategy related
entity with more than two players  we intend for the i to refer to one instance of the entity
per player  e g   mi is a mixed strategy profile containing one mixture per player other
than i  
player is best responses to a mixed strategy of the other player s   mi   are given by
the function i  mi    these are the pure strategies that maximize player is utility if the
other player s  play mi  
for a set of the other players pure strategies  si   we define i  si   to be a function
that
s returns player is best responses to every mixture with supports in si   i  si    
mm  si   i  m   in section    we describe an algorithm for computing the pure strategies
in i  si   that serves as a subroutine in our curb set algorithms  and we refer to the
strategies it computes as conditionally rational  we define  s   without a subscript i  as
the union of the sets i  si   for all players 
a curb set  s  is formally defined as a set of pure strategies  with at least one strategy
for each player  that contains the best responses to any mixture over itself  if s is curb
and players believe that no strategy outside of s will be played with positive probability by
their opponents  then such strategies will indeed not be played by rational players  using
the notation above  a set  s  is curb if  s   s   the entire game is trivially curb
by this definition   we refer to the number of strategies in a curb set as its size  the
intersection of two curb sets  s  and s    is the set of strategies attained by taking the
intersection of their strategy sets  si   s   s    two curb sets overlap if they share a
strategy  i e   their intersection is non empty  
a nash equilibrium is a pure  or mixed strategy profile   mr   mc    such that each players
strategy is at least as good as its best response to the others  ur  mr   mc     ur  sr   mc   and
uc  mr   mc     uc  mr   sc    where sr  r  mc   and sc  c  mr    a strict nash equilibrium is
a pure strategy profile   sr   sc    where each players strategy is its only best response to the
others  r  sc      sr   and c  sr      sc    a curb set that contains only one strategy per
player is also a pure strategy nash equilibrium 
   

fialgorithms for closed under rational behavior  curb  sets

   finding conditional best responses
finding all of a players best responses conditioned on the belief that the other player will
play from within some subset of its total strategy space  is a problem of interest in its own
right  and it plays a central role in our computation of curb sets  this section describes
a polynomial time algorithm  all conditionally rational  for doing just that  the algorithm below is for the row player  the column players variant is symmetric  the inputs
to the algorithm are a set of row player strategies to consider  sr   a set of column player
strategies they may be played against  sc   and the row players utility function  ur  
function all conditionally rational sr   sc   ur  
sr  
for each row strategy  sr  sr do
if there exists a feasible solution to the following linear feasibility program 
find psc such that
x

p sc

   

   

sc sc

x

x



psc ur  sr   sc  

sc sc

psc ur  s r   sc  

s r  sr   sr

   

sc sc

p sc



  sc  sc

   

then sr  sr  sr
return sr
for each row strategy  sr  sr   a linear feasibility program  lfp   i e   a linear program
with no objective  is constructed to find a mixture of probabilities over column player
strategies  psc   such that sr is the row players best response  the constraints of the lfp
ensure that the mixture is valid  sums to one   and that the row players utility by playing
sr against psc is greater than or equal to that of any other strategy  if the lfp has a feasible
solution  sr is added to the set of best responses to be returned 
the computational complexity of the algorithms described in this paper depend on the
total number of strategies in the game  n  and the complexity of solving an lfp with
a number of variables and constraints bounded by n  which we will denote as lfp n  
lfps can be solved in low order polynomial time  even in the worst case  and the fastest
known algorithms for lfps have better worst case guarantees than the fastest known linear
programming algorithms  ye         in our experiments  we solve the lfp using the simplex
algorithm  which has exponential worst case time complexity  but is known to outperform
polynomial time linear programming algorithms in practice 
proposition    the all conditionally rational algorithm returns a players best responses to every mixture over the input strategy set  and nothing else  its worst case time
complexity is  n   lfp n  
   

fibenisch  davis    sandholm

proof  since all conditionally rational runs this program on all strategies and includes
them in the return set only if the lfp is feasible  it must be correct  since the lfp is
executed once for each strategy  and its size is bounded by n  all conditionally rational
has complexity as shown 

   finding curb sets
we now turn our attention to the problem of finding curb sets  the algorithm below
finds the smallest curb set that contains a given seed strategy within a given subgame 
 the returned set is not necessarily minimally curb   the algorithm repeatedly alternates
between players  each time calling all conditionally rational to add the strategies necessary for maintaining the curb property  if an iteration passes without any strategies
being added  the algorithm has converged 
function min containing curb sr   g   hsr   sc   ur   uc i 
sr   sr    sc  
converged  false
while converged do
converged  true
for i   r  c  do
  u  
si   all conditionally rational si   si
i

 
if si   si     then
converged  false

si  si  si 
return sr  sc
it is worth noting that on the second to last line of the algorithm  si  si  si    it is
necessary to merge the old strategies  si   with the newly identified strategies  si    because
si  is not always a superset of si   if  instead  si were replaced by si    then it would be
possible for the seed strategy to be eliminated during the algorithms first iteration  for
example  consider the following game 

sr 
sr 

sc 
   
   

sc 
   
   

if strategy sr  is used as a seed  then on the first iteration sr is initialized to  sr     sc is
then set to  sc     and finally sr is set to  sr     thus  without the merge the algorithm
would output a subgame that does not contain the seed strategy 
proposition    the min containing curb algorithm has worst case runtime  n    
lfp n  
proof  every two calls made to all conditionally rational must add a strategy to the
return set  or min containing curb will terminate  since at most n strategies can be added
this way  the complexity of min containing curb is  n     lfp n  
   

fialgorithms for closed under rational behavior  curb  sets

theorem    the min containing curb algorithm is correct  that is  the returned set  s   
is the smallest set of strategies that both    contains the given seed strategy  sr   and    is
curb 
proof  the convergence of the algorithm implies that no strategies outside of s  are best
responses to some mixture with supports in s    therefore   s     s    and s  is curb 
to prove that s  is the smallest curb set containing sr   we can use induction on the
strategies that are added 
base case  initially  s  contains only sr and c  sr    at this point  s  is a subset of
the the smallest curb set containing sr  
inductive step  each time a new strategy  s   is added to s    it is necessarily a best
response to some mixture  m  m  s     over the strategies already contained in s    since
strategies are never removed from s  during execution  m will remain a valid mixture 
therefore  each strategy that is added is necessary to maintain the curb property 
we will now present three algorithms that use min containing curb to determine a
games minimal curb sets  to facilitate our discussion of these algorithms  we first present
three results regarding curb set structure  which  to the best of our knowledge  were not
previously known 
theorem    if each of two intersecting strategy sets is curb  then their intersection is
also curb 
proof  consider two curb sets  sa and sb   with nonempty intersection  si   for any
mixture over strategies in si belonging to  without loss of generality  the row player  there
exists a set of pure strategies that are the column players best responses  sc   because sa
is curb  it also contains all of the strategies in sc  i e   sc  sa    likewise sc  sb  
therefore  sc is within their intersection  si  
since the intersection of two curb sets must be curb and contained in both sets  we
also have the following two corollaries 
corollary    distinct minimal curb sets cannot overlap  i e   share rows or columns  
corollary    each strategy belongs to at most one minimal curb set 
    finding all minimal curb sets
the broadest query one can make regarding the minimal curb set structure of a game
is asking for all of its minimal curb sets  this is useful  for example  in the adaptive
agent context to identify regions of the strategy space in which learning agents are likely to
settle  hurkens        
the all mc algorithm does this by first checking each pair of strategies for size two
curb sets  i e   pure strategy nash equilibria  and adding them to the return set of minimal
curb sets  since this operation is only  n     it can be done as a preprocessing step
without affecting the algorithms worst case time complexity  and the strategies it finds can
be eliminated from future consideration  the all mc algorithm then determines all of the
minimal curb sets in the remaining subgame by calling min containing curb with each
row strategy  in turn  as a seed 
   

fibenisch  davis    sandholm

at first  we call min containing curb using the entire remaining subgame as an input 
however  we accelerate subsequent calls to min containing curb by maintaining a map
between each strategy and the smallest curb set in which it has been discovered so far 
 the entries added to this map are also stored as candidate minimal curb sets   when a
new strategy is used as a seed  we use the smallest known curb set containing that strategy
as the second input to min containing curb  whenever a smaller curb set containing a
new seed is identified  we eliminate all of the candidate minimal curb sets that contain
the newly found one  once each strategy has been used as a seed  all mc terminates and
returns the remaining candidate minimal curb sets 
proposition    the all mc algorithm finds all of a games minimal curb sets  and
nothing else  its worst case runtime is  n     lfp n   its best case runtime is  n    
proof  by corollary    the minimal curb set for any strategy must either equal  or be
contained by  any other curb set in which that strategy is found  therefore  restricting
the min containing curb search to the smallest curb set in which a strategy has been
found so far is valid  and the main loop of all mc will discover all minimal curb sets in
the game  since any curb set that is not minimal must have contained one of the minimal
curb sets discovered  it is removed when the smaller curb set is discovered  or not added
if the smaller set was previously discovered  
in the worst case  all mc must call min containing curb n times  with the full game
as a parameter  giving time complexity  n     lfp n   the best case complexity follows
from a best case game where each strategy is part of a pure strategy nash equilibrium 
    finding one minimal curb set
rather than finding all minimal curb sets in a game  it may be desirable to find a single
minimal curb set  to complete this quickly  we first choose a random seed strategy and
check if it is part of any size two curb sets  i e   part of a pure strategy nash equilibrium  
which takes o n  time  if that fails  we use the min containing curb algorithm with the
randomly chosen strategy as the seed and the full game as the second input  since the
resulting curb set might not be minimal  we recur within it by choosing  as a seed  a
contained strategy that has not yet been used  we repeat this until all strategies in the
current set have been used as seeds  at which point we terminate and return the remaining
set  this constitutes the one mc algorithm 
if the game has more than one curb set  one mc will be faster than all mc because
it will never leave the curb set in which it starts  the exact speed of one mc in practice
will depend on the first seed chosen  if it happens to be in a small curb set  one mc will
run fast  in the worst case  where the entire game is the only curb set  one mc executes
all of the same steps as all mc 
proposition    the one mc algorithm returns one of a games minimal curb sets  its
worst case time complexity is  n     lfp n   its best case time complexity is  n  
proof  if there are no other minimal curb sets  then the entire game is minimally curb
and will be returned  if there are any other minimal curb sets  one of them will be
discovered when a strategy inside it is used as a seed 
   

fialgorithms for closed under rational behavior  curb  sets

in the worst case  when the whole game is minimally curb  one mc must call the
min containing curb algorithm n times  with the full game as an input  giving time complexity  n     lfp n   the best case complexity follows from a best case game where a
strategy that is in a curb set of size two is chosen as a seed 
    finding the smallest minimal curb set
as a different type of query  one may be interested in finding one of a games smallest
minimal curb sets  this is important  for example  if the curb set is used for future
computations and the complexity of those future computations increases with the size of
the curb set  e g   for nash equilibrium finding as we will discuss later in the paper   we
find one of a games smallest minimal curb sets using a pseudo parallelization of all mc 
first  we use the same preprocessor as in all mc that checks each pair of strategies for a
size two curb set and returns one  if found  if that fails  we construct a candidate set for
each row strategy containing only that strategy  we insert the sets into a priority queue 
where sets containing the fewest strategies are given highest priority  we repeatedly pop
the smallest candidate set from the queue  and add all the necessary best responses to keep
it curb by calling all conditionally rational for each player  if new strategies are
added for either player  the resulting set is inserted back into the queue  and it is prioritized
based on its new size  the algorithm terminates when a candidate set is removed from the
queue that fails to admit any new best responses  that set is returned and it is one of the
games smallest minimal curb sets  we denote the size of this set as n    we call this
algorithm small mc 
proposition    the small mc algorithm returns one of the games smallest minimal curb
sets  its worst case runtime is  n n     lfp n   its best case runtime is  n    
proof  at the time small mc terminates  all conditionally rational has been called on
each row and column strategy in the set with no new best responses having been added 
therefore  the returned set is curb  since all other candidate sets on the queue must be
as large  or larger than the returned set  and future exploration can only add strategies to
these sets   this set is at least as small as the smallest curb set in the game  and each of
the games smallest curb sets is also minimal 
whenever a candidate set is fathomed  at least one new strategy must be added or
small mc will terminate  since there are n candidate sets  and n strategies in the returned
set  in the worst case n  n sets have been fathomed at termination  since each examination of a candidate set involves a call to all conditionally rational  the complexity
of small mc is as claimed  priority queue operations are logarithmic in the size of the
game  and in the worst case there are n  n such operations  thus  the overall worst case
complexity is  n n    n n log n   lfp n   which is  n n     lfp n   the proof of the
best case complexity is the same as in proposition   
    experimental results
we implemented the algorithms above and conducted experiments on their performance using most of the instance generators of the main benchmark collection for solving normal form
games  gamut  nudelman  wortman  shoham    leyton brown         the gamut
   

fibenisch  davis    sandholm

collection includes a variety of commonly studied game types from the academic game
theory literature  it is also specifically designed to test different aspects of scalability for
game solving algorithms  for example  most of the generators allow one to create multiple
game instances of any given size   in this section we show that the complexity of our algorithms depends primarily on the size of the game and the size of its smallest curb set 
we then proceed to explore the distribution of curb set sizes in the different game types 
we first report the runtime of our algorithms on two representative gamut game
distributions  random games  and covariant games  figure    left  shows how each of our
minimal curb set finding algorithms scales with game size on a data set of over     
random  square normal form games with between    and     strategies  the results show
that small mc is faster than all mc on random games  which is consistent with their time
complexities  considering that many random games have small curb sets  while the
worst case time complexity of one mc and all mc is the same  experimentally one mc is
faster because it only needs to find one minimal curb set  we can also see that  for large
random games  small mc performs slightly better than one mc  since these games tend to
contain both small and large curb sets and one mc is more likely to start in the larger
ones  on the other hand  in games with only large curb sets  one mc tends to be faster 
as we will show later 
we observed that the performance on random games  illustrated in figure    left   was
typical of that of many other gamut instance distributions  however  to show potentially
differing performance  we also report on experiments with the covariant game class  in which
utilities for both players are drawn from the same distribution with a specified covariance 
 in our experiments we set the covariance parameter to be       this class  and setting 
have been shown to be particularly challenging for nash equilibrium finding algorithms 
such as the lemke howson and porter nudelman shoham algorithms  lemke   howson 
      porter et al          figure    right  shows that the all mc algorithm scales similarly
on random and covariant games  while the other two algorithms lose their speed advantages
when applied to this class 
the distribution of curb sets in random games is shown as solid dots in figure    most
random games have small smallest curb sets  in fact  often sets of size two   and those that
do not  tend to have very large smallest curb sets  on the other hand  the distribution of
smallest curb set sizes in covariant games  shown in figure    hollow squares  has almost
no small smallest curb sets and many large smallest curb sets  this is consistent with
the observed hardness of these games for support enumeration based nash equilibrium
finding algorithms  which typically try to find equilibria with small supports first  porter
et al          this disparity also explains the lowered performance on covariant games of
the two minimal curb finding algorithms that have time complexities dependent on the
size of the smallest minimal curb set  small mc and one mc 
figure   shows the distribution of smallest curb set size for      instances from each
of the twenty four other distributions emitted by gamut generators  using a variety of
game generators  as we have done here  has become a primary way of testing game solving
algorithms  porter et al         sandholm et al          and we used the same parameter
settings in the distributions as those prior papers  for covariant games  the suffixes pos 
   we did not benchmark on the gamut games that only have a fixed size  such as chicken  prisoners
dilemma  and battle of the sexes  because they are trivial to solve from a computational perspective 

   

fialgorithms for closed under rational behavior  curb  sets

random games
   

all mc
one mc
small mc

   
   

runtime  sec 

runtime  sec 

   

covariant games

   
   
 

all mc
one mc
small mc

   
   
   
   
 

                           
game size  n 

                           
game size  n 

figure    scalability of our algorithms in game size for random  left  and covariant  right 
games 

small games  n      
   

covariant
random

  

  of games

  of games

   

large games  n      

  
  
  
 

  

covariant
random

  
  
  
 

 

 

  

  

  

                        

smallest curb set size

smallest curb set size

figure    distribution of smallest curb set size in random and covariant  r        games 
where n      and n             games were generated for each distribution and
value of n  

rand  and zero refer to positive  random  and zero covariance parameters  respectively 
for distributions that take a graph as input  cg  rg  and sg refer to complete 
random  and star graphs 
all of these distributions  like random and covariant games  exhibited very few mediumsized smallest curb sets  most of the instances had a smallest curb set that was extreme 
either a pure strategy equilibrium or the entire game  with some of the generators  all of
the instances lie at the same extreme  interestingly  some generators  e g   polymatrix 
produced a significant number of games with curb sets of one or more specific  nonextremal sizes  it is also notable that using different graph parameters for local effect and
polymatrix games had no effect on their smallest curb set size distributions  suggesting
   

fibenisch  davis    sandholm

bidirectionalleg cg

  

 

 

 

  

  

  

  of games

  of games

  of games
 

 

  

  

 

 

 

 

  

  

  

polymatrixgame cg
   
  
  
  
  
 
 

 
  
  
  
smallest curb set size

travelersdilemma
   
  
  
  
  
 

 
  
  
  
smallest curb set size

 
  
  
  
smallest curb set size

  

smallest curb set size

 

uniformleg sg

 
  
  
  
smallest curb set size

  

covariantgame zero

 
  
  
  
smallest curb set size

   
  
  
  
  
 

  

   
  
  
  
  
 

polymatrixgame sw

 
  
  
  
smallest curb set size

 

smallest curb set size

  

   
  
  
  
  
 

uniformleg rg

 

 

   
  
  
  
  
 

 
  
  
  
smallest curb set size

   
  
  
  
  
 

 

minimumeffortgame
  of games

 

  

smallest curb set size

  of games

  of games

  

   
  
  
  
  
 

  

   
  
  
  
  
 

polymatrixgame road

  of games
 
  
  
  
smallest curb set size

  

  

covariantgame rand

  of games

  of games

  of games

 

uniformleg cg

 

  

 

   
  
  
  
  
 

smallest curb set size

locationgame

 
  
  
  
smallest curb set size

   
  
  
  
  
 

 

   
  
  
  
  
 

polymatrixgame rg

 

 

smallest curb set size

 
  
  
  
smallest curb set size

   
  
  
  
  
 

  

  of games
 

dispersiongame

 

  

   
  
  
  
  
 

smallest curb set size

   
  
  
  
  
 

  

covariantgame pos
  of games

  of games

binaryrandomgame
   
  
  
  
  
 

 

smallest curb set size

  of games

  

  of games

  

smallest curb set size

bidirectionalleg sg

  of games

 

bidirectionalleg rg
   
  
  
  
  
 

 
  
  
  
smallest curb set size

warofattrition
  of games

 

   
  
  
  
  
 

  of games

  of games

  of games

bertrandoligopoly
   
  
  
  
  
 

   
  
  
  
  
 
 

 
  
  
  
smallest curb set size

figure    distribution of smallest curb set size in sets of      games with n      from
various gamut distributions 

that the type of graph used may not change the fundamental structure of these types of
games 
to better understand how the minimal curb set finding algorithms scale with the size
of the smallest curb set  we bucketed the n      random and covariant games according
to the size of their smallest curb sets   for n       the buckets for medium sized smallest
curb sets were nearly empty  making it impossible for us to estimate mean runtimes with
meaningful accuracy   figure   plots the average runtime and     confidence intervals
for each bucket  on games with very small curb sets  small mc is fastest  but it is
outperformed by both one mc and all mc as the size of the smallest curb set grows 
   

fialgorithms for closed under rational behavior  curb  sets

the somewhat surprising runtime performance of the latter two algorithms is due to their
leveraging of information across calls to min containing curb with different seeds  because
small mc performs all the searches in parallel  this information is unavailable 
random games
 

all mc
one mc
small mc

   

runtime  sec 

runtime  sec 

 

covariant games

 
   
 

all mc
one mc
small mc

   
 
   
 

 

 
  
  
  
smallest curb set size

 

 
  
  
  
smallest curb set size

figure    average runtime on games were n       with varying smallest curb set sizes 

   curb sets and nash equilibria
minimal curb sets and nash equilibria both model strategy subspaces which are mutually
reinforced given the rationality of agents and their common knowledge  in their original
work on minimal curb sets  basu and weibull showed that every minimal curb set
contains the supports of at least one nash equilibrium  basu   weibull         we observe
that this result suggests a secondary use for finding minimal curb sets  our algorithms
can be used to preprocess a game so that a nash equilibrium finding algorithm can restrict
its attention to one of the games minimal curb sets  rather than running on the entire
game  as we will show  this can theoretically yield an arbitrarily large reduction of the
search space 
the most common prior preprocessing technique for nash equilibrium finding  iterated
removal of dominated strategies  attempts to eliminate strategies that cannot be played with
any probability in any nash equilibrium  knuth et al         gilboa  kalai    zemel        
the same is true of another recent preprocessing technique  the generalized eliminability
method  conitzer   sandholm      b   one comparative advantage of minimal curb
set based elimination is that it can eliminate strategies that are played in some equilibria 
while guaranteeing that the resulting set still contains the supports of at least one 
first  we will show that a curb set based preprocessor can reduce search space size by
an arbitrary amount even on games where prior preprocessing techniques cannot eliminate
anything 
theorem    for any r c r    and c  such that r     c         r   r  and     c   c 
there exists normal form games of size r  c  with the following properties 
a  it contains a minimal curb set with shape r   c   
   

fibenisch  davis    sandholm

b  iterated elimination of dominated strategies  even domination by mixed strategies 
cannot eliminate any strategies 
c  the recursive preprocessing technique  that can eliminate strategies that belong to some
equilibrium as long as some other equilibrium remains   conitzer   sandholm       
can eliminate at most one strategy per player  and
d  the general eliminability method  conitzer   sandholm      b  cannot eliminate any
strategies 
proof  we first present a family of games    let r  c  denote a game from this family of
size r   c    the following generator produces such a game where r    c      assign the
utilities 
 u sr    sc      u sr    sc             and u sr    sc      u sr    sc             
 

then  for i      b r  c   set
 

     and u sr i    sc         i 
 u sr i    sc        r  i  
r 
r        
 

 u sr i   sc        r   i  
     and u sr i   sc         i 
r 
r        
if r  is odd there will be one remaining row  in this case  set the following utilities 
 

 
 if r  is odd  u sr    sc        r          and u sr    sc        r r 
        
 

next  for j      b c  c   set
 

 u sr    sc j          c  j  
  and u sr    sc j           j 
c 
c    
 

 u sr    sc j         c   j  
  and u sr    sc j          j 
c 
c    
if c  is odd there will be one remaining column  in this case  set the following utilities 
 

 if c  is odd  u sr    sc             c     and u sr    sc             c c 
    
for example  the game     is as follows 
   
sr 
sr 
sr 

sc 
   
   
   
    

sc 
   
   
   
   

sc 
     
     
     

sc 
     
     
     

any game generated in this way has a nash equilibrium where the row player mixes
evenly between its first two strategies  and the column player mixes evenly among all of its
strategies  this game also has an equilibrium where the column player mixes evenly between
its first two strategies  and the row player mixes evenly among all of its strategies  thus 
every strategy in r  c  is part of some equilibrium  additionally  each column strategy is a
   

fialgorithms for closed under rational behavior  curb  sets

best response to a mixture over the first two row strategies  and  to any column strategy 
one of those two is a best response   and vice versa  thus  r  c  has a single minimal curb
set and it includes the entire game 
we now construct an r  c game  with a minimally curb r   c  subset  by putting the
game r  c  in the top left and the game  rr    cc    in the bottom right  all other utilities
are set to arbitrary negative values  such that no two are exactly the same  the resulting
game is shown in figure   

figure    r  c game with arbitrary reduction to an r   c  curb set  irreducible by prior
techniques 
it is irreducible by  iterated  dominance and by general eliminability because every
strategy participates in some nash equilibrium  the game is irreducible  other than a
single strategy per player  by the recursive preprocessor because the row players utilities
are distinct within each column  and the column players utilities are distinct within each
row  except for the last row or column in each  game  if it has an odd number of rows or
columns  
three factors curb the promise of minimal curb set algorithms as powerful preprocessors for nash equilibrium finding  first  the fastest nash equilibrium finding algorithms 
while requiring exponential time in the worst case  tend to run faster than the curb set
finding algorithms on many types of games  at least the best known implementations of
these algorithms   second  the smallest curb set can be arbitrarily large  up to the size
of the entire game  in which case the preprocessor does not eliminate any strategies from
consideration   third  as we will now show  even after the smallest minimal curb set has
been identified  the remaining search space  curb set size  can be arbitrarily larger than
the size of the supports of a contained nash equilibrium 
to prove this  we will use the following family of games that contain large minimal
curb sets and small support equilibria  for any integer k      we define the game k as
follows  as in the previous proof  assign the utilities u sr    sc      u sr    sc             and
u sr    sc      u sr    sc              and let z be an arbitrarily large value  essentially   
then  for i          k  
 u sri   sc       z     u sr    sci        z  
 u sri   sci            
 u sri   sci                 u sri    sci                and
   

fibenisch  davis    sandholm

 for all j   i     and j      n 
u sri   scj         z   and u srj   sci      z    
for example  the game   is as follows 
 
sr 
sr 
sr 
sr 

sc 
   
   
z 
z 

sc 
   
   
    
z   

sc 
 z
    
   
    

sc 
 z
  z
      
   

with respect to the strategic structure of games from this class  we have the following
results 
lemma    for i      the row  column  players strategy sri  sci   is a best response to the
column  row  players strategy sci   sri     the column  row  players strategy sc   sr    is
a best response to the row  column  players strategy srn    scn     
proposition    k has a single minimal curb set and it includes the entire game 
proof  strategies sr    sr    sc    and sc  must be included in some minimal curb set  as they
are the best responses to each other in the subgame containing them  and this subgame
admits no pure strategy nash equilibrium  based on lemma    we can see that when i     
the row  column  players strategy sr   sc    is a best response to the column  row  players
second strategy  this forces the third strategy of each player into the minimal curb set
containing the first two strategies of each player  and inductively each additional strategy
is added in the same way 
proposition    in k   the only nash equilibrium is the the mixed strategy profile where
sr    sr    sc    and sc  are each played with probability     
proof  assume  for contradiction  that this is not the case  that is  there exists a mixture 
mr   over the rows mr   comprising the row players profile in a nash equilibrium  and
sr  
  mr   along with our assumption  the definition of nash equilibrium implies that there
must exist a mixture  mc   over columns mc such that r  mc     mr and c  mr     mc  
since sr  is not in mr by assumption  there exists i     such that sri is the lowest numbered
support in mr   and the definition of  specifies the outcome  u sri   scj         z   when
j   i     
the column players nash equilibrium supports cannot contain any such scj   because
placing any positive probability on this strategy will lead to a highly negative expected
payoff and playing the pure strategy sc  provides guaranteed payout of at least    if we
exclude these strategies  sci    the highest numbered remaining column strategy  is the only
remaining strategy  other than sc    which provides non zero utility against mixtures on rows
 i  in other words  it dominates all column strategies on the row players supports mr  
aside from one  sc   
   

fialgorithms for closed under rational behavior  curb  sets

since dominated strategies cannot be played in equilibrium  mc is constrained to a
subset of  sc    sci      if mc contains sc    mr must not include any srj with j      due to
the highly negative expected payoff of any mixture including such strategies  as discussed
above   in this case  the only remaining possible equilibrium row mixture is the pure
strategy sr    the best response to which is sc    since  by corollary    n has no pure
nash equilibrium  this cannot constitute an equilibrium  contradicting our assumption 
alternatively  if mc does not include sc    then mc must be the pure strategy sci     and
lemma   provides a pure strategy best response to any pure strategy with i      this
would  again  form a pure strategy nash equilibrium  which we have shown cannot exist 
the above reasoning can also be inverted to show that a contradiction is caused by the
assumption that mc does not contain sc   
we have shown that the row players equilibrium mixture must contain r  and r    and
that the column players equilibrium mixture must contain c  and c  and no other strategies
can be in either players supports  since it would lead one of them to have to highly negative
utility 
the  game demonstrates that it is possible to construct very large curb sets that are
loose around the supports of an enclosed nash equilibrium  giving us the following general
result 
theorem    a nash equilibrium with supports consisting of two strategies for each player
can be the only nash equilibrium in an arbitrarily large minimal curb set 
these results imply that minimal curb set algorithms will not always be effective as
preprocessors for nash equilibrium finding  however  on game instances that have a small
curb set or a relatively tight minimal curb set   these algorithms have the potential to
yield a significant speed improvement 
furthermore  the existence of the polynomial time algorithm for detecting a games
smallest curb set  small mc  allows us to offer the following theoretical result of potential
general interest 
theorem    the complexity of finding a nash equilibrium for a two player normal form
game can be super polynomial only in the size of the games smallest curb set  not in the
size of the full game  
the relationship between the complexity of finding a minimal curb set and that of
finding a nash equilibrium is surprising in several ways  for one  it is not obvious that
finding a minimal curb set should be easier than finding a nash equilibrium  since  like
nash equilibria  curb sets have an exponential space of possible supports which are chosen through maximization processes for both players  yet from a theoretical  worst case
perspective  nash equilibrium finding is ppad complete  which is widely believed to be a
strictly harder complexity class than p  and  as we showed earlier in this paper  minimal
curb set finding is polynomial time 
it is worth noting that games with very small support equilibria  which include all games
with very small curb sets  are already known to be easily solvable for nash equilibria
   if the game has a relatively tight curb set  a nash equilibrium can be found quickly by enumerating
strategies of the curb to be left out from the supports 

   

fibenisch  davis    sandholm

using techniques such as support enumeration  in particular  on games whose smallest
curb set size is logarithmic in the full game size  both support enumeration and curb
set preprocessing permit a guarantee of polynomial runtime in finding a nash equilibrium 
curb set preprocessing has the additional advantage that it can also be used to simplify
games with larger equilibrium supports  where support enumeration is exponential  for
example  consider the gk game class described by sandholm  gilpin and conitzer        
which generates games with a single equilibrium  and that equilibrium contains half the
strategies in its support  we also determined that these games have a single curb set 
and that curb set includes exactly the supports of the equilibrium  games from this class
can be padded  using the embedding technique in our theorem    to become arbitrarily
large games without introducing any additional equilibria or curb sets  on those games 
curb set detection offers a polynomial time method for reducing the game to the point
where algorithms not based on support enumeration can be applied 
what about the complexity of the two problems  nash equilibrium finding and curb
set finding  in practice  as figure   shows  the average runtimes of our smallest curb
set finding algorithm and the lemke howson nash equilibrium finding algorithm  using the
implementation in gambit  mckelvey  mclennan    turocy        seem to scale similarly
with input game size  when one does not explicitly generate those pathological cases which
produce exponential behavior in the latter  savani   von stengel         in fact  the curb
set algorithms are slower  by two orders of magnitude  on average than lemke howson 
this experimental performance agrees with intuition  but is the reverse of the theoretical
state of knowledge regarding worst case complexity 

    

small mc
lemke howson

   
  
 
   
    

covariant games
logscale runtime  sec 

logscale runtime  sec 

random games

                           
game size  n 

    

small mc
lemke howson

   
  
 
   
    
                           
game size  n 

figure    average runtime and     confidence intervals of small mc and lemke howson
as a function of game size 

it is worth pointing out that an algorithm that builds in part on our work for one of
the curb set problems  finding all minimal curb sets  has been presented in a working
paper  klimm  sandholm    weibull         and it appears to scale more favorably than
ours  however  the algorithm has not been directly compared with lemke howson or any
other nash equilibrium finding algorithms  so its relative value related to preprocessing
remains to be seen 
   

fialgorithms for closed under rational behavior  curb  sets

the root cause of the complexity of nash equilibrium search has proved elusive  as two
candidates that were considered potential culprits have been shown not to affect worstcase complexity  games with two players and binary utilities are just as difficult as the
general case  even if both restrictions apply simultaneously  chen   deng        abbott
et al          the fact that bounding the smallest curb set size does serve to bound
the difficulty of nash equilibrium search suggests that we can further isolate the cause of
equilibrium search complexity as being endemic to minimal curb sets  rather than games
in general  in this regard  we observe that the special two player game used by chen and
deng to show ppad completeness  chen   deng        is itself a single minimal curb
set  and remains such under abbott et al s  abbott et al         transformation to binary
utilities 

   conclusions
we presented a thorough computational treatment of curb sets  an important set valued 
game theoretic solution concept  including several algorithms for finding curb sets in
two player  normal form games  our algorithms find all minimal curb sets  all mc  
one minimal curb set  one mc   and a smallest minimal curb set  small mc   all in
polynomial time  the algorithms are based on basic properties of curb sets that we prove 
such as the fact that minimal curb sets cannot overlap  the algorithms use dovetailing
with a priority queue  and exploiting information across overlapping  non minimal curb
sets  to further improve speed 
experiments on random games showed that  unsurprisingly  small mc tends to be the
fastest  one mc is second  and all mc is the slowest  however  on covariant games the speed
advantage of the former two disappears  the runtime of those algorithms is primarily
determined by the size of the smallest curb set  and on covariant games  which tend to
have larger curb sets  those algorithms  especially one mc  suffer 
our algorithms also enable the study of curb set size distributions of different game
classes  we showed that the instance distributions from gamut are mainly extremal  in
the sense that a given game generator will yield mostly games with pure strategy equilibria
and or games where the game itself is the sole minimal curb set  however  curiously 
some of the generators yield a significant number of games with smallest curb sets of
specific non extremal sizes 
we also examined the potential for using our algorithms as preprocessors for nash equilibrium finding algorithms  we proved that our technique can eliminate an arbitrarily large
portion of the game from consideration  while guaranteeing that the remaining subgame
contains at least one nash equilibrium from the full game  this is the case even for games
where prior preprocessing techniques  including the iterated removal of dominated strategies  are powerless 
on the downside  we showed that the smallest curb set can be arbitrarily large and or
arbitrarily loose  furthermore  on many distributions  we showed that current nash equilibrium finding algorithms run faster  on average  than the curb set algorithms  this is
surprising in that the theoretical worst case complexity of the two problems is the reverse 
we demonstrated that the worst case complexity of finding a nash equilibrium is polynomial in all known aspects of the game except the size of its smallest curb set  taken
   

fibenisch  davis    sandholm

together with our curb set finding algorithms that are polynomial time even in the worst
case  and the fact that nash equilibrium finding is super polynomial in the worst case  unless ppad p   we observe that the essence of the worst case complexity of finding a nash
equilibrium is the complexity of finding a nash equilibrium within a minimal curb set 
while the curb set definition is for any number of players  we presented all of our
algorithms for the two player setting  for a larger number of players  the only obstacle to
finding minimal curb sets is finding conditional best responses quickly as a subroutine 
we showed that this problem can be solved fast for two playersin these settings it involves
solving a simple linear feasibility program  however  the mathematical program we use is
of degree p     where p is the number of players  and with three players the constraints
are already quadratic  on the plus side  our algorithms only make a polynomial number
of calls to this subroutine  therefore  if future research is able to identify polynomial time
algorithms for finding all of a players conditional best responses in n player games  then
our curb set algorithms will also be polynomial time in those settings 

acknowledgments
this material is based upon work supported by national science foundation itr grant
         igert grant          and iis grants                   and          as well
as office of naval research grant n                 and a sloan fellowship  we would
also like to thank our anonymous reviewers  vincent conitzer  and andrew gilpin for their
helpful input and advice 

references
abbott  t   kane  d     valiant  p          on the complexity of two player win lose games 
in proceedings of the symposium on foundations of computer science  focs   pp 
       
basu  k     weibull  j  w          strategy subsets closed under rational behavior  economics letters                 
battigalli  p     siniscalchi  m          rationalizable bidding in first price auctions  games
and economic behavior               
bernheim  b  d          rationalizable strategic behavior  econometrica                 
brandt  f   brill  m   fischer  f     harrenstein  p          computational aspects of
shapleys saddles  in proceedings of the international conference on autonomous
agents and multi agent systems  aamas   pp         
chen  x     deng  x          settling the complexity of two player nash equilibrium 
in proceedings of the symposium on foundations of computer science  focs   pp 
       
conitzer  v     sandholm  t       a   complexity of  iterated  dominance  in proceedings
of the acm conference on electronic commerce  acm ec   pp       
   

fialgorithms for closed under rational behavior  curb  sets

conitzer  v     sandholm  t       b   a generalized strategy eliminability criterion and
computational methods for applying it   in proceedings of the national conference
on artificial intelligence  aaai   pp         
conitzer  v     sandholm  t          a technique for reducing normal form games to compute a nash equilibrium  in proceedings of the international conference on automated
agents and multi agent systems  aamas   pp         
daskalakis  c   goldberg  p  w     papadimitriou  c  h          the complexity of computing a nash equilibrium  communications of the acm               
gilboa  i   kalai  e     zemel  e          the compleixty of eliminating dominated strategies  mathematics of operations research             
gilboa  i     zemel  e          nash and correlated equilibria  some complexity considerations  games and economic behavior          
hurkens  s          learning by forgetful players  games and economic behavior         
       
jordan  p     wellman  m          algorithms for finding approximate formations in games 
in proceedings of the national conference on artificial intelligence  aaai   pp     
    
klimm  m   sandholm  t     weibull  j  w          finding all minimal scurb sets in
finite games  mimeo            
knuth  d  e   papadimitriou  c  h     tsitsiklis  j  n          a note on strategy elimination
in bimatrix games  or letters                
lemke  c     howson  j          equilibrium points of bimatrix games  journal of the
society of industrial and applied mathematics             
mckelvey  r  d   mclennan  a  m     turocy  t  l          gambit  software tools for
game theory  version           http   econweb tamu edu gambit 
nudelman  e   wortman  j   shoham  y     leyton brown  k          run the gamut 
a comprehensive approach to evaluating game theoretic algorithms   in proceedings
of the international conference on automated agents and multi agent systems  aamas   pp         
pearce  d  g          rationalizable strategic behavior and the problem of perfection 
econometrica                 
porter  r   nudelman  e     shoham  y          simple search methods for finding a
nash equilibrium  in proceedings of the national conference on artificial intelligence
 aaai   pp         
pruzhansky  v          on finding curb sets in extensive games  international journal
of game theory                 
sandholm  t   gilpin  a     conitzer  v          mixed integer programming methods
for finding nash equilibria  in proceedings of the national conference on artificial
intelligence  aaai   pp         
   

fibenisch  davis    sandholm

savani  r     von stengel  b          exponentially many steps for finding a nash equilibrium in a bimatrix game  in proceedings of the symposium on foundations of
computer science  focs   pp         
voorneveld  m   kets  w     norde  h          an axiomatization of minimal curb sets 
international journal of game theory             
ye  y          improved complexity results on solving real number linear feasibility problems  mathematical programming                  

   

fi