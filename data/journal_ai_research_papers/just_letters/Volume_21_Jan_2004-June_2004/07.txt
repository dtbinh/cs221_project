journal of artificial intelligence research                  

submitted        published      

a personalized system for conversational recommendations
cynthia a  thompson

cindi cs utah edu

school of computing
university of utah
   central campus drive  rm      
salt lake city  ut       usa

mehmet h  goker

mgoker kaidara com

kaidara software inc 
    distel circle  suite    
los altos  ca       usa

pat langley

langley isle org

institute for the study of learning and expertise
     staunton court
palo alto  ca       usa

abstract
searching for and making decisions about information is becoming increasingly difficult as the amount of information and number of choices increases  recommendation
systems help users find items of interest of a particular type  such as movies or restaurants  but are still somewhat awkward to use  our solution is to take advantage of the
complementary strengths of personalized recommendation systems and dialogue systems 
creating personalized aides  we present a system  the adaptive place advisor  that
treats item selection as an interactive  conversational process  with the program inquiring about item attributes and the user responding  individual  long term user preferences
are unobtrusively obtained in the course of normal recommendation dialogues and used to
direct future conversations with the same user  we present a novel user model that influences both item search and the questions asked during a conversation  we demonstrate the
effectiveness of our system in significantly reducing the time and number of interactions
required to find a satisfactory item  as compared to a control group of users interacting
with a non adaptive version of the system 

   introduction and motivation
recommendation systems help users find and select items  e g   books  movies  restaurants 
from the huge number available on the web or in other electronic information sources  burke 
      resnick   varian        burke  hammond    young         given a large set of
items and a description of the users needs  they present to the user a small set of the items
that are well suited to the description  recent work in recommendation systems includes
intelligent aides for filtering and choosing web sites  eliassi rad   shavlik         news
stories  ardissono  goy  console    torre         tv listings  cotter   smyth         and
other information 
the users of such systems often have diverse  conflicting needs  differences in personal
preferences  social and educational backgrounds  and private or professional interests are
pervasive  as a result  it seems desirable to have personalized intelligent systems that
c
    
ai access foundation  all rights reserved 

fithompson  goker    langley

process  filter  and display available information in a manner that suits each individual
using them  the need for personalization has led to the development of systems that adapt
themselves by changing their behavior based on the inferred characteristics of the user
interacting with them  ardissono   goy        ferrario  waters    smyth        fiechter
  rogers        langley        rich        
the ability of computers to converse with users in natural language would arguably
increase their usefulness and flexibility even further  research in practical dialogue systems 
while still in its infancy  has matured tremendously in recent years  allen  byron  dzikovska 
ferguson  galescu    stent        dybkjr  hasida    traum        maier  mast   
luperfoy         todays dialogue systems typically focus on helping users complete a
specific task  such as planning  information search  event management  or diagnosis 
in this paper  we describe a personalized conversational recommendation system designed to help users choose an item from a large set all of the same basic type  our goal
is to support conversations that become more efficient for individual users over time  our
system  the adaptive place advisor  aims to help users select a destination  in this
case  restaurants  that meets their preferences 
the adaptive place advisor makes three novel contributions  to our knowledge 
this is the first personalized spoken dialogue system for recommendation  and one of the
only conversational natural language interfaces that includes a personalized  long term user
model  second  it introduces a novel model for acquiring  utilizing  and representing user
models  third  it is used to demonstrate a reduction in the number of system user interactions and the conversation time needed to find a satisfactory item 
the combination of dialogue systems with personalized recommendation addresses weaknesses of both approaches  most dialogue systems react similarly for each user interacting
with them  and do not store information gained in one conversation for use in the future 
thus  interactions tend to be tedious and repetitive  by adding a personalized  long term
user model  the quality of these interactions can improve drastically  at the same time 
collecting user preferences in recommendation systems often requires form filling or other
explicit statements of preferences on the users part  which can be difficult and time consuming  collecting preferences in the course of the dialogue lets the user begin the task of
item search immediately 
the interaction between conversation and personalized recommendation has also affected our choices for the acquisition  utilization  and representation of user models  the
adaptive place advisor learns information about users unobtrusively  in the course
of a normal conversation whose purpose is to find a satisfactory item  the system stores
this information for use in future conversations with the same individual  both acquisition
and utilization occur not only when items are presented to and chosen by the user  but
also during the search for those items  finally  the systems representation of models goes
beyond item preferences to include preferences about both item characteristics and particular values of those characteristics  we believe that these ideas extend to other types of
preferences and other types of conversations 
in this paper  we describe our work with the adaptive place advisor  we begin
by introducing personalized and conversational recommendation systems  presenting our
design decisions along the way  in section   we describe the system in detail  while in

   

fipersonalized conversational recommendation

section   we present our experimental evaluation  in sections   and   we discuss related
and future work  respectively  and in section   we conclude and summarize the paper 

   personalized conversational recommendation systems
our research goals are two fold  first  we want to improve both interaction quality in
recommendation systems and the utility of results returned by making them user adaptive
and conversational  second  we want to improve dialogue system performance by means of
personalization  as such  our goals for user modeling differ from those commonly assumed
in recommendation systems  such as improving accuracy or related measures like precision
and recall  our goals also differ from that of previous work in user modeling in dialogue
systems  haller   mcroy        kobsa   wahlster        carberry        kass        
which emphasizes the ability to track the users goals as a dialogue progresses  but which
does not typically maintain models across multiple conversations 
our hypothesis is that improvements in efficiency and effectiveness can be achieved by
using an unobtrusively obtained user model to help direct the systems conversational search
for items to recommend  our approach assumes that there is a large database of items from
which to choose  and that a reasonably large number of attributes is needed to describe
these items  simpler techniques might suffice for situations where the database is small or
items are easy to describe 
    personalization
personalized user adaptive systems obtain preferences from their interactions with users 
keep summaries of these preferences in a user model  and utilize this model to generate
customized information or behavior  the goal of this customization is to increase the
quality and appropriateness of both the interaction and the result s  generated for each
user 
the user models stored by personalized systems can represent stereotypical users  chin 
      rich        or individuals  they can be hand crafted or learned  e g   from questionnaires  ratings  or usage traces   and they can contain information about behavior such
as previously selected items  preferences regarding item characteristics  such as location or
price   or properties of the users themselves  such as age or occupation   kobsa   wahlster 
      rich         also  some systems store user models only for the duration of one interaction with a user  carberry  chu carroll    elzer        smith   hipp         whereas
others store them over the long term  rogers  fiechter    langley        billsus   pazzani 
      
our approach is to learn probabilistic  long term  individual user models that contain
information about preferences for items and item characteristics  we chose learned models
due to the difficulty of devising stereotypes or reasonable initial models for each new domain
encountered  we chose probabilistic models because of their flexibility  a single user can
exhibit variable behavior and their preferences are relative rather than absolute  long term
models are important to allow influence across multiple conversations  also  as already
noticed  different users have different preferences  so we chose individual models  finally 
preferences about items and item characteristics are needed to influence conversations and
retrieval 
   

fithompson  goker    langley

once the decision is made to learn models  another design decision relates to the method
by which a system collects preferences for subsequent input to the learning algorithm s  
here we can distinguish between two approaches  the direct feedback approach places the
burden on the user by soliciting preference information directly  for example  a system
might ask the user to complete a form that asks her to classify or weight her interests using
a variety of categories or item characteristics  a recent study  mcnee  lam  konstan 
  riedl        showed that forcing the user to provide ratings for items  movies  in this
case  that they choose  rather than those that the system chooses  can actually lead to
better accuracy rates and better user loyalty  however  users can be irritated by the need
to complete long questionnaires before they can even begin to enjoy a given service  and
the study was not in the context of a dialogue system but involved a simpler interaction 
another  slightly less obtrusive  form of direct feedback encourages the user to provide
feedback as she continues to use a particular service 
the second approach to acquiring user models  and the one taken in the adaptive
place advisor  is to infer user preferences unobtrusively  by examining normal online behavior  fiechter   rogers        rafter  bradley    smyth         we feel that unobtrusive
collection of preferences is advantageous  as it requires less effort from the user  also  users
often cannot articulate their preferences clearly until they learn more about the domain  a
possible disadvantage to unobtrusive approaches is that users may not trust or understand
the systems actions when they change from one interaction to the next  this could be
addressed by also letting the user view and modify the user model  kay   thomas        
systems typically take one of two approaches to preference determination  contentbased methods recommend items similar to ones that the user has liked in the past  segal  
kephart        pazzani  muramatsu    billsus        lang         in contrast  collaborative
methods select and recommend items that users similar to the current user have liked in
previous interactions  cotter   smyth        billsus   pazzani        konstan  miller 
maltz  herlocker  gordon    riedl        shardanand   maes         because collaborative
filtering bases recommendations on previous selections of other users  it is not suitable for
new or one off items or for users with uncommon preferences  the content based approach 
on the other hand  uses the item description itself for recommendation  and is therefore not
prone to these problems  however  content based techniques tend to prefer the attribute
values that users have preferred in the past  though they do allow new combinations of
values  we feel that the benefits of a content based approach outweigh the disadvantages  we
discuss methods for overcoming these disadvantages and for combining the two techniques
in section     
ultimately  personalization is about how one can utilize a learned user profile to search
for  identify  and present relevant information to the right user in the right way at the right
time  user models have been utilized in recommendation systems for content processing and
selection  information filtering   navigation support in web browsers  pazzani et al         
and choice of modality and style of presentation and interaction  brusilovsky   maybury 
       the adaptive place advisor adapts its information filtering and interaction
behavior  since these are most relevant for our application and since the majority of the
interaction is through natural language 

   

fipersonalized conversational recommendation

    conversational recommendation
the goal of recommendation systems is to help users find items of interest  and thus they
must eliminate some choices from consideration while keeping others  to achieve this  they
must either know or determine the interests of the current user  then present items that
satisfy those interests 
one of the most widely used approaches for information acquisition in recommendation
systems is the use of a simple form  usually a single query box  that the user fills in  coupled
with this  a common presentation format is the ranked list approach  in this scheme  the
system presents a usually long list of results  ordered by their predicted relevance to the
user  the combined technique of information acquisition through a form and presentation
in a list originated in information retrieval  where it was used to help find documents or
reports during library research  the basic method  which we refer to as the ranked list
approach  is more general  however  and it underlies the simpler search engines for the
world wide web  which are used regularly for many different selection tasks 
in contrast  the adaptive place advisor supports conversations as its mode of
interaction  in this approach  one conversational participant  which we call the inquirer 
asks a second participant  which we call the advisor  for assistance in selecting an item  for
example  if the inquirer is deciding on a restaurant at which to have dinner  the conversation
may proceed as follows 
  
  
  
  
  
  
  
  
  
   
   
   
   

inquirer  where do you think i should eat tonight 
advisor  what type of food would you like 
inquirer  what types are there 
advisor  you can say things like chinese  indian  and mediterranean 
inquirer  oh  maybe a cheap indian place 
advisor  what kind of parking would you like 
inquirer  i dont care  as long as its in palo alto 
advisor  im sorry  i dont know of any restaurants like that  would you like to search
for any price 
inquirer  no  i think id like chinese instead 
advisor  how does mandarin gourmet on     ramona sound  
inquirer  no  what else do you have 
advisor  how about jing jing szechwan hunan gourmet on     emerson street 
inquirer  sure  that sounds fine 

we will refer to systems that mimic this approach to recommendation as conversational
recommendation systems 
the interaction supported by conversational recommendation systems is quite different
from that found in the ranked list approach  the most important distinction is that the
interaction takes the form of a sequence of questions  most designed to eliminate some items
from consideration  answering these questions plays a similar role to giving keywords in
a form  but the aim is to remove alternatives rather than to rank results in a list  this
   our system does not support this exact sample dialogue  for example  at this point in a conversation it
displays the information about the restaurant on the screen and asks how does this one sound  or a
similar question 

   

fithompson  goker    langley

conversational process can also help the inquirer better understand his own desires  since
thinking about possible questions and answers may clarify goals in ways that keyword entry
does not encourage  in addition  a conversation can support user variability by letting the
user control item and attribute choices in each conversation  finally  the inquirer never
hears about a complete item until at most a few choices remain  this avoids presenting
a long list of items and lets the user narrow down the choices in an iterative  manageable
fashion 
such dialogues seem better for recommendations that must be delivered by speech rather
than visually  for example those engaged in while the inquirer is driving  they also seem
ideal  independent of modality  for tasks like destination selection or help desk support
 goker   roth berghofer        aha   breslow         in which the user needs to converge
on at most a few items  on the other hand  keyword entry and ranked list methods seem
more appropriate in situations where the user prefers to provide all requirements at once 
in situations where information can be presented visually  and in situations where the user
may want to examine many options 
by eliminating options  conversational recommendation systems ultimately direct their
users to a suitable solution  however  such a conversation can become tiring and the quality
of the first result returned may not be acceptable for each user  just as interactions with
a friend who knows your concerns can be more directed and produce better results than
those with a stranger  dialogues with a conversational advisor should become more efficient
and effective over time  our goals for user modeling include improvement of the subjective
quality and effectiveness of both the results  found items  and the conversation that leads
to these results  for example  after several conversations with the inquirer above  a new
interaction may proceed as follows  where the question about parking has been eliminated
and the item presentation order has changed 
  
  
  
  
  
  
  

inquirer 
advisor 
inquirer 
advisor 
inquirer 
advisor 
inquirer 

where do you think i should eat tonight 
what type of food would you like 
oh  maybe a chinese place  
what city do you prefer 
do you have something in palo alto 
how does jing jing szechuan gourmet on     emerson sound 
sure  that sounds fine 

we turn next to our design choices concerning the management of such conversations 
    conversation via dialogue management
dialogue systems carry out conversations with users in natural language  whether spoken or
typed  the main tasks performed by dialogue systems are language interpretation  language
generation  and dialogue management  natural language interpretation and generation
are topics onto themselves and we will not discuss them here  for two introductory texts 
see allen        and jurafsky and martin         to enable a focus on user modeling 
our system allows moderately complex user utterances but has a pre coded set of system
utterances  as discussed further in section     
   this response shows that the inquirer will have learned how to use the system more efficiently as well 

   

fipersonalized conversational recommendation

the simplest dialogue managers are based on finite state automata in which the states
correspond to questions and arcs correspond to actions that depend on a user provided
response  stent  dowding  gawron  bratt    moore        winograd   flores        
these systems support what are called fixed  or system initiative conversations  in which
only one of the participants controls the actions  whether it be the system helping the user
or the user asking questions of the system  next in complexity are frame  or template based
systems in which questions can be asked and answered in any order  bobrow et al         
next  true mixed initiative systems allow either dialogue participant to contribute to the
interaction as their knowledge permits  allen        haller   mcroy        pieraccini 
levin    eckert         thus  the conversational focus can change at any time due to the
users  or systems  initiative of that change  finally  some different approaches that support
sophisticated dialogues include plan based systems  allen et al         cohen   perrault 
      and systems using models of rational interaction  sadek  bretier    panaget        
to allow reasonably complex conversations while keeping the system design straightforward  we chose a frame based approach to dialogue management  thus  the adaptive place advisor allows more conversational flexibility than a fully system initiative
paradigm would allow  users can fill in attributes other than or in addition to those suggested by the system  however  they cannot force the system to transition to new subtasks 
nor can the system negotiate with users to determine which participant should take the
initiative 
    interactive constraint satisfaction search
constraint satisfaction problems provide a general framework for defining problems of interest in many areas of artificial intelligence  such as scheduling and satisfiability  kumar 
       in their most general form  constraint satisfaction problems involve a set of variables
whose domains are finite and discrete  along with a set of constraints that are defined over
some subset of the variables and that limit the value combinations those variables can take 
the goal is to find an assignment of values to variables that satisfies the given constraints 
cucchiara  lamma  mello  and milano        define the class of interactive constraintsatisfaction problems that involve three extensions to the standard formulation  first 
they include a constraint acquisition stage during which a user can incrementally add new
constraints to the problem being solved  second  a variables domain can include both a
defined and undefined portion  and the user can add new values to the defined portion
during constraint acquisition  third  they allow incremental update of a partial solution
based on the domain and constraint updates 
this framework can encompass the item search portion of the conversations managed by
the adaptive place advisor  it does not include the item presentation portion  in our
setting  constraints are simply attribute value specifications  such as cuisine   chinese 
the place advisors search is not as fully general as this framework  in that it does
not incorporate the notion of undefined portions of domains  however  it does acquire
constraints via the users specifications during a conversation and incrementally updates
solutions in response 

   

fithompson  goker    langley

system output
 voice 

prompts

user input
 voice 

speech generator

speech recognizer

system operators
and values

user operators
and values
domain
model

dialogue manager

conversation history

user
models

initial query

recognition
grammars

results 
attribute information

user modeling
system

updated query

retrieval engine

item
database

figure    components of the adaptive place advisor and their interactions 

   the adaptive place advisor
in this section  we first present an overview of the adaptive place advisors functioning 
then follow with details about its components   the system carries out a number of tasks
in support of personalized interaction with the user  in particular  it 










utilizes the user model to initialize a probabilistic item description as an expanded query 
generates context appropriate utterances 
understands the users responses 
refines the expanded query with the explicit requirements  constraints  obtained from
the user during the conversation 
retrieves items matching the explicitly specified part of the query from a database 
calculates the similarity of the retrieved items to the query 
selects the next attribute to be constrained or relaxed during a conversation when the
number of highly similar items is not acceptable 
presents suitable items when the number of items is acceptable  and
acquires and updates the user model based on these interactions 

the responsibilities for these tasks are distributed among various modules of the system 
as shown in figure    the dialogue manager generates  interprets  and processes conversations  it also updates the expanded query after each user interaction  the retrieval engine
is a case based reasoning system  aamodt   plaza        that uses the expanded query to
retrieve items from the database and to measure their similarity to the users preferences 
the user modeling system generates the initial  probabilistic  query and updates the longterm user model based on the conversation history  the speech recognizer and the speech
generator handle the users input and control the systems output  respectively 
   as further discussed in section      our approach to destination advice draws on an earlier analysis of
the task by elio and haddadi              

   

fipersonalized conversational recommendation

to find items to recommend to the user  the place advisor carries out an augmented
interactive constraint satisfaction search  the goal of the entire conversation is to present
an item that will be acceptable to the user  during the constraint satisfaction portion 
the system carries out a conversation to find a small set of such items  during the search
phase  two situations determine the systems search operators and thus its questions  first 
an under constrained specification means that many items match the constraints  and the
system must obtain more information from the user  second  if there are no matching items 
the system must relax a constraint  thus allowing items to contain any domain value for the
relaxed attribute   the system ends the search phase when only a small number of items
match the constraints and are highly similar  based on a similarity threshold  to the users
preferences  item presentation  in similarity order  begins at this point  with a similarity
computation used to rank the items that satisfy the constraints 
the search and item presentation process is also influenced by the user modeling system
and thus is personalized  the main mechanism for personalization is through the expanded
query  a probabilistic representation of the users preferences  both long term  over many
conversations  and short term  within a conversation   we will often just refer to this as the
query  but it always refers to constraints that are both explicitly and implicitly specified
by the user  thus  the query is expanded beyond the explicit  short term  constraints
using the  long term  constraints implicit in the user model  in a sense  the initial query
represents what constraints the system thinks the user will probably want  the system
incrementally refines this query in the course of the conversation with the user  setting
explicit  firm constraints as the user verifies or disconfirms its assumptions  over the long
term  the user modeling system updates the user model based on the users responses to
the attributes and items offered during a conversation 
the retrieval engine searches the database for items that match the explicit constraints
in the query  it then computes the similarity of the retrieved items to the users preferences
as reflected in the expanded part of the query  depending on the number of highly similar results  the retrieval engine also determines which attribute should be constrained or
relaxed 
in sum  the system directs the conversation in a manner similar to a frame based system 
retrieves and ranks items using a case based reasoning paradigm  and adapts the weights
in its similarity calculation based on past conversations with a user  thereby personalizing
future retrievals and conversations  in this section  we present the details of the adaptive
place advisors architecture  after describing the user model  we elaborate on the
retrieval engine then the dialogue manager  finally  we discuss how the system updates
the user model as the user interacts with it 
    the user model
our focus on personalized conversation suggests a fine grained model of user preferences 
emphasizing the questions a user prefers to answer and the responses he tends to give  in
addition to preferences about entire items  we now describe that model in more detail  in
later sections  we will describe how it influences item ranking and question ordering  which
   because other constraints can later be modified  the system lets the user later specify any value  even
the one that caused the over constrained situation 

   

fithompson  goker    langley

table    example of a user model 
user name

homer

attributes

wi

cuisine

   

values and probabilities
italian

french

turkish

chinese

german

english

    

   

    

   

   

   

   

one

two

three

four

five

   

   

   

   

   

   

   
   

parking

   

price range

item nbr 
accept present

valet

street

lot

   

   

   

    

    

    

   

    

       

       

       

   

       

in turn determine how quickly the system can stop asking questions and start presenting
items  in general  a user may tend to 





answer questions about some attributes more often than others 
provide some attribute values more often than others 
choose some items more often than others 
provide certain combinations of values more often than their independent distribution
would predict  and
 accept either large or small amounts of value and item diversity 

all of these tendencies are influenced by the users preferences  which in turn are captured
by our user model  attribute preferences represent the relative importance a user places on
attributes  e g   cuisine vs  price  while selecting an item  preferred values show the users
bias towards certain item characteristics  e g   italian restaurants vs  french restaurants  
item preferences are reflected in a users bias for or against a certain item  independent of its
characteristics  combination preferences represent constraints on the combined occurrence
of item characteristics  e g   accepts restaurants in san francisco only if they have valet
parking   diversity preferences model the time that needs to pass between an item or
characteristic being suggested again or the users tolerance for unseen values or items  item
preferences are related to single items  whereas attribute  value  and combination preferences
are applicable to the search for those items in general  diversity preferences relate to both
the items and the search 
currently  the adaptive place advisor models preferences that the user may have
about attributes  values  and items  but not combination or diversity preferences  the
former are easily captured by either probability distributions or counts  as illustrated in
table    the place advisor maintains a probability distribution to represent attribute
preferences and independent probability distributions to represent preferences for each attributes set of values  for attribute preferences  the system uses domain knowledge to
initialize the weights  for example  price is usually considered as more important than park 

   

fipersonalized conversational recommendation

ing  in the absence of such information  as is the case with value preferences  the system
begins with a uniform distribution 
the system represents item preferences as a ratio of the number of times an item was
accepted to the number of times it was presented  this is initialized by assuming that all
items have been presented and then accepted a large percentage  nine out of ten  or      of
the time  while this may cause updates  see below  to have a small effect and undesirable
items to be suggested more than once  it has the effect of not quickly discounting alternatives
early in the learning process  this in turn encourages the user to explore alternatives 
allowing the system to learn more about additional items  in sum  item preferences represent
the probability of the user accepting a particular item after it is presented  rather than
representing a probability distribution over all items 
    the retrieval engine
once in place  the user model affects the behavior of the system through the retrieval
engine  which interacts with a database to retrieve the items  if any  that satisfy the currently agreed upon constraints  this module also interacts with the query to determine how
similar those items are to the users preferences and to determine the best ordering of the
attributes for constraining or relaxing  as appropriate  both types of interactions with the
user model support the goal of quickly narrowing down the search for a satisfactory item 
similar to the way a human advisor bases assumptions regarding the inquirer on their
previous interactions  our system uses its cumulative experience  reflected in the user model 
as a basis for its computation  the retrieval engine represents the users preferences and
requirements in the expanded query  a partial  probabilistic item specification determined
by both the conversation and the user model  the query is initialized from the user model 
and thus contains preference based probabilities for the attributes and values the user has
not yet explicitly specified along with the users item preferences  in the course of the
conversation  the system updates the query to reflect the values the user specifies  for each
attribute  it sets the probability for each value agreed upon in the conversation to     
and all other probabilities to zero  for example  if the user says chinese or italian  the
system sets the value probabilities for both chinese and italian to      and all other cuisine
probabilities to zero  this is equivalent to a disjunction of probabilistic queries  one for
each value combination specified by the user  
the first main aspect of the retrieval engine that is personalized is its item ranking
technique  unlike a typical case based similarity computation  which retrieves items beyond
those that match a query exactly  the computation used by the system restricts the retrieved
items to those most desirable to the user  the system filters the items to be included in the
current case base according to the characteristics explicitly specified by the user and sorts
the remaining items according to their similarity to items the user liked in the past 
thus  the engine first queries the database to retrieve all items that match the current
constraints exactly   then  the place advisor uses the probability distributions in the
query to compute how likely the user is to choose an item  the system calculates the
   in the user study described in section    no users specified a disjunctive query 
   for attributes where the user has selected more than one value  we assume that any supplied value would
be acceptable 

   

fithompson  goker    langley

similarity between the current query  q  and an item  i using
sim q  i    ri 

n
x

wj  p  vj    

j  

where ri is the users item preference ratio for item i  n is the number of attributes  wj
is the weight of attribute j in q  vj is the value of attribute j in i  and p  vj   is the
value preference  probability in q  for this value  similarity in this formula is based on
the user model and the search state  thus  for each unconstrained attribute  it estimates
the probability that the user will accept the items value for that attribute  once the
system calculates the similarity of each item  it compares an items similarity to a constant
similarity threshold  and only retains those items that exceed the threshold 
the second main personalized aspect of the retrieval engine is its ranking of attributes
in under  and over constrained situations  this helps assure that the user is more likely
to respond informatively to the systems questions in under constrained situations  and
to allow the suggested attribute to be relaxed in over constrained situations  for both
situations  one option is to order attributes randomly  which is a technique used in some
simple dialogue systems  another option is to use a conditional entropy measure to select
attributes  see section       a third is to rank attributes in order by their desirability to
the user  as reflected in the user model  and we take this option 
in addition to using the long term user model to rank attributes  the system also uses
the attribute weights that are reflected in the query  we will see see later that the querys
attribute weights  while initialized from the user model  are also influenced by the conversation  in an over constrained situation  the attribute ranking order is from highest to lowest 
and in an under constrained situation  it is the reverse   using the attribute weights rather
than the conditional entropy avoids pitfalls that arise from the continuously changing value
distribution in the data  new restaurants  restaurants going out of business  etc    if this
did affect attribute rankings  the users may be confused by the resulting variability  but
even worse  it would not reflect the users preferences  further  not every question that has
a high information gain is of high relevance for a user selecting a destination  e g   parking
options may have a very high score but should only be asked after the user has decided on
cuisine and location  
in summary  the user model influences item retrieval  item ranking  and attribute ranking  which in turn influence the systems utterances during the conversation 
    conversing with the user
as it converses with the user  the dialogue manager uses the results of the retrieval engines
functions  the system uses a frame containing a simple list of constraints to support the
interactive constraint satisfaction search  see jurafsky et al       or dowding et al      
for a similar formulation   as is usual in this type of system  the user can respond to
a system request to fill a constraint by ignoring that attribute and specifying the value
   cbr systems do not necessarily use the same weighting factors for each of similarity computation and
question ordering  however  for our application area  it is correct to make the assumption that an
attributes importance is the same as its impact on the similarity computation 

   

fipersonalized conversational recommendation

table    speech acts supported in the adaptive place advisor 
system speech acts
attempt constrain
suggest relax
recommend item
quit start mod
provide values
clarify

asks a question to obtain a value for an attribute 
asks a question to remove all values for an attribute 
recommends an item that satisfies the constraints 
states that no matching items remain and asks whether
to modify the search  start over  or quit 
lists a small set of values for an attribute 
asks a clarifying question 

user speech acts
provide constrain
accept
reject
provide relax
start over
quit
query values

provides a value for an attribute 
accepts a relaxation suggestion or item generated by the system 
rejects the systems proposed attribute  relaxation attempt  or item 
provides an attribute value for removal 
indicates a desire to reinitialize the constraints and begin again 
indicates a desire to stop the conversation 
asks for information about possible values of an attribute 

table    dialogue state 
variable

description

constrained
rejected
fixed
constrain
relax
query
number of items

attributes whose values have been specified 
attributes whose value the user has declined to provide 
constrained attributes that the user has indicated should not be relaxed 
the next attribute to constrain  if any 
the next attribute to relax  if any 
probability model of desired item constraints 
number of database items matching the query and exceeding
the similarity threshold 
the matching items ranked in similarity order 
items that the user has rejected 
the users most recently uttered speech act 
the systems most recently uttered speech act 

ranked items
rejected items
user move
system act

for different one s  instead  goddeau et al         ward   issar         the speech acts
supported are listed in table   
there are two main phases of the dialogue  the interactive constraint satisfaction portion
and the item presentation portion  the constraint satisfaction portion is further divided
into over  and under constrained situations  the dialogue state  table    determines the
systems utterance and the range of responses expected at each point  the system updates
the dialogue states variables as appropriate throughout the conversation 

   

fithompson  goker    langley

table    sample conversation 
  
  
  
  
  
  
  
  
  
   
   
   
   

inquirer 
advisor 
inquirer 
advisor 
inquirer 
advisor 
inquirer 
advisor 
price 
inquirer 
advisor 
inquirer 
advisor 
inquirer 

where do you think i should eat tonight 
what type of food would you like 
what types are there 
you can say things like chinese  indian  and mediterranean 
oh  maybe a cheap indian place 
what kind of parking would you like 
i dont care  as long as its in palo alto 
im sorry  i dont know of any restaurants like that  would you like to search for any
no  i think id like chinese instead 
how does mandarin gourmet on     ramona sound 
no  what else do you have 
how about jing jing szechwan hunan gourmet on     emerson street 
sure  that sounds fine 

in more detail  the systems speech act  or move  during interactive constraint satisfaction is determined by the number of items dialogue state variable  further  its speech
act determines which speech recognition grammar to employ to interpret the users next
utterance  the most common situation is when many items  more than some small threshold  here three  match the current constraints   in this situation  the system makes an
attempt constrain move  in which it asks the user to fill in the value for an attribute 
this move  if responded to appropriately by the user  would reduce the number of items
considered to be satisfactory to the user  the attribute to constrain is the one ranked
highest by the retrieval engine that has not already been constrained or rejected  in
our first sample conversation  repeated in table    utterances   and   illustrate attemptconstrains by the system 
one user response to an attempt constrain is a provide constrain  in which he
provides a value for the specified attribute or for additional attributes  as in utterances  
and    a second possible response is a reject  in which the user indicates disinterest or
dislike in an attribute  as in the first part of utterance    as illustrated by some of these
examples  the user can combine more than one move in a single utterance 
a second situation  an over constrained query  occurs when there are no items that
satisfy the agreed upon constraints and are similar enough to the users preferences  and
thus the retrieval engine returns an empty set  number of items       in this case  the
system performs a suggest relax move that informs the user of the situation and asks if
he would like to relax a given constraint  the attribute to relax is chosen from the retrieval
engines highest ranked attribute  that has not already been fixed  this is illustrated in
utterance   of the conversation in table    as in utterance   of that conversation  the user
can respond by rejecting  reject  the systems suggestion or he can accept it  accept  
in the former case  the attribute is fixed so that the system will not try to relax it again 
   when we discuss the number of items matching the constraints  we refer to those items that remain after
similarity filtering as discussed in section     
   recall from section     that this is actually the lowest ranking attribute in the user model 

   

fipersonalized conversational recommendation

in combination with either of these speech acts  the user can specify other attributes to
relax in addition to  or instead of  the system suggested attribute  provide relax  
when only a few items satisfy the constraints  the system ends the interactive search
and begins to suggest items to the user  recommend item  in order of similarity  as in
utterances    and    above  the user can either accept or reject an item  if the user
accepts an item  accept   the system ends the conversation  having reached the goal
state  if the user rejects an item  reject   the system presents an alternative  if any
remain  note that there are three meanings for the reject speech acts of the user  but
only two meanings for the accept speech acts  since a user has to accept an attemptconstrain by providing an explicit value for the attribute being constrained 
there are three special situations not covered by the above  the first is when the query
is over constrained  but the user has fixed all attributes that could be relaxed  the second
is when the user has rejected all items that match the constraints  in these two situations 
the system informs the user of the situation  asks him whether he would like to quit  start
over  or modify the search  quit start mod   and reacts accordingly  the third special
situation is when number of items exceeds the presentation threshold  but all attributes
have been constrained or rejected  in that case  the place advisor begins to present
items to the user 
to support the spoken natural language input and output  we use a speech recognition package from nuance communications  inc  this package lets us write a different
recognition grammar for each of the situations described above and to use human recorded
prompts  rather than text to speech   the string of words recognized by the system is
parsed using recognition grammars that we wrote  which were used for all users without
adaptation  future work could include personalized recognition grammars as well as personalized information preferences  the grammars use semantic tags to fill in each slot 
besides slots for each attribute  we define slots for rejection or acceptance of the systems
suggestions  in more complex domains  more sophisticated parsing methods may be required  but this simple scheme gives the user a reasonably diverse set of utterance options 
the nuance modules also generate a response to user requests for help  query values 
with a provide values speech act  and enter clarification dialogues when the confidence
in a recognized utterance is below a given threshold  clarify   these are currently simple
interactions where the system provides examples of answers to the most recently uttered
prompt  or asks the user to repeat themselves 
finally  for the item presentation portion of the dialogue only  the system displays the
restaurant information  name  address  and phone number  on the screen  and outputs a
spoken prompt such as how about this one  we chose this presentation modality due to
our reluctance to use text to speech generation and the large number of prompts we would
have had to record to produce spoken language for each restaurant  however  note that
the user still responds with a spoken reply  and we do not feel that this presentation mode
substantially influenced the user modeling behavior of the place advisor 
each system user interaction affects subsequent rounds of database retrieval and similarity calculation via updates to the expanded query  table   shows the effects of relevant
speech acts on the query  which is in turn used in the similarity calculation as described in
section      in the table  we have shortened the names of some of the system moves for the
sake of brevity 
   

fithompson  goker    langley

table    the effects of speech acts on the query  key  constrain   attemptconstrain  relax   suggest relax  recommend   recommend item 
system move

user move

effect on query

constrain

provideconstrain

constrain
relax
recommend
relax
recommend
any
any

reject
reject
reject
accept
accept
provide relax
start over

set probabilities of all provided values to one 
set probability of other values for constrained attributes to
zero  if the attribute has been rejected previously  reset
its attribute probability from user model 
drop attribute by setting its probability to zero 
no effect  dialogue manager selects next attribute 
update item preference counts  see section      
reset value probabilities for the attribute from user model 
update item preference counts  see section      
reset value probabilities for the attribute from user model 
initialize from user model 

    updating the user model
our main contribution is the addition of personalization to the above conversational recommendation model  the user model  section      represents this personalization  but the
adaptive place advisor must update it appropriately  while some adaptive recommendation systems  smyth   cotter        linden  hanks    lesh        pazzani et al  
      lang        require the user to provide direct feedback to generate the user model 
our basic approach is to unobtrusively derive the user preferences  thus  the system does
not introduce unnecessary interactions  but learns from the interactions needed to support
item recommendation  we describe here how the system gathers item  attribute  and value
preferences  as described more fully below  the system modifies feature and value weights
 fiechter   rogers        zhang   yang        bonzano  cunningham    smyth       
wettschereck   aha        for the latter two  and increases the counts in the ratio of
accepted to presented items 
when determining the points in the dialogue at which to update the user model  we
considered several factors  we wanted to enable the system to acquire information quickly 
but to discourage it from making erroneous assumptions  we thought that users might
explore the search space the most while constraining attributes  so we decided not to have
the system update value preferences after each user specified constraint  however  if we
instead chose to only allow model updates after an item suggestion  the learning process
might be too slow  the choices described below are  we feel  a good tradeoff between the
extremes 
the three circumstances that we chose for user model update were     after the users
accept speech acts in a suggest relax situation      after the users accept speech
acts in a recommend item situation  and     after the users reject speech act after a
recommend item speech act by the system  first  we assume that when a user accepts an
item  he is indicating      a preference for the item itself      preferences for the attributes

   

fipersonalized conversational recommendation

he constrained to find this item  and     preferences for the values he provided for those
attributes  thus  when a user accepts an item presented by the system  the probabilities
for the appropriate item  attributes  and values are increased  for the item preference 
the system simply adds one to the presentation and acceptance counts  for attribute and
value preferences  the system increases the probability of the appropriate weight by a small
amount proportional to its current weight  then renormalizes all weights  thus attribute
and value preferences are biased measures that avoid zero counts for values that the user
never chooses  as is typical for this type of probabilistic representation 
second  when a user rejects an item presented by the system  we only assume that he
has a dislike for the particular item  we do not assume anything about the characteristics of
that item  since the user has specified some of those characteristics  therefore  for rejected
items the system simply adds one to the presentation count 
the third situation in which the system updates the user model is when  after the query
has become over constrained  it presents an attribute for relaxation and the user accepts
that relaxation  in this situation  we assume that  had there been a matching item  the
user would have been satisfied with it  since the characteristics specified in the conversation
so far were satisfactory  therefore  before the relaxation occurs  the system increases the
attribute preferences for the constrained attributes and increases the value preferences for
user specified values  in a manner similar to an accept situation after a recommenditem  this enables the adaptive place advisor to more quickly make inferences about
the users preferences 

   system evaluation
as stated earlier  we believe that user modeling increases the effectiveness and efficiency
of conversations with the system over time  to test this hypothesis  we carried out an
experiment with a version of the adaptive place advisor that recommends restaurants
in the san francisco bay area  the system describes items using seven attributes  cuisine 
rating  price  location  reservations  parking options  and payment options  most attributes
have few values  but cuisine and location have dozens  there are approximately      items
in the database 
we asked several users  all from the bay area  to interact with the system to help them
decide where to go out to eat  the users were given no external guidance or instructions
on which types of restaurants to select  other than to look for and choose those that they
might actually patronize  an experimenter was present during all these interactions  which
were filmed  but his help was not needed except on rare occasions when a subject repeatedly
tried words that were not included in the speech recognition grammar 
    experimental variables
to test our hypothesis about the benefits of personalization in the adaptive place advisor  we controlled two independent variables  the presence of user modeling and the
number of times a user interacted with the system  first  because we anticipated that
users might improve their interactions with the place advisor over time  we divided
subjects into an experimental or modeling group and a control group  the    subjects in
the modeling group interacted with a version of the system that updated its user model as
   

fithompson  goker    langley

described in section      the    subjects in the control group interacted with a version
that did not update the model  but that selected attributes and items from the default
distribution described in section      naturally  the users were unaware of their assigned
group  second  since we predicted the systems interactions would improve over time  as
it gained experience with each user  we observed its behavior at successive points along
this learning curve  in particular  each subject interacted with the system for around   
successive sessions  we tried to separate each subjects sessions by several hours  but this
was not always possible  however  in general the subjects did use the system to actually
help them decide where to eat either that same day or in the near future  we did not provide
constraints other than telling them that the system only knew about restaurants in the bay
area 
to determine each versions efficiency at recommending items  we measured several
conversational variables  one was the average number of interactions needed to find a
restaurant accepted by the user  we defined an interaction as a cycle that started with the
system providing a prompt and ended with the systems recognition of the users utterance
in response  even if that response did not answer the question posed by the prompt  we
also measured the time taken for each conversation  this began when a start transaction
button was pushed and ended when the system printed done  after the user accepted an
item or quit  
we also collected two statistics that should not have depended on whether user modeling
was in effect  first was the number of system rejections  that is  the number of times that
the system either did not obtain a recognition result or that its confidence was too low 
in either case the system asked the user to repeat himself  since this is a measure of
recognition quality and not the effects of personalization  we omitted it from the count of
interactions  a second  more serious problem was a speech misrecognition error in which
the system assigned an utterance a different meaning than the user intended 
effectiveness  and thus the subjective quality of the results  was somewhat more difficult
to quantify  we wanted to know each users degree of satisfaction with the systems behavior 
one such indication was the rejection rate  the proportion of attributes about which the
system asked but the subject did not care  rejects in attempt constrain situations  
a second measure was the hit rate  the percentage of conversations in which the first item
presented was acceptable to the user  finally  we also administered a questionnaire to users
after the study to get more subjective evaluations 
    experimental results
the results of this experiment generally supported our hypothesis with respect to efficiency 
we provide figures that show average values over all users in a particular group  with error
bars showing the     confidence intervals  the x axis always shows the progression of users
interactions with the system over time  each point is for the nth conversation completed by
either finding an acceptable restaurant or quitting 
figure   shows that  for the modeling group  the average number of interactions required
to find an acceptable restaurant decreased from     to      whereas for the control group
this quantity actually increased from     to       we used linear regression to characterize
the trend for each group and compared the resulting lines  the slope for the modeling line

   

fi 

 

 

number of interactions
  
  
  
  

personalized conversational recommendation

 

modeling

 

control

 

 

 

 

 

 

 

 

 

 

  

              
conversation number

figure    average number of interactions per conversation 
differed significantly  p          from that for the control line  with the former smaller than
the latter  as expected 
the difference in interaction times  figure    was even more dramatic  for the modeling
group  this quantity started at     seconds and ended at    seconds  whereas for the control
group  it started at     seconds and ended at     seconds  we again used linear regression
to characterize the trends for each group over time and again found a significant difference
 p          between the two curves  with the slope for the modeling subjects being smaller
than that for the control subjects  we should also note that these measures include some
time for system initialization  which could be up to     of the total dialogue time   if we
had instead used as the start time the first system utterance of each dialogue  the difference
between the two conditions would be even clearer 
the speech recognizer rejected    percent of the interactions in our study  rejections
slow down the conversation but do not introduce errors  the misrecognition rate was much
lower  it occurred in only seven percent of the interactions in our experiment  we feel
both of these rates are acceptable  but expanding the number of supported utterances
could reduce the first number further  while potentially increasing the second  in the most
common recognition error  the adaptive place advisor inserted extra constraints that
the user did not intend 
the results for effectiveness were more ambiguous  figure   plots the rejection rate as a
function of the number of sessions  a decrease in rejection rate over time would mean that 
as the system gains experience with the user  it asks about fewer features irrelevant to that
user  however  for this dependent variable we found no significant difference  p         
between the regression slopes for the two conditions and  indeed  the rejection rate for
neither group appears to decrease with experience  these negative results may be due to the
rarity of rejection speech acts in the experiment  six people never rejected a constraint and

   

fi  

   

time per conversation
   
   
   

thompson  goker    langley

modeling

 

control

 

 

 

 

 

 

 

 

 

 

  

              
conversation number

figure    average time per conversation 
on average each person used only      reject speech acts after an attempt constrain
per conversation  standard deviation         
figure   shows the results for hit rate  which indicate that suggestion accuracy stayed
stable over time for the modeling group but decreased for the control group  one explanation for the latter  which we did not expect  is that control users became less satisfied
with the place advisors suggestions over time and thus carried out more exploration at
item presentation time  however  we are more concerned here with the difference between
the two groups  unfortunately  the slopes for the two regression lines were not significantly
different  p           in this case 
we also analyzed the questionnaire presented to subjects after the experiment  the first
six questions  see appendix a  had check boxes to which we assigned numerical values  none
of which revealed a significant difference between the two groups  the second part of the
questionnaire contained more open ended questions about the users experience with the
adaptive place advisor  in general  most subjects in both groups liked the system and
said they would use it fairly often if given the opportunity 
    discussion
in summary  our experiment showed that the adaptive place advisor improved the
efficiency of conversations with subjects as it gained experience with them over time  and
that this improvement was due to the systems update of user models rather than to subjects
learning how to interact with the system  this conclusion is due to the significan differences
between the user modeling and control groups  for both number of interactions and time
per conversation  this significance holds even in the face of large error bars and a small
sample size  this in turn implies that the differences are large and the system could make
a substantial difference to users 
   

finumber of rejections
   
 
   

personalized conversational recommendation

modeling

 

   

 

control

 

 

 

 

 

 

 

 

 

 

  

              
conversation number

figure    rejection rate for modeling and control groups 
the results for effectiveness were more ambiguous  with trends in the right direction
but no significant differences between the modeling and control groups  subjects in both
conditions generally liked the system  but again we found no significant differences along
this dimension  a larger study may be needed to determine whether such differences occur 
further user studies are warranted to investigate the source of the differences between
the two groups  one plausible explanation is that items were presented sooner  on average 
in the user modeling group than in the control group  we measured this value  i e   the
average number of interactions before the first item presentation  in the current study and
found that it did decrease for the user modeling group  from     to      and increased for
the control group  from     to       this is a reasonably large difference but the difference
in slope for the two regression lines is not statistically significant  p         a larger study
may be needed to obtain a significant difference  in general  however  there is an interaction
between the user model and the order of questions asked  which in turn influences the
number of items matching at each point in the conversation  this in turn determines how
soon items are presented in a conversation  therefore  if items are presented more often in
the user modeling group  then the largest influence on the user model is due to item accepts
and rejects 

   related research
previous research on related topics can be roughly broken up into three areas  the first
focusing on personalized recommendation systems  the second on conversational interfaces 
and the third on adaptive dialogue systems  we restrict our discussion here to the most
strongly related work 

   

fihit rate
   

thompson  goker    langley

modeling

   

   

 

control

 

 

 

 

 

 

 

 

 

 

  

              
conversation number

figure    hit rate for modeling and control groups 
    personalized recommendation systems
although research in personalized recommendation systems has become widespread only in
recent years  the basic idea can be traced back to rich         discussed below with other
work on conversational interfaces  langley        gives a more thorough review of recent
research on the topic of adaptive interfaces and personalization 
several other adaptive interfaces attempt to collect user information unobtrusively  an
interesting example is the casper project  rafter et al          an online recruitment
service  the project investigates methods that translate click and read time data into
accurate relevancy information  given that the raw data is inherently noisy  similarly 
goecks and shavlik        describe a technique for learning web preferences by observing
a users browsing behavior  another example is the adaptive route advisor  rogers
et al          which recommends driving routes to a specified destination  the system
collects preferences about attributes such as number of turns and driving time on the basis
of the users selections and modifications of the systems proposed routes 
while the adaptive place advisor uses constraint based interaction to search for
items  this is not the only interaction approach for item search  an alternative is taken
by the candidate critique  or tweaking  approach  tweaking systems  such as the find me
suite  burke         typically require the user to begin an interaction by filling in values for
a few predetermined attributes  they then present an item  at which point the user has the
opportunity to change some search parameters to try to find a more desirable item  eaton 
freuder  and wallace        take a similar approach in their matchmaking system  in
addition  they exploit constraint satisfaction to manage the search  neither the find me
suite nor the matchmaking system  however  learns user models  a related system that
does include a learning component is that of shearin and lieberman         which learns
attribute preferences unobtrusively  while tweaking is a valid method  it is not appropriate 
   

fipersonalized conversational recommendation

we feel  in an environment in which speech is the only interaction mode  since presenting
the user with his options would be somewhat cumbersome  even though our current system
also presents options once the search is constrained  it limits the number of items presented 
even in a full speech version this does not seem onerous 
    conversational interfaces
there is considerable ongoing work in the area of conversational systems  as evidenced
in the general surveys by dybkjr et al         and maier et al          zukerman and
litman        give a more thorough overview of user modeling in dialogue systems  rich
       reported one of the earliest  typewritten  conversational interfaces  which focused
on book recommendation  at the beginning of an interaction  the system asked several
questions to place the user in a stereotype group  thereby initializing the user model  as
each conversation progressed  this model was adjusted  with the system using ratings to
represent uncertainty  however  the language understanding capabilities of the system were
limited  mostly allowing only yes no user answers  more recently  dialogue systems utilize
models of users beliefs and intentions to aid in dialogue management and understanding 
though typically these systems maintain models only over the course of a single conversation
 kobsa   wahlster        
as noted in section      an important distinction is whether only one conversational
participant keeps the initiative  or whether the initiative can switch between participants 
two ambitious mixed initiative systems for planning tasks are trains  allen et al        
and more recent trips  allen et al          like the place advisor  these programs interact with the user to progressively construct a solution  though the knowledge structures
are partial plans rather than constraints  and the search involves operators for plan modification rather than for database contraction and expansion  trains and trips lack any
mechanism for user modeling  but the underlying systems are considerably more mature
and have been evaluated extensively 
smith and hipp        describe another related mixed initiative system with limited
user modeling  in this case a conversational interface for circuit diagnosis  their system
aims to construct not a plan or a set of constraints  but rather a proof tree  the central
speech act  which requests knowledge from the user that would aid the proof process  is
invoked when the program detects a missing axiom that it needs for its reasoning  this
heuristic plays the same role in their system as does the place advisors heuristic for
selecting attributes to constrain during item selection  the interface infers user knowledge
during the course of only a single conversation  not over the long term as in our approach 
with respect to dialogue management  several previous systems have used a method
similar to our frame based search  in particular  seneff et al         and dowding et al 
       developed conversational interfaces that give advice about air travel  like the place
advisor  their systems ask the user questions to reduce the number of candidates  treating
flight selection as the interactive construction of database queries  however  the question
sequence is typically fixed in advance  despite the clear differences among individuals in this
domain  also  these systems usually require that all constraints be specified before item
presentation begins 

   

fithompson  goker    langley

an alternative technique for selecting which questions to ask during information elicitation is presented in raskutti and zukerman         their overall system necessitates
that the system recognize plans the user is attempting to carry out  then the system must
decide how to best complete those plans  when insufficient information is available for plan
formation  their system enters an information seeking subdialogue similar to the constraintsatisfaction portion of our dialogues  their system can decide which question to ask based
on domain knowledge or based on the potential informativeness of the question 
another approach to dialogue management is conversational case based reasoning
 aha  breslow   munoz avila         which relies on interactions with the user to retrieve
cases  items  that will recommend actions to correct some problem  the speech acts and
basic flow of control have much in common with the adaptive place advisor  in that
the process of answering questions increasingly constrains available answers  one significant
difference is that their approach generates several questions or items  respectively  at a time 
and the user selects which question to answer or which item is closest to his or her needs 
respectively 
finally  our approach draws on an alternative analysis of item recommendation  described by elio and haddadi               the main distinctions from that work are
that their approach does not include personalization  that they distinguish between search
through a task space and through a discourse space  while we combine the two  and that
they place a greater emphasis on user intentions  keeping a distinction between the task
and the discourse space in a personalized system would unnecessarily complicate decisions
about when to perform user model updates and about how to utilize the model 
    adaptive dialogue systems
finally  another body of recent work describes the use of machine learning or other forms
of adaptation to improve dialogue systems    researchers in this area develop systems
that learn user preferences  improve task completion  or adapt dialogue strategies to an
individual during a conversation 
the closest such work also pursues our goal of learning user preferences  carberry et al 
       report one such example for consultation dialogues  but take a different approach 
their system acquires value preferences by analyzing both users explicit statements of
preferences and their acceptance or rejection of the systems proposals  it uses discrete
preference values instead of our more fine grained probability model  also  their system does
not use preferences during item search but only at item presentation time to help evaluate
whether better alternatives exist  finally  their evaluation is based on subjects judgements
of the quality of the systems hypotheses and recommendations  not on characteristics of
actual user interactions  we could  however  incorporate some of their item search ideas 
allowing near misses between user specified constraints and actual items 
another system that focuses on user preferences is an interactive travel assistant  linden
et al         that carries out conversations via a graphical interface  the system asks
questions with the goal of narrowing down the available candidates  using speech acts similar
to ours  and also aims to satisfy the user with as few interactions as possible  their approach
    the work on adaptation of speech recognition grammars  e g   stolcke et al          while related  addresses a different problem and uses different learning techniques  so we do not discuss it here 

   

fipersonalized conversational recommendation

to minimizing the number of interactions is to use a candidate critique approach  from a
users responses  the system infers a model represented as weights on attributes such as price
and travel time  unlike the adaptive place advisor  it does not carry these profiles
over to future conversations  but one can envision a version that does so 
several authors use reinforcement learning techniques to improve the probability of or
process of task completion in a conversation  for example  singh et al         use this
approach to determine the systems level of initiative and the amount of confirmation of
user utterances  their goal is to optimize  over all users  the percentage of dialogues for
which a given task is successfully completed  this system leverages the learned information
when interacting with all users  rather than personalizing the information  also  levin 
pieraccini  and eckert        use reinforcement learning to determine which question to
ask at each point during an information seeking search  but do not demonstrate the utility
of their approach with real users 
finally  a number of systems adapt their dialogue management strategy over the course
of a conversation based on user responses or other dialogue characteristics  for example 
litman and pan        use a set of learned rules to decide whether a user is having difficulty
achieving their task  and modify the level of system initiative and confirmation accordingly 
maloor and chai        present a help desk application that first classifies the user as a
novice  moderate  or expert based on responses to prompts  it then adjusts the complexity
of system utterances  the jargon  and the complexity of the path taken to achieve goals 
horvitz and paek        apply user modeling to a dialogue system that uses evidence
from the current context and conversation to update a bayesian network  the network
influences the spoken language recognition hypothesis and causes appropriate adjustments
in the systems level of initiative  chu carroll        describes a system that adapts both
language generation and initiative strategies for an individual user within a single dialogue 
also  jameson et al         use bayesian networks in a system that can take the role of
either the buyer or seller in a transaction  and that changes its inquiry or sales strategy
based on beliefs inferred from the other participants utterances 

   directions for future work
our results to date with the adaptive place advisor are promising but much remains
to be done  in this section  we discuss ways to make the search model more flexible  to
expand the conversational model  and to enrich the user model and learning technique  we
also consider more extensive evaluations of the system 
    search model
with respect to the search mechanism  we first plan to investigate alternative techniques
for using item similarity values to determine which to return  for example by cutting off
items at the point at which similarity drops off most steeply  instead of our current use of
a threshold  we also note that work such as that of cohen  schapire  and singer       
on learning to rank instances could apply nicely to this work  augmenting our current
item ranking scheme  additionally  we plan develop a version of the system that generates
alternative items or values in an over constrained situation  qu   beale         one way
to do this would be to use the preferences to estimate the strength of a stated constraint 
   

fithompson  goker    langley

or to merge our preference based similarity metric with a more traditional domain specific
similarity metric  pieraccini et al          we also plan to evaluate the effect of making
even stronger assumptions about user preferences  for example  if the system is certain
enough about a value preference  it may not have to ask a question about the associated
attribute 
a final improvement of the search mechanism concerns the techniques for ranking attributes for constraining and relaxing  for attribute constraint ranking  we have implemented but not yet evaluated a conditional entropy measure  goker   thompson        
the system selects the attribute to constrain by determining the attribute with the highest
conditional entropy among the unconstrained attributes  this scheme would not be useful
for ranking attributes to relax  therefore  the system simply determines the size of the case
base that would result if each attribute were relaxed  ranks these case bases from smallest
to largest  and orders the attributes accordingly  excluding those attributes that  if relaxed 
would still result in an empty case base  we also plan to investigate the combination of
the user model with information gain  as well as with alternative attribute ranking techniques such as the one used by abella  brown  and buntschuh         another option
is to add personalization to or otherwise adapt the variable selection techniques used by
constraint satisfaction solvers 
    conversational model
we plan to progress towards more complex dialogues with more complex constraints  first 
we plan to increase the number of speech acts available to the user  for example  we will add
confirmation dialogues and improve the current clarification dialogues  thus allowing other
types of adaptation strategies  as in singh et al          in a longer term investigation  we
plan to extend our adaptation techniques to handle more complex travel planning dialogues
 seneff  lau    polifroni        walker   hirschman         these may require additions
to the user model  such as preferences regarding language and dialogue style  including
initiative  system verbosity  and vocabulary  these will in turn need to be appropriately
acquired and utilized by the system  in general  the insights we have already gained into
utilizing and acquiring user preferences at different junctures of the dialogue and search
process should prove useful in supporting personalization in other tasks 
    user model
to improve the user model  we first plan to add more types of preferences  as we discussed in
section      combination and diversity preferences can capture more complex user behavior
than our current model  and we plan to incorporate both into the next version of our
system  combination preferences can help it better predict either values or acceptable
attributes  based on previously provided constraints  the place advisor can model
value combination preferences by learning association rules  agrawal  imielinski    swami 
      or extending to a bayesian network  either of which would then influence the query 
in turn influencing the similarity calculation and the case base  for preferences about
acceptable attribute combinations  the system can learn conditional probabilities based on
past interactions and use this to influence attribute ranking 

   

fipersonalized conversational recommendation

while drifting preferences are not likely to cause problems in item selection applications as they might in ones like news updates  our model could be extended to handle
within user diversity  one way to do this is to capture the users desired time interval between the suggestion of a particular item or value  we can calculate this by determining the
mean time interval between a users explicit selection or rejection of a value  value diversity
preferences  or item  item diversity preferences   we will incorporate both these diversity
preferences into the similarity calculation from section     by extending ri and p  vj   in
that equation to incorporate time effects  we define rd  i  and pd  vj   as 
 

rd  i    ri 

  

pd  vj     p  vj   

eki  tti tid  
 

 
  
where t is the current time  ti and tv are the time when the item or value was last selected 
and tid and tv d are the time differences the user wants to have between having the item
or value suggested again  rd and pd are in form of a sigmoid function where ki and kv
determine the curves slope  one empirical question is whether users also have attribute
diversity preferences  we hypothesize that diversity preferences differ for each value of
each attribute  and that this implicitly overrides attribute diversity  for example  a user
may have different preferences about the frequency with which expensive restaurants versus
cheap ones are suggested  but may not care about how often questions about price are asked 
we plan to investigate this hypothesis 
there are other improvements we might add to our user modeling technique  for example  the system may learn more quickly if it updates the user model in dialogue situations
other than the current three  also  using collaborative user models to initialize individual
models could speed up the learning process  a more explicit combination of collaborative
and individual user models  melville  mooney    nagarajan        jameson   wittig       
is also a viable direction to explore 
ekv  ttv tv d  

    evaluation
finally  we are planning to carry out a larger user study  we must further verify that the
differences in our study were not due to task difficulty differences since we did not control
for the difficulty of finding a particular item  in particular  different values for the same
constraints may not result in the same number of matching items  so even though two
users have answered the same number of questions  the number of matching items for one
user may be small enough for the system to begin presenting them  while the other user
may need to answer additional questions first  to support an expanded evaluation  we have
implemented a version of the system that recommends movies  which will let us draw from
a broader user base  this should help us measure user satisfaction more easily  as walker
et al         have noted that efficiency is not the only important consideration  and that
users might tend to prefer more predictable interfaces 

   

fithompson  goker    langley

   conclusions
in this paper  we described an intelligent adaptive conversational assistant designed to help
people select an item  overall  we made significant inroads into methods for unobtrusively
acquiring an individual  long term user model during recommendation conversations  we
expanded on previous work on adaptive recommendation systems that were not conversational  and on dialogue systems that were not user adaptive  our long term goal is to
develop even more powerful methods  capable of adapting to a users needs  goals  and
preferences over multiple conversations  while we leveraged off the feedback between conversation and recommendation  such feedback is likely to be present in other tasks such as
planning or scheduling 
the two key problems addressed by our research are the design of adaptive recommendation systems when conversations are the interaction mode  and the addition of personalization to dialogue systems  starting here with dialogues for recommendation  thus  unlike
many recommendation systems that accept keywords and produce a ranked list  this one
carries out a conversation with the user to progressively narrow his options  in solving
these problems  we introduced a novel approach to the acquisition  use  and representation
of user models  unlike many other adaptive interfaces  our system constructs and utilizes
user models that include information beyond complete item preferences  this is key for the
support of personalization in conversations  we used a relatively simple model of dialogue
to focus on the issues involved in personalization  we also described experimental results
showing the promise of our technique  demonstrating a reduction in both the number of
interactions and in the conversation time for users interacting with our adaptive system
when compared to a control group 
of course  there are still several open questions and opportunities for improvement  the
user model  conversational model  and search models are functional but we plan to improve
them further  we are also extending our conversational approach to items other than
destinations  such as books and movies  and we plan to link the system to other assistants
like the adaptive route advisor  rogers et al          our goal for such additions is to
provide new functionality that will make the adaptive place advisor more attractive
to users  but also to test the generality of our approach for adaptive recommendation  in
turn  this should bring us closer to truly flexible computational aides that carry out natural
dialogues with humans 

acknowledgments
this research was carried out while the first author was at the center for the study of
language and information  stanford university  and the other authors were at the daimlerchrysler research and technology center in palo alto  california  we thank renee elio 
afsaneh haddadi  and jeff shrager for the initial conception and design of the adaptive
place advisor  cynthia kuo and zhao ping tang for help with the implementation effort 
and stanley peters for enlightening discussions about the design of conversational interfaces 
robert mertens and dana dahlstrom were crucial in carrying out the user studies 

   

fipersonalized conversational recommendation

appendix a  questionnaire
   what did you think about the interaction with the system  did it
 
 
talk
too
much

 

 

 
 
right
amount of
talking

 

 

 
not
enough
talking

   how easy was it to find a restaurant you liked 
 
 
very
easy

 

 
not
easy

   did the system deliver restaurants you liked 
 
yes

 

 

 
no

   please rate the interaction with the system on a scale between standard humancomputer interaction and a person to person conversation via telephone 
 
 
 
humancomputer
interaction

 

 

 

 
phone
conversation

   do you think the apa is a useful system 
 
yes

 

 

 

 
no

   do you think the conversation was significantly more distracting than a similar conversation with a real person 
 
no

 

 

 

 
yes

   

fithompson  goker    langley

references
aamodt  a     plaza  e          case based reasoning  foundational issues  methodological
variations  and system approaches  artificial intelligence communications          
abella  a   brown  m  k     buntschuh  b          development principles for dialog based
interfaces  in proceedings of the ecai    spoken dialog processing workshop  pp 
    budapest  hungary 
agrawal  r   imielinski  t     swami  a          mining association rules between sets of
items in large databases  in buneman  p     jajodia  s   eds    proceedings of the
     acm sigmod international conference on management of data  pp         
washington  d c  acm press 
aha  d     breslow  l          refining conversational case libraries  in proceedings of the
second international conference on case based reasoning  pp          providence 
ri  springer verlag 
aha  d   breslow  l     munoz avila  h  m          conversational case based reasoning 
applied intelligence          
allen  j          mixed initiative interaction  ieee intelligent systems  september october 
     
allen  j   byron  d   dzikovska  m   ferguson  g   galescu  l     stent  a          towards
conversational human computer interaction  ai magazine           
allen  j   schubert  l   ferguson  g   heeman  p   hwang  c  h   kato  t   light  m  
martin  n   miller  b   poesio  m     traum  d          the trains project  a
case study in building a conversational planning agent  journal of experimental and
theoretical ai         
allen  j  f          natural language understanding  second edition   benjamin cummings 
menlo park  ca 
ardissono  l     goy  a          tailoring the interaction with users in web stores  user
modeling and user adapted interaction             
ardissono  l   goy  a   console  l     torre  i          an adaptive system for the personalized access to news  ai communications             
billsus  d     pazzani  m          learning collaborative information filters  in proceedings
of the fifteenth international conference on machine learning  pp        madison 
wi  morgan kaufmann 
bobrow  d   kaplan  r   kay  m   norman  d   thompson  h     winograd  t         
gus  a frame driven dialog system  artificial intelligence            

   

fipersonalized conversational recommendation

bonzano  a   cunningham  p     smyth  b          using introspective learning to improve
retrieval in cbr  a case study in air traffic control  in proceedings of the second international conference on case based reasoning  pp          providence  ri  springer
verlag 
brusilovsky  p     maybury  m          introduction to special section on the adaptive web 
communications of the acm           
burke  r          the wasabi personal shopper  a case based recommender system  in
proceedings of the sixteenth national conference on artificial intelligence  pp     
     orlando  fl  aaai press 
burke  r   hammond  k     young  b          knowledge based navigation of complex
information spaces  in proceedings of the thirteenth national conference on artificial
intelligence  pp          portland  or  aaai press 
carberry  s          plan recognition in natural language dialogue  mit press  cambridge 
ma 
carberry  s   chu carroll  j     elzer  s          constructing and utilizing a model of
user preferences in collaborative consultation dialogues  computational intelligence
journal             
chin  d          knome  modeling what the user knows in uc  in kobsa  a     wahlster 
w   eds    user models in dialog systems  pp         springer verlag  berlin 
chu carroll  j          mimic  an adaptive mixed initiative spoken dialogue system for
information queries  in proceedings of the sixth conference on applied natural language processing  pp         seattle  wa  aaai press 
cohen  p  r     perrault  c          elements of a plan based theory of speech acts 
cognitive science            
cohen  w   schapire  r     singer  y          learning to order things  journal of artificial
intelligence research             
cotter  p     smyth  b          ptv  intelligent personalized tv guides  in proceedings of
the twelfth innovative applications of artificial intelligence conference  pp         
austin  tx  aaai press 
cucchiara  r   lamma  e   mello  p     milano  m          interactive constraint satisfaction  tech  rep  deis lia        university of bologna 
dowding  j   gawron  j   appelt  d   bear  j   cherny  l   moore  r     moran  d         
gemini  a natural language system for spoken language understanding  in proceedings of the thirty first annual meeting of the association for computational linguistics  pp        columbus  oh  association for computational linguistics 
dybkjr  l   hasida  k     traum  d   eds            proceedings of the  st sigdial
workshop on discourse and dialogue  hong kong  association for computational
linguistics 
   

fithompson  goker    langley

eaton  p   freuder  e     wallace  r          constraint based agents  assistance  cooperation  compromise  in proceedings of the cp   workshop on constraint reasoning
on the internet  schloss hagenberg  austria 
eliassi rad  t     shavlik  j          a system for building intelligent agents that learn to
retrieve and extract information  user modeling and user adapted interaction     
     
elio  r     haddadi  a          dialog management for an adaptive database assistant 
tech  rep        daimler benz research and technology center  palo alto  ca 
elio  r     haddadi  a          on abstract task models and conversation policies  in
proceedings of the agents   workshop on specifying and implementing conversation
policies  seattle  wa 
ferrario  m   waters  k     smyth  b          collaborative maintenance in ulysses 
in proceedings of the international conference on adaptive hypermedia and adaptive
web based systems  pp          trento  italy 
fiechter  c     rogers  s          learning subjective functions with large margins  in
proceedings of the seventeenth international conference on machine learning  pp 
        stanford university  ca  morgan kaufmann 
goddeau  d   meng  h   polifroni  j   seneff  s     busayapongchai  s          a form based
dialogue manager for spoken language applications  in proceedings of the fourth international conference on spoken language processing  vol     pp          philadelphia  pa 
goecks  j     shavlik  j          learning users interests by unobtrusively observing their
normal behavior  in proceedings of the      international conference on intelligent
user interfaces  pp          new orleans  la  acm press 
goker  m     roth berghofer  t          the development and utilization of the case based
help desk support system homer  engineering applications of artificial intelligence 
           
goker  m     thompson  c          personalized  conversational case based recommendation  in proceedings of the fifth european workshop on case based reasoning  pp 
       trento italy  springer verlag 
haller  s     mcroy  s          preface to the special issue computational models of mixedinitiative interaction  user modeling and user adapted interaction            
horvitz  e     paek  t          harnessing models of users goals to mediate clarification dialog in spoken language systems  in proceedings of the eighth international
conference on user modeling  pp          sonthofen  germany  springer 
jameson  a   kipper  b   ndiaye  a   schafer  r   simons  j   weis  t     zimmermann 
d          cooperating to be noncooperative  the dialog system pracma  in
   

fipersonalized conversational recommendation

proceedings of ki     advances in artificial intelligence  pp          seattle  wa 
morgan kaufmann 
jameson  a     wittig  f          leveraging data about users in general in the learning of individual user models  in proceedings of the seventeenth international joint
conference on artificial intelligence  pp            seattle  wa  morgan kaufmann 
jurafsky  d     martin  j          speech and language processing  prentice hall 
jurafsky  d   wooters  c   tajchman  g   segal  j   stolcke  a   fosler  e     morgan  n 
        the berkeley restaurant project  in proceedings of the international conference on spoken language processing  pp            yokohama  japan 
kass  r          building a user model implicitly from a cooperative advisory dialog  user
modeling and user adapted interaction            
kay  j     thomas  r  c          personal usability based upon a scrutable  dynamic 
individual user model  in proceedings of the australasian computer human interfaces
conference  pp         
kobsa  a     wahlster  w   eds            user models in dialog systems  springer  new
york 
konstan  j   miller  b   maltz  d   herlocker  j   gordon  l     riedl  j          grouplens 
applying collaborative filtering to usenet news  communications of the acm     
     
kumar  v          algorithms for constraint satisfaction problems  a survey  the ai
magazine           
lang  k          newsweeder  learning to filter netnews  in proceedings of the twelfth
international conference on machine learning  pp          san francisco  ca  morgan kaufmann 
langley  p          user modeling in adaptive interfaces  in proceedings of the seventh
international conference on user modeling  pp          banff  alberta  springer 
levin  e   pieraccini  r     eckert  w          a stochastic model of human machine
interaction for learning dialog strategies  ieee transactions on speech and audio
processing          
linden  g   hanks  s     lesh  n          interactive assessment of user preference models 
the automated travel assistant  in proceedings of the sixth international conference
on user modeling  pp        chia laguna  sardinia  springer 
litman  d     pan  s          designing and evaluating an adaptive spoken dialogue system 
user modeling and user adapted interaction             
maier  e   mast  m     luperfoy  s   eds            proceedings of the ecai   workshop on
dialogue processing in spoken language systems  budapest  hungary  springer verlag 
   

fithompson  goker    langley

maloor  p     chai  j          dynamic user level and utility measurement for adaptive
dialog in a help desk system  in proceedings of the  st sigdial workshop on discourse
and dialogue  pp        hong kong  association for computational linguistics 
mcnee  s   lam  s   konstan  j     riedl  j          interfaces for eliciting new user preferences in recommender systems  in proceedings of the ninth international conference
on user modeling  pp          johnstown  pa  springer 
melville  p   mooney  r     nagarajan  r          content boosted collaborative filtering
for improved recommendations  in proceedings of the eighteenth national conference
on artificial intelligence  pp          edmonton  canada  aaai press 
pazzani  m   muramatsu  j     billsus  d          syskill   webert  identifying interesting web sites  in proceedings of the thirteenth national conference on artificial
intelligence  pp        portland  or  aaai press 
pieraccini  r   levin  e     eckert  w          amica  the at t mixed initiative
conversational architecture  in proceedings of the european conference on speech
communication and technology  pp            rhodes  greece 
qu  y     beale  s          a constraint based model for cooperative response generation
in information dialogues  in proceedings of the sixteenth national conference on
artificial intelligence  pp          orlando  fl  aaai press 
rafter  r   bradley  k     smyth  b          personalized retrieval for online recruitment
services  in proceedings of the twenty second annual colloquium on information
retrieval  cambridge  uk 
raskutti  b     zukerman  i          generating queries and replies during informationseeking interactions  international journal of human computer studies             
resnick  p     varian  h          recommender systems  communications of the acm 
             
rich  e          user modeling via stereotypes  cognitive science            
rogers  s   fiechter  c     langley  p          an adaptive interactive agent for route
advice  in proceedings of the third international conference on autonomous agents 
pp          seattle  wa  acm press 
sadek  m   bretier  p     panaget  f          artimis  natural dialogue meets rational
agency  in proceedings of the fifteenth international joint conference on artificial
intelligence  pp            nagoya  japan  morgan kaufmann 
segal  r     kephart  j          mailcat  an intelligent assistant for organizing e mail  in
proceedings of the third international conference on autonomous agents  pp     
     seattle  wa  acm press 

   

fipersonalized conversational recommendation

seneff  s   hurley  e   lau  r   pao  c   schmid  p     zue  v          galaxy ii  a
reference architecture for conversational system development  in proceedings of the
international conference on spoken language processing  pp          sydney  australia 
seneff  s   lau  r     polifroni  j          organization  communication  and control in the
galaxy ii conversational system  in proceedings of eurospeech       pp           
budapest  hungary 
shardanand  u     maes  p          social information filtering  algorithms for automating
word of mouth  in proceedings of the conference on human factors in computing
systems  pp          denver  co  acm press 
shearin  s     lieberman  h          intelligent profiling by example  in proceedings of the
international conference on intelligent user interfaces  pp          santa fe  nm 
acm press 
singh  s   litman  d   kearns  m     walker  m          optimizing dialogue management with reinforcement learning  experiments with the njfun system  journal of
artificial intelligence research             
smith  r     hipp  d          spoken natural language dialog systems  a practical approach 
oxford university press  new york  ny 
smyth  b     cotter  p          surfing the digital wave  generating personalized tv listings
using collaborative  case based recommendation  in proceedings of the third international conference on case based reasoning  pp          monastery  germany 
springer verlag 
stent  a   dowding  j   gawron  j   bratt  e     moore  r          the commandtalk
spoken dialogue system  in proceedings of the thirty seventh annual meeting of the
association for computational linguistics  pp          college park  md  association for computational linguistics 
stolcke  a   ries  k   coccaro  n   shriberg  e   bates  r   jurafsky  d   taylor  p   martin 
r   ess dykema  c  v     meteer  m          dialog act modeling for automatic
tagging and recognition of conversational speech  computational linguistics         
    
walker  m   fromer  j   fabbrizio  g   mestel  c     hindle  d          what can i say  
evaluating a spoken language interface to email  in proceedings of acm chi   
conference on human factors in computing systems  pp          los angeles  ca 
acm press 
walker  m     hirschman  l          evaluation for darpa communicator spoken dialogue
systems  in proceedings of the second international conference on language resources
and evaluation  athens  greece 

   

fithompson  goker    langley

ward  w     issar  s          recent improvements in the cmu spoken language understanding system  in proceedings of the arpa human language technology workshop 
pp         
wettschereck  d     aha  d          weighting features  in proceedings of the first international conference on case based reasoning  pp          sesimbra  portugal 
springer verlag 
winograd  t     flores  f          understanding computers and cognition  a new foundation for design  ablex publishing  northwood  nj 
zhang  z     yang  q          towards lifetime maintenance of case base indexes for
continual case based reasoning  in proceedings of the      international conference
on ai methodologies  systems and applications  pp          bulgaria  springer 
zukerman  i     litman  d          natural language processing and user modeling  synergies and limitations  user modeling and user adapted interaction             

   

fi