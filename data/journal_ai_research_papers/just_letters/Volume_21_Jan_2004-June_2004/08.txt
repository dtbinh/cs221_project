journal of artificial intelligence research                  

submitted       published     

concurrent auctions across the supply chain
mosheb cs huji ac il
noam cs huji ac il

moshe babaio
noam nisan
school of computer science and engineering 
the hebrew university of jerusalem  jerusalem        israel

abstract
with the recent technological feasibility of electronic commerce over the internet 
much attention has been given to the design of electronic markets for various types of
electronically tradable goods  such markets  however  will normally need to function in
some relationship with markets for other related goods  usually those downstream or upstream in the supply chain  thus  for example  an electronic market for rubber tires for
trucks will likely need to be strongly inuenced by the rubber market as well as by the
truck market 
in this paper we design protocols for exchange of information between a sequence of markets
along a single supply chain  these protocols allow each of these markets to function separately  while the information exchanged ensures ecient global behavior across the supply
chain  each market that forms a link in the supply chain operates as a double auction 
where the bids on one side of the double auction come from bidders in the corresponding
segment of the industry  and the bids on the other side are synthetically generated by the
protocol to express the combined information from all other links in the chain  the double
auctions in each of the markets can be of several types  and we study several variants of
incentive compatible double auctions  comparing them in terms of their eciency and of
the market revenue 

   introduction
the recent rush towards electronic commerce over the internet raises many challenges  both
technological and conceptual  this paper deals with the conceptual challenge of coordination between electronic markets  let us look only a few years into the technological future
of electronic commerce  it seems very likely that the following two key challenges will be
adequately solved by the industry 
 supply chain integration  the enterprise information systems of businesses will
be able to securely and eciently share information and inter operate with the information systems of their suppliers  customers  and partners 
 electronic markets  ecient  sophisticated  robust and liquid electronic markets
will be available for the trade of goods in most segments of the industry  such markets
will interactively respond to changes in supply and demand  dynamically changing
trade quantities and prices 
we are interested in the conceptual question of how can markets for related goods
share information  consider  for example  a ctional market for rubber tires for trucks 
and the two related markets for rubber and for trucks  one can imagine the following
c
    
ai access foundation  all rights reserved 

fibabaioff   nisan

simplied supply chain forming  rubber manufacturers placing sell bids for rubber in the
rubber market  tire manufacturers placing buy orders on the rubber market and sell bids
on the tire market  truck manufacturers placing buy bids in the tire market and selling
trucks on the truck market  and nally customers bidding for trucks  one would expect the
combination of these markets together with the information systems of the manufacturers
to be able to automatically respond to markets changes in an economically ecient way 
thus  for example  a surge in demand for a certain type of trucks  will raise their price in
the truck market causing manufacturers of this type of truck to automatically decide to
increase production  consequently and automatically raising their electronic bids for tires 
this  in turn  may increase tire prices in the tire market  etc   etc   leading  eventually
and indirectly  but still completely automatically  to increased rubber production by rubber
manufacturers 
let us emphasize  the process just described occurs  slowly  in normal human trade
by the combined eects of a large number of self interested decisions by the many people
involved in this supply chain  what we desire from the combination of the participating
information systems and electronic markets is to automatically  without human control 
and very rapidly  within the time frames of electronic commerce   to reach similar results
or even more economically ecient ones than what humans usually achieve  these results
should be achieved despite the fact that the information systems of manufacturers will still
be self interested  optimizing the companys prot and not the global economic eciency 
seeing the invisible hand function in normal human economic activity  one would
certainly expect that electronic markets reach these types of results  however  a key conceptual design challenge emerges when bidders must be concurrently active in more than
one market  tire manufacturers must concurrently participate as buyers in the rubber market and as sellers in the tire market  clearly  the quantity of rubber they wish to buy at a
given price is determined by the amount of tires they can sell at a given price  thus  the
price they bid for buying rubber must be intimately related to the price they bid for selling
tires  any increase in one of them will lead to a corresponding increase in the other  it is
theoretically impossible to dene a suggested bid for one without the other  thus  if the
two markets operate independently  then the tires manufacturers are not able to reasonably
participate in any of them  if they operate sequentially  say rst rubber is bought and only
afterwards tires are sold  then a serious exposure problem emerges  tire manufacturers must
be conservative in their bids for rubber  as they do not know in advance what price they
will get in the tire market 
one approach for handling this inter dependence of markets is to run the complete
supply chain as a single complex huge market  conceptually this is in the spirit of the
recently popular vertical markets and vertical portals that try to vertically integrate
information and trade for a complete vertical segment of industry  the integration of all
these markets into a single complex market results in a complex optimization problem 
and some research has been done to address such problems as pure optimization problems 
such a centralized solution has obvious advantages  but is also problematic due to necessity
of concentrating all information  communications  and decision making at a single point 
such centralization of information is problematic both in the sense of distributed computing
systems and in the economic sense 
   

ficoncurrent auctions across the supply chain

in this paper we suggest an alternative approach  the supply chain is organized as a
sequence of separate markets  which do not act strategically  that communicate among
themselves using a xed protocol to create a distributed mechanism  for a general overview
of distributed algorithmic mechanism design  we refer the reader to feigenbaum   shenker 
       a similar approach has been suggested by walsh and wellman        and by walsh 
wellman  and ygge         who formulate a general problem that is np complete and obtain
solutions that are not provably ecient  either in the computational sense or in the economic
sense  a much simpler problem of a linear supply chain was considered by bosch domenech
and sunder         but no provably ecient protocol was suggested  we also consider the
linear supply chain problem  and obtain computationally ecient protocols which achieve
provably high economic eciency with budget balance  or full eciency with budget decit  
in our protocols  the intermediate markets along the chain transform one good into another 
thus  for example  tire manufacturers place bids for the operation of transforming a unit
of rubber into a tire  the protocol between the dierent markets assures that the dierent
markets reach compatible decisions  i e  that the amount of rubber units to tires that was
allocated is equal both to the amount of rubber manufactured and to the amount of tires
needed  furthermore  these amounts achieve global economic eciency across the supply
chain  finally  this result does not assume that the manufactures information systems have
any global knowledge or behavior  beyond their knowledge of their own cost structure and
their self interested  rational  behavior 
this paper focuses on the case of a simple linear supply chain for discrete units of goods 
where each manufacturer is able to transform a single unit of one good into a single unit
of another good  incurring some cost for the transformation  each consumer obtains value
from acquiring a single unit of the nal good  we assume that each agent has a quasi linear
utility function  and his goal is to maximize his utility 
each of our markets takes the form of a double auction  see friedman   rust       
for a study of double auction markets   and we consider several variants of double auctions 
these variants address four issues  incentive compatibility  ic   the double auction rules
motivate self interested agents  the manufacturers and consumers  to reveal their costs  
values truthfully  we use the standard notions of dominant strategies ic from mechanism
design literature  mas collel  whinston    green        osborne   rubinstein        
individual rationality  ir   every agent has a strategy which ensures a non negative utility 
so agents participate voluntarily  ex post individual rationality   economic eciency  the
desired outcome should optimize the sum of valuations of all participants  budget balance
 bb   the payment by each buyer does not necessarily equal to the payment received by
each seller  but we wish to ensure that the market mechanism itself does not subsidize the
trade  thus  the total payment by the buyers should be at least as the total amount given
to sellers  by myerson and satterthwaite        impossibility result  these four conditions
cannot apply simultaneously  the paper by parkes  kalagnanam  and eso        presents
mechanisms for combinatorial exchange which are bb and ir but fairly ecient and fairly
incentive compatible  we take a dierent approach and consider variants that are always
ir and ic and trade o the last two conditions of eciency and budget balance  such a
deterministic rule was previously suggested by mcafee         but  surprisingly  this rule
turned out not to be compatible with our supply chain protocols  therefore we suggest two
new randomized double auction rules that can be used with our supply chain protocols  and
   

fibabaioff   nisan

obtain budget balance or surplus but with a slight loss of eciency  we also provide some
simulation results comparing the eciency and budget surplus of the dierent variants of
double auctions 
the main contribution of this paper is the description of two alternative protocols that
allow a supply chain mechanism formed from double auctions to operate eciently  these
protocols are computationally ecient in terms of communication and computation time 
we prove that when these protocols are applied with a specic double auction rule  the
trade reduction rule   the resulting system exhibits the following three key properties 
   ex post individual rationality and incentive compatibility  in the sense of dominant
strategies  
   high global economic eciency  not optimal  but as good as the underlying double
auction which guarantees high fraction of the ecient allocation value  
   budget balance 
with our new double auctions  an even higher global economic eciency can be achieved in
expectation  but with expected  ex ante  budget balance rather than worst case  ex post  
when these protocols use the vcg  vickrey        clarke        groves        double
auction rule which is ecient  they maintain ir and ic and achieve full economic eciency
for the entire supply chain  but with a budget decit 
clearly our stylized model is not the most general supply chain model and it is far too
simple to be a realistic model  our purpose in analyzing this model is to present a rst step
towards a mechanism design approach to supply chain problems  as far as we know we are
the rst to design a mechanism that is ic  ir  bb and highly ecient for a supply chain
model 
the rest of this paper is structured as follows  in section   we give a complete self
contained example of the organization of a simple supply chain and we demonstrate the
type of calculations and information transfer of one of our protocols  in section   we
present the model and conditions for incentive compatibility  in section   we summarize
the properties of several variants of incentive compatible double auctions and present two
new randomized double auction rules  in section   we present two alternative protocols
for supply chain coordination between markets  and prove the properties achieved by these
protocols  and in section   we conclude with directions for future work 

   the lemonade stand industry
charlie brown has decided to draw on his vast experience in the lemonade stand industry
and transform the whole industry by bringing it online to the internet  charlie brown
has already struck partnerships with strategic players from the three core segments of the
industry 
 lemon pickers  alice  ann  and abe can pick a lemon from the neighborhood lemon
tree  one lemon maximum per day  
 lemonade squeezers  bob  barb  and boris know how to squeeze a single lemon
and make a glass of lemonade from it  one glass maximum per day  
   

ficoncurrent auctions across the supply chain

 lemonade consumers  chris  carol  and cindy want to buy one glass of lemonade
each  per day  
charlie brown has obtained a preliminary version of this paper and has built his internet
systems accordingly  using the symmetric protocol suggested here  charlie brown has
created three communicating electronic markets  a lemon market through which alice 
anna  and abe will sell lemons  a squeezing market in which bob  barb  and boris will
oer their squeezing services  and a juice market in which chris   carol  and cindy can buy
lemonade 
in the rst day of operations each of the participants logged into his or her market and
entered a bid  alice was asking for    in order to pick a lemon  while ann wanted     and
abe  who was living farthest from the tree  wanted     bob  barb  and boris were asking
for  respectively          and    in order to squeeze a lemon  while chris  carol  and cindy 
were willing to pay  respectively            and    for their glass of lemonade  figure  
presents the three markets  the supply curves in the lemon market  s l   and the squeezing
market  s lj    and the demand curve in the juice market  dj    knowing that the auction
works such that his optimal bidding strategy is to report his true value or cost  each agent
reports truthfully  let us follow the operation of the system and see how it manages to reach
socially ecient allocation and decide how many lemons should be picked to be squeezed
into lemonade 
lemon market
supply demand
 s l  
 dl  
 
 
 

squeezing market
supply demand
 s lj  
 dlj  
 
 
 

juice market
supply demand
 s j  
 dj  
  
  
 

figure    the supply chain bids
in the rst stage  the markets send information to each other in two phases  in the
rst phase  the lemon market aggregates the supply curve for lemons  s l   and sends this
information to the squeezing market  the squeezing market aggregates the supply curve
for squeezing services  s lj   adds this vector  point wise  to s l   and sends the sum to
the juice market  for the juice market  this sum represents the supply curve for juice  s j  
aggregated over the complete supply chain  as can be seen in figure    the cost of the rst
glass of lemonade is     since the rst lemon cost is    and the squeezing operation cost is
   
in the second phase  the juice market sends the demand curve for juice  dj to the
squeezing market  which subtracts from it  point wise  the supply curve for squeezing services  sending the dierence vector to the lemon market  where this is interpreted as the
demand curve for lemons  dl   aggregated over the complete supply chain  as can be seen
in figure    the demand for the rst lemon is      since the rst glass of lemonade has a
demand of     but the squeezing operation cost is    
the net demand curve for squeezing services  dlj can now be calculated by the
squeezing market to be dj  s l   as can be seen in figure    the demand for the rst
   

fibabaioff   nisan

lemon market
supply demand
 s l  
 dl  
 
 
 

squeezing market
supply demand
 s lj  
 dlj  
 
 
 
sl

juice market
supply demand
 s j  
 dj  
 
  
 
  
  
 

s l  s lj





figure    the supply chain after supply graphs propagation
lemon market
supply demand
 s l  
 dl  
 
  
 
 
 
 

squeezing market
supply demand
 s lj  
 dlj  
 
 
 

d j s lj

juice market
supply demand
 s j  
 dj  
 
  
 
  
  
 
dj





figure    the supply chain after demand graphs propogation
squeezing operation is    since the rst glass of lemonade has a demand of     but the rst
lemon has a cost of     this means that if the lowest cost of squeezing operation is less
than     at least one glass of lemonade can be manufactured 
lemon market
supply demand
 s l  
 dl  
 
  
 
 
 
 

squeezing market
supply demand
 s lj  
 dlj  
 
 
 
 
 
 

juice market
supply demand
 s j  
 dj  
 
  
 
  
  
 

figure    the supply chain after constructing the supply and demand graphs
at this point all three markets have both a supply curve and a demand curve  and each
market can conduct a double auction 
being an internet startup  charlie brown has decided to subsidize the trade in his
markets  ignoring the sections of this paper that aim to eliminate any budget decit of the
markets  in each market he thus uses the vcg  vickrey        clarke        groves       
double auction rule    derived from the vickrey  clarke and groves general auction scheme 
the vcg double auction picks the highest value allocation in each market  so the winners
are the agents in the socially ecient allocation  the ecient allocation in each market
includes the two highest value  lowest cost  bidders  since each of the two trades has a
positive gain  and the third trade has a negative gain  the vcg double auction charges
   a formal denition of the vcg double auction rule appears in section  

   

ficoncurrent auctions across the supply chain

each consumer  demand side  the minimal value the agent must bid in order to be in the
ecient allocation  similarly  each supplier  supply side  receives a payment that equals
the maximal cost it may bid and still be in the ecient allocation  the payment takes into
account both the competition with other agents of the same class and competitiveness of
the bid with respect to bids of agents of the other classes  with that payment scheme  the
best strategy of each agent is to bid truthfully  in the lemon market  two lemons are sold
 by alice and ann  for      min         each  in order to win  each must bid a cost lower
than the cost of abe  the rst non winning lemon supplier  which is     each must also bid
a cost lower than     otherwise the cost of her lemon will be too high to match the lowest
demand for a lemon   in the squeezing market  two squeezing contracts are awarded  to
bob and barb  for      min         each  since if one bids a cost higher than     there
will be no demand for his squeezing operation  and the squeezing operation cost of boris
is     which is higher than      in the juice market  the vcg rule awards two glasses of
lemonade  to chris and carol  for the price of      max         each  since they must bid
at least    to match the supply of juice  and if they do  they also defeat cindy  
charlie brown is thrilled  the dierent markets have all reached the same allocation
amount     which  he has veried is indeed the social optimum  societys net gains from
trade in his system are                                    which cant be beaten  charlie
browns investors are somewhat worried by the fact that the system subsidized every glass
of lemonade by                  but charlie brown assures them that changing the doubleauction rules to one of the other double auction rules suggested in this paper can lead to
a budget balance or even surplus  while maintaining high social gain  the nine trading
partners have evaluated carefully the operation of this chain of markets and have assured
themselves that they are best served by always bidding their true cost structure 

   ic mechanisms for single minded agents
section     presents an abstract model for agents that partition the set of outcomes to two 
the case they win and the case they loss  each agent has some valuation for the case he
wins  and this valuation is represented by a single parameter  the double auction model
and the supply chain model we consider are special cases of this model  the main theorem
in this section presents necessary and sucient conditions for incentive compatibility in this
abstract model  mualem and nisan        have presented this theorem in the context of
combinatorial auction with agents that desire one specic bundle that is publicly known
 the known single minded model   the theorem is derived from a more general result for
agents with private bundles  the single minded model   proved by lehmann  ocallaghan 
and shoham         similar result for a dierent general model with one parameter agents
by archer and tardos        appears in the computer science literature  for completeness 
we present the results that are relevant to our single minded agents model 
in section     we farther restrict the model of the single minded agents to the case of
sets of agents that can replace each other  and characterize non discriminating mechanisms
for that case 
   

fibabaioff   nisan

    general model
in the single minded agents model  there is a nite set of agents n and a set of outcomes
o  for each agent i  n   o is partitioned to two disjoint sets oiw and oil   the outcomes
in which he wins and the outcomes in which he loses  respectively  this partition is public
knowledge   for any i there is an ordered set of values space vi for the case he wins  agent
i has a private value vi  vi for any o  oiw  he wins  and a value of   for o  oil
 he loses   the private values are the only private information  all other information is
publicly known to all participants and to the mechanism  and it is known that the rest of
the information is public   for technical reasons we assume that for any vi    vi   vi   such
that vi    vi    there exist vi   vi such that vi    vi    vi   for example vi can be the set of
real numbers or rational numbers   when agent i wins and pays pi he has a quasi linear
utility ui   vi  pi   and in normalized mechanisms he pays   and has   utility if he loses  we
assume that agents are self interested and try to maximize their utility  under this model 
an outcome o  o has a one to one mapping to a set of winners and is called an allocation

a  a    i  n  o  oiw    we say thatthe allocation a is ecient if ia vi is maximized 
vi
the eciency of the allocation a is ia v   where a is an ecient allocation  let v be
ia i



the set of possible values of the agents  v   in vi   we work with mechanisms in which
agents are required to report their values  and the mechanism decides the allocation and
the payments to the agents in a deterministic way  the reported value bi  vi of agent i is
called the bid of the agent and might be dierent from his private value vi   let b  v be
the bids of all agents  an allocation rule r decides the allocation according to the reported
values b  v   r is a function r   v  o  a payment rule p decides the payment pi of agent
i  p is a function p   v  rn   a mechanism m denes an allocation and a payment rule 

m    r  p    mechanism m is budget balanced  bb  if i pi    for any bids b  v   m is
incentive compatible  ic  in dominant strategies if for any agent i  bidding vi maximizes
is utility over all possible bids of the other agents  m is normalized if losing agents have
a payment  and utility  of    m is  ex post  individually rational  ir  if for any agent i
and value vi   there is a bid bi such that when he bids bi   ui    for all possible bids of the
other agents  note that any normalized and incentive compatible mechanism is individually
rational  since truthful bidding ensures a non negative utility  
below we present necessary and sucient conditions for a mechanism to be incentive
compatible in dominant strategies under the single minded agents model  these conditions
will later be used to prove properties of our double auctions and supply chain mechanisms
created by our protocols 
for bids b  v we denote b    bi   bi   where bi is the bids of all agents but i 
denition    allocation rule r is bid monotonic if for any bids b  v   any agent i and
any two possible bids of i  bi   bi   if i is in the allocation r bi   bi   then he is also in the
allocation r bi   bi   
a bid monotonic allocation rule ensures that no winning agent becomes a loser by
improving his bid  the following observation is a direct result from the above denition 
observation      let r be a bid monotonic allocation rule  let b  v be a set of bids of
the agents and let i be any agent with a bid bi  
   

ficoncurrent auctions across the supply chain

if there exists a bid bi for i such that i is in the allocation r bi   bi    then there exists
a critical value ci such that i wins if he bids bi   ci and i loses if he bids bi   ci  ci is
independent of the bid bi     
note that if the bid is equal to the critical value  the observation does not say if the
agent wins or not 
lemma      let m be a normalized and ic mechanism with allocation rule r  then r is
bid monotonic 
proof  assume in contradiction that the auction is normalized and ic  thus also ir  but
the allocation is not bid monotonic  then there exists an agent i and two values bh   bl  
such that i wins the auction and pays pl if he bids bl   and loses the auction and pays zero
if he bids bh   the mechanism is ir therefore bl  pl     if is true value is bh he can
gain by misreporting his private value  if he reports his true value he loses the auction and
has utility zero  but if he bids bl he wins the auction and pays pl   in this case his utility
is bh  pl   bl  pl    in contradiction to the assumption that the auction is ic 
theorem      a normalized mechanism m with allocation rule r is ic if and only if r
is bid monotonic and each trading agent i pays his critical value ci  pi   ci   
proof  case if  assume that m is normalized  r is bid monotonic and agent i with value vi
pays ci if he wins  we rst show that the auction is ir  we show that i receives non negative
utility from bidding truthfully  if i loses  he pays zero and has zero utility  if i wins the
auction by bidding truthfully  then by observation      vi  ci   pi   hence his utility is
vi  pi   vi  ci    
to prove ic we prove that i cannot improve his utility by misreporting his value  consider the case in which agent i wins the auction by bidding his true value vi   if i bids
untruthfully and loses  then he gets zero utility  which by ir cannot be better than his
utility with a truthful bid  if i bids untruthfully and wins the auction  then since he still
pays his critical value ci his utility remains the same 
now consider the case in which i loses the auction by bidding truthfully  his utility is
zero and vi  ci by observation      if i bids untruthfully and loses  his utility remains
zero  if i bids untruthfully and wins  his utility is vi  ci     in both cases  we have shown
that an agent cannot improve his utility by bidding untruthfully  thus proving that m is
ic 
case only if  assume that the auction is normalized and ic  thus also ir   by lemma    
its allocation rule is bid monotonic  so we need to prove that each agent i with value vi
must pay his critical value ci   assume that pi   ci for some agent i  if pi   ci   then
if pi   vi   ci and i bids truthfully  then by observation     i wins but his utility is
vi  pi     which contradicts individual rationality  if pi   ci   then if pi   vi   ci by
observation     i loses and has zero utility if he bids truthfully  if i misreports his value
by bidding bi   ci   he would win the auction and has utility vi  pi     which contradicts
incentive compatibility 
so for normalized and ic mechanisms  the allocation rule which is bid monotonic
uniquely denes the critical values for all the agents and thus the payments 
   ci    if i always wins

   

fibabaioff   nisan

observation      let m   and m   be two normalized and ic mechanisms with the same
allocation rule  then m   and m   must have the same payment rule  which means that m  
and m   are the same mechanisms 
    non discriminating mechanisms
we are interested in the subclass of mechanisms for single minded agents which do not
discriminate between agents that have the same roll in the outcome  these are agents
that can always replace each other 
denition    agent i has the same class as agent j  if for every allocation a such that
i  a and j 
  a  the allocation a   a    i    j  is also in o  and for every allocation a
such that i 
  a and j  a  the allocation a   a    j    i  is also in o 
note that the class of an agent is an equivalence class 
denition    let m be a mechanism  t be any class of agents and i  j be two agents of
class t   m is non discriminating by identity if for any bids b  v   if i wins when he bids
bi and bj   bi then j also wins 
m has non discriminating pricing if for any bids b  v and every class t there is a
value pt   such that if agent i of class t has a bid bi and bi   pt then i wins and pays pt  
m is non discriminating  nd  if it is non discriminating by identity and has nondiscriminating pricing 
non discriminating mechanisms are also called envy free mechanisms by goldberg and
hartline         since no loser envies any winner for the fact that he won the auction or for
the price he paid  in this paper we only consider mechanisms that are non discriminating
by identity  which means that agents of the same class are picked by their bid order  from
high to low  also note that if m is ir and has non discriminating pricing then any agent
of class t that bids below pt must lose the auction  otherwise he has a negative utility
contradicting ir  
the following observation is a direct result of theorem     
observation      let normalized mechanism m be ic and nd  let pt be the payment of
winners of class t   then the critical value for all winning agents of class t is pt  
for normalized  ic and nd mechanisms  we prove that the payment of winners of the
same class are independent of their bids 
lemma      let normalized m be an ic and nd mechanism  for every agent class t   if
agent j of class t wins and pays pt when he bids bj   pt and a winning agent i of class t
bids bi  pt   then j also wins and pays pt if i bids bi   bi  
proof  since m is normalized and ic  then by theorem     it is bid monotonic and by
observation     pt is the critical value for i and j  by observation     pt is independent
of the bid bi   so i must pay pt if he bids bi   bi   since m is non discriminating  j must
also win  since bj   pt   and pay pt  
   

ficoncurrent auctions across the supply chain

   incentive compatible double auctions
each of the markets along our supply chain performs a double auction  for a study of
double auctions see friedman   rust         our protocols for supply chains can work
with a wide variety of double auction rules  and in this section we present several double
auction rules that were suggested in the literature  and two new randomized double auction
rules that we later use to create supply chain mechanisms  a double auction rule decides
the trading agents and the payments to the agents 
we rst give a description of the double auction  da  model  it is a single minded
agents model with the following specications of possible outcomes  value spaces and classes
of agents  there is some homogeneous good g that is traded in discrete quantities  and
agents that are of one of two classes of agents  an agent is either a seller or a buyer of one
unit of a good g  seller i has a single unit of g and has some non negative cost si  vi   si  
if he sells his unit  buyer i has a non negative value bi  vi   bi   if he receives one unit of
good g  the set of possible allocations are the set of materially balanced allocations  which
are allocations with the same number of sellers and buyers 
a da begins by agents reporting their values for one unit of the good  each seller i
reports a cost si which might be dierent from his real cost si   each buyer i reports a value
bi which might be dierent from his real value bi   all da rules are non discriminating by
identity  so they rst construct the supply and demand curves by sorting the supply bids
s t  s   s         and the demand bids s t  b   b          if agents report truthfully then
in order to maximize eciency  once the trade quantity q is set  the trading agents must
be the rst q sellers and the rst q buyers  the optimal trade quantity l is dened to be
maximal such that bl  sl   trading l units maximizes the eciency if the agents bids are
the agents true values  in all double auctions we consider non trading agents pay zero 
after setting the trade quantity to the optimal trade quantity  most real markets proceed
by choosing a market clearing price anywhere in  sl   bl    for example setting the price
at  bl   sl      the     double auction which is a special case of the k double
auction  wilson        chatterjee   samuelson        satterthwaite   williams        
in general  the k double auction is a double auction in which before the auction begins 
a parameter k is chosen such that k          k is used to calculate a clearing price p  
k  sl       k   bl   l units of the good are traded at the uniform price of p for both sellers
and buyers  this pricing scheme is not incentive compatible  in dominant strategies   but
with additional strong assumptions on the agents values  all from a known distribution  
it has been shown to perform reasonably well in many cases under strategic behavior of
the participants  rustichini  satterthwaite    williams        satterthwaite   williams 
       nevertheless  even when assuming a uniform distribution of the agents values  there
is a non zero eciency loss in the bayesian nash equilibrium achieved  and this equilibrium
concept is much weaker than the dominant strategies equilibrium we discuss in this paper  
one may alternatively use the vcg double auction rule  which also sets the trade
quantity to the optimal trade quantity l  this rule is non discriminating  l winning buyers
pay pb   max sl   bl     and l winning sellers receive ps   min sl     bl    vcg mechanisms
 vickrey        clarke        groves        in general  and the vcg da mechanism as a
special case  are all ir and ic  incentive compatibility leads to maximal eciency since
the trade is of the optimal size l  but it also leads to a budget decit since pb  ps   by
   

fibabaioff   nisan

observation     any normalized  ic and ecient mechanism must have the same payments
as the vcg da and thus the mechanism is not budget balanced 
myerson and satterthwaite        have shown that as long as individual rationality or
participation constraints are met  e g  if non traders pay     an incentive compatible
mechanism that always achieves the ecient outcome lead to a budget decit  even for
more general model and weaker solution concept that we consider   we now turn to look
at several normalized and ic double auction rules that achieve budget balance  sometimes
even surplus  at the price of achieving slightly sub optimal eciency  by reducing the trade
quantity  
the simplest auction with this property is the trade reduction  tr  da  in this
non discriminating auction  l    units of the good are traded  each trading buyer pays
pb   bl   and each trading seller receives ps   sl   since bl  sl this auction is bb  a
rule which is an extension of the trade reduction da rule  was previously suggested by
s
 b
mcafee         by mcafees da rule  if a suggested clearing price p   l     l   is
accepted by the l buyer and seller  p   sl   bl    then l units of the good are traded at the
price of p  otherwise the tr rule is used  both the trade reduction da rule and mcafees
rule are normalized  bid monotonic and the payments are by the critical values  thus they
are ic  and ir  by applying theorem      both rules have eciency of at least  l     l
for any agents values  since only the unit with the lowest trade value might not be traded 
mcafees rule turned out not to be compatible with our protocols  we expand on this in
appendix a 
we suggest two new normalized and randomized double auctions  which capture the
tradeo between the auction eciency and the budget balance with one parameter   unlike
mcafees rule  these rules can be used with our supply chain protocols  and they achieve
higher eciency than the trade reduction da in expectation  for a carefully chosen
parameter  they also achieve exact budget balance  zero balance  on expectation  ex ante
budget balanced  
in the  reduction da  for a xed         the bids are submitted and then
with probability  the trade reduction da rule is used  and with probability     the
vcg da rule is used  this randomized double auction is universally incentive compatible
 dened by nisan   ronen         which means that the agents bid truthfully even if they
know the randomization result  this can be seen from the fact that bidding truthfully is a
dominant strategy in both the trade reduction da rule and the vcg da rule  it is also
normalized and nd since both trade reduction da and vcg da are normalized and nd 
the  payment da is another randomized double auction which has the same distribution of the allocation as the former auction  and therefore the same expected eciency  
but the payment of each agent is his expected payment of the  reduction da  so the
expected budget of both auctions is the same   in this auction  a parameter  is chosen as
in the  reduction da  then the bids are submitted and the allocation and payments are
decided  l    units are traded between buyers  each paying   bl          max bl     sl   
and the sellers  each receiving   sl          min sl     bl    with probability  another
unit of the good is traded between the l buyer which pays max bl     sl   and the l seller
which receives min sl     bl    this auction is discriminating since the l buyer pays a dierent price than the rest of the winning buyers if he wins the auction  and the same holds for
the sellers   the  payment da has a much lower variance in most of the agents payments
   

ficoncurrent auctions across the supply chain

than the  reduction da  and it hides its randomized character from almost all the
agents  the allocation and payment of all agents but the l buyer and seller are independent
of the coin toss  thus have zero variance  this auction is individually rational and incentive
compatible  but not universally 
theorem      the  payment da is an incentive compatible randomized da  but it is
not a universally incentive compatible randomized da 
proof  since the  reduction da is universally incentive compatible  truth telling maximizes the expected utility of any agent in the  reduction da  the  payment da has
the same probability distributions of the allocation and payments as the  reduction da 
therefore truth telling maximizes the expected utility of any agent in the  payment da as
well 
the  payment da is not a universally incentive compatible randomized da  assume
that a seller which is one of the rst l    sellers knows that the randomization will result
in a vcg allocation  so he is now facing a deterministic auction  by observation     there
is a unique payment rule which ensures dominant strategy ic for normalized mechanism
with the ecient allocation  the vcg allocation   this is the vcg payment rule  the 
payment da is normalized and gives a dierent payment to that agent  therefore it cannot
be incentive compatible in dominant strategies 
both auctions have eciency of at least  l     l  since at least l    of the l units
are traded  as  grows from zero to one  the expected revenue increases from negative to
positive and the expected eciency decreases  linearly   if the distribution d of the agents
values is known prior to the beginning of the auction  the parameter     d  can be
chosen such that the expected revenue is zero  dierent distributions have dierent values
of  d   in this paper we do not solve the problem of nding  d  analytically   we denote
this value as   d   for the uniform distribution of agents values in        we denote this
value as a  
in table   we present a summary of the properties of the double auction rules 
da rule
k da
vcg
trade reduction
  d  reduction
  d  p ayment
mcafee

incentive compatible
no
yes
yes
yes  universally
yes  not universally
yes

revenue
 
decit
surplus
   expected 
   expected 
surplus

eciency loss
 
 
lft
  d  lf t  expected 
  d  lf t  expected 
not more than lft

table    double auction rules comparison table
notes   a  in the k da we assume that the agents bid truthfully  if they do not  there is a non zero eciency
loss in equilibrium  b  lft means least favorable trade which is bl  sl  

we have run simulations comparing the dierent da rules with respect to the market


revenue   i pi   and to the total social eciency   ia vi    in figures   and   we show
the results for the average of     random executions of an auction with a given number of
   

fibabaioff   nisan

buyers and sellers  with all values drawn uniformly and independently at random in        
we have calculated the  reduction da eciency to revenue ratios for                     
note that in expectation  the same results would have been obtained for the  payment
da  since it has the same expected eciency and revenue as the  reduction da  we
have calculated a     u    where u is the uniform distribution of agents values in        
by simulations using binary search  note that in both gures  the values of the trade
reduction da  the dierent  reduction da  the vcg da as well as the a reduction
da  all lay on a linear curve  the point representing mcafees da lays above this line
and in both simulations has lower eciency than the a reduction da  our a reduction
da extracts more eciency than mcafees da  while still being budget balanced  the
simulations also show that in the symmetric case where the number of buyers and sellers is
the same  all auctions extract a very high fraction of the eciency  more than       on
the other hand in the asymmetric case where the number of buyers is much larger than the
number of sellers  the trade reduction da as well as mcafees da extract a signicantly
lower eciency than the a reduction da  about    less  
   

   

   

   

revenue

   

   

   
vcg
trade reduction

 

     reduction
    reduction

   

     reduction
mcafee

   

a 
   
    

    

    

    
   
social efficiency

    

    

    

    

figure       buyers and    sellers
revenue eciency tradeo simulations results

   the supply chain protocols
we begin by presenting the linear supply chain model  in which any unit of an initial good
can be converted to a unit of the nal good through a sequence of unit to unit conversions 
our supply chain model is a single minded agents model with the following specications of
possible outcomes  value spaces and classes of agents  there is an ordered set g   g    t 
of homogeneous goods that are traded in discrete quantities  each agent i is of one of the
following t     classes  an initial supplier can supply one unit of the rst good and has a
   

ficoncurrent auctions across the supply chain

   

   

   

revenue

   

   

   

vcg
trade reduction

   

     reduction
    reduction
     reduction

 

mcafee
a 

   
   

    

   
social efficiency

    

   

    

figure       buyers and   sellers
revenue eciency tradeo simulations results

non negative cost si  vi   si   if he trades  a converter of one unit of good r              t  
to one unit of good r     has a non negative cost si  vi   si   if he converts a unit  a
consumer has a non negative value bi  vi   bi   if he receives one unit of the nal good  a
market is the set of agents of the same class  the allocation a is materially balanced if for
each good  the number of units produced is the same as the number of units consumed  this
means that the number of winners of any class of agents is the same  clearly the number
of winners in any market cannot exceed the minimal number of bidders in any market n 
so we can assume that all markets have only n bidders  n can be found by a single message
between any market and the next market  the message includes the minimal size seen so
far  the consumer market then sends n backwards in the chain to all other markets  
we suggest two protocols that can be used to conduct an auction in a chain of markets
in a distributed manner  the symmetric protocol and the pivot protocol  both
protocols run on servers connected by a network with a linear chain topology  each server
represents one market and receives bids from only one class of agents  suppliers  consumers
or converters from some specied good to the next good in the chain   the servers do not
act strategically  and follow the specied protocols  they are all owned by the same entity  
we denote the supply market as m   and each conversion market from a good r to the
following good r     as m rr     the consumer  demand  market is marked by m t   each
of the conversion markets is connected with bi directional communication channels to the
market that supplies its input good and to the market which demands its output good 
we denote the supply and demand curves for a good r as s r and dr respectively  and the
supply and demand curves for the conversion of a good r to a good r     as s rr   and
d rr   respectively 
   

fibabaioff   nisan

all agents must bid before some xed deadline  the input to our protocols is the supply
bids for the rst good  the conversion bids for all the conversion markets and the demand
bids for the nal good  the protocols decide the allocation and the payments of the trading
agents  the protocols are normalized  losing agents pay zero   both our protocols are generic
and can operate with various normalized da rules 
in the symmetric protocol  each of the markets conducts a double auction  after constructing its demand and supply curves  each agent views the supply chain auction as a
double auction since each market conducts a double auction and there is no central market that makes the allocation and payments decisions  in order for the protocol to create
a materially balanced allocation  some restriction are imposed on the double auction rule
used by the symmetric protocol  as we later describe  this protocol can use either a discriminating or a non discriminating da rule  we present the protocol as using an abstract
discriminating da rule that takes supply and demand curves as inputs  and returns the
trade quantity q and two price vectors  ps for the sellers and pb for the buyers 
in the pivot protocol  only one market  the demand market  constructs its demand
and supply curves  this market applies the double auction allocation and payments rule 
and sends the results of the auction to it predecessor  each market uses the information
it receives and the bids in the market to send its predecessor information that are used to
calculate its allocation and payments  unlike the symmetric protocol  the pivot protocol
must use a non discriminating da rule  but it creates a materially balanced allocation with
any da rule  for many da rules  this protocol can be improved such that it has a much
lower communication burden than the symmetric protocol  as we show in section      we
present the protocol as using an abstract non discriminating double auction rule that takes
supply and demand curves as inputs  and returns the trade quantity q and a single price
ps for the trading sellers and another price pb for the trading buyers 
    the symmetric protocol
as we have seen in the example in section    after the bids are submitted the symmetric
protocol begins with supply curve propagation along the supply chain  from the supply
market to the consumer market  the protocol continues with demand curve propagation
along the supply chain in the other way  demand curves propagation may be done concurrently with the supply curves propagation   during this process each of the markets builds
its supply and demand curves from the information it receives  at this point each of the
markets has its supply and demand curves  and a double auction is conducted  if the rule
is randomized  we assume that the random coins are public  which means that all markets
have access to the same random coins  a public coin is created by one market tossing the
coin and then propagating the result to all other markets along the supply chain   the formal protocol for the supply market m     the conversion markets m rr   and the demand
market m t are described in figures      and    respectively 
a da rule decides on the trade size in each market according to the supply and demand
curves created by the protocol  the allocation is materially balanced only in the case that
the same trade size was decided in all the markets 
denition    let s m   and d m   be the supply and demand curves created by the symmetric protocol in market m   let q m   be the trade size obtained by applying the da rule
   

ficoncurrent auctions across the supply chain

symmetric protocol for the supply market m    
   s    sort the list of supply bids in non decreasing order 
   send s   to demand market m     
   receive d  from demand market m     
   apply the da rule on  s     d    to obtain  q  ps   pb   
   output  the q lowest bidders sell a unit each and pay by the vector ps  

figure    symmetric protocol for the supply market

symmetric protocol for a conversion market m rr  
   s rr    sort the list of supply bids in non decreasing order 
   when receiving s r from m r r  
send s r     s r   s rr   to m r  r    
   when receiving dr   from m r  r    
send dr   dr    s rr   to m r r  
   construct the market demand curve drr     dr    s r  
   apply the da rule on  s rr     drr     to obtain  q  ps   pb   
   output  the q lowest bidders convert a unit each and pay by the vector ps  

figure    symmetric protocol for a conversion market

symmetric protocol for the demand market m t
   dt  sort the list of demand bids in non increasing order 
   send dt to supply market m t t  
   receive s t from supply market m t t  
   apply the da rule on  s t   dt   to obtain  q  ps   pb   
   output  the q highest bidders buy a unit each and pay by the vector pb  

figure    symmetric protocol for the demand market

   

fibabaioff   nisan

r on  s m    d m     a da rule r is called consistent if q m      q m    for any two
markets m   and m   
the following lemma shows that the optimal trade size in all markets is the same  so
any rule that set the trade size as function of the optimal trade size is consistent 
lemma      let l m   be the optimal trade size in market m   for any two markets m  
and m    l m      l m     we denote this optimal trade size by l 
proof  by the denition of the optimal trade size  l m   is the maximal index such that
bl m    m    sl m    m    it is enough to show that for any two markets m   and m   
b m     s m      b m     s m     as vectors  
for any r 

mm      s r  s rr    
d rr    s rr      dr    s r    s rr      dt  t 
m r   s

mm       d t  s t
d t   s r   s rr     t 
m r   s
similar argument shows that d   s     dt  s t
we conclude that if the trade size qm decided by da rule r in any market m is just
a function of the optimal trade size lm   l  then r is consistent  clearly a consistent da
rule always creates a materially balanced allocation 
since the trade size decided by the vcg da rule is l  then this rule is consistent 
similarly the trade reduction da rule is consistent since the trade size is l     not all
double auction rules are consistent  mcafees da is an example for an inconsistent rule  a
specic example of inconsistency is presented in appendix a   the intuitive reason that it
is not consistent is because the trade size is dependent on the comparison between some
function of the l     bids and the l bids  which might be dierent between markets  on the
other hand our two new randomized da  the  reduction da and the  payment da are
consistent  this is because all markets share a public coin  so either the trade size is l   
in all the markets  or it is l in all the markets 
following is the main theorem regarding the symmetric protocol 
theorem      any normalized da rule r that is consistent can be used by the symmetric
protocol to create a supply chain mechanism that is normalized and materially balanced  if
r is also ic then the mechanism created by the symmetric protocol is ic  thus also ir  and
its eciency is the eciency of r  if r is also non discriminating  then the mechanism is
also non discriminating 
proof  since r is consistent the allocation is materially balanced by denition  the payments are normalized by denition  we show that if r is ic then the mechanism is also ic 
by theorem     the da rule r is bid monotonic and the payments are by critical values 
for any agent  the supply and demand curves  disregarding his bid  are independent of his
bid by the way they are built by the protocol  so the mechanism is bid monotonic and
the payments are by critical values  from the agent point of view  he submits his bid to
a da   therefore by the other direction of theorem     the supply chain mechanism is ic
 and ir   by ic and the way that costs are aggregated by the protocol  the eciency of
the mechanism is the same as the eciency of r  if the r is non discriminating  then the
payments of all the winning agents in the any market are the same  so the mechanism is
non discriminating 
   

ficoncurrent auctions across the supply chain

note that the same normalized  ic and consistent da rule must be used in all the
markets for the mechanism to be materially balanced  normalized and ic  the da rule is
just a function of the supply and demand curves in the market  if any two of the supplier
and conversion markets get the same supply bids  they also get the same demand curves
so for consistency both must have the same allocation  since both are normalized and ic
by observation     both must also have the same payment rule  the demand market must
have the same da rule as the supply market  since in the case that all converters have
a zero cost  both markets have the same supply and demand curves  applying the same
argument presented above to these markets  proves that they must have the same da rule 
    the pivot protocol
the pivot protocol is a supply chain protocol that creates a normalized materially balanced
supply chain mechanism from any non discriminating normalized double auction rule  if the
da rule is also incentive compatible then the protocol creates an incentive compatible supply
chain mechanism  unlike the symmetric protocol  the pivot protocol is not restricted to
using consistent double auction rules  so in that sense it is less restricted than the symmetric
protocol  on the other hand  unlike the symmetric protocol it is restricted to use nondiscriminating double auction rules  the use of randomized double auctions is also more
natural in the pivot protocol  since only one market  the pivot market  uses the random
coins and there is no need for public coins created by distribution of the random coins of
one market to all other markets 
before dening the pivot protocol formally  we explain its execution on the lemonadestand industry example of section    as in the symmetric protocol  the protocol begins
with supply curve propagation along the supply chain to the juice market  see figure    
figure    presents the information propagation of the pivot protocol after the supply curve
propagation stage  and is explained below 
lemon market
supply demand
 s l  
 dl  
 
 
 
 

squeezing market
supply demand
 s lj  
 dlj  
 
 
 
 

 v q       

juice market
supply demand
 s j  
 dj  
 
  
 
  
  
 

 v q        





figure     the pivot protocol for the lemonade stand industry
unlike in the symmetric protocol  the demand curve is not propagated backwards 
but rather  the juice market  which has its supply and demand curves at that stage  now
conducts a non discriminating double auction  for example  running the vcg double
auction results with ecient trade of size   in the juice market  this trade size is propagated
to all other markets and is set to be the trade size in each market along the supply chain 
ensuring a materially balanced allocation  the trade size is denoted by q in figure      the
vcg da rule charges the two winning consumers in the juice market for      max        
   

fibabaioff   nisan

each  since they must bid at least    to match the supply of juice  and if they do  they also
defeat cindy  the losing consumer   there is no single agent that has a juice supplier role in
the juice market  rather  a juice supplier is an aggregation of a lemon picker and a juice
squeezer  we use the price that the double auction would have charged a supplier in the
juice market to nd the prices for lemon pickers and juice squeezers  each market sends to it
predecessor in the chain the highest price the winning agents are willing to pay for one unit
of the input good  a supplier in the juice market should be paid       min           
the maximal cost a winning supplier can charge for juice  so      is the highest cost for
juice  and the juice market informs the squeezing market that the trade size is   and that
the price of juice should not exceed      v in the gure marks this propagated value   the
squeezing market informs the lemon market that the trade size is   and that the price in
the lemon market should be at most               since the highest cost of a winner in the
squeezing market is     the price in the squeezing market cannot exceed              
since the price of juice cannot exceed     and the cost of lemon for a winning lemon picker
might be as high as     also  the price in the squeezing market cannot exceed     the cost
of the loser in that market  so the price is set to      min          the price in the lemon
market is set to      min          since the price cannot exceed     the cost of the loser in
that market  which is lower than the propagated maximal cost of    
note that when we use the vcg double auction rule  the lemonade stand industry
allocation and payments of the pivot protocol are exactly the same as the allocation and
payments of the symmetric protocol presented in section    we later show  theorem     
that this is a general phenomena which happens for any normalized da incentive compatible
rule that can be used by both protocols  that is  a da rule that is non discriminating and
consistent  if the da rule is inconsistent  like the mcafees da rule  the allocation created
by the symmetric protocol is not materially balanced  if on the other hand the rule is
discriminating  it cannot be used by the pivot protocol since there are dierent maximal
unit costs for dierent winning agents in the same market  
we now turn to the general denition of the pivot protocol  in the pivot protocol  one
of the markets is chosen as a pivot and the double auction is only held there  any market
may be chosen as a pivot  we describe the case where the pivot is the consumer market 
after all bids are submitted  the protocol begins with supply curves propagation along the
supply chain as in the symmetric protocol  at this point the consumer market has its
supply and demand curves  and a non discriminating double auction is conducted in this
market  the da sets the trade size  the price the mechanism charges the consumers  and
the highest cost of a unit of the good  suppliers price   which is sent to the predecessor
market of the consumer market  after that  starting with the consumer market which is
now viewed as the demand market of its predecessor  each of the demand markets sends to
its supply market the size of trade and the highest price that the demand market is willing
to pay for one unit of its input good  without reducing the trade quantity  the payment in
each market is set to the maximal cost in each market that results with the same trade size 
and is calculated as the minimum of two terms  the rst term is the dierence between the
propagated maximal cost of the market output and the maximal cost of the market input 
the second term is the highest cost of a loser in that market  we show below that this
payment scheme creates a normalized  incentive compatible and non discriminating supply
   

ficoncurrent auctions across the supply chain

pivot protocol for pivot market m t
   dt  sort the list of demand bids in non increasing order 
   receive s t from supply market m t t  
   apply da rule on  s t   dt   to obtain  q  ps   pb   
   send results to the other markets 
   send  ps   q  to market m t t  
   output  the q highest bidders buy for price pb  

figure     the pivot protocol for pivot market
pivot protocol for a conversion market m rr  
   s rr    sort the list of supply bids in non decreasing order 
   when receiving s r from m r r  
send s r     s r   s rr   to m r  r    
   when receiving the pair  v  q  from m r  r    
send  v  sqrr     q  to m r r  

rr  
   output  the q lowest bidders sell for price min v  sqr   sq  
  

figure     pivot protocol for a conversion market
chain mechanism  given a normalized  incentive compatible and non discriminating double
auction rule 
the formal protocol for the pivot market  the conversion markets and the supply market
are presented in figures        and     respectively 
the following theorem shows how the properties of the mechanism created by the pivot
protocol are derived from the properties of the da rule used by the pivot market 
theorem      any normalized da rule r that is non discriminating can be used by the
pivot protocol to create a normalized supply chain mechanism that is materially balanced
and non discriminating  if r is also ic then the mechanism created by the pivot protocol
is ic  thus also ir  and its eciency is the eciency of r 
pivot protocol for the supply market m  
  
  
  
  

s    sort the list of supply bids in non decreasing order 
send s   to demand market m     
receive the pair  v  q  from the demand market m     
 
  
output  the q lowest bidders sell for price min v  sq  

figure     pivot protocol for the supply market
   

fibabaioff   nisan

proof  from the protocol denition the mechanism is materially balanced  normalized and
non discriminating  assume that the da rule is normalized and ic  then  since by the
protocol denition the supply curve in the pivot market is independent of the bids of the
consumers  the mechanism is normalized and ic for the consumers  we prove that it is
ic for initial suppliers  the proof for the converters is similar  so it will be omitted   and
we conclude that the mechanism is normalized and ic  thus also ir   we show that the
mechanism is bid monotonic and the payments are by critical values  thus by theorem    
the mechanism is ic 
assume supplier i bids si  and wins  assume the trade size is q  q  i since i wins  and
ps is the price to the sellers in the pivot market  the allocation is bid monotonic since
if he bids a lower cost he is still one of the q lowest bidding suppliers and his bid change
can only reduce the cost of the q lowest bidding sellers in the pivot market  by applying
lemma     on the da rule  ps remains the same  and is corresponding seller bid is still
lower than ps so he remains a winner  let ci  be the critical value for supplier i 
by the pivot protocol the payment to a winning supplier in the supply market is
p i

  min ps 

t 


 
sqrr     sq  
 

r  

we need to show that ci    p i to prove that the payments are by critical values  assume
that i changes his bid to x and he is now the j bid in his market under the new order of
the bids  we show that if x   p i he wins and if x   p i he loses  note that here we
consider costs  not values   this means that p i is the critical value for supplier si  to win
the auction 
 
and the supplier is still one of the q highest bidders
 if x   p i then x   sq  
in his market  j  q   by the way the protocol builds the supply curve in the
pivot market  his bid change can only change the q highest sellers bids in the pivot
market  all the q highest sellers bids in the pivot market are still below ps   since

s rr     ps   and even if he is the q bidder by the assumption
originally sq    t 
t  rr   r   q
  ps   by lemma     applied on the da rule  ps remains the same
x   r   sq
and since is corresponding seller bid is below ps   the supplier wins the auction  this
proves that ci   p i
    then j  q      for him to win when bidding x it must be that
 if x   sq  


rr  
rr  
 
 
  but then ci    sq  
  t 
which by nd means
ci   x   t 
r   sj
r   sq  
that the original q     supplier  which is now the q supplier  must win if i bids x 
by lemma     the original q     supplier must also win if i bids si  which contradicts
the assumption that the trade size is q when i bids si   



rr   and x  s  
 if x   ps  t 
q   then j  q  without loss of generality he
r   sq

rr     p and
is ordered before the q     bid if there is a tie   since x   t 
s
r   sq

t  rr  
 
 
 the original q supplier wins when i bids si   we conclude
ps  sq   r   sq
that x   sq  which means that he is now the q bidder  j   q   so his corresponding

rr     p   which is not high enough to win the
seller bid in the da is x   t 
s
r   sq
da and therefore the agent loses 

   

ficoncurrent auctions across the supply chain

we conclude that any agent which wins the auction pays his critical value  and therefore
the auction is ir and ic  by ic and the way that costs are aggregated by the protocol  the
eciency of the mechanism is the same as the eciency of r 
theorem     has presented the relationship between incentive compatibility of the da
rule and the resulting supply chain auction created by the pivot protocol  this brings up
the question of whether the budget balance of the da rule ensures budget balance of the
supply chain mechanism  it turn out not to be so  in appendix a we present an example of
a da rule  mcafees rule  which has a revenue surplus  but the pivot protocol using that
rule creates a mechanism with a revenue decit 
the next theorem gives a condition on the da rule which is sucient to ensure that the
supply chain mechanism created by the pivot protocol is budget balanced  it also shows
that a da rule with budget decit creates a mechanism with a decit 
theorem      let r be a normalized da rule that is ic and non discriminating  let m
be the supply chain mechanism created by the pivot protocol using the rule r   for any
supply and demand curves  let q be the trade size decided by r  and let ps and pb be the
sellers and buyers prices respectively 
if pb  sq   holds for all supply and demand curves  then m is budget balanced  if
pb   ps for some supply and demand curves  r has budget decit  then m has budget
decit 
proof  we rst show that if pb  sq   holds for all supply and demand curves  then
m is budget balanced  we divide the supply chain allocation to q disjoint procurement
sets  each set has a single winner from each market  we show that the total payment
from each procurement set is non negative  therefore the auction is bb  by theorem    
the mechanism is non discriminating  so all procurement sets have the same payments 
let p be the total payments to all agents in a procurement set  except for the consumer 
t
t
 p  ps   if pb  sq  
then pb  p   and
lemma b    see appendix b  shows that sq  
we conclude that pb  p    and m is bb 
similarly if for some supply and demand curves r has budget decit  then every procurement set has a decit  if pb   ps for some supply and demand curves  then pb   p
and we conclude that the total payment for each procurement set is pb  p      which
means that m has a budget decit 
note that for a double auction rule r to be bb  it is sucient that pb  ps   to
prove that the supply chain mechanism is budget balanced  the theorem relies on a stronger
condition that pb  sq    it is always true that sq    ps as lemma b   shows   while
mcafees da satises pb  ps   the stronger condition pb  sq   does not always hold 
and indeed the example in appendix a shows that the supply chain mechanism has a
budget decit in some cases  on the other hand  the trade reduction da rule satises
both constraints since q   l     recall that l is the optimal trade size  and pb   bq    
bl  sl   sq     ps  
clearly a da rule that has budget decit might create a supply chain mechanism with
budget decit if used by the symmetric protocol  this is since double auction is a special
case of a supply chain  we were not able to present a parallel sucient condition for the
symmetric protocol to ensure a budget balanced supply chain mechanism  for a case that
   

fibabaioff   nisan

a normalized da rule is incentive compatible  consistent and non discriminating  the next
theorem proves that the two protocols create the same mechanism  which implies that the
above sucient condition for budget balance holds also for the symmetric protocol with
such da rules 
we now turn to look at the relationship between the two protocols  in case that the
normalized da rule is consistent and non discriminating it can be used by both protocols 
the following theorem shows that if the rule is also ic  then the symmetric protocol and
the pivot protocol create the same mechanism 
theorem      let r be a normalized da rule that is non discriminating and consistent 
if r is ic then the mechanism created by the pivot protocol using r is the same as the
mechanism created by the symmetric protocol using r  for any set of bids  both have the
same allocation and payments   thus  the eciency and the budget of both mechanisms are
equal 
proof  since the supply and demand curves of the demand market m t are built in the same
way  and the da rule used by the demand market is the same in both protocols  the market
trade sizes decided by the rule are the same in both mechanisms  the symmetric protocol
is consistent  therefore the trade sizes in all the markets are the same  since the mechanism
is non discriminating  the allocations are the same in all the markets in both protocols  by
observation     both mechanisms must have the same payments  since they have the same
allocation 
    communication complexity
a naive implementation of a supply chain mechanism as a centralized mechanism would
have required sending  tn  bids to one centralized point  t is the number of goods and n
is the minimal number of agents in any market   both protocols that we have described
have much lower communication of o n  prices received and sent to each market  note that
if a bid of a single agent requires k bits  then the prices communicated do not grow too
much and have at most k   t bits   for many interesting da rules we can further reduce
the communication of each market to only o log n   prices by the improved pivot protocol
we present below  thus  for these da rules the pivot protocol can be implemented for
exponentially larger markets when still using the same bandwidth  for example  we can
use the improved protocol if the size of trade q set by the da rule can be calculated from
the optimal trade quantity l  and the payments are dependent on the l and l     bids in
the supply and demand curves only  this is the case for all da rules we have presented  
theorem      let r be a normalized da rule that is ic and non discriminating  assume
that the trade size decided by this rule is a function of the optimal trade size l only  and
the payments can be decided using o    prices when knowing l  then the pivot protocol
can be implemented with only o log n   messages sent and received by each market  where
each message contains a single price 
proof  the pivot protocol can be improved by using binary search to nd l and thus sending
only the few values needed from the supply curves  instead of passing entire supply curves
along the chain  the search for l can be preformed by a binary search while sending only
   

ficoncurrent auctions across the supply chain

o log n   messages between any two consecutive markets  in the improved protocol  rst
s tn is passed to the pivot market  for n which is the minimal number of bids in any market
 
 known to all markets by the protocol explained in the beginning of this section   then
the pivot market checks if this value is smaller or greater than dtn and asks for the  n
  or
 
the n  element of the supply curves respectively  the pivot market receives the requested
value and continues in a similar way with the search  until l is found  then o    prices
needed from the supply curve to nd the payments  which are only a function of l by our
assumption  are propagated to the pivot market by its request 
similar results can be presented for the symmetric protocol with the same restrictions
on the da rule used by the protocol  the symmetric protocol is the protocol of choice
when the da rule is discriminating  but in this case it is more likely that entire supply and
demand curves are needed in order to nd the prices for all winners 
    global properties of the dierent da types
in this section we examine the properties of the mechanisms created by the supply chain
protocols using dierent double auction rules 
chain of vcg double auctions is created by running the symmetric protocol
using the vcg da rule  this creates a local vcg double auction in each of the markets 
since vcg da rule is ir  ic  consistent and non discriminating  by theorem     the pivot
protocol with the vcg da rule creates the same mechanism 
the following proposition summarizes the properties of the supply chain mechanism
using the vcg double auction rule 
proposition      chain of vcg double auctions is ir  ic  non discriminating  socially
ecient and has a revenue decit   rchain v cg    
proof  since vcg da rule is normalized  ic and non discriminating  by theorem     the
mechanism created is ir  ic and non discriminating  the outcome maximizes the sum
of valuations  socially ecient   since agents bid truthfully  the trade size is the optimal
trade size and the highest value bidders in each of the markets are chosen as winners 
by the fact that vcg da has budget decit and theorem     we conclude that the
chain of vcg das has budget decit 
note that by observation     the mechanism created using vcg da rule is vcg in
the global sense presented by vickrey  clarke and groves  a mechanism that is ir  ic and
ecient  
chain of trade reduction double auctions is created by running the symmetric
protocol using the trade reduction da rule  this creates a local trade reduction double
auction in each of the markets  and those double auctions are chained  since the trade
reduction da rule is normalized  ic  consistent and non discriminating  by theorem    
the pivot protocol with the trade reduction da rule creates the same mechanism 
proposition      chain of trade reduction double auctions is ir  ic   non discriminating 
has a revenue surplus of
rchain

t rade reduction

   l       dlt  slt     
   

fibabaioff   nisan

the reduction in the social eciency is dlt  slt and its eciency is at least  l     l of the
maximal eciency 
proof  since the trade reduction da rule is normalized  ic and nd  by theorem     the
mechanism created is ir  ic and non discriminating 
the revenue is the sum of the payments which is
 l       dlt 

t 


slrr    sl       l       dlt  slt  

r  

and it is non negative since dlt  slt by the denition of the optimal trade quantity l 
the reduction in social eciency is dlt  slt   since the l unit is not traded  so as in the
trade reduction da the l    highest trades out of the optimal l trades are conducted 
giving eciency of at least  l     l 
chain of  reduction double auctions is created by running the pivot protocol
using the  reduction rule  which creates a randomized mechanism  this mechanism is
a probability distribution over two mechanisms   the chain of trade reduction da and
the chain of vcg da  the mechanisms are used according to a random variable  that
is one with probability  and zero otherwise  the rst mechanism is chosen if  is one
 with probability    and the second mechanism is chosen if  is zero  which happens with
probability      
this auction can also be preformed using the symmetric protocol under the public coin
assumption  which can be created by distributing a random coin  tossed by one of the
markets   in this case the random variable  is shared by all the markets  meaning that
either the trade reduction rule is used by all the markets  or by non of the markets  this
ensures trade consistency and creates the same mechanism 
chain of  reduction double auctions achieves the allocation and payments of the
chain of trade reduction da with probability   and with probability     it achieves
the allocation and payments of the chain of vcg da 
proposition      chain of  reduction double auctions is an individually rational and
universally incentive compatible randomized mechanism  its expected revenue is
rchain

 reduction

    rchain

t rade reduction

         rchain

v cg

its eciency is at least  l     l of the maximal eciency  its expected reduction in the
social eciency is    dlt  slt   when the expectation is over the random choice of  
proof  the mechanism is individually rational and universally incentive compatible randomized mechanism  since both the chain of trade reduction das and the chain of vcg
das are normalized and incentive compatible by proposition     and proposition     
it is easy to verify that the expected revenue and the reduction in social eciency are
as claimed 
chain of  payment double auctions is created by running the symmetric protocol  and in each market running the  payment double auction  which creates a randomized
   

ficoncurrent auctions across the supply chain

mechanism  again under the public coin assumption   the mechanism has the same expected revenue and social eciency as the chain of  reduction das  and each of the
agents has the same probability of winning the auction and the same expected utility as in
the chain of  reduction das  note that since the  payment da rule is discriminating 
the pivot protocol as dened above cannot be used to create a supply chain mechanism 
proposition       chain of  payment double auctions is an individually rational and
incentive compatible randomized mechanism  its expected revenue and its expected social
eciency is the same as the chain of  reduction double auctions 
proof  the chain of  payment double auctions has the same distribution of the allocation
and payments as the chain of  reduction double auctions  therefore each agent is facing
the same mechanism in expectation so he bids truthfully  since the expected payment to
each agent is the same in both mechanisms  the expected revenue is the same  since the
allocation is the same in both mechanisms  the expected social eciency is the same 
unfortunately  chaining mcafees double auction does not preserve the nice properties
mcafees da rule has  if we run the symmetric protocol using mcafees da rule  we
might get an inconsistent trade  on the other hand  if we run the pivot protocol using
mcafees da rule  we have a revenue decit   see examples in appendix a   however a
weaker claim can be made   this mechanism has revenue at least as high as the chain of
vcg da  and has eciency at least as high as the chain of trade reduction da 
chain of mcafees double auction is created by running the pivot protocol using
mcafees rule 
proposition       chain of mcafees double auction is ir  ic  nd  its revenue is never
smaller than the revenue of the chain of vcg double auction  and its reduction in the
social eciency is never greater than the reduction of the chain of trade reduction double
auction 
proof  chain of mcafees double auction is ir  ic and nd by theorem     and the fact
that mcafees da rule is normalized  ic and nd 
the mechanism revenue is never smaller than the revenue of the chain of vcg double
auctions since if there is trade reduction  then there is a revenue surplus by proposition     
and we know that chain of vcg double auctions has a revenue decit by proposition     
in the case of no trade reduction  the revenue is never smaller than the revenue of the chain
st

 d t

of vcg double auctions  since each winning buyer pays p   pb   ps   l     l   which
t
t
  dl  
so
is at least as much as he pays in the vcg mechanism  this is because sl  
t
t
t
t
t
sl     p   dl   and sl  p and therefore max dl     sl    p  each winning seller of
    d     which he receives in the vcg
the supply good  never receives more than min sl  
l
t
t
mechanism  this is since p  min sl     dl   and he receives
 
 p 
min sl  

t 


 
t
slrr      min sl  
  min dlt   sl  
 

r  
 
  dlt 
min sl  

t 


slrr      

r  
t 


t
slrr     sl  


r  

t 

r  

   

 
slrr       min sl  
  dl   

fibabaioff   nisan





rr  
rr  
t
where the last equality holds since dl    dlt  t 
and sl  
 t 

r   sl
r   sl

t 
rr  
t
 
  sl     a similar argument shows that each winning convert never
sl    r   sl  
receives more than in the vcg mechanism 
the reduction in the social eciency is never greater than the reduction in the chain of
trade reduction double auction  since the trade size is never smaller than the trade size
in this auction  which is the l    

table   summarizes the properties of the supply chain mechanisms created by the two
protocols using dierent double auction rules  for normalized mechanisms  if one cares
about incentive compatibility and eciency but not about budget balance  then the vcg
mechanism should be used  if budget balance must be ensured for every execution of an
incentive compatible mechanism  then the trade reduction auction is the mechanism of
choice  if one wants the mechanism to be incentive compatible for every execution  but can
settle for expected budget balance instead of ensured one  then higher expected eciency
can be achieved by the   d  reduction  assuming the right choice of   d   finally  if
the variance in the agents payments is important  then the   d  p ayment should be used
in order to lower the variance for most agents  this has a cost  since now the mechanism
is not incentive compatible for every execution  universally   but rather  it is incentive
compatible when the agents only care about expected utility  the table also presents the
mcafee supply chain mechanism  to point out the fact that the budget of the supply chain
mechanism might be dierent from the budget of the underlying double auction 
da rule
vcg
trade red 
  d  reduction
  d  p ayment
mcafee

incentive comp 
yes
yes
yes  universally
yes  not universally
yes

revenue
decit
surplus
   expected 
   expected 
surplus or decit

eciency loss
 
lft
  d  lf t  expected 
  d  lf t  expected 
not more than lft

table    supply chain auctions
notes  a  mcafees rule can not be used by the symmetric protocol  the table presents its properties under
the pivot protocol  b  lft  least favorable trade  in the context of supply chain  means the net total utility
of the least favorable item  c  the distribution d is over all agents in the supply chain  d    d  p ayment
has a lower variance in the payments than the   d  reduction 

when comparing the properties of the chain mechanisms in table   with the properties
of the original double auction rules in figure    one can see the following  the incentive
compatibility and the eciency properties are preserved by the protocols  while achieving
a revenue surplus requires a stronger condition on the da rule  as we have shown in theorem      the consistency property  which enables chaining of the markets by the symmetric
protocol  applies to the rst two deterministic rules  and the two randomized rules under
the assumption of common coin toss  it does not exist in mcafees rule since this rule sets
its trade quantity as a function of the bids submitted  in such a way that the trade quantity
can be dierent in two dierent markets  the k da is not presented in the table since it is
   

ficoncurrent auctions across the supply chain

not incentive compatible and therefore it cannot be used by the protocols  the two protocols
create dierent mechanisms with this rule  

   discussion and future work
in this paper we have presented two distributed protocols that create supply chain mechanisms using double auction rules  our protocols are generic and can use dierent double
auction rules to create dierent mechanisms  we have characterized the properties of the
supply chain mechanisms which derive from the properties of the underlining double auction
rule  the protocols can use the vcg da to achieve ir  ic and full eciency with budget
decit  they can also use the trade reduction da to ensure budget balance or surplus
with high eciency  an even higher eciency while maintaining bb in expectation can be
achieved using our two new randomized double auction rules 
our work concentrated on the simple case of indivisible homogeneous goods  where each
of the agents desires only one good or desires to convert one unit of good to one unit of
another good  and the supply chain has a linear form  our pivot protocol is easily extended
to the case of trees in which each good can be created from one of several goods  but no
good is used to create two dierent goods   for example  we might have a lemon market in
florida and another lemon market in california  and also separate squeezing markets in both
states  but only one lemonade market  the tree of auctions decides how many lemonade
glasses will be produced  and how many of the glasses will be produced from florida lemons
and from california lemons  since the main ideas in this extension are similar to the ones
presented in this paper  we omit the technical details and refer the interested reader to
babaio        for the details  babaio        also discusses an extension of the model
to the case that an agent is allowed to bid for multiple units in its market  by bidding the
maximal quantity it is willing to trade and the price per unit 
a paper by babaio and walsh        extends our model to the case that each item
is produced from a combination of several items of several dierent goods  but each good
is still produced in exactly one market  they have presented a specic auction  unlike
this work which presents generic protocols for supply chain formation  that is individually
rational  incentive compatible  budget balanced  yet highly ecient 
similar results  ir  ic  bb and high eciency  have been presented by babaio  nisan 
and pavlov        to a related model of spatially distributed market  in this model a single
good is traded in a set of independent markets  where shipment between markets is possible
but incurs a publicly known cost  but in their model there are no strategic producers as in
our model  
one interesting challenge is to stay with the unit to unit conversion model  but extend
our model to allow a general directed a cyclic supply chain graph topology  yet another
important challenge is to extend the model to a case where agents are not single minded
agents  and can submit exclusive or non exclusive bids in several markets 
   

fibabaioff   nisan

acknowledgments
this research was supported by grants from the israeli ministry of science  the israeli
academy of sciences and the usa israel bi national science foundation  the rst author
 babaio  was also supported by yeshaya horowitz association 
we thank william walsh  daniel lehmann  hila babaio and the anonymous reviewers
for their helpful comments 

appendix a  problems with chaining mcafees double auction
the consistency problem  the following example of supply chain auction using mcafees
rule shows that not all double auction rules are consistent  figure    shows the supply and
demand curves in the three markets after the supply and demand curves propagation 
lemon market
supply demand
 s l  
 dl  
  
  
  
  

squeezing market
supply demand
 s lj  
 dlj  
 
  
 
  

juice market
supply demand
 s j  
 dj  
  
  
  
  

figure     chaining mcafees da example
the optimal trade quantity in this example is    as can be seen in figure     mcafees
                on the
rule in the lemonade market set the trade size to    since      
 
other hand  if we use mcafees rule on the squeezing market  trade reduction should be
    
          and the trade quantity is zero  in contradiction to the
made since      
 
previous decision  we conclude that there exists a non consistent da rule that cannot be
used by the symmetric protocol 
the revenue problem  the same example with the pivot protocol presented in
figure    shows that the fact that the da rule has revenue surplus  does not ensure that
the supply chain mechanism created by the pivot protocol using the da rule has a revenue
surplus as well 
lemon market
supply demand
 s l  
 dl  
  
  

squeezing market
supply demand
 s lj  
 dlj  
 
 

 v q        

juice market
supply demand
 s j  
 dj  
  
  
  
  

 v q        





figure     pivot protocol with mcafees rule
in this example  mcafees rule in the lemonade market sets the trade size to    since
                the buyer in this market should pay     by following the pivot
protocol  the squeezer that has a bid of   should be paid     min            and the
     
 

   

ficoncurrent auctions across the supply chain

supplier in the supply market that has a bid of    should be paid      min          the
total revenue is               which means that there is a revenue decit 

appendix b  supply chain payments
in this appendix we prove lemma b   which is used in the proof of theorem     
lemma b    if the double auction rule used by the pivot protocol is ir  ic and nondiscriminating  and ps is the sellers price in this double auction  then the total payment
p to a supplier and converters  one from each market  which create one unit of the nal
t  
good satises ps  p  sq  
proof  by induction  each conversion market of c m to c m   receives the pair  ps 
t 
rr     q  from its demand market  and the payment to a winning converter is
r m   sq
min ps 

t 


mm  
sqrr    sqm   sq  
 

r m  

similarly  the supply market m   receives the pair  ps 
ment to a winning supplier is
min ps 

t 


t 

rr     q  
r   sq

and the pay 

 
sqrr     sq  
 

r  

we conclude that the total payment to the converters and supplier of one unit is
p  

t 

m  

min ps 

t 


mm  
sqrr    sqm   sq  
    min ps 

r m  

t 


 
sqrr     sq  
 

r  

t
since
first notice that p  sq  

p 

t 


mm  
 
t
sq  
  sq  
  sq  

m  

secondly we should prove that ps  p   the idea of the proof is that this holds if there was
only one conversion from c   to c t  as we show in lemma b     and by splitting a conversion
to two consecutive conversions  the total payment to all the converters only grows  as we
show in lemma b    
lemma b    assume that there was only one conversion market from c   to c t   which

rr  
then
means that for every i  si t   t 
r   si
 t
 
    min ps  sq t   sq  
 
ps  p   min ps  sq    sq  

proof  note that the double auction in the pivot market is the same as in the original
auction  since the supply curve of the pivot market is the same  and therefore ps is the
same 
we prove that this claim is true by checking the four possible cases 
   

fibabaioff   nisan

 t and p  s  t  s     then
   if ps  sq   sq  
s
q
q  

p    ps  sq       ps  sq t     ps    ps   sq    sq t     ps
since ps  sq    sq t   sqt   because the da rule is non discriminating 
 t and s  
 t   then
   if ps  sq   sq  
q    ps  sq
 
 
  ps    sq  
 sq     ps
p    ps  sq      sq  
 
since sq  
 sq 
 t  p  s   and p  s  t  s     then
   if sq  
s
s
q
q
q  
 t
 t
   ps  sq t     ps    sq  
 sq t    ps
p   sq  
 t  s  t  
since sq  
q
 t  p  s   and s  
 t   then
   if sq  
s
q
q    ps  sq
 t
 
  sq  
 ps
p   sq  
 t   s  
t
since sq  
q     sq    ps   because the da rule is non discriminating 

so we have proven that p  ps in the case of one conversion market 
lemma b    assume that a conversion market from c k to c t is split into two conversion
markets   one from c k to c k   and the other from c k   to c t   then the payment for
conversion of one unit from c k to c t can only grow  which means that
p kt  p kk     p k  t
where p wz is the cost of conversion of one w unit to one z unit  in other words  it is
always true that
kk  
k  t
kt
   min ps  sqk  t  sqk   sq  
    min ps  sqk     sq  
 
min ps  sqk   sq  

where sikt  

t 

r k

sirr  

proof  note that the double auction in the pivot market is the same as in the original
auction  since the supply curve of the pivot market is the same  and therefore ps is the
same 
we prove that this claim is true by checking the four possible cases 
kk  
k  t
and ps  sqk    sq  
  then
   if ps  sqk  t  sqk  sq  
kk  
k  t
kt
kt
  sq  
  sq  
 min ps  sqk   sq  
    p kt
p kk     p k  t   sq  

   

ficoncurrent auctions across the supply chain

kk  
k  t
   if ps  sqk  t  sqk  sq  
and ps  sqk    sq  
  then
k  t
 
p kk     p k  t    ps  sqk  t  sqk     sq  
k  t
 ps  sqk      sq  
 sqk  t    ps  sqk  p kt
k  t
since sq  
 sqk  t  
kk  
k  t
   if ps  sqk  t  sqk  sq  
and ps  sqk    sq  
  then
kk  
   ps  sqk      
p kk     p k  t   sq  
kk  
 sqkk       ps  sqk    p kt
 ps  sqk      sq  
kk  
since sq  
 sqkk    
kk  
k  t
and ps  sqk    sq  
  then
   if ps  sqk  t  sqk  sq  

p kk     p k  t    ps  sqk  t  sqk      ps  sqk      
 ps  sqk      ps  sqk    sqk  t     ps  sqk    p kt
since ps  sqk     sqk  t   sqt  
so we have proven that the payment can only grow by splitting a conversion market 
we conclude that the cost of one unit of c t is never smaller than ps   since by the
rst lemma  it is true if there was only one conversion  and by induction and the second
lemma  splitting the conversion market into all t    conversion markets can only increase
the cost 

references
archer  a     tardos  e          truthful mechanisms for one parameter agents  in proceedings of the   nd ieee symposium on foundations of computer science  pp         
babaio  m         
concurrent auctions across the supply chain  m sc  thesis  department of computer science  hebrew university of jerusalem  israel 
http   www cs huji ac il mosheb 
babaio  m   nisan  n     pavlov  e          mechanisms for a spatially distributed market 
in  th acm conference on electronic commerce  pp      
babaio  m     walsh  w  e          incentive compatible  budget balanced  yet highly
ecient auctions for supply chain formation  in decision support systems  in press 
partial version appeared in ec   
bosch domenech  a     sunder  s          tracking the invisible hand  convergence of
double auctions to competitive equilibrium  tech  rep   carnegie mellon university 
   

fibabaioff   nisan

chatterjee  k     samuelson  w          bargaining under incomplete information  operations research             
clarke  e  h          multipart pricing of public goods  public choice       
feigenbaum  j     shenker  s          distributed algorithmic mechanism design  recent
results and future directions  in  th international workshop on discrete algorithms
and methods for mobile computing and communications  pp      
friedman  d     rust  j          the double auction market institutions  theories  and
evidence  addison wesley publishing company 
goldberg  a  v     hartline  j  d          envy free auctions for digital goods  in  st acm
conference on electronic commerce  pp        acm press 
groves  t          incentives in teams  econometrica         
lehmann  d  j   ocallaghan  l  i     shoham  y          truth revelation in approximately
ecient combinatorial auctions  journal of the acm                 
mas collel  a   whinston  w     green  j          microeconomic theory  oxford university press 
mcafee  r          a dominant strategy double auction  journal of economic theory     
       
mualem  a     nisan  n          truthful approximation mechanisms for restricted combinatorial auctions   in aaai  poster         also presented at dagstuhl workshop on
electronic market design 
myerson  r  b     satterthwaite  m  a          ecient mechanisms for bilateral trading 
journal of economic theory             
nisan  n     ronen  a          algorithmic mechanism design  in proceedings of stoc
      pp         
osborne  m  j     rubinstein  a          a course in game theory  mit press 
parkes  d  c   kalagnanam  j     eso  m          achieving budget balance with vickreybased payment schemes in exchanges  in ijcai  pp           
rustichini  a   satterthwaite  m  a     williams  s  r          convergence to eciency
in a simple market with incomplete information  econometrica                   
satterthwaite  m     williams  s          bilateral trade with the sealed bid k double
auction  existence and eciency  journal of economic theory             
satterthwaite  m  a     williams  s  r          the bayesian theory of the k double auction 
in the double auction market institutions  theories  and evidence  pp        
vickrey  w          counterspeculation  auctions and competitive sealed tenders  journal
of finance      
   

ficoncurrent auctions across the supply chain

walsh  w     wellman  m          decentralized supply chain formation  a market protocol
and competitive equilibrium analysis  journal of articial intelligence research     
       
walsh  w  e   wellman  m  p     ygge  f          combinatorial auctions for supply chain
formation  in  nd acm conference on electronic commerce  pp         
wilson  r          incentive eciency of double auctions  econometrica               

   

fi