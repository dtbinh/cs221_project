journal artificial intelligence research                  

submitted        published      

text based twitter user geolocation prediction
bo han

hanb   student  unimelb   edu   au

university melbourne  vic       australia
nicta victoria research laboratory

paul cook

paulcook   unimelb   edu   au

university melbourne  vic       australia

timothy baldwin

tb   ldwin   net

university melbourne  vic       australia
nicta victoria research laboratory

abstract
geographical location vital geospatial applications local search event detection 
paper  investigate improve task text based geolocation prediction twitter
users  previous studies topic typically assumed geographical references  e g  
gazetteer terms  dialectal words  text indicative authors location  however 
references often buried informal  ungrammatical  multilingual data  therefore
non trivial identify exploit  present integrated geolocation prediction framework
investigate factors impact prediction accuracy  first  evaluate range feature
selection methods obtain location indicative words  evaluate impact nongeotagged tweets  language  user declared metadata geolocation prediction  addition 
evaluate impact temporal variance model generalisation  discuss users differ
terms geolocatability 
achieve state of the art results text based twitter user geolocation task 
provide extensive exploration task date  findings provide valuable insights
design robust  practical text based geolocation prediction systems 

   introduction
growing volume user generated text posted social media services twitter  facebook  tumblr leveraged many purposes ranging natural disaster response targeted advertising  tuten        nunez redo  daz  gil  gonzalez    huerta        yin  lampert 
cameron  robinson    power         many circumstances important know users location order accomplish tasks effectively  example  disaster response managers must
know direct resources order effectively coordinate aid  advertisers could benefit
tailoring advertisements users location  similarly  search results localisation hinges
knowledge users location  although many social media services allow user declare
location  metadata known unstructured ad hoc  hecht  hong  suh    chi       
 e g   melbo denoting melbourne  au      well oftentimes non geographical  e g  
   throughout paper  present city names iso        alpha   country level designators au  
australia ca   canada  us based city names mentioned context north american
regional dataset used experimentation  na   use iso        us designator us ca   california
us pa   pennsylvania 
c
    
ai access foundation  rights reserved 

fih   c ook   baldwin

little bubble   text based geolocation automatically predicting users location based
content messages therefore becoming increasing interest  e g   cheng  caverlee   
lee        others   paper investigate improve text based geolocation prediction
twitter users  specifically  exploit tweets profile information given user infer
primary city level location  claim sufficiently fine grained support sorts
applications mentioned above 
well established previous work  e g   wing   baldridge        others   reasonable assume user posts social media reflect geospatial locum  lexical priors
differ region region  example  user london much likely talk piccadilly tube user new york beijing  say words uniquely
associated london  course  tube could certainly mentioned user outside uk 
however  use range words high relative frequency strongly indicative
fact user located london  work area utilises geotagged data ground truth
evaluation  e g   eisenstein  oconnor  smith    xing        others   geotagged data
contains gps coordinates inserted users consent gps enabled device smartphone  offers accurate information users position time tweeting  although
approaches text based geolocation offering increasingly promising results  studies date
topic limited number important ways  raise key issues section
  investigate turn  focusing following issues 
    location indicative words
text based geolocation prediction models social media predominantly based full text
data tweets  including common words geospatial dimension  e g   today   potentially
hampering prediction  large number words observed tweets  leading
slower  memory intensive models  tackle automatically finding location indicative
words  liws  via feature selection  demonstrating reduced feature set boosts geolocation accuracy  section    carry extensive evaluation wide range feature selection
methods proposed literature  show information gain ratio based approach outperforms benchmark geolocation prediction methods      percentage points terms accuracy 
reduces median prediction error distance    km publicly available regional  north
america  dataset  similarly demonstrate effectiveness liw selection global dataset
section   
    non geotagged tweets
addition experimenting geotagged data  extend analysis incorporate nongeotagged tweets  recent work  e g   roller  speriosu  rallapalli  wing    baldridge       
incorporated non geotagged training data  although little work analysed contribution
non geotagged data  i e   extent incorporating non geotagged data improves geolocation accuracy  furthermore  evaluation previous models restricted geotagged data
 in order access ground truth  although goal line research able
infer locations users whose locations known  however  unclear well models
evaluated geotagged data generalise non geotagged data  example  geotagged tweets sent gps enabled devices smartphones  non geotagged tweets
   

fit ext based witter u ser g eolocation p rediction

sent range devices  including desktop computers   two types data could
different characteristics  gouws  metzler  cai    hovy        
section    address issues training testing geotagged tweets  non geotagged
tweets  combination two  show exploiting users non geotagged tweets 
city level accuracy improved             benchmark dataset  underlining
potential contribution non geotagged data  furthermore  numbers suggest
model trained geotagged data indeed generalises non geotagged data  although sub domain
differences geotagged data non geotagged data observed 
    language influence
exceptions  e g   kinsella  murdock    ohare         text based geolocation
studies carried english only setting  primarily english setting 
high accuracy language identification tools  lui   baldwin        nakatani        readily
available  problem  messages target language identified  text based
geolocation methods applied messages  however  remains seen whether
text based geolocation approaches shown work well english perform well
languages  perform well multilingual setting  english tweeted throughout
world  whereas languages indonesian primarily tweeted localised areas  such 
performance methods developed tested english data could different applied languages  investigate language influence multilingual dataset section
   results suggest model indeed generalises monolingual english multilingual setting  furthermore  experiments reveal geolocation prediction much easier
languages geographically restricted use  e g   indonesian  languages
diverse usage  e g   english   go show composite model consisting
number monolingual geolocation models based language identification outperforms model
trained multilingual data 
    metadata ensemble learning
although tweet based geolocation worthy study right  tweets accompanied
rich metadata public user profiles  metadata included payload json objects containing tweets  offers complementary information may exploited improve accuracy 
e g   timezone data user declared location  work utilising
timezone  mahmud  nichols    drews        user declared location  hecht et al         information user geolocation  metadata remains largely untouched literature  section
   investigate performance metadata based geolocation models compare
benchmark methods  show incorporating information metadata tweet message stacking based approach  city level accuracy        median prediction error
distance  km  achieved global dataset  substantial improvement
base classifiers 
    temporal influence
twitter growing evolving medium  data twitter streams tends locally temporal time posting  addition evaluating geolocation model old
   

fih   c ook   baldwin

time homogeneous data  sampled time period training data   section   
evaluate trained model new time heterogeneous dataset  collected approximately one year training test data used earlier experiments  observed
moderate decline results indicates stacked geolocation model indeed influenced
temporal changes  error analysis reveals primarily caused unreliability
base model trained user declared locations  contrast  find models trained tweet
text timezone information relatively insensitive temporal changes  finding
one hand justifies efforts to date pursuing better text based geolocation prediction 
hand suggests user declared location data used  model periodically
updated remain current temporal changes 
    user geolocatability prediction confidence
discuss geolocatability users regard tweeting behaviour section    
instance  mentioning many local place names strong influence prediction
accuracy  experiments suggest number liws  in particular  gazetted location names 
user declared metadata key geolocating user  different tweeting behaviours
among users  users equally geolocatable  predictions proportion
reliable  conduct pilot study approximating prediction confidence
range variables section    
paper advances state of the art text based geolocation prediction number
directions  provides practical guidelines design text based geolocation application 
paper builds previously published work  han  cook    baldwin      b       
much extensive evaluation  new work following areas 
large scale comparative evaluation twelve feature selection methods user geolocation
nine considered earlier work sections    
analysis impact training non geotagged data section   
new set experiments  subsequent analysis  examining influence language
section   
analysis utility user supplied metadata ensemble learning section   
more detailed analysis model generalisation temporal change section    including
city level meta analysis 
new pilot study user geolocatablility privacy section    
proposed text based method primarily uses words geolocation prediction  intentionally excludes twitter specific entities  hashtags user mentions  prediction accuracy
therefore largely depends whether text contains sufficient geospatial information geolocation prediction  therefore  although paper focuses exclusively twitter  proposed method
could equally applied forms social media text  facebook status updates
user submitted comments  to services youtube  
   

fit ext based witter u ser g eolocation p rediction

   related work
acknowledging potential privacy concerns  mao  shuai    kapadia        pontes  vasconcelos  almeida  kumaraguru    almeida         accurate geolocation prediction key driver
location specific services localised search  target research across
different disciplines  example  tagging user queries  wang  wang  xie  forman 
lu  ma    li        backstrom  kleinberg  kumar    novak        yi  raghavan    leggetter 
      web pages  ding  gravano    shivakumar        amitay  harel  sivan    soffer       
zong  wu  sun  lim    goh        silva  martins  chaves  afonso    cardoso        bennett 
radlinski  white    yilmaz        considered information retrieval  geographical
information science  primary focus recognising location mentions text  leidner
  lieberman         named entity recognition tools typically employed detect extract
mentions  quercini  samet  sankaranarayanan    lieberman        gelernter   mushegian 
       within social media realm  geolocation methods applied images flickr
 crandall  backstrom  huttenlocher    kleinberg        serdyukov  murdock    van zwol       
hauff   houben        ohare   murdock        laere  schockaert    dhoedt         wikipedia
articles  lieberman   lin         individual tweets  kinsella et al          twitter users  eisenstein
et al         cheng et al         kinsella et al         wing   baldridge        roller et al        
han et al       b   identifying words topics twitter salient particular
regions  eisenstein et al         yin  cao  han  zhai    huang        hong  ahmed  gurumurthy 
smola    tsioutsiouliklis        dalvi  kumar    pang        
identifying twitter users locations non trivial  mainly due unavailability reliable
geographic information  although twitter allows users declare location user profile 
location descriptions unstructured ad hoc  cheng et al         hecht et al          e g  
people use vernacular expressions philly  non standard spellings filladephia 
refer philadelphia  non geographical descriptions heart commonly found 
without appropriate processing  value location fields greatly limited  hecht et al 
       demonstrate trivially using location fields off the shelf geolocation tools ineffective  alternatively  tweets sent mobile devices geotagged accurate gps
coordinates  however  proportion geotagged tweets estimated mere     cheng
et al          location vast majority users geotagged  methods based
ip addresses  buyukokkten  cho  garcia molina  gravano    shivakumar        applied
task  general web contexts shown achieve around     accuracy mapping
internet hosts locations  padmanabhan   subramanian         methods applicable twitter many social media services  however  ip address device
message sent cannot accessed via public apis  doubtless twitter
access information use user geolocation  although even here  geographical divisions ip addresses always credible  instance  departments international
corporation might use ip address range  true locations could spread across
world  vpns complication approaches  third party service provider making
use twitter data  however  look sources geospatially identifying information 
including text content users posts metadata information  targeted research 
spatial data mining community  geographical references  e g   gazetteer terms  text
exploited infer geolocation  intuitively  place frequently mentioned user
tweets  likely tweeting region  methods building intuition range
   

fih   c ook   baldwin

naive gazetteer matching rule based approaches  bilhaut  charnois  enjalbert    mathet        
machine learning based methods  primarily based named entity recognition  quercini et al  
      gelernter   mushegian         despite encouraging results approach longer
homogeneous documents sets  quercini et al          performance impeded
nature tweets  short informal  chances user mentioning gazetted
places tweets high  moreover  handling vernacular place names  e g   melbo
melbourne  approach limited  reliance named entity recognition thwarted
unedited nature social media data  spelling capitalisation much ad hoc
edited document collections  ritter  clark  mausam    etzioni        han  cook    baldwin 
    a  
moving beyond off the shelf solutions  recently  many robust machine learning methods
applied geolocation  primary approach estimate locations based
textual content tweets  instance  cheng et al         exploit words known primarily used particular regions  along smoothing techniques  improve simple generative
geolocation model applied data continental united states  wing baldridge
       divide worlds surface uniform size grid  compare distribution words
given users tweets grid cell using kullback leibler  kl  divergence identify
users likely location  one limitation approach grid cells rural areas tend
contain tweets  many tweets urban grid cells  roller et al 
       therefore extend method use adaptive grid representation cells contain
approximately amount data  based k d tree  bentley         kinsella et al        
examine geolocation prediction different granularities  e g   zip codes  city  state country  
chang  lee  m   lee        prune noisy data based geometrically local words  i e   words
occur geographically close other  found limited number cities 
non stop words dis similar stop words  experiment reduced feature set
using gaussian mixture model maximum likelihood estimation location prediction 
beyond purely text based methods  language model based methods   sources information
integrated  li  serdyukov  de vries  eickhoff  larson        investigate geolocation prediction based linear rank combination text temporal factors  mahmud et al 
       combine timezone information content based classifiers hierarchical model geolocation  particular  nouns  hashtags  place names considered content method 
schulz  hadjakos  paulheim  nachtwey  muhlhauser        combine scores various geographical sources  e g   tweet text  user profile data   sum scores location represented
aggregated height polygon partitioned map  highest polygon predicted
location 
topics discussed twitter vary across geographical regions  intuitively  instance  americans likely talk nba baseball australians  who probably mention afl
rugby often   capture regional topic variations twitter  topic modelling based
approaches used incorporate geographical regions generative process 
instance  eisenstein et al         introduce geographical variable  r   instead generating observed word w per word topic distribution z standard latent dirichlet allocation
 lda  model  blei  ng    jordan         proposed approach refines step additionally
modeling topic distributions across different geographical regions  i e   w generated
per word region topic distribution rz   therefore  observed user locations generated
geographical regions region variable topic modeling linked user geographical
   

fit ext based witter u ser g eolocation p rediction

locations  generally  users location predicted regional level adopting location
centroid geotagged tweets region  hong et al         improve approach
considering fine grained factors additive generative model  addition introducing
per region topic variance  incorporate per user topic variance  regional language model 
global background topics  compensate computational complexity associated
extra hidden variables  adopt sparse modeling inference  top geolocation prediction tasks  many research problems involve modelling geographical locations 
dalvi et al         exploit impact geographical locations users discussions pre defined
objects  e g   restaurants  tweets  yin et al         propose ways discover compare topics
geographical regions jointly modelling locations text  despite benefits incorporating per region topic variance models  concerns prevent us using topic modeling
approaches study  first  temporal currency geographical topics limited  e g  
olympics playoffs  temporally specific topics less indicative location future inference  e g   geolocating users model trained  furthermore  topic modelling
generally computationally expensive  suffers efficiency problems applied large volumes data  available social media  therefore experiment language
model based methods better suited large scale data 
social network information  including explicit friendship relations  backstrom  sun   
marlow        sadilek  kautz    bigham        rout  bontcheva  preotiuc pietro    cohn       
implicit social interactions  chandra  khan    muhaya        jurgens         shown
effective predicting locations  city level prediction results range approximately   
     rout et al         depending wide range factors including user density social
network precise scope geolocation prediction task  however  social networks
dynamic  information often difficult obtain text data large scale 
instance  obtaining social network information requires multiple requests rate limited twitter
api reconstruct full social graph  therefore focus approaches based text 
metadata accompanies individual tweet  leave possibility integrating social
network information future work 

   key questions geolocation prediction framework
though various geolocation prediction approaches proposed adapted social media
data  fundamental questions remain  rest paper  address
questions turn 
given text based methods rely salient words local particular regions disambiguate
geolocations  location indicative words improve accuracy using full word
set 
model trained geotagged data generalise non geotagged data  impact
adding non geotagged texts training test data  inherent sub domain
difference geotagged non geotagged tweets given geotagged tweets primarily sent mobile devices 
geolocation prediction accuracy vary language  example  user primarily
tweets japanese geolocatable user tweets mostly english  language
   

fih   c ook   baldwin

influence accuracy  exploit improve multilingual geolocation prediction 
user declared text metadata provide geographical information complementary
tweets themselves  make use multiple sources textual data
produce accurate geolocation predictor 
twitter rapidly growing evolving  temporal factors influence model
generalisation  model trained old data perform comparably new test data 
perspective privacy protection  users tweeting behaviour affect
geolocatability  i e   ability model predict location  steps user
take reduce risk inadvertently leaking geographical information sharing
tweets public 
measures prediction confidence formulated estimate accuracy geolocation prediction 
paper  focus predicting twitter users primary  referred home  geolocation  following cheng et al         others  assume given user based
single city based location throughout time period study  approach geolocation prediction
text classification task  tweets city taken represent class  tweets
given user aggregated assigned users primary location  characterise geolocation prediction four key components  discuss turn below      representation
different geolocations      model      feature set      data 
    representation  earth grid vs  city
geolocations captured points  clustered based grid  wing   baldridge       
roller et al          city centres  cheng et al         kinsella et al         topic regions  eisenstein et al         hong et al          point based representation presents computational challenges  fine grained standard classification methods  dynamic location partitioning  granularity regions hard control potentially vary across time 
number regions variable depend dataset potentially vary across
time  fixed grid based representations hindered considerable variability
shape size geographical regions  coarse grained grid cell perhaps appropriate central
siberia  densely populated linguistically culturally diverse regions luxembourg 
doesnt lead natural representation administrative  population based language boundaries region  therefore opt city based representation  able capture
boundaries intuitively  downside representation inappropriate classifying users rural areas  see figure    however  bulk twitter users are 
unsurprisingly  based cities 
following han et al       b   use publicly available geonames dataset basis
city level classes   dataset contains city level metadata  including full city name  population  latitude longitude  city associated hierarchical regional information 
state country based in  london  gb  e g   distinguished london  ca 
   http   www geonames org  accessed october   th       

   

fit ext based witter u ser g eolocation p rediction

hence use city region country format represent city  e g   toronto  ca represented
toronto    ca     signifies province ontario ca signifies canada   
region coding schemes vary across countries  employ first  second level region
fields geonames region  furthermore  second level field specific  i e   longer
  letters setting   incorporate first level region field  e g   instead using
melbourne          au  use melbourne    au   moreover  cities sometimes
complex structure  e g   boston  us colloquially refers metropolitan area rather
city  made cities including boston  revere chelsea   collapse together cities
adjacent one another within single administrative region  follows 
   identify cities share region code  i e   located state 
province  county  etc   geonames dataset 
   region  find city c highest population 
   collapse cities within   km c c  
   select next largest city c  repeat 
   remove cities population less    k  remaining cities form citybased representation geolocations 
result methodology  boston  us ends single city  incorporating revere
chelsea   neighbouring manchester  us discrete city  incorporating bedford 
new hampshire  algorithm identifies total       collapsed cities throughout world 
    geolocation prediction models
various machine learning algorithms applied task multi class text categorisation 
however  many state of the art learning algorithms appropriate particular task
reasons scalability  example  support vector machines  vapnik        well suited
massively multi class problems  i e         cities case   finally  would ideally
learning algorithm easily retrained  e g   incorporate new training data
twitter data stream  such  primarily experiment simple learning algorithms
ensemble learning geolocation prediction 
      g enerative vs   iscriminative odels
generative models  e g   naive bayes  based estimation joint probability observing
word vector class  i e   p  w    w            wn   ci    w    w          words ci c
city combined set cities c   contrast  discriminative models based estimation
class given word vector  i e   p  c w    w            wn     objective models find
   country code information found http   download geonames org export dump countryinfo txt
   use great circle distance  vincenty        distance calculations experiments  opposed
euclidean distance  properly capture three dimensional surface earth  proximity cities varies
across world  e g   cities east coast united states much closer major cities
australia  therefore scope explore impact   km setting city label set  leave
future work 

   

fih   c ook   baldwin

city cmax c relevant probability maximised  experiments  experiment
models  instance  choose state of the art discriminative geolocation model based
kl divergence k d tree partitioned unigrams  kl   roller et al          adopt
generative multinomial naive bayes  nb  model  hecht et al         default benchmark 
two reasons      incorporates class prior  allowing classify instance absence
features shared training data      generative models outperform discriminative models
training data relatively scarce  ng   jordan         
      ingle vs   e nsemble odels
addition single model comparisons  e g   discriminative kl vs  generative nb sections  
    combine multiple base classifiers e g   heterogeneous nb models trained
twitter text user metadata improve accuracy  first  investigate
accuracies base classifiers correlations them  then  apply different ensemble
learning strategies section   
    feature set
predominantly  geolocations inferred based geographical references text  e g   place
names  local topics dialectal words  however  references often buried noisy tweet
text  lexical variants  e g   tmrw tomorrow  common words without geospatial dimension  e g   weather  twitter  prevalent  noisy words potential mislead
model slow processing speed  tackle issue  perform feature selection identify location indicative words  rather engineering new features attempting
capture named entities  e g   white house  higher order n grams  focus feature selection simple word unigrams  see section     partly pragmatic consideration 
unigram tokenisation simpler   partly  however  comparability past work  determining whether strategically selected subset words lead significant gains prediction
accuracy  see sections      
addition feature selection  feature set refined extended various
ways  instance  feature selection enhanced incorporating non geotagged tweet data 
furthermore  languages used shape feature set  words different languages
carry varying amounts geospatial information  e g   dutch primarily used
netherlands  dutch words usually location indicative english words  moreover  userprovided metadata  e g   location timezone  readily accessible tweet json objects 
metadata appended extra text features  addition features derived tweet text 
investigate impact factors later sections 

   certainly abundance twitter data train models over  number twitter users sufficient amounts geotagged tweets able perform geolocation prediction small  relative number
parameters model  the product number features classes  
   also  preliminary results named entities higher order n grams disappointing 

   

fit ext based witter u ser g eolocation p rediction

proportion tweets
 relative preceding step 

filtering criterion
geotagged
near city
non duplicate non foursquare
english

     
     
     
     

table    proportion tweets remaining filtering data based series cascaded criteria 
numbers based twitter corpus collected two months 

    data
geolocation prediction models primarily trained tested geotagged data   use
regional datasets  i e   geotagged tweets collected continental us  eisenstein et al  
      mahmud et al         global datasets  kinsella et al         han et al       b 
research  accessibility issues  e g   many tweets older datasets deleted
thus accessible now  data sparseness  e g     k users study
eisenstein et al          able experiment small number public datasets 
paper  employ three geotagged datasets 
   regional north american geolocation dataset roller et al          na hereafter  
benchmarking purposes  na contains    k users    m tweets  total    
pre defined cities  na used as is ensure comparability previous work section   
   dataset global coverage constructed us earlier work  han et al       b   world
hereafter   collected via twitter public streaming api     sep          feb 
      tweet collection shaped different evaluation tasks  e g   geotagged
english data world section    incorporating non geotagged english data world ng
section    multilingual geotagged data world ml section   rich metadata
world meta section   
   second dataset global coverage novel research  live   contains tweets
collected   year world  from   mar         may         analyse
influence temporal recency geolocation prediction  unlike two datasets  live
used test dataset  section    
world restricted english tweets order create dataset similar na  in
english predominant language   covering entire world  pre processed filtering data follows  first  non geotagged tweets removed  next  eliminated
tweets arent close city dividing earth         grid cells  discarding
tweet city geonames class set found   neighbouring grid
cells  assign user single city majority tweets occur 
   one exception cheng et al          train users whose user declared metadata location fields correspond canonical locations  e g   boston  ma   test users whose locations indicated gps coordinates
metadata 
   https   dev twitter com docs streaming apis

   

ficumulative distribution tweets

h   c ook   baldwin

   

   

   

  

                                   
top n  cities

 

 

number users
           

number users
   
     

figure    cumulative coverage tweets increasing numbers cities based    million geotagged tweets 

 

  
   
    
     
number geotagged tweets

 
 
  
   
    
mean distance city centre  kilometres 

figure    number users different numbers tweets  different mean distances
city center  world 

remove cities fewer    feature types  i e   word types  reduce data sparsity 
results      cities world  as opposed      cities full geonames class set  
eliminated exact duplicate tweets foursquare check ins  which encode user location
form im          that  non english tweets removed using langid py 
open source language identification tool  lui   baldwin         filtering summarised
table   shows proportion tweets remaining step  total number
users tweets world    m   m  respectively  similar na  development
test datasets contain   k users  remainder users used training  development test data sampled user least    geotagged tweets alleviate
data sparsity   tokenised tweets twitter specific tokeniser  adapted oconnor 
krieger    ahn        
although certainly instances social media users high mobility  li  wang   
chang         recent studies shown users tend tweet within limited region
 cho  myers    leskovec        hecht et al          analyse spread world
   restriction applied training data 

   

fit ext based witter u ser g eolocation p rediction

figure    terms of      number users least    geotagged tweets      number
users differing levels geographical spread tweets  measured average distance
users tweets centre city user allocated   
preliminary analysis shows users relatively small number geotagged tweets 
users stay near single city  e g       users geographical spread    kilometres
less   high proportion users average distance  km city centre artefact
geotagged tweets mapped city centre performing analysis  order
investigate coverage proposed city based partition  examine recall original
sample    million geotagged tweets  prior filtering  described above   analysis reveals
      tweets close  in neighbouring         grid cell  one pre defined
cities  top     cities contain     geotagged tweets filtering  shown
figure    supports assumption  geotagged  twitter users based cities 
    evaluation measures
formulated geolocation prediction task discrete class space use
city class set  possible use simple classification accuracy evaluate models  however 
given class labels location  in form latitudelongitude coordinates  
sensitise evaluation distance based predictive error  instance  correct
location user seattle  us  prediction portland  us arguably better prediction
los angeles  us  basis geospatial proximity  use number evaluation measures
capture spatial proximity  line previous work  wing   baldridge        roller et al  
        
   acc  city level accuracy  i e   proportion predictions correspond correct city 
   acc      proportion predictions within distance     kilometres     
miles  correct city level location  empirical measure  cheng et al        
relaxed version acc  capturing near miss predictions 
   acc c  country level accuracy  i e   proportion predicted locations
country corresponding true locations  measure useful applications relying
country specific twitter data  e g   sentiment analysis specific countries 
   median  median prediction error  measured kilometres predicted city centres
true geolocations  prefer use median  opposed mean  distance
median less sensitive wildly incorrect predictions e g   user london  gb
classified based sydney  au  contrast  mean distance increase substantially due small number extreme misclassifications  although effect limited
inherently bounded regional datasets na 
    geographical spread calculated random sub sample    tweets given user  efficiency reasons 
    recent work  priedhorsky  culotta  valle        additionally proposed set probabilistic metrics
evaluate tweet based geolocation prediction  including using expected distance tweets true point
location random point location drawn probability distribution geolocation model 
strongly support new direction geolocation modelling evaluation  depending application context 
argue point  region based representations related discrete evaluation measures equally important
user geolocation research 

   

fih   c ook   baldwin

   finding location indicative words
precise user locations individual messages embedded geotagged tweets form
latitudelongitude coordinates  mapping coordinates cities representing tweet
bag words  able make connections words  i e   features  cities  i e  
classes   section  present range methods ranking words location
indicativeness  i e   degree word associated particular cities  words either
explicitly  e g   place names  implicitly  e g   dialectal words  slang local references  encode
geographical information collectively referred location indicative words  liws  
words aim automatically identify  examples liws are 
   local words    local  used primarily single city  namely yinz  used pittsburgh
refer second person plural pronoun   dippy  used pittsburgh refer style fried
egg  something dipped coffee  hoagie  used primarily philadelphia 
refer kind sandwich    
   semi local words  n local  refer feature relatively limited subset cities 
namely ferry  found  e g   seattle  new york sydney   chinatown  common many
largest cities us  canada australia  much less common european
asian cities   tram  found  e g   vienna  melbourne prague 
addition liws common words  common  arent expected substantial
regional frequency variation  namely twitter  iphone today 
remainder section  present various feature selection methods identifying
liws  drawn work han et al       b   chang et al         laere et al         
feature selection methods broadly categorised three types      statistical      informationtheoretic      heuristic  reduce low utility words noise  feature selection methods 
remove words include non alphabetic letters  less   letters long 
word frequency      
    statistical based methods
statistical hypothesis testing often used determine whether event occurs chance  i e  
null hypothesis   i e   alternative hypothesis  particular confidence level  e g      
p          case  event defined co occurrence word city 
null hypothesis assumes co occurrence chance  i e   word city independent 
goal feature selection find wordcity pairs null hypothesis rejected 
       



l og  l ikelihood

  statistic commonly used examine degree independence random variables  contingency table representing observations variables formed  table   
general form statistic is 
n

 oi ei   


ei

    words identified aid datasets regional words dare  http   dare wisc edu  

   

fit ext based witter u ser g eolocation p rediction

c
ow c
ow c

w
non w word

c
ow c
ow c

table    contingency table word city co occurrence
oi represents observation  i e   co occurrence city  c  word  w    n
number cells table  ow c ow c denote occurrence word w city c non w
words cities c  respectively  ew c denotes expected frequency w c  calculated
marginal probabilities total counts n  
ow c   ow c ow c   ow c

n
n
n
  ow c   ow c   ow c   ow c

ew c   p  w  p  c  n  
n

  statistic larger number   distribution  respect degrees
freedom  in case      null hypothesis city c word w independent rejected 
many statistical tests    ineffective counts low  address
word frequency thresholding use massive amounts training data 
conventionally    used identify set features satisfies pre defined confidence
level  e g   p          however  case liw selection  instead use   statistic rank
wordcity pairs  selection liws deferred parameter tuning state 
boundary liws common words optimised using development data 
point  different ranking liws produced per city  desire global
ranking liws capturing ability discriminate cities combined label set 
various ways aggregation  suggested laere et al          one approach
selecting n features based   iteratively aggregate top m features city
n features obtained  alternatively  ranked based highest scoring occurrence
given word city  first sorting cityword   test pairs  selecting first
occurrence word type aggregated ranking  two aggregation approaches produce
different feature selection rankings  distinguished using chi maxchi   respectively   
similar   test  log likelihood ratio  loglike  dunning        applied
liw selection  laere et al          loglike test determines whether h   the null hypothesis 
i e   word independent city  likely h   the alternative hypothesis  i e  
word dependent city   following dunning  likelihood hypothesis  l    estimated
using binomial distributions 
   
   
k 
k 
n  k  n 
n  k  n 
l h      p     p   
p    p   
k   
k 
p    p  w c   

ow c
k 
 
n 
ow c   ow c

    one possible alternative computing   word city  aggregating values final
ranking words  would compute single   value word contingency table   rows
table    one column per city  nevertheless  standard use   feature selection 
leave possibility future work 

   

fih   c ook   baldwin

ow c
k 
 
n 
ow c   ow c
k   k    represents occurrences word w city c  not city c   n   n    represents word
occurrences city c  not city c   l h    special case l h    p  p  equal 
below 
p    p  w c   

ow c   ow c
n
loglike test statistic expanded using observations 
p    p    p  

loglike w      ow c log ow c   ow c log ow c   ow c log ow c   ow c log ow c   n log n
 ow c   ow c   log ow c   ow c    ow c   ow c   log ow c   ow c  
 ow c   ow c   log ow c   ow c    ow c   ow c   log ow c   ow c   
calculated loglike wordcity pair  aggregate across cities similarly
chi  by selecting top m features per city n features obtained   following laere et al 
         
      r ipley k tatistic
spatial information incorporated hypothesis testing  example  ripley k
function  ripley  osullivan   unwin        measures whether given set points generated
homogeneous poisson distribution  test statistic calculates number point pairs
within given distance square total number points  regards liw
selection  set points  qw   subset geotagged users using particular word w  test
statistic formulated follows  laere  quinn  schockaert    dhoedt        
k    

  p  q qw   distance p  q    
 qw   

represents total area consideration  e g   whole north america 
whole globe   dropped generating ranking 
larger value k   indicates greater geographical compactness set qw  i e   p q
spatially close   however   qw    i e   number users use word w  varies considerably
across words  dominate overall statistic  number variations proposed
alleviate effect  including replacing denominator factor based l   taking
logarithm overall value  laere et al          quadratic computational complexity
ripley becomes issue  qw   large  i e   common words   randomised methods
usually adopted tackle issue  e g   subsampling points training data ripley calculation relative different distances   experiments  adopt optimised implementation
laere et al  using      km  k samples 
    information theory based methods
addition statistical methods  experiment information theoretic feature selection
methods based measures shown effective text classification tasks  e g  
information gain  ig   yang   pedersen        
    note that  see later experiments  almost empirical difference two
aggregation methods     choice aggregation method largely arbitrary 

   

fit ext based witter u ser g eolocation p rediction

      nformation g g r atio
information gain  ig  measures decrease class entropy word brings about  higher
values indicate greater predictability basis feature  given set words w  ig
word w w across cities  c  calculated follows 
ig w    h c  h c w 
h c w 


p  w 
p  c w logp  c w    p  w 
p  c w logp  c w 
cc

cc

p  w  p  w  represent probabilities presence absence word w  respectively  h c  words  h c w  conditional entropy given w
needs calculated rank features 
words carry varying amounts intrinsic entropy  defined as 
iv  w    p  w logp  w  p  w logp  w 
local words occurring small number cities often low intrinsic entropy  nonlocal common words high intrinsic entropy  akin inverse city frequency  see section        
words comparable ig values  words smaller intrinsic entropies preferred 
therefore  following quinlan        normalise ig w  using intrinsic entropy
word w  iv  w   culminating information gain ratio  igr  
igr w   

ig w 
iv  w 

      l ogistic r egression  based f eature w eights
previous two information theoretic feature selection methods  ig igr  optimise across
classes simultaneously  given liws may strongly associated certain locations 
less tied locations  conduct per class feature selection based logistic
regression  lr  modelling    consider method information theoretic
maximisation entropy cases uncertainty training data 
given collection cities c  lr model calculates probability user  e g   represented
word sequence  w    w            wn   assigned city c c linearly combining eligible lr
feature weights 
p  c w    w            wn    



 
exp 
k fk  
z
k  

z normalisation factor  total number features  fk k features
feature weights  respectively  discriminative models  possible incorporate
arbitrary features lr  however  feature  function  task canonically defined word
wi city c  w occurs set messages users class c  feature fk  wi   c 
    logistic regression modeller  use toolkit zhang le  https   github com lzhang   maxent  
   iterations l bfgs  nocedal        training data 

   

fih   c ook   baldwin

denoted  class   c wi c   fk maps feature weight denoted k r  method
results per city word ranking words ranked decreasing order k  
derive combined feature ranking manner maxchi   following han et al       b    
notably  incorporating regularisation factor balances model fitness complexity  could
potentially achieve better results  dont explicitly perform regularisation modelling stage 
instead  first obtain feature list ranked lr feature selection methods
evaluate subset top n ranked features development data  fact equivalent
filter based regularisation  cf  filter based feature selection  guyon   elisseeff        
leave experimentation regularisation integrated models future work 
      istribution ifference
liw selection likened finding words maximally dissimilar stop words  chang
et al          stop words today widely used across many cities  thus exhibit
relatively flat distribution  contrast  liws predominantly used particular areas 
skewed distribution  capture intuition  liw selection based
distribution difference across cities stop words potential liw candidates  i e  
non stop words   given pre defined set stop words s  distribution difference calculated
as 
distdi  wns    



di  wns   ws  

ws

count ws  
count s 

count ws   count s  denote number occurrences stop word ws total
number occurrences stop words  respectively  difference  i e   di  wns   ws   
stop word ws non stop word wns evaluated various ways  e g   symmetric kldivergence  distdiskl    total variance  distditv   absolute probability difference across
cities c  chang et al         
diskl  wns   ws    



p  c wns   log

cc

ditv  wns   ws    



p  c ws  
p  c wns  
  p  c ws   log
p  c ws  
p  c wns  

 p  c wns   p  c ws   

cc

p  c wns   p  c ws   denote probability word occurring city per word
city distribution wns ws   respectively  non stop words sorted distribution
difference decreasing order  experiments  use implementation chang et al  
    heuristic based methods
commonly used feature selection methods  number heuristics used select
liws 
      ecoupling c ity f requency w ord f requency
high utility liws following properties 
    loglike  choice aggregation method largely arbitrary  based empirical results    

   

fit ext based witter u ser g eolocation p rediction

   high term frequency  tf    reasonable expectation observing
users tweets city 
   high inverse city frequency  icf    word occur tweets associated relatively small number cities 
calculate icf word w simply as 
icf w  

 c 
cf w

c set cities cf w number cities users use w training data 
combining two together  seeking words high tf  icf   analogous seeking words
high tf  idf values information retrieval  standard tf  idf formulations  multiply
tf idf   simple product tf icf tends dominated tf component 
however  example  twitter scores highly jakarta  twitter high tf  
resolve decoupling two factors applying radix sort ranking  first rank features
icf tf   decreasing order  approach largely based inverse city
frequency  denote icf below 
      g eographical pread ensity
liws peaky geographical distributions  cheng et al          section  discuss two
heuristic measures liw selection based geographical distribution word 
geographical spread  geospread   laere et al         estimates flatness words distribution cities  first  earth divided   latitude   longitude cells  word
w  cells w occurs stored  then  neighbouring cells containing w merged
multi pass scanning cells merged  number cells containing w
merging stored  finally  geospread score word w calculated follows 
geospread  w   

  cells containing w merging
max  w 

max  w  represents maximum frequency w original unmerged cells 
smaller values indicate greater location indicativeness  measure originally used rank
flickr tags locality  e g   london location indicative beautiful  ignores influence stop words  common flickr tags  however  stop words
frequent twitter  occur many locations  making numerator small denominator
large  furthermore  stop word frequencies cells usually high  consequently  similarly small geospread london  undesirable  words  geospread flawed
able distinguish stop words local words  although effective ranking
less common words  e g   london vs  beautiful  
geographical density  geoden  chang et al         strategically selects peaky words occurring
dense areas  given subset cities c c word w w used  geoden calculated
   

fih   c ook   baldwin

as 




cc

geoden w   
 c   
 c  

cj  ck c j k dist cj  ck  
 c    c    





 

p  c w 

cc

p  c w 

cj  ck c j k dist cj  ck  
 c   

dist cj   ck   great circle distance cities cj ck   similarly  p  c w  denotes
distribution word w across city c c   denominator made square
number cities  c   w occurs  which similar effect icf above  
average distance cities w used  liws generally skewed geographical
distribution small number locations  meaning denominator small numerator
large  issue measure computational complexity common words occur
many cities  furthermore  cities containing small number occurrences w
incorporated  avoid systematic noise  e g   travellers posting trip  one approach
counter issues set minimum p  c w  threshold cities  perform randomised
sampling c   paper  follow chang et al  constructing final c   first  cities
containing w ranked p  c w  decreasing order  c formed adding cities according
rank  stopping sum p  c w  exceeds pre defined threshold r  choose r      
experiments  based findings chang et al  

   benchmarking experiments na
section  compare discuss proposed feature selection methods  particular 
investigate whether using liws geolocation prediction better using full
set features  various configurations models location partitions section     
subsequent experiments section exclusively based public na dataset  adopt
user partitions training  dev test used original paper  roller et al         
primarily use city based class representation experiments na  additionally
present results using original k d tree partitions learned roller et al  section      direct
comparability published results  distance based evaluation measures  acc    
median   calculate users location based centroid tweets  and  depending
class representation used  represent predicted location either   a  city centre   b 
user centroid given k d tree cell  case acc city based class representation 
map centroid user nearest city centre   km away  use basis
acc calculation  case city centre satisfies constraint    map
user null class  always misclassify user   
    comparison feature selection methods
first  compare effectiveness various feature selection methods na using citybased class representation  total     k features extracted training section na 
    occurs               test users 
    such  upper bound acc city based representation        note acc k d tree vs 
city based representation comparable  different class structure granularity 

   

fit ext based witter u ser g eolocation p rediction

   

acc   

   

   
icf
geoden
ripley
igr
loglike
chi

   

   
     

   

   

   

   

   

   

   

   

   

   

   

top n  features

figure    acc     varying levels feature selection na dataset  based citybased class representation 

select top n  features  step size     use selected features within
multinomial naive bayes learner  we return explore choice learner section      
tuning n methods based acc       k held out users development
data  present results sample feature selection methods figure    omitting methods
largely identical behaviour methods presented graph  namely 
 distditv   distdiskl   icf
maxchi chi
 lr  ig  geospread   loglike
methods  best result achieved proper subset features based feature
selection  although proportion features gives best results given method
varies greatly  e g   optima ripley  igr geoden               respectively  
observation agrees expectations that      small number features
used  trained model generally underfits data      model trained using full
feature set  noisy words  e g   the  cause overfitting  instance  using top   
features igr  likely class users features noting users feature
representation default majority class  namely los angeles  us ca monterrey  mx 
spanish words highly location indicative small number mexican cities
na dataset  features selected last generally high frequency function words  e g  
the  common words  e g   facebook   give little indication geolocation  lead
prediction errors 
two patterns observed results      chi   maxchi   ig  loglike  geospread   lr
ripley  i e   local methods  initially select features class  exception
   

fih   c ook   baldwin

ig ripley  achieve highest acc     early stage  numbers drop gradually      icf   igr  distdiskl   distditv geoden  i e   collective group 
select features classes once  gradually increase accuracy features added 
reach peak majority features selected  drop accuracy sharply 
difference behaviour attributed types word preferred methods 
local methods tend prefer   local words taking lr  example  city names  e g  
philadelphia  names upper level administrative regions  e g   georgia  frequently occur
upper reaches ranking  addition gazetted words  many local regional words
found upper reaches feature ranking  including informal place names  e g   philly 
informal name philadelphia  us pa   local transport references  e g   skytrain  public transport system vancouver  ca  local greetings  e g   aloha honolulu  us hi   however 
reasonable believe   local words words predominantly used one city
rarely mentioned cities common  result  accuracy bounded
limited number true   local words  could reason early  yet remarkably
high  peak accuracy  subsequent sharp decline  ripley  reliance pairwise
distances users using given word  ripley tends rank   local words highly  contrast 
collective methods assume words carry varying amounts geospatial information  leveraging combinations liws  true location user collectively inferred  instance 
brunswick common suburb street name many cities  e g   melbourne  au london  gb 
word alone insufficient make reliable predictions  however  liws  e g   tram
flinders  uniquely disambiguating themselves  observed 
chance location melbourne  au becomes high  since unlikely users
cities melbourne  au would use combination words  strategy
explained information theoretic terms  knowing words  extra information obtained 
consequently entropy continuously reduced prediction geolocation becomes
certain 
among feature selection methods  igr  geoden ripley stand out methods
terms acc      compare accuracy classifiers trained using optimised
set liws  based development data  full model  performance measured
  k held out test users  using city based class representation  results displayed
table    for subset feature selection methods displayed figure    
show using liws offers improvement full feature set evaluation measures
feature selection methods  except slight dips acc c igr geoden  nevertheless  numbers clearly demonstrate feature selection improve text based geolocation
prediction accuracy  igr performs best terms accuracy  achieving            absolute
improvements acc acc      respectively  full feature set 
    comparison benchmarks
compare best performing method section     number benchmarks
baselines  experiment two class representations      city based class representation based geonames      k d tree based partitioning roller et al         
creates grid cells containing roughly even amounts data differing geographical sizes 
higher population areas represented finer grained grids    class representations 
    recent work  schulz et al         considers irregular sized polygons  based administrative regions cities 

   

fit ext based witter u ser g eolocation p rediction

dataset

features

acc

acc    

acc c

median

na

full
icf
chi
igr
loglike
geoden
ripley

     
     
     
     
     
     
     

     
     
     
     
     
     
     

     
     
     
     
     
     
     

   
   
   
   
   
   
   

table    results full feature set compared representative sample
feature selection methodologies na city based class representation  best
numbers shown boldface 

compare learners without feature selection  observed previously  acc comparable across two class representations  results based distance based measures  acc    
median   hand  directly comparable  acc c results presented kd tree based class representation k d tree cells map cleanly onto national borders 
although could certainly take country centroid given k d tree cell lies
country label entire cell  approach would ignore known geo political boundaries 
consider following methods 
baseline  geographical distribution tweets skewed towards higher population
areas  as indicated figure     consider most frequent class baseline  assign
users coordinates most common city centre  or k d tree grid centroid 
training data 
placemaker  following kinsella et al          obtain results yahoo  placemaker   
publicly available geolocation service  first   k bytes  the maximum query length allowed placemaker  tweets user passed placemaker queries 
returned city centre predictions mapped collapsed city representations 
queries without results  predicted location outside north america  back
most frequent class baseline   
multinomial naive bayes  model used section     
kl divergence  previous best results na achieved using kl divergence k d
tree grid  roller et al          using k d tree  earths surface partitioned nearrectangular polygons vary size  contain approximately number users 
locations represented cells grid  kl divergence utilised measure
similarity distribution words users aggregated tweets grid
cell  predicted location centroid most similar grid cell   
    http   developer yahoo com geo placemaker   accessed august      
    alternative would query placemaker tweet  aggregate predictions  e g   selecting
majority location  get final user level prediction  however  kinsella et al         found accuracy
approach largely similar approach use 
    use settings roller et al          median based k d tree partition  partition containing
approximately      users 

   

fih   c ook   baldwin

partition

method

city

baseline
placemaker
nb
nb igr
lr
lr igr

acc

acc    

acc c

median

     
     
     
     
     
     

     
     
     
     
     
     

     
     
     
     
     
     

    
    
   
   
   
   

table    geolocation performance using city based partition na  results using optimised
feature set   igr  shown  best performing method evaluation measure class representation shown boldface 

partition

method

k d tree

baseline
nb
nb igr
kl
kl igr

acc

acc    

acc c

median

     
     
     
     
     

     
     
     
     
     







    
   
   
   
   

table    geolocation performance using k d tree based partition na  results using optimised feature set   igr  shown  best performing method evaluation
measure class representation shown boldface 

logistic regression  apply logistic regression section       learner  instead
modelling data  use igr selected features section      regularisation commonly employed logistic regression learners  made conscious choice
use experiments implementation regulariser would differ across
learners complicate direct comparison feature selection methods  i e  would
difficult tease apart impact specific regulariser feature selection   said that  objective maximise raw classifier accuracy distinct
exploring impact different features feature selection methods classification accuracy would advocate incorporation regulariser 
instead evaluating every possible combination model  partition feature set  choose
representative combinations test extent liws improve accuracy  results
city based partition shown table    begin considering baseline results  mostfrequent class city based representation los angeles  us ca    majority class
baseline placemaker perform well multinomial naive bayes  nb  logistic regression
 lr   high median distances  furthermore  using features selected section      i e   nb igr lr igr   performance improved large margin
models  demonstrating identification liws improve text based geolocation prediction  finally  although lr performs poorly compared nb  lr igr still improves substantially
    new york divided suburbs  manhattan ny    us  brooklyn ny    us  geonames 
artefact this  suburbs merged single city 

   

fit ext based witter u ser g eolocation p rediction

lr  plan explore reasons lrs poor performance future work  overall 
nb igr performs best city based representation terms acc  acc      median
distance 
turning k d tree based partition table    observe low performance
most frequent class baseline  i e   grid cell near new york state   nb kl representative
generative discriminative models  respectively evaluated using software provided
roller et al            approaches clearly outperform baseline k d tree class
representation  furthermore  performance increases using resultant feature set
liws    demonstrating variety approaches  identification liws improve textbased geolocation 
overall  compared previously published results k d tree based representation  kl  
igr based feature selection city based partition achieves       absolute improvement
terms acc      reduces median prediction error    km 
results k d tree based representation  clear kl nb better
task  terms acc      nb outperforms kl  kl igr outperforms nb igr 
differences small  however  suggesting two methods largely indistinguishable
user geolocation task  question class representation used user geolocation  empirically  seems little separate two  although experimentation
may shed light issue  city based approach intuitive  enables convenient
country level mapping coarser grained geolocation tasks  furthermore  observation
figure   suggests twitter users cities  therefore use city based partition
remainder paper consistency ease interpretation 
spin off benefit feature selection leads compact models 
efficient terms computational processing memory  comparing model based liws
selected using igr full model  find prediction time faster factor
roughly five 

   experiments world
addition establishing comparisons na  evaluate feature selection methods
world  extends evaluation regional benchmarks global geolocation performance  similar na  world reserve   k random users dev test 
remainder users used training  preprocessed described section      
experiments world related datasets  base evaluation city label set 
apply tuning procedure used na obtain optimal feature set
feature selection method  present results representative sample best performing
methods figure    again  omit methods largely identical behaviour
methods  namely 
 distditv   distdiskl   icf
 maxchi   chi   loglike  ig  geospread   lr
    https   github com utcompling textgrounder wiki rolleretal emnlp    
    note liws selected  small proportion users end features  users geolocatable
case kl  discriminative model  turn feature selection users  backoff full feature
set  number test instances consistent rows 

   

fih   c ook   baldwin

    

acc   

    
    
    
icf
geoden
ripley
igr
lr

    
    
     

   

   

   

   

   

   

   

   

   

   

   

top n  features

figure    acc     varying percentages features selected using representative feature selection methods world dataset 

biggest differences figure   are         based methods converge behaviour
lr  loglike related methods      lr performs marginally better loglike 
thus method present graph 
despite difference scope data size  overall trend world mirrors
na  particular  geoden  igr ripley achieve best acc     numbers dev data 
although numbers lower achieved na figure    world
fewer tweets per user na  as utilise geo tagged data   disambiguation
global level makes challenging task 
results multinomial naive bayes chosen feature selection methods world
shown table    geoden        igr       ripley       achieve best
accuracy  although clear winner  igr achieves best acc ripley achieves
best acc      nevertheless  improved city based acc acc     numbers confirm
general effectiveness feature selection  basis similar results earlier na
results  in igr delivers better results   adopt igr default liw feature selection
method remainder paper 
summary  findings utility feature selection table    na  table    world 
tell similar story  namely feature selection improves user geolocation accuracy  impact
feature selection na much greater world  world larger number
classes smaller average number tweets per user per class  making
challenging dataset 
   

fit ext based witter u ser g eolocation p rediction

dataset

features

acc

acc    

acc c

median

world

full
icf
igr
lr
geoden
ripley

     
     
     
     
     
     

     
     
     
     
     
     

     
     
     
     
     
     

   
   
   
   
   
    

table    results full feature set compared representative sample feature
selection methodologies world using nb  best numbers shown boldface 

train
g
g ng
g
g ng

test
g
g
g ng
g ng

acc
     
     
     
     

acc    
     
     
     
     

acc c
     
     
     
     

median
   
   
   
   

g
g ng

ng
ng

     
     

     
     

     
     

   
   

g
g

g small
ng small

     
     

     
     

     
     

   
    

table    results geolocation models trained tested geotagged  g  non geotagged
 ng  tweets  combination 

   exploiting non geotagged tweets
twitter based geolocation research carried date  eisenstein et al         wing   baldridge        trained geotagged tweets  tweets known geographical
coordinates  work  roller et al         incorporated non geotagged tweets
users whose location inferred geotagged tweets  clearly  possible effectively
utilise non geotagged tweets  data sparsity ameliorated  as arent restricting
training approximately    tweets known location   clear tradeoff
confidence place labels associated tweets users  section 
investigate utility non geotagged tweets geolocation prediction 
experiments section  rest paper  use world ng denote
dataset incorporates geotagged non geotagged tweets users
world  refer subparts dataset consisting geotagged non geotagged tweets
g ng  respectively     m tweets world ng    m geotagged remaining    m non geotagged  use partitioning users training  development 
testing sets world ng world  compare relative impact ng
train test geolocation method g  ng  combination  results presented
table   
first row table   shows results using geotagged data  our best result table
    rows two three  show results data user training test
   

fih   c ook   baldwin

datasets  respectively  expanded incorporate non geotagged data  without changing set
users label user either case   cases  evaluation measures 
performance substantially better benchmark  i e   first row   finding line
cheng et al s        results data spareness big issue text based geolocation 
validates hypothesis non geotagged tweets indicative location  best results
achieved non geotagged tweets incorporated training testing data  shown
row four   case achieve accuracy             percentage point increase
benchmark using geotagged tweets represent given user  moreover  prediction
within    km correct location almost one every two users  country level
accuracy reaches almost       
although research text based geolocation used geotagged data evaluation  ultimate goal line research able reliably predict locations users
location known  i e   non geotagged data  geotagged tweets
typically sent via gps enabled devices smartphones  non geotagged tweets sent
wider range devices  could systematic differences content geotagged
non geotagged tweets  examine issue rows five six table    test
model non geotagged data  case know test users gold standard location
based geotagged tweets  however geotagged tweets used represent user
test instance  instead  user represented non geotagged tweets  results
actually better experiments training data tested geotagged
tweets  i e   rows one two table     confirms model trained g g ng
indeed generalises ng data  however  clear whether finding due
much non geotagged geotagged data given user  whether property
non geotagged data makes easier classify  explore question  carry following additional experiment  first  construct new dataset ng small down sampling ng
contain number features per user g  in terms feature token count   make
comparison fairer  constructed second new dataset g small exclude
test users g tweets ng tweets  guarantees users ng small contain
number liws g small  average five iterations random subsampling 
list result final row table      see results ng small
good g small  i e   row seven   suggesting might minor sub domain differences
geotagged non geotagged tweets  though strong conclusion cannot drawn without
in depth analysis  one possible explanation could differences  e g   demographic variations  users non geotagged tweets users
non geotagged tweets geotagged tweets  however  comparing two sources beyond
scope paper  nonetheless  results suggest difference ng g largely due
abundant data ng  explanation supported recent work priedhorsky
et al         

    note evaluation exactly set users four cases  changes whether
incorporate extra tweets pre existing set users  training test data 
    remove users geotagged tweets test data  reducing number users marginally
             
    note calculated variance five iterations random subsampling  found negligible
evaluation measures 

   

fit ext based witter u ser g eolocation p rediction

summary  quantitatively demonstrated impact non geotagged tweets geolocation prediction  verified models trained geotagged data indeed applicable
non geotagged data  even though minor sub domain differences appear exist  established representing user combination geotagged non geotagged tweets
produces best results 

   language influence geolocation prediction
previous research text based geolocation primarily focused english data  studies
either explicitly excluded non english data  based datasets consisting primarily english messages  e g   selection tweets predominantly english speaking
regions  eisenstein et al         cheng et al         wing   baldridge        roller et al         
however  twitter multilingual medium languages might powerful indicators
location  example  user posts mostly japanese tweets  could strong indication
user based japan  could used bias class priors user  section 
explore influence language geolocation prediction  predominant language
given tweet identified using langid py    trained recognise    languages
 lui   baldwin        
create dataset consisting multilingual geotagged tweets  extract geotagged data
regardless language twitter crawl world based on  multilingual dataset consists   m tweets    m users    m tweets english world 
remaining   m tweets languages  figure   shows proportion tweets
fifteen common languages dataset    immediate observation large difference language distribution observe geo tagged tweets compared
observed tweets  irrespective geotag  hong  convertino    chi        baldwin  cook 
lui  mackinlay    wang         among higher density languages twitter  appears
weak positive bias towards english users geotagging tweets  strong negative bias
japanese  korean german users geotagging tweets  speculate
negative bias caused stronger concerns awareness privacy issues countries japan 
south korea  germany austria  explored question whether bias influenced
choice twitter client looking distribution twitter clients used post messages
english  german  japanese korean   a  overall  irrespective whether message
geotagged not   based  m sample tweets    sep         b  geotagged
tweets  based world  overall  found huge variety choice client used
within given language  with top    clients accounting       posts  depending
language   significant differences popular clients languages  e g  keitai web
popular client japanese  web english german  twitter android
korean   geotagged tweets  hand  much greater consistency 
three popular clients languages twitter ios  twitter android
foursquare  accounting relatively constant two thirds posts language 
suggestive fact choice client one factor biasing relative proportion
    based simplifying assumptions that   a  every tweet contains linguistic content   b  tweets monolingual  least predominantly single language 
    represent languages figure   using two letter iso       codes 

   

fih   c ook   baldwin

   
   
   

percentage

   

   

    

    

   

              

en

es

pt

ja

nl

                                                 
id



ru

de

tr

fr

ms

th

ko

ar

languages

figure    percentage tweets world ml written fifteen frequent
languages collected twitter data  fifteen languages account    
tweets full dataset 

geotagged tweets different languages  although research required fully understand
effect 
training  development test data re partitioned multilingual setting stratify
language  resultant dataset referred world ml  again  development
testing sets consist   k users each  remaining users training set world 
although section   showed adding non geotagged data improves geolocation accuracy 
experiments section based geotagged data  prohibitive computational cost experimenting much larger dataset  note doesnt limit generalisability results  simply means careful compare monolingual
results table   based geotagged tweets  the first row  
first compare geolocation performance multilingual setting english only
setting  comparison past work geolocation considered  data world ml
partitioned two subsets e ne according whether majority given
users tweets english non english  respectively    k test users world ml 
      english       non english  one challenge multilingual setting
experiments tokenisation  although rudimentary tokenisation many languages english
french accomplished using whitespace punctuation  tokenisation much
challenging languages japanese chinese represent word boundaries
   

fit ext based witter u ser g eolocation p rediction

train

test

e ne
e ne
e ne
e

e ne
e
ne
e

acc

acc    

acc c

     
     
     
     

     
     
     
     

     
     
     
     

median
   
    
   
   

table    results multilingual geolocation  training testing english  e  non english
 ne  users  combination 

whitespace  however  amongst most common languages twitter  as shown figure
    japanese language accounts substantial portion data       
requires specialised tokenisation strategy  compared english   japanese tweets
apply japanese morphological segmenter mecab  with ipa dictionary     post correct
tokenisation errors relating twitter specific tokens mentions  hashtags  urls  e g  
instances mecab over segments mention multiple morphemes   non japanese
tweets  apply tokeniser based regular expressions used previous english only
experiments 
resolving tokenisation issue  apply igr method section      
select optimised feature selection cut off  based acc development data  observe
much larger proportion tokens selected multilingual setting compared
english only experiments  example     k token types multilingual experiment 
   k  the top      selected location indicative  english only case   k  the top
     location indicative words selected total   k token types 
experimental results shown table      first row gives results training
testing full dataset english non english tweets  next two rows show
results testing english  e  non english  ne  subsets data  much lower
accuracy e compared ne indicates english tweets much difficult geolocate
non english tweets  one reason many non english languages 
strong bias towards small number cities  verify calculating class entropy
respective language training data  class probabilities smoothed using simple
add  method            where      size class set   shown table   
class entropy english  en  data largest  indicating english prevalent across large
number locations  contrast  thai  th  turkish  tr  much smaller entropies  suggesting
location distributions heavily skewed  user geolocation languages
easier english 
explore extent geolocatability user varies respect predominant language tweets  break results language table    
shows results top    frequent languages  by number tweets  least     users
test data  cut off users ensures consider under represented languages 
    http   sourceforge net projects mecab 
    english only results reported comparable experiment table   using
geotagged data  test sets consist different users two cases 

   

fih   c ook   baldwin

language

entropy

language

entropy

language

entropy

en
es
pt
ja
nl

     
     
     
     
     

id

ru
de
tr

     
     
     
     
     

fr
ms
th
ko
ar

     
     
     
     
     

table    geolocation class entropy top    languages

lang 
en
es
pt
id
nl
ja
ru
tr
ar
th


no 
    
   
   
   
   
   
   
   
   
   

per language majority class

unified multilingual

monolingual partitioning

acc acc     acc c med 

acc acc     acc c med 

acc acc     acc c med 

     
     
     
     
     
     
     
     
     
     

     
     
     
     
     
     
     
     
     
     

          
          
         
         
     
  
     
  
         
     
 
         
     
  

     
     
     
     
     
     
     
     
     
     

     
     
     
     
     
     
     
     
     
     

          
         
         
         
     
  
     
  
         
     
 
         
     
  

     
     
     
     
     
     
     
     
     
     

     
     
     
     
     
     
     
     
     
     

     
     
     
     
     
     
     
     
     
     

   
   
   
  
  
  
   
 
  
  

           

     

          

     

     

     

     

     

     

   

   

table     geolocation performance comparison top    frequent languages
multilingual test data  using     language prior  i e   city language mostly
used       unified multilingual model  i e   training testing multilingual data
regardless languages       language partitioned monolingual models  i e   first
identify primary language users  train one model per language  classify test
users model corresponding language tweets 

observe results vary remarkably language multilingual section table
    results overall lowest english  en   although lowest country level accuracy
arabic  ar   speculate caused large number countries arabic spoken
in  relatively small number arabic speakers training data  furthermore  citylevel accuracy better     indonesian  id   japanese  ja   russian  ru   turkish  tr 
arabic  ar   regions languages commonly spoken geographicallyrestricted english  suggesting geolocation accuracy languages smaller geographic footprints tend higher languages widely used throughout
larger geographical area  finding agrees recent work priedhorsky et al         
underlines power language information predicting locations  best city level
accuracy       observed turkish  one languages lowest city level entropy  
manually inspecting outputs  find model predicts city istanbul
turkish users  large proportion turkish tweets come city 
   

fit ext based witter u ser g eolocation p rediction

based finding  consider language based benchmark predicts
frequent city given predominant language users tweets  denoted per language majority
class   observe performance gap multilingual model english  the second
row table    english only model  the bottom row table     results show
target data known written single language monolingual model outperforms
multilingual one  suggests alternative approach multilingual geolocation prediction 
rather training predicting multilingual data  e ne   train evaluate models
language specific data  motivated observation  apply monolingual partitioned
model users particular language based langid py  i e   language partitions   e g  
selecting japanese users training data  applying japanese specific model
japanese users test data  denoted monolingual partitioning table    
contrasted simple approach combined model languages users  unified
multilingual  
comparing per language majority class unified multilingual model  find
unified model performs better overall  exception thai  th  dutch  nl  
associated small number cities  one city much larger
others  bangkok  th amsterdam  nl  respectively   relatively poor results
benchmark method languages english  en  spanish  es  frequent
twitter  relatively poor overall performance  per language majority class
appropriate method task  nevertheless  using monolingual partitioning model 
results far superior  partitioning effect language seen  suggests
modelling language independently improve geolocation performance 
summary  series experiments shown influence language geolocation prediction  among top    languages found twitter  english difficult perform user
geolocation over  english global language  despite language variance  multilingual
geolocation prediction certainly feasible  although best way leverage language geolocation prediction training language partitioned monolingual models geolocating users based
primary language 

   incorporating user meta data

metadata accompanying tweets valuable source geographical information beyond
available tweets  section  explore incorporating metadata information textbased geolocation system  begin selecting four metadata fields could potentially provide
insights location user  first evaluate models trained sources
information  consider number ways incorporate information metadata
best text based method developed section    discussed section    language
strong influence geolocation prediction  english posting users hardest geolocate 
such  experiment english data  i e   world ng  remainder paper 
   

fih   c ook   baldwin

data
training
test

loc

tz

desc

     
     

     
     

     
     

table     proportion users non empty metadata fields world ng
    unlock potential user declared metadata
choose following four user supplied metadata fields study  location  loc   timezone
 tz   description  desc   users real name  rname     contrast rich social network
information much expensive extract  metadata fields included
json object provided twitter streaming api  i e   extract metadata
extra crawling cost  information  however  dynamic  i e   users change profiles 
including metadata interest us  aggregating extracted tweet level metadata
user  calculate ratio users change metadata field      users changed
desc field approximately five months dataset collected 
time period  fields considered  less    users updated data 
given relatively small number profile updates  ignore influence changes 
use frequent value metadata field user experiments 
user supplied metadata imprecise inaccurate  user free
enter whatever textual information choose  example  loc fields accurate
descriptions geographical locations  e g   best place universe   moreover  although
loc fields canonical renderings users true location  e g   boston  ma  usa   large
number abbreviations non standard forms observed  e g   mel melbourne  au  
cheng et al         find small proportion location fields us based dataset
canonical locations  i e   form city  state   nevertheless  non standard inaccurate
location fields might still carry information location  kinsella et al          similarly
text tweets indicate location without explicitly mentioning place names 
metadata fields differ respect explicitness location information
encode  instance  loc tz give direct location information  desc might contain
references location  e g   geek lisp developer bangalore  although rname
directly encode location regional preferences names  bergsma  dredze  van durme 
wilson    yarowsky         e g   petrov might common russia  name hasegawa
might common japan  finally  tweets consider  text field  i e  
content tweet itself  rname always present  loc  tz  desc missing
user chosen supply information  proportion non empty metadata fields
loc   tz desc users world ng listed table    
    results metadata based classifiers
variable reliability explicitness selected metadata  incorporate
fields statistical geolocation model similar manner message text  prelimi    user supplied real name could name i e   necessarily users actual name different
field users screen name 

   

fit ext based witter u ser g eolocation p rediction

classifier
loc
tz
desc
rname
baseline
text

acc

acc    

acc c

median

     
     
     
     

     
     
     
     

     
     
     
     

  
    
    
    

     
     

     
     

     
     

    
   

table     performance nb classifiers based individual metadata fields  well baseline  text only classifier igr feature selection 

nary experiments  considered bag of words features metadata fields  well bag ofcharacter n gram features n                found character   grams perform best 
report results using features here   a bag of character   grams represents frequency
four character sequence including start end symbol   geolocation performance
classifier trained features metadata field isolation  well performance
frequent city baseline  baseline  best purely text based classifier  text  replicated
table     shown table    
classifier based metadata field outperforms baseline terms acc  acc     
median error distance  suggests metadata fields indeed encode geographicallyidentifying information  though classifiers less competitive text  notably  despite
potential noise user supplied location fields  classifier  loc  achieves even better
performance purely text based method  reaching city level accuracy      predicting location within    km true location half users  suggests loc
contains valuable information  even though loc fields noisy  cheng et al         
easily captured off the shelf geolocation tools  hecht et al          manual analysis suggests
many vernacular place names captured statistical modelling  kiladelphia
philly used represent philadelphia  utility metadata fields confirmed recent
work priedhorsky et al         
    ensemble learning text based classifiers
analyse behaviour four metadata classifiers  consider pairwise city level
prediction agreement them  cohens kappa  carletta        conventional metric
evaluate inter annotator agreement categorical items  such predicted cities case  
larger kappa values indicate higher pairwise agreement  double fault measure  giacinto  
roli        incorporates gold standard information  equal proportion test cases
classifiers make false prediction  measure offers empirical lowest error bound
pairwise ensemble classifier performance 
    although could certainly consider character n grams text based classifier  opted bag ofwords representation explicitly captures liws believe especially important geolocation 
could location indicative character n grams  exploration leave future work 

   

fih   c ook   baldwin

text

     

     

     

     

     

loc

     

     

     

     

     

tz

     

     

     

     

     

desc

     

     

     

     

     

rname

table     pairwise correlation base classifiers using cohens kappa  bottom left  light
grey  higher numbers indicate greater prediction similarity  double fault measure
 top right  white  lower numbers indicate greater prediction similarity  

pairwise scores cohens kappa double fault measure shown table    
kappa scores  bottom left table     low  indicating little agreement
classifiers  classifiers achieve better baseline performance  give quite
different outputs  might possible combine classifiers achieve better performance 
double fault results  top right  suggest improved accuracy could obtained
combining classifiers 
combine individual classifiers using meta classification  first adopt feature concatenation strategy incrementally combines feature vectors text  loc  tz  desc
rname   consider stacked generalisation  wolpert         referred simply stacking 
outputs base classifiers  true city level locations  used train
second classifier produces final output  base classifiers  second classifier 
referred l  l  classifiers  respectively  conventional applications stacking 
homogeneous training data used train heterogeneous l  classifiers  case  however 
train homogeneous l  multinomial bayes models heterogeneous data  i e   different types
data text  loc  tz   consider logistic regression  fan  chang  hsieh  wang   
lin        multinomial bayes l  classifier 
carry    fold cross validation training users obtain l   final  classifier
results  standard procedure stacking experiments  use stratified sampling partitioning
data number users different cities varies remarkably  simple random
sample could bias towards bigger cities  ensemble learning results tabulated table
   
combination text loc improvement loc  i e   best results far  
however  using feature concatenation multinomial naive bayes stacking  accuracy generally
drops metadata feature sets perform relatively poorly isolation  i e   tz  desc  rname 
incorporated  hand  using logistic regression stacking  see small increases
accuracy features perform less well isolation incorporated  though desc rname
moderately useful  as shown table      fields contribute little strong ensembles
 i e   text  loc tz   best model  using logistic regression stacking features 
assigns users correct city almost     test cases  median error
 km  moreover  approach country level accuracy reaches almost      indicating
effectiveness method coarse grained geolocation task 
   

fit ext based witter u ser g eolocation p rediction

feature concatenation
acc
acc    
     
     
     
     
     
     
     
     

  
  
  
  

features
text   loc
     tz
     desc
     rname

acc c
     
     
     
     

median
  
  
   
   

  
  
  
  

multinomial bayes stacking
features
acc
acc     acc c
text   loc
     
     
     
     tz
     
     
     
     desc
     
     
     
     rname      
     
     

median
  
  
  
  

  
  
  
  

logistic regression stacking
features
acc
acc     acc c
text   loc
     
     
     
     tz
     
     
     
     desc
     
     
     
     rname      
     
     

median
  
 
 
 

table     performance classifiers combining information text metadata using feature concatenation  top   multinomial bayes stacking  middle   logistic regression
stacking  bottom   features      tz refer features used row   
combination tz 

interesting observe that  found nb outperform lr standalone classifier
section      l  classifier  lr clearly outperforms nb  reason almost certainly fact use much smaller feature set relative number training instances
stacking experiments  circumstances  discriminative models tend outperform
generative models  ng   jordan        

    temporal influence
addition held out english test data world ng  developed new geotagged
test dataset measure impact time model generalisation  training test data
world ng time homogeneous randomly partitioned based data collected
period  contrast  new test dataset  live  much newer  collected  
year later world ng  given twitter users topics change rapidly  key question
whether statistical model learned old training data still effective new
test data  question implications maintenance retraining geolocation models
time  experiments section train world ng test new dataset 
live data collected    hours   mar         mar        based geotagged tweets users whose declared language english  recent status updates  up     
crawled user  langid py applied data remove remnant nonenglish messages  addition filtering users less    geotagged tweets test data
world ng  exclude users less     geotagged tweets one
   

fih   c ook   baldwin

features
   text
   loc
   tz
            

acc
     
     
     
     

features
   text
   loc
   tz
            

acc
     
     
     
     

world ng
acc     acc c
     
     
     
     
     
     
     
     
live
acc    
     
     
     
     

acc c
     
     
     
     

median
   
  
    
 

median
   
   
    
  

table     generalisation comparison time homogeneous world ng timeheterogeneous live               denotes stacking text  loc tz  

city  users geotagged tweets spread across different locations  less
credible adopt users frequent location true primary location evaluation 
post check world ng test data shows         k users satisfy requirement
geographical coherence  arent unnecessarily biasing data live applying
criterion  finally  status updates aggregated user level  world ng 
filtering    k users obtained  forming final live dataset 
use text  loc tz section  require less computation achieve
accuracy comparable best results  shown table     temporal factor impact
geolocation prediction model generalisation revealed accuracy world ng live
shown table     acc acc     numbers stacked model                drop
approximately     percentage points  respectively  live compared world ng 
median prediction error distance increases moderately  km   km  decomposing
stacked models evaluating base classifiers  find accuracy declines
primarily caused accuracy drops loc classifier new live data  approximately
   acc    acc      could viewed type over fitting  stacked
classifier relying heavily predictions loc base classifier  tz classifier
performs relatively constantly terms accuracy  although median error increases slightly 
text classifier remarkably robust  numbers except acc improving marginally 
investigate poor loc classifier generalisation live  first  down sample
live   k users  size world ng  compare per city prediction numbers two datasets using loc classifier  find two factors jointly cause accuracy
decrease live      composition test users      decline per city recall  instance     test users london  gb world ng  number sharply increases    
live  meaning influence london  gb test users overall accuracy live almost
doubled  furthermore  recall proportion users given location correctly
predicted location london  gb drops       world ng
      live  observe proportion empty loc fields among london  gb test users
jumps      world ng       live   reduces utility loc data live
   

fit ext based witter u ser g eolocation p rediction

rank

cities live

 
 
 
 
 
 
 
 
 
  

los angeles  us
kuala lumpur 
london  gb
jakarta  id
anaheim  us
singapore  sg
fort worth  us
chicago  us
pittsburgh  us
san antonio  us

live users

live recall

world ng users

world ng recall

   
   
   
   
  
  
  
  
  
  

     
     
     
     
     
     
     
     
     
     

  
  
  
  
  
   
  
   
  
  

     
     
     
     
     
     
     
     
     
     

table     number test users  recall using
live  compared world ng 

loc  

city  top    largest cities

explains per city recall drops  test users empty loc field assigned
city highest class prior model  i e   los angeles  us   overall  ratios empty
loc fields world ng test data live              respectively  suggesting
user declared locations live carry much less geospatial information world ng 
show comparisons top    cities terms test users table       accuracy
highly represented cities greater impact overall results smaller cities 
london  gb  cities shown table    experience lower recall scores live  many
test users live world ng  nevertheless  cities higher
recall test users live  e g   los angeles  us anaheim  us table     overall
numbers are  course  determined aggregated performance cities  provide insight        cities world ng     recall  number      
live 
important base classifier stacked model  loc accuracy numbers
influenced temporal changes  whether increased reluctance supply userdeclared location  although admittedly users geotag tweets   primarily due variance user proportions different cities sampled stream  either way  periodically retrained loc classifier would  doubt  go way towards remedying temporal gap  overall 
numbers suggest time homogeneous data  world ng  easier classify timeheterogeneous data  live   however  training old data testing new data
shown empirically viable text tz base classifiers particular  result
validates efforts optimise text based user geolocation classification accuracy  recently  similar
results tweet level geolocation prediction observed priedhorsky et al          supporting
claim accuracy geolocation prediction suffers diachronic mismatches
training test data 

    observe city proportions changed drastically world ng live  reasons
unclear  speculate due significant shifts microblogging usage different locations
around world 

   

fih   c ook   baldwin

    user tweeting behaviour
improved extended text based geolocation prediction  shift focus user
geolocatability  user wishes keep geolocation private  simply disable public
access tweets metadata  however  users choose share  non geotagged  tweets 
different tweeting behaviours make susceptible geolocation privacy attacks  investigate question  section  discuss impact user behaviour
geolocation accuracy relative predictions live based stacking model section
     
obvious first rule thumb  geotagged tweets avoided  provide
immediate access users geographical footprint  e g   favourite bars  office address 
second  immediate implication finding location metadata strong predictor
geolocation  section       user wants avoid privacy attacks  avoid presenting
location metadata  effect disabling loc base classifier stacked classifier  third  text
users posts used geolocate user  at approximately     acc  table     
investigate impact volume tweets user geolocatability  perform breakdown
results live across two dimensions      number liws  investigate whether
sheer volume tweets user makes geolocatable      source geospatial
information exploit geolocation model  evaluate questions figure  
four feature combination settings  relative the      tweet text based classifier      tweet textbased classifier gazetteer names removed        metadata stacking using loc tz  invariant
tweet number changes       stacking text  loc tz users  case 
partition data    partitions    users each  ranked total number liws
contained combined posts user  addition acc user partition 
indicate average number liws per user partition  as shown second y axis 
right side graph  
overall  liws contained users tweets  higher acc text based methods  gazetted terms removed tweets  acc drops large margin  suggests
gazetted terms play crucial role user geolocation  metadata contributes substantially accuracy  improving text based accuracy consistently  moreover  user tweets lot  acc
tweet text based approach comparable best model  even without access metadata
 as shown top right corner graph   overall recommendation  users wish
obfuscate location leave metadata fields blank avoid mentioning liws  e g  
gazetted terms dialectal words  tweets  make difficult best geolocation models infer location correctly  as demonstrated bottom left graph  
similar conclusion user geolocatability recently obtained priedhorsky et al         
help privacy conscious twitter users avoid geolocated tweets  made
list liws publicly available   

    analysis limited behaviours could easily adopted many users  given system predicts
likely city fixed set given user  one simple way avoid geolocated move far away
cities  however  seems unlikely strategy would widely adopted 
    gazetteer based ascii city names geonames data 
    http   www csse unimelb edu au tim etc liw jair tgz

   

fit ext based witter u ser g eolocation p rediction

   
   
   
   
number location indicative words

   

text
text without gazetteers
metadata stacking  loc  tz 
stacking  text  loc  tz 

accuracy

   
   
   
   
number location indicative words  liws 

   
   

   
   
location indicative word partitions

   

 

   

    

figure    impact use liws geolocation accuracy  users sorted number
liws tweets  partitioned    bins  metadata includes loc tz 

    prediction confidence
task setup date  forced models geolocate users  practice  however 
many users dont explicitly mention geolocating words posts  making task nigh
impossible even human oracle  alternative approach would predict user geolocation
model confident prediction  here  consider range variables
potentially indicate prediction confidence 
absolute probability  ap   consider predictions probability specified threshold 
prediction coherence  pc   hypothesise reliable predictions  top ranked locations
tend geographically close  preliminary exploration coherence  formulate pc sum reciprocal ranks predictions corresponding second level
administrative region class representation  i e   state province  top ranking
prediction  calculated top    predictions    example  suppose top    secondlevel predictions following states us  us tx  us fl  us tx  us tx 
us ca  us tx  us tx  us fl  us ca  us ny  top ranking state level prediction
therefore us tx  occurs ranks            for different cities texas  
case  pc would                         
probability ratio  pr   model confident prediction  first prediction tend
much probable predictions  formulate intuition pr  ratio
probability first second most probable predictions 
    could measured average distance top predictions well 

   

fih   c ook   baldwin

   

acc    

   

   
absolute probability  ap 
prediction coherence  pc 
probability ratio  pr 
feature number  fn 
feature weight  fw 

   

                                                 
recall

figure    acc     classification top n  most confident predictions measure
text based prediction confidence na

feature number  fn   take number features found users posts prediction
accuracy  intuition geolocation prediction based features
reliable prediction based fewer features 
feature weight  fw   similar fn  case use sum igr features  rather
number features 
investigate variables na live results  particular  evaluate using text based model  experiment text based user geolocation
section  nevertheless  exploration metadata classifiers possible  sort
predictions confidence  independently measure prediction confidence  measure
acc     among top n  predictions following values n                         akin
precisionrecall curve  shown figures      results acc show similar trend 
omitted paper 
naive ap method least reliable with  surprisingly  accuracy increasing ap decreases
figures  appears raw probabilities accurate reflection prediction
confidence  find larger ap usually indicates user liw features 
model often geolocates user city highest class prior  comparison  pr
focuses relative  opposed raw  probabilities performs much better  higher
pr generally corresponding higher accuracy  addition  pc shows different trends two
figures  achieves comparable performance pr na  however incapable estimating
global prediction confidence  largely world level pc numbers often
small less discriminating regional pc numbers  reducing utility geographic
proximity top predictions  furthermore  fn fw display similar overall trends pr 
dont outperform pr 
   

fit ext based witter u ser g eolocation p rediction

acc    

   

   

   
absolute probability  ap 
prediction coherence  pc 
probability ratio  pr 
feature number  fn 
feature weight  fw 

   

                                                 
recall

figure    acc     classification top n  most confident predictions measure
text based prediction confidence live

experiments suggest indeed trade off coverage accuracy 
could exploited obtain higher accuracy predictions applications require
data classified  pr  well fn fw  fairly effective indicators predictive accuracy  extension line research would investigate prediction
confidence per city  e g   users new york  us predictable users boston 
us 

    future work
research could expanded number directions  first  hierarchical classification models  mahmud et al         ahmed  hong    smola        becoming increasingly popular 
could combined stacked model  although explicit social network data  e g   followers 
non trivial retrieve  user interactions reconstructed content tweets  e g  
replies  retweets user mentions  jurgens         implicit network information could
combined current text based geolocation methods improve geolocation accuracy  additionally  hypothesise text based geolocation prediction challenging task
humans  method achieving surpassing accuracy levels human  would
interesting test hypothesis  e g   using crowdsourcing methods 
recently  priedhorsky et al         proposed evaluating message level geolocation  use
gaussian mixture models characterise n gram probability distributions evaluate geolocation prediction accuracy using probabilistic metrics  conclusions strongly agree
findings  although task setting user level evaluation metrics different 
future  plan adapt methods tweet level geolocation carry systematic evaluation
probabilistic analysis geolocation 
   

fih   c ook   baldwin

    summary
paper  investigated series key issues relating text based geolocation prediction
twitter users  applied number feature selection methods identify location indicative
words  liws   demonstrated effectiveness feature selection regional  na 
global  world  datasets  extended study analyse impact non geotagged data 
influence language complementary geographical information user metadata 
evaluated model time heterogeneous dataset assess models sensitivity
temporal change  moreover  discussed users tweeting behaviour affects geolocation
prediction  drew conclusions users make less easily geolocatable  finally 
explored various indicators estimate prediction confidence  terms balance
prediction coverage accuracy 
number conclusions drawn study  corresponding different sections
paper  believe findings contribute deeper understanding text based geolocation
prediction  shape design practical solutions problem 
demonstrate explicit selection location indicative words improves geolocation prediction accuracy  compared using full feature set 
non geotagged tweets  from users whose location known  boost prediction accuracy
substantially training testing  demonstrate modeling geotagged
data inferencing non geotagged data indeed feasible  largely
similarity geotagged data non geotagged data  although minor differences
observed geotagged non geotagged tweets 
modelling inference multilingual data viable easier monolingual english data  tweet language strongly affects prediction accuracy  due
uneven geographical distribution languages tweets  users geographically diverse languages  e g   english spanish  much harder geolocate users geographicallyfocused languages  e g   japanese dutch   although trivially determining locations based
language tweets fine geographically focused languages  insufficient
majority users post tweets using geographically diverse languages  integrating
language information different ways  found training range monolingual models
based language identification  predicting location using model based users
primary language  achieves better results monolithic multilingual model 
user declared metadata  though noisy unstructured  offers complementary location indicative information contained tweets  combining tweet metadata information stacking  best global geolocation results attained      english
users correctly predicted city level  median error distance  km 
results time heterogeneous evaluation suggest applying model trained old data
predict new data generally feasible  although user declared location field  loc 
sensitive temporal change  classifiers based tweet content  text  user timezone
 tz  generalise reasonably well across time 
pilot study user geolocatability led following recommendations preserve
geolocation privacy      reduce usage location indicative words  particularly gazetted
   

fit ext based witter u ser g eolocation p rediction

terms      delete location sensitive metadata  e g   user declared location timezone
metadata  
probability ratio  measures ratio probability top prediction
second prediction  used estimate prediction confidence  select users
system prediction accurate  e g   downstream applications require
more reliable geolocation predictions exhaustive user geolocation required 

acknowledgments
authors wish thank stephen roller jason baldridge making data tools available
replicate na experiments 
nicta funded australian government represented department broadband 
communication digital economy  australian research council ict centre
excellence programme 

references
ahmed  a   hong  l     smola  a  j          hierarchical geographical modeling user locations
social media posts  proceedings   nd international conference world wide
web  www     pp        rio de janeiro  brazil 
amitay  e   harel  n   sivan  r     soffer  a          web a where  geotagging web content 
proceedings   th annual international acm sigir conference research
development information retrieval  sigir        pp          sheffield  uk 
backstrom  l   kleinberg  j   kumar  r     novak  j          spatial variation search engine
queries  proceeding   th international conference world wide web  www    
pp          beijing  china 
backstrom  l   sun  e     marlow  c          find can  improving geographical prediction social spatial proximity  proceedings   th international conference
world wide web  pp        raleigh  usa 
baldwin  t   cook  p   lui  m   mackinlay  a     wang  l          noisy social media text 
diffrnt social media sources   proceedings  th international joint conference
natural language processing  ijcnlp        pp          nagoya  japan 
bennett  p  n   radlinski  f   white  r  w     yilmaz  e          inferring using location
metadata personalize web search  proceedings   th international acm sigir
conference research development information retrieval  sigir     pp         
beijing  china 
bentley  j  l          multidimensional binary search trees used associative searching  communication acm                
bergsma  s   dredze  m   van durme  b   wilson  t     yarowsky  d          broadly improving
user classification via communication based name location clustering twitter 
proceedings      conference north american chapter association
   

fih   c ook   baldwin

computational linguistics  human language technologies  naacl hlt        pp      
      atlanta  usa 
bilhaut  f   charnois  t   enjalbert  p     mathet  y          geographic reference analysis geographic document querying  proceedings hlt naacl      workshop analysis
geographic references   volume    pp        edmonton  canada 
blei  d  m   ng  a  y     jordan  m  i          latent dirichlet allocation  journal machine
learning research             
buyukokkten  o   cho  j   garcia molina  h   gravano  l     shivakumar  n          exploiting
geographical location information web pages  acm sigmod workshop web
databases  webdb     pp        philadelphia  usa 
carletta  j          assessing agreement classification tasks  kappa statistic  computational
linguistics                
chandra  s   khan  l     muhaya  f          estimating twitter user location using social
interactionsa content based approach       ieee third international conference
privacy  security  risk trust  passat       ieee third international conference
social computing  socialcom   pp          boston  usa 
chang  h  w   lee  d   m   e     lee  j           phillies tweeting philly  predicting twitter
user locations spatial word usage  ieee acm international conference advances
social networks analysis mining  asonam   pp          istanbul  turkey 
cheng  z   caverlee  j     lee  k          tweet  content based approach
geo locating twitter users  proceedings   th acm international conference
information knowledge management  pp          toronto  canada 
cho  e   myers  s  a     leskovec  j          friendship mobility  user movement locationbased social networks  proceedings   th acm sigkdd international conference
knowledge discovery data mining  pp            san diego  usa 
crandall  d  j   backstrom  l   huttenlocher  d     kleinberg  j          mapping worlds
photos  proceedings   th international conference world wide web  www    
pp          madrid  spain 
dalvi  n   kumar  r     pang  b          object matching tweets spatial models 
proceedings fifth acm international conference web search data mining
 wsdm        pp        seattle  usa 
ding  j   gravano  l     shivakumar  n          computing geographical scopes web resources 
proceedings   th international conference large data bases  vldb    
pp          cairo  egypt 
dunning  t          accurate methods statistics surprise coincidence  computational
linguistics              
eisenstein  j   oconnor  b   smith  n  a     xing  e  p          latent variable model
geographic lexical variation  proceedings      conference empirical methods
natural language processing  emnlp        pp            cambridge  usa 
fan  r  e   chang  k  w   hsieh  c  j   wang  x  r     lin  c  j          liblinear  library
large linear classification  journal machine learning research              
   

fit ext based witter u ser g eolocation p rediction

gelernter  j     mushegian  n          geo parsing messages microtext  transactions gis 
              
giacinto  g     roli  f          design effective neural network ensembles image classification purposes  image vision computing                  
gouws  s   metzler  d   cai  c     hovy  e          contextual bearing linguistic variation
social media  proceedings workshop languages social media  lsm     pp 
      portland  usa 
guyon  i     elisseeff  a          introduction variable feature selection  journal
machine learning research              
han  b   cook  p     baldwin  t       a   automatically constructing normalisation dictionary
microblogs  proceedings joint conference empirical methods natural
language processing computational natural language learning       emnlp conll
       pp          jeju  korea 
han  b   cook  p     baldwin  t       b   geolocation prediction social media data finding
location indicative words  proceedings   th international conference computational linguistics  pp            mumbai  india 
han  b   cook  p     baldwin  t          stacking based approach twitter user geolocation
prediction  proceedings   st annual meeting association computational
linguistics  system demonstrations  pp       sofia  bulgaria 
hauff  c     houben  g  j          geo location estimation flickr images  social web based
enrichment  proceedings   th european conference advances information
retrieval  pp        barcelona  spain 
hecht  b   hong  l   suh  b     chi  e  h          tweets justin biebers heart  dynamics
location field user profiles  proceedings sigchi conference human
factors computing systems  pp          vancouver  canada 
hong  l   ahmed  a   gurumurthy  s   smola  a  j     tsioutsiouliklis  k          discovering
geographical topics twitter stream  proceedings   st international conference
world wide web  www        pp          lyon  france 
hong  l   convertino  g     chi  e  h          language matters twitter  large scale study 
proceedings  th international conference weblogs social media  icwsm
       pp          barcelona  spain 
jurgens  d          thats friends for  inferring location online social media platforms
based social relationships  proceedings  th international conference weblogs
social media  icwsm        pp          boston  usa 
kinsella  s   murdock  v     ohare  n          im eating sandwich glasgow  modeling
locations tweets  proceedings  rd international workshop search mining
user generated contents  pp        glasgow  uk 
laere  o  v   quinn  j   schockaert  s     dhoedt  b          spatially aware term selection
geotagging  ieee transactions knowledge data engineering                
laere  o  v   schockaert  s     dhoedt  b          georeferencing flickr resources based textual
meta data  information sciences            
   

fih   c ook   baldwin

leidner  j  l     lieberman  m  d          detecting geographical references form place
names associated spatial natural language  sigspatial special            
li  r   wang  s     chang  k  c  c          multiple location profiling users relationships
social network content  vldb                  
li  w   serdyukov  p   de vries  a  p   eickhoff  c     larson  m          tweet 
proceedings   th acm international conference information knowledge
management  cikm        pp            glasgow  uk 
lieberman  m  d     lin  j          edit  locating wikipedia contributors
edit histories  proceedings  rd international conference weblogs
social media  icwsm        pp          san jose  usa 
lui  m     baldwin  t          langid py  off the shelf language identification tool  proceedings   th annual meeting association computational linguistics  acl
      demo session  pp        jeju  korea 
mahmud  j   nichols  j     drews  c          tweet from  inferring home locations
twitter users  proceedings  th international conference weblogs social
media  icwsm        pp          dublin  ireland 
mao  h   shuai  x     kapadia  a          loose tweets  analysis privacy leaks twitter 
proceedings   th annual acm workshop privacy electronic society  pp 
     chicago  usa 
nakatani  s          language detection library java  http   code google com p 
language detection  
ng  a  y     jordan  m  i          discriminative vs  generative classifiers  comparison
logistic regression naive bayes  advances neural information processing systems
    nips      pp          whistler  canada 
nocedal  j          updating quasi newton matrices limited storage  mathematics computation                  
nunez redo  m   daz  l   gil  j   gonzalez  d     huerta  j          discovery integration
web     content geospatial information structures  use case wild fire monitoring 
proceedings  th international conference availability  reliability security  pp 
      vienna  austria 
oconnor  b   krieger  m     ahn  d          tweetmotif  exploratory search topic summarization twitter  proceedings fourth international aaai conference weblogs
social media  pp          washington  d c   usa 
ohare  n     murdock  v          modeling locations social media  information retrieval 
            
osullivan  d     unwin  d  j          point pattern analysis  pp          john wiley   sons 
inc 
padmanabhan  v  n     subramanian  l          investigation geographic mapping techniques internet hosts  proceedings      conference applications  technologies  architectures  protocols computer communications  sigcomm     pp 
        san diego  usa 
   

fit ext based witter u ser g eolocation p rediction

pontes  t   vasconcelos  m   almeida  j   kumaraguru  p     almeida  v          know
live  privacy characterization foursquare behavior   th international workshop
location based social networks  lbsn        pittsburgh  usa 
priedhorsky  r   culotta  a     valle  s  y  d          inferring origin locations tweets
quantitative confidence  proceedings   th acm conference computer supported
cooperative work social computing  baltimore  usa  appear 
quercini  g   samet  h   sankaranarayanan  j     lieberman  m  d          determining spatial
reader scopes news sources using local lexicons  proceedings   th sigspatial
international conference advances geographic information systems  gis     pp    
    san jose  usa 
quinlan  j  r          c     programs machine learning  morgan kaufmann  san mateo 
usa 
ritter  a   clark  s   mausam    etzioni  o          named entity recognition tweets  experimental study  proceedings      conference empirical methods natural
language processing  pp            edinburgh  uk 
roller  s   speriosu  m   rallapalli  s   wing  b     baldridge  j          supervised text based
geolocation using language models adaptive grid  proceedings      joint
conference empirical methods natural language processing computational natural language learning  pp            jeju island  korea 
rout  d  p   bontcheva  k   preotiuc pietro  d     cohn  t          wheres  wally   classification approach geolocating users based social ties  proceedings   th acm
conference hypertext social media  pp        paris  france 
sadilek  a   kautz  h     bigham  j  p          finding friends following
are  proceedings fifth acm international conference web search data
mining  pp          seattle  usa 
schulz  a   hadjakos  a   paulheim  h   nachtwey  j     muhlhauser  m          multi indicator
approach geolocalization tweets  proceedings  th international conference
weblogs social media  icwsm        pp          boston  usa 
serdyukov  p   murdock  v     van zwol  r          placing flickr photos map  proceedings   nd international acm sigir conference research development
information retrieval  sigir        pp          boston  usa 
silva  m  j   martins  b   chaves  m  s   afonso  a  p     cardoso  n          adding geographic
scopes web resources  computers  environment urban systems             
tuten  t  l          advertising      social media marketing web     world  praeger publishers 
westport  usa 
vapnik  v  n          nature statistical learning theory  springer verlag  new york  usa 
vincenty  t          direct inverse solutions geodesics ellipsoid application
nested equations  survey review                
wang  l   wang  c   xie  x   forman  j   lu  y   ma  w  y     li  y          detecting dominant
locations search queries  proceedings   th annual international acm sigir
   

fih   c ook   baldwin

conference research development information retrieval  sigir        pp     
     salvador  brazil 
wing  b  p     baldridge  j          simple supervised document geolocation geodesic grids 
proceedings   th annual meeting association computational linguistics 
human language technologies  pp          portland  usa 
wolpert  d  h          stacked generalization  neural networks               
yang  y     pedersen  j  o          comparative study feature selection text categorization 
proceedings fourteenth international conference machine learning  icml    
pp          san francisco  usa 
yi  x   raghavan  h     leggetter  c          discovering users specific geo intention web
search  proceedings   th international conference world wide web  www    
pp          madrid  spain 
yin  j   lampert  a   cameron  m   robinson  b     power  r          using social media
enhance emergency situation awareness  intelligent systems              
yin  z   cao  l   han  j   zhai  c     huang  t          geographical topic discovery comparison  proceedings   th international conference world wide web  pp         
hyderabad  india 
zong  w   wu  d   sun  a   lim  e  p     goh  d  h  l          assigning place names
geography related web pages  acm ieee joint conference digital libraries  pp     
     denver  usa 

   


