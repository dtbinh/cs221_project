journal of artificial intelligence research                  

submitted       published     

attac       an adaptive autonomous bidding agent
peter stone
michael l  littman

pstone research att com
mlittman research att com

at t labs research      park avenue
florham park  nj       usa

satinder singh
michael kearns

satinder baveja syntekcapital com
michael kearns syntekcapital com

syntek capital      west   th street
new york  ny       usa

abstract

the first trading agent competition  tac  was held from june   nd to july  th 
      tac was designed to create a benchmark problem in the complex domain of emarketplaces and to motivate researchers to apply unique approaches to a common task 
this article describes attac       the first place finisher in tac  attac      uses a principled bidding strategy that includes several elements of adaptivity   in addition to the success
at the competition  isolated empirical results are presented indicating the robustness and
effectiveness of attac      s adaptive strategy 

   introduction
the first trading agent competition  tac  was held from june   nd to july  th        organized by a group of researchers and developers led by michael wellman of the university
of michigan and peter wurman of north carolina state university  wellman  wurman 
o malley  bangera  lin  reeves    walsh         their goals included providing a benchmark problem in the complex and rapidly advancing domain of e marketplaces  eisenberg 
      and motivating researchers to apply unique approaches to a common task  a key
feature of tac is that it required autonomous bidding agents to buy and sell multiple
interacting goods in auctions of different types 
another key feature of tac was that participating agents competed against each other
in a preliminary round and many practice games leading up to the finals  thus  developers
changed strategies in response to each others  agents in a sort of escalating arms race 
leading into the competition day  a wide variety of scenarios were possible  a successful
agent needed to be able to perform well in any of these possible circumstances 
this article describes attac       the first place finisher in tac  attac      uses a
principled bidding strategy  which includes several elements of adaptivity   in addition to the
success at the competition  isolated empirical results are presented indicating the robustness
and effectiveness of attac      s adaptive strategy 
the remainder of the article is organized as follows  section   presents the details
of the tac domain  section   introduces attac       including the mechanisms behind
its adaptivity  section   describes the competition results and the results of controlled
experiments testing attac      s adaptive components  section   compares attac     
c     


ai access foundation and morgan kaufmann publishers  all rights reserved 

fistone  littman  singh    kearns

with some of the other tac participants  section   presents possible directions for future
research and concludes 

   tac

a tac game instance pits   autonomous bidding agents against one another  each tac
agent is a simulated travel agent with   clients  each of whom would like to travel from tactown to boston and back again during a common   day period  each client is characterized
by a random set of preferences for the possible arrival and departure dates  hotel rooms
 the grand hotel and le fleabag inn   and entertainment tickets  symphony  theater  and
baseball   to obtain utility for a client  an agent must construct a travel package for that
client by purchasing airline tickets to and from tactown and securing hotel reservations 
it is possible to obtain additional utility by providing entertainment tickets as well  a tac
agent s score in a game instance is the difference between the sum of its clients  utilities for
the packages they receive and the agent s total expenditure 
tac agents buy ights  hotel rooms and entertainment tickets in different types of
auctions  the tac server  running at the university of michigan  maintains the markets
and sends price quotes to the agents  the agents connect over the internet and send bids
to the server that update the markets accordingly and execute transactions 
each game instance lasts    minutes and includes a total of    auctions of   different
types 

flights    auctions   there is a separate auction for each type of airline ticket  ights to
boston  inights  on days     and ights from boston  outights  on days      there
is an unlimited supply of airline tickets  and their ask price periodically increases or
decreases randomly by from    to      in all cases  tickets are priced between     
and       when the server receives a bid at or above the ask price  the transaction
is cleared immediately at the ask price  no resale of airline tickets is allowed 

hotel rooms      there are two different types of hotel rooms the boston grand hotel

 bgh  and le fleabag inn  lfi  each of which has    rooms available on days     
the rooms are sold in a   th price ascending  english  auction  meaning that for each
of the   types of hotel rooms  the    highest bidders get the rooms at the   th highest
price  for example  if there are    bids for bgh on day   at         bids at       and
any number of lower bids  the rooms are sold for      to the    high bidders plus one
of the      bidders  earliest received bid   the ask price is the current   th highest
bid  thus  agents have no knowledge of  for example  the current highest bid  new
bids must be higher than the current ask price  no bid withdrawal and no resale is
allowed  transactions only clear when the auction closes  to prevent agents from all
waiting until the end of the game to bid on hotel rooms  hotel auctions can close after
an unspecified period  roughly one minute  of inactivity  no new bids received  

entertainment tickets       baseball  symphony  and theater tickets are each sold for
days     in continuous double auctions  here  agents can buy and sell tickets  with
transactions clearing immediately when one agent places a buy bid at a price at least
as high as another agent s sell price  unlike the other auction types in which the
   

fiattac       an adaptive autonomous bidding agent

goods are sold from a centralized stock  each agent starts with a random endowment
of entertainment tickets  the prices sent to agents are the bid ask spreads  i e   the
highest current bid price and the lowest current ask price  due to immediate clears  ask
price is always greater than bid price   when a bid that beats the current bid  ask 
price arrives  the sale price is the standing bid  ask  price  as opposed to the arriving
ask  bid  price  in this case  bid withdrawal and ticket resale are both permitted 
in addition to unpredictable market prices  other sources of variability from game instance to game instance are the client profiles assigned to the agents and the random initial
allotment of entertainment tickets  each tac agent has   clients with randomly assigned
travel preferences  clients have parameters for ideal arrival day  iad        ideal departure day  idd        grand hotel value  ghv             and entertainment values  ev
          for each type of entertainment ticket 
the utility obtained by a client is determined by the travel package that it is given in
combination with its preferences  to obtain a non zero utility  the client must be assigned
a feasible travel package consisting of an arrival day ad with the corresponding inight 
departure day dd with the corresponding outight  and hotel rooms of the same type  bgh
or lfi  for each day d such that ad  d   dd  at most one entertainment ticket can
be assigned for each day ad  d   dd  and no client can be given more than one of the
same entertainment ticket type  given a feasible package  the client s utility is defined as
       travelpenalty   hotelbonus   funbonus
where
 travelpenalty       jad   iad j   jdd   idd j 
 hotelbonus   ghv if the client is in the gbh    otherwise 
 funbonus   sum of relevant ev s for each entertainment ticket type assigned to the
client 
a tac agent s final score is simply the sum of its clients  utilities minus the agent s
expenditures  throughout the game instance  it must decide what bids to place in each of
the    auctions  at the end of the game  it must submit a final allocation of purchased
goods to its clients 
the client preferences  allocations  and resulting utilities from one particular game from
the tac finals  game      on the tac server  are shown in tables   and   
for full details on the design and mechanisms of the tac server  see wellman et al         

  

attac     
attac      finished first in the trading agent competition using a principled bidding
strategy  which included several elements of adaptivity   this adaptivity gave attac     
the exibility to cope with a wide variety of possible scenarios at the competition  in this
section  we describe attac      s bidding strategy  its method for determining the best
allocation of goods to clients  and its three forms of adaptivity  attac      s high level
strategy is summarized in table   
   

fistone  littman  singh    kearns

client
 
 
 
 
 
 
 
 

iad
day  
day  
day  
day  
day  
day  
day  
day  

idd ghv bev
day         
day          
day         
day         
day     
  
day         
day     
  
day     
  

sev tev
  
  
      
      
  
  
       
 
  
       
      

table    attac      s client preferences from game       bev  sev  and tev are evs
for baseball  symphony  and theater respectively 

client
 
 
 
 
 
 
 
 

ad
day  
day  
day  
day  
day  
day  
day  
day  

dd
day  
day  
day  
day  
day  
day  
day  
day  

hotel ent ment utility
lfi
b 
    
bgh
b 
    
lfi
t   b 
    
bgh
none
    
bgh
s 
    
bgh
b 
    
lfi s   b   t      
bgh
t 
    

table    attac      s client allocations and utilities from game       client   s  b   under
 ent ment  indicates baseball on day   

    bidding strategy

tac was defined so as to be simple enough to have a low barrier to entry  yet complex
enough to prevent tractable solution via direct game theoretic analysis  given that an
optimal solution is not attainable  we use a principled approach that takes advantage of
details of the tac scenario  in general  attac      aims to be robust to the parameter
space defined by tac as well as to conceivable opponent strategies 
at every bidding opportunity  attac      begins by computing the most profitable
allocation of goods to clients  which we shall denote g    given the goods that are currently
owned and the current prices of hotels and ights   see section     for a caveat   for the
purposes of this computation  attac      allocates  but does not consider buying or selling 
entertainment tickets  in most cases  g is computed using integer linear programming  as
described in section     
attac      s high level bidding strategy is based on the following two observations 
   

fiattac       an adaptive autonomous bidding agent

   while the auctions are open 
 obtain updated market prices 
 compute g  the most profitable allocation of goods given current holdings and
prices 
 bid in   of   different modes
passive  bid to keep options open
active  at end  bid aggressively on packages
   allocate 
 compute g with closed auctions and allocate purchased goods to clients 
table    an overview of attac      s high level strategy 
   since airline prices periodically increase or decrease with equal probability  the expected change in price for each airline auction is     indeed  it can be shown that if
the airline auction is considered in isolation  waiting until the very end of the game to
purchase tickets is an optimal strategy  except in the rare case that the price reaches
the lowest allowed value  
   since hotel prices are monotonically increasing  as the game proceeds  the hotel prices
approach the eventual closing prices 
therefore  attac      aims to delay most of its purchases  and particularly its airline
purchases  until late in the game  attac      s high level bidding strategy is based on the
premise that it is best to delay  committing  to the current g for as long as possible 
although it continually reevaluates g  and is therefore never technically committed to
anything  the markets are such that it is rarely advantageous to change a client s travel
package if it would mean wasting an airline ticket or an expensive hotel room  thus requiring
additional ones to be purchased  
attac      accomplishes this delay of commitment by bidding in two different modes 
passive and active  the passive mode  which lasts most of the game  is designed to keep as
many options open as possible  during the passive mode  attac      computes the average
time it takes for it to compute and place its bids  tb  tb is the average time it takes to go
through one iteration of the loop in step   of table     we found that tb ranged from   
seconds to well over a minute  and was primarily dependent upon the server s load  call
the time left in the game tl   when tl     tb   attac      switches to its active mode 
during which it buys the airline tickets required by the current g and places high bids for
the required hotel rooms  note that attac      expects to run at most   bidding iterations
in active mode  in fact  only   such iteration is necessary  but there is a huge cost to failing
to complete the iteration before the end of the game  planning for   active iterations leaves
room for some error 
based on the current g   its current mode  and tl  attac      bids for ights  hotel
rooms  and entertainment tickets 
   

fistone  littman  singh    kearns

      flights

while in the passive mode  attac      does not bid in the airline auctions  in active mode 
attac      buys all currently unowned airline tickets needed for the current g  in most
cases  that means that it only bids for airline tickets during its first bidding opportunity
in the active mode  however  in the face of drastically changing  hotel and entertainment
ticket  prices  g could change suciently to necessitate purchasing additional ights  instead of simply using the ones that have already been purchased 
      hotels

when in the passive mode  attac      bids in the hotel auctions either to try to win hotels
cheaply should the auction close early  or to try to prevent the hotel auctions from closing
early  it might be advantageous to prevent a hotel auction from closing if no rooms are
currently desired in order to keep open the option of switching to that hotel should future
market prices warrant it 
for each hotel room of type i  such as  grand hotel  night      let hi be the number
of rooms of type i needed for g   based on the current price of i  pi   attac      tries to
acquire n rooms where

 
  
  max  hi    
n     max h     
   max hi    
i

if pi      only true at the outset of the game 
if pi    
if pi    
if pi     

if attac      s outstanding bids would already win n rooms should the auction close at
the current price  then attac      does nothing  should the auction close prematurely 
attac      wins the n rooms cheaply  and competitors lose the opportunity to get any
rooms of type i later in the game  otherwise  attac      bids for n rooms at    above
the current ask price  the formula for computing n was selected so as to risk wasting up
to         per room type for the benefit of maintaining exibility later in the game  the
exact parameters here were chosen in an ad hoc fashion without detailed experimentation 
our intuition is that attac      s performance is not very sensitive to their exact values 
in the active mode  attac      bids on hotel rooms based on their marginal value within
allocation g   let v  g   be the value of g  the income from all clients  minus the cost of
the yet to be acquired goods   let g c be the optimal allocation should client c fail to get
its hotel rooms  note that g c might differ from g in the distribution of entertainment
tickets as well as in the ights and hotels of client c  attac      bids for the hotel rooms
assigned to client c in g at a price of v  g     v  g c    since at this point ights are a
sunk cost  this price tends to be more than       
notice that attac      bids the full marginal utility for each hotel room required by
the client s travel package  an alternative would have been to divide the marginal utility
over the number of rooms in the package  which would have eliminated the risk of spending
more on hotels than the itinerary is worth  on the other hand  failing to win a single hotel
room is enough to invalidate the entire itinerary  attac      bids the full marginal utility
to maximize the chance that valid itineraries are obtained for all clients  in a combinatorial
   

fiattac       an adaptive autonomous bidding agent

auction  the bidder would be able to be place a bid for the conjunction of the desired rooms
and would therefore not need to choose between these two alternatives 
      entertainment tickets

attac      s bidding strategy for the entertainment tickets hypothesizes that for each

ticket  the opponent buy  sell  price remains constant over the course of a single game
 but may vary from game to game   so as to avoid underbidding  overbidding  for that
price  attac      gradually decreases  increases  its bid over the course of the game  the
initial bids are always as optimistic as possible  but by the end of the game  attac      is
willing to settle for deals that are minimally profitable  in addition  this strategy serves to
hedge against attac      s early uncertainty in its final allocation of goods to clients 
on every bidding iteration  attac      places a buy bid for each type of entertainment
ticket  and a sell bid for each type of entertainment ticket that it currently owns  in all cases 
the prices depend on the amount of time left in the game  tl   becoming less aggressive as
time goes on  see figure    
buy value

   

    
bid price    

owned  unallocated
sell value

    

   
owned allocated
sell value
   

 

 

  

game time  min  

  

figure    attac      s bidding strategy for entertainment tickets  the black circles indicate the calculated values of the tickets to attac       the lines indicate the bid
prices corresponding to those values  for example  the solid line  which increases
over time  corresponds to the buy price relative to the buy value  correspondence between the text and the lines is indicated by similar line types and boxes
surrounding the text 
for each owned entertainment ticket e   if e is assigned in g  let v  e   be the value
of e to the client to whom it is assigned in g   owned  allocated sell value  in figure    
attac      offers to sell e for min      v  e        where  decreases linearly from     to
   based on tl   if there is a current bid price greater than the resulting sell price  then
attac      raises its sell price to   cent lower than the current bid price in order to get as
high a price as possible 
if e is owned but not assigned in g  because all clients are either unavailable that night
or already scheduled for that type of entertainment in g    let v  e   be the maximum value
   recall that      is the maximum possible value of e to any client under the tac parameters 

   

fistone  littman  singh    kearns

for e over all clients  i e  the greatest possible value of e given the client profiles   owned 
unallocated sell value  in figure     attac      offers to sell e for max     v  e       
where  increases linearly from   to    based on tl   once again  attac      raises its price
to meet an existing bid price that is greater than its target price  this strategy reects
the increasing likelihood as the game progresses that g will be close to the final client
allocation  and thus that any currently unused tickets will not be needed in the end  when
in active mode  attac      assumes that g is final and offers to sell any unneeded tickets
for     in order to obtain at least some value for them  represented by the discrete point at
the bottom right in figure     below      attac      would rather waste the ticket than
allow a competitor to make a large profit 
finally  attac      bids to buy each type of entertainment ticket e  including those
that it is also offering to sell  based on the increased value that would be derived by owning
e   let g e be the optimal allocation that would result were e owned   buy value  in
figure     note that g  e could have different ight and hotel assignments than g so as to
make most effective use of e   then  attac      offers to buy e for v  g e     v  g      
where  decreases linearly from     to    based on tl 
all of the parameters described in this section were chosen arbitrarily without detailed
experimentation  again our intuition is that  unless opponents know and explicitly exploit
these values  attac      s performance is not very sensitive to them 

    allocation strategy
as is evident from section      attac      relies heavily on computing the current most
profitable allocation of goods to clients  g   since g changes as prices change  attac     
needs to recompute it at every bidding opportunity  by using an integer linear programming
approach  attac      was able to compute optimal final allocations in every game instance
during the tournament finals one of only   entrants to do so  
most tac participants used some form of greedy strategy for allocation  greenwald
  stone         it is computationally feasible to quickly determine the maximum utility
achievable by client   given a set of purchased goods  move on to client   with the remaining
goods  etc  however  the greedy strategy can lead to suboptimal solutions  for example 
consider   clients a and b with identical travel days iad and idd as well as identical
entertainment values ev   but with a s ghv       and b  s ghv         if the agent
has exactly one of each type of hotel room for each day  the optimal assignment is clearly
to assign the bgh to client b   however  if client a s utility is optimized first  it will be
assigned the bgh  leaving b to stay in lfi  the agent s resulting score would be     less
than it could have been 
as an improvement over the basic greedy strategy  we implemented a heuristic approach
that implements the greedy strategy over     random client orderings and chooses the most
profitable resulting allocation  empirically  the resulting allocation is often optimal  and
never far from optimal  in addition  it is always very quick to compute  in a set of seven
games from just before the tournament  the greedy allocator was run approximately    
times and produced allocations that averaged       of the optimal value 
   as computed by shou de lin of the tac organizing team 

   

fiattac       an adaptive autonomous bidding agent

as the competition drew near  however  it became clear that every point would count 
we therefore implemented an allocation strategy that is guaranteed to find the optimal
allocation of goods   the integer linear programming approach used by attac      works
by defining a set of variables  constraints on these variables  and an objective function 
an assignment to the variables represents an allocation to the clients and the constraints
ensure that the allocation is legal  the objective function encodes the fact that we seek the
allocation with maximum value  utility minus cost  
the following notation is needed to describe the integer linear program  the formal notation is included for completeness  an equivalent english description follows each equation 
the symbol c is a client    through     the symbol f is a feasible travel package  which
consists of  the arrival day ad f      through     the departure day dd f      through    
and the choice of hotel h  f    bgh or lfi   there are    such travel packages  symbol e
is an entertainment ticket  which consists of  the day of the event d e     through     and
the type of the event t  e   baseball b  symphony s  or theater t   there are    different
entertainment tickets  symbol r is a resource  ad  dd  bgh  or lfi  
using this notation  the     variables are  p  c  f    which indicates whether client c will
be allocated feasible travel package f      variables   e  c  e   which indicates whether client
c will be allocated entertainment ticket e     variables   and  br  d  is the number of copies
of resource r we would like to buy for day d     variables  
there are also several constants that define the problem  or  d  is the number of tickets
of resource r currently owned for day d  pr  d  is the current price for resource r on day d 
up  c  f   is utility to customer c for travel package f   and ue  c  e  is the utility to customer
c for entertainment ticket e 
given this notation  the objective is to maximize utility minus cost

x
c f

up  c  f  p  c  f    

 
 

x
d f       g

x
c e

ue  c  e e  c  e 

pdd  d bdd d 

x

d f       g r fbgh lfi adg

pr  d br  d 

subject to the following     constraints 
 for all c  pf p  c  f       no client gets more than one travel package    constraints  
 for all d   f          g 

x x

c f jad f   d

p  c  f    oad  d    bad  d  

for all d   f          g and h   fbgh  lfig 

x

x

p  c  f    oh  d    bh  d  
c f jh  f   h   ad f  d dd f  
   the general allocation problem is np complete  as it is equivalent to the set packing problem  garey  
johnson         exhaustive search is computationally intractable even with only   clients 
   

fistone  littman  singh    kearns

for all d   f          g 

x x
c f jdd f   d

p  c  f    odd  d    bdd  d   

the demand for resources from the selected travel packages must not exceed the sum
of the owned and bought resources     constraints  

 for all e  pc e  c  e   oe  e   the total quantity of each entertainment ticket allocated
does not exceed what is owned     constraints  

 for all c and e  pf jad f  d e  dd f   p  c  f    e  c  e   an entertainment ticket can

only be used if its day is between the arrival and departure day of the selected travel
package     constraints  

 for all c and d   f          g  pejd e  d e  c  e      each client can only use one
entertainment ticket per day     constraints  

 for all c and y   fb  s  tg  pejt  e  y e  c  e      each client can only use each type of
entertainment ticket once     constraints  

 all variables are integers 
the solution to the resulting integer linear program is a value maximizing allocation
of owned resources to customers along with a list of resources that need to be purchased 
using the linear programming package  lpsolve   attac      is usually able to find the
globally optimal solution in under one second on a     mhz pentium ii 
note that this is not by any means the only possible formulation of the allocation 
greenwald  boyan  kirby  and reiter        studied a variant and found that it performed
extremely well on a collection of large  random allocation problems 
the above approach is guaranteed to find the optimal allocation  and usually does so
quickly  however  since integer linear programming is an np complete problem  some inputs
can lead to significantly longer solution times  in a sample of    games taken shortly before
the finals  the allocator was called      times  in     of the cases  the optimization took a
second or less  less than    took   or more seconds  however  the   longest running times
were all over a minute and all came from the same game  attac      used the strategy
that if an integer linear program takes   or more seconds to solve  the above mentioned
greedy strategy over random client orderings is used as a fall back strategy for the rest of
the game  this fall back strategy was not needed during the tournament finals 

    adaptivity

in a tac game instance  the only information available to agents is the ask prices 
individual bids are not visible  after each game  transaction by transaction data is available 
but the lack of within game information precluded competitors from using detailed models
of opponent strategies in decision making  attac      instead adapts its behavior on line
in three different ways  adaptable timing of bidding modes  adaptable allocation strategy 
and adaptable hotel bidding 
   

fiattac       an adaptive autonomous bidding agent

      timing of bidding modes

attac      decides when to switch from the passive to the active bidding mode based on

the observed server latency tb during the current game instance  see section      
      allocation

attac      adapts its allocation strategy based on the amount of time it takes for the

integer linear programming approach to determine optimal allocations in the current game
instance  see section      
      hotel bidding

perhaps most significantly  attac      predicts the closing prices of hotel auctions based
on their closing prices in previous games  hotel bidding in tac was particularly challenging
due to the extreme volatility of prices near the end of the game  as stated in section       
at the end of the game attac      bids the marginal utility for each desired hotel room 
which was often in excess of       
during the preliminary competition  few agents bid their marginal utilities on hotel
rooms  those that did  however  generally dominated their competitors  such agents were
high bidders  bidding         always winning the hotels on which they bid  but paying far
less than their bids  having observed a dominant strategy during the preliminary rounds 
most agents  including attac       adopted this high bidding strategy during the actual
competition  the result was many negative scores  as prices skyrocketed in the last moments
of the game once there were    high bids for a given room 
in section      we stated that attac      computes g based on the current prices of
the hotel rooms  should the prices eventually become very high  attac      would either
end up paying too high a price for the hotel rooms or else fail to get travel packages for
some of its clients  the only alternative was to avoid counting on obtaining contentious
hotel rooms 
since strategies were changing up to the last minute before the finals  there was no way
to identify a priori which hotels would be most contentious or whether hotel prices would
actually skyrocket in the tournament  therefore  attac      divided the   hotel rooms
into   equivalence classes  exploiting symmetries in the game  hotel rooms on days   and
  should be equally in demand as should rooms on days   and     assigned priors to the
expected closing prices of these rooms  and then adjusted these priors based on the observed
closing prices during the tournament 
as expected  the grand hotel on days   and   turned out to be most contentious during
the finals  le fleabag inn on the same days was also fairly contentious  whenever the
actual price for a hotel was less than the predicted closing price  attac      used the
predicted hotel closing price for computing all of its allocation values 
one additional method for predicting whether hotel prices would skyrocket in a given
game is to notice who the participants are and whether or not they tended to be highbidders in past games  see figure     although such information was not available via the
server s api  a game s participants were always published beforehand on the tac web page 
by automatically downloading this information from the web  a practice whose ethicality
was questioned at the competition   and matching against a precompiled database of which
   

fistone  littman  singh    kearns

agents were high bidders in the past  attac      would only use the predicted hotel closing
prices in games with   or more high bidders involved  in games with fewer high bidders  the
prices of hotel rooms almost never skyrocketed    as it turned out  all but one of attac     s games in the semi finals  and all games in the finals  involved several high bidders 
thus triggering the use of predicted hotel closing prices 
riskpro grand day   recent

aster grand day  

   

    

aster  grand day  

    

bid price    

   

bid price    

    

riskpro  grand day  

   
   

   
   

    

   
   

   

   
   

  
   

 
 

 

   

   

   

 

   

   

   

  

game time  min  

   

   

 
 

   

  

 

   

   

 

   

   

   

  

   

game time  min  

   

   

   

  

figure    graphs of two different agents  bidding patterns over many games  each line
represents one game s worth of bidding in a single auction  left  riskpro never
bids over      in the games plotted  right  aster consistently bids over      
for rooms 
empirical testing  section    indicates that this strategy is extremely beneficial in situations in which hotel prices do indeed escalate  while it does not lead to significantly degraded
performance when they do not 

   results

tac consisted of a preliminary round that ran over the course of a week and involved
roughly    games for each of the    participants  the top    finishers were invited to
the semi finals and finals in boston  ma on july  th  since agents and conditions were
constantly changing  and since only    games were played by each agent in the semi finals
and finals  the competition does not provide a controlled testing environment  in this
section  we describe attac      s success in the tournament  but also present empirical
results of controlled tests that demonstrate the effectiveness and robustness of attac      s
adaptive strategy 

    the competition

attac      s scores in the    preliminary round games ranged from       to over     
 mean       std  dev         a good score in a game instance is in the      to      range 
we noticed that there were many very bad scores     less than      and seven less than    
   with just   high bidders  the only way to have the price escalate would be if they bid for a combined
total of    rooms of the same hotel type  that could only happen if all of their clients were to stay in
the same hotel on the same night  a very unlikely scenario given the tac parameters 

   

fiattac       an adaptive autonomous bidding agent

this is largely the result of attac      not yet being imbued with its adaptive timing of
bidding modes  during the preliminary round  attac      shifted from passive to active
bidding mode with    seconds left in the game instance  while    seconds is usually plenty
of time to allow for at least   iterations through attac      s bidding loop  there were
occasions in which the network and server lags were such that it would take more than   
seconds to obtain updated market prices and submit bids  in this case  attac      would
either fail to buy airline tickets  or worse still  would buy airline tickets but not get the
final hotel bids in on time  noticing that the server lag tended to be consistent within a
game instance  perhaps due to the trac patterns generated by the participating agents  
we introduced the adaptive timing of bidding modes described in section      after this
change  attac      was always able to complete at least one  and usually two  bidding
loops in the active bidding phase 
the adaptive allocation strategy never came into play in the finals  as attac      was
able to optimally solve all of the allocation problems that came up during the finals very
quickly using the integer linear programming method 
however  the adaptive hotel bidding did play a big role  attac      performed as well
as the other best teams in the early tac games when hotel prices  surprisingly  stayed low 
and then out performed the competitors in the final games of the tournament when hotel
prices suddenly rose to high levels  indeed  in the last   games  some of the popular hotels
closed at over       attac      steered clear of these hotel rooms more effectively than its
closest competitors 
table   shows the scores of the   tac finalists  wellman et al          attac      s
consistency  std  dev      as opposed to      in the preliminaries  is apparent  it avoided
having any disastrous games  presumably due in large part to its adaptivity regarding timing
and hotel bidding 
rank
 
 
 
 
 
 
 
 

team

avg  score std  dev 
attac          
   
roxybot
    
   
aster
    
   
umbctac      
    
alta
    
    
m rajatish     
    
riskpro
    
    
t 
    
    

institution
at t labs   research
brown university  nasa ames research
star lab  intertrust technologies
university of maryland at baltimore county
artificial life  inc 
university of tulsa
royal inst  technology  stockholm university
swedish inst  computer science  industilogik

table    the scores of the   tac finalists in the semi finals and finals     games  

    controlled testing

in order to evaluate attac      s adaptive hotel bidding strategy in a controlled manner 
we ran several game instances with attac      playing against two variants of itself 
   

fistone  littman  singh    kearns

   high bidder always computed g based on the current hotel prices  as opposed to
using priors and averages of past closing prices  
   low bidder always computed g as in variant    but also only bid for hotel rooms at
    over the current ask price  as opposed to the marginal utility  which tended to be
more than        
at the extremes  with attac      and   high bidders playing  at least one hotel price
skyrockets in every game since all agents bid very high for the hotel rooms  on the other
hand  with attac      and   low bidders playing  hotel prices never skyrocket since all
agents but attac      bid close to the ask price  our goal was to measure whether attac     could perform well in both extreme scenarios as well as various intermediate ones 
table   summarizes our results 
 high agent  
      
 
      
 
      
 
      
 
      
 
       
 

agent   agent   agent   agent   agent   agent  

                    
                  
    
               
      
            
          
       
             
   
                

table    the difference between attac      s score and the score of each of the other
seven agents averaged over all games in a controlled experiment  all differences
are statistically significant at the       level  except the one marked in italics 
each row corresponds to a different number of high bidders  excluding attac     itself   the first column presents the number of high bidders as well as the
number of experiments we ran for that scenario  in parentheses   the column
labeled  agent i  shows how much better attac      did on average than agent i 
scores above the stair step line are for high bidders  variant    and scores below
the line are for low bidders  variant     results for identical agents are averaged
to obtain a single average score difference for each type of agent in each row  in
all cases  attac      beats the other agents 
each row of table   corresponds to a different number of high bidders in the game 
for example  the row labeled with   high bidders corresponds to attac      playing with
  copies of variant   and   copies of variant    results for identical agents are averaged
to obtain a single average score difference for each type of agent in each row  in the first
column  we also show in parentheses the number of games played for the results in each
row each row reects a different number of runs  in all cases  we ran enough game instances
to achieve statistically significant results  however  in some cases we ran more instances
than turned out to be required  the column labeled agent i shows the difference between
attac      s score and the score of agent i averaged over all games  in all scenarios  these
   

fiattac       an adaptive autonomous bidding agent

differences are positive  showing that attac      outscored all other agents on average  
statistical significance was computed from paired t tests  all results are significant at the
      level except for the one marked in italics  as mentioned before  if the number of
high bidders is greater than or equal to    we expect the price for contentious hotels to rise 
and in all such scenarios attac      significantly outperforms all the other agents  the
large score differences appearing in the top rows of table   are mainly due to the fact that
the other agents get large  negative scores since they end up buying many expensive hotel
rooms 
in these experiments  attac      always uses its adaptive hotel price expectations  even
when there are only   high bidders  in the last row  when the number of high bidders is   
very little bidding up of hotel prices is expected and in this case  we do not get statistical
significance relative to the two high bidders  agent   and agent     since their strategies are
nearly identical to attac      s in this case  we do get high statistical significance relative
to all the other agents  copies of variant     however  thus  attac      s adaptivity to
hotel prices seems to help a lot when hotel prices do skyrocket and does not seem to
prevent attac      from winning on average when they don t 
the results of table   provide strong evidence for attac      s ability to adapt robustly
to varying number of competing agents that bid up hotel prices near the end of the game 
note that attac      is not designed to perform well against itself  if   copies of attac     play against each other repeatedly  they will all favor the same hotel rooms and thus
consistently all get large negative scores  it would be interesting to determine whether there
exists a strategy that is both harmful to attac and beneficial to the adversary 

   related work
although there has been a good deal of research on auction theory  especially from the perspective of auction mechanisms  klemperer         studies of autonomous bidding agents
and their interactions are relatively few and recent  tac is one example  fm     is another auction test bed  which is based on fishmarket auctions  rodriguez aguilar  martin 
noriega  garcia    sierra         automatic bidding agents have also been created in this
domain  gimenez funes  godo  rodriguez aguiolar    garcia calves         there have
been a number of studies of agents bidding for a single good in multiple auctions  ito 
fukuta  shintani    sycara        anthony  hall  dang    jennings    preist  bartolini   
phillips         outside of  but related to  the auction scenario  automatic shopping and
pricing agents for internet commerce have been studied within a simplified model  greenwald   kephart        
twenty two agents from   countries entered tac     of which qualified to compete
in the semi finals and finals in boston  the designs of these agents were motivated by a
wide variety of research interests including machine learning  artificial life  experimental
economics  real time systems  and choice theory  greenwald   stone        
our own approach was motivated by our research interests in multiagent learning  littman 
      stone        singh  kearns    mansour         based on the problem description 
we expected to find several learning opportunities in the domain  as noted above  detailed
   in general  attac      s average score decreased with increasing numbers of high bidders  as games
became more volatile 

   

fistone  littman  singh    kearns

opponent modeling was precluded by the system dynamics  nonetheless  attac      s
adaptivity is one of the keys to its success  particularly in avoiding skyrocketing hotels 
the  nd and  rd place agents both used a different strategy to prepare for the possibility
of skyrocketing hotels  rather than avoiding popular hotels entirely by tracking closing
prices across game instances  they both discouraged their agents from bidding for too many
of any particular hotel room  thus spreading their demand across the rooms  greenwald  
stone         while such a strategy is safer in the limit  i e   it continues to work even if
everyone uses it   it has a greater potential to cost the agent in the event that hotel prices
do not skyrocket  since the agent will still distribute its demand to the less desirable rooms 
on the other hand  attac      would notice that the prices are not skyrocketing and thus
bid for the optimal travel packages given current prices 

   conclusion and future work

tac      was the first autonomous bidding agent competition  while it was a very successful event  some minor improvements would increase its interest from a multiagent learning
perspective 

 currently  there is no incentive to buy airline tickets until the end of the game  were

the price of ights to tend to increase  or were supply limited  agents would have to
balance the advantage of keeping their options open against the savings of committing
to travel packages earlier   

 the information structure of the tac setup was such that it was impossible to observe

the bidding patterns of individual agents during games  nonetheless  the strategic
behavior of individual agents often profoundly affected market dynamics particularly
in the hotel auctions  it seems that it would be beneficial to be able to directly observe
the behavior of each individual agent  were there to be information available regarding
the bidding behavior of the agents during the game  such that other agents could infer
clients  preferences  and therefore market supply  demand  and prices   tac agents
would potentially be able to learn to predict market behavior as a game proceeds 

with or without these modifications  we hope to be able to participate in future tacs 
with the goal of adding additional adaptive elements to attac      
another direction of future research is to apply the lessons learned from tac to real
simultaneous interacting auctions  it is straightforward to write bidding agents to participate in on line auctions for a single good if the value to the client is fixed ahead of time 
the agent can bid slightly over the ask price until the auction closes or the price exceeds
the value  however  when the values of multiple goods interact  such as is the case in tac 
agent deployment is not nearly so straightforward 
one such real application is the federal communications commission s auctioning off
of radio spectrum  weber        cramton         especially for companies that are trying
to achieve national coverage  the values of the different licenses interact in complex ways 
perhaps autonomous bidding agents will be able to affect bidding strategies in such future
   this change has been adopted in the specification of tac    

   

fiattac       an adaptive autonomous bidding agent

auctions  indeed  in related research we have begun down this path by creating straightforward bidding agents in a realistic fcc auction simulator  csirik  littman  singh   
stone        
in a more obvious application  an extended version of attac      could potentially
become useful to real travel agents  or to end users who wish to create their own travel
packages 

acknowledgements
we would like to thank the tac team at the university of michigan  including michael wellman  peter wurman  kevin o malley  daniel reeves  and william walsh  for constructing
the tac server and responding promptly and cordially to our many requests while conducting the research reported here  we would also thank the anonymous reviewers for their
helpful comments and suggestions 

references

anthony  p   hall  w   dang  v  d     jennings  n  r  autonomous agents for participating
in multiple on line auctions  
cramton  p  c          the fcc spectrum auctions  an early assessment  journal of
economics and management strategy                 
csirik  j  a   littman  m  l   singh  s     stone  p          faucs  an fcc spectrum auction simulator for autonomous bidding agents  in proceedings of the second international workshop on electronic commerce  to appear  available at
http   www research att com  pstone papers html 
eisenberg  a          in online auctions of the future  it ll be bot vs  bot vs  bot  the new
york times  august   th 
garey  m  r     johnson  d  s          computers and intractability  a guide to the
theory of np completeness  freeman  san francisco  ca 
gimenez funes  e   godo  l   rodriguez aguiolar  j  a     garcia calves  p          designing bidding strategies for trading agents in electronic auctions  in proceedings of
the third international conference on multi agent systems  pp          
greenwald  a   boyan  j   kirby  r  m     reiter  j          bidding algorithms for simultaneous auctions  in proceedings of third acm conference on e commerce  p  to
appear 
greenwald  a     kephart  j  o          shopbots and pricebots  in proceedings of the
sixteenth international joint conference on artificial intelligence  pp          
greenwald  a     stone  p          autonomous bidding agents in the trading agent competition  ieee internet computing               
   

fistone  littman  singh    kearns

ito  t   fukuta  n   shintani  t     sycara  k          biddingbot  a multiagent support
system for cooperative bidding in multiple auctions  in proceedings of the fourth
international conference on multiagent systems  pp          
klemperer  p          auction theory  a guide to the literature  journal of economic
surveys                 
littman  m  l          markov games as a framework for multi agent reinforcement learning  in proceedings of the eleventh international conference on machine learning 
pp          san mateo  ca  morgan kaufman 
preist  c   bartolini  c     phillips  i          algorithm design for agents which participate in multiple simultaneous auctions  in agent mediated electronic commerce iii
 lnai   pp           springer verlag  berlin 
rodriguez aguilar  j  a   martin  f  j   noriega  p   garcia  p     sierra  c          towards
a test bed for trading agents in electronic auction markets  ai communications  in
press  available at http   sinera iiia csic es  pablo pncve html 
singh  s   kearns  m     mansour  y          nash convergence of gradient dynamics in
general sum games  in proceedings of the sixteenth conference on uncertainty in
artificial intelligence  uai   pp          
stone  p          layered learning in multiagent systems  a winning approach to robotic
soccer  mit press 
weber  r  j          making more from less  strategic demand reduction in the fcc
spectrum auctions  journal of economics and management strategy                 
wellman  m  p   wurman  p  r   o malley  k   bangera  r   lin  s  d   reeves  d     walsh 
w  e          a trading agent competition  ieee internet computing               

   

fi