journal of artificial intelligence research                  

submitted          published        

on action theory change
ivan jose varzinczak

ivan varzinczak meraka org za

meraka institute  csir
pretoria  south africa

abstract
as historically acknowledged in the reasoning about actions and change community 
intuitiveness of a logical domain description cannot be fully automated  moreover  like any
other logical theory  action theories may also evolve  and thus knowledge engineers need
revision methods to help in accommodating new incoming information about the behavior
of actions in an adequate manner  the present work is about changing action domain
descriptions in multimodal logic  its contribution is threefold  first we revisit the semantics
of action theory contraction proposed in previous work  giving more robust operators that
express minimal change based on a notion of distance between kripke models  second
we give algorithms for syntactical action theory contraction and establish their correctness
with respect to our semantics for those action theories that satisfy a principle of modularity
investigated in previous work  since modularity can be ensured for every action theory
and  as we show here  needs to be computed at most once during the evolution of a domain
description  it does not represent a limitation at all to the method here studied  finally
we state agm like postulates for action theory contraction and assess the behavior of our
operators with respect to them  moreover  we also address the revision counterpart of
action theory change  showing that it benefits from our semantics for contraction 

   introduction
consider an intelligent agent designed to perform rationally in a dynamic world  and suppose
that she should reason about the dynamics of an automatic coffee machine  figure    

nicecaf
 

figure    the coffee deliverer agent 
suppose  for example  that the agent believes that coffee is always a hot beverage 
suppose now that some day she gets a coffee at the machine and observes that it is cold 
in such a case  the agent must change her beliefs about the relationship between the two
propositions i hold a coffee and i hold a hot drink  this example is an instance of
the problem of changing propositional belief bases and has been largely addressed in the
c
    
ai access foundation  all rights reserved 

fivarzinczak

literature about belief revision  alchourron  gardenfors    makinson        gardenfors 
      hansson        and belief update  katsuno   mendelzon        
next  let our agent believe that whenever she buys a coffee from the machine  she gets a
hot drink  this means that in every state of the world that follows the execution of buying
a coffee  the agent ends up with a hot drink  now  in a situation where the machine is
running out of cups  after buying  the coffee runs through the shelf and the agent  contrary
to what she was expecting  does not hold a hot drink in her hands 
imagine now that the agent never considered any relation between buying a coffee on the
machine and its service availability  in the sense that she always believed  quite reasonably 
that buying does not prevent other users from using the machine  nevertheless  someday
our agent is queuing to buy a coffee and observes that just after the agent before her has
bought  the machine went out of order  maybe due to a lack of coffee powder  
completing our agents struggle in discovering the intricacies of operating a coffee machine  let us suppose now that she always believed that if she has a token  then it is possible
to buy coffee  provided that some other preconditions like being close enough to the button 
having a free hand  etc  are satisfied  eventually  due to a blackout  the agent realizes that
she does not manage to buy her coffee  even with a token 
the last three examples illustrate cases in which changing the beliefs about the behavior
of the action of buying coffee is mandatory  in the first one  buying coffee  once believed to
have a deterministic outcome  namely always a hot drink  has now to be seen as nondeterministic or  alternatively  to have a different effect in a more specific context  e g  if there
is no cup in the machine   in the second example  buying a coffee is now known to have
side effects  ramifications  which one was not aware of  finally  in the last example  the
feasibility of the action under concern is questioned in the light of new information showing
a context that was not known to preclude its execution 
such cases of theory change are very important when one deals with logical descriptions
of dynamic domains  it may always happen that one discovers that an action actually has
a behavior that is different from that one has always believed it had 
up to now  theory change has been studied mainly for knowledge bases in classical logics 
both in terms of revision and update  since the work by fuhrmann         only in a few recent studies has it been considered in the realm of modal logics  viz  in epistemic logic  hansson        and in dynamic logics  herzig  perrussel    varzinczak         recently some
studies have investigated revision of beliefs about facts of the world  shapiro  pagnucco 
lesperance    levesque        jin   thielscher        or the agents goals  shapiro 
lesperance    levesque         in our scenario  this would concern for instance the truth
of token in a given state  the agent believes that she has a token  but is actually wrong
about that  then she might subsequently be forced to revise her beliefs about the current
state of affairs or change her goals according to what she can perform in that state  such
belief revision operations do not modify the agents beliefs about the action laws  on the
other hand  here we are interested exactly in such modifications  starting with baral and
lobos work         some recent studies have been done on that issue  eiter  erdem  fink 
  senko        for domain descriptions in action languages  gelfond   lifschitz        
we here take a step further in this direction and propose a method which is more robust
by integrating a notion of minimal change and complying with postulates of theory change 
   

fion action theory change

the present text is structured as follows  in section   we establish the formal background that will be used throughout this article  sections    are the core of the work  in
section   we present the central definitions for a semantics of action theory change  providing justifications for the design choices here made  section     section   is devoted to
the syntactical counterpart of our operators while section   to the proof of its correspondence with the semantics under certain acceptable conditions  in section   we discuss some
postulates for contraction erasure and then present a semantics for action theory revision
 section     after a discussion on and comparison with existing work in the field  section    
we conclude with an overview and future directions of research 

   logical preliminaries
following the tradition in the reasoning about actions and change  rac  community 
we consider action theories to be finite collections of statements that have the particular
form  shanahan        
 if context  then effect after every execution of action  effect laws  
 if precondition  then action executable  executability laws  
statements mentioning no action at all represent laws about the underlying structure of the
world  i e   its possible states  static laws  
several logical frameworks have been proposed to formalize such statements  shanahan 
       among the most prominent ones are the first order based situation calculus  mccarthy   hayes        reiter         the family of action languages  gelfond   lifschitz 
      giunchiglia  kartha    lifschitz         the fluent calculus  thielscher         and
propositional dynamic logic  pdl   harel  tiuryn    kozen        with different specific extensions thereof  de giacomo   lenzerini        castilho  gasquet    herzig       
zhang   foo        castilho  herzig    varzinczak        
here we opt to formalize action theories using the multimodal logic kn  popkorn        
among the main reasons for such a choice are 
 we benefit from the well defined semantics for multimodal logics which  as we are
going to see in the sequel  provides simple and intuitive foundations on which to build
the meaning of changing action domain descriptions 
 kn syntax allows us to express all the afore mentioned types of laws without requiring
the full expressiveness of pdl or the machinery of a first order language 
 since kn is the core of all above mentioned pdl based action formalisms  all we shall
say in the sequel should smoothly transfer to them 
 contrary to first order based approaches  kn is decidable and has several implemented
theorem provers for it available in the literature 
   

fivarzinczak

    action theories in multimodal logic
let act    a    a            an   be the set of all atomic action constants of a given dynamic
domain  an example of atomic action is buy  to each atomic action a there is associated
a modal operator  a   we here suppose that our multimodal logic is independently axiomatized  kracht   wolter         i e   the logic is a fusion and there is no interaction between
the different modal operators  
prop    p    p            pn   denotes a finite set of propositional constants  also called fluents
or elementary atoms  examples of those are token  the agent has a token  and coffee
 the agent holds a coffee   lit    p  p   p  prop  is the set of literals  we use   to
denote a literal  if     p  then we identify   with p  by     we denote the atom in   
we use small greek letters           to denote boolean  propositional  formulas  they
are recursively defined in the usual way 
     p                              
    denotes              fml is the set of all boolean formulas  an example of a
boolean formula is coffee  hot  a propositional valuation v is a maximal consistent set of
literals  we denote by v   the fact that v satisfies a propositional formula   by val  
we denote the set of all valuations satisfying   by cpl we denote classical propositional
logic and   cpl is its respective consequence relation  cn   denotes all logical consequences
of  in cpl  i e   cn            
  
cpl
if  is a propositional formula  atm   denotes the set of elementary atoms actually
occurring in   for example  atm p    p   p        p    p    
for  a boolean formula  ip   denotes the set of its prime implicants  quine        
i e   the weakest terms  conjunctions of literals  that imply   as an example  ip p   p     
 p   p    p   p     for more on prime implicants  their properties and how to compute
them  see the chapter by marquis         with  we denote a prime implicant  and given  
and       abbreviates   is a literal of   for a given set x  x denotes its complement 
hence atm   denotes prop   atm   
we denote complex formulas  possibly with modal operators  by           they are
recursively defined in the following way 
         a                        
hai is the dual operator of  a   defined by hai  def  a   an instance of a complex
formula in our scenario example is coffee   buy coffee 
given a complex formula   with act   we denote the action names occurring in  
i e   the modalities of   for example  act  a   p     a   p    a   p        a    a    
the semantics here is the standard semantics of multimodal logic kn  popkorn        
definition      kn  model  a kn  model is a tuple m   hw  ri where w is a set of valuations  also called possible worlds   and r maps action constants a to accessibility relations
ra  w  w 
   later on we will see that this is a requirement to ensure that an action theory is modular 

   

fion action theory change

as an example  for act    a    a    and prop    p    p     we have the kn  model m  
hw  ri  where
w     p    p      p    p      p    p     


  p    p      p    p        p    p      p    p     
r a     
  p    p      p    p        p    p      p    p    
r a         p    p      p    p        p    p      p    p     
figure   gives a graphical representation of the model m  
a 
w 
p    p 

w 

a 

p    p 

a 

m  

a 

a 

w 
p    p 
a 

figure    example of a kn  model for act    a    a     and prop    p    p    
notice that our definition of kn  model does not follow the traditional notion from modal
logics  here no two worlds satisfy the same valuation  this is a pragmatic choice  as we
will see in section    nevertheless  all we shall say in the sequel can be straightforwardly
formulated for standard kn models as well 
definition      truth conditions  given a kn  model m   hw  ri 
m

   
p  p is true at world w of m   iff w  p  valuation w satisfies p  i e   p  w  
w
m

m

   
 a  iff       for every w  such that  w  w     ra  
w
w

m

m

m

   
   iff   
 and   
 
w
w
w
m

m

m

   
 iff    w   i e   not   w  
w
 truth conditions for the other connectives are as usual 
by m we will denote a  possibly empty  set of kn  models 
m

m

a kn  model m is a model of   denoted      if and only if for all w  w    
  in the
w
m

m

model depicted in figure    we have    p    a   p  and    p   p    m is a model of a set
m
m
of formulas   noted      if and only if     for every     if  is the set of formulas
we start off with  our non logical theory   then each    is called a global axiom 
   

fivarzinczak

definition      global consequence  a formula  is a global consequence of a set
of global axioms  in the class of all kn  models  noted    
  if and only if for every
k
m

n

m

kn  model m   if      then     
with kn we can state laws describing the behavior of actions  one way of doing this is by
stating some formulas as global axioms   as usually done in the rac community  shanahan         we here distinguish three types of laws  the first kind of statements are static
laws  which are constraints on the allowed states of a dynamic domain 
definition      static law  a static law is a global axiom   fml 
an example of a static law is coffee  hot  saying that if the agent holds a coffee  then she
holds a hot drink  in the situation calculus formalism  reiter        one would write the
first order formula s  coffee s   hot s    the set of all static laws of a scenario is denoted
by s  fml  in our example we will have s    coffee  hot  
the second kind of action law we consider is given by the effect laws  these are formulas
relating an action to its effects  which can be conditional 
definition      effect law  let     fml  an effect law for action a is a global axiom
of the form    a  
the consequent  is the effect which always obtains in accessible states  which need not
exist in general  when action a is executed in a state where the antecedent  holds  in our
kripke semantics  this means that in every possible world where  holds  every transition
by an a labeled arrow  if any  leads to a possible world where  holds  if a is a nondeterministic action  then the consequent  is typically a disjunction  an example of an effect
law is coffee   buy coffee  saying that in a situation where the agent has no coffee  after
buying  the agent has a coffee  if  is inconsistent  then we have a special kind of effect
law that we call an inexecutability law  for example  we could also have token   buy  
expressing that buy cannot be executed if the agent has no token  in the situation calculus our examples of effect and inexecutability laws would be expressed respectively as
s  coffee s   coffee do buy  s    and s  token s   poss buy  s   
the set of effect laws of a given scenario is denoted by e   in our coffee machine scenario 
we could have for example 


 coffee   buy coffee  
token   buy token 
e  


token   buy 
finally  we also define executability laws  which stipulate the context where an action is
guaranteed to be executable  in kn   the operator hai is used to express executability  hai 
thus reads the execution of a is possible  formally  hai  being true in a world w means
that there is at least one world w  accessible from w via ra  cf  definition      
   an alternative to that is given by castilho et al                with laws being stated with the aid of an
extra universal modality and local consequence being thus considered 

   

fion action theory change

definition      executability law  let   fml  an executability law for action a is
a global axiom of the form   hai  
for instance  token  hbuyi  says that buying can be executed whenever the agent has a
token  the set of all executability laws of a given domain is denoted by x   in our scenario
example we will have x    token  hbuyi   
note that in principle one needs to know nothing about the accessible world w    however 
a common  albeit tacit  assumption in the rac community is that we state executability
laws only for actions of which we know the effects  in other words act x    act e   
in the situation calculus our example would be stated as s  token s   poss buy  s   
however  we point out that  traditionally  in reiter basic action theories  reiter       
executability laws and inexecutability laws are mixed together in the form of bi conditionals
like s  token s   poss buy  s    called precondition axioms  for a critique of such a
practice and its implications in formalizing dynamic domains  see the work by herzig and
varzinczak        
with our three basic types of laws  we are able to define action theories 
definition      action theory  given any  possibly empty  sets of laws s   e   and x  
t   s  e  x is an action theory 
given an action theory t and an action a  ea  resp  xa   will denote the set of only those
effect  resp  executability  laws about a in e  resp  x    ta   s  ea  xa is then the action
theory for a 
it is worth noting that for a    a   act  a     a    the intuition is indeed that ta  and ta 
overlap only on s   i e   the only laws that are common to both ta  and ta  are the laws
about the structure of the world  this requirement is somehow related with the underlying
modal logic being independently axiomatized  see note above  
    the frame  ramification and qualification problems
during the last    years  most of the effort in the reasoning about actions community has
been devoted to searching for satisfactory solutions to the frame problem  the ramification
problem and the qualification problem 
roughly speaking  the frame problem  mccarthy   hayes        relates to the need for
inferring the persistence of some facts of the world after the execution of an action known
not to affect them  without having to state that explicitly in the form of frame axioms 
 frame axioms are a special type of effect law  having the form     a    for    lit  
in our example  buying a coffee in a context where the agent has already got one does
not make it lose the coffee  coffee   buy coffee should be a consequence of our theory 
the ramification problem  finger        comes from the observation that an action may
have several possibly interdependent effects and stating all of them explicitly is a huge
task  in our scenario  we want to be able to infer  buy hot without saying it in the theory 
and in such a way some intrinsic causal connection between coffee and hot is taken into
account  finally  the qualification problem  mccarthy        amounts to addressing the
issue of ensuring that an action is executable in a given context  specifying all the sufficient
   

fivarzinczak

conditions for an action to be executable is an incredibly hard task  in our example  one
may state token  hbuyi   but it may well be the case that buying fails due to some
condition unforeseen at design time  like the agents arm being rusty and stuck 
for more on these core problems of the rac community  the reader is referred to the
book by shanahan        
for the sake of clarity  here we abstract from the frame and ramification problems  and
suppose that the agents theory already entails all the relevant frame axioms  we point out
however that all we shall say could have been defined within a formalism with a solution to
the frame and ramification problems  for instance  we could have used any suitable solution
to the frame problem  like e g  the dependence relation  castilho et al          which is used
in the work of herzig et al          or a kind of successor state axioms in a slightly modified
setting  demolombe  herzig    varzinczak         to make the presentation more clear
to the reader  here we do not bother with a particular solution to the frame problem and
just assume that all frame axioms can be inferred from the action theory  actually we
can suppose that all intended frame axioms are automatically recovered and stated in the
theory  more specifically  in the set of effect laws 
given the largely acknowledged difficulty of the qualification problem in the literature  shanahan         we do not assume here any a priori solution to it  instead  as tacitly
assumed in many approaches to reasoning about actions  castilho et al         zhang  
foo        reiter         we suppose that the knowledge engineer may want to state some
 not necessarily fully specified  executability laws for some actions  these may be incorrect
at the starting point  and in all probability they will be   but revising wrong executability
laws is an approach towards its solution and one of the aims of this work  with further
information the knowledge engineer will have the chance to change them so that eventually
they will correspond to the intuition  cf  sections   and    
having agreed on these points  the action theory of our example will be 


coffee

hot 
token

hbuyi  






coffee   buy coffee 
t 
token   buy token  token   buy   





coffee   buy coffee  hot   buy hot
 we have not stated the frame axiom token   buy token because it can be trivially
deduced from the inexecutability law token   buy   
figure   below shows a kn  model for the action theory t above 
we are going to see in the sequel that the finite base t formalizing the action theory
plays a role in the contraction of laws  in particular  the base representing the static laws
turns out to be quite important  so given an action theory t  it will be useful to consider
models of t whose possible worlds are all the possible valuations allowed by s  
definition      canonical frame  let t   s  e  x be an action theory  then the
tuple mcan   hwcan   rcan i is the canonical frame of t if and only if 
 wcan   val s    and
s
m
m
 rcan   aact ra s t  ra     w  w      for all    a   ea   if   w   then        
w

   

fion action theory change

w 
t  c  h
b

b
w 

w 

m  

t  c  h

t  c  h

b

w 
t  c  h

figure    a model for our coffee machine scenario  b  t  c  and h stand for  respectively 
buy  token  coffee  and hot 

the canonical frame of an action theory need not be one of its models  to witness why 
let prop    p   act    a   and consider the simple action theory  p   a   p  hai   
then in the associated canonical frame we have wcan     p    p    clearly the world  p 
does not satisfy this theory 
definition      canonical model  m is a canonical model of t if and only if m is a
m
canonical frame of t and    t 
figure   below shows the canonical model of our action theory example t 
w 
t  c  h
b

m  

b
w 

w 
t  c  h

w 

b

t  c  h

w 

w 
t  c  h

t  c  h

t  c  h

figure    the canonical model for the coffee machine scenario 

    prime valuations
we say that an atom p is essential to a formula  if and only if p  atm     for every  
such that   
      for instance  p  is essential to p    p   p     given   atm   
cpl
denotes the set of essential atoms of    if  is not contingent  i e    is a tautology or a
contradiction  then atm        
given  a boolean formula   is the set of all formulas   such that    
  and
cpl
 
atm     atm     forv instance  p  v
 p  
  p    as p    
p  p  but atm p   p     
cpl  
atm  p     clearly  atm      atm      moreover whenever   cpl     is the case 
then atm      atm      and also       
   

fivarzinczak

theorem      leastvatom set theorem  parikh        let  be a propositional formula  then   cpl     and for every   such that   cpl       atm    atm     
a proof of this theorem is given by makinson        and we do not state it here 
essentially  the theorem establishes that for every boolean formula   there is a unique
least set of elementary atoms such that  may equivalently be expressed using only atoms
from that set  hence  cn     cn   
given a valuation v  v   v is a subvaluation  given a set of valuations w  a subvaluation
v  satisfies a propositional formula  modulo w  noted v  w   if and only if v   for all
v  w such that v   v  we say that a subvaluation v essentially satisfies   modulo w  
 
 
noted v w   if and only if v w  and           v   atm     if v w   we call v an
essential subvaluation of   modulo w  
definition       prime subvaluation  let  be a boolean formula and w a set of val 
uations  a subvaluation v is a prime subvaluation of   modulo w  if and only if v 

w
 

and there is no v   v such that v  w  
a prime subvaluation of a formula  is thus one of the weakest states of truth in which 
is true  hence  prime subvaluations are just another way of seeing prime implicants  quine 
      of   by base   w  we will denote the set of all prime subvaluations of  modulo w 
proposition     w
let   fmlvand w be a set of valuations  then for all w  w  w  
if and only if w  vbase  w   v   
proof  right to left direction is straightforward  for the left to right direction  if w   
 
then w    let w   w be the least subset of w still
vsatisfying   clearly  w is a prime
subvaluation of  modulo w  and then because w   w     the result follows 
 
    closeness between models
when contracting a formula from a model  we will perform a change in its structure  because
there can be several different ways of modifying a model  not all of them minimal   we need
a notion of distance between models to identify those that are closest to the original one 
as we are going to see in more depth in the next section  changing a model amounts
to modifying its possible worlds or its accessibility relation  hence  the distance between
two kn  models will depend upon the distance between their sets of worlds and accessibility
relations  these here will be based on the symmetric difference between sets  defined as
x y    x   y     y   x  
definition       closeness between kn  models  let m   hw  ri be a model  then
m     hw    r  i is at least as close to m as m      hw     r   i  noted m   m m      if and only if
 either ww   ww    
 or ww    ww   and rr   rr    
   

fion action theory change

this is an extension of burger and heidemas relation  burger   heidema        to our
modal case  it defines a lexicographic order on the set of all kn  models  although simple 
this notion of closeness turns out to be sufficient for our purposes here  as we shall see in the
sequel  notice that other notions of distance between models could have been considered as
well  namely the cardinality of symmetric differences or hamming distance   see section  
for a discussion on this  

   semantics of action theory change
when admitting the possibility of a law  failing  one must ensure that  becomes invalid 
i e   not true in at least one model of the dynamic domain that is formalized  because there
can be lots of such models  we may have a set m of models in which  is  potentially  valid 
thus contracting  amounts to making it no longer valid in this set of models  what are
the operations that must be carried out to achieve that  throwing models out of m does
not work  since  will keep on being valid in all models of the remaining set  thus one
should add new models to m  which models  well  models in which  is not true  but
not any of such models  taking models falsifying  that are too different from our original
models will certainly violate the principle of minimal change 
hence  we shall take some model m  m as basis and manipulate it to get a new model
 
m in which  is not true  in our modal semantics  the removal of a law  from a model
m   hw  ri means modifying the possible worlds or the accessibility relation in m so that
 becomes false  such an operation gives as result a set m of models each of which is no
longer a model of   but if there are several candidates  which ones should we choose  we
shall take those models that are minimal modifications of the original m   i e   those which
are minimal with respect to our distance m between models  of course  there can be more
than one such an m   that is minimal with respect to m   in that case  because adding
just one of these new models is enough to invalidate   we take all possible combinations
m   m     of expanding our original set of models m by one of these minimal models 
 observe that this approach relates to orderly maxichoice contraction hansson         the
result will be a set of sets of models  in each set of models there will be precisely one model
m   falsifying  
it might be claimed that  as such  our contraction method described above does not
respect the so called principle of categorical matching  the input and output are different
sorts of objects  namely a set of models and a set of sets of models  it is easy to see 
however  that the reasoning above can be stated in such a way that each output set of
models corresponds precisely to the result of one contraction operator  satisfying then the
referred principle  the choice for defining the result of an operation as a set of possible
outputs will become more clear in section    where we are going to present algorithms that
correspond exactly to our semantic constructions 
    model contraction of executability laws
to contract an executability law   hai  from one model  intuitively we should remove
transitions leaving  worlds  in order to succeed in the operation  we have to guarantee
that in the resulting model there will be at least one  world with no departing a arrow 

   

fivarzinczak


definition     let m   hw  ri  m     hw    r  i  mhai 
if and only if

 w    w 
 r   r 
m

  and
 if  w  w     r   r    then   
w
m 

 there is w  w  such that    w   hai  


observe that mhai 
    if and only if  is satisfiable in w  moreover  m  mhai 
m

if and only if       hai  
just to provide the reader with an insight on how this operation would be carried out
in the situation calculus  there one should look at a given situation s in which  holds
and then modify the interpretation of the predicate poss a  so that it becomes false in s 
like in our case  there may be many of such situations and then all of them must be taken
into account  an essential difference here is that our kripke structures are always finite 
whereas the space of situations is possibly infinite  reiter        
to get minimal change  we want such an operation of removing transitions to be minimal
with respect to the original model  one should remove a minimum set of transitions which
is sufficient to get the desired result 
definition     contract m     hai    

s


min mhai 
  m  

and now we define the sets of possible models resulting from the contraction of an
executability law in a set of models 
definition     let m be a set of models  and   hai  an executability law  then
 
 
 
 
m
hai     m   m   m   m    m  contract m     hai    m  m 

in our running example  consider m    m    where m is the model in figure    when
the agent discovers that even with a token she does not manage to buy a coffee any more 
she has to change her models in order to admit  new  models with states where token is
the case but from which there is no buy transition at all  because having just one such
a world in each new model is enough  taking those resulting models whose accessibility
relations are maximal guarantees minimal change  hence we will have m
tokenhbuyi   
 
 
 
 
 m   m     m   m     m   m      where each mi is depicted in figure   
m

clearly  if  is not satisfied in m  i e       for all m  m  then the contraction
of   hai  does not succeed  this is in line with the expectations and it relates to the
success postulate  cf  section      
   

fion action theory change

w 

w 
t  c  h

t  c  h
b

m    

b
w 

w 
t  c  h

w 

w 

w 
t  c  h

t  c  h

b

t  c  h

w 

w 

w 

t  c  h

t  c  h

w 

w 

m    

t  c  h

b

t  c  h

t  c  h

t  c  h

w 
t  c  h
b

m    

b
w 

w 
t  c  h

t  c  h

w 

w 

w 
t  c  h

t  c  h

t  c  h

figure    models resulting from contracting token  hbuyi  in the model m of figure   
    model contraction of effect laws
when our agent discovers that there may be some cases where after buying she gets no
hot drink  she must e g  give up the belief in the effect law token   buy hot in her set of
models  this means that token  hbuyihot shall now be admitted in at least one world of
some of the new models of her set of beliefs  therefore  to contract an effect law    a 
from a given model  intuitively we have to add new transitions from  worlds to worlds not
satisfying   as we shall see  the great challenge in such an operation is precisely how to
guarantee minimal change 
in our example  when contracting token   buy hot from the model of figure   we shall
add transitions from token worlds to hot worlds  because coffee  hot is a static law and
so is hot  coffee  this should also give us hbuyicoffee in some token world  coffee is
causally relevant to hot  i e   to have hot we must also have coffee   this means that if
we allow for hbuyihot in some token world  we also have to allow for hbuyicoffee in that
same world  the same argument does not necessarily hold for token  allowing for hbuyihot
does not necessarily oblige us to allow for hbuyitoken in the respective world  this is because
token is not relevant to hot  as coffee is   this means that we have the freedom either
to allow for it or not 
hence  in our running example we can add transitions from token worlds to hot 
coffee  token worlds  as well as to hot  coffee  token  this situation is depicted in
figure    for instance  we can add a new buy arrow from the world  token  coffee  hot 
to one of these candidates  figure    
in the situation calculus  such a modification would be slightly different  but with the
same intuition behind  one should look at a given situation s in which  holds and then
modify the interpretation of the fluents  atoms  in do a  s   the situation resulting from
performing a in s  alternatively  new  situations should lead to at least one  situation 
   

fivarzinczak

w 
t  c  h
b

m  

b
w 

w 
t  c  h

w 

t  c  h

b

w 

w 
t  c  h

t  c  h

t  c  h

figure    candidate worlds to receive transitions coming from token worlds 
w 
t  c  h
b

m  

b
w 

w 
t  c  h

w 

b

t  c  h

w 

w 
t  c  h

b

t  c  h

t  c  h

b

figure    two candidate new buy arrows to falsify token   buy hot in m  
notice however that this would require the addition of new whole branches to the tree like
first order model induced by reiter basic action theories  reiter        
back to our example  observe that adding the new transition to  token  coffee  hot 
itself would make us lose the effect token  true after every execution of buy in the original
m
model     token   buy token   how do we preserve this law while allowing for the new
transition to a hot world  that is  how do we get rid of the effect hot without losing effects
that are not relevant for that  we here develop an approach for this issue 
when adding a new transition leaving a world w we intuitively want to preserve as many
effects as we had before doing so  to achieve this  it is enough to preserve old effects only
in w  because the remaining structure of the model remains unchanged after adding the
new transition   of course  we cannot preserve effects that are inconsistent with   those
will all be lost   hence it suffices to preserve only the effects that are consistent with  
to achieve that we must observe what is true in w and in the target world w   
 the proper effects of the action in world w    i e   what changes from w to w   w    w 
through the new execution of a must be what is obliged to be so  either because those
literals that now change from w to w  are necessary to having  in w   like coffee
in our example  or because they are necessary to have another effect  independent of
  like token  in world w   
   

fion action theory change

 the non effects of action a in world w    i e   what does not change from w to w 
 w  w    through as new execution should be only what is allowed to be so  certain
literals are never preserved  like token in our example   then when pointing the new
transition towards a world where it does not change with respect to the leaving world
 hot  coffee  token in our example   we may lose effects that held in w before
adding the transition 
this means that the only things allowed to change in the candidate target world must
be those that are forced to change  either by some non related law or because of having
 modulo a set of states w  in other words  we want the literals that  now  change from
w to w  to be at most those that are sufficient to get  modulo w  while preserving the
maximum of other effects  every change beyond that is not an intended one  similarly 
we want the literals from w that are  now  preserved in the target world w  to be at most
those that are usually preserved in a given set of models  every preservation beyond those
may make us lose some law  this looks like prime implicants  and that is where prime
subvaluations play their role  the worlds to which the new transition will point are those
whose difference with respect to the departing world are literals that are relevant and whose
similarity with respect to it are literals that we know do not change 
definition      relevant target worlds  let m   hw  ri be a model  w  w   w  m
a set of models such that m  m  and    a  an effect law  then w  is a relevant target
world of w with respect to    a  for m in m if and only if
m

m

   
 and        
w
w

 for all    w    w 
 either there is v  base   w  such that v  w  and    v 
 or there is     fml such that there is v   base      w  such that v   w       v   
m
and for every mi  m    w i  a   
 for all    w  w   
 either there is v  base   w  such that v  w  and    v 
m

i
 or there is mi  m such that    
 a   
w

by reltarget w     a   m   m  we denote the set of all relevant target worlds of w with
respect to    a  for m in m 
note that we need the set of models m  and here we can suppose it contains all models
of the theory we want to change  because preserving effects depends on what other effects
hold in the other models that interest us  we need to take them into account in the
local operation of changing one model   the reason we do not need m in the definition

of the local  one model contraction of executability laws mhai 
is that when removing
transitions there is no way of losing effects  as every effect law that held in the world from
which a transition has been removed remains true in the same world in the resulting model  
   

fivarzinczak

definition     let m   hw  ri  and m be such that m  m  then m     hw    r  i 

m a 
if and only if
 w    w 
 r  r   
 if  w  w     r    r  then w   reltarget w     a   m   m   and
m 

 there is w  w  such that    w    a  

observe that m a 
    if and only if  and  are both satisfiable in w  moreover 
m


m  m a 
if and only if        a  

because having just one world where the law is no longer true in each model is enough 
taking those resulting models whose accessibility relations are minimal with respect to the
original one guarantees minimal change 
definition     contract m      a    

s


min m a 
  m  

now we can define the possible sets of models resulting from contracting an effect law
from a set of models 
definition     let m be a set of models  and    a  an effect law  then
 
 
 
 
m
 a     m   m   m   m    m  contract m      a    m  m 

taking again m    m    where m is the model in figure    after contracting token 
 
 
 
 buy hot from m we get m
token buy hot    m   m     m   m     m   m      where all
mi  s are as depicted in figure   
in both cases where  is not satisfiable in m or  is valid in m   of course our operator
does not succeed in falsifying    a   cf  end of section       again  this works as
expected and it has to do with the success postulate  see also section      
    model contraction of static laws
when contracting a static law from a model  we want to admit the existence of at least
one  new  possible state falsifying it  this means that intuitively we should add new worlds
to the original model   in a situation calculus setting that would correspond to allowing
for situations not satisfying some of the domain constraints   this is quite easy  a very
delicate issue however is what to do with the accessibility relation  should new transitions
leave arrive at the new world  if no transition leaves the new added world  we may lose
some executability law  if some transition leaves it  then we may lose some effect law  the
same holding if we add a transition pointing to the new world  on the other hand  if no
transition arrives at the new world  what about the intuition  is it intuitive to have an
unreachable state   similar issues would also arise in situation calculus interpretations 
which means that they are independent of the underlying formalism  
   

fion action theory change

w 

w 
t  c  h

b

m    

t  c  h
b

b
w 

w 
t  c  h

w 

w 

m    

t  c  h

b

b

t  c  h

b

t  c  h

b
w 

w 

w 
t  c  h

w 

t  c  h

t  c  h

b

t  c  h

w 

w 
t  c  h

t  c  h

w 
t  c  h
b

m    

b
w 

w 
t  c  h

b

t  c  h

b
w 

w 

w 
t  c  h

t  c  h

t  c  h

figure    models resulting from contracting token   buy hot in the model m of figure   

all this discussion shows how drastic a change in the static laws might be  it is a change
in the underlying structure  possible states  of the world  changing them may have as an
indirect  unexpected  and in all probability unwanted  consequence the loss of some effect
law s  or some executability law s   what we can do is choose which type s  of laws we
may accept to lose in this process and then postpone their change  by the other operators  
following the tradition in the rac community  which states that executability laws are
in general more difficult to formalize than effect laws  and therefore they are more likely
to be incorrect  shanahan         here we prefer not to change the accessibility relation 
which means that we preserve effect laws and postpone the correction of executability laws 
if required   remember that this is an approach towards a solution to the qualification
problem  cf  section     above  
one may argue that doing things this way makes our three operators incoherent in the
sense that for effect and executability laws we adopt a minimal change approach  giving
stronger theories  whereas for static laws we adopt a more cautious approach  giving weaker
theories  see the next section   it is worth noting however that as largely recognized by the
rac community  the different laws of a domain description do not have the same status 
a minimal change approach for static law contraction that preserves as many executability
laws as possible  even if coherent  would definitely fail to cope with the qualification problem 
moreover  by propagating wrong executability laws  such a coherent method would definitely
be less elaboration tolerant  mccarthy        than the one we are defining with regards to
further modifications of the theory 
for those reasons  our contention here is that static law contraction should be cautious 
 for a detailed discussion on this  see section     below and the end of section      

   

fivarzinczak

definition     let m   hw  ri  m     hw    r  i  m if and only if
 w  w   
 r   r    and
m 

 there is w  w  such that    w  
m

note that m    if and only if      moreover  m  m if and only if      
the minimal modifications of one model are defined as usual 
s
definition     contract m       min m   m  
and now we define the sets of models resulting from contracting a static law from a
given set of models 
definition      let m be a set of models  and  a static law  then
 
 
 
 
m
    m   m   m   m    m  contract m      m  m 

in our scenario example  if the initial set of models is m    m    where m is the model
in figure    then contracting the static law coffee  hot from m would give us the resulting
 
 
 
new set of models m
coffeehot    m   m     m   m      where each mi is as depicted
in figure   below 
w 

w 
t  c  h

b

m    

w 

t  c  h
b

w 
b

m    

t  c  h

w 

w 
t  c  h

t  c  h

b

w 
t  c  h

w 

w 

t  c  h

t  c  h

t  c  h

b
w 

w 
t  c  h

b

t  c  h

w 

w 

w 
t  c  h

t  c  h

t  c  h

figure    models resulting from contracting coffee  hot in the model m of figure   
notice that by not modifying the accessibility relation all the effect laws which are true
in the original model m are preserved in the resulting models  this is ensured by  buy 
being true in the new world w   
it is only some executability laws that are potentially lost  due to the cautiousness of
our approach  for instance  in m   above  it is no longer the case that token  hbuyi  is
true  since now there is a world  namely w    which does not satisfy it anymore   in m   this
executability law is still true in every possible world  
it is worth point out  however  how our approach is indeed in line with intuition  when
learning that a new state is now possible  we do not necessarily know all the behavior of the
actions in the new added state  we may expect some action laws to hold in the new world
 see end of section       but  with the information we dispose  not touching the accessibility
relation is the safest way of contracting static laws  cf  section     below  
   

fion action theory change

   interlude
before presenting the algorithmic counterpart of our action theory change operators  in this
section we discuss alternatives to some of our technical constructions  we point out the
issues that such alternatives would raise  we also provide more justifications for some of
the design choices that have been made in the previous sections 
    other distance notions
here we have defined and used a model distance which is based on the symmetric difference between sets  definition        this distance is an extension to kripke structures of
winsletts        notion of closeness between propositional interpretations in the possible
models approach  pma   instead of it  however  we could have considered other distance
notions as well  like dalals        distance  hamming distance         or weighted distance  due to space limitations  we do not develop a through comparison among all these
distances here   for more details  the reader may want to refer to schlechtas      book  
we nevertheless do show that with a cardinality based distance  for example  we may not
always get the intended result 
let card x  denote the number of elements in set x  then suppose that our closeness
between kn  models was defined as follows 
definition      cardinality based closeness between kn  models  let m   hw  ri
be a model  then m     hw    r  i is at least as close to m as m      hw     r   i  noted
m   m m      if and only if
 either card ww     card ww     
 or card ww      card ww     and card rr     card rr     
such a notion of distance is closely related to dalals        closeness 
because when contracting a static law  from a model m we usually add one new
possible world  it is easy to see that with this cardinality based distance we get the same
result in contract m     as with the distance from definition      
when it comes to the contraction of action laws  and then changing the accessibility
relations  however  this cardinality based distance does not seem to fit with the intuitions 
to witness  consider the model m in figure     in which the law p   hai  is true 
a

w 

w 
p    p 

p    p 
a

m  

a
w 
p    p 

figure     a model of the executability law p   hai  
   

fivarzinczak

then  the models resulting from contraction of p   hai  in the model m will be
mphai     m     m       where m   and m    are as depicted in figure    
 

w 

w 

a

w 

p    p 

p    p 

w 
p    p 

p    p 

a

m   

a

m     

w 

w 

p    p 

p    p 

figure     models resulting from contracting p   hai  in the model m of figure    
m   

note that m    is an intended contracted model      p   hai   however  with the
 
cardinality based distance above we will get  m  
p  hai      m   m     we do not have
  
 
  
 
 m   m   in the result since m m m   in m only one transition has been removed 
while in m    two 
    minimal change v  cautiousness
as usually done in the literature on classical belief revision  when defining a  traditional 
theory change operator one must always make the fundamental decision which of two opposing principles should be the guiding one  that of minimizing change  which leads to
strong modified theories  versus that of cautious change  which leads to weak theories  in
this regard  one might argue that our action theory change operators are incoherent  that
is because we adopt the first principle for the contraction of effect and executability laws 
but then the latter principle for contraction of static laws  
it turns out  however  that this view is debatable  from a different perspective one can
think of our three operators as being coherent in the following sense  all of them perform a
version of maxichoice  namely the addition of precisely a single model to the original models
of the theory  
in any case  in the sequel we give a justification for the behavior of our operators and
show that there can be no such an operator for contraction of static laws that is not cautious
while being coherent with the operators for contraction of effect and executability laws   we
say that an operator for static law contraction is coherent with respect to our operators for
contraction of effect and executability laws if it also performs minimal change with respect
to the other types of laws  i e   if it preserves effect and executability laws  
where does the claimed incoherence come from  here our contention is that it is
inherent to the problem of action theory change itself  and not a flaw of our definitions 
the justification is as follows  remembering the intuitions for our semantic constructions 
it is easy to see that for the contraction of executability laws knowledge about some actions
feasibility  the transitions  is removed and only that  for the contraction of effect laws  a
   we thank an anonymous referee for having pointed this out 
   we thank another anonymous referee for having pointed this out 

   

fion action theory change

piece of knowledge is also added  the new transition   but notice that this one is guided
by some given concrete extra information  namely the  effect that we want to allow 
now  for the contraction of static laws  notice that no extra information whatsoever is
given about the new possible state which could guide the addition of some knowledge about
the feasibility of an action  the only thing that we know is that the new world should exist 
nothing more is said about whether there should be any transition leaving it or arriving at
it at all  this is a property of the problem per se  the problem of removing a static law
does not mention executabilities  and it is just reflected by our operator 
therefore  such an incoherence is already in the problem  and as such it is not surprising
to find it again in the proposed operators  these are designed to do what they are allowed
to do given the constraints of the problem  should we have more information in our hands
regarding the new added state  a coherent version of the corresponding operator would
have been defined   see the discussion in section   for a comparison with eiter et al s     
constraint based method for update of action theories  
proposition     there is no minimal change operator for static law contraction that is
coherent with our operators for contraction of effect and executability laws 
proof  suppose that we have a minimal change based  non cautious  contraction operator
for static laws that is coherent with the other operators  this operator must be such that
when contracting   fml only formulas of the type of  are removed  otherwise it is
not coherent with the other operators   this means that both effect and executability laws
should be preserved  in particular  this operator is coherent in this respect when contracting
the formula p   p  from model m in figure    below 
w 

w 
p    p 

m  

a

p    p 

w 

m   

w 

a

w 
p    p 

p    p 

a

p    p 

figure     adding a transition from a new added world in the alternative semantics to
static law contraction  m denotes the original model  while m   shows the new
added world and a candidate transition to add to ra  
following the intuition about contraction of boolean formulas  a new world  viz  the
valuation  p    p     is added to w in m   because the operator in question is non cautious 
a transition should also be added from the new added world  p    p    in m   in order to
preserve the executability law p   hai   also because the operator is non cautious  the
effect law p    a p  should be preserved  hence  such a new transition should point
neither to world  p    p    nor to  p    p    itself  now  if we direct the new transition to
 p    p     the only world that is left   we get the model m   in figure    
   

fivarzinczak

m

m 

observe that     p   p      a p    however       p   p      a p    the operator
makes us lose an effect law  this means that it is not coherent  in order for us to keep this
effect law  the only option is not to direct the new transition to  p    p     but then  no
transition is added at all  the operator is cautious  hence there is no such an operator for
static law contraction that is based on minimal change and is coherent with the operators
for the other laws 
 
the result above supports our contention that we cannot have a coherent set of minimal
change operators for action theory contraction  this is a general result and it holds not
only for modal based approaches like ours  but it applies to any framework for reasoning
about actions which is based on transition systems and which also allows for the three types
of laws that we consider here 
furthermore  the result also illustrates well the difference between action theory change
and classical belief change  to witness  even though contraction of static laws amounts to
propositional contraction of boolean formulas  it remains a special case of the latter  the
reason is that when contracting static laws one always asks what happens to the laws of
other types   a question that is not asked in classical propositional contraction for the
obvious reason that there simply there are no other types of formulas 

   syntactic operators for contraction of laws
once having given a semantic construction for action theory change  we now turn our
attention to the definition of syntactic operators for changing sets of formulas describing a
dynamic domain 
as nebel        says           finite bases usually represent          laws  and when we
are forced to change the theory we would like to stay as close as possible to the original
         base  hence  besides the definition of syntactical operators  we should also guarantee
that they perform minimal change at the theory level  by that we mean that the resulting
theory should of course not entail the law we want to contract the theory with  and it should
also preserve as much of the previous knowledge as possible when performing syntactical
manipulations on the laws in the original theory  ideally  from the knowledge engineers
perspective  the modified theory should also keep a certain degree of resemblance with the
original one  the resulting laws should be slight modifications of the relevant ones in the
original action theory 
by t 
 we denote in the sequel the result of contracting a law  from the set of laws t 
    contracting executability laws
for the case of contracting an executability law   hai  from an action theory  first we
have to ensure that action a keeps its executability state in all those contexts where the
antecedent  holds  if that is the case  we achieve that by strengthening the antecedents
of the relevant executability laws  second  in order to get minimality  we must make a
executable in some contexts where  is true  viz  all  worlds but one  since there are
possibly many different alternatives for that  this means that we can have several action
theories as outcome  algorithm   gives a syntactical operator to achieve this 
   

fion action theory change

it can be easily checked that algorithm   always terminates  the input action theory
t is always finite  from finiteness of prop follows that of atm    for any   ip s    
moreover  the entailment problem of multimodal k is decidable  harel et al          as is
that of classical propositional logic  therefore contracting executability laws is decidable 
algorithm    contraction of an executability law
input  t    hai 
output  t 
hai     set of theories output to the knowledge engineer   
 

begin

 

   
t
hai 

 

if t   
  hai  and s    
 then
k
cpl
n

foreach   ip s    do

 

forall a  atm   do
v
v
a    pi atm   pi  pi atm   pi    extend  to a valuation   

 
 

pi a

if s    
   a     then
cpl

 

 

else
    t 
t
hai 

  
  
  

   it is an allowed state   

   construct a theory that is weaker for that state   
t       t   xa      i     a     hai    i  hai   xa  
 
   t 
t
hai 
hai    t  

 

  

pi a
 

return t 
hai 
end

it is straightforward to see that algorithm   above can be adapted to situation calculus
action theories as well  the crucial point however would be its termination  since entailment
in the situation calculus is in general undecidable 
in our running example  contracting the executability law token  hbuyi  from the
 
 
 
action theory t would give us t 
tokenhbuyi     t    t    t     where 


coffee  hot  coffee   buy coffee  





token   buy token  token   buy  
 
t   
coffee   buy coffee  hot   buy hot  





 token   coffee  hot    hbuyi 


coffee

hot 
coffee

 buy coffee 






token   buy token  token   buy  
 
t   
coffee   buy coffee  hot   buy hot  





 token   coffee  hot    hbuyi 
   

fivarzinczak






coffee  hot  coffee   buy coffee 
token
  buy token  token   buy  
t    
coffee
  buy coffee  hot   buy hot 



 token   coffee  hot    hbuyi 









now all the knowledge engineer has to do is choose which theory is more in line with
her intuitions and implement the required changes  cf  figure    
    contracting effect laws
when contracting an effect law    a  from an action theory t  intuitively we should contract those effect laws that preclude  in target worlds  in order to cope with minimality 
we must change only those laws that are relevant to the unwanted    a  
let  ea                ea   n denote minimal subsets  with respect to set inclusion  of ea such
that s    ea   i   
   a   for    i  n  in other words  each  ea   i is a support set for
kn
the effect law    a  in t  to make a parallel with the terminology usually adopted in
the belief change community  we shall see each  ea   i as a special type of kernel  hansson 
      for the formula    a  
according to herzig and varzinczak         given any action theory one can always
ensure that at least one support set for    a  exists  now let
 
ea  
 ea   i
 in

the laws in ea will serve as guidelines to get rid of  a  in each  world allowed by the
theory t  they are the effect laws to be weakened to allow for hai in some  contexts 
this resembles classical kernel contraction  hansson         finding minimal sets implying
a formula and changing them  a crucial difference  however  is that instead of completely
removing a formula from each kernel  what we do here is weaken the laws 
when modifying the support sets  the first thing we must do is to ensure that action
a still has effect  in all those contexts in which  does not hold  if that is the case  this
means we shall weaken the laws in ea  specializing them to   now  we need to preserve
all old effects in all  worlds but one  to achieve that we specialize the above laws to
each possible valuation  maximal consistent conjunction of literals  satisfying  but one 
then  in the left  valuation  we must ensure that action a has either its old effects or 
as outcome  we achieve that by weakening the consequent of the laws in ea   finally  in
order to get minimal change  we must ensure that all literals in this  valuation that are
not forced to change in  worlds should be preserved  we do this by stating an effect law
of the form  k       a        where k is the above  valuation  the reason this is
needed is clear  there can be several  valuations  and as far as we want at most one to
be reachable from the k  world  we should force it to be the one whose difference to this
k  valuation is minimal 
in situation calculus terms  all these syntactical operations would correspond to strengthening the right hand side of the relevant successor state axioms and or weakening their
   

fion action theory change

left hand side  alternatively  the same can be done with the original effect axioms  then
recompiling them again into new successor state axioms afterwards 
the output of the operations described above will be a set of action theories which will
be output to the knowledge engineer  algorithm   below gives the operator 
algorithm    contraction of an effect law
input  t     a 
output  t 
 a     set of theories output to the knowledge engineer   
 

begin

 

   
t
 a 

 

if t   k    a  and s    
 then
cpl
n

foreach   ip s    do

 

forall a  atm   do
v
v
a    pi atm   pi  pi atm   pi    extend  to a valuation   

 
 

pi a

pi a
 

if s    
   a     then
cpl

 

   it is an allowed state   

 

foreach  ip s    do
t      t   ea    the support sets will be weakened   
t      t      i     a      a i   i   a i  ea  

 
 
  

  

   allow for  after a in this state   
t      t      i    a     a  i         i   a i  ea  

  

forall l  lit do
if s   
   a   
cpl

  

v

 l   

  then

n

t      t        a       a       

  

 
   t 
t
 a 
 a    t  

  

else
    t 
t
 a 

  

  

and s    
    
cpl

if t    
   a       a   or       then
k

  

  

 l  

foreach    l do

  

  

v

return t 
 a 
end

again  from the finiteness of the action theory t and that of atm    for any  
ip s     and from the decidability of multimodal k  harel et al         as well as that
of classical propositional logic  it can be easily verified that algorithm   always terminates 
   

fivarzinczak

therefore  contracting effect laws is decidable  of course  the complexity of computing all
the support sets as well as the prime implicants is quite high  see section     later on for a
discussion on this matter  
for an example of execution of algorithm    let us suppose that we want to contract
the effect law token   buy hot from the action theory t of our running example  first we
have to compute the support sets for token   buy hot in t  i e   the minimal subsets of
ebuy which together with s entail token   buy hot   these are the following 
token hot
 ebuy
  

token hot
 ebuy
  



coffee   buy coffee 
coffee   buy coffee





hot   buy hot 
coffee   buy coffee



 

 

now for each possible context in which the antecedent token is the case  we have to
token hot
token hot

     since s    coffee  hot   such
     ebuy
   ebuy
weaken the effect laws in ebuy
contexts are token  coffee  hot  token  coffee  hot and token  coffee  hot 

with
for token  coffee  hot  algorithm   replaces in t the laws from ebuy



  coffee   token  coffee  hot     buy coffee  
 hot   token  coffee  hot     buy hot 


 coffee   token  coffee  hot     buy coffee
so that we preserve their effects in all possible contexts but token  coffee  hot  now  in
order to preserve some effects in token  coffee  hot contexts while allowing for reachable
hot worlds  the algorithm adds the laws 


 token  coffee  hot    buy  coffee  hot  
 token  coffee  hot    buy  hot  coffee 
now  we search all possible combinations of laws from ebuy that apply on token  coffee  hot
contexts and find token   buy token  because token must be true after every execution
of action buy  we do not state the law  token  coffee  hot    buy  hot  token   and end
up with the following theory 


coffee  hot  token  hbuyi  








token

 buy token 
token

 buy  







  coffee   token  coffee  hot     buy coffee  

 hot   token  coffee  hot     buy hot 
t    



  coffee   token  coffee  hot     buy coffee  









 token

coffee

hot 

 buy  coffee

hot  




 token  coffee  hot    buy  hot  coffee 
on the other hand  if in our language we also had an atom p with the same theory t 
then we should have added a law  token  coffee  hot  p    buy  hot  p  to meet minimal
change by preserving effects that are not relevant to   cf  definition      
   

fion action theory change

the execution for contexts token  coffee  hot and token  coffee  hot are analogous
 
 
 
and the algorithm ends with t 
token buy hot    t    t    t     where 

t    

















coffee  hot  token  hbuyi  
token   buy token  token   buy  
 coffee   token  coffee  hot     buy coffee 
 hot   token  coffee  hot     buy hot 
 coffee   token  coffee  hot     buy coffee 
 token  coffee  hot    buy  coffee  hot 


coffee  hot  token  hbuyi  




token   buy token  token   buy  




  coffee   token  coffee  hot     buy coffee 
 hot   token  coffee  hot     buy hot 
t    


 coffee
  token  coffee  hot     buy coffee 





 token
 coffee  hot    buy  hot  coffee  


 token  coffee  hot    buy  coffee  hot 




































looking at figure    we can see the correspondence between these theories and their
respective models  it is now up to the knowledge engineer to look at these action theories
and pick up the one corresponding to her expectations 
    contracting static laws
finally  in order to contract a static law from a theory  we can use any contraction erasure
operator   for classical logic that is available in the literature  because contracting static
laws means admitting new possible states  cf  the semantics   just modifying the set s of
static laws may not be enough for the multimodal logic case  however  since in general
we do not necessarily know the behavior of the actions in a new discovered state of the
world  a careful approach is to change the theory so that all action laws remain the same
in the contexts where the contracted law is the case   the reader is invited to see that in
the situation calculus by allowing a new situation to exist one may need to change the
precondition axioms as well  which means that the problem here described is independent
of the logical formalism chosen  
in our scenario example  if in contracting the static law coffee  hot the knowledge
engineer is not really sure whether action buy is still executable or not  then she should
weaken the set of executability laws specializing them to the context coffee  hot  and
make buy a priori inexecutable in all  coffee  hot  contexts  it is worth noting that
this is in line with the assumption commonly made in the rac community according to
which executability laws are by and large much more likely to be incorrect right from the
beginning  shanahan         therefore extrapolating them to previously unknown states
might  and in all probability will  result in the propagation of errors and  even worse  the
loss of effect laws  remember the discussion in sections     and       the operator given in
algorithm   formalizes this 
   

fivarzinczak

algorithm    contraction of a static law
input  t  
output  t 
    set of theories output to the knowledge engineer   
 

begin

 

t
    

 

if s   cpl  then
   call classical contraction s    of s with    
foreach s   s    do

 

   build a theory preserving executability in old states   
t        t   s    s      xa

 

t      t      i     hai    i  hai   xa        a  

 
t
    t    t  

 
 
 

else
t
     t 

 
  
  

return t 

end

in our running coffee example  contracting the static law coffee  hot from the action
 
 
theory t produces t 
coffeehot    t    t     where

t    













t    













 token  coffee  hot  
 token  coffee  hot   hbuyi  
coffee   buy coffee  token   buy token 
token   buy   coffee   buy coffee 
hot   buy hot   coffee  hot    buy 








 token  coffee  hot  
 token  coffee  hot   hbuyi  
coffee   buy coffee  token   buy token 
token   buy   coffee   buy coffee 
hot   buy hot   coffee  hot    buy 




















observe that the effect laws are not affected at all by the change  as far as we do not
pronounce ourselves about the executability of some action in the new added world  all the
effect laws remain true in it 
if the knowledge engineer is not happy with  coffee  hot    buy   she can contract
this formula from the theory using algorithm    ideally  besides stating that buy is executable in the context coffee  hot  we should want to specify its outcome in this context
as well  for example  we could want  coffee  hot   hbuyihot to be true in the result 
this requires theory revision  see section   for the semantics of such an operation 
   

fion action theory change

    complexity issues
while terminating  our algorithms come with a considerable computational cost  the kn entailment tests with global axioms in the beginning of the algorithms and inside the loops
are known to be exptime complete  harel
v et al         
v the computation of all possible
contexts allowed by the theory  namely pi atm   pi  pi atm   pi   for all a  atm   and
pi a

pi a
 

all   ip s     is clearly exponential  moreover  the computation of prime implicants
ip    might result in exponential growth  marquis        
given that theory change can be carried out offline  from the perspective of the knowledge engineer what is more important is the complexity of the size of the computed contracted theories  the number of formulas as well as the length of the modified ones  this
plays an important role when deciding among several output theories which one corresponds
to the knowledge engineers expectations  in that matter  whereas the length of new added
formulas may increase exponentially  with respect to the number of laws our results are
positive  the size of the computed contracted theories is linear in the size of the original
action theory   remember that card x  denotes the number of elements in set x  
proposition     let t be an action theory    hai  an executability law  and t   
 
t
hai    then card t     card t  
 
proof  if t    
  hai   then t 
hai     t   and then t   t  from which the result
kn
 
follows  suppose t   
  hai  is the case  then t is such that t      t   xa    xa    
kn
where xa   is obtained from xa in such a way that  i       hai   xa   if and only
if i  hai   xa   for a fixed     from this it follows card xa       card xa    now 
card  t   xa    xa       card t   xa   card xa    card  t   xa    xa       card t card xa   
card xa      card     card t   card xa     card xa        card t  
 

proposition     let t be an action theory     a  an effect law  and t    t 
 a   
then card t      card t    card ea     card lit  
 
proof  if t    
   a   then t 
 a     t   and then t   t  from what we get
kn
card t       card t   since card t   card t    card ea     card lit   the result follows 
suppose that t   k    a  is the case  then t      t   ea    ea    ea     fa   where 
n

 

  

 ea and ea are both obtained from ea in such a way that  i        a i  ea  
and  i        a  i        ea    if and only if i   a i  ea   for fixed         
 fa            a            lit   for a fixed     and
 t  ea     ea      fa are pairwise disjoint 
hence card ea       card ea        card ea    and card fa    card lit   then card t      
card t   ea     card ea       card ea        card fa     card t   ea     card ea     card ea    
card fa     card t   card ea     card ea     card ea     card fa     card t    card ea    
card fa    card t    card ea     card lit  
 
   

fivarzinczak

given the arbitrary choice of the contraction operator for static laws  without loss of
generality we can resort to a slightly modified version of it  viz  one that always gives us
as result a set of static laws with the same cardinality as the original s    this is possible
since  contrary to e and x   a conjunction of static laws is still a static law  with no further
rewriting   by agreeing on that  the following proposition is straightforward 
 
proposition     let t be an action theory   a static law  and t    t 
   then card t    
card t      

propositions        are positive results  if the knowledge engineer can deal with the
original action theory  then she will be able to deal with the output of the algorithms 
 observe that for a given t   all the conditional frame axioms added to fa in the contraction
of an effect law can be factored into a single law  so that the resulting theory has a
cardinality of at most card t    card ea        
we finish this section by observing that the size of t 
   the set of resulting contracted
theories  depends solely on the set of static laws plus the law we contract t with 
proposition     let t be an action theory  and let  be a law such that t   
  then
k
n

 card t 
     card s      if  is 
 card t 
     card val s        if  is either   hai  or    a  
proof  the proof follows straightforwardly from the outermost loops in algorithms      

   correctness of the operators
we now address the correctness of our algorithms with respect to our semantics for contraction  correctness here is understood as completeness and adequacy  adequacy means that
the algorithms output only theories whose models result from our semantic modifications
of models of the original theory  conversely  completeness says that every model resulting
from the semantic modifications of models of the original theory is indeed a model of some
theory output by the algorithm 
    challenges to completeness and adequacy
let the theory t    p   hai    p   p      a    a p    and consider its model m
depicted in figure      notice that t   
 p   p      when contracting p    a p  in m  
kn
 
we get m in figure    
 
now contracting p    a p  from t using algorithm   gives t 
p  a p    t    where
 

 



 p   hai    p   p      a   
 p   p      a  p   p    
t  


 p   p      a  p   p   
notice that the formula  p   p      a  p   p    is put in t   by algorithm   because
there is  p     lit such that s    
 p  p      and t    k  p   p      a p    it is
cpl  
n

   

fion action theory change

a

a

w 

a

p    p 

w 

w 

p    p 

m  

m   
w 

w 
p    p 

a

p    p 

a
w 

p    p 

p    p 

figure     a model m of t and the result m   of contracting p    a p  in it 
m 

 
clearly the case that     t   and no theory in t 
p   a p  has m as model  this means that
there are theories for which the contraction operators are not complete 
this issue arises because algorithm   tries to allow a transition from the p   p   world
to a p   world that is closest to it  viz   p    p     but has no way of knowing
v that such a
  
world does not exist  a remedy for that is replacing the test t   
 
 l      for
kn
v
 
s   cpl     l       but that would increase even more the complexity of the algorithm 
a better option would be to have s complete enough to allow the algorithm to determine
the worlds to which a new transition could exist 

the other way round  it does not hold in general that the models of each t    t 
 result
from the semantic contraction of models of t by   to see why suppose that there is only
one atom p and one action a  and consider the action theory t    p   a   hai    the
only model of t is m   h  p       p    p   i in figure    
a

a

w 

w 

w 

m  

p

m   

p

p

figure     inadequacy of contraction  a model m of t and a model m   of the theory
resulting from contracting p  hai  from t 
from our definitions  contract m   p  hai      m     there is no p world in m from
 
which to remove an arrow   on the other hand  t 
phai  is the singleton  t   such that
t      p   a   p  hai    then m     h  p    p      p    p  i in figure    is a
model of the resulting contracted theory  clearly  m   does not result from the semantic
contraction of p  hai  from m   while p is valid in the contraction of the models of t  it
is not valid in the models of t     this means that there are theories for which the operators
are not adequate 
this problem occurs because  in our example  the worlds that are forbidden by t  e g 
 p   are not preserved as such in t     when contracting an executability or an effect law 
we are not supposed to change the possible worlds of a theory  cf  section    
fortunately correctness of the algorithms with respect to our semantics can be established for those action theories whose s is maximal  i e   the set of static laws in s alone
   

fivarzinczak

characterize what worlds are possible in the models of the theory  this is the principle of
modularity  herzig   varzinczak      b  and we briefly review it in the next section 
    modular action theories
a quite useful  albeit simple  property of domain descriptions in reasoning about actions is
that of action theory modularity  herzig   varzinczak      b  
definition      modularity  an action theory t is modular if and only if for every
boolean formula   fml  if t   
  then s   cpl  
k
n

for an example of a non modular theory  let us suppose that the action theory t of our
coffee machine scenario were stated as


coffee

hot 
hbuyi  






coffee   buy coffee 
t 

token   buy token  token   buy   




coffee   buy coffee  hot   buy hot
the modified law is underlined  we have  in this case wrongly  stated that the agent can
always buy at the machine  then t   k token  but s    
token 
cpl
n

since the underlying multimodal logic is independently axiomatized  see section       we
can use the algorithms given by herzig and varzinczak      b  to check whether an action
theory satisfies the principle of modularity  whenever this is not the case  the algorithms
return the boolean formulas entailed by the theory which are not consequences of s alone 
for the theory t above  they would return  token   as we have stated hbuyi   from this and
the inexecutability law token   buy  we have that t   
token  because s    
token 
kn
cpl
token is what is called an implicit static law  herzig   varzinczak        of the action
theory t  
modular action theories have several interesting computational properties  for example  consistency can be checked by just checking consistency of the static laws in s   if
t is modular  then t   
 if and only if s   
  deduction of effect laws does not
kn
cpl
need the executability ones and vice versa  deduction of an effect of a sequence of actions a            an  prediction  does not need to take into account the effect laws for actions
other than a            an   this applies in particular to plan validation when deciding whether
ha            an i is the case 
modularity is not an exclusive property of action theories formalized in kn   similar
notions have also been investigated for different contexts in other formalisms  like regulation consistency in deontic logic  cholvy         situation calculus  herzig   varzinczak 
    a   dl ontologies  herzig   varzinczak         dynamic logic  zhang  chopra    foo 
      and also in the fluent calculus  thielscher         for more details on modularity
in kn action theories  as well as its role in the presence of a solution to the frame and
ramification problems  see the work by varzinczak        
   implicit static laws are closely related to veridical paradoxes  quine         it turns out that sometimes
they are intuitive  but sometimes they are not  for a deep discussion on implicit static laws  see the
work by varzinczak        

   

fion action theory change

another interesting property of modular action theories is the following 
theorem     t is modular if and only if t has a canonical model 
proof  let mcan   hwcan   rcan i be the canonical frame of t 
mcan

mcan

    by definition  mcan is such that    s  e   it remains to show that    x   let
mcan
i  hai   xa   and let w  wcan be such that   w i   therefore for all j  fml such
mcan

that t   k j   a   we must have    
w
n

mcan

s   
 i  j    and hence   
cpl

mcan

some w   wcan such that     
mcan

and   

w

j   because t   
 i  j    and as t is modular 
k
n

 i  j    then by the construction of mcan   there is
mcan

 for all    a   ea such that   
w

  thus ra  w     

i  hai  

    suppose t is not modular  then there must be some   fml such that t   
 and
kn
s    
  this means that there is v  val s   such that v     as v  wcan  because wcan
cpl
contains all possible valuations of s    mcan is not a model of t 
 
    correctness under modularity
as shown by herzig and varzinczak         given an action theory formalized with any
framework available in the literature allowing for the expression of our three basic types of
laws  it is always possible to ensure modularity  moreover  as we are going to see in the
sequel  cf  section       it has to be computed at most once during the evolution of the
action theory  hence  relying on modular theories is not a limitation at all to our approach 
the following theorem establishes that under the assumption that the action theory t
is modular  the semantic contraction of a formula  from the set of models of t produces
models of some contracted theory in t 
 
m

theorem     let t be modular  and  be a law  for all m   m
 such that    t for
m 

 
 
 
every m  m  there is t    t 
 such that    t for every m  m  

 

proof  see appendix a 

the next theorem establishes the other way round  under modularity models of theories
in t 
 are all models of the semantic contraction of  from models of t 
m 

 
 
theorem     let t be modular   a law  and t    t 
   for all m such that    t   there
m

 
 
is m   m
 such that m  m and    t for every m  m 

 

proof  see appendix b 
with these two theorems we get the correctness of our operators 
m 

 
corollary     let t be modular   a law  and t    t 
 if and only if    
   then t   
k
m

n

for every m    m  such that m   m
 for some m such that    t for all m  m 
   

fivarzinczak

proof 
m 
 
 
    let m   be such that    t     by theorem      there is m   m
 such that m  m
m

m 

for some m such that    t for all m  m  from this and t     
   we have      
k
n

    suppose t      k     we show that there is some model m    m  such that m   m

n

m

m 

for some m with    t for all m  m  and        
given that t is modular  by lemma b   t   is modular  too  then  by lemma b   
m 
m 
there is some m     hval s      r  i such that        clearly    t     and from lemma b   the
result follows 
 

   assessment of postulates for change
do our action theory change operators satisfy the classical postulates for change  before
answering this question  one should ask  do our operators behave like revision or update
operators  we here address this issue and then show which postulates for theory change
are satisfied by our definitions 
    contraction or erasure 
the distinction between revision contraction and update erasure for classical theories is
historically controversial in the literature  the same is true for the case of modal theories
describing actions and their effects  we here rephrase katsuno and mendelzons definitions        in our terms so that we can see to which one our method is closer 
in katsuno and mendelzons view  contracting a law  from an action theory t intuitively means that the description of the possible behavior of the dynamic world t must be
adjusted to the possibility of  being false  this amounts to selecting from the models of
 those that are closest to models of t and allow them as models of the result 
in contrast  update methods select  for each model m of t  the set of models of  that
are closest to m   erasing  from t means adding models to t  for each model m   we add
all those models closest to m in which  is false  hence  from our constructions so far it
seems that our operators are closer to update than to revision 
moreover  according to katsuno and mendelzons view         our change operators
would also be classified as update because we make modifications in each model independently  i e   without changing other models   besides that  in our setting a different
ordering on the resulting models is induced by each model of the theory t  see definitions          and        which according to katsuno and mendelzon is a typical property
of an update erasure method 
nevertheless  things get quite different when it comes to the postulates for theory change 
    the postulates
in this section we analyze the behavior of our action theory change operators with respect
to agm like postulates  here we follow katsuno and mendelzons presentation of the
   even if when contracting an effect law from one particular model we need to check the other models of
the theory  those are not modified 

   

fion action theory change

postulates to assess both contraction and erasure  let t   s  e  x denote an action
theory and  denote a law 
t     for all t    t 
monotonicity postulate  t   
 
k
n

this postulate is our version of katsuno and mendelzons  c   and  e   postulates
for contraction and erasure  respectively  and it is satisfied by our change operators  the
proof is in lemma a    such a postulate is not satisfied by the operators proposed by
herzig et al          there when removing e g  an executability law   hai  one may
make    a  valid in all models of the resulting theory 
preservation postulate  if t    
  then   
t  t     for all t    t 
 
k
k
n

n

this is katsuno and mendelzons  c   postulate  our operators satisfy it as far as
whenever t    
  then the models of the resulting theory are exactly the models of t 
kn
because these are the minimal models falsifying  
the corresponding version of katsuno and mendelzons  e   postulate about erasure 
i e   if t   
  then   k t  t     for all t    t 
   is clearly also satisfied by our operators
kn
n
as a special case of the postulate above  satisfaction of  c   indicates that our operators
are closer to contraction than to erasure 
if t    k  and    k   then t      k   for all t    t 
 

success postulate 

n

n

n

this postulate is our version of katsuno and mendelzons  c   and  e   postulates  if
 is a propositional   fml  our operators satisfy it  as long as the classical propositional
change operator satisfies it as well  for the general case  however  as stated the postulate is
not always satisfied  this is shown by the following example  let t    p  hai   p   a   
note that t is modular and consistent  now  contracting the  contingent  formula p  hai 
from t gives us t     t  clearly t     k p  hai   this happens because  despite not being a
n
tautology  p  hai  is a trivial formula with respect to t  since p is valid in all t models 
p  hai  is trivially true in these models  cf  end of section      
fortunately  for all those formulas that are non trivial consequences of the theory  our
operators guarantee success of contraction 
theorem     let t be consistent  and  be an executability or an effect law such that
s    
  if t is modular  then t      k  for every t    t 
 
k
n

n

 
proof  let us suppose that there is some t    t 
  since t is modular 
 such that t   
k
n

m 

corollary     tells us that     for every m    m  such that m   m
   where m    m  
m

   t and m   hval s    ri  
m 

m   

if     for every m    m    then even for m     m   m we have      but m     m
m   

for some m  m  and by definition       hence m     and then the truth of  in m
does not depend on the accessibility relation ra   hence  whether  has the form   hai 
or    a   for     fml  this holds only if s   cpl   see definitions     and       and
therefore we get s   k  
 
n

   

fivarzinczak

equivalences postulate  if   k t   t  and   
       then   k t    t     for some
k

 
t     t   
  and t    t      

n

n

n

this postulate corresponds to katsuno and mendelzons  c   and  e   postulates  it
is worth noting that equivalence here is considered always modulo action laws  i e   the
formulas are assumed to be either static laws  effect laws or executability laws  as well as
their equivalents  moreover we remember that the theories here must be action theories 
i e   sets of action laws of our three basic types  under modularity and the assumption that
the propositional change operator satisfies  c    e    our operations satisfy this postulate 
t   t  and   k        then for each
theorem     let t  and t  be modular  if   
k
n

n


 
t    t     and vice versa 
t     t   
  there is t    t     such that   
k  
n

proof  the proof follows straight from our results  since   
t  t  and   k        they
k  
n

m

m

n

have pairwise the same models  hence  given m such that    t  and    t    the semantic
contraction of   and that of   from m have the same operations on m   as t  and t 
are modular  corollary     guarantees we get the same syntactical results  moreover  as the
classical operator   satisfies  c    e    if follows that   k t    t    
 
n

recovery postulate  t         
t  for all t    t 
 
k
n

this is the action theory counterpart of katsuno and mendelzons  c   and  e   postulates  again we rely on modularity in order to satisfy it 
theorem     let t be modular  t         
t  for all t    t 
 
k
n

proof  if t    k   because our operators satisfy the preservation postulate  t     t  and
n
then the result follows by monotonicity 
let t   
  and let m  denote the set of all models of t     as t is modular  by corolk
n

m 

m 

lary     every m    m  is such that either    t  and then      or m    contract m    
m
 and then m    m   for some m such that    t 
let m   denote the set of all models of t        clearly m    m    by monotonicity 
m   

moreover  every m     m   is such that      hence m    
  m for every m such that
m

   t  and then m    
  contract m      for any m model of t  thus m    is a model of t
 
and then t       k t 
 
n
w

 
let t 
 denote the disjunction of all t in t   
w
w
disjunctive rule   t   t   
 t   
 t   
 is equivalent to
 
 
this is our version of  e   erasure postulate by katsuno and mendelzon  clearly our
syntactical operators do not manage to contract a law from a disjunction of theories  t  t 
is not an action theory and cannot in general be rewritten as one  nevertheless  by proving
that it holds in the semantics  from the correctness of our operators  we get an equivalent
operation  again the fact that the theories under concern are modular gives us the result 
   

fion action theory change

theorem     let t  and t  be modular  and  be a law  then
 
 
 
 t   
 t   
  k
 t   t   
 
 
  
n

proof 
w
m  w
m  w
m  w

 t   
 t   
    let m   be such that   
 t   
   suppose
 or   
   t      then   
 
m 
m w


  
 t     the other case is analogous   then there is  t       t    such that     t      
 
 
then by corollary      there is m   m
 such that m  m   for m a set of models of
 
t    then m is a model resulting from contracting  from models of t    and then m   also
results from contracting  in models of t   t    viz  those models of t    then by corolm 
m  w
    and then   
such
that
  
 t

t
 
 t   t   
lary      there is  t   t       t   t   
 
 
 

m  w

    let m   be such that   
m 


 
 t   t   
   then there is  t   t      t   t    such that

 
 
    t   t       by corollary      there is m   m
 such that m  m   for m a set of
 
models of t   t    then m is a model resulting from contracting  from models of t   t   
hence m   results from contracting  from models of t  or from models of t    suppose the
former is the case  the second is analogous   then by corollary     there is  t       t   

m 
m  w
such that     t       and then   
 t   
 
 


we have thus shown that our constructions satisfy the  e   postulate  nevertheless 
as far as we see  it is not immediate whether it is really expected here  this supports our
position that our operators behavior is closer to contraction than to erasure 
as we have seen from the results above  modularity is a sufficient condition for the
satisfaction of the agm like postulates for action theory contraction  to finish up we state
a new postulate 
preservation of modularity  if t is modular  then every t    t 
 is modular 
changing a modular theory should not make it non modular  this is not a standard
postulate  but we think that since it is a good property modularity should be preserved
across changing an action theory  if so  this means that whether a theory is modular or
not can be checked once for all and one does not need to care about it during the future
evolution of the action theory  i e   when other changes will be made on it  our operators
satisfy this postulate and the proof is given in appendix b 
now one may naturally asks whether we can get a characterization result in the traditional agm sense  i e   whether any contraction operator satisfying all our versions of
the postulates is one of our three contraction operations  unfortunately  good sense points
towards a negative answer  there might well be an operator satisfying all the above postulates that  by not complying with all the assumptions in the rac community  shanahan 
       is not necessarily one of the operators defined in section    cf  the discussion on
general formula contraction in section      to witness  consider for example an operator
that also modifies worlds when contracting effect laws  this supports one of the contentions
of the present work  viz  that classical belief change cannot be fully transposed to action
theories and expected to give exactly the same kind of outcome  similar negative results
have also been found for revision in dl ontologies  flouris  plexousakis    antoniou       
and contraction of horn theories  booth  meyer    varzinczak        
   

fivarzinczak

   a semantics for action theory revision
so far we have analyzed the case of contraction  the knowledge engineer realizes that the
theory is too strong and therefore it has to be weakened  let us now take a look at the
other way round  i e   the theory is  possibly  too liberal and the agent discovers new laws
about the world that should be added to her beliefs  which amounts to strengthening them 
suppose that the action theory of our scenario example were initially stated as follows 


coffee  hot  token  hbuyi  


coffee   buy coffee  token   buy  
t 


coffee   buy coffee  hot   buy hot
then the canonical model of theory t is as shown in figure    
w 
t  c  h
b

b

w 

m  

b

w 

b

t  c  h

t  c  h

b
b

w 
t  c  h

w 

w 
t  c  h

t  c  h

figure     canonical model of the new initial action domain description 
looking at model m in figure    we can see that  for example  the agent does not know
that she loses her token every time she buys coffee at the machine  this is a new law that
she should incorporate to her knowledge base at some stage of her action theory evolution 
contrary to contraction  where we want the negation of some law to become satisfiable 
in revision we want to make a new law valid  this means that one has to eliminate all cases
satisfying its negation  this depicts the duality between revision and contraction  whereas
in the latter one invalidates a formula by making its negation satisfiable  in the former one
makes a formula valid by forcing its negation to be unsatisfiable prior to adding the new
law to the theory 
the idea behind our semantics for revision is as follows  we initially have a set of models
m in which a given formula  is  potentially  not valid  i e    is  possibly  not true in
every model in m  in the result we want to have only models of   adding  models to
m is of no help  moreover  adding models makes us lose laws  the corresponding resulting
theory would be more liberal 
one solution amounts to deleting from m those models that are not  models  of
course removing only some of them does not solve the problem  we must delete every such a
model  by doing that  all resulting models will be models of    this corresponds to theory
expansion  when the resulting theory is satisfiable   however  if m contains no model of
  we will end up with   consequence  the resulting theory is inconsistent   this is the
main revision problem   in this case the solution is to substitute each model m in m by
   

fion action theory change

its nearest modification m  that makes  true  this lets us to keep as close as possible to
the original models we had  but  what if for one model in m there are several minimal
 incomparable  modifications of it validating   in that case we shall consider all of them 
the result will also be a list of models m    all being models of  
before defining the revision of sets of models  we present what modifications of  individual  models are 
    revising a model by a static law
suppose that our coffee deliverer agent discovers that the only hot drink that is served on
the machine is coffee  in this case  she might want to revise her beliefs with the new static
law coffee  hot  she cannot hold a hot drink that is not a coffee 
considering the model depicted in figure     one can see that the boolean formula
coffee  hot is satisfiable  there is a world of the model in which it holds   since we do
not want this to be the case  the first step is to remove all worlds in which coffee  hot is
true  the second step is to guarantee that all the remaining worlds  if any  satisfy the new
static law  such an issue has been largely addressed in the literature on propositional belief
base revision and update  gardenfors        winslett        katsuno   mendelzon       
herzig   rifi         here we can achieve that with a semantics similar to that of classical
revision operators  basically one can change the set of possible valuations  by removing or
adding worlds 
in our example  removing the possible worlds  t  c  h  and  t  c  h  would do the job
 there is no need to add new valuations since the new incoming law is already satisfied in at
least one world of the original model  and therefore the resulting set of worlds is non empty  
the delicate point in removing worlds is that this may have as consequence the loss of
some executability laws  in the example  if there were some transition from some world w
to say  t  c  h   then removing the latter from the model would make the action under
concern no longer executable in w  if it was the only transition labeled by that action leaving
it  from a semantic point of view  this is intuitive  if the state of the world to which we
could move is no longer possible  then we do not have a transition to that state anymore 
therefore  if that transition was the only one we had  it is natural to lose it 
similarly  one could ask what to do with the accessibility relation if new worlds are
added  i e   when expansion is not possible  following the discussion in section      we here
prefer not to add new transitions systematically to the accessibility relation  hence we shall
postpone correction of executability laws  if needed  this approach may be debatable  but
with the information we have at hand  this is the safest way of changing static laws   see
also the discussion in sections     and      
the semantics for revision of one model by a static law is as follows 
definition     let m   hw  ri  m     hw    r  i  m  if and only if 
 w     w   val     w   where w  val    and
 r   r 
   

fivarzinczak

m 

clearly unless    
  we have that     for each m    m    the minimal models
cpl
resulting from revising a model m by  are those closest to m with respect to m  
definition     let m be a model and  a static law  revise m      

s

min m    m   

in the example of model m in figure     revise m   coffee  hot  is the singleton
 m      where m   is as shown in figure    
w 
t  c  h
b
w 

m   

b

t  c  h
b
b

w 
t  c  h

w 
t  c  h

figure     model resulting from revising the model m in figure    with coffee  hot 

    revising a model by an effect law
let us suppose now that our agent eventually discovers that after buying coffee she does
not keep her token anymore   that was a design mistake that the agent still possesses a
token even after ordering a coffee at the machine   this means that her theory should now
be revised in such a way that the new effect law token   buy token holds  looking at
model m in figure     this amounts to guaranteeing that the formula token  hbuyitoken
is satisfiable in none of its worlds  to do that  we have to look at all the worlds satisfying
this formula  if any  and either  i  make token false in each of these worlds  or  ii  make
hbuyitoken false in all of them  if we chose the first option  we will essentially flip the truth
value of literal token in the respective worlds  which changes the set of valuations of the
model  if we chose the latter  we will basically remove buy arrows leading to token worlds 
in that case  a change in the accessibility relation will be made 
in our example  we have that the possible worlds  token  coffee  hot    token  coffee  hot 
and  token  coffee  hot  satisfy token  hbuyitoken and all they have to change 
flipping token in all these worlds to token would do the job  but would also have
as consequence the introduction of a new static law  token would now be valid  i e   the
agent never has a token  another issue with this approach is that by making token true
everywhere  the new incoming law token   buy token will be trivially true in the resulting
model  which does not mean that there is an execution of action buy from a token world
to a token one  this defeats the purpose of changing the action theory on the basis that
it has been observed that every execution of the action under consideration should lead to
token contexts 
one of our contentions in the present work is that changing action laws should never
have as a side effect a change in the static laws  cf  sections   and     given their special status  shanahan         these should change only if explicitly required  in this case  each world
   

fion action theory change

satisfying token  hbuyitoken has to be changed so that hbuyitoken is no longer true in it 
in our example  we should remove the transitions   token  coffee  hot    token  coffee  hot   
  token  coffee  hot    token  coffee  hot   and   token  coffee  hot    token  coffee  hot   
the semantics of one model revision for the case of a new effect law is 
 
definition     let m   hw  ri  m     hw    r  i  m a 
if and only if 

 w    w 
 r   r 
m

 if  w  w     r   r    then   w   and
m 

       a  
the minimal models resulting from the revision of a model m by a new effect law are
those that are closest to m with respect to our order on the models m  
definition     let m be a model and    a  an effect law  revise m      a    
s
 
min m a 
  m   
taking once again m as shown in figure     revise m   token   buy token  will be
the singleton  m      figure     
w 
t  c  h
b

b
w 

w 

m   

t  c  h

t  c  h
b

w 

w 

w 
t  c  h

t  c  h

t  c  h

figure     model resulting from revising the model m in figure    with the new effect law
token   buy token 

    revising a model by an executability law
let us now suppose that in some stage it has been decided to grant free coffee to everybody 
faced with this information  the agent will now revise her laws to reflect the fact that buy
can also be executed in token contexts  token  hbuyi  is a new executability law  and
therefore we will have hbuyi  in all new models of the agents beliefs  
considering again the model in figure     we observe that  token  hbuyi   is
satisfiable in m   this means that we must throw token   buy  away to ensure that the
new formula becomes true in the new model  i e   satisfied by all of its worlds 
   

fivarzinczak

to remove token   buy  we have to look at all worlds satisfying it and modify m
so that they no longer satisfy that formula  given worlds  token  coffee  hot  and
 token  coffee  hot   we have two options  change the interpretation of token or add new
transitions leaving these worlds  a question that arises is what choice is more drastic 
change a world or a transition   again  here we think that changing the worlds content
 the valuation  is more drastic  as the existence of such a world was foreseen by some static
law and is hence assumed to be as it is  unless we have enough information supporting
the contrary  in which case we explicitly change the static laws  see above   moreover 
changing the truth value of token in these worlds would trivialize the new incoming law
token  hbuyi  in the new model  defeating the purpose of guaranteeing the existence of
a buy transition from a token context  therefore we shall add a new buy arrow from each
of  token  coffee  hot  and  token  coffee  hot  
having agreed on that  the issue now is  which worlds should the new transitions be
directed to  recalling the reasoning developed in section      in order to comply with
minimal change  the new transitions shall be directed to worlds that are relevant targets
of each of the token worlds in question  in our example   token  coffee  hot  is the only
relevant target world here  the two other token worlds violate the effect coffee of buy  while
the three token worlds would make us violate the frame axiom token   buy token 
the semantics for one model revision by a new executability law is as follows 
 
definition     let m   hw  ri  m     hw    r  i  mhai 
if and only if 

 w    w 
 r  r   
 if  w  w     r    r  then w   reltarget w     a   m   m   and
m 

      hai  
the minimal models resulting from revising a model m by a new executability law are
those closest to m with respect to m  
definition
m be a model and   hai  be an executability law  revise m    
s     let
 
hai     min mhai 
  m   
in our running example  revise m   token  hbuyi   is the singleton  m      where m  
is as depicted in figure    
in this example  observe that because we have a single relevant target world we get a
single model in the result of revision 
    revising sets of models
up until now we have seen what the revision of single models means  this is needed when
expansion by the new law is not possible due to inconsistency  we here give a unified
definition of revision of a set of models m by a new law  
   

fion action theory change

b
w 
t  c  h
b

b

b

w 

m   

b

t  c  h
b

t  c  h

t  c  h

b
b

w 

b
w 

w 

w 
t  c  h

t  c  h

figure     result of revising m in figure    by the new executability law token  hbuyi  

definition     let m be a set of models and  be a law  then
 
m
m
m    m          if there is m  m such that     
 
m  
s
m m revise m      otherwise 
observe that definition     comprises both expansion and revision  in the first one  simple
addition of the new law gives a satisfiable theory  in the latter a deeper change is needed
to get rid of inconsistency 

   related work
to the best of our knowledge  the first work on updating an action domain description is
that by li and pereira        in a narrative based action description language  gelfond  
lifschitz         contrary to us  however  they mainly investigate the problem of updating
the narrative with new observed facts and  possibly  with occurrences of actions that explain
those facts  this amounts to updating a given state configuration of the world  in our terms 
what is true in a possible world  and focusing on the models of the narrative in which some
actions took place  in our terms  the models of the action theory with a particular sequence
of action executions   clearly the models of the action laws remain the same 
baral and lobo        introduce extensions of action languages that allow for some
causal laws to be stated as defeasible  their work is similar to ours in that they also allow
for weakening of laws  in their setting  effect propositions can be replaced by what they call
defeasible  weakened versions of  effect propositions  our approach is different from theirs
in the way executability laws are dealt with  here executability laws are explicit and we
are also able to contract them  this feature is important when the qualification problem is
considered  we may always discover contexts that preclude the execution of a given action
 cf  the introduction  
liberatore        proposes a framework for reasoning about actions in which it is possible to express a given semantics of belief update  like winsletts        and katsuno and
mendelzons         this means it is the formalism  essentially an action description lan   

fivarzinczak

guage  that is used to describe updates  the change of propositions from one state of the
world to another  by expressing them as laws in the action theory 
the main difference between liberatores work        and li and pereiras        is
that  despite not being concerned  at least a priori  with changing action laws  liberatores
framework allows for abductively introducing in the action theory new effect propositions
 effect laws  in our terms  that consistently explain the occurrence of an event 
the work by eiter et al         is similar to ours in that they also propose a framework
which is oriented to updating action laws  they mainly investigate the case where e g 
a new effect law is added to the description  and then has to be true in all models of the
modified theory   this problem is the dual of contraction and is then closer to our definition
of revision  cf  section    
in eiter et al s framework         action theories are described in a variant of a narrativebased action description language  like in the present work  the semantics is also in terms
of transition systems  with transitions  action occurrences  linking states  configurations
of the world   contrary to us  however  the minimality condition on the outcome of the
update is in terms of inclusion of sets of laws  which means that the approach is more syntax
oriented to some extent 
in their setting  during an update an action theory t is seen as composed of two pieces 
tu and tm   where tu stands for the part of t that is not supposed to change and tm contains
the laws which may be modified  in our terms  when contracting a static law we would
have tm   s  xa   when contracting an executability law tm   xa   and when contracting
effects laws tm   ea   the difference here is that in our approach it is always clear what
laws should not change in a given type of contraction  and therefore tu and tm do not need
to be explicitly specified prior to the update 
their approach and ours can both be described as constraint based update  in that the
theory change is carried out relative to some constraints  a set of laws that we want to hold
in the result   in our framework  for example  all changes in the action laws are relative to
the set of static laws s  and that is why we concentrate on models of t having val s   as
worlds   when changing a law  we want to keep the same set of states  the difference with
respect to eiter et al s        approach is that there it is also possible to update a theory
relatively to e g  executability laws  when expanding t with a new effect law  one may want
to constrain the change so that the action under concern is guaranteed to be executable in
the result   as shown in the referred work  this may require the withdrawal of some static
law  hence  in eiter et al s framework  static laws do not have the same status as in ours 
herzig et al         define a method for action theory contraction that  despite the
similarity with the current work and the common underlying motivations  is more limited
than the present constructions 
first  with the referred approach we do not get minimal change  for example  in the
referred work the operator for contracting executability laws is such that in the resulting
theory the modified set of executability laws is given by
xa     i     hai    i  hai   xa  
   we could simulate that in our approach with two successive modifications of t  first adding the effect
law and then an executability law  cf  section    

   

fion action theory change

which  according to its semantics  gives theories among whose models are those resulting
from removing transitions from all  worlds  a similar comment can be made with respect
to contraction of effect laws 
second  herzig et al s        contraction method does not satisfy most of the postulates
for action theory change that we have addressed in section    besides not satisfying the
monotonicity postulate  it does not satisfy the preservation one  to witness  suppose that
we have a language with only one atom p  and the model m depicted in figure    
a
w 

m  

a

a

w 
p

p

a
a

w 

m  
 

a

w 
p

p
a

figure     counter example to preservation in the method by herzig et al         
m

m

then    p   a p and      a p  now the contraction operator defined there is such
that when removing  a p from m yields the model m   in figure    such that r a   ww 
m 

then     p   a p  i e   the effect law p   a p is not preserved 
finally  another work that is related to ours is that by zhang and ding         like
ours  their approach is also about giving a semantic characterization of the basic operations
for changing kripke models  contrary to us however  their focus is on model checking  not
on entailment  despite the definition and use of operations that in essence are similar to
ours  modifications of the set of possible worlds or of the accessibility relation   their work
is concerned mainly with modifications of a single model  not with that of sets of models
as we do  and hence it does not provide operations for changing action laws  because of
that  their approach is not directly comparable to ours  since here we are interested in
entailment based revision 

    concluding remarks
in this work we have addressed the problem of changing an action domain description for
reasoning about actions  a problem not sufficiently investigated in the literature so far 
we have seen the intuitions behind such a kind of theory modification and have given a
semantics for action theory change in terms of distances between models that captures the
notion of minimal change  we have given algorithms to contract a formula from a theory
that terminate and that are correct with respect to our semantics  corollary       we have
shown the importance that our modularity notion has in this result and in others 
we have also extended varzinczaks investigations        by defining a semantics for
action theory revision based on minimal modifications of models  for the corresponding
revision algorithms  the reader is referred to the work by varzinczak         one of our
ongoing research topics is on assessing our revision operators behavior with respect to
appropriate versions of the agm postulates for revision  alchourron et al         and its
links with the contraction counterpart 
with our algorithms we provide a set of tools to be used by the knowledge engineer in an
interactive and possibly iterative way to modify an action theory  these tools are guaranteed
   

fivarzinczak

to perform minimal change when assisting the knowledge engineer in implementing her
desired modifications  they give her a set of options and it is up to the knowledge engineer
to decide which one is more in line with her intuitions 
given that action theory change is not a single step operation  the knowledge engineer is
expected to make use of the contraction revision operators to make a series of modifications
that eventually will give a fine grained theory not entailing the contracted laws and entailing
the new learned laws about the domain 
for the sake of presentation  here we have abstracted from the frame and ramification
problems  however our definitions could have been stated in a formalism with a suitable solution to them  like castilho et al s approaches               with regards to the
qualification problem  this is not ignored here  contracting wrong executability laws is an
approach towards its solution  indeed  given the difficulty of stating all sufficient conditions
for executability of an action  the knowledge engineer writes down some of them and lets
the theory evolve via subsequent revisions 
a possible criticism to the approach here developed concerns the cautiousness of our
operator for contracting static laws  we prefer to lose some executability laws rather than
induce them and lose effect laws  this behavior could make our operators to be interpreted
as incoherent  we have pointed out nevertheless that this is in line with largely accepted
assumptions in the rac community  and moreover we have shown the impossibility of a
non cautious static law contraction operator that complies with all that and is coherent
with the other operators 
indeed one of the purposes of the present work is to shed some light on the fundamental
differences between belief change in action domain descriptions and in logical theories in
general  classical belief change cannot be fully transplanted to action theories  and here we
have shown why  cf  sections               and      
in particular  looking at the postulates of classical belief change  or our versions thereof 
one sees that they are not enough to fully characterize operators for action theory change 
for that to be achieved the fundamental assumptions in reasoning about actions that we
have extensively used throughout this work should somehow be compiled into postulates
supplementing the classical ones  it is not immediately clear what these new postulates
would look like  but this is an interesting thread of investigation worth pursuing 
it might also be argued that our semantic operations do not respect the principle of
categorical matching  given that the input and output are different sorts of objects  viz  a
set of models and a set of sets of models  cf  definitions          and        it is easy to see 
however  that our semantic constructions could have been defined in such a way that each
m   m
 corresponds to the result of one contraction operator  the choice for defining
the result of an operation as a set of possible outputs was driven by the definition of the
algorithms  where a theory  corresponding to a set of models  is given as input and the
output is a set of theories  hence corresponding to a set of set of models  
although the semantic operators can be redefined to satisfy the principle of categorical matching  the same is not immediate about the algorithms  they would be nondeterministic   therefore we preferred to keep a balance between the semantic and the
syntactic definitions so that we see more clearly their direct correspondence 
   

fion action theory change

one of our contentions here is that sticking to modular theories  and hence to canonical models  is not a big deal  we can use existent algorithms in the literature  herzig  
varzinczak        to ensure that an action theory t is characterized by its canonical models 
we have seen that under modularity  our operators satisfy all the postulates for contraction  modularity is one of the sufficient conditions for success in theorem      it is
also a sufficient condition in theorem      and  as shown in theorem      it is a sufficient
condition for recovery  finally it is also a sufficient condition for the disjunctive rule
to hold  and is shown to be preserved by the contraction operators  cf  last paragraph of
section      proof in appendix b   preservation of modularity is an important result since
it means that it has to be checked ensured at most once during the lifetime of the action
theory  all these results support the thesis that our modularity notion is fruitful 
by forcing formulas to be explicitly stated in their respective modules  and thus possibly
making them inferable in independently different ways   modularity intuitively could be
seen to diminish elaboration tolerance  mccarthy         for instance  when contracting a
boolean formula  in a non modular theory  it seems reasonable to expect not to change the
set of static laws s   while the theory being modular surely forces changing such a module  it
is not difficult  however  to conceive non modular theories in which contraction of a formula
 may demand a change in s as well  as an example  suppose s           in an action
theory from whose dynamic part we  implicitly  infer     in this case  contracting  
while keeping   would necessarily ask for a change in s  
we point out nevertheless that in both cases  modular and non modular  the extra work
in changing other modules stays in the mechanical level  i e   in the algorithms that carry
out the modification  and does not augment in a significant way the amount of work the
knowledge engineer is expected to do 
contrary to the trend in the belief change community  where the focus is either on belief
bases or belief sets  hansson         the method here proposed is a hybrid one  delgrande 
       on one hand  semantics plays a crucial role in the notion of minimal change here
studied  on the other hand  we deal only with domain descriptions in reasoning about
actions  which are sets of laws of specific types  on top of that  the modularity property  a
syntactical one  is fundamental to our main results 
following those lines  another issue that drives our future research on the subject is how
to contract not only laws but any kn  formula  as defined  the order of application of our
operators matter in the final result  if we contract  and then    a  from a theory t 
the result may not be the same as contracting    a  first and then removing   this
problem would not appear in a more general framework in which any formula could be
contracted  removing       a   should give the same result as     a      this
is the principle of syntax independence  dalal        
related to that is the question on how our revision definitions relate to our contraction
operators  what is known is that the levi identity         t     t 
      in general
does not hold for action laws  effect and executability ones   the reason is that up to now
there is no contraction operator for  where  is an effect or an executability law  indeed
this is the general contraction problem for non classical logics  contraction of a general
formula  like  above  is still an open problem in the belief change area  some insights in
this direction are given by our revision definitions  with which we make  false in every
possible world of a kripke model 
   

fivarzinczak

definitions          and     appear to be important for better understanding the problem
of contracting general formulas  basically the set of modifications to perform in a given
model in order to force it to falsify a general formula will comprise removal addition of
transitions worlds  the definition of a general revision contraction method will then benefit
from our constructions 
furthermore  given the well known connection between multimodal logics and description logics  baader  calvanese  mcguinness  nardi    patel schneider         we believe
that our definitions may also contribute to ontology evolution and debugging in some specific
families of dls 

acknowledgments
parts of this work have been done during the authors stay at the institut de recherche en
informatique de toulouse  irit   france  and during his visit to the national ict australia
 nicta   sydney 
the author is grateful to the anonymous referees for their constructive and useful remarks  which helped improving the quality of the work  the paper has also benefited from
discussions with andreas herzig and laurent perrussel 
special thanks to my colleagues at the meraka institute arina britz  ken halland 
johannes heidema and tommie meyer for their invaluable comments and suggestions on
earlier versions of this article 

appendix a  proof of theorem    
m

let t be modular  and  be a law  for all m   m
 such that    t for every m  m 
m 

 
 
 
there is t    t 
 such that    t for every m  m  

before we give the proof of this theorem  we will need the following lemma  cf  the
monotonicity postulate in section      
lemma a   t   
t   
k
n

proof  let t be an action theory  and let t    t 
   for a given law   we are going to
analyze each case 
let  be of the form   hai   for some   fml  then t   is such that
t      t   xa      i     a     hai    i  hai   xa  
v
v
where   ip s    and a   pi atm   pi  pi atm   pi   for some a  atm   
pi a

pi a
 

m

let m   hw  ri be such that    t  it is enough to show that m is a model of the new
m
m
laws  for every  i     a     hai   for every w  w  if   w i     a    then   
 
w i
m

because t   k i  hai      i  hai   and then ra  w      
n

m

therefore we have that    t    
   

fion action theory change

let now  have the form    a   for     fml  then t   is such that
 t   ea   
  i     a      a i   i   a i  ea   
 

t       i    a     a  i       i   a i  ea   


   l  forvsome l  lit s t 


   a       a         s          l       and      


or t   kn    a       a  

where ea  

s

 
 in  ea  i  

  ip s     a  

v
pi atm  
pi a

pi 

v
pi atm  
pi a
 

pi   for some

a  atm    and     ip s    
m
let m   hw  ri be such that    t  it is enough to show that m is a model of the
m
added laws  given  i     a      a i   for every w  w  if   w i     a    then
m

m

m

  w i   because t   k i   a i      i   a i   and then      i for every w   w such that
w
n
 w  w     ra  
m
m
for  i    a     a  i        for every w  w  if   w i    a   then again      i
w
for every w   w such that  w  w     ra  
m
m
now  given    a       a        for every w  w  if   w   a     then   
  and
w
m

m

m

then   
  since t   
   a   we have       a   and then       for every w   w
kn
w
w
 
such that  w  w    ra  
m
therefore    t    
let  be a propositional   then t   is such that
  t   s    s      xa 
t       i     hai    i  hai   xa   
    a  
for some s   s    
m
let m   hw  ri be such that    t  it suffices to show that m satisfies the added laws 
since we assume   behaves like a classical contraction operator  like e g  katsuno and
m
m
mendelzons         we have   
s  s    and then  because    s   we have    s   
cpl
m

m

m

now given  i     hai   for every w  w  if   w i    then   
i   and because
w

   i  hai   we have ra  w      
m
finally  for    a   because      m trivially satisfies    a  
m
therefore    t    

 

proof of theorem    
m

m 


 
 
let m    m      t   and m   m
   we show that there is t  t  such that    t
 
 
for every m  m  

   

fivarzinczak

m 

m 

by definition  each m    m  is such that either    t or       because t 
      there
m 

m 

 
must be t    t 
   if    t  by lemma a      t and we are done  let us then suppose
m 

that       we analyze each case 
let  have the form   hai  for some   fml  then m     hw    r  i  where w    w 
m

 
 and  w  w     ra    for some m  m 
r    r   r
a   with ra     w  w       
w
m 

m 

let u  w  be such that    
  hai   i e     
 and r a  u     
u
u
v
 
because u    there must be v  base   wv
  such that v  u  let     v    clearly
 is a prime implicant of s    let also a    u v    and consider
t      t   xa      i     a     hai    i  hai   xa  
 clearly  t   is a theory produced by algorithm    
it is enough to show that m   is a model of the new added laws  given  i  a    
m

m 

m 

i   from what it follows   w i  
i     a    then   
hai   t     for every w  w    if   
w
w
m

because    i  hai   there is w   w such that w   ra  w   we need to show that
m
m
 
 
 w  w     r a   if    
  then r
  either w   u  and then from
a     and  w  w    ra   if   
w
w
m 

m 

  u   a we conclude   u  i     a     hai   or w    u and then we must have



 w  w     r a   otherwise there is s
a  ra such that r r   sa    r r   ra    and then
m   

  
 
m      hw    r   s
a i is such that       hai  and m m m   a contradiction because
m 

m 

m   is minimal with respect to m   thus  w  w     r a   and then   
hai   hence    t    
w
now let  be of the form    a   for    both boolean  then m     hw    r  i  where
w    w  r    r  r 
  with
a
r 
    w  w      w   reltarget w     a   m   m  
a
for some m   hw  ri  m 
m 

m 

   a   then there is u   w  such that  u  u     r a and
let u  w  be such that    
u

       because u    there is v  base   w    such that v  u  and as u     there must
u
v
v
v
be v    base   w    such that v    u    let     v    a    u v    and       v    
clearly   resp       is a prime implicant of s    resp  s    
s
now let ea    in  ea   i and let the theory
 t   ea   
  i     a      a i   i   a i  ea   
 

t       i    a     a  i       i   a i  ea   


   l  forvsome l  lit s t 


   a       a         s          l       and      


or t   kn    a       a  

 clearly  t   is a theory produced by algorithm    
   

fion action theory change

in order to show that m   is a model of t     it is enough to show that it is a model of the
m 
added laws  given  i  a      a i  t     for every w  w    if   w i  a    then
m 

m

m

m

  
i   and then   w i   because    i   a i        i for all w   w such that  w  w     ra  
w
m

w

    and then r a  w    ra  w  
we need to show that r a  w    ra  w   if    w   then r 
a
m

m 

m 

if   
  then either w   u  and from   u   a we conclude   
 i     a      a i  
w
u
 
or w    u  and then we must have ra
    otherwise there would be s 
 r 
such
a
a
 
 
 
 
  
that r r  sa    r r  ra    and then m   hw   r  sa i would be such that
m   

       a  and m    m m     a contradiction since m   is minimal with respect to m  
m 

hence r a  w    ra  w   and      i for all w  such that  w  w     r a  
w

m 

m 

now  given  i    a     a  i        for every w  w    if   w i    a   then
m

m

m

  w i   and then   
i   because     i   a i   we have      i for all w   w such that
w
w

m 

 w  w     ra   and then      i for every w   w  such that  w  w     r a   ra    now  given
w

m 

            and the result follows 
 w  w     r 
a
w

m 

m 

now  for each    a       a        for every w  w    if   
  a     then
w
m

m

m

  w   and then   
  because       a   we have       for every w   w such that
w
 w  w   

w

m 

 ra   and then       for all
w

m 

w 

 

 w such that  w  w     r a   r 
  it remains to
a

show that        for every w   w  such that  w  w     r 
  since m   is minimal  it is
a
w

m 

m 

enough to show that       for every    lit such that   
  a     if         the result
u
u

m 

follows  otherwise  suppose         then
u

 either         then    and   are unsatisfiable  and in this case algorithm   has not
put the law    a       a       in t     a contradiction 
 or    u    v     in this case  there is a valuation u      u              such that
 
  
 
u       we
   i  u     such that
iv
v must have u  w   otherwise there will be l     
 
 
t   k     i l   i      and  because t is modular  s   cpl     i l   i      and
n
then algorithm   has not put the law    a       a       in t     a contradiction 
then u    w    and moreover u   
  r 
 u   otherwise m   is not minimal  as
a
 
u     u  u    u  the only reason why u   
  ra  u  is that there is     u  u   such that
mi v
 
    j u  j   a   for every mi  m if and only if    
  v  for any v   base   w    
m v
such that v   u     clearly         and because   
       we have    i  j u  j   a  
for every mi  m  then t   
   a       a    and then algorithm   has not
kn
put the law    a       a       in t     a contradiction 
m 

hence we have          for every w   w  such that  w  w     r a  
w

m 

putting the above results together  we get    t    
let now  be some propositional   then m     hw    r  i  where w  w    r    r  is
minimal with respect to m   i e   w  is a minimal superset of w such that there is u  w 
   

fivarzinczak

with u     because we have assumed the syntactical classical contraction operator is
sound and complete with respect to its semantics and is moreover minimal  then there must
m 
be s   s    such that w    val s     therefore    s   
because r    r  every effect law of t remains true in m    
now  let
  t   s    s      xa 
t       i     hai    i  hai   xa   
    a  
 clearly  t   is a theory produced by algorithm    
m 

for every  i     hai   t   and every w  w    if   
i    then ra  w      
w
m 

m

i  hai   given    a   for every w  w    if   
  then w   u  and
because   
w
w
ra  w     
m 

 

putting all these results together  we have    t    

appendix b  proof of theorem    
m 


 
 
 
let t be modular   a law  and t    t 
   for all m such that    t   there is m  m
m

such that m    m  and    t for every m  m 
in order to prove this result  first we need to show four important lemmas 
lemma b   let  be a law  if t is modular  then every t    t 
 is modular 
 
proof  let  be nonclassical  and suppose there is t    t 
 such that t is not modular 
 
 
 
 
 
 
then there is some   fml such that t   k  and s    
   where s is the set of static
cpl
n
 
 
laws in t   by lemma a    t   
t   and then we have t   
    because  is nonclassical 
kn
kn
 
s   s   thus s    cpl     and therefore t is not modular 

let now  be some   fml  then
  t   s    s      xa 
t       i     hai    i  hai   xa   
    a  
for some s   s    
assume that t is modular  and let    fml be such that t     
  and s     
   
kn
cpl
as s     
    there is v  val s    such that v       if v  val s    then s    cpl     and
cpl
as t is modular  t    k     by lemma a    t   k t     and we have t      k     a contradiction 
n
n
n
hence v 
  val s    moreover  we must have v     otherwise   has not worked as expected 
m
let m   hw  ri be such that    t      we extend m to another model of t      let
m     hw    r  i be such that w    w   v  and r    r  to show that m   is a model
m 

of t     it suffices to show that v satisfies every law in t     as v  val s       
s    given
v
   

fion action theory change

m 

   a   t     as v    and r a  v        v    a   now  for every i   a i  t    
m 

m 

if   v i   then we trivially have     i for every v  such that  v  v     r a   finally  given
v

m 

 i     hai   t     as v     the formula trivially holds in v  hence    t     and because
m 

there is v  w  such that    
    we have t      k     a contradiction  hence for all    fml
v
n
    and then t   is modular 
such that t     k     s    

 
cpl
n

lemma b   if mcan   hwcan   rcan i is a model of t  then for every m   hw  ri such
m
that    t there is a minimal  with respect to set inclusion  extension r   rcan   r such
that m     hval s    r  r  i is a model of t 
m

proof  let mcan   hwcan   rcan i be a model of t  and let m   hw  ri be such that    t 
m 

consider m     hval s    ri  if    t  we have r      rcan   r that is minimal  suppose
m 

m 

then     t  we extend m   to a model of t that is a minimal extension of m   as     t 
m 

m 

there is v  val s     w such that    
t  then there is   t such that    v   if  is
v
some   fml  as v  wcan   mcan is not a model of t  if  is of the form    a   for
    fml  there is v   val s   such that  v  v     ra and v      a contradiction since
m 

ra  v      let now  have the form   hai  for some   fml  then   
  as v  wcan  
v
mcan

mcan

if    v   hai   then     t  hence  rcana  v       thus taking any  v  v     rcana gives
us a minimal r      v  v     such that m      hval s    r  r  i is a model of t 
 
lemma b   let t be modular  and  be a law  then t   
 if and only if every m    
k
 

hw ri

hval s    r i such that   

n

 

t and r  r is a model of  

proof 
m
m
    straightforward  since t   
 implies     for every m such that    t  in particular
kn
for those which are extensions of some model of t 
m

m

    suppose t    
  then there is m   hw  ri such that    t and       as t is modular 
kn
the canonical frame mcan   hwcan   rcan i of t is a model of t  then by lemma b   there is
a minimal extension r  of r with respect to rcan such that m     hval s    r  r  i is a model
m
m
of t  because       there is w  w such that    w   if  is some propositional   fml or
m 

an effect law  any extension m   of m is such that    w   if  is of the form   hai  
m

then   
 and ra  w      as any extension of m is such that  u  v   r  if and only if
w
u  val s     w  only worlds other than those in w get a new departing transition  thus
m 

 

 r  r   a  w      and then    w  

 
 
 
lemma b   let t be modular   a law  and t    t 
   if m   hval s    r i is a model
m

of t     then there is m    m   m   hval s    ri and    t  such that m    m  for some
m   m
 
   

fivarzinczak

m 

m 

proof  let m     hval s      r  i be such that    t     if    t  the result follows  let us
m 

suppose then     t  we analyze each case 
let  be of the form   hai   for some   fml  let m    m   m   hval s    ri  
since by hypothesis t is modular  from lemmas b   and b   it follows that m is non empty
and contains only models of t 
suppose m   is not a minimal model of t     i e   there is m    such that m    m m   for
some m  m  then m   and m    differ only in the executability
of a inva given  world 
v
viz  a   a  context  for some   ip s    and a   pi atm   pi  pi atm   pi such
pi a

m 

m   

pi a
 

that a  atm    because        a    hai   we must have       a    hai  and
m   

then    t  hence m   is minimal with respect to m  
when contracting executability laws  s     s   hence taking the right r and a minimal
m
 


 
r
 and  w  w    
a such that m   hval s    ri and r   r   ra   for some ra    w  w      
w

ra    we construct m    m   m      mhai   
let  now be of the form    a   for     fml  let m    m   m   hval s    ri  
since by hypothesis t is modular  from lemmas b   and b   it follows that m is non empty
and contains only models of t 
we claim that m   has only onevtransition linking
v a  world  viz  a context i    a
for some   ip s    and a   pi atm   pi  pi atm   pi   such that a  atm    to a
pi a

pi a
 

    world  where     ip s     the proof is as follows  given    lit such that   holds
in this i    a  world
 if    a       a       
  t     then   
     and t   
   a       a    then
kn
this world has only   successors 
 if    a       a        t     then every     successor is an   world 
by successively applying this reasoning to each   that holds in this i    a  world  we
will end up with only one     successor 
m   
suppose now that m   is not a minimal model of t     i e   there is m    such that    t  
and m    m m   for some m  m  then m   and m    differ only in the effects on
that i    a  world  m    has no transition linking it to a     world  then we have
m   
m   
    i    a     a i   and then    t  therefore m   is a minimal model of t   with
respect to m  
when contracting effect laws  s     s   thus taking the right r and a minimal r 
a
m
 
 
 
 
such that m   hval s    ri and r   r  ra   for some ra    w  w      
 and w  
w

reltarget w     a   m   m    we construct m    m   m      m a   
let now  be  for some   fml  since t is modular  by lemmas b   and b   there
m
is m   hval s    ri such that    t  we know val s    val s     because    a   t    
r a  v     for every  world v added in m     hence  because   is minimal  taking m  
 m   gives us the result 
 
   

fion action theory change

proof of theorem    
from the hypothesis that t is modular and lemma b    it follows that t   is modular 
too  then m     hval s      ri is a model of t     by lemma b    from this and lemma b  
the result follows 
 

references
alchourron  c   gardenfors  p     makinson  d          on the logic of theory change 
partial meet contraction and revision functions  journal of symbolic logic         
    
baader  f   calvanese  d   mcguinness  d   nardi  d     patel schneider  p   eds           
description logic handbook  cambridge university press 
baral  c     lobo  j          defeasible specifications in action theories  in pollack  m 
 ed    proceedings of the   th international joint conference on artificial intelligence
 ijcai   pp            morgan kaufmann publishers 
booth  r   meyer  t     varzinczak  i          next steps in propositional horn contraction  in boutilier  c   ed    proceedings of the   st international joint conference on
artificial intelligence  ijcai   pp          aaai press 
burger  i     heidema  j          merging inference and conjecture by information  synthese                  
castilho  m   gasquet  o     herzig  a          formalizing action and change in modal
logic i  the frame problem  journal of logic and computation                
castilho  m   herzig  a     varzinczak  i          it depends on the context  a decidable
logic of actions and plans based on a ternary dependence relation  in  th international
workshop on nonmonotonic reasoning  nmr  
cholvy  l          checking regulation consistency by using sol resolution  in proceedings
of the  th international conference on ai and law  pp       
dalal  m          investigations into a theory of knowledge base revision  preliminary report 
in smith  r     mitchell  t   eds    proceedings of the  th national conference on
artificial intelligence  aaai   pp          morgan kaufmann publishers 
de giacomo  g     lenzerini  m          pdl based framework for reasoning about actions  in gori  m     soda  g   eds    proceedings of the  th congress of the italian association for artificial intelligence  ia ai   no      in lnai  pp         
springer verlag 
delgrande  j          personal communication  commonsense    toronto 
demolombe  r   herzig  a     varzinczak  i          regression in modal logic  journal of
applied non classical logic                 
eiter  t   erdem  e   fink  m     senko  j          updating action domain descriptions 
in kaelbling  l     saffiotti  a   eds    proceedings of the   th international joint
conference on artificial intelligence  ijcai   pp          morgan kaufmann publishers 
   

fivarzinczak

finger  j          exploiting constraints in design synthesis  ph d  thesis  stanford university 
flouris  g   plexousakis  d     antoniou  g          generalizing the agm postulates  in
  th international workshop on nonmonotonic reasoning  nmr  
fuhrmann  a          on the modal logic of theory change  in the logic of theory change 
pp         
gardenfors  p          knowledge in flux  modeling the dynamics of epistemic states 
mit press 
gelfond  m     lifschitz  v          representing action and change by logic programs 
journal of logic programming                     
giunchiglia  e   kartha  g     lifschitz  v          representing action  indeterminacy and
ramifications  artificial intelligence                 
hamming  r          error detecting and error correcting codes  bell system technical
journal                 
hansson  s          kernel contraction  journal of symbolic logic                 
hansson  s          a textbook of belief dynamics  theory change and database updating 
kluwer academic publishers 
harel  d   tiuryn  j     kozen  d          dynamic logic  mit press 
herzig  a   perrussel  l     varzinczak  i          elaborating domain descriptions  in
brewka  g   coradeschi  s   perini  a     traverso  p   eds    proceedings of the   th
european conference on artificial intelligence  ecai   pp          ios press 
herzig  a     rifi  o          propositional belief base update and minimal change  artificial
intelligence                  
herzig  a     varzinczak  i          domain descriptions should be modular  in lopez de
mantaras  r     saitta  l   eds    proceedings of the   th european conference on
artificial intelligence  ecai   pp          ios press 
herzig  a     varzinczak  i       a   cohesion  coupling and the meta theory of actions 
in kaelbling  l     saffiotti  a   eds    proceedings of the   th international joint
conference on artificial intelligence  ijcai   pp          morgan kaufmann publishers 
herzig  a     varzinczak  i       b   on the modularity of theories  in schmidt  r   pratthartmann  i   reynolds  m     wansing  h   eds    advances in modal logic  vol    
pp         kings college publications 
herzig  a     varzinczak  i          a modularity approach for a fragment of alc  in
fisher  m   van der hoek  w   konev  b     lisitsa  a   eds    proceedings of the   th
european conference on logics in artificial intelligence  jelia   no       in lnai 
pp          springer verlag 
herzig  a     varzinczak  i          metatheory of actions  beyond consistency  artificial
intelligence              
   

fion action theory change

jin  y     thielscher  m          iterated belief revision  revised  in kaelbling  l     saffiotti  a   eds    proceedings of the   th international joint conference on artificial
intelligence  ijcai   pp          morgan kaufmann publishers 
katsuno  h     mendelzon  a          on the difference between updating a knowledge
base and revising it  in gardenfors  p   ed    belief revision  pp          cambridge
university press 
kracht  m     wolter  f          properties of independently axiomatizable bimodal logics 
journal of symbolic logic                   
levi  i          subjunctives  dispositions and chances  synthese             
li  r     pereira  l          what is believed is what is explained  in shrobe  h     senator  t   eds    proceedings of the   th national conference on artificial intelligence
 aaai   pp          aaai press mit press 
liberatore  p          a framework for belief update  in proceedings of the  th european
conference on logics in artificial intelligence  jelia   pp         
makinson  d          friendliness and sympathy in logic  in beziau  j  y   ed    logica
universalis  vol     pp          springer verlag 
marquis  p          consequence finding algorithms  in gabbay  d     smets  p   eds   
handbook on defeasible reasoning and uncertainty management systems  vol    
algorithms for uncertainty and defeasible reasoning  edited by j  kohlas and s 
moral  chap     pp         kluwer academic publishers 
mccarthy  j          epistemological problems of artificial intelligence  in sridharan  n 
 ed    proceedings of the  th international joint conference on artificial intelligence
 ijcai   pp            morgan kaufmann publishers 
mccarthy  j          elaboration tolerance  in proceedings of the  th international symposium on logical formalizations of commonsense reasoning 
mccarthy  j     hayes  p          some philosophical problems from the standpoint of
artificial intelligence  in meltzer  b     mitchie  d   eds    machine intelligence 
vol     pp          edinburgh university press 
nebel  b          a knowledge level analysis of belief revision  in brachman  r   levesque 
h     reiter  r   eds    proceedings of the  st international conference on principles
of knowledge representation and reasoning  kr   pp          morgan kaufmann
publishers 
parikh  r          beliefs  belief revision  and splitting languages  in moss  l   ed   
logic  language and computation  no     in csli lecture notes  pp          csli
publications 
popkorn  s          first steps in modal logic  cambridge university press 
quine  w          the problem of simplifying truth functions  american mathematical
monthly             
quine  w          paradox  scientific american          
   

fivarzinczak

reiter  r          knowledge in action  logical foundations for specifying and implementing dynamical systems  mit press 
schlechta  k          coherent systems  studies in logic and practical reasoning   
elsevier 
shanahan  m          solving the frame problem  a mathematical investigation of the common sense law of inertia  mit press 
shapiro  s   lesperance  y     levesque  h          goal change  in kaelbling  l     saffiotti  a   eds    proceedings of the   th international joint conference on artificial
intelligence  ijcai   pp          morgan kaufmann publishers 
shapiro  s   pagnucco  m   lesperance  y     levesque  h          iterated belief change in
the situation calculus  in cohn  t   giunchiglia  f     selman  b   eds    proceedings
of the  th international conference on principles of knowledge representation and
reasoning  kr   pp          morgan kaufmann publishers 
thielscher  m          ramification and causality  artificial intelligence                  
thielscher  m          a unifying action calculus  to appear in artificial intelligence 
varzinczak  i          what is a good domain description  evaluating and revising action
theories in dynamic logic  ph d  thesis  universite paul sabatier  toulouse 
varzinczak  i          action theory contraction and minimal change  in lang  j    
brewka  g   eds    proceedings of the   th international conference on principles of
knowledge representation and reasoning  kr   pp          aaai press 
varzinczak  i          on the revision of action laws  an algorithmic approach  in ijcai
workshop on nonmonotonic reasoning  action and change  nrac  
winslett  m  a          reasoning about action using a possible models approach  in smith 
r     mitchell  t   eds    proceedings of the  th national conference on artificial
intelligence  aaai   pp        morgan kaufmann publishers 
zhang  d   chopra  s     foo  n          consistency of action descriptions  in ishizuka 
m     sattar  a   eds    proceedings of the  th pacific rim international conference
on artificial intelligence  no       in lncs  pp        springer verlag 
zhang  d     foo  n          epdl  a logic for causal reasoning  in nebel  b   ed    proceedings of the   th international joint conference on artificial intelligence  ijcai  
pp          morgan kaufmann publishers 
zhang  y     ding  y          ctl model update for system modifications  journal of
artificial intelligence research             

   

fi