journal of artificial intelligence research                  

submitted        published      

multiattribute auctions based on generalized additive
independence
yagil engel

yagile ie technion ac il

technion   israel institute of technology
faculty of industrial engineering   management
technion city  haifa        israel

michael p  wellman

wellman umich edu

university of michigan
division of computer science   engineering
     hayward st  ann arbor  mi             usa

abstract
we develop multiattribute auctions that accommodate generalized additive independent
 gai  preferences  we propose an iterative auction mechanism that maintains prices on
potentially overlapping gai clusters of attributes  thus decreases elicitation and computational burden  and creates an open competition among suppliers over a multidimensional
domain  most significantly  the auction is guaranteed to achieve surplus which approximates optimal welfare up to a small additive factor  under reasonable equilibrium strategies
of traders  the main departure of gai auctions from previous literature is to accommodate non additive trader preferences  hence allowing traders to condition their evaluation
of specific attributes on the value of other attributes  at the same time  the gai structure
supports a compact representation of prices  enabling a tractable auction process  we perform a simulation study  demonstrating and quantifying the significant efficiency advantage
of more expressive preference modeling  we draw random gai structured utility functions
with various internal structures  generate additive functions that approximate the gai
utility  and compare the performance of the auctions using the two representations  we
find that allowing traders to express existing dependencies among attributes improves the
economic efficiency of multiattribute auctions 

   introduction
multiattribute trading mechanisms extend traditional  price only mechanisms by facilitating negotiation over a set of predefined attributes representing various non price aspects
of a deal  rather than negotiate over a fully specified good or service  a multiattribute
mechanism delays commitment to particular configurations until it extracts sufficient information on traders preferences  for example  a companys procurement department may
run a multiattribute auction to select a supplier of hard drives  supplier offers may be
evaluated not only over the price they offer  but also over features such as volume  rpm 
access time  latency  transfer rate  and so on  in addition  suppliers may offer contracts
differing in terms such as warranty  delivery time  and service 
in order to account for traders preferences  the auction mechanism must extract evaluative information over a complex domain of multidimensional configurations  constructing
and communicating a complete preference specification can pose a severe burden for even a

c
     
ai access foundation  all rights reserved 

fiengel   wellman

moderate number of attributes  hence practical multiattribute auctions must either accommodate partial specifications  or support compact expression of preferences assuming some
simplified form  by far the most popular multiattribute form to adopt is the simplest  an
additive representation where overall value is a linear combination of values associated with
each attribute  for example  several recent proposals for iterative multiattribute auctions
 beil   wein        bichler        david  azoulay schwartz    kraus        parkes  
kalagnanam        require additive preference representations 
such additivity reduces the complexity of preference specification exponentially  compared to the general discrete case   but precludes expression of any interdependencies among
the attributes  in practice  however  interdependencies among natural attributes are quite
common  for example  the hard drive buyer may exhibit complementary preferences for
volume and access time  since the performance effect is more salient if much data is involved   or may view a strong warranty as a good substitute for high reliability ratings 
similarly  a sellers production characteristics can easily violate additivity  for example if
decreasing access time is technically more difficult for higher capacity drives  in such cases
an additive value function may not be able to provide an adequate approximation of real
preferences 
on the other hand  fully general models are intractable  and multiattribute preferences
typically exhibit some structure  our goal  therefore  is to identify the subtler yet more
widely applicable structured representations  and exploit these properties of preferences in
trading mechanisms 
we propose an iterative auction mechanism based on just such a flexible preference
structure  our approach is inspired by the design of an iterative multiattribute procurement
auction for additive preferences  due to parkes and kalagnanam         pk   pk present
two auction designs  the first  nld  makes no assumptions about traders preferences  and
lets sellers bid on the full multidimensional attribute space  because nld maintains an
exponential price structure  it is suitable only for small domains  the other auction  ad 
assumes additive buyer valuation and seller cost functions  it collects sell bids per attribute
level and for a single discount term  the price of a configuration is the sum of the prices of
the chosen attribute levels minus the discount 
the auction we propose also supports compact price spaces  albeit for levels of clusters of attributes rather than singletons  we employ a preference decomposition based on
generalized additive independence  gai   a model flexible enough to accommodate interdependencies to the exact degree of accuracy desired  yet providing a compact functional
form to the extent that interdependence can be limited 
first  we build a direct  formally justified link from preference statements over priced
outcomes to a generalized additive decomposition of the willingness to pay  wtp  function 
after laying out this infrastructure  we employ this representation tool for the development
of a multiattribute iterative auction mechanism that allows traders to express their complex
preferences in gai format  we then study the auctions allocational  computational  and
practical properties  next  we present a simulation study of our proposed auction mechanism  in order to practically evaluate the economic and computational properties of gai
auctions  we simulate the auctions using random gai utility functions  including some
based on constrained preference structures often exhibited in applications  the simulations
let us quantify the benefits of modeling preferences accurately using gai  in comparison to
   

figai auctions

using an additive approximation  we show that under most circumstances  a gai auction
achieves significantly higher surplus than an auction that uses an additive approximation
of preferences 
after providing background on multiattribute preferences and multiattribute auctions
 section     we develop new multiattribute structures for wtp functions  supporting generalized additive decompositions  section     we describe our auction mechanism in section   
followed by a detailed example in section    and study the mechanisms allocational  computational  and practical properties in section    we present our simulation framework in
section    and discuss the experimental results in section   

   background
in this section we provide essential background on multiattribute preferences  sections    
and      and on multiattribute auctions  section      
    multiattribute preferences and utility
let  denote the space of possible outcomes  with   a preference relation  weak total order 
over   let a    a            an   be a set of attributes describing   each attribute a  a has
a domain d a   so that   ni   d ai    capital letters denote subsets of attributes  small
latin letters  with or without numeric subscripts  denote specific attributes  and x   a x 
  and variations such as    or   indicate specific outcome in   an instantiation to a subset
of attributes y is denoted using prime signs  as in y     or numerical superscript  as in y     
in particular  y   is a projection on y of some instantiations     to represent an
instantiation of subsets x  y at the same time we use a sequence of instantiation symbols 
as in x   y    
the preference relation   over outcomes is usually represented numerically by a value
function v    keeney   raiffa        
definition    value function   v       is a value function representing   if for any
        v    v      iff        
clearly  any monotonic transformation of v   is also a value function for   
in many cases it is useful to represent  beyond a simple preference order over outcomes 
a notion of strength of preferences  a value function that expresses strength of preferences is
called a cardinal value function  a measurable value function is a well established cardinal
 over pairs of outcomes 
value framework which posits the existence of a preference order  
 
 
 
 

for some     and       the statement               means that the strength of
preference of    over  is greater than or equal to that of    over   krantz  luce  suppes 
and tversky        establish the set of axioms ensuring the existence of a utility function

representing   
definition    measurable value function   a measurable value function  mvf  is a
value function u        such that for any                for which       and         the
following holds 
         
u       u    u       u             
   

   

fiengel   wellman

hence the order over differences in values of u   correspond exactly to the order over
preference differences  note that an mvf can also be used as a value function representing
          iff            for any  
   because          
in auction theory and mechanism design  traders preferences are usually represented
using a quasi linear value function  such as v   p    u   p  where p represents a monetary
outcome   the cardinal value function u   expresses strength of preference  in that the
difference u       u       corresponds to the additional amount a trader is willing to pay
for    relative to       for example  if    represents a red mercedes with a sunroof  and    
denotes a blue subaru with no sunroof  then u       u       is the strength of preference for
the mercedes configuration over the subaru  if the mercedes costs p  and the subaru p    
then according to v   p  the trader prefers the mercedes deal iff u       u        p   p    
in fact  u   can be easily shown to be an mvf  where the preference differences correspond to differences in willingness to pay  engel   wellman         for this reason  we
use mvf as the basis for utility in this work  and assume that traders willingness to pay
 wtp  functions constitute an mvf 
reasoning over full outcomes is hard in several ways  most notably  it is difficult for
humans to compare outcomes over many dimensions  and complex for machines to store
and analyze preferences over a number of outcomes that is exponential in the number of
attributes  it is therefore useful to consider preferences over the joint product of some
y  a  considering the rest of the attributes y fixed on some predefined values  such an
order is also often referred to as a ceteris paribus preference orderone partial outcome is
preferred to another all else being equal 
definition    conditional preference   partial outcome y   is conditionally preferred
 
 
 
to partial outcome y   given y   if y   y   y   y   the conditional preference order over y
 
 
 
given y is denoted by  y     hence y   y   y   y is abbreviated y    y   y    
in general  conditional preferences may depend on the particular assignment chosen for
the rest of the attributes  more precisely  if y   y   y     we could still find that y   y    y  
  
 
for some y    y   when this is the case  one needs to maintain both conditional preference
orders  y   and  y      and hence in general this scheme might not yield any computational
benefits  fortunately  in many cases one can identify subsets y for which this preference
reversal does not occur  that is the preference order over y is invariant to the instantiation
of y  
definition    preferential independence   y is preferential independent  pi  of y  
 
  
written pi y  y    if for any y   and y     and for any y   y   we have y    y   y   iff y    y   
y   
first order preferential independence  fopi   independence of a single attribute from
the rest  is a natural assumption in many domains  for example  in typical purchase decisions greater quantity or higher quality is more desirable regardless of the assignments
to other attributes  preferential independence of higher order  however  requires invariance
of the tradeoffs among some attributes with respect to variation in others  a more stringent independence condition  the mpi condition  defined below  is over the global set of
attributes a  and requires all possible subsets to be pi 
   we use the term trader when referring to either buyers or sellers 

   

figai auctions

definition    mutual preferential independence   attributes a are mutually preferential independent  mpi  iff for all y  a  p i y  y   
preferential independence can greatly simplify the form of v 
theorem    debreu         a preference order over set of attributes a can be represented
by an additive value function
v a            an    

n
 

vi  ai   

i  

iff a is mutually preferential independent 
dyer and sarin        extend additivity theory to mvf  and specify the conditions
under which u   as well has an additive structure as above  effectively  additive forms
used in trading mechanisms assume mpi over the full set of attributes  including the money
attribute  intuitively that means willingness to pay for levels of an attribute or attributes
cannot be affected by the instantiation of other attributes  this sweeping condition rarely
holds in practice  von winterfeldt   edwards         therefore  recent ai literature often
relaxes the mpi assumption by imposing additivity only with respect to subsets of attributes
which may overlap 
definition    generalized additive
independence   let i            ig be  not necessarily
 
disjoint  subsets of a  such that gi   ii   a  the elements i            ig are called generalized
additive independent  gai  if there exist functions f            fg such that 
u a            an    

g
 

fr  ir   

   

r  

    related work on generalized independence
our definition of gai is somewhat nonstandard  most literature defines a gai condition
for the expected utility function  von neumann   morgenstern         in that well known
model  a particular choice results in a lottery  that is a probability distribution over outcomes  the expected utility function represents a complete preference order over lotteries 
informally  the gai definition requires preferences on lotteries over  to depend only on
the margins over the subsets i            ig   the form of eq      is a result of that definition 
obtained by fishburn         fishburn not only introduces the functional decomposition 
but also provides a well defined form for the functional constituents f            fg   graphical
models and elicitation procedures for gai decomposable utility were developed within the
expected utility framework  bacchus   grove        boutilier  bacchus    brafman       
gonzales   perny        braziunas   boutilier         in addition  generalized additive
utility models have been employed by hyafil and boutilier        as an aid in direct revelation mechanisms  and by robu  somefun  and la poutre        for opponent modeling
in bilateral multi item negotiation 
bacchus and grove         who in fact coined the term gai  show that the decomposition can also be obtained as a result of a collection of local  easier to detect  binary
   

fiengel   wellman

independence conditions  more specifically  they rely on a form called conditional additive
independence  which  informally  corresponds to a gai decomposition limited to two  overlapping  subsets x  a and y  a  they prove that this condition can be expressed as
a separation criterion on a graph whose nodes correspond to a  by the means of a perfect
map  pearl         crucially  the utility function decomposes to gai form over lower dimensional functions  each defined on a maximal clique of the graph  when combined with
fishburns work  their result provides a well defined functional form that can be obtained
from a collection of conditional additive independence conditions  this result relies on the
form of lotteries as a basis for the utility function and the independence conditions 
the expression of willingness to pay requires a cardinal measure of preferences  yet
without uncertainty  there is no need for an expected utility representation  we therefore
invoke the mvf framework  and in section    build on the additive decompositions for mvf
developed by dyer and sarin        to develop multiattribute preference structures for wtp 
this development enables us to follow the footsteps of fishburn        and bacchus and
grove        and show that a well defined gai form for mvf can also be obtained using
a collection of easy to detect binary independence conditions 
    multiattribute auctions
the distinguishing feature of a multiattribute auction is that the goods are defined by
vectors of attributes  as above  we use a to denote a set of attributes describing the domain
  a configuration is a particular attribute vector      multiattribute auctions are used
primarily for procurement  as part of strategic sourcing processes  sandholm         in
the procurement model there is a single buyer  who has a utility function  representing
willingness to pay  ub    for purchasing     there are m sellers s            sm with utility
functions ci        representing the cost for si to supply configurations in  to the buyer 
definition    multiattribute allocation problem   the multiattribute allocation problem  parkes   kalagnanam        is 
map  

max

i       m  

ub     ci    

   

an allocation  si       solving map is said to maximize the surplus of the procurement
problem 
map can be decomposed to two subproblems  first find the most efficient configuration
for each trader  and then find the trader whose efficient configuration yields the highest
surplus  we call the first part the multiattribute matching problem  engel  wellman   
lochner        
definition    multiattribute matching problem   the multiattribute matching problem  mmp  for a buyer b and a seller si is 
mmp b  si     arg max ub     ci    


we also call a configuration   selected by mmp b  si   a bilaterally efficient configuration
for si  
   

figai auctions

most of the theoretical work on surplus maximizing multiattribute auctions relates in
some way to the foundational work by che         in ches model  the good or service
is characterized by a single quality attribute  and each seller has an independent private
cost function over quality  the buyer announces a scoring rule to the sellers  by which
price quality offers will be evaluated  che suggests several types of auctions  including
the second score auction  where the seller bidding highest score wins  and must provide a
combination of price and quality that achieves the second best score  in the second score
mechanism  bidding truthfully is an equilibrium in dominant strategies  in particular  che
shows that sellers bid on the quality that maximizes the difference between the buyers
scoring rule and their own cost function  in other words  on the respective mmp solution 
branco        generalizes ches model and some of his results to correlated costs 
this basic model was later generalized by several authors to account explicitly for multiple quality attributes  and usually restricting the scoring rule to be additive over the
attributes  bichler        david et al          vulkan and jennings        suggest a modified version of english auctions  iterative auctions that require new bids to increment
over current bid price  under which bidders are required to improve current score  rather
than price  sandholm and suri        consider the incorporation of non price attributes in
multi item  combinatorial  auctions 
the literature surveyed above emphasizes that auctions require the buyer to reveal a
scoring function prior to bidding  in order to achieve economic efficiency  this scoring
function must convey the buyers full utility function ub     this is a major obstacle to
practical adaption of these mechanisms  procurement auctions are rarely an isolated event 
and the buyer supplier relationships usually evolve and change over time  during which
suppliers may retain some market power  and take advantage of the information revealed
by the buyer  events are sometimes conducted on a recurrent basis  and several events may
be conducted for related goods with correlated valuations  in addition  the buyer may wish
to keep secret the way her utility may be discriminating for or against particular suppliers
 koppius        
as noted in section    parkes and kalagnanam        suggest an alternative approach 
which employs prices over the space of configurations to drive traders to the efficient configurations  auction nld maintains a price for each     and sellers bid for such full
configuration in each round  auction ad maintains a price for each level a i  d ai    prices
are initially set to be high  in each round  sellers bid on a particular value for each attribute 
and the auction selects a set of levels  again  per attribute  which are myopically buyer preferred in that round  that is  approximately maximize the buyers utility with respect to
current prices  in addition  the auction maintains a discount factor that is applied to ensure
that a single seller is eventually selected  the price of a configuration is defined as the sum
of the prices of the chosen attribute levels minus the discount  after each round  prices of
particular levels of particular attributes are decremented by a constant    according to a set
of price change rules  ensuring that the auction ultimately converges to an efficient solution 
both auctions are shown to obtain optimal surplus  up to   proportional error   when
all sellers bid myopically rather than strategically  we define this concept formally in section       the myopic behavior is shown to be an ex post nash equilibrium  auction nld
is fully expressive but not tractable when the number of attributes is large  auction ad
is computationally efficient  but its expressiveness is limited to additive preferences  see
   

fiengel   wellman

discussion following theorem     when traders preferences are not additive  the welfare
achieved by the auction is not necessarily optimal  that is  it does solve map optimally 
but with respect to inaccurate utility functions  moreover  it is not clear how this lack of
expressiveness may affect the incentives of traders to act strategically 
theoretically  one could also use the well known vickrey clake grove  vcg  mechanism  parkes and kalagnanam define the sell side vcg mechanism  all traders submit
their full utility or cost functions  map is solved by the auction engine  and the winning
seller pays according to her vcg price  definition of this pricing is provided in section      
in such an auction  traders can be allowed to use any compact preference structure  including gai  however  this scheme suffers from the same disadvantages as any of the proposals
that require full revelation of utility 
to summarize  no previously suggested surplus maximizing multiattribute procurement
auction is at the same time expressive  accommodates interdependencies between attributes  
tractable  its computations do not depend on the fully exponential domain   and preserving
of the buyers private information  meaning  minimally  that it does not require the buyer
to reveal a full utility function before extracting any bids from sellers  our proposed mechanism  as we show theoretically and using simulations  possesses attractive properties on
all these criteria 

   detection of gai structure for measurable value functions
in this section we provide the basis for the application of gai decomposition in procurement
problems  in section     we show how gai can be obtained as a collection of local  weaker
conditions which are based on invariance of willingness to pay  in section     we use an
example to demonstrate how this process can be used in procurement problems 
    difference independence and gai
dyer and sarin        introduce for measurable value an analog to additive independence 
called difference independence  our first step is to introduce a conditional generalization of
their definition 
definition    conditional difference independence   let x  y  a and x  y    
and define z   a   x  y   x is conditionally difference independent of y   denoted as
cdi x  y    if for any z    d z   and for any x     x    d x   y     y    d y   
 x   y   z     x   y   z     
  x   y   z     x   y   z     

   

 and   both hold 
where the symbol 
 indicates that  
by the definition of mvfs      the cdi condition     can be expressed equivalently in
terms of measurable value 
u x   y   z      u x   y   z       u x   y   z      u x   y   z    
this condition states that the value  or willingness to pay  for a change in the assignment
to x does not depend on the current assignment of y   for any fixed value of z 
a cdi condition leads to a convenient decomposition of the mvf 
   

figai auctions

lemma    let u a  be an mvf representing preference differences  with x  y  z as specified in definition    then cdi x  y   iff
u a    u x     y  z    u x  y     z   u x     y     z  
for any arbitrary instantiations x     y    
with a single cdi condition  we can therefore replace the n ary function u x  y  z  with
two lower dimensional functions u x     y  z  and u x  y     z   it is reasonable to assume
that one can apply more cdi conditions to further decompose the resulting functions  in
order to take full advantage of all existing cdi conditions  we introduce the notion of a
dependency graph  which is a simplification of the concept of perfect map mentioned in
section     
definition     dependency graph   let s denote a set  and r a binary relation over
 s   then a graph g    s  e  is a dependency graph for r if for any s    s   s  it holds
that  s    s     r iff for any a   s  and a   s     a    a    
  e 
hence the dependency graph expresses r as a separation criterion  two subsets have a
direct connection iff they are not in r  a dependency graph for cdi can be constructed
simply by removing any edge  a    a    for which cdi  a      a      this is because cdi s    s   
holds iff cdi  a      a     holds for any a   s  and a   s    we use the term cdi map for
a dependency graph induced by a cdi relation 
the next theorem links the cdi condition  the cdi map  and a gai decomposition
over a  in fact  it establishes that the functional constituents of gai decomposition for
mvf are the same as the functional constituents of gai decomposition for the expected
utility model  as defined by fishburn         we adopt the following conventional notation 
let  a             a n   be a predefined vector called the reference outcome  for any i  a  the
function u  i   stands for the projection of u a  to i where the rest of the attributes are
fixed at their reference levels 
theorem    cdi gai theorem   let g    a  e  be a cdi map for a  and  i            ig  
a set of  overlapping  maximal cliques of g  then
u a   

g
 

fr  ir   

   

r  

where
f    u  i      and
for r              g 

fr   u  ir     

r 
 

   
   j

j  

 
 i    ij  r

u  

j
 

iis  ir    

s  

as a small example  table   exhibits a utility function u x    x    x     each of the three
attributes has a boolean domain  that is d xi             let x i and x i denote the assignments   and    respectively  to xi   we first observe that cdi  x      x     holds because  
   note that x   and x   correspond to z   in definition   

   

fiengel   wellman

x 
 
 
 
 
 
 
 
 

x 
 
 
 
 
 
 
 
 

x 
 
 
 
 
 
 
 
 

u x    x    x   
 
 
 
 
 
 
 
  

u x    x    x    
 
 
 
 
 
 
 
 

u x     x    x   
 
 
 
 
 
 
 
 

u x     x    x    
 
 
 
 
 
 
 
 

u   i   
 
 
 
 
 
 
 
 

u   i   
 
 
 
 
 
 
 
 

table    a utility function over three attributes  decomposable via gai into the sum of two
functions of two attributes each  u     depends only on  x    x    and u     depends only on
 x    x    

   the utility difference on values of x  given x   is    for both x   and x     more explicitly 
u x     x     x      u x     x     x                 and u x     x     x      u x     x     x                
   similarly  the difference on x  given x   is    for both x   and x    
though x  and x  are cdi of each other  we see that both depend on x    for example  the
differences mentioned above for x  are   and   given x   and x    respectively   hence the
difference on x  given fixed x  depends on the value of x    the cdi map for this example
therefore includes an edge  x    x    and an edge  x    x     the maximal cliques of this graph
are i     x    x    and i     x    x    
to obtain the numeric decomposition  we first define  x     x     x     as reference values 
next  from      we get u   i      u  i       u x    x    x     and u   i      u  i      u  i   i      
u x     x    x     u x     x    x      the functions involved are given in table    note that the
fifth and sixth columns are obtained from the appropriate values of the fourth column  for
example  u x     x    x    for the line x       x       x      is the value u x    x    x    in the line
x       x       x       it is easy to verify that indeed u x  y  z    u   i      u   i    
the cdi gai theorem provides an operational form of gai  by establishing a gai
decomposition that can be obtained from a collection of simple cdi conditions  the assumption or detection of cdi conditions can be performed incrementally  until the mvf is
decomposed to a reasonable dimension  the cdi conditions  in turn  based as they are on
invariance of preference differences  are relatively intuitive to detect  this is particularly
true when the differences carry a direct interpretation  as in the case of willingness to pay 
we can check invariance of the monetary amount a buyer is willing to pay to get one outcome
over the other 
the gai decomposition can be depicted graphically using a clique graph of the cdi
map  that is  a graph whose nodes correspond to maximal cliques of the cdi map  for our
purposes it is convenient to use a particular clique graph called a tree decomposition  or
junction tree   we introduce this well known concept  and discuss its implications for gai
representation 
definition     tree decomposition   a tree decomposition for a graph g    n  e  is
a pair  t  i   where t      e  is an acyclic graph  i    ii   i    is a collection of
   

figai auctions

term
map
mmp
mvf
pi
fopi
mpi
gai
cdi
cdi map
gai tree

meaning
multiattribute allocation problem
multiattribute matching problem
measurable value function
preferential independence
first order preferential independence
mutual preferential independence
generalized additive independence
conditional difference independence
graph whose separation criterion is cdi
tree decomposition of a cdi map

reference
 parkes   kalagnanam       
 engel et al        
 dyer   sarin       
 keeney   raiffa       
 keeney   raiffa       
 bacchus   grove       
cf   bacchus   grove       
cf   gonzales   perny       

table    acronym terms  with references to related literature  empty references indicate
terms introduced in this work  the terms are arranged according to topics   i  multiattribute economic problems   ii  independence relations   iii  graphical concepts 
 
subsets of n   each corresponding to a node in t   and  i  ii ii   n    ii  for each edge
 n    n     e  there exists ii such that n    n   ii   and  iii   running intersection  for any
i  j  k    if j is on the path from i to k in t then ii  ik  ij  
any graph can be tree decomposed  typically in more than one way  for example  there
can be a single node in i  the width of a tree decomposition is maxii  ii       and the
treewidth of a graph is the minimum width among all its possible tree decompositions 
it is easy to show that any maximal clique of g is contained within some i  i  therefore  by theorem    a utility function decomposes additively over the subsets i    ii   i 
   where t      e  is a tree decomposition of the cdi map  the notion of gai tree is
adapted from the work of gonzales and perny         who introduce gai graphical models
for the expected utility framework 
definition     gai tree   a gai tree for u   is a tree decomposition of the cdi map
of u   
we therefore refer to the elements i            ig of a gai decomposition as the set i of a
tree decomposition  the next subsection provides a qualitative example of the cdi concept 
its dependency graph  and corresponding gai tree 
the results of this section lay out the foundations for using gai decomposition in
multiattribute trading mechanisms  the results generalize additive mvf theory  and justify
the application of methods developed under the expected utility framework  bacchus  
grove        boutilier et al         gonzales   perny        braziunas   boutilier       
to representation of monetary value under certainty  table   summarizes the acronym
terminology introduced up to this point 
    employing gai in procurement
in this section we demonstrate the process of obtaining a gai decomposition from the
collection of cdi conditions  in addition  this example is used to motivate our approach
   

fiengel   wellman

in comparison to the work of parkes and kalagnanam         consider a procurement
department that wishes to purchase new hard drives  hd  for the desktops of a large
number of employees  the buyer cares about several characteristics  attributes  of the hard
drives and the particular terms of the procurement contract  each attribute is listed with a
designated attribute name  the first letter   and its domain  in some cases  e g   attribute
i  we use arbitrary symbols to represent domain elements  abstracting from the meaningful
interpretation they are assumed to have in context 
rpm  r                   rpm
transfer rate  t                mbs
volume  v                   gb
supplier ranking  s               
quality rating  q   of the hd brand               
delivery time  d                         days
warranty  w          years
insurance  i   for the case the deal is signed but not implemented           
payment timeline  p             days
compatibility  c   with existing hardware and software           
consider  for example  the pair of attributes quality and warranty  the value of warranty is different for different values of quality  it is higher when the quality is known to
be low  and lower when the quality is known to be high  the two attributes therefore depend on each other  furthermore  we might expect that volume complements both quality
and warranty  larger hard drives are more prone to failures  making the quality and warranty more valuable  similarly  there is interdependence between supplier ranking and the
contract insurance we buy  and between supplier ranking and the warranty the supplier provides  other reasonable dependencies are among delivery  insurance  and payment timeline
 e g   later delivery requires better insurance  later payment reduces the need for insurance  
and between volume to the rpm and transfer rate  preferences over compatibility may
not depend on any other attribute  the corresponding cdi map is depicted in figure  a 
as described in section      the utility function decomposes over the elements of a tree
decomposition of the cdi map  such a tree decomposition is depicted in figure  b  in this
example the set of elements of the tree decomposition correspond exactly to the maximal
cliques of the cdi map  in general the tree decomposition might include supersets of the
maximal cliques  but the decomposition can obviously be maintained over the supersets as
well 
non additive traders  if required to deal with an additive price space as in auction
ad  parkes   kalagnanam         face an exposure problem  somewhat analogous to traders
with combinatorial preferences that participate in simultaneous auctions  wellman  osepayshvili  mackie mason    reeves         essentially  the problem can manifest itself
   

figai auctions

 a 

 b 

figure    hd procurement problem   a  cdi map   b  gai tree 
in two ways  one type of exposure occurs from one auction round to another  as in the
following two attribute example  a sellers conditional preference order over an attribute
a may be optimized at an assignment a  given that the other attribute b is at b    but if
the assignment of b changes  a  may become arbitrarily suboptimal  therefore bidding a 
and b  may result in a poor allocation if the seller is outbid on b   and thus must resort to
another assignment  but left winning a    the second exposure occurs in any single round
of the auction  if a trader bids on multiple configurations  for example  suppose configurations  a    b    and  a    b    are both optimal at the current prices  because bids are collected
independently for each attribute  a trader bidding on both may end up with configuration
 a    b     which again  may be arbitrarily suboptimal 
we can prevent exposure on the sellers part by taking simple measures in the auction
design  first  bids are collected anew each round  independently of previous rounds  hence
the first problem is avoided  sellers can likewise avoid the second problem by limiting
themselves to bid on one configuration per round 
on the buyers side  this solution does not work because we require the buyer to bid
a full set of optimal configurations in each round  in order to ensure the auctions convergence  this becomes clearer in section       to prevent buyer exposure  our auction design
structures prices according to the buyers preferences  and the traders bid on clusters of
interdependent attributes  in terms of the example above  if a and b are interdependent
 meaning cdi  a    b   does not hold   we should be able to bid on the cluster ab  if b in
turn depends on c  we need another cluster bc  this is still simpler than a general pricing
structure that solicits bids for the cluster abc  more generally  we find all reasonable cdi
conditions which are correct for the buyer  obtain the corresponding gai tree decomposition  and solicit bids for clusters of attributes corresponding to these gai elements  in
section    we describe our auction design in detail  along with an example in section    in
section      we prove that the auction terminates with an  approximately  optimal solution
to map 

   gai auctions
before introducing our auction design  we reiterate our model and notation  and provide a
definition that facilitates the auction presentation 

   

fiengel   wellman

    notations and definitions
in the procurement setting  a single buyer wishes to procure a single good  in some configuration    from one of the candidate sellers s            sm   the buyer has some private
valuation function ub          and similarly each seller si has a private cost function  ci  
both ub    and ci    are mvfs  for which utility differences express differences in willingnessto pay  as explained in section      assume that the buyers preferences are reflected in a
gai structure i            ig   we call an assignment to gai element ir a sub configuration  we
use r to denote the sub configuration formed by projecting configuration  to element ir  
definition     consistent cover   a collection of sub configurations              g    where
for each r              g   r is an instantiation of ir   is a consistent cover if for any
r  r                g   and any attribute aj  ir  ir    r and r  agree on the assignment
to aj  
in words  a consistent cover is a collection of sub configurations from which we can
compose a valid configuration  a collection              g   which is a consistent cover can
equivalently be considered a configuration  which we denote by              g    for example 
consider a good with three attributes  a  b  c  each attributes domain has two possible
assignments  e g    a    a    is the domain of a   let the gai structure be i     a  b   i   
 b  c   here  sub configurations are assignments of the form a  b    a  b    b  c    and so on  the
set of sub configurations  a  b    b  c    is a consistent cover  corresponding to the configuration
a  b  c    in contrast  the set  a  b    b  c    is inconsistent 
    the gai auction
we define an iterative  descending price multiattribute auction that maintains a gai pricing structure  that is  in any round t  there is a price pt     corresponding to each subconfiguration of each gai element  the price pt    of a configuration  at round t is
defined in terms of the sub configuration prices and a global discount term  
t

p     

g
 

pt  r     

   

r  

importantly  the elements r may refer to overlapping attributes  bidders submit subbids on sub configurations and on the global discount    sub bids are submitted in each
round and they expire in the next round  a sub bid in round t for configuration r is
automatically assigned the price pt  r    the set of full bids of a seller contains all consistent
covers that can be generated from that sellers current set of sub bids  the existence of a
full bid over a configuration  represents the sellers willingness to accept the price pt    for
supplying  
at the start of the auction  the buyer reports  to the auction  not to sellers  a complete
valuation function ub     under gai  this can be expressed
in decomposed form     with
 
local functions  fb             fb g    such that ub     
r fb r  r    the initial prices of subconfigurations are set at some level above the buyers valuations  that is  p   r     fb r  r   for
all r   the discount  is initialized to zero  the auction has the dynamics of a descending
   the discount term could be replaced with a uniform price reduction across all sub configurations 

   

figai auctions

clock auction  at each round t  bids are collected for current prices and then prices are
reduced according to price rules  a seller is considered active in a round if the set of subbids she submitted contains at least one full bid  in round t      only sellers who were
active in round t    are allowed to participate  and the auction terminates when no more
than a single seller is active  we denote the set of sub bids submitted by si by bit   and the
corresponding set of full bids is
bit                    g                    g    bit   
in the example of section      a seller could submit sub bids on a set of sub configurations
such as  a  b    b  c     and that combines to a full bid on a  b  c   
the auction proceeds in two phases  in the first phase  a   at each round t the auction
computes a set of buyer preferred sub configurations mt   those sub configurations that are
part of a configuration which is within   of being profit maximizing for the buyer at the
current prices  formally  we first define the buyer profit from a configuration  as 
bt      ub     pt    
the buyer preferred set of sub configurations is then defined by 
mt    r   bt     max
bt           r              g  
 
 

in section     we show how mt can be computed efficiently  we stress that though mt
is a set of sub configurations  the criterion for selecting them is based on the profit over
full configurations  profits over individual sub configurations are meaningless outside the
context of configurations 
in phase a  the auction adjusts prices after each round  reducing the price of every
sub configuration that has received a bid but is not in the buyers preferred set  let   be
the prespecified price
parameter  specifically  the phase a price change rule is
 mdecrement
t
t
applied to all r  i   bi   m  
 
pt    r    pt  r     
g

 a 

let m t denote the set of configurations that are consistent covers in mt  
m t                    g                    g    mt   
the auction switches to phase b when all active sellers have at least one full bid in the
buyers preferred set 
i  bit     bit  m t     
 switch 
let t be the round at which  switch  becomes true  at this point  the auction selects
the buyer optimal full bid i for each seller si  
i   arg max  bt     
bit

   

   we drop the t superscript in generic statements involving price and profit functions  understanding that
all usage is with respect to the  currently  applicable prices 

   

fiengel   wellman

in phase b  si may bid only on i   sub configuration prices are fixed at pt    during this
phase  the only adjustment is to   which is increased in every round by    by      any
increase of  decreases the current price of each of the configurations i   the auction
terminates when at most one seller  if exactly one  designate it si   is active  the allocation
is determined according to four distinct cases 
   all sellers drop out in phase a  i e   before rule  switch  holds   the auction
terminates with no allocation 
   all active sellers drop out in the same round in phase b  of all the sellers that
dropped in the last round  the auction selects a seller si for which ub  i    pt  i  
is maximal  and designates that seller as the winner si   with a single winner  the
appropriate case   or   is applied 
   the auction terminates in phase b with a final price above the buyers valuation 
pt  i       ub  i    it is still possible that there is exactly one seller  the winning
seller  whose cost is below the buyers valuation  in which case a trade with positive
surplus is possible  therefore  the auction offers the winner si an opportunity to
supply i at price ub  i   
   the auction terminates in phase b with a final price pt  i      ub  i    this is the
ideal situation  where the auction allocates the chosen configuration and seller at this
resulting price 
collect a reported valuation  ub    from the buyer 
set high initial prices  p   r   on each sub configuration r   and set      
while not  switch   and at least one active seller do
collect sub bids from sellers 
compute mt  
apply price change by  a  
end
compute i  
while more than one active seller do
increase  by   
collect bids on  i     from sellers 
end
implement allocation and payment to winning seller 
algorithm    gai based multiattribute auction 
the overall auction is described by high level pseudocode in algorithm    the role
of phase a is to guide the traders to their efficient configurations  mmp solutions   by
reducing prices on configurations that are chosen by at least one seller but not preferred by
the buyer  the price reduction makes such configurations slightly less attractive to the seller
and slightly more attractive to the buyer  phase b is a one dimensional competition over
the profit that remaining seller candidates can provide to the buyer  in the next section
we formalize these notions  and prove that phase a indeed converges and that phase b
   

figai auctions

i 
fb
f 
f 

a  b 
  
  
  

a  b 
  
  
  

i 
a  b 
  
  
  

a  b 
  
  
  

b  c 
  
  
  

b  c 
  
  
   

b  c 
  
  
  

b  c 
  
  
  

table    gai utility functions for the example domain  fb represents the buyers valuation 
and f  and f  costs of sellers s  and s   

selects a seller whose efficient configuration yields  approximately  the highest surplus  in
section     we discuss the computational tasks associated with the auction 

   gai auction example
we illustrate the auction with a simple three attribute scenario  employing the two element
gai structure i     a  b   i     b  c   table   shows the gai utilities for the buyer
and the two sellers s    s    the efficient allocation is  s    a  b  c     the buyers valuation is
             and the cost of s  for this configuration  boldface in the table  is             
hence the surplus is     the maximal surplus of the second best seller  s    is     achieved
by a  b  c    a  b  c    and a  b  c    we set all initial prices over i  to     all initial prices over
i  to     and        meaning that price reduction for sub configurations    g  is   
for the sake of the example we assume that each seller bids in each round on the configuration that maximizes her profit  price minus cost   with respect to prices of the current
round  in the next section we provide formal definitions and prove incentive properties for
this strategy 
table   shows the progress of phase a  initially all configuration have the same price
       so sellers bid on their lowest cost configurationa  b  c  for both  with profit    to s 
and    to s   realized by sub bids on a  b  and b  c    m  contains the sub configurations
a  b  and b  c  of the highest value configuration a  b  c    which yields buyer profit of    
as we show in the next section  lemma     this maximum does not change throughout
phase a  price is therefore decreased on a  b  and b  c    after the price change  the profit
of s  for a  b  c  is     and because she has higher profit      on a  b  c  she bids on a  b  and
b  c    now  round    their prices go down  reducing the profit on a  b  c  to    and therefore
in round   s  prefers a  b  c   profit      note that at this point the configuration a  b  c 
yields profit of    to the buyer  which is within   of the maximal buyers profit       
hence b  c  is marked to be in m   
after the next price change  the configurations a  b  c  and a  b  c  both become optimal
for s   profit      and the sub bids a  b    b  c  and b  c  capture the two  these configurations
stay optimal for another round      with profit     in round   the profit for configuration
a  b  c  is                which is within   of maximizing the buyers profit  therefore
the sub configuration a  b  is added to m    at this point s  has a full bid  in fact two full
bids  a  b  c  and a  b  c    in m     and she no longer changes her bids because the price of
her optimal configurations does not decrease  seller s  however sticks to a  b  c  during the

   

fiengel   wellman

t
 

a  b  
  

 

  

 

  

 

  

 

  
s 
  

 
 
 
 

i 
a  b  
  
s     s 
  
s 
  
s     s 
  
s 
  

  
s 
  

  
  s 

  
s 
  
  
s 
  

a  b  
  
  
s 
  
  
s 
  
  s 
  
  s 
  
  s 
  
  s 
  
  s 

a  b  
  

  

  

  

  

  

  

  

  


b   c 
  
s     s 
  
s 
  
s 
  
s 
  
s 
  
  
s 
  

  
  s 

i 
b   c 
  

  

  

  
  s 
  
  s 
  
  s 
  
  s 
  
  s 
  
  s 

b   c 
  

b   c 
  

  

  
s 
  

  
  s 
  
  s 
  
  s 
  
  s 
  
  s 
  
  s 

  
s 
  
  
  
s 
  
  
s 
  

table    auction progression in phase a  sell bids and designation of mt  using   are
shown below the price of each sub configuration 

first four rounds  switching to a  b  c  in round    it takes four more rounds for s  and mt
to converge  m   b      a  b  c     
after round    the auction sets     a  b  c   which yields more buyer profit than a  b  c   
and     a  b  c    in the second phase  which starts at this point  the sellers compete on the
amount of surplus they transfer to the buyer  whose profit consequently becomes positive 
for the next round            increased by   for each subsequent round  note that
p   a  b  c           and c   a  b  c          therefore the profit of s  at this point is     in
round           meaning p    a  b  c         and that causes s  to drop out because his
profit becomes negative  this ends the auction  and sets the final allocation to  s    a  b  c   
and pt  a  b  c                     that leaves the buyer with a profit of    and s  with a
profit of    

   analysis
we analyze the economic properties of the auction in section      and address practical and
computational issues in section     
    economic properties
we adopt the following assumptions for this discussion 
a  the optimal  seller  configuration  pair provides non negative surplus 
a  ub    is the real utility function of the buyer 
   

figai auctions

when the optimal solution to map     provides negative surplus and sellers do not bid
below their cost  the auction terminates in phase a  no trade occurs  and the auction is
trivially efficient  therefore assumption a  does not cause loss of generality  a  can be
interpreted as follows  given non truthful buyer report  our efficiency results below apply
to the face value of the buyers report rather than to the true utility 
      properties of the buyers profit function
for               g   we define the  partial  profit from a set of of sub configurations 
corresponding to  as
 
b      
 fb r  r    p r    
r

the functions f come from the gai breakdown of ub as in     
lemma    for any  and its complement  
b      b       b    
proof  from     and from the definition of b     we get
 
 
b     
 fb r  r    p r     
 fb r  r    p r      b       b     
r

r

in round   of the example in the previous section  the sub configuration a  b  is placed in
m because the configuration a  b  c  is within   of the maximal buyer profit     actually 
at that point not only a  b  c  is added to m t   but also a  b  c  whose buyer profit      is
not within   of the maximum  if a  b  c  is later selected as i for some si this could lead to
additional efficiency loss  beyond    the following lemma bounds this potential loss 
lemma    let  be a set of configurations  all within   of maximizing profit for a trader 
 buyer or seller  at given prices  let     r       r              g    then any consistent
cover in  is within g  of maximizing profit for  under the same prices 
in particular  if  includes only exactly optimal configurations  any consistent cover will
be exactly optimal as well  the proof  in appendix b    relies on our definition of the gai
decomposition as a tree decomposition  and uses the partial profit function defined above
along with lemma   
the bound above is tight  in that for any gai tree and nontrivial domain we can
construct an example set  as above in which there exists a consistent cover whose utility
is exactly g  below the maximal 
as a result we get the following corollary 
corollary   
  m t   bt     max
bt        g 
 
 

   

fiengel   wellman

proof  apply lemma   for bt   define  as the set of configurations within   of max   bt       
mt   by its definition  serves as  in the lemma  m t is then exactly the set of consistent
covers over   and hence each   m t must be within g  of the optimum max   bt       
we now show that  as noted in the example  the maximal profit of the buyer does not
change during phase a 
lemma    max bt      max b     for any round t of phase a 
proof  assume there exists some    for which bt           bt        then necessarily pt          
pt         for some       the only price change is by rule  a   meaning that some w  g
t
sub configurations of    are not in mt   and    w 
g   in that case  by definition of m  
bt         max bt       


therefore 
bt            t             t        

w 
g 
  t        
  max bt    

g
g

this is true for any    whose profit improves  therefore max bt    does not change
during phase a  and hence equals its value in round   
      straightforward bidding sellers
we now turn our attention to the sellers behavior  we first define the profit function of
seller si by it      pt     ci    
definition     straightforward bidder   a seller is called a straightforward bidder  sb 
if at each round t she bids on bit as follows  if max it         then bit     otherwise
select bti  arg max it     and set
bit    r     bti   r              g   
intuitively  sb sellers follow a myopic best response strategy  optimizing profit with
respect to current prices  this approach was termed straightforward by milgrom       
in the sense that agents bid myopically  rather than strategically anticipating subsequent
price responses 
sb sellers can choose any optimal configuration to bid on  none of the results proved
below is affected by this choice  it is also important to note that sb sellers find their optimal
full configuration bti   rather than optimize each gai element separately  the configuration bti
is translated to its set of sub configurations bit   in order to calculate bti   seller si needs to find
the optimum of her current profit function  in section     we show that this optimization
problem is tractable under the assumption that ui     too  has a compact gai structure 
the following is an immediate corollary of the definition of sb 
corollary    for sb seller si  
t    bit   it      max
it       
 
 

   

figai auctions

in general  sellers preference structure may not coincide with the auctions price structure  nevertheless  corollary   holds by definition of sb  because bit  defined in section     
contains a single configuration which is the submitted bid bti   alternatively  the definition
of sb can be modified  so sellers with gai preferences consistent with the auctions price
structure can bid on multiple optimal configurations  if such exist   if sellers bid on multiple
configurations  this can speed up convergence  in that case bti denotes a set of submitted
configurations  bit denotes the respective collection of sub configurations  and bit is the set
of consistent covers over bit   lemma    with        entails that corollary   still holds 
however  for simplicity of the analysis we retain definition    
      efficiency given sb
lemma   states that through the price system and price change rules  phase a leads the
buyer and each of the sellers to their mutually efficient configuration  formally  we are
interested in maximizing the function i        which represents the surplus ub     ci    
for any prices pt  
i      bt      it    
lemma    for sb seller si   i is g  efficient 
i  i    max i     g  


proof  configuration i is chosen to maximize the buyers profit out of bit at the end of
phase a  because bit  m t      a configuration i  m t is available in bit   hence one
must be chosen to maximize buyers utility  for any   and for any i  bit   we get from
corollary   
it  i    it    
and from corollary    we get for any i  m t  
bt  i    bt     g  
because i  bit  m t we can add up the two inequalities and get i  i    i     g   which
is the desired result 
based on phase bs simple role as a single dimensional bidding competition over the
discount  we next assert that the overall result is efficient under sb  which in turn  section        proves to be an approximately ex post equilibrium strategy in the two phases 
theorem     given a truthful buyer and sb sellers  the surplus of the final allocation is
within  g       of the maximal surplus 
proof sketch  we first establish that the auction must reach phase b  to do that  we
show that in each round of phase a  a price of at least one sub configuration is reduced 
whereas by lemma    max bt    does not change  the latter enforces a lower bound
on how far prices can be reduced within phase a  hence phase a must terminate  because
initial prices are above the buyers valuation  a seller whose surplus  mmp solution  is
positive cannot drop during that phase  so using assumption a  we show that the only way
   

fiengel   wellman

for phase a to terminate is by reaching condition  switch   next  we show that for any
two sellers  the surplus of the first to drop from the auction cannot be significantly higher
than that of the one who stayed longer  this ensures that the winning seller is the efficient
one  or one whose mmp surplus is almost maximal  and from lemma   the auction must
obtain  almost  all of that surplus  the full proof is given in appendix b   
the bound guaranteed by theorem    is a worst case bound  and as shown experimentally in the following sections the auction typically achieves efficiency closer to the optimum 
in the example of section    the difference in the efficiencies of the two sellers is lower than
the potential efficiency loss  as  g              however  for that instance it is still guaranteed that s  wins  either with the efficient allocation  or with a  b  c  which provides a
surplus of     the reason is that these are the only two configurations of s  with surplus
within g       of the solution to mmp b  s     hence by lemma   one of them must be chosen as     both of these configurations provide more than   surplus over s  s most efficient
configuration  and this is sufficient in order to win in phase b 
the bound of theorem    can be improved when the cdi map contains disconnected
components  for example  when a fully additive decomposition  as assumed in previous
literature  does exist  the cdi map contains a disconnected component for each attribute 
to take advantage of this disconnectedness we create a separate tree decomposition for
each disconnected components  the definition of m has to be adapted to apportion  
proportionally across the disconnected trees  formally  we redefine mt as follows 
definition     buyers preferred set   let g be comprised of trees g            gh   let
j denote the projection of a configuration  on the tree gj   and gj the number of gai
elements in gj   similarly  j denotes the projection of  on gj   define
 
t  
  r  gj   
mtj    r   bt  j    max

 
 

g
j
j
b
g
j  j
the buyers preferred set is given by mt  

 h

t
j   mj  

let ej   gj    denote the number of edges in gj   we define a connectivity parameter 
e   maxj       h ej   it turns out that e     can replace g in the approximation results  the
first step is to replace corollary   with this tighter bound on the optimality of configurations
in m t  
corollary    
  m t   bt     max
bt         e      
 
 

proof  we apply lemma   for each gj   but with gj g  instead of    hence any consistent cover
over mtj is within gj g  gj of maxj  j bt  j     from lemma    we get that any consistent
 
cover over mt  meaning any configuration in m t   is within hr   gj g  gj of max   bt       
 
as e       maxj       h gj   this is bounded by g  hr   gj  e          e      
we can now obtain a tighter efficiency result 
theorem     given a truthful buyer and sb sellers  the surplus of the final allocation is
within  e       of the maximal surplus 
   

figai auctions

in the fully additive case this loss of efficiency reduces to     on the other extreme 
if the cdi map is connected then e       g  reducing theorem    to theorem     if we
do not assume any preference structure for the buyer  meaning that the cdi map is fully
connected  then e     and the efficiency loss is again proportional to   
      sellers incentives to use sb
following parkes and kalagnanam         we relate our auction to the vickrey clarkegroves  vcg  mechanism to establish incentive properties for the sellers  in the one sided
multiattribute vcg auction  the buyer reports valuation ub   the sellers report cost functions
ci   and the buyer pays the sell side vcg payment to the winning seller 
definition     sell side vcg payment   let      i   be an optimal solution to map 
let    i  be the best solution to map when i does not participate  the sell side vcg
payment is
vcg ub   ci     ub       max    ub     ci     
it is well known that truthful bidding is a dominant strategy for sellers in the one sided
vcg auction  parkes and kalagnanam        showed that the maximal regret for buyers
from bidding truthfully in this mechanism is ub       ci        ub     ci      that is  the
marginal product of the efficient seller 
as typical for iterative auctions  the vcg outcome is not exactly achieved  but the
deviation is bounded by the minimal price change 
definition      vcg payment   a sell side  vcg payment for map is a payment p
such that
vcg ub   ci      p  vcg ub   ci      
when payment is guaranteed to be  vcg  sellers can affect their payment only within
that range  hence their gain from falsely reporting cost is bounded by   
lemma     when sellers are sb  the gai auction payment is sell side  e       vcg 
in the example of section    the profit of the winner      is less than   below his vcg
profit     the proof  in appendix b    also covers case   in the allocation options of
section      in which we force the payment to equal ub  i   
we are now ready for our final result of this section  showing that the approximately
efficient outcome guaranteed by theorem    is achieved in an  approximate  ex post nash
equilibrium 
theorem     sb is a   e       ex post nash equilibrium for sellers in the gai auction 
that is  sellers cannot gain more than   e       by deviating from sb  given that other
sellers follow sb 
in order to exploit even this bounded potential gain  sellers need to know  for a given
configuration in m t   whether it was explicitly selected as approximately optimal for the
buyer  or it is a combination of sub configurations from approximately optimal configurations  it seems highly unlikely for sellers to have such information  they are more likely to
lose if they do not bid on their myopically optimal configurations 
   

fiengel   wellman

    computation and complexity
the advantage of gai auctions over an additive auction such as ad  parkes   kalagnanam 
      is in economic efficiency  by accommodating expressive bidding  the efficiency results
are with respect to a more accurate utility function  in contrast  the key advantage with respect to an auction that does not employ preference structures  such as auction nld  parkes
  kalagnanam         is in computational efficiency  the property we show in this section
is that all computations are exponential only in the size of the largest gai element  rather
than in  a   in particular  the size of the price space the auction maintains is equal to the
total number of sub configurations  this number is exponential in the treewidth  plus one 
of the original cdi map   to ensure computational tractability  one can define a priori a
constant c  and force the treewidth of the cdi map to be bounded by c by ignoring some of
the interdependencies  this is still much better than using an additive representation that
ignores all interdependencies  the constant represents a tradeoff between economic and
computational efficiency  a larger c supports a more accurate preference representation 
but the gai elements may be larger 
 
 
for the purpose of computational analysis  let i   gr   aj ir d aj    that is the collection of all sub configurations  since m t grows monotonically with t  nave generation
of the best outcomes sequentially might end up enumerating significant portions of the
domain  fortunately  this enumeration can be avoided  and the complexity of this computation  as well as the optimization performed by the seller  grows only with  i   that is  no
computation depends on the size of the exponential domain 
theorem     the computation of mt can be performed in time o g i      moreover  the
total time spent on this task throughout the auction is o g i   i    t    
we obtain a bound on t   the number of rounds of phase a  by comparing the sum of
prices of all sub configurations in rounds   and t  
theorem     the number of rounds required by the auction is bounded by
 
g
t 
p   r    
 
r i

 
i
proof  let i  
r i p  r    the sum of prices of all sub configurations in round i  
i
assume that      for some    i  t   then because ub        there must exist   
for which bi         because we chose initial prices such that for all     b         
this contradicts lemma
t     hence the sum of prices cannot be reduced
     therefore 
 
 
by more than    r i p  r   throughout the auction  also  in each round at least one
price is reduced by g    this leads to the required result 
this bound is rather looseits purpose is to ensure that the number of rounds does
not depend on the size of the non factored domain  it depends on the number of subconfigurations  and on the result of dividing the initial price by the minimum price decrement  usually phase a converges much faster  let the initial negative profit chosen by
the auctioneer be m   max b      in the worst case  phase a needs to run until
   the use of the term treewidth is subject to using an optimal tree decomposition 

   

figai auctions

    b      m  this happens for example when r  i  pt  r     fb r  r     m
g   that
implies that the closer the initial prices reflect the buyers valuation  the faster phase a
converges  one extreme choice is to set p   r     fb r  r     m
g   that would make phase a
redundant  at the cost of full initial revelation of the buyers valuation  section       between this option and the other extreme  which is     i  p       p      the auctioneer
has a range of choices to determine the right tradeoff between convergence time and information revelation  in the example of section    the choice of a lower initial price for the
domain of i  provides some speedup by revealing a harmless amount of information  in our
simulations below  we also set constant initial prices within each gai element 
furthermore  many domains have natural dependencies that are mutual to traders  in
which case the price structure used by the auction may also accommodate sellers preference
structures  if so  sellers can bid on multiple equally profitable configurations in each round 
thus speeding up convergence  as discussed above in section     
we also consider computational complexity of the sb strategy for sellers 
theorem     let b denote the treewidth of the cdi map of ub     and let i denote the
treewidth of the cdi map of ui     the optimization of ui     p   takes time exponential
in b   i in the worst case 
proof  consider the graph g which includes the union of the edges of the two cdi maps 
the treewidth of g is b   i in the worst case  by definition  the price function p   is
decomposed according to ub     hence ui     p   decomposes according to the additive gai
factors of ui    and ub     therefore  for any pair of attributes x and y which have a mutual
factor in ui     p    there is an edge x  y in g  it is well known that the complexity of
combinatorial optimization is exponential only in the treewidth of such graphfor example 
using cost networks  dechter        
of potential concern may be the communication cost associated with the descending
auction style  the sellers need to send their bids over and over again at each round  a
simple change can be made to avoid much of the redundant communication  the auction
can retain sub bids from previous rounds on sub configurations whose price did not change 
because combinations of sub bids from different rounds can yield suboptimal configurations 
each sub bid should be tagged with the number of the latest round in which it was submitted 
and only consistent combinations from the same round are considered to be full bids  with
this implementation sellers need not resubmit their bid until a price of at least one of its
sub configurations has changed 
to summarize  gai auctions are shown to perform well on the criteria mentioned in section      they achieve approximate efficiency given reasonable incentive properties  they are
expressive enough to accommodate preferences with interdependencies among attributes 
they are tractable when the maximal size of gai clusters is reasonably bounded  and they
do not require full revelation of utility  performance on this last criterion is quantified in
the experimental part of the paper 

   experimental design
the main idea behind gai auctions is to improve efficiency over auctions that assume
additivity  when preferences are not additive  however   given a fixed    the theoretical
   

fiengel   wellman

efficiency guarantee of gai auctions depends on e  the connectivity parameter of the gai
tree  this suggests a tradeoff  complex models more accurately represent true utility  but
can increase approximation error due to higher connectivity  an obvious question is whether
more accurate preference modeling is indeed more efficient  and in particular  whether
gai auctions are more efficient than additive auctions  given that the preferences are not
additive  to address the question experimentally  we assume that the buyers preferences
have some gai structure  and compare the performance of gai auctions that model this
structure with the performance of auctions that are restricted to an additive representation 
for the latter  we use an instance of gai auction in which the pricing structure is additive 
and name it the additive approximating auction  ap   this auction is similar in principle
to auction ad  parkes   kalagnanam          to the best of our knowledge  ad is the
only proposed instance of a surplus maximizing multiattribute auction based on additive
preferences  besides those that require full revelation of the buyers utility  in all of the
experiments  sellers employ sb strategies 
in section     we describe how random gai utilities are drawn  and in section     we
extend the scheme to generate gai utility functions that exhibit additional structure  in
section     we show how we obtain an additive approximation of these random functions 
allowing us to simulate auction ad  the results of the simulations are presented in section   
    gai random utility
we performed simulations using randomly generated utility functions representing the
buyers value function and sellers cost functions  our random utility generation procedure follows the utility elicitation procedure suggested by braziunas and boutilier        
and uses a two step process  first we create local utility functions over each gai element 
normalized to the range         next  we draw scaling constants that represent the relative
weight of each local function in the overall utility 
more formally  let ur  ir     u  ir    denote a local utility function over ir   each normalized
to         next  let fr  ir   be defined according to the gai functional form of eq       with
u  ir    replaced with ur  ir    hence
f    u   i     and
for r              g 

fr   ur  ir    

r 
 
   j
j  

 
 i    ij  r

ur   

j
 

iis  ir    

   

s  

braziunas and boutilier        show that for gai structured utility  there exist scaling
constants r         such that
g
 
r fr  ir   
    
u a   
r  

   both auctions employ an additive price space that drives bidders to their efficient configurations  ad is
efficient up to   when the buyer and all the sellers have additive preferences  gai auctions are   efficient
given additive buyers preferences  and make no assumption regarding sellers preference  there are
some more structural differences   i  ad employs more complicated price change rules  in order to allow
sellers to ignore some of the attributes   ii  discounts can be used in any stage of ad  and the auction
selects a provisional winner at each iteration 

   

figai auctions

we refer to the functions ur  ir   as subutility functions  note that values of the form
ur   iir  iir     are drawn only once and used in both ur  ir   and ur  iir     this representation
lets us draw random gai functions  for a given gai tree structure  using the following
steps 
   draw random subutility functions ur  ir    r              g in the range       
   compute fr     r              g using     
   draw random scaling constants r   such that
     

 g

r   r

     and compute u a  by

the scaling constants represent the importance the decision maker accords to corresponding
gai elements in the overall decision  the procedure results in utilities that are normalized
in         finally  for each particular trader we draw mean  and variance   and scale u  
to the range            resulting in the utility functions ub    and ui    for i              m 
    structured subutility
a subutility function in the model above may represent any valuation over the subspace 
in practice we may often find additional structure within each gai element  we introduce
two structures which we consider most typical and generally applicable  and we use them
for the simulations  along with completely random local functions 
as we argue in section      typical purchase and sale decisions exhibit fopi  first
order preferential independence   meaning that most or all single attributes have a natural
ordering of quality  for example  hard drive buyers always prefer more memory  higher
rpm  longer warranty  and so on  to implement fopi  we let the integer values of each
attribute represent its quality  for example  if a belongs to some gai element ir    a  b  
we make sure that ur  ai   b     ur  aj   b    for any ai   aj   ai   aj  d a   and any b   d b  
this must of course hold for any attribute a that is fopi  and any gai element ir that
includes a  we enforce the condition after all the values for that gai element have been
drawn  through a special purpose sorting procedure  applied between steps   and   above 
the fopi condition makes the random utility function more realistic  and in particular
more appropriate to the target application  once attributes exhibit fopi  the dependencies
among different attributes are likely to be framed as complements or substitutes  these
concepts are known primarily in the context of combinatorial preferences  that is  preferences
over combinations of distinct items  in the multiattribute framework  two attributes are
complements if an improvement in the value of both is worth more than the sum of the
same improvement in each separately  two attributes are substitutes if it is the other way
around  these concepts are meaningful only with respect to attributes that are fopi 
otherwise the notion of improvement is conditional on the value of other attributes 
definition     complements and substitutes   let u   be a measurable value function over s     let a  b  s     and z   s      a  b   and assume that a and b are each fopi
of the rest of the attributes  attributes a and b are called complements if for any ai   ai
 ai   ai  d a   and any bj   bj  bj   bj  d b    and any z    d z  
u ai   bj   z      u ai   bj   z       u ai   bj   z      u ai   bj   z       u ai   bj   z      u ai   bj   z     
   

fiengel   wellman

attributes a and b are substitutes if the inequality sign is  always  reversed 
this relationship between attributes is ruled out under an additive utility function  but
admitted under a weaker independence condition  called mutual utility independence  mui 
 keeney   raiffa         which implies that the utility function can be either multiplicative
or additive  if it is multiplicative  the utility function can be represented by n singledimensional functions  n scaling constants  and a single parameter k  the mui factor  that
controls the strength of complementarity  k      or substitutivity  k      between all
pairs of attributes within a gai element  for k     the set of attributes is additive    for
experimental purposes  we assume that each attribute cluster  gai element  exhibits mui 
and that the value of k is the same for all 
in an elicitation procedure  one would normally extract the mui scaling constants from
a user  and then compute k  keeney   raiffa         for our purposes  we first determine
k according to the relationship we wish to impose on the attributes  and then draw mui
scaling constants that are consistent with this value  more explicitly  we draw random
scaling constants  and then iteratively modify all the constants  until a set of constants is
found that is consistent with k  the next step is to compute ur  ir   according to the mui
formula  keeney   raiffa         the ur  ir    for all r  are in the range         hence at
this point we can proceed with steps   and   above  note that in this procedure several
distinct sets of scaling constants are used  the g constants used in step   scale the different
gai elements  whereas the mui constants  per gai element  scale the attributes within
the element 
    additive approximation
another issue for experiment design is how the additive auction  ap  behaves in the face
of non additive buyer preferences  specifically how would it select the approximately buyerpreferred sets of configurations  the approach we took is to come up with an additive
function that approximates the buyers true utility function  and use it throughout the
auction  we are not aware of a better strategy  but do not rule out the possibility that one
exists 
 
a natural approach to generate a linear approximation i fi    for an arbitrary function
ub    is to use linear regression  we define an indicator variable xij for every aij  d ai   
and consider any value of an assignment as a data point  for example  the assignment
a j              amj m  creates the following data point 
m
 

 

cij xij   u a j              amj m    

i   aij d ai  

in which the value of the variable xij is   if j   j i  and   otherwise  the coefficients cij
result from the regression and represent the values to be used as fi  aij   
when the problem includes many attributes  it is not possible to consider all the points
in   under the assumption that a compact gai representation exists  it is sensible to
expect that we could use fewer data points for the regression  we indeed found that a small
   we formalize this notion in appendix d 

   

figai auctions

random sample from the joint utility yields an approximation as effective as one based on all
the points  more precisely  for the largest domain we tested     attributes  each with domain
of size    we found that the efficiency of ap does not improve when increasing the number
of sampled points beyond      we show a chart supporting this claim in appendix e  our
experiments use     points for all instances 
this method of comparison probably overestimates the quality of an additive approximation  in general  we would not have the true utility function explicitly when we generate
the approximation  extraction or elicitation of the utility function is usually the most
serious bottleneck of a multiattribute mechanism  therefore  the major reason to use an
additive approximation is to reduce the burden of elicitation  hence in practice we would
try to obtain the additive function directly  rather than obtain the full utility and then approximate it  the result of such process is somewhat unpredictable  because the elicitation
queries may not be coherent  if willingness to pay for a  depends on the value of b  then
what is the willingness to pay for a  when we do not know b  we therefore consider our
experimental generation method biased in favor of the additive approximation 

   simulation results
we provide detailed results of our simulation study  section     provides and analyses economic efficiency results  section     covers the computational study  and results regarding
revelation of private information are provided in section     
    efficiency and gai structure
we measure efficiency in terms of percentage of the map solution  which is the surplus
achieved by the optimal seller configuration pair  to evaluate the effect of preference modeling on efficiency  we vary structural parameters of the buyers gai preferences  the connectivity factor e  and the size  of the largest gai element  performance depends on
many additional factors  such as the size of attribute domains  number of sellers  amount of
price decrement      and the distribution from which utility functions are drawn  to isolate
the primary structural parameters  we first tested how efficiency varies according to the
choices of these side factors  for several fixed gai structures with fully random subutility
functions  as a result of these tests  we picked the following parameter values for the rest
of the simulations  all valuations are drawn from a uniform distribution  with buyer mean
set at      a mean for each seller is drawn uniformly from             the variance is set
at     for all traders  we use the same domain size of   or   for all attributes  and number
of sellers m      further explanation of the process leading to these choices is provided in
the full report  engel        
in the following experiment we used a roughly fixed gai structure  with g     elements
and e       that is  the gai structure is a tree  not a forest   and         meaning reduction
of      per sub configuration   we vary the number of attributes by varying the size of each
element  figure  a shows the efficiency obtained with respect to   the size of the largest
gai element  as expected  the size of the gai elements has negligible  or no effect on the
efficiency of gai auctions  it has a dramatic effect on the efficiency of ap  when      
the decomposition is in fact additive and hence ap performs optimally  the performance
then deteriorates as  increases 
   

fiengel   wellman

 a 

 b 

figure    efficiency as a function of   a  the size of largest gai element     given e     
 b  the number of gai elements  e       given      
we performed the same test when using utility in which all attributes are fopi  with
the fopi restriction  the additive approximation is much more efficient relative to unconstrained random utility  when fopi applies to a strict subset of the attributes  we would
expect the efficiency of ap to fall somewhere between its efficiency under fopi and the
unrestricted case  somewhat surprisingly  imposing fopi renders the gai auctions slightly
less efficient  nevertheless  the additive approximation achieves lower efficiency compared
to the accurate preference modeling  with differences that pass the statistical significance
test  p          for      further  note that the performance of gai auctions can always
be improved using a smaller value of   and    g    whereas this hardly improves performance
of ap  with       a statistically significant difference  with the same confidence level  is
already detected for      we used      hereafter 
the next experiment  figure  b  measures efficiency as a function of e  for a given fixed
  we assume connected gai trees  so e is the number of gai elements minus one  we
tested structures with e varying from   to     all elements of size   to    and      for
all the structures   on a single element  the gai auction is similar to nld  parkes  
kalagnanam         which is an auction that assigns a price to every point in the joint
domain  here e      hence the efficiency of gai is close to perfect  this structure is on the
other extreme compared to an additive representation  and indeed the performance of ap
is particularly inferior  only     efficient  
with more gai elements  the efficiency of gai auctions declines at a very slow pace  the
theoretical potential error  e        is mostly a result of efficiency loss of i for the winning
seller  based on lemma    such efficiency loss may occur only if each sub configuration
in i belongs to a configuration that yields the lowest profit allowed in the buyer preferred
seta particularly rare case  in practice  the loss is closer to e  which is a much smaller
error 
the performance of ap improves as the number of elements grows while their maximal
and average sizes are fixed  intuitively  changing the structure that way takes it closer to
   we did not find the particular tree structure to be influential on the results  the final structure used in
the reported results has a maximum of three children per node 

   

figai auctions

 a 

 b 

figure     a  efficiency as a function of k     complements    b  efficiency as a function
of k     substitutes  
an additive representation  under fopi  we see a similar phenomenon as before  however 
the difference between gai fopi and ap fopi  even for ten elements  is substantial and
statistically significant 
figures  a and  b present efficiency as a function of the mui factor k  for complements
and substitutes  respectively  we used a fixed gai structure with four elements  the largest
of which has four attributes  and imposed the same k on all elements  as expected  the
stronger the complementarity among the attributes  the lower the efficiency of ap  whereas
this relationship does not affect the efficiency of gai auctions  for the case of substitutes 
in contrast  the additive approximation performs well  as efficiency starts to deteriorate only
for extreme values of k  very roughly  we can say that when relationship among attributes
 within each gai element  is limited to  mild  substitutions  it could be a good idea to
use an additive approximation  unfortunately  our interpretation of the parameter k lacks
quantitative scaling  there is no clear intuition of what the actual numbers mean  beyond
the qualitative classification mentioned above 
to summarize this part  the experimental results show that gai auctions yield significant efficiency improvement in comparison to an additive auction  on almost all classes of
evaluations  though the efficiency of an additive auction may come across as relatively
high and perhaps sufficient  such an observation is misleading in several respects   i  in
large procurement events       efficiency differences translate to large amounts of money 
 ii  the wider efficiency loss of an additive auction  with no theoretical bound  may have
an impact on incentives  sb may no longer be an approximate ex post nash equilibrium 
 iii  efficiency is expected to deteriorate for larger problems with larger gai elements  and
in particular if fopi does not hold for many of the attributes   iv  as argued in section      we expect practical additive auctions to perform worse than ap with our tailored
approximation 
    computational analysis
the computational tasks required by auction simulations were performed using the algorithms described in appendix c  these algorithms have been suggested and applied for
   

fiengel   wellman

 a 

 b 

figure    number of rounds as a function of   a  the size of largest gai element     given
e       b  the number of gai elements  e       given      and      
combinatorial optimization problems before  dechter        nilsson         therefore the
computational runtime to process a round is not of particular interest to this work  instead 
we focus on the number of rounds the auction requires  we tested the number of rounds
required by auctions gai and ap  under fully random and fopi preferences  varying three
of the parameters    size of largest gai element   e  connectivity   and  
the complexity in terms of number of rounds is shown in figure  a  with respect to  
and figure  b  with respect to the number of elements   we observe that under fopi the
gai auction takes much longer to converge  compared to the case of random preferences 
the reason is that under fopi  the sellers and the buyers preferences can in general be seen
as opposites  at the same price  and for a specific attribute  the buyer prefers higher quality 
whereas the sellers prefer lower quality  given fixed values for the rest of the attributes  
and everyone agrees on the relative quality of attribute values  the apparent difference in
the growth rate  the fopi case seems to have a steeper curve  is somewhat misleading  for
      not shown  gai under random preferences is already caught up with the same curve
we see for the fopi case  the number of rounds  as expected  grows exponentially with
the size of the largest element  however  as observed from figure  b  this number does not
grow quickly as a function of the number of elements  supporting the theoretical arguments
of section      note also that the variance chosen for traders preferences is fixed  thus for
a small number of elements the variance over them is wider  resulting in the large number
of rounds required by gai fopi in that case 
for ap  the only implication of increasing  is the respective increase in the number
of attributes  as a result  the complexity of ap  not shown  grows very slowly with the
increase in   for the fopi case  with       ap takes an average of     rounds for     
   attributes  and     rounds for          attributes   the numbers are slightly higher for
random preferences      to      
for high dimensional multiattribute auctions  we expect that participation would typically be automated through software bidding agents  wellman  greenwald    stone        
under these circumstances  an auction taking up to thousands of rounds should not cause
a concern  however  if for some reason rounds are expensive  we might reconsider adopt 

   

figai auctions

figure    efficiency as a function of the number of rounds 
ing additive auctions  and sacrifice efficiency in order to decrease the number of rounds 
alternatively  we could keep using gai auctions and increase    and with it    the final
experiment compares these two alternatives  we vary the level of    in order to view efficiency as a function of the number of rounds  figure     the gai structure used for this
experiment has e     and      
as evident from the chart  in most cases gai achieves better efficiency even for a fixed
number of rounds  the only exception is when the budget of rounds is very small  under
      and fopi holds  in such case we need to pay with more rounds in order to get the
higher efficiency 
the total computation time  carried out by a gai auction with    elements       
d            and the rest of the parameters fixed as above  is around    seconds on
average  using an intel dual core       ghz  cpu  with      mb ram 
    information revelation
a key difference between the mechanism proposed here and most previous literature is in
the extent to which the buyer is required to reveal preference information  in gai auctions 
the buyer does not need to reveal all of its private preference information up front  of
course  the price changes do reveal some of the buyers information  another experimental
question is therefore whether this mechanism significantly reduces the overall amount of
information revealed by the buyer 
pk study information revelation by both the buyer and the seller  under an additivity
assumption  when the utility function is additive the amount of information revealed can
be measured in terms of constraints on the linear weights  sellers can infer bounds on the
buyers set of weights  and the amount of information hidden from them is represented by
the fraction of the simplex that satisfies those constraints  this simplex analysis is not
possible for gai utilities  we suggest an alternative geared towards the kind of information
revealed by the gai auctions 
in gai auctions  the buyers private information is partially revealed through the selection of the buyers preferred set mt   the auction does not need to announce this directly 
in general the sellers can infer that a sub configuration is in mt only if it received a bid
 usually sellers will observe this only for their own bids   yet its price does not change in the

   

fiengel   wellman

next round  we therefore measure exactly thatfor how many sub configurations  r there
was at least one round t such that  r  mt  bit for some i  more specifically  we define such
a sub configuration as revealed  and within each gai element we measure the fraction of
sub configurations that are revealed by the end of the auction  this measurement overestimates the information that is actually revealed  as sellers can infer some bounds on relative
preferences but not the precise values of the functions fb     moreover  it assumes that each
seller observes all bids  meaning that sellers share bid information with each other   an
unrealistic event in practice 
based on this criterion  gai auctions reveal on average        of the buyers preferences when preferences exhibit fopi  and        when the subutilities are completely
random  it does not seem to systematically depend on any other parameter we tested  this
validates our claim as to the advantage that gai auctions promise over second score types
of auctions 

   conclusions
we propose a novel exploitation of preference structure in multiattribute auctions  rather
than assuming full additivity  or no structure at all  we model preferences using the generalized additive independence  gai  decomposition  we show how a gai representation
can be constructed from relatively simple statements of willingness to pay  and develop an
iterative auction mechanism directly relying on the decomposition  our auction mechanism
generalizes the preference modeling employed by parkes and kalagnanam         while in
essence retaining their information revelation properties  it allows for a range of tradeoffs
between the accuracy of preference representation and computational complexity of the
auction  as well as the tradeoff between buyer information revelation and the number of
rounds required for convergence 
we performed a simulation study of our proposed multiattribute auctions  compared
to a mechanism that assumes additive preferences  the study validated the usefulness
of gai auctions when preferences are non additive but gai  and allowed us to quantify
the advantages for specific classes of preferences  in general  we found that our design
yields significantly higher economic efficiency in comparison to additive auctions  when
the gai subutilities exhibit internal structures  such as fopi  the efficiency loss of additive
approximation is less severe  but in most cases the benefit of an accurate gai model is still
significant  using an additive approximation may be a reasonable approach when the gai
structure is fairly similar to an additive one  or when the auction must terminate within a
small number of rounds 
the tradeoff between expressive and compactness of preference representation is ubiquitous in applications involving preferences  on one hand  we would like to ask users for as
little as possible information  on the other  users preference statements may not be accurate or even meaningful if they cannot express important dependencies  in such problems
it could be useful to experimentally compare the accuracy of gai and additive representations  the experimental methodologies used in this study  in particular the generation of
random structured utility functions  and finding an additive approximation to gai functions  may therefore prove applicable to a broader class of preference research problems in
which this tradeoff exists 
   

figai auctions

acknowledgments
this work was supported in part by nsf grants iis         and iis          and the
stiet program under nsf igert grant          yagil engel was supported in part by
the aly kaufman fellowship at the technion  we thank anonymous reviewers for many
useful comments and suggestions 

appendix a  proofs of section    
lemma   
let u a  be an mvf representing preference differences  and let x  y  z
define a partition of a  then cdi x  y   z  iff
u a    u x     y  z    u x  y     z   u x     y     z  
for arbitrary instantiations x     y    
proof  let x     y   be arbitrary instantiations 
u x  y  z    u x  y  z u x     y  z  u x     y  z    u x  y     z u x     y     z  u x     y  z 
the second equality holds iff for any x     y     cdi x  y   z  
theorem    cdi gai theorem  
let g    a  e  be a cdi map for a  and
 i            ig   a set of overlapping maximal cliques  then
u a   

g
 

fr  ir   

 a   

r  

where
f    u  i      and
for r              g 

fr   u  ir     

 a   

r 
 

 

   j

j  

u  

 i    ij  r

j
 

iis  ir    

s  

proof  we actually prove a somewhat stronger result 
claim  let g be a cdi map for utility function u    let q    c            cw   denote the set
of maximal cliques of g  then 
u a   

w
 
   k  
k  

 
 i    ik w

u  

k
 

cis    

 a   

s  

let g     a  e     be the complete graph over the nodes of g  by definition of cdi
map  each edge  x  y   e     e implies cdi x  y   we use induction on a series of edge
removals  starting from the graph g    at each step i we remove an edge in e     e to get
 
graph gi   after the last step i    e       e  and g e   e    g  we prove that the claim
   

fiengel   wellman

holds for each graph gi   since a is the only clique in g    in step    q     a  and the
claim trivially hold  following the process for step   provides intuition as for how the final
decomposition is obtained  we pick a pair of nodes  x  y  such that cdi x  y   we use the
notation s a   s    a  for any s  a and a  a  by lemma    
u a    u x  y  ax y  

 a   

  u x    y  ax y     u x  y     ax y    u x    y     ax y  
  u  ax      u  ay     u  ax  ay    
the set of maximal cliques of g  is q     ax   ay    equation  a    shows that  a   
holds for q   
for proving the induction step  we assume  a    holds at step i  and show they carry
over to step i      let  x  y  denote the edge removed in step i      let c            cd  wlog 
indicate all the sets in qi that include both x and y  similar to  a     we observe that
u  c       u  c x      u  c y     u  c x  c y    

 a   

similarly for any k              wi     and     i         ik  wi  
u  

k
 

s  

cis  c       u  

k
 

s  

cis  c x      u  

k
 

cis  c y     u  

s  

k
 

cis  c x  c y      a   

s  

in  a     assumed to hold before this step  each term that includes c  can be substituted
according to  a    or  a     doing so will result in  a    holding for the set  qi    c     
 c x   c y   
we repeat the same operation for c            cd   and define the resulting collection
qi      qi    c            cd      c x   c y           cdx   cdy   
all elements in qi   are subsets of elements in qi   which are all maximal cliques of gi   we
now verify the induction property 
 any element in qi   is a clique in gi     because the only difference between gi and
gi   is the removed edge  x  y   and no set in qi   includes both x and y 
 any such clique in c  qi   is maximal  because it is a subset of a maximal clique
of c  gi   and either   i  y  c and c   c    x  or  ii  x  c and c   c    y   or
 iii c   c  x and y are no longer connected so c remains maximal in all cases 
 if m is a maximal clique in gi     then m  c for some c  qi   again either m   c 
or m   c    x   or m   c    y   and in all three cases m is an element in qi    
this proves the induction step 
as a result  in the last step the decomposition  a    holds for the set q   q e    e   
which is the set of maximal cliques of g  and hence the claim is proved 
now define f            fg according to  a     by the claim  we get that  a    holds 

   

figai auctions

appendix b  proofs of section    
b   proving lemma  
lemma    let  be a set of configurations  all are within   of maximizing profit for a
trader  at the a given price vector  let     r       r              g    then any
consistent cover in  is within g  of maximizing profit for  at these prices 
we show that given a suboptimal consistent cover  over   we can find a suboptimal
member in   contradicting the premise of the lemma  we do that by traversing the gai
tree in a depth first manner  at each step we flip the sub configurations corresponding to the
elements of the subtree to a set of sub configurations that have the same source configuration
in  as the parent of that subtree  thus trimming that subtree   this  as we show  results
in another consistent cover that is also sub optimal  eventually we obtain a configuration
in  which is still suboptimal 
for that purpose we introduce the following notions 
 the operator  turns a set of sub configurations  which is a consistent cover  into a
configuration 
             g                  g   
 let  be a consistent cover over   the  source of an element r is a configuration
   from which it originated  meaning  r   r   
 the operation trim replaces some of the sub configurations of a given configuration 
with a corresponding set of sub configurations of a different configuration   according
to the following rules  let i denote the indices of the gai elements  corresponding to
a subtree in the gai tree  whose root is the gai element ii   let  denote a consistent
cover over   the operation  trim over  and i is defined if all the elements in 
corresponding to i have the same  source  formally  there exists     such that
r   if r  i then i   i   now  let  be the parent of ii   or an arbitrary element
outside i if i is disconnected from the rest of the graph  let    be the source of
   then
 trim i        r   r 
  i     r  r  i  
that is we replace each of r for r  i by the corresponding sub configuration in  
so that in the resulting configuration all the elements corresponding to i have the
same  source as the parent of ii  
lemma b          trim     is a consistent cover 
proof  we need to show that any pair of sub configurations in the set  r   r 
  i     r  r 
i   are consistent  that is they assign the same value to any attribute that appear in both
corresponding gai elements 
the sub configurations  r  r  i   are internally consistent because they have a mutual
 source   the sub configurations  r   r 
  i   are internally consistent because they
i
are all sub configurations of   let r    and r  
  i denote indices of gai elements 
such that ir   ir       now  ir  is in a subtree whose root is ii   whereas ir  is outside
the subtree  so the path between them must go through ii and its parent   due to the
   

fiengel   wellman

running intersection property of the gai tree  ir   ir   ii    the corresponding subconfigurations i and  must be consistent because  is also the  source of   hence r 
and r  must also be consistent 
lemma b    let  and  be defined as in lemma    and let  denote a consistent cover
in   then if       trim i      for some i   then                 
proof  let    denote the single  source of  r   r  i    let    i and   
            g      if                   then  using lemma   
                                         
and because       

                 

define the following cover 
    r    r      r   r   
 is a consistent coveragain  as in lemma b    the only possible intersection between
an element from    and an element from  is between i  the root of    i   and its parent
  the corresponding sub configurations i  and  must be consistent for the following
argument  i is consistent with  because they appear together in   i  is consistent with
 because they have the same  source by definition of  trim  hence i and i  assign the
same values to the attributes in ii  i   now because i is consistent with    so must be
i    we get
                                               
the last equation follows from the fact that all sub configurations of  are from   this
contradicts   optimality of    
proof of lemma    let    be a consistent cover over  contradicting the lemma  meaning
        max      g   we first reorder the gai elements as            g  according to
the order corresponding to backtracking in depth first search  that is  starting from the
leftmost leaf  next move to its siblings  next their parent  and in general once all children
of a node ii are visited  the next element to be visited is ii   we perform a series of g   
 trim operations  resulting in a series               g   to do that  we must show that at each
step i the operation  trim i    i   is valid  that is the sub configurations corresponding to
i have a mutual  source  if ii is a leaf  then  i       hence the elements of i have a
single source  otherwise   i is a result of trimming the subtrees of all children of ii   hence
by definition of  trim they all have the same  source as ii  
now  consider the resulting  g   we assumed          max      g   hence by
applications of lemma b   in each of the g     trim operations  we get    g    
max         the last element  g is such that all its elements have a mutual  source 
meaning  g    therefore  we got a contradiction to the   optimality of  

   

figai auctions

b   proving theorem   
in order to prove theorem    we need several additional claims 
lemma b    the price of at least one sub configuration must be reduced in every round of
phase a 
proof  in each round t   t of phase a there exists an active seller i for whom bit  m t    
however to be active in round t  bit      let   bit   if r r  mt   then   m t by
definition of m t   therefore there must be r   mt  
lemma b    the auction must reach phase b 
proof  by lemma b   some prices must go down in every round of phase a  lemma  
ensures a lower bound on how much prices can be reduced during phase a  therefore the
auction either terminates in phase a or must reach condition  switch  
we set the initial prices high such that max b          and then max bt       
during phase a by lemma    by assumption a  the efficient allocation      i   provides
positive welfare  that is i        bt        it           si is sb therefore she will leave the
auction only when it           this can happen only when bt           therefore si does
not drop in phase a  because phase a continues as long as at least one seller is active  the
auction cannot terminate before reaching condition  switch  
finally  the following lemma states that for any two sellers  the potential surplus of the
first one to drop from the auction cannot be significantly higher than the potential surplus
of the one that stayed longer 
lemma b    if sellers si and sj are sb  and si is active at least as long as sj is active in
phase b  then
i  i    max j      g       


proof  from sb and the definition of phase b  sj drops when    jt  j    if si did not
drop before that point then it  i          jt  j       because i  m t   we get from
corollary   that 
bt  i     it  i    max bt      jt  j     g       


from corollary    jt  j     max jt     therefore
i  i     bt  i     it  i    max bt      max jt      g        max j      g       






theorem     given a truthful buyer and sb sellers  the surplus of the final allocation
is within  g       of the maximal surplus 
proof  from lemma b   the auction terminates with an allocation  si   i    from lemma
   the theorem is immediate in case the winning seller si is the efficient seller  otherwise
the efficient seller is sj who dropped before or with si   the result is now immediate from
lemma b   
   

fiengel   wellman

b   proving theorem   
we first adapt lemma    lemma    and lemma b   to use e     instead of g 
lemma b    max bt    does not change in any round t of phase a 
proof  let g be comprised of trees g            gh   let j  denote the projection of a configuration
   on the tree gj   and let gj denote the number of gai elements in gj  
assume there exists some j  for which bt    j      bt  j     then necessarily pt    j     
t
p  j       for that to happen it must be the case that some w  gj sub configurations of
t
j  are not in mtj   and    w 
g   in that case  by definition of mj  
 
bt  j      max bt  j    gj  
j j
g
therefore 
bt    j       t  j          t  j     

w 
gj  
  t  j     
  max bt  j   
j j
g
g

this is true for any j  whose profit improves  therefore maxj j bt  j   does not change
during phase a  now
max bt      max




h
 

bt  j    

j  

h
 
j  

max bt  j   

j j

the last equality holds because the optimal values for disconnected components of the gai
tree are independent of each other  as a result  max bt    as well does not change during
phase a 
lemma b    for sb seller si   i is  e       efficient 
i  i    max i      e       


the proof is identical to the proof of lemma    replacing g by e   and using corollary   
instead of corollary   
lemma b    if sellers si and sj are sb  and si is active at least as long as sj is active in
phase b  then
i  i    max j      e       


the proof here too is identical to the proof of lemma b    using corollary    instead
of corollary   
theorem     given a truthful buyer and sb sellers  the surplus of the final allocation
is within  e       of the maximal surplus 
proof  the proof is identical to the proof of theorem     replacing lemmas   and b   with
lemmas b   and b    respectively 

   

figai auctions

b   lemma    and theorem   
lemma     when sellers are sb  the gai auction payment is sell side  e       vcg 
proof  trivially  we consider only the winning seller si   in the case that the final price is
above buyers valuation the payment ub  i   is exactly the vcg payment  we can therefore
assume that the final price is not above the buyers valuation  and the payment to the
winning seller is pt  i      let sj be the second best seller  sj drops before si   when the
discount is      hence 
       jt  j     max jt    
 b   


from corollary   
ub  i    pt  i    max bt      e       


therefore  using  b    for the second inequality 
pt  i      ub  i    max b       e          


ub  i    max bt       e        max jt     ub  i    max j       e         b   






bow because sj s survived in the auction until the discount was     
  jt  j       
meaning 
pt  j      cj  j      

 b   

from corollary  
ub  i    pt  i    ub  j    pt  j      e       
therefore  using  b    for the second inequality 
pt  i      ub  i    ub  j     pt  j     e         
ub  i     ub  j    cj  j         e        ub  i    max j      e         b   


equations  b    and  b    place the payment pt  i     within  e       from si s vcg
payment 
theorem     sb is a   e       ex post nash equilibrium for sellers in the gai auction 
that is  sellers cannot gain more than   e     by deviating from sb  given that other sellers
follow sb 
let s  play some arbitrary strategy   against sb sellers s            sn   if s  does not win
she would clearly have done no worse using sb  therefore we assume s  wins   in final price
p and that she gains at least   e       from the trade  let i           n  the calculation of
 b    assumed nothing on the winning traders strategy  therefore it applies here as well 
p   pt         ub       max i       e       


 b   

next  define the following cost function  c         p    e       and c                     
assume s  plays sb for c   
   

fiengel   wellman

claim  by playing sb assuming cost c    s  is still the winner  and her profit  wrt to c     
is within   e       of her profit playing    
proof  clearly  s  bids only on     let p   denote prices in the end of phase a in the new
 be the final discount 
instance of the auction  let b    denote the buyers profit  and let 
            p     c        
now assume for a moment that prices reach s  s limit  that is 
p       p    e        
now  for the inequality  use pt        ub       bt      and also  b     
   pt       p     e         ub        t        ub       max i       e            e      

b


  max i    


bt     

   e       
 b   

let i denote the configuration chosen for some seller si at the end of phase a in the
new instance  since i  m t in that instance  we get that bt  i    bt        e       
therefore we can modify  b    to state 
   i  i     t  i     pt  i    ci  i   

b

 b   

meaning that if prices reached the limit of s    all the other sellers dropped off  that shows
that s  wins in the new instance as well  furthermore  the lowest possible price paid to s 
   p       p    e         hence that price is at least p    e       
is determined by 
proof of theorem     from lemma    
p  v cg c    c            cn      e       
truthful reporting is a dominant strategy for sellers in one sided vcg auctions  therefore
v cg c    c            cn    v cg c    c            cn   
with the result of the claim we get
p  p     e        v cg c    c            cn       e       
therefore by playing     s  could not have gained more than   e       above her worstcase payoff for playing sb with respect to her true cost c   

appendix c  proofs of section    
theorem     the computation of mt can be performed in time o g i      moreover  the
total time spent on this task throughout the auction is o g i   i    t    
proof  for simplicity of notations we assume that there is a single  connected  gai tree 
the extension to multiple connected components is immediate because each mjt is computed
separately 
the functions ub and pt have the same gai form  hence the function bt   ub  pt
has the same gai form  as have been noted before  boutilier et al          functions in
   

figai auctions

gai form can be optimized using variable elimination schemes in cost networks  dechter 
       in fact  our gai structure is already a tree  in which case the optimization is linear
in the size of the domain which is  i   however  mt includes sub configurations of all
configurations within   of max b     to find it  we must find the maximum of bt   add its
sub configurations to mt   then find the best configuration which is not already in m t  that
is  maximal in    m t   and so on  this can be done by the following procedure  adapted
from the work of nilsson        
   for i           g 
 define i                     i   mt and i 
  mt   
 find  i   arg maxi bt    
   the best configuration in    m t is     arg maxi       g bt   i    which means  a configuration which has at least one sub configuration not in mt   
if bt       max bt        then each sub configuration of   that is not already in mt is
added to mt   otherwise  mt is ready 
the procedure itself performs g optimizations  each takes linear in the size of the domain  this amounts to o g i    each time this procedure is done  either at least one
sub configuration is added to mt   or mt is ready  therefore the number of times the
procedure is done per round is bounded by the number of sub configurations  i  plus one 
giving the o g i     bound  moreover  mt is monotonically increasing in the auction  in
each round  we start from the mt computed in the previous round  throughout the auction 
each application of the procedure either yields a new sub configuration in mt   or terminates
the round  so the total number of times the procedure is performed throughout the auction
is bounded by  i    t   leading to the overall bound of o g i   i    t    

appendix d  relating the mui condition to complements and
substitutes
the definitions for the utility independence  ui  condition and mui can be found elsewhere
 keeney   raiffa        
definition     a mui factor of a set a of mui attributes is a solution to
  k  

n
 
     kki   
i  

keeney and raiffa         kr  show that there is at most one mui factor in addition
to zero  appendix  b of their text   this ensures the soundness of the following adaptation
to their mui representation theorem  
theorem d    let a be a set of mui attributes 
   if the only mui factor of a is zero  then u a   

 n

i   ki ui  ai   

   the theorem is adapted from the book of keeney and raiffa         theorem      page     

   

fiengel   wellman

   otherwise  let k      be a mui factor  then
 n
 kki ui  ai          
u a    i  
 
k

 d   

kr go on to point out that if k     we can define u   a        ku a   a strategically
equivalent function to u    and turn  d    into a multiplicative representation  this can
be done in a similar fashion for k      further  they show that if mui is known to exist 
one elicitation query is sufficient in order to determine whether the form of the function is
additive or multiplicative 
the following relationship allow us to interpret the mui factor with respect to complements and substitutes  the result generalizes and formalizes an intuition given by kr for
the case of mui between two attributes 
theorem d    let a be a set of mui attributes  such that there is a mui factor k      
then k     iff all pairs of attributes in a are complements  and k     iff all pairs of
attributes in a are substitutes 
proof  the proof is based on the work of keeney and raiffa         theorem      as explained below 
assume that u   is normalized such that u a         for each attribute a  a  let
a    a   and we know u i a  a   utility independence of such form leads to the following
functional form  there exist functions f and g such that 
u a    f  a    g a u a  a   
we instantiate this form with the assignment a  and get
u a    a    f  a    g a u a    a      f  a 
hence f  a    u a    a   and g a   
u a         we get

u a u a   a 
u a a   

g a   

 this development is done by kr   with

u a   u a    a 
 
u a  a     u a    a   

 d   

in proof of theorem      kr define the mui factor as follows 
k 

g a    
u a    a 

the denominator is always positive  furthermore  as shown by  d     when g a      
u a   u a    a    u a  a     u a    a     in particular it means that for any b  a  a and b
are complements  because the inequality holds when holding fixed all attributes in a but b 
similarly  when g a       a and any b  a are substitutes  putting these pieces together 
we get the desired result 

   

figai auctions

figure    efficiency of ap as a function of the number of sampling points used to devise
the additive approximation 

appendix e  optimal regression using a small sample
we show an experiment supporting the claim in section      a larger set of sampling
points than the one we used for the linear regression of the utility function cannot improve
the efficiency of ap  figure   shows the efficiency of ap as a function of the number of
sampling points used  for the largest domain we used in the experiments     attributes with
d      e     and        similar results were shown for other distributions and for fopi
preferences  this chart is a result of     experiments for each of    points on the x axis 
the largest number of tests we used 

references
bacchus  f     grove  a          graphical models for preference and utility  in   th
conference on uncertainty in artificial intelligence  pp       montreal 
beil  d  r     wein  l  m          an inverse optimization based auction for multiattribute
rfqs  management science               
bichler  m          the future of e markets  multi dimensional market mechanisms  cambridge university press 
boutilier  c   bacchus  f     brafman  r  i          ucp networks  a directed graphical
representation of conditional utilities  in   th conference on uncertainty in artificial
intelligence  pp        seattle 
branco  f          the design of multidimensional auctions  rand journal of economics 
             
braziunas  d     boutilier  c          local utility elicitation in gai models  in   st
conference on uncertainty in artificial intelligence  pp        edinburgh 
che  y  k          design competition through multidimensional auctions  rand journal
of economics                 
david  e   azoulay schwartz  r     kraus  s          an english auction protocol for multiattribute items  in agent mediated electronic commerce iv  designing mechanisms
and systems  vol       of lecture notes in artificial intelligence  pp        springer 
   

fiengel   wellman

debreu  g          topological methods in cardinal utility theory  in arrow  k  j   karlin 
s     suppes  p   eds    mathematical methods in the social sciences  pp       
stanford university press 
dechter  r          mini buckets  a general scheme for generating approximations in automated reasoning  in   th international joint conference on artificial intelligence 
pp            nagoya 
dyer  j  s     sarin  r  k          measurable multiattribute value functions  operations
research             
engel  y          structured preference representation and multiattribute auctions  ph d 
thesis  university of michigan  ann arbor  mi 
engel  y     wellman  m  p          generalized value decomposition and structured
multiattribute auctions  in  th acm conference on electronic commerce  pp     
     san diego 
engel  y   wellman  m  p     lochner  k  m          bid expressiveness and clearing
algorithms in multiattribute double auctions  in  th acm conference on electronic
commerce  pp          ann arbor 
fishburn  p  c          interdependence and additivity in multivariate  unidimensional
expected utility theory  international economic review            
gonzales  c     perny  p          gai networks for utility elicitation  in  th international
conference on principles of knowledge representation and reasoning  pp         
whistler  bc 
hyafil  n     boutilier  c          regret based incremental partial revelation mechanisms 
in   st national conference on artificial intelligence  pp          boston  ma 
keeney  r  l     raiffa  h          decisions with multiple objectives  preferences and
value tradeoffs  wiley 
koppius  o          information architecture and electronic market performance  ph d 
thesis  erasmus university  rotterdam  the netherlands 
krantz  d  h   luce  r  d   suppes  p     tversky  a          foundations of measurement 
vol     academic press  new york 
milgrom  p          putting auction theory to work  the simultaneous ascending auction 
journal of political economy              
nilsson  d          an efficient algorithm for finding the m most probable configurations
in probabilistic expert systems  statistics and computing                
parkes  d  c     kalagnanam  j          models for iterative multiattribute procurement
auctions  management science             
pearl  j          probabilistic reasoning in intelligent systems  networks of plausible inference  morgan kaufmann 
robu  v   somefun  d  j  a     la poutre  j  a          modeling complex multi issue negotiations using utility graphs  in  th international joint conference on autonomous
agents and multi agent systems  pp          utrecht 
   

figai auctions

sandholm  t          expressive commerce and its application to sourcing  how we conducted     billion of generalized combinatorial auctions  ai magazine               
sandholm  t     suri  s          side constraints and non price attributes in markets 
games and economic behavior             
von neumann  j     morgenstern  o          theory of games and economic behavior 
princeton university press 
von winterfeldt  d     edwards  w          decision analysis and behavioral research 
cambridge university press 
vulkan  n     jennings  n  r          efficient mechanisms for the supply of services in
multi agent environments  decision support systems          
wellman  m  p   greenwald  a     stone  p          autonomous bidding agents  strategies
and lessons from the trading agent competition  mit press 
wellman  m  p   osepayshvili  a   mackie mason  j  k     reeves  d  m          bidding strategies for simultaneous ascending auctions  b  e  journal of theoretical
economics  topics         

   

fi