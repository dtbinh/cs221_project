journal of artificial intelligence research                

submitted        published      

a logical study of partial entailment
yi zhou
yan zhang

yzhou scm uws edu au
yan scm uws edu au

intelligent systems laboratory
school of computing and mathematics
university of western sydney  nsw  australia

abstract
we introduce a novel logical notionpartial entailmentto propositional logic  in contrast with classical entailment  that a formula p partially entails another formula q with
respect to a background formula set  intuitively means that under the circumstance of  
if p is true then some part of q will also be true  we distinguish three different kinds
of partial entailments and formalize them by using an extended notion of prime implicant 
we study their semantic properties  which show that  surprisingly  partial entailments fail
for many simple inference rules  then  we study the related computational properties 
which indicate that partial entailments are relatively difficult to be computed  finally  we
consider a potential application of partial entailments in reasoning about rational agents 

   introduction
in standard propositional logic  classical entailment does not distinguish among the formulas
that do not entail another formula  for example  let x  y and z be three atoms  we have
that neither x nor z classically entails x  y  however  x seems intuitively closer to x  y
than z  the reason is that  x  y can be considered as the union of two parts x and y 
and x is exactly one of them  on the other hand  z is completely irrelevant to x  y 
this example motivates us to consider the notion of partial entailment  in comparison with classical entailment  partial entailment intends to capture the partial satisfaction
relationship between two formulas with respect to a background theory  in standard propositional logic  that a formula p entails another formula q with respect to a formula set 
intuitively means that under the circumstance of   if p is true then q will also be true  in
contrast  that a formula p partially entails another formula q with respect to a formula set
 intuitively means that  under the circumstance of   if p is true then some part of q
will also be true  partial entailment is widely used in everyday life  for example  suppose
that a student laura wants to get score hd on the subjects mathematics and physics in
the final examination  if she cannot achieve both of them  she could also be satisfied to
achieve just one of them  at least  it is better than achieving none 
let us consider a further example  suppose that the background formula set is empty
and the objective formula is x  y  consider the following four formulas  x  x  z  x  y
and z  clearly  none of these formulas classically entails x  y  however  x  x  z and x  y
entail x  which can be regarded as a part of x  y  in contrast  z is irrelevant to x  y  thus 
one can conclude that  to some extent  x  x  z and x  y partially satisfy x  y while z
does not 
c
    
ai access foundation  all rights reserved 

fizhou   zhang

one may observe that there exists some difference between x and x  z in partially
satisfying x  y  that is  x  z contains a new atom z  which is irrelevant to x  y  on
the other hand  x is exactly a part of x  y  in other words  x  z contains irrelevancy
 namely z  in partially satisfying x  y while x does not  another observation is about
x  y  although it entails x  a part of x  y   it also entails y  which contradicts to y
 also a part of x  y   in other words  x  y has some side effect  namely y  besides
partially satisfying x  y 
the background theory is crucial for partial entailment  as an example  consider z and
x  y again  suppose that the background formula set is empty  in this case  z does not
partially satisfy x  y  if the background formula set turns into  z  x   then z should
partially satisfy x  y since under the background theory  if z holds  then x holds as well 
based on the above observations and intuitions  in this paper  we formalize the notion of partial entailment between two formulas with respect to a background theory in
a propositional language  moreover  we distinguish three different kinds of partial entailments  namely weak partial entailment  partial entailment and strong partial entailment 
the intuitions of them are summarized in table    of course  all of them require partial
satisfaction between the two formulas  however  weak partial entailment may allow both
irrelevancies and side effects  whilst partial entailment prohibits side effects but still may
allow irrelevancies  and strong partial entailment is the strongest one that further prohibits
irrelevancies 
table    intuitions of partial entailments
weak partial entailment
partial entailment
strong partial entailment

partial satisfaction
yes
yes
yes

irrelevancy
allowed
allowed
no

side effect
allowed
no
no

this paper is organized as follows  in the next section  we formalize three different kinds
of partial entailments by using an extended notion of prime implicant  and discuss their
semantic properties  in section    we focus on the computational complexities of decision
problems in relation to prime implicant and partial entailments  ranging from some special
cases to the most general case  we then compare the notion of partial entailments with
related notions in the ai literature in section    in section    we show how the notions of
partial entailments can be applied to formalize partial goal satisfaction in reasoning about
rational agents  finally  we draw our conclusions in section   

   partial entailment
we restrict our discussions within a propositional language  denoted by l  formulas in l
are composed recursively by a finite set atom of atoms  also called variables  with      
and standard connectives  and   the connectives      are defined as usual  literals
are atoms and their negations  we use lower case letters to denote atoms and literals  upper
case letters to denote formulas  lower greek letters to denote literal sets  and upper greek
  

fia logical study of partial entailment

letters to denote formula sets respectively  we write l to denote the complementary literal
of a literal l   to denote the set of complementary literals of all literals in   we write
atom l   atom p    atom   and atom   to denote the sets of atoms occurring in literal
l  formula p   literal set  and formula set  respectively 
we say that a literal set  is an assignment over a set a of atoms  assignment for
short if a   atom  if for each atom x  a  exactly one of x and x is in   notice that
both a literal l and an assignment  can also be considered as formulas  for convenience 
henceforth  both l and  also denote their corresponding formulas if it is clear from the
context  the entailment relation    and the notion of model are defined in the standard
way  a set of formulas is said to be consistent if it has at least one model  otherwise  it
is said to be inconsistent  a theory is a set of formulas closed under     let  be a set of
formulas  the deductive closure of   denoted by t h    is the minimal theory  in the sense
of set inclusion  containing   for convenience  we also use  itself to denote the theory
t h   if it is clear from the context 
we write p  l to denote the formula obtained from p by simultaneously replacing every
occurrence of x by      if l is of the form x  x   if  is a consistent literal set  i e 
  x  atom s t  x   and x     and     l    l         lk    we write p   to denote the
formula    p  l    l         lk  
    a simple case
we begin to define the notions of partial entailments between two formulas with respect
to a background formula set by considering a rather simple case  that is  both the two
formulas are consistent conjunctions of literals and the background formula set is assumed
to be empty 
definition   let  and    be two consistent sets of literals 
 we say that  weakly partially entails    if          
 we say that  partially entails    if          and         
 we say that  strongly partially entails    if         
definition   simply follows the intuitions presented in the introduction section  see
table     in this simple case     is a consistent set of literals  thus  the parts of   
can be regarded as all the elements  or subsets  of      recall our intuitive sense of partial
satisfaction  that is  if  holds  then some parts of    hold as well  this means that there
exists some part of      which is a subset of   clearly  this can be precisely captured by
          which is exactly the definition of weak partial entailment in this simple case 
for partial entailment  we forbid side effects based on partial satisfaction  again  since   
is a consistent set of literals  the side effects of    can be regarded as all the complementary
literal of the elements  or subsets  of      hence  that  has no side effects to    means that 
does not mention the complementary literal of any elements  or subsets  of      clearly  this
can be precisely captured by          where    is the set of complementary literals of
all elements in      together with           this forms the definition of partial entailment
in this simple case 
  

fizhou   zhang

finally  consider strong partial entailment  we require additionally that there is no
irrelevancy  the irrelevancies of    can be considered as all those atoms  or literals  not
mentioned in      hence  that  has no irrelevancy to    means that there is no atom
 or literal  mentioned in  but not in      formally  this can be precisely captured by
atom    atom       or         whatever the case is  together with the two conditions
         and          this is equivalent to      and       which is the definition
of strong partial entailment in this simple case 
example   recall the example proposed in the introduction section  according to definition    it is easy to check that x  x  y and x  z weakly partially entail x  y but z does
not  x and x  z partially entail x  y but x  y and z do not  only x strongly partially
entails x  y while x  y  x  z and z do not  the results coincide with our intuitions and
observations discussed in the introduction section 
comparing weak partial entailment and partial entailment  one may observe that x  y
weakly partially entails xy but it does not partially entail xy  as discussed  this is because
y is a side effect to x  y  comparing partial entailment and strong partial entailment 
one may observe that x  z partially entails x  y but it does not strongly partially entail
x  y  again  this coincides with our discussions since z is an irrelevancy to x  y   
an interesting phenomenon is about the relationships between partial entailments and
classical entailment  in this simple case  it is easy to see that if  classically entails     
then  partially entails      also   weakly partially entails      this means that classical
entailment is a special case of  weak  partial entailment to some extent  however  this does
not hold for strong partial entailment  for instance  x  y classically entails x  but it does
not strongly partially entail x since y is an irrelevancy with respect to x 
at first glance  it seems that this result is strange in the sense that the term of partial
entailment should be a generalization of classical entailment  however  this does not mean
that classical entailment also prohibits side effects and irrelevancies  thus  from the intuitive
sense  one can only conclude that classical entailment should be a special case of weak
partial entailment  but may be mutually different from partial entailment and strong partial
entailment  interestingly  as we will show later  classical entailment indeed prohibits side
effects  this means that classical entailment is a special case of partial entailment as well 
however  classical entailment may allow irrelevancy  e g   x  y classically entails x but y is
an irrelevancy to x   hence  roughly speaking  classical entailment is a special case of both
partial entailment and weak partial entailment  but classical entailment and strong partial
entailment are mutually different 
definition   gives a basic impression on the notions of partial entailments  in the
following  we consider to extend the three notions of partial entailments in a general sense 
in which the two formulas are arbitrary formulas and the background is an arbitrary set of
formulas 
    prime implicant
in order to define partial entailments in general case  we use quines notion of prime implicant  quine         which has been widely used in many areas in logic and computer
  

fia logical study of partial entailment

science  an excellent survey of prime implicant and its dual prime implicate is due to
marquis        
roughly speaking  a prime implicant of a formula is a minimal set  in the sense of
set inclusion  of literals that entails this formula  the notion of prime implicant can be
relativized with respect to a background formula set as follows 
definition    relativized prime implicant  a literal set  is a prime implicant of a
formula p with respect to a formula set  if 
      is consistent 
         p  
   there does not exist a literal set      that satisfies the above two conditions 
the set of all prime implicants of p with respect to  is denoted by p i   p    for convenience  we omit  when it is empty 
intuitively  a prime implicant of p w r t   is a minimal set of information needed in
order to satisfy p under the circumstance of   condition   requires that the set of information is feasible  i e   it must be consistent with the background formula set  condition
  means that the set of information is an implicant  i e   it is indeed powerful enough to
satisfy p w r t    finally  condition   requires that the set of information is prime  i e  
it is a minimal set of information for satisfying p w r t   
example   according to definition    the only prime implicant of x  y is  x  y   while
x  y has two prime implicants  namely  x  and  y   the background formula set indeed
plays an important role  clearly  x has a unique prime implicant  x   however   y  is also
a prime implicant of x with respect to the background formula set  y  x    
it is well known that the relativized notion of prime implicant is similar to the notion of
logic based abduction  eiter   gottlob        selman   levesque        eiter   makino 
       there are different characterizations of abduction in the literature  here  we consider
one of the most well studied forms  selman   levesque        eiter   makino        
definition    selman   levesque        let  be a theory  f a formula and h a set
of literals  an  abductive  explanation of f with respect to h from  is a minimal set
  h such that 
      is consistent 
         f  
following the above definitions  it can be observed that the relativized notion of prime
implicant and abduction can be simply transformed each other  more precisely  suppose
that  is a theory  f a formula and h a set of literals  let lit be the set of all literals in
the language  then   is a prime implicant of f w r t   iff  is an abductive explanation of
f from  with respect to lit  conversely   is an abductive explanation of f with respect
to h from  iff  is a prime implicant of f w r t   and mentions literals only from h 
  

fizhou   zhang

another closely related notion to prime implicant is its dual  called prime implicate 
which is also of interests in many areas as well  roughly speaking  a prime implicate of a
propositional formula p is a minimal clause  i e   disjunction of literals  entailed by p   it
is easy to see that the conjunction of a set  of literals is a prime implicant of a formula
p if and only if the disjunction of all the complementary literals of the elements in  is a
prime implicate of p   prime implicate can also be relativized to a background formula
set as well  marquis         we omit this definition since we are mainly focused on prime
implicant in this paper 
many properties in relation to prime implicate were discussed and summarized by marquis         not surprisingly  similar results hold for prime implicant as well  in the
following  we recall some of the important properties in relation to the relativized notion of
prime implicant  which will be used later in this paper 
proposition   let  be a finite set of formulas  p a formula and  a set of literals   is a
v
prime implicant of p w r t   iff    is consistent and  is a prime implicant of   p  
v
where  is the conjunction of all formulas in  
proposition   let p be a formula   a set of formulas and  a literal set such that   
is consistent and       p   then there exists      such that    is a prime implicant of
p with respect to  
proposition   let p be a formula   a formula set and  a literal set  if  is a prime
implicant of p w r t    then there exists an assignment    such that      and    is a
model of both  and p  
together with proposition    proposition   indicates the correspondence relationship
between all the models of p w r t   and all the prime implicants of p w r t    suppose
that  is a model of p and is consistent with   then  according to proposition    there
exists a subset of   which is a prime implicant of p w r t    conversely  according to
proposition    every prime implicant of p w r t   can be extended to a model of both 
and p  
proposition   let p be a formula and  a set of formulas      p if and only if
p i   p           p if and only if p i   p        
proposition   let p and q be two formulas and  a set of formulas      p  q iff
p i   p     p i   q  
to conclude  the prime implicants of a formula p w r t  a formula set  play two roles 
cases  on one hand  if there exists an assignment  satisfying both  and p   then according
to proposition    there exists a subset of  which is a prime implicant of p w r t    on
the other hand  if  is a prime implicant of p w r t    then according to proposition
   it can be extended to an assignment satisfying both  and p   this means that the
prime implicants of p w r t   are corresponding to the possible worlds  assignments 
satisfying both  and p   intuitively  they are corresponding to all the cases which
make p true w r t    i e   all the ways to achieve p under  
  

fia logical study of partial entailment

parts  suppose that  is a prime implicant of p w r t   and l is a literal in   then 
      p and     l      p   as mentioned above   can be considered as a way
 case  to achieve p w r t    then  intuitively  l plays an essential role for achieving
p w r t   via   without l   is no longer a way to achieve p under   this shows
that all the elements in  are essential  in other words   is a minimal way to achieve
p under   and none of the elements in  can be thrown away  thus  these literals
can be considered as parts of p w r t   
both roles of prime implicants will be exploited by the notions of partial entailments
introduced in the following 
    definitions of partial entailments
based on the notion of prime implicant  we formalize three kinds of partial entailments 
from the weakest to the strongest  they are weak partial entailment  partial entailment and
strong partial entailment respectively 
definition    weak partial entailment  a formula p weakly partially entails a formula q with respect to a formula set   denoted by p w
 q  if 
   p i   p   is not empty 
   for each   p i   p    there exists     p i   q   such that          
definition    partial entailment  a formula p partially entails a formula q with respect to a formula set   denoted by p  q  if 
   p i   p   is not empty 
   for each   p i   p    there exists     p i   q   such that          and       
 
definition    strong partial entailment  a formula p strongly partially entails a formula q with respect to a formula set   denoted by p s q  if 
   p i   p   is not empty 
   for each   p i   p    there exists     p i   q   such that         
w
we write p  w
 q if it is not the case that p  q  similar for partial entailment and
strong partial entailment  for convenience  we omit  when it is empty 
clearly  these definitions are generalizations of definition   proposed in section     since
the unique prime implicant of a literal set is itself  note that the only difference among
these definitions of partial entailments is indeed presented in section     in the simple case 
definitions     all require that for any literal set in p i   p    there exists some literal
set in p i   q  such that the two literal sets satisfy the same corresponding relationships
presented in definition   respectively 
let us take a closer look at condition   in definition    recall our intuitive sense of
partial satisfaction again  that is  if p is true under   then some parts of q hold as well 

  

fizhou   zhang

as we discussed in section      the prime implicants of p w r t   represent all the cases
that make p true under   also  the prime implicants of q w r t   can capture the idea
of part of q under   hence  condition   means that  intuitively  for all the cases that
p is true under   captured by all the prime implicants of p w r t     there exists a
way to achieve q under   captured by a prime implicant of q w r t     such that the
former partially satisfies the latter  reduced to the simple case in definition     in addition 
condition   in definition   ensures that there exists at least one such situation  the intuitive
senses of definitions   and   can be explained in a similar way 
example   let the background theory  be  x  y  z  y   consider two formulas p  
 x  r    y  s  and q    x  z    x  y  s   the prime implicants of p w r t   are
as follows   x  r    y  s    r  s    z  s    y  r  and  x  s   notice that  y  r  is a prime
implicant of p w r t   although the literal y even does not occur in p   on the other
hand  the prime implicants of q w r t   are as follows   x  z    x  s  and  z  s   notice
that  x  y  s  is not a prime implicant of q w r t   since  x  s  is a subset of it and also
satisfies q under  
according to the definitions  we have that p does not weakly partially entail q w r t 
 since there is a prime implicant  y  r  of p w r t   such that it has no intersection
with any of the prime implicants of q w r t    also  p does not  strongly  partially entail
q w r t   either  conversely  q  weakly  partially entails p w r t    whilst it does not
strongly partially entail p w r t     
note that there are other possible relations between two formulas w r t  a background
formula set by using the extended notion of prime implicant  in this paper  for defining
partial entailments  we use a  style definition in the sense that we require that for all
literal sets in p i   p    there exists a literal set in p i   q  such that the two literal
sets satisfy the conditions in definition   respectively  recall again the intuition of partial
entailments  which requires that in any cases  if p is true under the context of   then some
part of q is true under the context of   this naturally suggests the  style definition for
the definitions of partial entailments  i e  definitions       where the  part captures all
the cases of achieving p under the context of   and the  part associates a possibility
of achieving q under the context of  to the above case for p   in addition  the condition
item   in definitions     ensures that  in this case  p partially achieves q w r t   via the
two literal sets 
the reason why we choose the  style definition for partial entailments can also be
explained analogously to classical entailment  note that a formula p classically entails
another formula q w r t  a background theory  iff for all models of p w r t    it is also a
model of q w r t   
certainly  there are other possible styles  including    and   for instance  the 
style definition in the weakest case should be  there exists   p i   p   such that for
all     p i   q             although these definitions might be interesting and useful
elsewhere  they fail to capture the basic idea of partial satisfaction 
example   consider two formulas x  z and x  y  the former has two prime implicants 
namely  x  and  z   while the latter has a unique prime implicant  namely  x  y   if we
use the  style definition  we have x  z  weakly  strongly  partially entails x  y  however 
  

fia logical study of partial entailment

this is not intuitive because  z  achieves x  z true but it is irrelevant to x  y  in other
words  the assignment  x  y  z  satisfies x  z but not x  y  hence  there exists a case
that x  z is true but none of the parts of x  y is true 
consider the formula x  y  which has two prime implicants   x  and  y   if we take the
 style definition or the  one  this formula does not  weakly  strongly  partially entail
itself  this is obviously not intuitive   
another feasible direction of definitions is to switch the formulas p and q  for instance 
the switched  style definition in the weakest case is  for all   p i   q   there exists
some     p i   p   such that         this definition  and the corresponding switched  
 and  style definitions  fail to capture the basic idea of partial satisfaction either  again 
recall the intuition of partial entailments  that is  if p is true  under the context of    then
some part of q is true as well  under the context of    similar to classical entailment  this
naturally suggests the order of p and q for the definitions of partial entailments  also  the
switched   switched   style definition is the same as the     style definition  as
shown in example    they are not suitable for defining the notions of partial entailments  to
understand why the switched  style and the switched  style definitions fail for capturing
partial entailments  let us consider the following example 
example   consider two formulas x  y and x  the former has two prime implicants 
namely  x  y  and  x  y   while the latter has a unique prime implicant  namely  x   if
we take the switched  style definition  we have x  y  weakly  strongly  partially entails
x  however  this is not intuitive because  x  y  achieves x  y but it also achieves x 
hence  there exists a case that x  y is true but x is false 
again  consider the formula x  y  it has two prime implicants  namely  x  and  y  
intuitively  this formula should  weakly  strongly  partially entail itself  however  this is not
the case if we apply the switched  style definition   
one of the fundamental properties is the relationships among three notions of partial
entailments  the following proposition shows that weak partial entailment is weaker than
partial entailment  which is further weaker than strong partial entailment  however  by
observations from example    the converses do not hold in general 
proposition    basic relationships among partial entailments  let p   q be two formulas and  a formula set  if p s q  then p  q  if p  q  then p w
 q 
it is worth mentioning that  in the definitions of partial entailments  p i   p   is required
not to be empty to exclude the case when p is inconsistent with the background theory
  the underlying intuition is that partial entailments require real connections between
the two formulas w r t  the background theory  let us take a closer look at item   in the
definitions  the basic idea of partial entailments is that for each prime implicant of p w r t 
  there exists a prime implicant of q w r t   such that the two literal sets satisfy that 
for instance  their intersection are not empty  in other words  p partially entails q w r t 
 via these two literal sets  however  item   does not exclude the case where there is no
prime implicant of p w r t    in this case  item   still holds  however  we cannot say that
p partially entails q w r t   via the two literal sets now because the two literals sets do
  

fizhou   zhang

not exist at all  hence  we require an additional item   to make sure that p i   p   is not
empty 
then  for any formulas p inconsistent with   p does not  weakly  strongly  partially
entail any formula q  also  for any formulas p entailed by   p does not  weakly  strongly 
partially entail any formula q  however  the reasons of these two cases are different  for
the former  the reason is that p i   p   is empty  see proposition     thus p is excluded by
item   in the definitions  for the latter  the reason is that p i   p         see proposition
  again   thus the prime implicant of p w r t   has no intersections with other prime
implicants  we say that a formula p is trivial with respect to a background formula set  if
    p or     p   otherwise  we say that p is nontrivial with respect to   the following
proposition shows that a trivial formula can neither  weakly  strongly  partially entail any
formula  nor they can be  weakly  strongly  partially entailed by any formulas 
proposition    non triviality  let  be a formula set and p and q two formulas  if
p is trivial w r t    then p   q and q   p   this assertion holds for weak partial
entailment and strong partial entailment as well 
proposition    extension of classical entailment  let  be a formula set and p and
q two formulas nontrivial w r t    if     p  q  then p  q  also  p w
 q 
proposition   shows that partial entailment is an extension of classical entailment if only
considering nontrivial formulas  so is weak partial entailment  the converses do not hold 
as a simple example  x  weakly  partially entails x  y but x does not classically entail x  y 
note that strong partial entailment and classical entailment are mutually different  for
example  x  y classically entails x but x  y does not strongly partially entail x  conversely 
x strongly partially entails xy but x does not classically entail xy  as we demonstrated in
section      the reason is that strong partial entailment prohibits irrelevancy whilst classical
entailment does not 
in addition  strong partial entailment captures the notion of part in a broader sense 
in other words  if a formula p strongly partially entails a formula q with respect to a
background formula set   then p can be considered as a part of q w r t    in this
sense  it also explains why classical entailment does not necessarily imply strong partial
entailment  however  this explanation seems to suggest the other way around  that is  if
p strongly partially entails q w r t    i e   p is a part of q w r t     then q classically
entails p w r t    in fact  this is not the case either  for example  x strongly partially
entails  x  y    y  z   but  x  y    y  z  does not classically entails x  the reason here
is that a formula may contain disjunctive information  if restricted into the simple case
discussed in section      this is indeed the case  that is  given two consistent literal sets 
and       strongly partially entails    if and only if    classically entails  
    more semantic properties
in this subsection  we extensively study some semantic properties in relation to all three
kinds of partial entailments  the reasons why we are interested in these properties are
twofold  firstly  they provide deeper understandings of how partial entailments work  as
we will see later  surprisingly  many simple inference rules fail for partial entailments  secondly  these properties illustrate some similarities differences among three kinds of partial
  

fia logical study of partial entailment

entailments  as well as the similarities differences between partial entailments and classical
entailment 
we consider a collection of inference rules  some of them are considered to be important
in many kinds of philosophical logics and knowledge representation logics  others are likely
to hold for partial entailments  let  and   be two sets of formulas  p   q and r formulas
and x and y atoms  in this subsection  we assume that all formulas are nontrivial w r t 
the background theory   here  we use   to denote any kinds of partial entailments with
respect to   the inferences rules we considered are listed as follows 
ref   reflexivity  p   p   meaning that a formula partially entails itself w r t  any background theory 
le   left equivalence  if     p  r and p   q  then r   q  meaning that if two
formulas are equivalent under the background theory  then they play the same role in
partial entailments on the left side 
re   right equivalence  if     q  r and p   q  then p   r  meaning that if two
formulas are equivalent under the background theory  then they play the same role in
partial entailments on the right side 
be   background theory equivalence  if       and        then p   q iff p    q 
meaning that if two background theories are equivalent  then they play the same role
in partial entailments 
rev   relevancy  if p   q  then atom p    atom q       meaning that if one formula
partially entails another w r t  the empty background theory  then the atom sets used
in the two formulas respectively must not be disjoint 
tran   transitivity  if p   q and q   r  then p   r  meaning that partial entailment
relation among formulas is an ordering on the propositional language 
as   atom substitution  if p   q  then p  x y    q x y    meaning that any atoms
in a partial entailment relation can be replaced by other atoms 
lo   left or  if p   q and r   q  then p r   q  meaning that if both two formulas
partially entail another one  then their disjunction should partially entails the formula
as well 
ls   left strengthening  if     p  r and r   q  then p   q  meaning that if a
formula partially entails another  then a formula strengthened by the former should
partially entail the latter as well 
ra   right and  if p   q and p   r  then p   r  q  meaning that if two
formulas are both partially entailed by another formula  then their conjunction should
be partially entailed by the formula as well 
   this is because trivial formulas are not interesting for partial entailments  see proposition    
   here  p  x y  is the formula obtained from p by simultaneously replacing every occurrence of atom x by
y  similar for q x y  

  

fizhou   zhang

table    properties of partial entailments
ref
le
re
be
rev
  tran
as
lo
  ls
ra
ro
mono
ln
rn

weak partial entailment
yes
yes
yes
yes
yes
no
no
no
yes
no
no
no
no
no

partial entailment
yes
yes
yes
yes
yes
no
no
no
no
no
no
no
no
no

strong partial entailment
yes
yes
yes
yes
yes
yes
no
no
no
no
no
no
no
no

ro   right or  if p   q  then p   q  r  meaning that if a formula partially entails
another  then it should partially entail the disjunction of the latter formula with any
formulas 
mono   monotonicity  if       and p   q  then p    q  meaning that adding more
information into the background theory preserves partial entailment relations 
ln   left negation  if p   q  then p    q  meaning that it is impossible that both a
formula and its negation partially entail another formula 
rn   right negation  if p   q  then p    q  meaning that it is impossible that both
a formula and its negation can be partially entailed by another formula 
suppose that we define the relation   between p and q as classical entailment  i e  
    p  q  then  it satisfies all the inference rules proposed above  however  the following
proposition shows that partial entailments fail for many of them 
proposition   table   summarizes whether all three kinds of partial entailments satisfy
the inference rules considered above 
table   illustrates some similarities and differences among all three kinds of partial
entailments  they have the same results for most of these inference rules  however  transitivity  tran  and left strengthening  ls   highlighted by the  symbol in table    are
two exceptions  transitivity  tran  holds for strong partial entailment but not for partial
entailment and weak partial entailment  left strengthening  ls  holds for weak partial
entailment but not for partial entailment and strong partial entailment  finally  both weak
  

fia logical study of partial entailment

partial entailment and partial entailment are extensions of classical entailment in the sense
considered in proposition    while strong partial entailment is not 
also  table   illustrates some similarities and differences between partial entailments
and classical entailment  as we mentioned above  all these inference rules hold for classical
entailment  however  this is not the case for partial entailments  this means that partial
entailments actually behave quite different from classical entailment  among these inference
rules  transitivity is an important one  it does not hold for partial entailment and weak
partial entailment since they allow irrelevancies  nevertheless  transitivity holds for strong
partial entailment  however  strong partial entailment is even more dissimilar to classical
entailment since they are mutually different 
table   also indicates that it is not easy to capture the properties of the notions of
partial entailments due to the fact that they fail most of the simple inference rules  see
table     meanwhile  some properties   e g  tran  ln and rn   may seem to be intuitive
for partial entailments  however  it turns out that they do not hold in general according to
the formal definitions 
certainly  one can consider other inference rules  for instance  contraposition  that is 
if p   q  then q  p   one can check that contraposition does not hold for all three
kinds of partial entailments either 
    discussions
one may doubt whether partial entailments can be directly captured within classical propositional logic  for example  one may define partial entailment as follows  a formula p
partially entails a formula q w r t  a formula set  iff there exists a formula r such that
   r      q but    p  r     q  however  this definition cannot capture partial satisfaction  in fact  for every formula p such that      p  q  there always exists such a formula
v
r  let r be  p q   even if we restrict r with consistent literal sets  this definition
does not capture partial satisfaction either  for instance  x  y should partially entail x  y
according to this definition since  x  y   y    x  y  however  this conclusion is counterintuitive  as an alternative possibility  since p partially entails q intuitively means that
p entails some parts of q  one may define partial entailment as  a formula p partially
entails a formula q iff there exists q  and q   such that    q  q   q     q       q  and
p    q    however  this definition fails to capture the essence of partial entailment either 
for instance  according to this definition  x partially entails y since    y   xy  xy  
x  y     x  y  and x    x  y 
according to the definitions of partial entailments  x  weakly  strongly  partially entails
both x  y and x  y  one may conclude that this result indicates that conjunction and
disjunction play a similar role in partial entailments  however  this is not the case  in this
example  the reasons why x partially entails x  y and why x partially entails x  y are
completely different  in the former case  the reason is that x is a part of x  y  while in the
latter case  the reason is that x classically entails x  y  in fact  conjunction and disjunction
play totally different roles in partial entailments  for instance  x  y partially entails x 
while x  y does not  more examples can be easily found 
  

fizhou   zhang

another evidence to illustrate the differences between conjunction and disjunction is to
consider another special case of partial entailments by restricting the formulas to clauses 
i e   disjunction of literals  and assuming the background theory to be empty 
proposition    let  and    be two non valid clauses  i e   disjunctions of two consistent
sets of literals   the following statements are equivalent 
    is a subset of    if they are represented as two sets of literals 
    classically entails     
    weakly partially entails     
    partially entails     
    strongly partially entails     
proposition    states that under this setting  classical entailment and all three kinds of
partial entailments coincide  compared proposition    to definition    disjunction and
conjunction are quite different in partial entailments 
as we mentioned earlier  the substitution principle does not hold for all three kinds of
partial entailments in general  this means that  in partial entailments  the atoms indeed
play a different role with formulas  for instance  x  weakly  strongly  partially entails x  y 
however  it is not necessary the case that p partially entails p  q  this shows a difference
between partial entailments and classical entailment due to the fact that the substitution
principle holds for standard propositional logic 

   complexity analysis
in this section  we analyze the complexity issues in relation to the extended notion of prime
implicant and all three kinds of partial entailments  we assume that readers are familiar
with some basic notions of computational complexity  more details can be found in the
textbook by papadimitriou        
here  we briefly recall some complexity classes  dp is a widely used complexity class 
which contains all languages l such that l   l   l    where l  is in np and l  is in conp 
the polynomial hierarchy is defined recursively as follows 
p     p     p     p 
p

pi      p i   i    
p

pi      n p i   i    
p

pi      con p i   i    
p

for instance  p    p   is the complexity class of all languages that are recognizable in
polynomial time by a deterministic turing machine equipped with a p  oracle  in particular  p   o log n   is a subset of the p  by restricting the uses of the oracle within logarithmical times  gottlob        showed that the complexity classes p  and p   o log n  
  

fia logical study of partial entailment

coincide with so called p   dag and p   tree respectively  intuitively  a p   dag is an acyclic
directed graph of dependent queries to p  oracles  the nodes are queries whilst the edges
represent the dependency relationships among nodes  a p   tree is a p   dag that is a tree 
we mainly investigate the following decision problems  both in the most general case
and in some restricted cases 
pric   p       prime implicant checking  to determine whether a literal set  is a prime
implicant of a formula p w r t  a formula set  
lepr   p  l     literal existence in prime implicants  to determine whether a literal l is in
at least one prime implicant of a formula p w r t  a formula set  
lapr   p  l     literal in all prime implicants  to determine whether a literal l is in all
prime implicants of a formula p w r t  a formula set  
wpe   p  q     weak partial entailment  to determine whether p weakly partially entails q
w r t   
pe   p  q     partial entailment  to determine whether p partially entails q w r t   
spe   p  q     strong partial entailment  to determine whether p strongly partially entails
q w r t   
for convenience  we omit  when it is empty 
the first three decision problems are concerned with the relativized notion of prime
implicant  while the others are concerned with the notions of partial entailments  the main
focuses in this paper are of course the latter ones  while the former ones are needed as the
intermediate steps 
note that some of the complexity results related to prime implicant can be found in or
followed by existing results in the literature  see more details in appendix   for instance  as
shown by marquis         propositions      and        checking whether a literal set  with
or without background theory  is a prime implicate of a formula is dp complete  another
result comes from proposition    by lang et al         that checking whether a literal is
in at least one prime implicant of a formula is np complete  also  as a consequence of the
correspondence between prime implicant and abduction  many complexity results related
to abduction can be borrowed for studying prime implicant  for instance  as shown in the
appendix  checking whether a literal l is in one of the prime implicants of f with respect
to  is exactly the task of relevance checking in abduction 
however  as the main focus of this paper  partial entailments are defined upon prime
implicant  i e  abduction   although existing results conclude some of the computational
complexity results related to prime implicant  they do not reveal too much information
about the complexities of partial entailments 
    empty background theory
we start our complexity analysis when the background formula set  is empty  the following
proposition shows the complexity results in relation to prime implicant when the background
theory is empty  as mentioned above  the first two results follow by existing results in the
literature 
  

fizhou   zhang

proposition    the computational complexities in relation to prime implicant with empty
background theory are summarized in table   

table    complexity results for prime implicant  empty background theory
pric p   
lepr p  l 
lapr p  l 

dp complete
np complete
dp complete

based on the computational analysis on prime implicant  the following proposition
presents a complete result for the complexity results in relation to all three kinds of partial
entailments when the background theory is empty  
proposition    the computational complexities in relation to partial entailments with
empty background theory are summarized in table    here  l is a literal   is a set of
literals and p and q are formulas 

table    complexity results for partial entailments  empty background theory
 l  p  
 p  l 
   p  
 p   
 p  q 

np
dp
np
dp
p 

wpe
complete
complete
complete
complete
complete

np
dp
np
dp
p 

pe
complete
complete
complete
complete
complete

spe
np complete
conp complete
p  complete
conp complete
p  complete

let us take a closer look at table    first of all  it shows that it is not an easy task
to compute the notions of partial entailments  even when the background theory is empty 
for instance  to check whether a formula  weakly  partially entails another formula is at
the second level of polynomial hierarchy  more surprisingly  this task for strong partial
entailment is even more difficult  which is at the third level of polynomial hierarchy 
also  from table    one can conclude that the computational complexities increase when
the forms of formulas become more complicated  for instance  checking whether a literal
strongly partially entails a formula is np complete  when extending the literal to a literal
set  this becomes p  complete  the task further turns into p  complete when extending the
antecedent to an arbitrary formula  interestingly  for weak partial entailment and partial
entailment  no matter considering partially entailing a formula or partially entailed by a
formula  turning a literal to a literal set does not increase the complexity  however  for
   clearly  if both the antecedent and the consequent are restricted to literal sets  then the corresponding
decision problems in relation to all three kinds of partial entailments can be solved in linear time 

  

fia logical study of partial entailment

strong partial entailment  this is the case for partially entailed by a formula but not for
partially entailing a formula 
finally  it can be observed that  when the background theory is empty  weak partial
entailment and partial entailment have the same computational complexities  while strong
partial entailment acts differently  interestingly  based on some basic assumptions in the
complexity theory  checking strong partial entailment relationship is sometimes easier than
the rest two  e g  compare spe p    and pe p      but sometimes more difficult  e g 
compare spe p  q  and pe p  q   
in some application scenarios  the background theory is simply a set of facts  which can
be represented as a set of literals  hence  we are interested in the computational complexities
for this special case  as we shall see later  this is much simpler than the general case when
the background theory is an arbitrary set of formulas 
the following proposition indicates that  fortunately  turning the background formula
set into a literal set does not increase the computational complexities for all three kinds of
partial entailments 
proposition    all the complexity results in tables   and   remain the same if the background theory is a set of literals 
    general background theory
finally  we face to the general case  in which the background theory is an arbitrary formula
set  we only consider the general cases of all the six decision problems  one reason is that
the background theory is a general setting already  another reason is that  even for a single
literal  there might exist many different prime implicants of it with respect to an arbitrary
background theory 
proposition    the computational complexities in relation to partial entailments in general case are summarized in table    

table    complexity results  general case
pric   p   
lepr   p  l 
lapr   p  l 
wpe   p  q 
pe   p  q 
spe   p  q 

empty 
dp complete
np complete
dp complete
p  complete
p  complete
p  complete

arbitrary 
dp complete
p  complete
p  complete
in p   o log n    p  hard  p  hard
in p    p  hard  p  hard
p  complete

according to table    the complexities of prime implicant checking and strong partial
entailment checking remain the same when allowing arbitrary background theory  while the
   here  we also present the corresponding computational complexity results when the background theory
is empty in order to compare them directly 

  

fizhou   zhang

complexities increase for the other decision problems  for instance  checking whether a
literal is in one  or all  prime implicant s  of a formula increases from np complete  dp
complete  resp   to p  complete  p  complete  resp   when the background theory turns
into an arbitrary one  also  the complexities of checking weak partial entailment and partial
entailment in general case increase a little because these two problems are both p  and
p  hard  however  the corresponding complexity for strong partial entailment remains the
same since it is already p  hard in the special case when the background theory is empty 
as shown in table    wpe   p  q  and pe   p  q  are both p  hard and p  hard  this
shows that they are neither p  complete nor p  complete based on some basic assumptions
in the complexity theory  we conjecture that wpe   p  q  is p   o log n   complete and
pe   p  q  is p  complete  however  to verify this  more advanced techniques  e g  the
raising technique proposed by liberatore         are needed 

   related work
in section    we discussed the relationships between partial entailments and classical entailment  here  we further consider the relationships between partial entailments and other
related notions in the literature  including the family of notions of relevance and their relatives  such as formula variable independence  boutilier        lang et al          relevance
between formulas  lakemeyer               novelty  marquis        and probabilistic positive relevance  zhou   chen         and partial satisfaction of a formula  lieberherr  
specker        kappeli   scheder        
    formula variable independence
lang et al         defined a notion of formula variable independence between a formula
and a set of atoms  roughly speaking  a formula is independent to a set of atoms if the
formula can be rewritten to another one that mentions no atoms from the set of atoms 
definition    lang et al         a formula f is variable independent to a set v of
variables iff there exists a formula g such that    f  g and atom g   v    
also  lang et al  proved that variable independence coincides with the notions of influenceability introduced by boutilier        and relevance of a formula to a set of atoms
introduced by lakemeyer        
as shown by lang et al          the notion of formula variable independence can be
reformulated by prime implicant  here  we show that it can be reformulated by weak partial
entailment as well 
proposition    let f be a formula and v a set of atoms  the following statements are
equivalent 
   f is variable independent to v  
   for all literals l in v  v   l is not in any prime implicants of f  
   for all literals l in v  v   l does not weakly partially entail f  
  

fia logical study of partial entailment

    other forms of relevance
lakemeyer also introduced other forms of relevance as well  including strict relevance  explanatory relevance and relevance between two subject matters  lakemeyer        
definition    lakemeyer        a formula f is strictly relevant to a set v of atoms
iff every prime implicate of f contains at least one atom from v  
the following proposition shows that strict relevance can be reformulated by prime
implicant and weak partial entailment as well 
proposition    let f be a formula and v    x            xn   a set of atoms  the following
statements are equivalent 
   f is strictly relevant to v  
   f weakly partially entails  x          xn     x          xn   
definition    lakemeyer        a formula f is explanatory relevant to a set v of
atoms w r t  a formula set  iff there exists a minimal abductive explanation of f w r t  
that mentions a variable from v  
the definition of explanatory relevance can be reformulated by prime implicant  that
is  f is explanatory relevant to v w r t   iff there exists l  v  v such that l is in at
least one of the prime implicants of f w r t   
    relevance between formulas
as pointed out by lakemeyer         it is interesting to consider relevance between formulas
with respect to a background theory  here  we propose a definition of relevance between
two formulas with respect to a background theory by using prime implicant 
definition    a formula p is relevant to a formula q with respect to a formula set  iff
there exists a prime implicant  of p w r t   and a prime implicant    of q w r t   such
that           
definition    looks very similar to the definition of weak partial entailment  see definition     the major difference between these two definitions is that weak partial entailment
is defined by a  style  whilst relevance is defined by an  style  more precisely  in the
former  we require that for all prime implicants of p w r t    there exists a prime
implicant of q w r t   such that their intersection is not empty  however  in the latter 
we require that there exists a prime implicant of p w r t   and there exists a prime
implicant of q w r t   satisfying the same condition 
however  weak partial entailment can serve as a strict notion of relevance between two
formulas with respect to a background theory  that is  a formula p is strictly relevant to
another formula q with respect to a formula set  if and only if p weakly partially entails
q w r t    clearly  this strict version of relevance between formulas w r t  to a background
theory based on weak partial entailment implies the normal one defined in definition    
but the converse does not hold in general 
  

fizhou   zhang

    novelty and novelty based independence
the notion of novelty  marquis        is defined between two formulas with respect to a
formula set as well 
definition     marquis        a formula p is new positive  new negative  to another
formula q with respect to a formula set  iff there exists a prime implicant  of q  q 
with respect to    p    which is not a prime implicant of q  q  with respect to  
in addition  a notion of independence  namely novelty based independence  also known
as separability  see levesque         between two formulas is defined based on novelty  lang 
liberatore    marquis        
definition     lang et al         two formulas p and q are  novelty based  independent iff p is not new negative to q w r t    
intuitively  that p is new to q w r t   means that adding new information p to
the background theory  has some influences on q or q  although novelty and partial
entailments are both defined by using the notion of prime implicant  they are essentially
different  for instance   non novelty based independence satisfies symmetry  that is  if
p is  non novelty based independent to q  then q is  non novelty based independent to
p   however   weak  strong  partial entailment does not satisfy symmetry  for instance 
x  weakly  strongly  partially satisfies x  y  but the converse does not hold  as another
example  x  y  weakly  strongly  partially entails x  y  however  x  y is not new positive
 negative  to x  y  also  x  y is new positive  negative  to x  however  x  y does not
 weakly  strongly  partially entail x 
    probabilistic positive relevance
another approach to formalize a certain kind of usefulness is probabilistic positive relevance
 zhou   chen         which is based on probability distributions  the basic idea of positive relevance is  a formula p is positive relevant to another formula q with respect to a
background formula set  iff for all probability distributions p r  p r q  p     p r q   
although positive relevance looks similar to partial entailments  and probability distribution is highly related to prime implicant  lang et al          the underlying intuition
and the semantic properties of positive relevance and partial entailments are quite different 
for instance  according to the definition of positive relevance by zhou and chen        
x  y is positive relevant to x  however  x  y does not  weakly  strongly  partially entail
x  generally speaking  in positive relevance  defined based on probability distributions  
symmetry holds  that is  p is positive relevant to q w r t   if and only if q is positive
relevant to p w r t    however  this does not hold for any kinds of partial entailments 
    partial satisfaction of a cnf
the term partial satisfaction is also used for satisfaction of a subset of a set of clauses
 lieberherr   specker        kappeli   scheder         a cnf formula  i e  a conjunction
of clauses  is said to be k satisfiable if every subformula of it containing at most k clauses
is satisfiable 
  

fia logical study of partial entailment

although the term partial satisfaction is used for both k satisfaction and partial entailments  it represents different intuitive meanings  for the former  part means a subset
of a formula  i e  the set of clauses   while for the latter  it means a subset of a prime implicant of a formula  hence  partial entailments and k satisfaction are basically irrelevant 
moreover  k satisfaction is only concerned with a particular  cnf  formula  while partial
entailments are concerned with the relationship between two formulas  w r t  a background
theory  

   partial goal satisfaction
in traditional logic based approach of rational agency  the agents always try to find actions
to completely achieve their goals  if not successful  the agents would choose to wait and
do nothing  this idea is usually formalized by using classical entailment  however  it is not
always the case that the agents can find out such a perfect action  think about the real world
that we live in   under the situation  it is sometimes useful for the agents to do something
towards their goals rather than just waiting  in which those actions partially satisfying
the agents goal should be rational candidates  here  partial entailments may serve as a
logic foundation 
example   let us consider an example  suppose that laura wants to have milk and cereal
as her breakfast  however  there are only three choices available on the breakfast menu 
choice  only milk is offered 
choice  milk and bread are offered 
choice  only bread is offered 
due to the current information  none of these choices completely satisfies lauras goal 
then  what should she do   
here  we argue that  under this circumstance  it is also rational for the agents to choose
those actions partially achieving their goal according to their belief  as there is no action
completely achieving the goal 
it is important to allow those actions partially achieving the agents goal to be rational
candidates  first of all  the rationality of performing those actions is solid since they
make the goal closer for the agents and there is nothing better to do  hence  choosing
those actions useful to the agents goal is more reasonable than just waiting  also  the
environment is dynamic in nature  in some cases  if the agents do not choose those actions
partially achieving their goal  it might lose the chance to achieve the goal forever  this
frequently happens in everyday life when we cannot seize the opportunities 
we formalize partial achievement between actions and goals under the agents belief
by using the notion of partial entailments proposed in section    this is natural since
partial entailments precisely capture the partial satisfaction relations between two formulas
with respect to a background theory  to apply partial entailments to formalize partial goal
satisfaction  we treat the background theory as the agents belief  the consequent as the
agents goal and the antecedent as the consequences of the action  one obstacle is how to
  

fizhou   zhang

represent actions and their consequences  here  to address this issue  we simply use triples
in hoare logic to represent actions  
again  we restrict our discussions within a propositional language  the goal and the
belief of agents are represented as a propositional formula and a set of propositional formulas
respectively  an action  is a triple hp re      p ost  i  where  is a label called the body of
the action  and p re   and p ost   are two propositional formulas called the precondition
and postcondition of the action respectively  next  we show how the traditional idea of
complete goal satisfaction and our idea of partial goal satisfaction can be formalized under
this setting 
definition     complete goal satisfaction  let  be an agents belief and g the agents
goal  let a be a set of candidate actions  an action   a completely achieves the agents
goal g according to its belief  iff 
       p re   
      p ost    is consistent 
       p ost    g 
definition    means that if the agents belief satisfies the precondition of an action and
it believes that the postcondition of the action entails its goal  then this action completely
achieves its goal under the belief  partial goal satisfaction is formalized in a similar way
except that partial entailments are used instead of classical entailment 
definition     partial goal satisfaction  let  be an agents belief and g the agents
goal  let a be a set of candidate actions  an action   a  weakly  strongly  partially
achieves the agents goal g according to its belief  iff 
       p re   
s
   p ost   w
       g 

definition    means that if the agents belief satisfies the precondition of an action and
it believes that the postcondition of the action partially entails its goal  then this action
partially achieves its goal under the belief 
example   consider example   proposed previously  to formalize this example  we use x 
y and z to represent having milk  having cereal and having bread respectively  then 
lauras belief is empty since there is no background knowledge  her goal can be represented
as x  y  the preconditions of the three actions to take the three choices respectively are
empty as well and can be represented as    while the postcondition of the three cases can
be represented as x  x  z and z respectively  according to definition     none of the three
actions completely achieves the goal x  y  however  according to definition     to take
choice  and choice   weakly  partially achieve the goal  in particular  to take choice 
strongly partially achieves the goal  whilst to take choice  does not partially achieve the
goal in any sense   
   here  we only use a simple action theory to demonstrate how the notion of partial entailments can be
used for formalizing partial goal satisfaction  the problems of how to represent actions for agents in
general and how to deal with the frame problem is out of the scope of this paper 

  

fia logical study of partial entailment

a problem arises which kind of partial goal satisfaction is rational for the agents  at first
glance  it seems that partial entailment is more appropriate for this purpose  weak partial
entailment may contain side effects that are not acceptable  whilst strong partial entailment
are too strict that some powerful actions are excluded  however  we believe it is better to
leave this to the agent designers  one may choose different kinds of partial goal satisfaction
in different application domains  e g   strong partial entailment if both irrelevancies and
side effects are crucial issues  or partial entailment if side effects are unacceptable but
irrelevancies are not  or weak partial entailment in looser cases 
it is worth mentioning that partial goal satisfaction only proposes one possible solution
for dealing with the situations that the agents cannot find a plan to completely achieve
their goal  it is neither the only solution nor necessarily perfectly rational  in some such
situations  the actions achieving some parts of the agents goal may lose its chances to
achieve other parts  which might be unacceptable for the agents 
also  the actions partially achieving the agents goal are only rational candidates but
not compulsory  it is quite different between the fact that an action is a rational candidate
and that the agents really choose to perform it  partial goal satisfaction only explains the
rationality of those actions partially achieving the goals  the problem of which particular
action should be chosen to perform among all the actions partially achieving the agents
goal is another research topic and is beyond the scope of this paper 
another approach for handling these situations is to explicitly represent the agents full
preferences among all combinations of goals  for instance  in example    laura may have
the following full preferences among all candidate goals 
 m ilk  cereal     m ilk     cereal       
where   represents the preference relation  if lauras original goal  i e  m ilk  cereal 
cannot be achieved  then she intends to achieve the second best candidate goal  i e  m ilk 
according to her preference  it can be observed that partial goal satisfaction is not always
consistent with the full preference approach  for instance  if the above preference of laura
turns into  m ilk  cereal          m ilk     cereal   although sharing some similarities 
these two approaches are essentially different  first of all  full preference requires additional
information  while partial goal satisfaction does not  moreover  it is expensive to represent
the full preference of agents  since the number of possible combinations of goals are exponential with respect to the size of goals  to represent a full preference requires double
exponential number of new information  last but not least  it is usually difficult to obtain
the full preferences of agents  hence  we believe that both the full preference approach
and the partial goal satisfaction approach have their own advantages and disadvantages for
dealing with the situations when there is no perfect actions to achieve the agents goal 
the idea of partial satisfaction of goals has been discussed elsewhere in the ai literature
 haddawy   hanks        smith        do  benton  van den briel    kambhampati        
one approach is so called partial satisfaction planning  smith        do et al          in
partial satisfaction planning  agents find plans  instead of completely achieving their goals 
that partially achieve their goals  since the agents goals in ai planning  particularly in
strips like planning  are usually represented as conjunctions of small pieces of subgoals 
it can be formalized as finding plans that achieve subsets of those subgoals  in fact  this
is a special case of partial entailments in the sense that partial entailment is dealing with
  

fizhou   zhang

arbitrary propositional formulas  another approach is due to haddawy and hanks        
in their approach  the agents goals are represented as groups of candidate goals and each
of them is associated with a real number between        to represent the degree of chances
of satisfying a goal  a plan satisfying a candidate goal with number   is full satisfaction
while a plan satisfying a candidate goal with a number between         e g        is partial
satisfaction  there are several differences between this approach and partial entailments 
firstly  in partial entailments  the objective formula is represented by a single formula
instead of a set of candidate variations  secondly  numerical degree of satisfaction is not
introduced in partial entailments  finally  in partial entailments  the partial satisfaction
relationships come from the internal structures of formulas 
finally  we would like to mention that the application scenario discussed here for partial
entailments is reasoning about rational agents but not classical ai planning  e g  strips 
the main reason is that the agents goal and beliefs are formalized by literal sets rather than
arbitrary formulas in strips planning  but the main focus of this paper is to introduce the
notions of partial entailments to propositional logic in general  nevertheless  since checking
partial entailments when restricted the antecedent  the consequent and the background
theory all to be literal sets can be done in linear time  it is interesting to apply partial
entailments in ai planning  we would like to leave this as our future investigations 

   concluding remarks
in this paper  we introduced a new logical notionpartial entailmentto propositional logic 
we distinguished three different kinds of partial entailments  see table    based on the
notion of prime implicant  from the weakest to strongest  they are weak partial entailment 
partial entailment and strong partial entailment respectively  we then investigated the
semantic properties of partial entailments  see table     the results demonstrate that the
properties of partial entailments are difficult to be captured since many simple inference
rules do not hold  we also investigated the computational complexity of partial entailments
 see tables   and     the complexity results are surprising and interesting  for instance 
checking strong partial entailment is p  complete  even when the background theory is
empty  this indicates that although the definitions of partial entailments look simple  it is
not easy to compute them 
we showed that the notions of partial entailments can serve as a foundation of formalizing partial goal satisfaction in reasoning about rational agents  another potential application scenario  mentioned in our previous work  zhou  van der torre    zhang        
is goal weakening by using strong partial entailment  when an agent needs to modify its
goal  it can choose a weakened one that strongly partially entails the original goal with
respect to the agents belief  this is because strong partial entailment preserves some of
the important parts of the original goal  however  more sophisticated work are needed to
develop such a goal weakening framework  also  as mentioned previously  it is interesting
to apply partial entailments in ai planning  where all formulas are syntactically restricted
so that the computation task of partial entailment may become easier 
another direction of future work lies in computing partial entailments  of course  an
important task is to develop an algorithm directly for this purpose  however  an alternative
  

fia logical study of partial entailment

approach is to identify some tractable subclasses for checking partial entailments since the
general complexities are relatively high 

acknowledgments
some preliminary results of this paper were published  zhou   chen        zhou et al  
       we are grateful to xiaoping chen and leon van der torre for their inspirations
and contributions on these works  we are also grateful to jerome lang for his valuable
comments on an earlier draft of this paper  and we would like to thank the anonymous
reviewers for their valuable comments as well  the authors were partially supported by an
australian research council  arc  discovery projects grant  dp         

appendix a  selected proofs 
proposition    extension of classical entailment  let  be a formula set and p and
q two formulas nontrivial w r t    if     p  q  then p  q  also  p w
 q 
proof  we first prove that p  q  let  be a prime implicant of p w r t    we have
that       p   since     p  q  we have that       q  by proposition    there
is a subset    of  such that    is a prime implicant of q w r t    thus       due to
non triviality of p and q           and          this shows that p  q 
according to proposition    p w
 q   

proposition   table   summarizes whether all three kinds of partial entailments satisfy
the inference rules considered above 
proof  here  we only give the proofs or counterexamples of some of the results 
for relevancy  according to definition    there exists   p i p   and     p i q  such
that         therefore  atom  atom           it follows that atom p  atom q     
since atom    atom p   and atom       atom q   similar for weak partial entailment
and strong partial entailment 
for transitivity of strong partial entailment  let  be a prime implicant of p w r t   
since p s q  there exists a literal set   consistent with  such that    p i   q  and
      moreover  since q s r  there exists a literal set   consistent with  such that
   p i   r  and        hence        this shows that p s r 
note that transitivity does not hold for either partial entailment or weak partial entailment  for instance  x  x  y and x  y  y  but x   y  similarly  x w x  y and
x  y w y  but x  w y  the reason why partial entailment and weak partial entailment
fail transitivity is that they allow irrelevancies  in the above example  although x  y partially entails y  it contains x  which is irrelevant to y  and it is exactly the reason why x
partially entails x  y 
   we only present some of the proofs here  the others are relatively simple  and can be found in our full
version  available at http   www scm uws edu au  yzhou papers partial entailment full version pdf  

  

fizhou   zhang

for left strengthening of weak partial entailment  let  be a prime implicant of p w r t 
  then        p   it follows that       r since     p  r  by proposition    there
is a subset   of   which is a prime implicant of r w r t    moreover  r w
 q  then 
there exists a prime implicant   of q w r t   such that           thus          
this shows that p w
 q 
note that left strengthening does not hold for either partial entailment or strong partial
entailment  for example  we have that x s x  y and x  x  y  but x  y  s x  y and
x  y   x  y  the reason why strong partial entailment and partial entailment fail left
strengthening is that they prohibit side effects since the strengthening part on the left side
could be side effect to the right side  e g   y in the above example 
both left negation and right negation do not hold for all three kinds of partial entailments  as an example  both x and x  weakly  strongly  partially entail x  y  meanwhile 
x  weakly  strongly  partially entails both x  y and  x  y    

proposition    the computational complexities in relation to prime implicant are summarized in table   
proof  the first result can be proved similarly to proposition      in the work of marquis
        and the second one follows directly from proposition    in the work of lang et al 
        for the last result  it is easy to prove that l occurs in all prime implicants of p iff
p can be satisfied and    p  l  it immediately proves the membership of this assertion 
hardness follows from the fact that p is satisfiable and q is unsatisfiable iff x is in all prime
implicants of  x  p     x  q   where x is a new atom   

proposition    the computational complexities in relation to partial entailments with
empty background theory are summarized in table    here  l is a literal   is a set of
literals and p and q are formulas 
proof  for the membership of wpe   p   let     l         lk    then  weakly partially entails
p if and only if there exists li      i  k such that li is in one of the prime implicant of p  
by proposition     this problem is in np 
for the membership of pe   p   we first prove that a literal set  partially entails a
formula p iff there is an assignment   over atom atom   and an assignment   over
atom   such that        p and         p     by definition    there is a
prime implicant    of p such that          and          let l        then
     l    l      p   it can be extended to an assignment   over atom  which satisfies
p   let      and atom       atom atom    let      and atom       atom   
clearly         p and         p     by proposition    there is a prime implicant
   of p such that           it follows that          and          hence  
partially entails p   hence  the following algorithm determines whether  partially entails
p      simultaneously guess two literal sets   and        check whether   and   together
with  satisfy the above conditions  step   can be done in polynomial time  therefore 
pe   p  in np 
  

fia logical study of partial entailment

for spe   p   membership is easily shown by the following algorithm     guess a consistent literal set         check whether    is a prime implicant of p      if yes  check whether
 is a subset of      by proposition     step   requires an n p oracle  hence  this problem is
in p    for hardness  we construct a reduction from    qbf   let x and y be two disjoint
sets of atoms and p a formula such that atom p    x  y   let y    y    y         yk    t  be
y        yk   t  be y        yk   x and y be two new atoms different with x  y   q be
 xy p   xy t    xy t     we now prove that xy p holds if and only if xy
strongly partially entails q  suppose that xy p holds  then  there exists an assignment
  over x such that      p   by proposition    there exists      such that   is a
prime implicant of p   therefore   x  y        q  in addition   x         q  otherwise 
 x         x  y  p     x  y  t      x  y  t     it follows that  x        y  t    a
contradiction  symmetrically   y         q  moreover  for all l       x  y       l      q
since   is a prime implicant of p   this shows that  x  y     is a prime implicant of q 
hence  x  y strongly partially entails q  on the other hand  suppose that x  y strongly
partially entails q  then  there exists a prime implicant of q including both x and y 
let it be  x  y       therefore      p   we have       t    otherwise   x        q 
this shows that  x  y     is not a prime implicant of q  a contradiction  symmetrically 
      t    this shows that atom      x  moreover   x  y        q  it follows that
 x  y        x  y  p   therefore      p   let   be an assignment over x such that
       then       p   this shows that xy p holds 
for membership of wpe p     p weakly partially entails  iff a  p is satisfiable  and b 
for all assignments   over atom atom            p   which is equivalent to     p  
to prove this  suppose that p weakly partially entails   then  p is satisfiable  now assume
that there exists   such that        p   by proposition    there exists       
such that   is a prime implicant of p   however          a contradiction  on the other
hand  suppose that the above three conditions hold  then  for all prime implicants   of
p            otherwise      can be extended to an assignment   over atom such
that      p   however        a contradiction  hence  wpe p    is in dp 
for membership of pe p     let     l            ln    then  p partially entails  iff for all
prime implicant    of p   a           and b           iff a  for all i      i  n   li
is not in any of the prime implicants of p   and b  p weakly partially entails   hence  by
proposition    and the above result for weak partial entailment  this problem is in dp  
for membership of spe p     let     l            ln    atom p   atom      x           xm   
p strongly partially entails  iff all the prime implicants of p are subsets of  iff for all
i      i  n   li is not in any prime implicants of p and for all j      j  m   xj  xj  
is not in any prime implicants of p   by proposition     this problem is in conp 
for wpe p  q   membership can be shown by the following algorithm  which determines
whether p does not weakly partially entail q     guess a consistent literal set      check
whether  is a prime implicant of p      if yes  check whether  does not weakly partially
entail q  by proposition    and the above case for wpe   p   steps   and   require an n p
oracle  hence  this problem is in p    for hardness  we construct a reduction from  qbf  
let x and y be two disjoint sets of atoms and p a formula such that atom p    x  y  
let y    y    y         yk    formula t is  y        yk     y        yk    we prove that
xy p holds if and only if p does not weakly partially entail t   suppose that xy p
holds  then  there exists an assignment   over x such that      p   by proposition
  

fizhou   zhang

   there exists a prime implicant   of p such that        clearly  there is no prime
implicant   of t such that           on the other hand  suppose that p does not
weakly partially entail t   then  there exists a prime implicant   of p such that for all
prime implicants   of t            it follows that atom      x  then    can be
extended to an assignment   over x such that      p   hence  xy p holds 
for pe p  q   membership can be shown by the following algorithm  which determines
whether p does not partially entail q     guess a consistent literal set      check whether
 is a prime implicant of p      if yes  check whether  does not partially entail q  by
proposition    and the above case for pe   p   steps   and   require an n p oracle  hence 
this problem is in p    for hardness  we construct a reduction from    qbf   let x
and y be two disjoint sets of atoms and p a formula such that atom p    x  y   let
x    x    x         xk    x      x     x          x k   be k new atoms different with atom  formula k
is  x   x       x   x            xk  x k    we prove that xy p holds if and only if x  k
partially entails x  p   where x is a new atom  notice that all the prime implicants of k
have the form        where        is an assignment over x  x     and for all i      i  k  
xi   iff x i      xi   iff x i        now suppose that x  k partially entails x  p  
then  for all assignments   over x   x         partially entails x  p   therefore  there
exists an assignment   over y such that  x               x  p   it follows that
        p   this shows that xy p holds  on the other hand  suppose that xy p
holds  then  for all assignments   over x  there exists an assignment   over y   such
that         p   therefore  for all prime implicants  x         of x  k  there exists
an assignment   over y such that  x               x  p   moreover  there exists an
assignment      x         over  x   x  x     such that          x  p    hence 
x  k partially entails x  p  
finally for spe p  q   membership can be shown by the following algorithm  which determines whether p does not strongly partially entail q     guess a consistent literal set
     check whether  is a prime implicant of p      if yes  check whether  doesnt
strongly partially entails q  by proposition     step   requires an n p oracle  by the
above case for spe   p   step   requires a p  oracle  hence  this problem is in p   
for hardness  we construct a reduction from    qbf   let x  y and z be three disjoint sets of atoms and p a formula such that atom p    x  y  z  suppose that
x    x    x         xk    let x      x     x          x k   be k new atoms  let k be the formula
 x   x       x   x            xk  x k    suppose that z    z    z         zk    let t  be
z        zk and t  be z        zk respectively  let r be the formula x  y  k and q be
the formula  x  y  p  k    x  y  t   k    x  y  t   k  respectively  where x and
y are two new atoms  next  we will prove that xy zp holds if and only if r strongly
partially entails q  the proof is tedious  on the one hand  suppose that xy zp holds 
given a prime implicant of r of the form  x  y          where  is an assignment over
x and    is a corresponding assignment over x     then  there exists an assignment   over
y such that        p   therefore   x  y              x  y  p  k  it follows that
 x  y              q  by proposition    there exists a subset   of  x  y            
which is a prime implicant of q  we have that x      otherwise   y              q 
therefore  y              x  t    a contradiction  symmetrically  y      moreover 
for each atom l         we have that l    since      k  therefore  x  y            
this shows that for all prime implicants of r  there exists a prime implicant of q such that
  

fia logical study of partial entailment

the former is a subset of the latter  hence  r strongly partially entails q  on the other
hand  suppose that r strongly partially entails q  notice that for all assignments  over
x   x  y        is a prime implicant of r  therefore  there is a prime implicant of q
that contains  x  y          let it be  x  y             where atom      y  z 
therefore         p   we have that       t    otherwise   x              q  a
contradiction  symmetrically        t    this shows that atom      y   thus    can be
extended to an assignment   over y   we have that  x  y              q  therefore
 x  y              x  y  p  k  hence         p   this shows that for all assignments
 over x  there exists an assignment   over y   such that        p   that is  xy zp
holds   
proposition    all the complexity results in tables   and   remain the same if the background theory is a set of literals 
proof  this assertion follows directly from the following fact 
suppose that p is a formula and  is a consistent set of literals  then  p i   p    
p i p    
on one hand  suppose that    p i   p    then  according to the definition      is
consistent and        p   we have that atom      atom       otherwise  suppose
that l  atom      atom    then      l     p   also       l  is consistent  this
shows that   is not a prime implicant of p w r t    a contradiction  moreover        p  
it follows that      p    in addition  there does not exist      such that      p   
otherwise         p and     is consistent  this shows that   is not a prime implicant
of p w r t    a contradiction  hence    is a prime implicant of p    on the other hand 
suppose that   is a prime implicant of p    then  atom      atom   is empty since
atom p     atom   is empty  in addition         p since      p    thus     
is consistent  moreover  there does not exist      such that        p   otherwise 
     p    this shows that   is not a prime implicant of p    a contradiction  hence   
is a prime implicant of p w r t     
proposition    the computational complexities in relation to partial entailment in general
case are summarized in table   
proof  the dp completeness for pric   p    follows directly from proposition   and the
dp completeness for pric p     this can also be proved in a similar way to the techniques
introduced by marquis        for proving the dp completeness for the corresponding decision problem of prime implicate  see marquis        proposition       
for lepr   p  l   the membership is easy by guessing a literal set  and checking if l  
and   p i   p    for hardness  it can be shown that xy p iff x is in one of the elements
in p i   f    where      x  p   y       yk      f   x  p   y       yk    x 
 y       yk    where x is a new atom  the proof is tedious  we only outline the basic
ideas as follows 
x is in one of the elements of p i   f  
  

fizhou   zhang

iff
v
v
v
   x                  f and                f  
iff
v
v
v
         x             x        f and          f    notice that     x 
is not necessarily the same as  mentioned above  
iff
v
v
v
               x           x  f  x and           x  f  x 
iff
           p   y       yk         p and       y       yk  
iff
xy p holds  in fact  the hardness result also follows from the p  completeness of checking
relevance in abductive reasoning  see eiter   gottlob        thm        
for lapr   p  l   the membership can be shown by the following algorithm  which determines whether l is not in all prime implicants of p w r t       guess a literal set  
   check if  is a prime implicant of p w r t       if yes  check if l is not in   according to the above result for prime implicant checking  this problem is in p    thus 
the original problem is in p    for harness  we can prove it in a similar way to the
above proof for the p  hardness of lepr   p  l   indeed  one can prove that xy p
iff x is in one of the elements of p i   f    where      x  z  p   y       yk     
f   x  z  p   y       yk    x  z   y       yk    where x and z are two new
atoms  moreover  x is in one of the elements of p i   f   iff x is not in all of the elements
in p i   f   since every element in p i   f   contains either x or x  this shows that determining whether a literal is not in all prime implicants of a formula w r t  a formula set
is p  hard  it follows that lapr   p  l  is p  hard 
for wpe   p  q   the p  hardness follows directly from proposition     the p  hardness
can be implied from the hardness proof of the p  hardness of lepr   p  l  by noticing that
the only prime implicant of x w r t   is  x  itself  for the membership  let us first consider
the following algorithm  which determines whether p does not weakly partially entail q
w r t       compute all the literals which occur at least in one of the prime implicants of q
w r t       check whether there is a prime implicant of p w r t    which does not contain
any of the literals computed in step    according to above result for the p  hardness of
lepr   p  l   step   requires linear calls to a p  oracle  in addition  step   requires only
one recall to a p  oracle based on the results obtained in step    to do this  we just need
to guess a consistent literal set  and to check if it is a prime implicant of p w r t   and
contains no literals computed from step    this algorithm can be converted to a p   tree  in
which the root is corresponding to the p  call for step    and its children are corresponding
to the linear p  calls in step   for computing those literals  thus  according the p   tree
techniques introduced by gottlob         wpe   p  q  is in p   o log n   
for pe   p  q   both the p  hardness and the p  hardness can be shown in a similar
way to the corresponding tasks for weak partial entailment  for membership  the following
algorithm determines whether there exists a prime implicant    of q w r t    such that
        or              guess such a literal set         check if    is a prime implicant
of q w r t       check if  and    satisfy the conditions  according to the above result for
prime implicant checking  step   requires calls to an np oracle  thus  the above decision
problem is in p    based on this result  the following algorithm determines whether p does
  

fia logical study of partial entailment

not partially entail q w r t       guess a literal set      check if  is a prime implicant of
p w r t       check if there exists a prime implicant    of q w r t   such that        
or           it is easy to see that this problem is in p    thus  the original problem is
in p   
finally  for spe   p  q   hardness follows directly from proposition     while membership
can be shown in a similar way to the membership of the same task for partial entailment 
 

references
boutilier  c          toward a logic for qualitative decision theory  in proceedings of kr   
pp       
do  m  b   benton  j   van den briel  m     kambhampati  s          planning with goal
utility dependencies   in proceedings of ijcai    pp           
eiter  t     gottlob  g          the complexity of logic based abduction  journal of the
acm              
eiter  t     makino  k          on computing all abductive explanations from a propositional horn theory  journal of the acm         
gottlob  g          np trees and carnaps modal logic  journal of the acm         
       
haddawy  p     hanks  s          representations for decision theoretic planning  utility
functions for deadline goals  in proceedings of kr    pp       
kappeli  c     scheder  d          partial satisfaction of k satisfiable formulas  electronic
notes in discrete mathematics             
lakemeyer  g          a logical account of relevance   in proceedings of ijcai    pp 
       
lakemeyer  g          relevance from an epistemic perspective  artificial intelligence 
                 
lang  j   liberatore  p     marquis  p          conditional independence in propositional
logic  artificial intelligence                   
lang  j   liberatore  p     marquis  p          propositional independence  formulavariable independence and forgetting  journal of artificial intelligence research     
       
levesque  h  j          a completeness result for reasoning with incomplete first order
knowledge bases  in proceedings of kr    pp       
liberatore  p          raising a hardness result  corr  abs           
lieberherr  k  j     specker  e          complexity of partial satisfaction  journal of the
acm                 
marquis  p          novelty revisited  in proceedings of ismis    pp         
  

fizhou   zhang

marquis  p          consequence finding algorithms  in kohlas  j     moral  s   eds   
handbook of defeasible reasoning and uncertainty management systems  volume   
algorithms for uncertainty and defeasible reasoning  pp         kluwer  dordrecht 
papadimitriou  c  h          computational complexity  addison wesley 
quine  w          the problem of simplifying truth functions  american mathematical
monthly                 
selman  b     levesque  h  j          abductive and default reasoning  a computational
core  in aaai  pp         
smith  d  e          choosing objectives in over subscription planning   in proceedings of
icaps    pp         
zhou  y     chen  x          partial implication semantics for desirable propositions   in
proceedings of kr    pp         
zhou  y     chen  x          toward formalizing usefulness in propositional language   in
proceedings of ksem    lnai       pp         
zhou  y   van der torre  l     zhang  y          partial goal satisfaction and goal change 
weak and strong partial implication  logical properties  complexity  in proceedings of
aamas    pp         

  

fi