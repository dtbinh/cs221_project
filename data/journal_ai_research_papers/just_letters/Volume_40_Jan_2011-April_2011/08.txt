journal of artificial intelligence research                  

submitted        published      

identifying aspects for web search queries
fei wu
jayant madhavan
alon halevy

wufei google com
jayant google com
halevy google com

google inc       amphitheatre pkwy 
mountain view  ca       usa

abstract
many web search queries serve as the beginning of an exploration of an unknown space
of information  rather than looking for a specic web page  to answer such queries eectively  the search engine should attempt to organize the space of relevant information in a
way that facilitates exploration 
we describe the aspector system that computes aspects for a given query  each
aspect is a set of search queries that together represent a distinct information need relevant
to the original search query  to serve as an eective means to explore the space  aspector
computes aspects that are orthogonal to each other and to have high combined coverage 
aspector combines two sources of information to compute aspects  we discover
candidate aspects by analyzing query logs  and cluster them to eliminate redundancies 
we then use a mass collaboration knowledge base  e g   wikipedia  to compute candidate
aspects for queries that occur less frequently and to group together aspects that are likely
to be semantically related  we present a user study that indicates that the aspects
we compute are rated favorably against three competing alternatives  related searches
proposed by google  cluster labels assigned by the clusty search engine  and navigational
searches proposed by bing 

   introduction
web search engines today predominantly answer queries with a simple ranked list of results 
while this method has been successful  it relies on the assumption that the users information need can be satised with a single page on the web  however  several studies  broder 
      rose   levinson        have alluded to the fact that many user queries are merely
the beginning of an exploration of an unknown space of information  such queries are likely
to be better served if users were provided with a summary of the relevant information space
and the means for conveniently exploring it  to paraphrase  rather than nding the needle
in the haystack  some queries would benet from summarizing the haystack  rajaraman 
       several commercial attempts have recently been made to provide better answers to
such queries  including systmes like carrot   clusty  kosmix  and yahoo glue 
this paper describes the aspector system that addresses the following problem  given
an exploratory search query q  compute a set of aspects that enables convenient exploration
of all the web content that is relevant to q  we dene each aspect as a set of search
queries that together represent a distinct information need relevant to the original search
query  similar to wangs denition of latent query aspect  wang  chakrabarti    punera 
       for example  consider the queries in table   and their potential aspects  each
aspect covers a dierent kind of information and together they span a large amount of the
c
    
ai access foundation  all rights reserved 

fiwu  madhavan    halevy

vietnam travel
travel guides
packages   agencies
visa
blogs   forums
travel advisories
weather
cities  hanoi   saigon      

kobe bryant
statistics
pictures   photos
videos   youtube
shoes
injury reports
girlfriend
trade rumors

table    potential aspects for the queries vietnam travel and kobe bryant 

relevant information that search engine users might be interested in  two simple ways a
search engine can utilize aspects is to oer them as related searches or to categorize search
results by the aspects they are most relevant to  aspects can also form the basis for various
mashup like interfaces  e g   the aspect pictures can trigger the inclusion of images  while
weather can trigger a weather report gadget  computing aspects for queries can be seen as a
rst step towards mining a knowledge base  called the database of user intentions  battelle 
       this knowledge base is a timely and culture sensitive expression of peoples interests 
inferring such a knowledge base for entities can serve as a basis for an eective presentation
of information  and can therefore have signicant ramications on search  advertising and
information dissemination 
aspector computes aspects for a query q using a search engine query log  augmented
with information from a knowledge base created by mass collaboration  wikipedia   given
a query q  related queries are extracted from the query log as candidate aspects  while the
logs are an excellent mirror of users interests  they can also result in noisy and redundant
aspects  e g   top related queries for vietnam travel include vietnam visa and vietnam travel
visa  furthermore  query logs are of limited utility for generating aspects for less popular
queries  e g   there are much fewer related queries for laos travel than vietnam travel  we
describe the following algorithmic innovations that address these challenges  first  we show
how redundant candidate aspects can be removed using search results  second  we apply
class based label propagation in a bipartite graph to compute high quality aspects even for
a long tail of less popular queries  finally  we show that knowledge bases can be used to
group candidate aspects into categories that represent a single information need  we believe
that our solution demonstrates an interesting interplay between query logs and knowledge
bases that has not as yet been investigated in the research literature 
we describe a detailed experimental evaluation of aspector  we compare the aspects
generated by aspector against three possible competing approaches  related searches
proposed by google com  cluster labels proposed by clusty com  and navigational searches
proposed by bing com  related searches and navigational searches are typically also generated by the analysis of query logs  cluster labels are generated by grouping the search
results of the original query and extracting labels from the documents within each cluster 
we show that our aspects are more diverse than all other three systems  we also show that
our aspects span a larger space of information  not only do they expose more results than
the original query  but the additional results are considered highly relevant by users  our
   

fiidentifying aspects for web search queries

user study nds that the results of aspector are preferred over related searches  cluster
labels and navigational searches as a means for further exploration 
section   denes the problem of computing aspects  section   considers potential alternative approaches  section   describes the generation of candidate aspects  and section  
describes how aspector selects aspects from the candidates  section   describes our experimental evaluation and section   describes related work  section   concludes 

   problem definition
we begin by dening the scope of the problem we address 
queries  we assume that queries are a sequence of keywords  as is typical for searchengine interfaces  our techniques are not meant to apply to arbitrary queries  we focus on
exploratory queries  and specically  we assume that they either are entity names  e g   the
country vietnam  or have an entity and a property name  e g   vietnam travel   thus  we
are interested in computing aspects for entities in general or in the context of a particular
property 
in this paper we do not handle the problem of segmenting entity and property names in
queries  previous work  such as bergsma   wang        tan   peng        have addressed
the problem   the question of identifying exploratory queries in a query stream is also
beyond the scope of this paper 
aspects  an aspect of a query q is meant to describe a particular sense of q corresponding to an information need  specically  each aspect is represented by a collection of
search queries related to q  given q  we compute a set of aspects a            an   along with
scores p ai  q  that can then be used to rank them 
since aspects are collections of search queries  we compare aspects based on the search
results retrieved by the queries that constitute them  aspects are meant to capture diverse
dimensions along which we can organize the exploration of the entire space of information
relevant to query  hence  the set of aspects computed for each query should have the
following properties 
orthogonality  given two aspects  a  and a    the search results for a  and a  should
be very dierent from each other 
coverage  the search results provided for the aspects should oer a good overview of
the relevant space of information 
thus  two sets of aspects computed for the same query can be compared based on the
pairwise orthogonality of their constituent aspects and the combined coverage of all their
aspects  the evaluation of aspects is inherently subjective  as is typical in the area of web
search  hence  we present user studies where the aspects computed by dierent approaches
are qualitatively rated by a large number of independent users  we note that while we
compare dierent approaches to computing aspects  we do not focus on the dierent ways
they can be presented to users 

   alternative approaches
before we describe how aspector generates aspects  we briey mention two strawman
approaches to the problem and explain why they are insucient for our needs 
   

fiwu  madhavan    halevy

class

nba player

university

wikipedia
birth date
position
birth place
college
nationality height ft 
draft year
draft
career start height in 
name
city
established
website
country
type
campus
state
undergrad
motto

query log
injury
pictures
nba
wallpaper
bio
salary
shoes
girlfriend
stats
biography
library basketball
football
athletics
alumni admissions
tuition
baseball
jobs
bookstore

table    two classes that have attributes in wikipedia that are very dierent from classlevel aspects computed from the query log 

    community created knowledge bases
knowledge bases  especially those created by a large community of contributors  are a
rich source of information about popular entities  they cover a wide spectrum of user
interests and can potentially be used to organize information relevant to search queries 
in particular  the properties in infoboxes of wikipedia articles can potentially be used as
candidate aspects  wikipedia contains more than       classes with over   million entities
and each class on average has about    attributes  the wikipedia column in table   shows
the attributes for two example classes  freebase is another community created kb with
over       classes 
binary relationships recorded in a knowledge base fall signicantly short of providing
a good set of aspects for a query  for example  consider the properties associated with
cambodia in the wikipedia infobox  capital  flag  population  gdp  etc  none of these
words appear in the top    frequent queries that contain the word cambodia  in addition  a
knowledge base is limited to describing well dened entities  for example  cambodia is an
entity in a knowledge base  but cambodia travel is not  however  queries on the web cover
much more than well dened entities 
the underlying reason that knowledge bases fall short is that their constructors choose
attributes based on traditional design principles  but good aspects do not follow from these
principles  for example  it turns out that cambodia travel is a good aspect for vietnam travel 
because many people consider a side trip to cambodia when visiting vietnam  however 
when designing a knowledge base  cambodia would never be an attribute of vietnam 
instead  the knowledge base would assert that vietnam and cambodia are neighbors  and
include a rule that states that if x is next to y  and then x travel may be an aspect of y
travel  unfortunately  coming up with such rules and specifying their precise preconditions
is a formidable task and highly dependent on the instances it applies to  for example 
pakistan travel is not an aspect of india travel  even though the two countries are neighbors 
   

fiidentifying aspects for web search queries

    web documents
another approach to nding aspects is to cluster the documents on the web that are relevant
to a query q  and assign or extract labels for each cluster  blei  ng    jordan        zeng 
he  chen  ma    ma         as we show in our experiments  the main disadvantage is
that the coverage of the resulting aspects may be low because this approach only considers
documents that were returned in response to the original query  in practice  users conduct
data exploration in sessions of queries  and the other queries in those sessions can also lead
to interesting aspects which might not be found among the results of the original query 
furthermore  it can be very challenging to generate succinct names for aspects from each
cluster 

   generating candidate aspects
aspector generates candidate aspects from query logs  query logs are very reective of a
broad range of user interests  but they are less eective in generating aspects for infrequent
queries  we rst describe how we generate instance level aspects  and then how we augment
them with class based aspect propagation using a knowledge base 
    instance level candidate aspects
given query q  we start by considering each of its query renements and super strings as a
candidate aspect 
      query refinements
a query qj is a renement of q  if a user poses qj after q while performing a single search
task  query logs can be mined to identify popular renements for individual queries  search
engines typically use popular renements as a basis for proposing related searches 
we process renements as follows  rst  the query log is segmented into sessions representing sequences of queries issued by a user for a single search task  suppose fs  q  qj   is
the number of sessions in which the query qj occurs after q  we then estimate the renement
score pr for each qj by normalizing fs  q  qj   over all possible renements  i e  
fs  q  qj  
pr  qj  q    
i fs  q  qi  
observe that proposing related searches based on query renements is  in principle  only
optimized towards the goal of helping users nd a single page containing a specic answer
 rather than helping the user explore the space   for example  the top    renements for
the query on the nba player yao ming includes   other nba players such as kobe bryant
and michael jordan  though related  these renements are not necessarily the best aspects
for the query 
      query super strings
the query qj is a super string of q if it includes q as a sub string  for example  vietnam
travel package is a super string of vietnam travel  unlike a renement  a super string qj need
   

fiwu  madhavan    halevy

not belong to the same session as q  in fact  for a random selection of    popular queries 
we found that on average there is only an overlap of     between the top    renements
and the top    super strings  in a sense  super strings are explicitly related queries while
renements are more implicitly related 
super strings can be assigned scores similar to pr above  by mimicking each super string
as a pseudo renement  i e   we assume an imaginary session in which q preceded superstring qj   suppose f  qj   was the number of occurrences of qj in the query logs  we estimate
the super string score pss  qj  q  as below    
pss  qj  q   

f  qj  

f  q    i f  qi  

aspector considers all the renements and super strings of q as candidate aspects and
assigns them a single instance level aspect score  for each candidate aspect qj   we assign
the score pinst as follows 
pinst  qj  q    max pr  qj  q   pss  qj  q  
for given q  we normalize all pinst  qj  q s to add up to   
    class based aspect propagation
query log analysis is ineective in generating instance level candidate aspects for less frequent queries  for example  we generate good candidate aspects for vietnam travel  but
not for laos travel  however  we can recommend aspects that are common to travel to
many countries for laos  we use a variation of the label propagation algorithm named
adsorption  baluja  seth  sivakumar  jing  yagnik  kumar  ravichandran    aly        
we rst apply query segmentation to extract the entity e  laos in our example  and
the property p  travel  from the query q  next  we use a knowledge base  e g   wikipedia
infobox  to identify the class  or classes  c of e  e g   country and south east asian country
for laos   then we construct a directed bipartite graph g    v  e    as shown in figure   
the nodes on the left are instance level query nodes such as laos travel  and on the right
are class level nodes like country travel  e denotes the set of edges  and    e  r
denotes the nonnegative weight function  we set the weights of edges from instance nodes
to class nodes as    and the weights of edges from class nodes to instance nodes as k 
a design parameter controlling the relative importance of the two factors  our goal is to

compute p qj  q   which is the aspect distribution on node q 
following the work of baluja et al          each nodes aspect distribution is iteratively
updated as the linear combination of its neighbors  until we converge  this algorithm is
shown to be equivalent to performing a random walk in the graph   since we use wikipedia
infobox as our knowledge base  where each instance belongs to a single class  two iterations
are guaranteed to achieve convergence  the rst iteration computes the class level aspects
as follows 
  
pinst  qj  q 
pclass  qj  q   
 c  qc
   we use a conservative lower bound estimate  the corresponding upper bound pss  qj  q   
exceed   

   

f  qj  
f  q 

can

fiidentifying aspects for web search queries

instances

classes

vietnam travel
southeast asia travel
laos travel
country travel
canada travel

   

   

figure    the bipartite graph for class based aspect propagation 
the second iteration smoothes the aspect distribution on instance node q with pclass  qj  q 
as follows 
pinst  qj  q    k  pclass  qj  q 
   
  k
in section   we tested the eect of k on the performance of aspector  in our experiments we found that the following variation on computing class level aspects leads to
slightly better results 
p qj  q   

pclass  qj  q   

  
i pinst  qj  q       
 c  qc

where  i pinst  qj  q            when pinst  qj  q       and   otherwise 
table   shows examples of top class level aspects derived for two classes and compares
them with their corresponding top attributes in the wikipedia infobox  we can see that
the two sets of aspects have little overlap  which illustrates again that community created
schemata fall signicantly short of providing a good set of aspects for search queries 

   selecting aspects
this section describes how aspector prunes the set of candidate aspects  groups them 
and eventually ranks them in an ordered list from which a subset can be selected 
    eliminating duplicate aspects
it is often the case that the generated aspect list contains very similar candidates that may
be considered redundant  for example  top candidate aspects for the query vietnam travel
include vietnam travel package  vietnam travel packages and vietnam travel deal  each of which
represent either identical or very similar user intents  in particular  note that the set of
web documents returned for each of the aspects from any search engine are likely to be very
similar 
to remove redundant aspects  we compute a similarity matrix   sim ai   aj     between
every pair of candidate aspects and then cluster them based on their similarity 
      computing aspect similarity
since most aspects only contain few words  estimating similarity based on a simple comparison of words is unlikely to be accurate  therefore  we enrich the representation of each
   

fiwu  madhavan    halevy

aspect by considering the top m  search results returned when posing the aspect as a search
query  this is consistent with our goal of enabling orthogonal exploration  aspects with
similar top results are unlikely to be orthogonal 
let di be the top web pages retrieved for the aspect ai   we estimate the similarity of ai
and aj to be the similarity of the corresponding sets di and dj   to compute sim di   dj   
we rst compute the similarity dsim for any given pair of web pages  di  di   dj  dj   
for this we use the standard cosine distance between the tf idf word vectors for the two
documents  for computational eciency  we only consider the head and snippet for each
web page instead of their entire text contents   
while sim di   dj   can potentially be estimated by averaging similarities dsim di   dj   for
all pairs of web pages  on our experiment dataset  we found it better instead to compute the
average of the highest similarity for each web page  for each di  di   we assign the score 
sim di   dj     maxk dsim di   dk    likewise  we assign sim di   dj     maxk dsim dk   dj   
the nal aspect similarity is computed as 




sim ai   aj     sim di   dj    

i sim di   dj  

  di  

 

j

sim dj   di  
  dj  

we could alternatively treat each di as one single document by concatenating all  di 
di   and estimate sim qi   qj   to be the corresponding dsim di   dj    while computationally
more ecient  the quality of aspects was poorer 
      clustering aspects
in principle  we can apply any clustering algorithm  such as k means or spectral clustering 
to the resulting aspect similarity matrix  however  these algorithms often require pre setting
the number of desired clusters  which is dicult in our context  in addition  the number
of clusters also varies signicantly from one query to another  note that the appropriate
number of clusters is not necessarily the number of resulting aspects that we will show the
user 
we instead apply a graph partition algorithm for clustering  the algorithm proceeds by
creating a graph where the nodes are aspects  ai   and there is an edge connecting the nodes
ai and aj if sim ai   aj       where  is a pre dened threshold  each of the connected sub
graphs is treated as a cluster  we choose the label of the cluster to be the aspect ak with
the highest p ak  q  in the cluster  formula    
the only design parameter  is easier to set and pretty stable for dierent queries  as
shown in our experiments  we note that similar algorithms such as star clustering  aslam 
pelekov    rus        can also be used 
    grouping aspects by vertical category
in many cases  even after eliminating redundant aspects  we nd that we are left with
aspects that are seemingly dierent  but can be semantically grouped into a single category 
for example  for the query vietnam travel  some of the top non redundant candidate aspects
   we use m     in our experiments which performs well  larger m might achieve slightly better performance at the cost of heavier computation 
   we also tired using the whole document for each web page  which has only slightly better performance 

   

fiidentifying aspects for web search queries

as ho chi minh city  hanoi and da nang  while these are dierent cities  in principle they are
likely to represent a single information need  that of nding more information about cities
in vietnam  further  given a budget of a xed number of aspects that can be presented to
a user  it might not make sense to overwhelm them with a list of aspects all denoting cities
in vietnam  instead  a single aspect named cities can be presented 
here is where the community created knowledge bases can be leveraged  aspector
tries to identify sets of related aspects by consulting the wikipedia infobox system    if it
nds that multiple aspects contain dierent entities that belong to a class in wikipedia  it
creates an aggregate aspect  with the label of the class  and groups them together 
we encounter two challenges while looking up wikipedia for the classes of entities 
first  the same entity can appear as dierent synonymous tokens  for example  nyu is the
common acronym for new york university  currently we use the redirect pages on wikipedia
to infer synonyms  redirect pages in wikipedia point synonym terms to the same principal
article  as a result  the aspect nyu for the query yale university is grouped with harvard
university and oxford university    second  the same token can refer to multiple entities that
belong to dierent classes and it can lead to bad grouping decisions  for example  history
and food are the names of music albums in wikipedia  but history and food are also
aspects for the query vietnam  a simple lookup of the tokens in wikipedia might lead to
erroneously grouping them into a single album group  aspector uses the disambiguation
pages in wikipedia to identify tokens that are likely to have multiple senses  the infobox
class is only retrieved for entities that do not have disambiguation pages  this conservative
method can be further improved via collaborative classication  meesookho  narayanan   
raghavendra         for example  earth  moon and venus are all aspects for mars  since all
of them are ambiguous based on wikipedia  our current aspector would treat them as
individual aspects  however  it is possible to group them together as a single planet aspect 
given all three candidates have planet as one possible type 
    selecting aspects
the nal step in aspector is selecting the aspects  we note that absolute ranking of
aspects is not so important in our context  because we expect that search results from
aspects will be spread out on the screen rather than being presented as a single list  however 
we still need to select the top k aspects to present  our selection of top k aspects is based
on our original goals of increasing coverage and guaranteeing orthogonality 
aspector uses the score of an aspect  p ai  q   as a measure of coverage  to achieve
a balance between coverage and orthogonality  aspector uses a greedy algorithm that
selects aspects in the ratio of their score p ai  q  and the similarity of the aspects to already
selected aspects  the algorithm below produces a ranked list of aspects  g 

   other ontologies like freebase and yago can also be used 
   this trick is used when constructing the bipartite graph in section     as well 

   

fiwu  madhavan    halevy

input  set s    ai  
output  set g

   label aspects of clusters after de duplication 
   ranked list of aspects 

initialization  g    
a    argmaxai s p ai  q  
move a  from s to g 
while  s     do
for ai  s do
set sim ai   g    maxaj g sim ai   aj   
p ai  q 
 
anext   argmaxai s sim a
i  g 
move anext from s to g 
algorithm    aspector selects top k aspects by balancing coverage and orthogonality 
observe we set the similarity sim ai   g  to be the maximum similarity of ai to the
aspects already in g  on termination  aspector returns the top n aspects in ranked order
 in our experiments we used n       our experiments indicate that balancing coverage and
orthoganality leads to better selection of aspects than simply using coverage 

   experiments
in this section we evaluate our system aspector and in particular  answer the following
questions 
quality of aspects  we compare the results of aspector against three potential
competing systems  related searches proposed by google  henceforth grs   cluster labels
assigned by the clusty search engine  ccl   and navigational searches proposed by bing
 bns   to better support exploration of dierent parts of the space of relevant information 
the aspects of a query have to be orthogonal to each other  aspects should also increase the
coverage  i e   reveal information that is not already available through the original query 
but is still very relevant to it  using a combination of search result analysis and a user
study  we show that our aspects are less similar to each other  and hence more orthogonal 
 section       that aspects are able to increase coverage  section       and that aspects are
overall rated more favorably than grs  ccl  and bns  section      
contributions of the dierent components  aspector generates instance level
aspects and performs class based aspect propagation  eliminates duplicates  and groups the
remaining ones using a knowledge base  we show that instance level and class level aspects
tend to be very dierent  and that the best results are obtained by judiciously combining
them  section       we also show that our clustering algorithm is able to stably eliminate
duplicate aspects crossing dierent domains  and the grouping of aspects has a positive
impact on the quality of aspects  section      
    experimental setting
to compute candidate aspects from query logs  we used three months worth of anonymized
search logs from google com  we used a snapshot of the english version              of the
wikipedia infobox to serve as our knowledge base  unless otherwise mentioned  we used
   

fiidentifying aspects for web search queries

k       for class based aspect propagation  equation     we now describe our test suite
and our user study 
test queries  we focus on queries that are entity names or have an entity name and
a property name  we construct a test suite that contains   sets of queries  ve with entity
names from the wikipedia classes country  nba player  company  mountain  and university 
and one with entity property queries of the form country travel  to construct a mix of
popular and rare queries  in each of the six sets we select   queries that occur frequently in
the query stream    that are relatively uncommon  and   are chosen randomly for the class
 as long as they appear in the query logs   thus  in total we have    test queries  for each
experiment we used a random subset of these test queries 
user study  as part of our experimental analysis  we performed user studies using the
amazon mechanical turk  amt  system  on amt  requesters  like us  post tasks and pay
for anonymous registered workers to respond to them  tasks are structured as a sequence
of questions that workers are expected to respond as per the instructions provided by the
requester  for example  to compare two algorithms that compute aspects  we can design
a sequence of tasks such that in each a query and two lists of aspects  computed by each
algorithm  are shown  the worker has to rate whether one list is better than the other
or they are very similar  amt ensures that each worker can only respond to a task once 
since  the workers in the user study are completely unknown to the requester  there is less
of chance of bias  amt has been shown to be an eective and ecient way to collect data
for various research purposes  snow  oconnor  jurafsky    ng        su  pavlov  chow   
baker         in our experiments  we used the default qualication requirement for workers
that requires each worker to have a hit approval rate     greater than or equal to    
    points of comparison
grs can be considered as a representative of current approaches that are based on mining
renements and super strings from query logs  it is likely that grs only performs an
instance level analysis and it does not attempt to identify distinct user information needs 
ccl clusters result pages and assigns human understandable labels to each cluster  most
notably  the clusters are determined purely from results of the original query  and there is
no attempt to enable exploration of results that were not retrieved by the query  further 
it is likely that cluster labels are extracted by an analysis of the contents of the result pages
 web documents   we note that while the clustering is hierarchical  for our experiments we
only considered the top level labels 
bns provides navigation searches  right above the related searches in the result pages 
to help users better explore the information space  bings goal is closest to ours in spirit 
but their technique only applies in a narrow set of domains  we note that bns sometimes
provides generic aspects  e g   videos  images   but we do not consider those 
we note that neither grs nor ccl were designed with the explicit goal of computing
aspects that help explore the information space relevant to a query  however  they can be
viewed as close alternatives in terms of the results they may produce  and therefore oer
two points of comparison 
table   shows the aspects  related searches  cluster labels  and navigational searches
obtained by the four systems on some example queries  in the rest of this section  we will
   

fiwu  madhavan    halevy

query

mount shasta

yale university

grs
volcano
national park
climbing
vortex
camping
hotels
attractions
lodging
harvard university
athletics
press
brown university
stanford university
columbia university
cornell university
duke university

ccl
photos
hotels
real estate
weed
wilderness  california
climbing
weather  forecast
ski
school
department
library
images
publications
admissions
laboratory
alumni

bns
image
weather
real estate
hotels
lodging
rentals
reference wikipedia
admissions
jobs
bookstore
alumni
library
reference wikipedia
images

aspector
resort
weather
high school
real estate
hiking
pictures  photos 
map
ski area
press
art gallery
athletics
harvard  oxford  stanford     
jobs
bookstore
admissions
tuition

table    sample output from grs  ccl  bns  and aspector 
rst show that aspects from aspector are on average more orthogonal  increase coverage 
and are rated better overall than grs  ccl and bns 
    orthogonality of aspects
to establish the orthogonality of aspects  we measure the inter aspect similarity  the less
similar the aspects are  the more orthogonal they are  we rst describe how we compute
inter aspect similarity  and then report its values over the query set for aspector  grs 
ccl  and bns 
in section    we used tf idf based word vectors to estimate aspect similarity  using
the same measure to establish orthogonality will bias the evaluation in favor of aspector 
hence  we use an alternate measure for aspect similarity that employs a topic model  blei
et al          briey  topic models are built by learning a probability distribution between
words in documents and the topics that might underlie a document  given a text fragment 
a topic model can be used to predict the probability distribution of the topics relevant to
the fragment  for example  the text on the company page for google inc   might result
in the topic distribution search engine        online business               we use a topic
model developed internally at google  henceforth tmg   given two text fragments t  and
t    we can compute their topic similarity tsim t    t    as the cosine distance between their
topic distribution vectors t  and t   
since aspects contain only a few words  we extend augmenting each aspect with its
corresponding top search results  as in section     given aspects a  and a    let d  and
d  be their respective top m web search results  we compare d  and d  using tmg to
estimate aspect similarity  specically  we compute the average inter document similarity 
sim a    a     

 
k 


di d   dj d 

   

tsim di   dj  

   

fiidentifying aspects for web search queries

normalized inter aspect similarity

aspect similarity comparison
    

    

    

 

aspector

bns

ccl

grs

figure    the results of aspector are more orthogonal than those of grs  ccl  and bns 

given a  a set of n aspects  we determine its inter aspect similarity  asim  as the average
pair wise aspect similarity 
asim a   


 
sim ai   aj  
n n     a  a a
i

j

in order to make sense of the magnitude of asim  we normalize it using the average intraaspect similarity isim a  obtained by comparing each aspect against itself 
isim a   

  
sim ai   ai  
 a  a a
i

note  sim ai   ai   is ususally not equal to   based on equation    the result is the normalized
inter aspect similarity nsim 
nsim a   

asim a 
isim a 

thus  if all the aspects in a are identical  nsim a       and if they are entirely orthogonal
nsim a      
for each query  we retrieved the same number of aspects  at most    from each system 
and figure   shows the average normalized inter aspect similarity for the results output by
each system 
as can be clearly seen  aspector has the least normalized inter aspect similarity and
hence the most orthogonal aspects  the improvement over bns       is most likely due to
the grouping of related aspects by vertical category  the improvement over grs       is
most likely due to inclusion of class based aspects and the grouping of related aspects by
vertical category  the improvement over ccl       is likely because their space of labels
is restricted to only the results returned by the original query 
   

fiwu  madhavan    halevy

urls from aspector covered by google com
top  all

top  popular

top  all

top  popular

   

d
e
r
e
vo
c    
ls
r
u
r    
o
ct
e
p
s
a
f    
o
n
o
tic
   
ra
f

 

 

   

   

   

   

   

  of top urls from google com

figure    fraction of top web pages retrieved by aspects that are also in the top     pages
retrieved by the original search query 

    increase in coverage
to validate the increase in coverage we are interested in answering two questions      do
the aspects enable users to reach more information than the original query      is the
additional information relevant to the user query 
      more information
to show that aspects can reach more information  we compare the web pages retrieved
using the aspects computed by aspector against those retrieved by the original search
query  given  a query q and its computed aspects a  let dn be the set of top n web pages
retrieved by google for the query q  let dki be the collection of top k web pages retrieved
by google for an aspect ai in a  and let dka be the union of all the dki s  we measure the
fractional overlap between dn and dka   i e  

 dka dn  
 dka    

figure   shows the average fractional overlap between dka and dn for k     and k    
against dierent values of n  x axis   the results are averaged over two sets of queries 
    all    queries  and     a subset of    popular queries  with    aspects being computed
for each query  as the results clearly indicate  even when considering the top     search
engine results  for k      only about     of the web pages in d a are retrieved  in other
words      web pages retrieved using the aspects are not even in the top      note that
 d a   is only      the overlap is an even lower     when considering k      this shows
that aspects are clearly able to retrieve more new information 
in order to isolate the potential eects due to rare queries for which search engines do
not typically propose related searches  we separately consider the subset of popular queries 
interestingly  here we nd that the overlaps are even smaller and hence aspects are able
to retrieve even more information  this is likely because there is potentially more diverse
information on the web about popular entities 
   

fiidentifying aspects for web search queries

domain
country
country travel
nba player
company
university
mountain
total

cumulative resp 
not cov  covered
y
n
y
n
      
      
     
     
      
      
      
      
      
      
      
      
        
        

not
y
  
  
  
  
  
  
   

url ratings
cov  covered
n
y
n
 
    
 
    
 
    
 
    
 
    
 
    
 
     

table    user responses indicating whether the pages retrieved by aspects are relevant to
the query 

      relevant information
to establish that the more information retrieved by aspects are in fact relevant to the users
information needs  we conducted an amt user study  for each query q  we considered the
top    aspects and for each aspect we consider the top retrieved web page  i e   d a   we
constructed a list of aspect based results la which contained   results  selected at random
from d a    such that   overlapped with d    and   that did not overlap with d      users
were asked to evaluate if each of the results were  a  relevant  or  b  irrelevant to the original
query q  in order to place the results in context  we also showed la alongside lg   the top
  regular search engine results  these were not to be rated  but only for context  
we considered all    test queries with responses from    users in each case  the detailed
results are shown in table    the columns y and n indicate whether the web pages were
deemed relevant or not  the covered and not covered columns separately consider the
web pages in la that were covered in d    and those that were not  the cumulative
responses columns aggregate the responses for all users  while the url ratings columns
aggregate the ratings of all users separately for each web page in la   as can be seen 
in total there were     web pages that were not covered  but were deemed relevant by a
majority of users 
the results indicate that overall  the vast majority of additional web pages retrieved
by aspects were deemed relevant by a majority of users  in addition  the ratio of relevant
to not relevant results is about the same for the covered and not covered web pages  this
indicates that not only is the additional information relevant  but it is likely to be as relevant
as the covered information 
note that our coverage results also establish that our aspects are likely to span much
more of an information space than alternate schemes that rely only on analyzing the results
of the original query  e g   the cluster labels in clusty 
    comprehensive performance comparison
we compare the overall performance of aspector to grs  ccl  and bns by conducting
a user study using amt  we separately compared aspector against each of the other
systems  in each case  we selected a random subset of around    queries from our original
   

fiwu  madhavan    halevy

set of    queries  we ltered the queries which dont return aspects from both systems 
for each query  two lists of  at most    aspects were generated  one using aspector and
the other using grs  ccl or bns  which were then presented to an amt rater with the
following instructions 
each query represents the start of a session to explore more information on some topic
 presumably related to the query   for each user query  we display two lists of other related
queries and or properties  we want you to compare the two lists for each query and identify
which of the two lists enables a better subsequent exploration of information 
the lists for each query were presented side by side  and the user could rate one to be better
than the other  or simply rate them to be about the same  the raters were not informed of
the source of each list and the side by side positioning of the lists was randomly selected 
we collected responses from    raters for each query 
tables      and   summarize the results of the user study  the cumulative responses
columns aggregate the responses for all raters for all queries  the f  e  and a columns
indicate ratings in favor of aspector  even ratings  and against aspector  and in favor
of grs or ccl  respectively  the query ratings columns aggregate the ratings of all the
raters for each query  with an f indicating that more raters rated aspector in favor of
the other systems  respectively e and a  
as can be seen in table    aspector clearly outperforms grs  the improvements
are most likely due to its increased orthogonality and the grouping of aspects by vertical
category  as is also clear in table    aspector also signicantly outperforms ccl  most
likely due to its increased coverage 
to ascertain the statistical signicance of the evaluation  for each comparison  we performed the standard paired t test  for each individual query  we considered the total number
of f responses against the a responses  for the comparison against grs  the mean perquery dierence  f a  was       i e   on average      out of the total    evaluators rated
aspector to be better  the dierence was statistically signicant with a two tailed pvalue less than         for the comparison with ccl  the mean dierence was      and
again signicant with a p value less than        
bns produces aspects for a small number of domains  to set the context for our comparison we measured the breadth of bns  we chose the top     wikipedia infobox classes 
and selected    entities    popular    less common  and   randomly  from each class as in
section      bns provided aspects for       of the entities  in particular  bns provided
aspects for       of the popular entities and      for those less common entities  bns
provided no aspects for entities of    of the classes  including scientist  magazine and
airport  the second limitation of bns is that it only provides aspects for entity queries 
hence  bns does not provide aspects for queries such as vietnam travel  seattle coee
or boston rentals  the third limitation of bns is that it provides only class level aspects  though the aspects may dier slightly from one instance to another  for example 
bns misses the aspect starbucks for seattle  turkey slap for turkey  and number
change for kobe bryant 
of our    queries  only    of them obtain aspects from bns  table   shows that
aspector and bns are rated comparably w r t  this limited set of queries  the advantages
of aspector come from the fact that it judiciously balances instance level and class level
aspects  it is interesting to point out that when raters are not familiar with a particular
   

fiidentifying aspects for web search queries

domain
country
country travel
nba player
company
university
mountain
total

cumulative
f
e
  
 
  
  
  
 
  
  
  
  
  
  
      

resp 
a
 
 
 
  
 
 
  

query ratings
f
e
a
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 

table    user responses comparing aspector against grs 
domain
country
country travel
nba player
company
university
mountain
total

cumulative
f
e
  
 
  
 
  
 
  
 
  
 
  
 
      

resp 
a
 
 
 
  
 
 
  

query ratings
f
e
a
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 

table    user responses comparing aspector against ccl 
instance  they tend to prefer the class level aspects  in our experiment  this observation
sometimes gives bns an advantage 
    instance level versus class level aspects
recall that aspector balances between class level and instance level aspects for a given
query  consider  for example  the class of nba players  there are      players identied
on wikipedia  we were able to identify   or more candidate instance level aspects for only
    of them         for             players  we were unable to infer any instance level
aspects  however there are    class level aspects that appear with at least   instances 
domain
country
nba player
company
university
mountain
total

cumulative
f
e
  
  
  
  
  
 
  
 
 
 
      

resp 
a
  
  
  
  
  
   

query ratings
f
e
a
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
  

table    user responses comparing aspector against bns  note this is the result after
ltering     testing queries when bns provides no aspects  in which case users
always rate aspector better 

   

fiwu  madhavan    halevy

domain
country
country travel
nba player
company
university
mountain
total

cumulative
f
e
  
  
  
  
  
  
  
  
  
 
  
  
  
  

resp 
a
  
  
  
  
  
  
   

query ratings
f
e
a
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  

table    user responses when comparing aspector with k     and k     

thus giving us a potentially larger pool of good candidate aspects  by balancing these two
sources of aspects  aspector is able to successfully compute reasonable aspects even for
less frequent queries 
we compared the extent to which class based aspect propagation contributes to the
quality of aspects generated  for this  we again performed an amt user study  we considered dierent values for the parameter k in formula                   and      each
indicating progressively higher contribution of class level aspects  aspect lists were generated for a subset of    queries    from each set  for each value of k  we compared two
aspect lists at a time  and performed three sets of experiments comparing     k     with
k      table         k       with k       table     and k     with k        table     
each experiment used the same set of    queries and users were asked to pick which of the
two sets of aspects they preferred for each query  same task description as in section    
responses were collected from    users in each case  note that to ensure signicant dierences in the aspect lists being compared  our experiments did not consider consecutive k
values  e g     and       in an earlier experiment where consecutive k values were used  we
found many queries have only a subtle dierence and hence large numbers of users rated the
lists to be comparable  the number of queries are fewer in table   and table     since the
remaining ones resulted in the same aspect lists for both k values  this is not surprising
since  larger k values result in the increased inuence of the same set of class based aspects 
we nd that the aspect lists for k     are rated signicantly better than for k    
 the mean per query dierence  f a  was      and signicant with a two sided p value less
than  e     the lists for k      were preferred to those with k        though by a
smaller  f a  of     with p value about         while the lists for k       and k     were
rated about the same  the mean  f a  was     and insignicant with p value about      
each of these seem to indicate clearly that class based aspects are helpful in improving user
experience 
however  we note that our results might marginally over state the importance of classbased aspects  this is because a users perception of aspects is dependent upon the users
interest and familiarity with the entity in question  if an entity  though popular  is not
too familiar to a participant in the study  they are likely to select the class based aspects 
on the other hand  we found that for universally well known entities  such as the company
microsoft  the lists with more instance based aspects were always preferred 
   

fiidentifying aspects for web search queries

domain
country
country travel
nba player
company
university
mountain
total

cumulative
f
e
  
  
  
  
  
  
  
  
  
  
  
  
   
   

resp 
a
  
  
  
  
  
  
   

query ratings
f
e
a
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  

table    user responses when comparing aspector with k       and k      
domain
country
country travel
nba player
company
university
mountain
total

cumulative
f
e
 
 
  
  
 
  
  
  
  
  
  
  
  
   

resp 
a
 
  
  
  
  
  
  

query ratings
f
e
a
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  

table     user responses when comparing aspector with k     and k       
    eliminating and grouping aspects
we now consider the impact of the content based clustering that is used to identify duplicate
aspects  and the vertical category based clustering that groups aspects belonging to the
same category 
      duplicate elimination
when computing candidate aspects from query logs  it is possible to nd multiple aspects
that have dierent names  but are semantically the same  such aspects have to be eliminated in order for the summary to cover more distinct axes  as explained in section     
aspector applies a graph partitioning algorithm that only has a single parameter  the
similarity threshold   we conjecture that this similarity threshold is more intuitive to set
and is stable across dierent domains 
to test our hypothesis  we randomly selected   queries each from   domains  for each
query  we took the top    aspects candidates and manually created a gold standard with
the correct aspect clustering results  we computed aspect lists for the queries with dierent
values for the threshold  and compared the results against the gold standard 
we use the f measure  f   to evaluate the clustering results  in particular  we view
clustering as a series of decisions  one for each of the n  n       pairs of aspects 
figure   plots the f values for dierent values of the threshold  for the ve test
domains  we found that in each case the best performance is between threshold values     
and      the results indicate that clustering performance with respect to  is pretty stable
across domains  hence  in all our experiments  we set a single value         
   

fiwu  madhavan    halevy

mountain

nba player

country

university

company

   
   

f measure

   
   
   
   
   
   
   
 
 

   

   

   

   

   

   

   

   

   

similarity threshold

figure    f measure of aspect clustering for dierent values of the similarity threshold  
in each domain  the best performance is around      

domain
company
university
mountain
total

cumulative
f
e
  
  
  
 
 
 
  
  

resp 
a
 
 
 
  

query ratings
f
e
a
 
 
 
 
 
 
 
 
 
 
 
 

table     user responses comparing aspector with vertical category grouping and without  f  e  and a are responses in favor  even  and against grouping 

      vertical category based grouping
in addition to duplicates  we observed that often multiple aspects might belong to the same
vertical category  rather than represent each as a separate aspect  we can summarize the
aspects by presenting them as a single group  note that grouping does not eliminate the
aspects  but simply lists all of them as a single aspect  for   out of the    queries in our
dataset  aspector was able to group aspects by vertical category 
as before  we deployed an amt user study for the   test queries and the results are
shown in table     with f indicating the number of responses in favor of vertical grouping
 with e and a dened accordingly   as can be seen  the aspect lists with grouping were
favored in comparison to the ones without grouping 
currently  aspector groups aspects of the same vertical category only if there is no
corresponding disambiguation pages in wikipedia  this conservative solution avoids potential errors when ambiguity exists  but also misses opportunities  for example  for the
query mount bachelor  mount hood and mount baker appear as separate aspects since there
are disambiguation pages for both entities  rening the grouping condition is a rich topic
for future work 
   

fiidentifying aspects for web search queries

   related work
we discuss work related to ours in the area of search result organization and of query log
mining 
    search result organization
several works have considered how to better organize search results  agrawal  gollapudi 
halverson  and ieong        classify queries and documents into categories and return search
results by considering both document relevance and diversity of results  in contrast  aspector computes more ne grained aspects instead of abstract categories for exploratory
queries which are not necessary to be ambiguous  some commercial systems like kosmix and yahoo glue categorize information based on type or format  e g  photo  video 
news and map  and retrieve top results for each category  though the dierent types often
approximate aspects  they do not represent a rich set of semantically dierent groups of
information and are not sensitive to instance specic aspects  the carrot  search engine
applies text clustering techniques over returned search pages and extracts keywords to summarize each cluster  similar works were done by bekkerman  zilberstein  and allan        
blei et al          crabtree  andreae  and gao         and wang  blei  and heckerman
        multi faceted search  yee  swearingen  li    hearst        organizes collections
based on a set of category hierarchies each of which corresponds to a dierent facet  however the category hierarchies requires heavy human eort for construction and maintenance 
the correlator system from yahoo  performs semantic tagging of documents to enable
mining of related entities for a query  these algorithms dont necessary discover clusters
which correspond to web users search interests  and it is dicult to generate informative
cluster labels from documents  our use of query logs complements such document based
approaches  but reects searchers intentions rather the intentions of the publishers 
wang and zhai        proposed to organize search results based on query logs  they
represent each query as a pseudo document enriched with clickthrough information and
pick the top k that are similar to the current query  and cluster them into aspects  then 
they classify each resulting page into corresponding aspect by similarity  in contrast  we
generate aspects based on the idea of query renements which dont require the aspect and
current query to have similar clickthrough  for example  the query vietnam travel visa is an
important aspect for vietnam travel  but wont have the same click through properties 
    query log mining
there have been several eorts to mine query logs for interesting artifacts  pasca and durme
       extract relevant attributes for classes of entities from query logs rather than from
web documents as done by bellare et al          the main goal of these works is to create
a knowledge base of entities  and hence their results are most appropriately compared with
wikipedia or freebase 
query renement and suggestion analyze query logs to predict the next most probable
query following the current query  cucerzan   white        jones  rey  madani    greiner 
      kraft   zien        velez  wiess  sheldon    giord         hence  their goal
is to help users nd a single result page rather than help navigating a body of relevant
   

fiwu  madhavan    halevy

information  bonchi  castillo  donato  and gionis        proposed to decompose a query
into a small set of queries whose union corresponds approximately to that of the original
query  however  as our experiments illustrated  the constraint that the union of the resulting
pages correspond approximately to that of the original query signicantly limits the available
body of information we expose to the user 
wang et al         mine a set of global latent query aspects  and dynamically select
top k aspects for a given query q to help better navigate the information space  while in
some ways this is similar to aspector  there are two key dierences  first  they discover
the set of global latent query aspect via maximizing a target function  where the aspect
set aims to apply to many classes of  important  queries  in contrast  aspector applies
class based label propagation to identify the aspects  therefore  the aspects tend to be
more ne grained and more query class  specic  second  when selecting the k aspects for
a query q  wang et al  apply another optimization function which tries to cover as many
original  frequent  query renements of q  this works ne for popular queries but not for
less popular queries which have few query renements  our experiments show that for most
classes  there is a long tail of such less popular queries 

   conclusions
we described the aspector system for computing aspects of web search queries  aspects
are intended to oer axes along which the space of information relevant to a query can be
organized  and therefore enable search engines to assist the user in exploring the space 
aspector generates candidate aspects from query logs and balances aspects that are
common to classes of entities vs  those that are specic to particular instances  aspector
also eliminates duplicate aspects and groups related aspects using a reference ontology  in
contrast with a purely knowledge based approach  aspectors results are much broader
and include aspects of interest to specic instances  in contrast with an approach based
solely on clustering the results of the query  aspector can include aspects that are not
represented directly in the querys answer 
we set the weights of all edges from instances to classes uniformly when computing
class based aspects  a future direction is to compute better informed weighting functions
based on available temporal  spatial and contextual constraints  another future work is to
allow multi class memberships based on other ontologies besides wikipedia infobox 
to incorporate aspects into a mainstream search engine we need to address two challenges  first  we need to reliably identify from the query stream which queries benet from
a summarization approach  some works  miwa   kando        white   roth        have
been conducted in this area  but much more needs to be investigated  second  as done in
kosmix  we need to dynamically generate eective visualizations for aspects 

references
agrawal  r   gollapudi  s   halverson  a     ieong  s          diversifying search results 
in wsdm 
aslam  j  a   pelekov  e     rus  d          the star clustering algorithm for static and
dynamic information organization  journal of graph algorithms and applicatins 
   

fiidentifying aspects for web search queries

baluja  s   seth  r   sivakumar  d   jing  y   yagnik  j   kumar  s   ravichandran  d    
aly  m          video suggestion and discovery for youtube  taking random walks
through the view graph  in www 
battelle  j          the search  how google and its rivals rewrote the rules of business
and transformed our culture  portfolio hardcover 
bekkerman  r   zilberstein  s     allan  j          web page clustering using heuristic
search in the web graph  in ijcai 
bellare  k   talukdar  p  p   kumaran  g   pereira  f   liberman  m   mccallum  a    
dredze  m          lightly supervised attribute extraction  in nips 
bergsma  s     wang  q  i          learning noun phrase query segmentation  in emnlpconll 
blei  d   ng  a     jordan  m          latent dirichlet allocation  journal of machine
learning research 
bonchi  f   castillo  c   donato  d     gionis  a          topical query decomposition  in
kdd 
broder  a          a taxonomy of web search  sigir forum         
crabtree  d   andreae  p     gao  x          query directed web page clustering  in wi 
cucerzan  s     white  r  w          query suggestion based on user landing pages  in
sigir 
jones  r   rey  b   madani  o     greiner  w          generating query substitutions  in
www 
kraft  r     zien  j          mining anchor text for query renement  in www 
meesookho  c   narayanan  s     raghavendra  c  s          collaborative classication
applications in sensor networks  in samsp workshop 
miwa  m     kando  n          methodology for capturing exploratory search processes 
in chi workshop 
pasca  m     durme  b  v          what you seek is what you get  extraction of class
attributes from query logs  in ijcai 
rajaraman  a         
searching for a needle or exploring the haystack  
http   anand typepad com datawocky          

in

rose  d  e     levinson  d          understanding user goals in web search  in www 
snow  r   oconnor  b   jurafsky  d     ng  a  y          cheap and fast   but is it good 
evaluating non expert annotations for natural language tasks  in emnlp 
su  q   pavlov  d   chow  j  h     baker  w  c          internet scale collection of humanreviewed data  in www 
tan  b     peng  f          unsupervised query segmentation using generative language
models and wikipedia  in www 
velez  b   wiess  r   sheldon  m     giord  d          fast and eective query renement 
in sigir 
   

fiwu  madhavan    halevy

wang  c   blei  d     heckerman  d          continuous time dynamic topic models  in
uai 
wang  x   chakrabarti  d     punera  k          mining broad latent query aspects from
search sessions  in kdd 
wang  x     zhai  c          learn from web search logs to organize search results  in
sigir 
white  r  w     roth  r  a          exploratory search  beyond the query response
paradigm  morgan and claypool publishers 
yee  k  p   swearingen  k   li  k     hearst  m          faceted metadata for image search
and browsing  in chi 
zeng  h  j   he  q  c   chen  z   ma  w  y     ma  j          learning to cluster web
search results  in sigir 

   

fi