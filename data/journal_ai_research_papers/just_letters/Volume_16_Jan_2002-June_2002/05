journal artificial intelligence research                  

submitted       published     

structured knowledge representation image retrieval
eugenio di sciascio
francesco m  donini
marina mongiello

disciascio poliba it
donini poliba it
mongiello poliba it

dipartimento di elettrotecnica ed elettronica  politecnico di bari
via david            bari italy

abstract
propose structured approach problem retrieval images content
present description logic devised semantic indexing retrieval
images containing complex objects 
approaches do  start low level features extracted image analysis
detect characterize regions image  however  contrast feature based approaches  provide syntax describe segmented regions basic objects complex
objects compositions basic ones  introduce companion extensional semantics defining reasoning services  retrieval  classification  subsumption 
services used exact approximate matching  using similarity measures 
using logical approach formal specification  implemented complete clientserver image retrieval system  allows user pose queries sketch queries
example  set experiments carried testbed images assess
retrieval capabilities system comparison expert users ranking  results
presented adopting well established measure quality borrowed textual information
retrieval 

   introduction
image retrieval problem selecting  repository images  images fulfilling maximum extent criterion specified end user  paper 
concentrate content based image retrieval  criteria express properties
appearance image itself  i e   pictorial characteristics 
research field till concentrated devising suitable techniques
extracting relevant cues aid image analysis algorithms  current systems result
effective specified properties so called low level characteristics  color
distribution  texture  example  systems ibms qbic  easily retrieve 
among others  stamps containing picture brown horse green field  asked
retrieve images stamps brown central area greenish background 
nevertheless  present systems fail treating correctly high level characteristics
image as  retrieve stamps galloping horse  first all  systems cannot
even allow user specify queries  lack language expressing highlevel features  usually  overcome help examples  retrieve images similar
one  however  examples quite ambiguous interpret  features
   see e g   http   wwwqbic almaden ibm com cgi bin stamps demo
c
    
ai access foundation morgan kaufmann publishers  rights reserved 

fidi sciascio  donini   mongiello

example appear retrieved images  ambiguity produces lot
false positives  one experience 
even relevant features pointed example  system cannot tell whether
pointed color distribution  interpretation all  galloping
brown horse produces color distribution similar running brown fox
galloping white horse  aspect  image retrieval faces problems object
recognition  central problem robotics artificial vision  effective
solution overcoming problem associate query significant keywords 
match keywords attached way images repository  ambiguities
image understanding transferred text understanding  brown portrait
crazy horse famous indian chief could considered relevant 
resorting human experts specify expected output retrieval algorithm can 
opinion  worsen ambiguities  since makes correctness approach
depend subjective perception image retrieval system do 
needed formal  high level specification image retrieval task  need motivates
research report here 
    contributions paper
approach problem image retrieval knowledge representation perspective 
particular  refer framework already successfully applied woods
schmolze        conceptual modeling semantic data models databases  calvanese 
lenzerini    nardi         consider image retrieval knowledge representation
problem  distinguish following aspects 
interface  user given simple visual language specify  by sketch example 
geometric composition basic shapes  call description  composite shape
description intuitively stands set images  all containing given shapes
relative positions   used either query  index relevant class
images  given meaningful name 
syntax semantics  system internal syntax represent users
queries descriptions  syntax given extensional semantics terms sets
retrievable images  contrast existing image retrieval systems  semantics
compositional  sense adding details sketch may restrict set
retrievable images  syntax semantics constitute semantic data model 
relative position  orientation size shape component given explicit notation geometric transformation  extensional semantics allows us define
hierarchy composite shape descriptions  based set containment interpretations descriptions  coherently  recognition shape description image
defined interpretation satisfying description 
algorithms complexity  based semantics  prove subsumption
descriptions carried terms recognition  devise exact
approximate algorithms composite shapes recognition image  correct
respect semantics  ideally  computational complexity problem retrieval
known  algorithms optimal reference computational
complexity problems  presently  solved problem exact retrieval 
   

fistructured knowledge representation image retrieval

propose algorithm approximate retrieval which  although probably non optimal 
correct 
experiments  study complexity problem ongoing  syntax 
semantics  sub optimal algorithms obtained far already sufficient provide
formal specification prototype system experimental verification approach 
prototype used carry set experiments test database images 
allowed us verify effectiveness proposed approach comparison
expert users ranking 
believe knowledge representation approach brings several benefits research
image retrieval  first all  separates problem finding intuitive semantics
query languages image retrieval problem implementing correct algorithm
given semantics  secondly  problem image retrieval semantically formalized  results techniques computational geometry exploited assessing
computational complexity formalized retrieval problem  devising efficient
algorithms  mostly approximate image retrieval problem  much
spirit finite model theory used study complexity query answering relational databases  chandra   harel         third  language borrows
object modeling computer graphics hierarchical organization classes images
 foley  van dam  feiner    hughes         this  addition interpretation composite shapes one immediately visualize  opens logical approach retrieval
images  d objects constructed geometric language  paquet   rioux        
still explored  fourth  logical formalization  although simple  allows extensions
natural logic  disjunction  or  components  although alternative
components complex shape difficult shown sketch  could used
specify moving  i e   non rigid  parts composite shape  exemplifies
logical approach shed light extensions syntax suitable for  e g   video sequence
retrieval 
    outline paper
rest paper organized follows  next section  review related work
image retrieval  section   describe formal language  first syntax 
semantics  start proving basic properties  following section  analyze
reasoning problems semantic relations among them  devise algorithms
solve them  section   illustrate architecture system
propose examples pointing distinguishing aspects approach  section  
present set experiments assess retrieval capabilities system  last section
draws conclusions proposes directions future work 

   related work
content based image retrieval  cbir  recently become widely investigated research
area  several systems approaches proposed  briefly report
significant examples categorize three main research directions 
   

fidi sciascio  donini   mongiello

    feature based approaches
largest part research cbir focused low level features color  texture 
shape  extracted using image processing algorithms used characterize
image feature space subsequent indexing similarity retrieval 
way problem retrieving images homogeneous content substituted
problem retrieving images visually close target one  hirata   kato        niblak
et al         picard   kabir        jacobs  finkelstein    salesin        flickner et al  
      bach  fuller  gupta  hampapur  horowitz  humphrey  jain    shu        celentano
  di sciascio        cox  miller  minka    papathomas        gevers   smeulders        
among various projects  particularly interesting qbic system  niblak et al  
      flickner et al          often cited ancestor cbir systems 
allows queries performed shape  texture  color  example sketch using
target media images shots within videos  system currently embedded
tool commercial product  ultimedia manager  later versions introduced
automated foreground background segmentation scheme  indexing image
made principal shape  aid heuristics  evident limitation 
images main shape  objects often composed various parts 
researchers  rather concentrating main shape  typically assumed located central part picture  proposed index regions images 
focus retrieval similar images  similar regions within
image  examples idea visualseek  smith   chang         netra  ma
  manjunath        blobworld  carson  thomas  belongie  hellerstein    malik 
       problem although systems index regions  lack higher
level description images  hence  able describe hence query
single region time image 
order improve retrieval performances  much attention paid recent
years relevance feedback  relevance feedback mechanism  widely used textual
information systems  allows improving retrieval effectiveness incorporating
user query retrieval loop  depending initial query system retrieves set
documents user mark either relevant irrelevant  system  based
user preferences  refines initial query retrieving new set documents
closer users information need 
issue particularly relevant feature based approaches  one hand  user
lacks language express powerful way information need 
hand  deciding whether image relevant takes glance  examples systems
using relevance feedback include mars  rui  huang    mehrotra         drawsearch
 di sciascio   mongiello        pichunter  cox et al         
    approaches based spatial constraints
type approach problem image retrieval concentrates finding similarity images terms spatial relations among objects them  usually emphasis
relative positions objects  considered symbolic images icons 
identified single point  d space  information content visual appearance images normally neglected 
   

fistructured knowledge representation image retrieval

chang  shi  yan        present modeling type images terms
 d strings  strings accounting position icons along one two
planar dimensions  approach retrieval images basically reverts simpler string
matching 
gudivada raghavan        consider objects symbolic image associated
vertexes weighted graph  edges i e   lines connecting centroids pair
objects represent spatial relationships among objects associated
weight depending slope  symbolic image represented edge list  given
edge lists query database image  similarity function computes degree
closeness two lists measure matching two spatial graphs 
similarity measure depends number edges comparison
orientation slope edges two spatial graphs  algorithm robust
respect scale translation variants sense assigns highest similarity
image scale translation variant query image  extended algorithm
includes rotational variants original images 
recent papers topic include gudivada        el kwae
kabuka         basically propose extensions strings approach efficient
retrieval subsets icons  gudivada        defines r strings  logical representation
image  representation provides geometry based approach iconic indexing
based spatial relationships iconic objects image individuated
centroid coordinates  translation  rotation scale variant images variants generated arbitrary composition three geometric transformations considered 
approach deal object shapes  basic image features 
considers sequence names objects  concatenation objects
based euclidean distance domain objects image starting reference
point  similarity database query image obtained spatial
similarity algorithm measures degree similarity query database
image comparing similarity r strings  algorithm recognizes rotation  scale translation variants image subimages  subsets
domain objects  constraint limiting practical use approach assumption
image contain one instance icon object 
el kwae kabuka        propose extension spatial graph approach 
includes topological directional constraints  topological extension
objects obviously useful determining differences images
might considered similar directional algorithm considers locations
objects term centroids  similarity algorithm propose extends
graph matching one previously described gudivada raghavan         similarity
two images based three factors  number common objects  directional
topological spatial constraint objects  similarity measure includes
number objects  number common objects function determines
topological difference corresponding objects pairs query database
image  algorithm retains properties original approach  including invariance
scaling  rotation translation able recognize multiple rotation variants 
   

fidi sciascio  donini   mongiello

    logic based structured approaches
reference previous work vision artificial intelligence  use structural
descriptions objects recognition images dated back minskys
frames  work brooks         idea associate parts object  and
generally scene  regions image segmented into  hierarchical
organization knowledge used recognition object first proposed
marr         reiter mackworth        proposed formalism reason maps
sketched diagrams  approach  possible relative positions lines fixed
highly qualitative  touching  intersecting  
structured descriptions three dimensional images already present languages
virtual reality vrml  hartman   wernecke        hierarchical object modeling  however  semantics languages operational  effort made
automatically classify objects respect structure appearance 
meghini  sebastiani  straccia        proposed formalism integrating description
logics image text retrieval  haarslev  lutz  moeller        integrate
description logics spatial reasoning  extensions approach described
moeller  neumann  wessel         proposals build clean integration
description logics concrete domains baader hanschke         however  neither
formalisms used build complex shapes nesting simple shapes 
moreover  proposal haarslev et al         based logic spatial relations
named rcc   enough specifying meaningful relations map 
qualitative specify relative sizes positions regions complex shape 
hacid rigotti        description logics concrete domains
basis logical framework image databases aimed reasoning query containment 
unfortunately  proposed formalism cannot consider geometric transformations neither
determine specific arrangements shapes 
similar approach proposal ardizzone  chella  gaglio        
parts complex shape described description logic  however  composition shapes consider positions  hence reasoning cannot take positions
account 
relative position parts complex shape expressed constraint relational
calculus work bertino catania         however  reasoning queries
 containment emptiness  considered approach  aiello        proposes
multi modal logic  provides formalism expressing topological properties
defining distance measure among patterns 
spatial relation parts medical tomographic images considered tagare 
vos  jaffe  duncan         there  medical images formed intersection
image plane object  image plane changes  different parts object
considered  besides  metric arrangements formulated expressing arrangements
terms voronoi diagram parts  approach limited medical image
databases provide geometrical constraints 
compositions parts image considered work sanfeliu fu
       character recognition  however  recognizing characters  line compositions
closed  sense one looks specified lines  more  instead
   

fistructured knowledge representation image retrieval

framework  shape f composed three lines  subsumed shape something unacceptable recognizing characters  apart different task  approach
make use extensional semantics composite shapes  hence reasoning
possible 
logic based multimedia retrieval system proposed fuhr  govert  rolleke
        method  based object oriented logic  supports aggregated objects
oriented towards high level semantic indexing  neglects low level features
characterize images parts them 
field computation theories recognition  mention two approaches
resemblance own  biedermans structural decomposition geometric constraints proposed ullman  described edelmann         unfortunately  neither
appears suitable realistic image retrieval  structural decomposition approach
consider geometric constraints shapes  approach based geometric constraints consider possibility defining structural decomposition
shapes  hence reasoning them 
starting reasonable assumption recognition object scene
eased previous knowledge context  work pirri finzi        
recognition task  interpretation image  takes advantage information
cognitive agent environment  representation data
high level formalism 

   syntax semantics
section present formalism dealing definition composite shape descriptions  semantics  properties distinguish approach previous
ones 
remark formalism deals image features  shape  color  texture 
independent way features extracted actual images  interested
reader  algorithms used compute image features implementation
formalism presented appendix 
    syntax
main syntactic objects basic shapes  position shapes  composite shape descriptions  transformations  take account features typically
determine visual appearance image  namely color texture 
basic shapes denoted letter b  edge contour e b  characterizing
them  assume e b  described single  closed  d curve space whose origin
coincides centroid b  examples basic shapes circle  rectangle 
contours e circle      e rectangle   
  complete  rough contour
e g   one ship basic shape  make language compositional 
consider external contour region  example  region contained
another    contour outer region external rectangle 
possible transformations simple ones present drawing tool 
rotation  around centroid shape   scaling translation  globally denote
   

fidi sciascio  donini   mongiello

figure    graphical interface query sketch 
rotation translation scaling transformation   recall transformations composed sequences         n   form mathematical group 
basic building block syntax basic shape component hc  t    bi 
represents region color c  texture t  edge contour  e b     e b  
denote pointwise transformation whole contour b  example  could
specify place contour e b  upper left corner image  scaled    
rotated    degrees clockwise 
composite shape descriptions conjunctions basic shape components one
color texture denoted
c   hc    t        b  u u hcn   tn   n   bn
expect end users system actually define composite shapes
syntax  internal representation composite shape  system
maintain user draws help graphic tool complex shape
dragging  rotating scaling basic shapes chosen either palette  existing
images  see figure    
example  composite shape lighted candle could defined
lighted candle   hc    t        rectanglei u hc    t        circlei
   

fistructured knowledge representation image retrieval

      placing circle flame top candle  textures colors defined
accordingly intuition 
remark that  best knowledge  logic present first one
combining shapes explicit transformations one language 
previous paper  di sciascio  donini    mongiello        presented formalism
including nested composite shapes  done hierarchical object modeling  foley et al  
      ch     however  nested composite shapes always flattened composing
transformations  hence paper focus two levels  basic shapes compositions
basic shapes  also  simplify presentation semantics  following
section present color texture features  take account
section     on 
    semantics
consider extensional semantics  syntactic expressions interpreted
subsets domain  setting  domain interpretation set images  
shapes components interpreted subsets   hence  image database
domain interpretation  complex shape c subset domain
images retrieved database c viewed query 
approach quite different previous logical approaches image retrieval
view image database set facts  logical assertions  e g   one based
description logics meghini et al          setting  image retrieval amounts
logical inference  however  observe usually domain closure assumption  reiter 
      made image databases  regions ones seen
images themselves  allows one consider problem image retrieval simple
model checking check given structure satisfies description   
formally  interpretation pair  i     set images 
mapping shapes components subsets   identify image
set regions  r           rn   segmented  excluding background  discuss
end section   region r comes edge contour e r   image
belongs interpretation basic shape component h  bii contains
region whose contour matches  e b    formulae 
h  bii    i   r   e r     e b   

   

definition exact recognition shape components images  due
presence strict equality comparison contours  extended
approximate recognition follows  recall characteristic function f set
function whose value either      fs  x      x s  fs  x      otherwise  consider
characteristic function set defined formula      let image 
belongs h  bii   characteristic function computed value    otherwise
value    keep number symbols low  use expression h  bii
   obviously  domain closure assumption regions valid artificial vision  dealing twodimensional images three dimensional shapes  and scenes   solid shapes surfaces
hidden images  outside scope retrieval problem 

   

fidi sciascio  donini   mongiello

denote characteristic function  with argument  i  distinguish set  


h  bi  i   

 

  r   e r     e b  
 
otherwise

reformulate function order make return real number range       
usual fuzzy logic  zadeh         let sim     similarity measure pairs
contours range        real numbers  where   perfect matching   use sim    
instead equality compare edge contours  moreover  existential quantification
replaced maximum possible regions i  then  characteristic function
approximate recognition image basic component  is 
h  bii  i    max sim e r    e b    
ri

note sim depends translations  rotation scaling  since looking regions
whose contour matches e b   reference position size specified  
interpretation basic shapes  instead  includes translation rotation scaling invariant recognition  commonly used single shape image retrieval  define
interpretation basic shape
b    i   r   e r     e b   
approximate counterpart function
b  i    max max sim e r    e b    


ri

maximization possible transformations max effectively computed
using similarity measure simss invariant reference translation rotationscaling  see section       similarity color texture added weighted sum
section      way  basic shape b used query retrieve images
b   therefore  approach generalizes usual approaches
single shape retrieval  blobworld  carson et al         
composite shape descriptions interpreted sets images contain components composite shape  components anywhere image  long
described arrangement relative other  let c composite shape
description h    b  u u hn   bn i  exact matching  interpretation intersection
sets interpreting component shape 
c    i     ni   h     bi ii  

   

observe require shape components c transformed image regions
using transformation   preserves arrangement shape components
relative given allowing c include every image
containing group regions right arrangement  wholly displaced  
clarify formula  consider figure    shape c composed two basic shapes
b  b    suitably arranged transformations       suppose
contains image i  then  c exists transformation  
   

fistructured knowledge representation image retrieval

figure    example application formula     
globally brings c i  is    brings rectangle b  rectangle recognized
i    brings circle b  circle recognized i  arranged according
c  note could contain shapes  included c 
formally define recognition shape image 
definition    recognition  shape description c recognized image
every interpretation  i      c   interpretation  i    satisfies
composite shape description c exists image c recognized
i  composite shape description satisfiable exists interpretation satisfying it 
observe shape descriptions could unsatisfiable  two components define overlapping
regions  image segmented way satisfies components  course 
composite shape descriptions built using graphical tool  unsatisfiability easily
avoided  assume descriptions always satisfiable  anyway  unsatisfiable shape
descriptions could easily detected  syntactic form  since unsatisfiability
arise overlapping regions  see proposition    
observe set based semantics implies intuitive interpretation conjunction u one could easily prove u commutative idempotent 
approximate matching  modify definition      following fuzzy interpretation
u minimum  existential maximum 
n

c  i    max  min  h     bi ii  i   


i  

   

observe interpretation composite shape descriptions strictly requires presence components  fact  measure image belongs interpreta   

fidi sciascio  donini   mongiello

tion composite shape description c dominated least similar shape component
 the one minimum similarity   hence  basic shape component dissimilar
every region i  brings near    measure c  i   strict
than  e g   gudivada   raghavans        el kwae   kabukas        approaches 
non appearing component decrease similarity value c  i  
still threshold 
although requirement may seem strict one  captures way details used
refine query  dominant shapes used first  and  retrieved set still
large  user adds details restrict results  refinement process 
happen images match new details  pop enlarging set
results user trying restrict  formalize refinement process
following definition 
proposition    downward refinement  let c composite shape description 
 
let refinement c    c u h     b   i  every interpretation i  shapes
interpreted      c   shapes interpreted      every
image holds  i  c  i  
proof       claim follows fact considers intersection
components one c   plus set h       b   ii        claim analogously
follows fact  i  computes minimum superset values considered c  i  

property makes language fully compositional  namely  let c composite shape description  consider meaning c used query
set images potentially retrieved using c  least  meaning perceived end user system  downward refinement ensures meaning
c obtained starting one component  progressively adding
components order  remark frameworks cited  gudivada  
raghavan        el kwae   kabuka        property hold  illustrate
problem figure    starting shape description c  may retrieve  among many
others  two images i    i    c  i    c  i    threshold t 
another image i  set c  i      t  order selective  try adding details  obtain shape description d  using d  may still
retrieve i    discard i    however  i  partially matches new details d 
downward refinement holds   i    c  i      t  i  cannot pop up  contrast 
downward refinement hold  as gudivada   raghavans approach 
di  i        c  i    matched details raise similarity sum weighted
components  case  meaning sketch cannot defined terms
components 
downward refinement property linking syntax semantics  thanks extensional semantics  extended even meaningful semantic relation  namely 
   exactly    since every shape matches every one low similarity measure  similarity
often computed inverse distance  similarity   would correspond infinite distance 
nevertheless  recognition algorithm force similarity   threshold 

   

fistructured knowledge representation image retrieval

figure    downward refinement  thin arrows denote non zero similarity approximate
recognition  thick arrow denotes refinement 

   

fidi sciascio  donini   mongiello

figure    example subsumption hierarchy shapes  thick arrows   images
shapes recognized  thin arrows  

subsumption  borrow definition description logics  donini  lenzerini  nardi 
  schaerf         fuzzy extensions  yen        straccia        
definition    subsumption  description c subsumes description every
interpretation i  c       used  c subsumes every interpretation
image    i  c  i  
subsumption takes account fact description might contain syntactic variant
another  without user system explicitly knowing fact  notion
subsumption extends downward refinement  enables hierarchy shape descriptions  description another c subsumed c  c
used queries  subsumption hierarchy makes easy detect query containment 
containment used speed retrieval  images retrieved using query
immediately retrieved c used query  without recomputing similarities 
query containment important standard databases  ullman         becomes
even important image retrieval setting  since recognition specific features
image computationally demanding 
figure   illustrates example subsumption hierarchy basic composite shapes
 thick arrows denote subsumption shapes   two images shapes
recognized  thin arrows  
although consider background  could added framework
special basic component hc  t    backgroundi property region b satisfies
   

fistructured knowledge representation image retrieval

background simply colors textures match  check edge contours 
also  one background could added  case background regions
overlap  matching background regions considered regions
basic shapes recognized subtracted background regions 

   reasoning retrieval
envisage several reasoning services carried logic image retrieval 
   shape recognition  given image shape description d  decide recognized i 
   image retrieval  given database images shape description d  retrieve
images recognized 
   image classification  given image collection descriptions             dn   find
descriptions recognized i  practice  classified finding
specific descriptions  with reference subsumption  satisfies  observe
classification way preprocessing recognition 
   description subsumption  and classification   given  new  description collection descriptions d            dn   decide whether subsumes  or subsumed by 
di                n 
services    standard image retrieval system  services    less obvious 
briefly discuss below 
process image retrieval quite expensive  systems usually perform off line
processing data  amortizing cost several queries answered on line 
example  document retrieval systems web    images text  use spiders
crawl web extract relevant features  e g   color distributions textures
images  keywords texts   used classify documents  then  answering
process uses classified  extracted features documents original data 
system adapt setting composite shapes  too  system  new
image inserted database immediately segmented classified accordance
basic shapes compose it  composite descriptions satisfies  service    
query undergoes classification  reference queries already answered
 service     basic shapes present  faster system answer new
queries based shapes 
formally  given query  shape description  d  exists collection descriptions d            dn images database already classified reference
d            dn   may suffice classify reference d            dn find  most
of  images satisfying d  usual way classification description
logics amounts semantic indexing help query answering  nebel        
example  answer query asking images containing arch  system may
classify arch find subsumes threeportalsgate  see figure     then  system
   e g   altavista  qbic  netra  blobworld  yahoo  for textual documents  

   

fidi sciascio  donini   mongiello

include answer images ancient roman gates recognized 
without recomputing whether images contain arch not 
problem computing subsumption descriptions reduced recognition
next section  algorithm exact recognition given  then  extend
algorithm realistic approximate recognition  reconsidering color texture 
    exact reasoning images descriptions
start reformulation      suited computational purposes 
theorem    recognition mapping  let c   h    b  u u hn   bn composite
shape description  let image  segmented regions  r            rm    c
recognized iff exists transformation injective mapping j               n 
            m               n
e rj i       i  e bi    
proof       c recognized iff
 i

n
 

h     bi ii   equivalent  

i  

n
 

h     bi ii  

i  

expanding h     bi ii definition     yields
 

n
 

r i e r     i  e bi     

i  

since regions  r           rm   equivalent
 


n  
 

e rj      i  e bi     

i   j  

making explicit disjunction j conjunctions i  arrange conjunctive formula matrix 




 e r          e b      e rm         e b        


  
 
  

 

 
  
 e r       n  e bn     e rm      n  e bn       

   

note two properties matrix equalities 
   given transformation  one region among r           rm equal
component  means row  one disjunct true given
 
   given transformation  region match one component  means
column  one equality true given  
   

fistructured knowledge representation image retrieval

observe properties imply regions different shapes  since
equality contours depends translation  rotation  scaling  use equality
represent true overlap  equal shape 
properties    imply formula true iff injective function
mapping component one region matches with  ease comparison
formulae use symbol j mapping j               n              m   hence 
formula     rewritten claim 
 j       n      m 

n
 

e rj i       i  e bi     

   

i  

hence  even previous section semantics composite shape derived
semantics components  computing whether image contains composite shape
one focus groups regions  one group rj              rj n  possible mapping j 
observe j injective implies n  one would expect  proposition
leaves open one j must chosen first  fact  follows
show optimal choice exact recognition mix decisions j  
approximate recognition considered  however  exchanging quantifiers harmless 
fact  change order approximations made  return
issue next section  discuss one devise algorithms approximate
recognition 
subsumption simple logic shape descriptions relies composition
contours basic shapes  intuitively  actually decide subsumed c  check
sketch associated seen image would retrieved using c
query  logical perspective  existentially quantified regions semantics
shape descriptions     skolemized prototypical contours  formal definitions
follow 
definition    prototypical image  let b basic shape  prototypical image
i b     e b    let c   h    b  u u hn   bn composite shape description 
prototypical image i c        e b              n  e bn     
practice  composite shape description one builds prototypical image applying stated transformations components  and color texture fillings  present  
recall envisage prototypical image built directly user 
help drawing tool  basic shapes colors palette items  system
keep track transformations corresponding users actions  use
building  internal  shape descriptions stored previous syntax  feature
makes proposal different query by sketch retrieval systems  precisely
sketches logical meaning  so  properties description sketches
proved  containment query sketches stated formal way  algorithms
containment checking proved correct reference semantics 
prototypical images important properties  first satisfy  in
sense definition    shape description exemplify intuition would suggest 
   

fidi sciascio  donini   mongiello

proposition   every composite shape description d  satisfiable interpretation hi   i d  i satisfies d 
proof  theorem    using identical transformation identity mapping
j 

shape description satisfiable overlapping regions i d   since
obvious specified drawing tool  give following proposition
sake completeness 
proposition   shape description satisfiable iff prototypical image i d  contains
overlapping regions 
turn subsumption  observe b  b  basic shapes  either
equivalent  each one subsumes other  neither two subsumes other 
adopt segmented regions invariant representation   e g  fourier transforms
contour  deciding equivalence basic shapes  recognizing whether basic shape
appears image  call algorithm computing similarity shapes 
usual image recognizers allowing tolerance matching
shapes  therefore  framework extends retrieval shapes made single
component  effective systems already available 
consider composite shape descriptions  prove main property prototypical images  namely  fact subsumption shape descriptions
decided checking subsumer recognized sketch subsumee 
theorem   composite shape description c subsumes description c
recognized prototypical image i d  
proof  let c   h    b  u u hn   bn i  let   h    a  u u hm   i  recall
i d  defined i d        e a               e am      ease reading  sketch
idea proof figure   
if  suppose c recognized i d   is  i d  c every interpretation  i   
i d    then  theorem   exists transformation suitable
injective function j             n              m 
e rj k      k  e bk   

k              n

since i d  prototypical image d  substitute region basic
shape comes from 
j k   e aj k       k  e bk   

k              n

   

suppose recognized image j    s           sp    j   prove
c recognized j  fact  recognized j exists transformation
another injective mapping q             m              p  selecting j regions
 sq              sq m   
e sq h      h  e ah   
   

h             

   

fistructured knowledge representation image retrieval

 prototypical image of  c





































































prototypical image i d 



image j
figure    sketch if proof theorem  
composing q j is  selecting regions j satisfying components
used recognize c one obtains
e sq j k       j k   e aj k    

k              n

   

then  substituting equals equals      one finally gets
e sq j k       k  e bk   

k              n

proves c recognized j  using transformation components 
q j    injective mapping             n              p   since j generic image 
follows c   since  i    generic too  c subsumes d 
if  reverse direction easier  suppose c subsumes d  definition 
amounts c every collection images i  every contains i d  
i d  proposition    therefore  i d  c   is  c recognized i d  

property allows us compute subsumption recognition  concentrate
complex shape recognition  using theorem    concern decide whether
exists transformation matching j properties stated theorem   
turns exact recognition  quadratic upper bound attained
possible transformations try 

   

fidi sciascio  donini   mongiello

theorem   let c   h    b  u u hn   bn composite shape description  let
image  segmented regions  r           rm    then  m m    exact
matches n basic shapes regions  moreover  possible match
verified checking matching n pairs contours 
proof  transformation matching exactly basic components regions
exact match centroids  hence concentrate centroids  correspondence
centroid basic component centroid region yields two constraints
  rigid motion scaling  hence four degrees freedom  two
degrees translations  one rotation  one uniform scaling   hence  exact
match exists centroids basic components centroids
regions  completely determined transformation two centroids
basic shapes two centroids regions 
fixing pair basic components b    b    let p    p  denote centroids  also 
let rj      rj    regions correspond b    b    let vj      vj      denote
centroids  one transformation solving point equations  each one mapping
point another 
 
    p       vj   
    p       vj   
hence  m m    transformations  second claim 
matching centroids found  one checks edge contours basic components
regions coincide  i e       e b        e rj           e b        e rj      
k              n  k  e bk    coincides contour region e rj k    
recalling formula     proof theorem    means eliminate
outer quantifier     using computed   conclude c recognized iff 
j       n      m 

n
 

e rj i       i  e bi    

i  

observe that  prune search  found above  one
check k              n  k  centr bk     coincides centroid region rj  
checking contours 
based theorem    devise following algorithm 
algorithm recognize  c i  
input composite shape description c   h    b  u u hn   bn i 
image i  segmented regions r           rm
output true c recognized i  false otherwise
begin
    compute centroids v           vm r           rm
    compute centroids p           pn components c
    i  h             m    h
compute transformation  p      vi  p      vh  
   

fistructured knowledge representation image retrieval

every k             n 
 k  e bk     coincides  for j  region rj
return true
endfor
return false
end
correctness recognize  c i  follows directly theorems      regarding
time complexity  step     requires compute centroids segmented regions  several
methods computing centroids well known literature  jahne  haubecker   
geibler         hence  abstract detail  assume exists function
f  nh   nv   bounds complexity computing one centroid  nh   nv
horizontal vertical dimensions  number pixels   report appendix
compute centroids  concentrate complexity terms n  m  f  n h   nv   
theorem   let c   h    b  u u hn   bn composite shape description  let
image nh nv pixels  segmented regions  r           rm    moreover  let f  nh   nv  
function bounding complexity computing centroid one region  c
recognized time o m f  nh   nv     n   m  n nh nv   
proof  assumptions  step     performed time o mf  nh   nv     instead 
step     accomplished extracting n translation vectors transformations            n components c  therefore  requires o n  time  finally 
innermost check step     checking whether transformed basic shape region
coincide performed o nh nv    using suitable marking pixels
region belong to  hence  obtain claim 

since subsumption two shape descriptions c reduced recognizing c i d   upper bound holds checking subsumption composite
shape descriptions  simplification step     accomplished without
feature level image processing 
    approximate recognition
algorithm proposed previous section assumes exact recognition  since
target retrieval real images  approximate recognition needed  start reconsidering proof theorem    particular matrix equalities      using
semantics approximate recognition      expanded formula evaluating c  i 
becomes following 

max min




max sim e r         e b       



  
 
max sim e r      n  e bn     



        sim e rm        e b         

  
  
 
 
    

sim e rm     n  e bn     

 




properties    stated exact recognition reformulated hypotheses
sim  follows 
   

fidi sciascio  donini   mongiello

   given transformation  assume one region among r            rm
maximally similar component  assumption justified supposing
negation  two regions maximally similar component 
maximal value low one  lowering overall value
external minimization  means maximizing row  assume
maximal value given one index among            m 
   given transformation  assume region yield maximal similarity
one component  again  rationale assumption region
yields maximal similarity two components two different rows  value
low one  propagates along overall minimum  means
minimizing maxima rows  consider different region row 
remark approximate case assumptions imply regions
different shapes  since sim similarity measure   true overlap 
equal shapes different pose  assumptions state sim
function near plain equality 
assumptions imply focus injective mappings     n 
    m  approximate recognition  yielding formula
max


n

min sim e rj i      i  e bi      

max

j     n     m  i  

choices j two maxima independent  hence consider groups
regions first 
max

n

j     n     m 

max min sim e rj i      i  e bi      


i  

   

differently exact recognition  choice injective mapping j directly
lead transformation   since depends similarity transformed shapes
computed  is  choice depends sim 
giving definition sim  reconsider image features  color  texture 
skipped theoretical part ease presentation semantics  introduce weighted sums similarity measure  weights set user according
importance features recognition 
let sim r  hc  t    bi  similarity measure takes region r  with color c r 
texture t r   component hc  t    bi range        real numbers  where  
perfect matching   note color texture similarities depend transformations  hence introduction change assumptions    above  accordingly 
formula     becomes
max

j     n     m 

n

max min sim rj i    hc  t       bi i  


i  

    

formula suggests groups regions image might resemble
components  select groups present higher similarity  artificially
constructed examples shapes c resemble other  may generate
exponential number groups tested  however  assume realistic
   

fistructured knowledge representation image retrieval

images similarity shapes selective enough yield small number
possible groups try  recall gudivadas approach  gudivada       
even stricter assumption made  namely  basic component c appear
twice  region matches one component c  hence approach
extends gudivadas one  aspect besides fact consider shape 
scale  rotation  color texture component 
spite assumptions made  finding algorithm computing best
formula      proved us difficult task  problem continuous
spectrum searched  best may unique  observed
single points matched instead regions components
problem simplifies point pattern matching computational geometry  however  even
recent results research area complete  cannot directly applied
problem  cardoze schulman        solve nearly exact point matching
efficient randomized methods  without scaling  observe best match
difficult problem nearly exact match  chew  goodrich  huttenlocher 
kedem  kleinberg  kravets        propose method best match shapes 
analyze rigid motions without scaling 
therefore  adopt heuristics evaluate formula  first all 
decompose sim r  hc  t    bi  sum six weighted contributions 
three contributions independent pose  color  texture shape  values color texture similarity denoted simcolor  c r   c  simtexture  t r   t  
respectively  similarity shapes  rotation translation scale invariant  denoted
simshape  e r   e b    feature  pair  region  component  compute
similarity measure explained appendix  then  assign similarities
feature say  color worst similarity group  yields pessimistic estimate
formula       however  estimate downward refinement property holds  see
next theorem    
three contributions depend pose  try evaluate pose
region selected group similar pose specified corresponding
component sketch  particular  simscale  e r    e b   represents similar scale
region transformed component  simrotation  e r    e b   denotes
e r   e b  similarly  or not  rotated reference arrangement
components  finally  simspatial  e r    e b   denotes measure coincident
centroids region transformed component 
summary  get following form overall similarity region
component 
sim r  hc  t    bi    simspatial  e r    e b    
simshape  e r   e b    
simcolor  c r   c   
simrotation  e r    e b    
simscale  e r    e b    
simtexture  t r   t 
   

fidi sciascio  donini   mongiello

coefficients           weight relevance feature overall similarity
computation  obviously  impose                coefficients greater
equal    actual values given coefficients implemented system
reported table   section   
difficulties computing best   compute maximum
possible s  instead  evaluate whether rigid transformation scaling
   e b              n  e bn    rj              rj n    similarities simspatial   simscale  
simrotation   transformation iff similarities    not  lower
similarities are  less rigid transformation match components
regions  hence  instead formula      evaluate following simpler formula 
max

n

min sim rj i    hc  t    bi i  

j     n     m  i  

    

interpreting pose similarities different way  describe detail estimate
pose similarities 
let c   hc    t        b  i  u u hcn   tn   n   bn i   let j injective function
    n      m   matches components regions  rj              rj n    respectively 
      spatial similarity
given component say  component   compute angles
components seen    formally  let i h
c counter clockwise oriented angle
vertex centroid component    formed lines linking centroid
centroids component h  n n      angles 
then  compute correspondent angles region rj      namely  angles j i j   j h 

vertex centroid rj      formed lines linking centroid
centroids regions rj i  rj h  respectively  pictorial representation angles
given figure   
let difference spatial  e rj          e b     maximal absolute difference
correspondent angles 
spatial  e rj          e b      

max

i h       n i  h

  
  i h

c j i j   j h 

compute analogous measure components          n  select maximum
differences 
n

spatial  j    max spatial  e rj i      e bi    
i  

    

argument j highlights fact measure depends mapping
j  finally  transform maximal difference perfect matching yields  
minimal similarity perfect matching yields   help function described appendix  minimal similarity assigned every
simspatial  e rj i      e bi                  n 
intuitively  estimate measures difference arrangement centroids
composite shape group regions  exists transformation bringing
components regions exactly  every difference    simspatial raises   every
   

fistructured knowledge representation image retrieval

f 

   

f 

f 

   

f 

f 

f 

   

f 

   

f 

f 

   

f 

   

f 

f 

f 

f 

r 

r 

f 

r 

r 

r 

r 

   
   
   
   

r 
r 

   

r 

r 

r 

r 
r 

r 

   

r 

figure    representation angles used computing spatial similarity component  
region rj     

   

fidi sciascio  donini   mongiello

r 

f 

  u

  h
  h
  h
  h

f 

u

r 

h

  u

  u

f 

  u

r 
r 

f 
r 

f 

figure    representation angles used computing rotation similarity component  
region rj     

component  arrangement scattered reference arrangement 
higher maximum difference  reason use maximum differences
similarity pair component region clear prove later
measure obeys downward refinement property 
      rotation similarity
every basic shape one imagine unit vector origin centroid oriented
horizontally right  as seen palette   shape used component
say  component   vector rotated according     let  h denote
rotated vector               n let c  counter clockwise oriented angle vertex
i h
centroid component    formed  h line linking centroid component

  centroid component i 
region rj      analogous  u  h constructed finding rotation phase
cross correlation attains maximum value  see appendix   then               n
let j i j    
u line
u angles vertex centroid rj      formed  
linking centroid rj    centroid rj i    figure   clarifies angles
computing 
let difference rotation  e rj          e b     maximal absolute difference
correspondent angles 
rotation  e rj          e b       max    c  j i j    
u   
i       n
i h

one orientation rj    cross correlation yields maximum
e g   square four orientations compute maximal difference
orientations  take best difference  the minimal one  
   

fistructured knowledge representation image retrieval



mi

ri

mi

dj
dj
rj
fj

figure    sizes distances scale similarity computation component   region
rj     

repeat process components   n  select maximum
differences 
n

rotation  j    max rotation  e rj i      e bi    
i  

    

finally  spatial similarity  transform rotation  j  minimal similarity
help   minimal similarity assigned every simrotation  e rj i      e bi    
             n 
observe differences drop   perfect match  hence
similarity raises    region rotated reference
regions match component  higher rotational differences  again  fact
use worst difference compute rotational similarities exploited
proof downward refinement 
      scale similarity
concentrate component   ease presentation  let   size
component    computed mean distance centroid points contour 
moreover               n  let d i distance centroid component  
centroid component i  image  let mj    size region rj i    let
dj   j i  distance centroids regions j    j i   figure   pictures
quantities computing 
define difference scale e rj         e b    as 
 
 

min mj     dj   j i    m   d i  

scale  e rj          e b       max  

i       n
max mj     dj   j i    m   d i  
   

fidi sciascio  donini   mongiello

repeat process components   n  select maximum differences 
n

scale  j    max scale  e rj i      e bi    
i  

    

finally  similarities  transform scale  j  minimal similarity
help   minimal similarity assigned every simscale  e rj i      e bi    
             n 
      discussion pose similarities
using worst difference evaluating pose similarities components may appear
somewhat drastic choice  however  guided choice goal preserving
downward refinement property  even abandon exact recognition
previous section 
theorem   let c composite shape description  let refinement c 
 
is    c uhc    t        b   i  every image i  segmented regions r           rm   c  i 
di  i  computed      using similarities defined above  holds  i  c  i  
proof  every injective function j used map components c extended
function j   letting j    n                  m  suitable region index range
j  since  i  computed extended mappings  sufficient show
values computed formula      increase reference values computed
c 
let j  mapping maximum value c  i  reached  every extension

j   j  leads minimum value minn  
i   formula      lower c  i   fact 
pose differences                   computed maximums strictly greater set
values  hence pose similarities either value  lower one  regarding
color  texture  shape similarities  adding another component worsen values
components c  since assign components worst similarity group 
consider another injective mapping j  yields non maximum value v    c  i 
formula       using argument pose differences                   every
extension j   leads minimum value v   v    since v    c  i   every extension
every mapping j different j  yields value less c  i   completes
proof 

   prototype system
order substantiate ideas developed prototype system  written c   
system client server application working ms windows environment 
client side avails graphical user interface allows one carry
operations necessary query knowledge base  including canvas query sketch
composition using basic shapes module query example using new existing
images queries  client allows user insert new shape descriptions images
knowledge base  client logical structure shown figure    made
three main modules  sketch  communication configuration 
   

fistructured knowledge representation image retrieval

figure    architecture prototype system 

   

fidi sciascio  donini   mongiello

figure     process reclassification images new description inserted  a 
insertion description  no      b  insertion 

communication module manages communication server side  using
simple application level protocol  configuration module allows one modify
parameters relative preview images shapes transferred server
placed cache managed fcfs policy efficient display  sketch module
allows user trace basic shapes palette items  properly insert modify
varying scale rotation factor  available shapes may basic ones
ellipse  circle  rectangle  polygons obtained composing basic shapes complex
shapes defined previous sessions application inserted knowledge
base  shapes extracted segmented images 
system keeps track transformations corresponding users actions 
uses building  internal  shape descriptions stored previously described
syntax  color texture drawn shapes set according user requirements  client interface provides color palette possibility open images
jpeg format texture content  user load images local disk
transmit server populate knowledge base  finally  user define
new objects endowing textual description insert knowledge
base 
server side  shown figure    composed concurrent threads
manage server side graphical interface  connections communications
client applications carry processing required client side  obviously 
   

fistructured knowledge representation image retrieval

figure     query retrieved set images 

   

fidi sciascio  donini   mongiello

server carries tasks related insertion images knowledge base 
including segmentation  feature extraction region indexing  allows one properly
set various parameters involved  end  server three main subcomponents 
   image features extractor contains image segmentation module region
data extraction one 
   image classifier composed classifier module module used
image reclassification 
   database management system 
feature extractor segments processes images extract relevant features
detected region  characterize images knowledge base  image segmentation carried algorithm starts extraction relevant edges
carries region growing procedure basically merges smaller regions larger
ones according similarity terms color texture  detected regions obviously
comply minimal heuristics  region associated description
relevant features 
classifier manages graph used represent hierarchically organizes
shape descriptions  basic shapes  complex ones obtained combining elementary shapes and or applying transformations  rotation  scaling translation  
basic shapes parents  top hierarchy  images 
inserted knowledge base segmentation process  linked descriptions
structure depending specific descriptions able satisfy 
classifier module invoked new description inserted
system new query posed  classifier carries search process hierarchy
find exact position new description  a simple complex one 
inserted  position determined considering descriptions new description
subsumed by  position found  image reclassifier compares
images available database determine satisfy it  images
verify recognition algorithm tied d  stage considers images
tied descriptions direct ancestors d  outlined figure    
usual description logics  query process consists description insertion 
query q new description treated prototypical images  query
q system considered new description added hierarchical data
structure  images connected either q descriptions query
hierarchical structure returned retrieved images 
database management module simply keeps track images and or pointers
images 
using system straightforward task  logon user draw sketch
canvas combining available basic shapes  enrich query color texture
content  query posed server obtain images ranked according
similarity  figure    shows query sketch two circles retrieved
set  system correctly retrieves pictures cars two circles recognized
relative positions sketch represent wheels  snow man
black buttons 
   

fistructured knowledge representation image retrieval

figure     downward refinement  contd    detailed query  picturing car 
retrieved set images 

   

fidi sciascio  donini   mongiello

figure     subsumption example  increasing number objects query leads
correct reduction retrieved set 
   

fistructured knowledge representation image retrieval

introduction details restricts retrieved set  adding chassis
previous sketch makes query precise  well retrieval results  shown
figure     example points expect user use system  he she
start generic query objects  number images retrieved set
still large  he she increase number details obtaining downward refinement 
notice presence regions objects included query obviously accepted lack region explicitly introduced query  idea
underlying approach enormous amount available images 
current stage research technology system always ensure complete recognition  yet believe focus reducing false positives  accepting without
much concern higher ratio false negatives  basically means increasing precision 
even cost possibly lower recall  words believe preferable
user looking image containing yellow car  e g   using sketch figure    
he she receives result query limited subset images containing almost sure
yellow car  large amount images containing cars  several images
cars all 
subsumption another distinguishing feature system  figure    shows queries
composed basic shapes obtained segmentation image picturing
aircrafts  i e   aircraft basic shape system  here  better emphasize
example  shape position contribute similarity value  process
subsumption clearly highlighted  query single aircraft retrieves images
one aircraft  one aircraft  adding aircrafts graphical
query correctly reduces retrieved set  example points system
able correctly deal presence one instance object images 
possible approaches gudivada raghavan        gudivada
        negative side noticed system recognize
presence third aircraft  indeed strange one  b  spirit  second image
figure    b   segmented considered part background 
ability system retrieve complex objects images several
different objects  main shapes  anyway seen figure    
real image directly submitted query  notice case system carry
segmentation process fly  detect composing shapes 

   experiments results
order assess performance proposed approach system implementing
it  carried extensive set experiments test dataset images 
well known evaluating performances image retrieval system difficult
lack ground truth measures  ease possibility comparison  adopted
approach first proposed gudivada raghavan         experimental framework
hence largely based one proposed there  relies comparison system
performances versus judgement human experts 
noticed work test images iconic images 
classified terms spatial relationships icons  experiments images
   

fidi sciascio  donini   mongiello

figure     query example retrieved images 

   

fistructured knowledge representation image retrieval

figure     sample images used experiments 

   

fidi sciascio  donini   mongiello

real classification carried image features  including color  texture 
shape  scale  orientation spatial relationships 
test data set consists collection    images  sample shown
figure     complete set available url 
http   www ictserv poliba it disciascio jair images htm 
images acquired using digital camera  combining    objects  either simple
objects  i e   single shape  composite ones  variable size color  images
size          pixels     bits pixel  noticed actually
   different objects  considered similar variants object  e g   two
pens different color  single test object 
selected test data set    images used queries  query set formed
two logical groupings 
first one  namely queries      queries            primary
objective testing performance system using query single objects composed
various shapes  is  assessing ability system detect retrieve images
containing object  objects similar query 
query images second group  remaining images test data set  pictured
two objects chosen assess ability system detect
retrieve images according spatial relationships existing objects query 
obviously difference queries containing single objects composed several
shapes  queries containing two objects  cognitive one  system
queries composite shapes  however  observed performances changed
two groupings 
separately asked five volunteers classify decreasing order  according
judgment     images based similarity image selected query
set  volunteers never used system briefly instructed
rank orderings based degree conformance database images
query images  allowed group images considered equivalent 
query  discard images judged wholly dissimilar query 
obtained five classifications  univocal  created final ranking
merging previous similarity rankings according minimum ranking criterion 
final ranking image respect query determined minimum one
among five available 
example consider classification query nr    shown table   
notice images grouped together cell given relevance 
image   ranked third position users         users     ranked
fourth position  finally ranked position four  notice image   
criterion leads withdrawal ranked images  approach limits weight
images badly classified single users final ranking 
submitted set    queries system  whose knowledge base
loaded    images test set 
behavior system obviously depends configuration parameters 
determine relevance various features involved similarity computation 
configuration parameters fed system experimentally determined test bed
   

fistructured knowledge representation image retrieval

user
 
 
 
 
 
final

 st
 
 
 
 
 
 

 nd
      
      
      
      
      
      

ranking
 rd
            
         
         
            
            
         

 th
  
     
     
  
     
     

 th
  

  

table    users rankings query nr  
parameter
fourier descriptors threshold
circular symmetry threshold
spatial similarity threshold
symmetry maxima threshold
spatial similarity weight
spatial similarity sensitivity f x
spatial similarity sensitivity f
shape similarity weight
shape similarity sensitivity f x
shape similarity sensitivity f
color similarity weight
color similarity sensitivity f x
color similarity sensitivity f
rotation similarity weight
rotation similarity sensitivity f x
rotation similarity sensitivity f
texture similarity weight
texture similarity sensitivity f x
texture similarity sensitivity f
scale similarity weight
scale similarity sensitivity f x
scale similarity sensitivity f
global similarity threshold

value
    
    
    
    
    
    
    
    
     
    
    
     
    
    
    
    
    
     
    
    
    
    
    

table    configuration parameters  grouped feature type 

approximately     images starting test phase  shown table   
parameters reported described appendix  notice that  dealing welldefined objects  gave higher relevance shape spatial features reduced
relevance scale  rotation  color texture 
resulting classification gave us called system provided ranking 
adopted rnorm quality measure retrieval effectiveness  rnorm first
introduced live project  bollmann  jochum  reiner  weissmann    zuse       
evaluation textual information retrieval systems used
experiments referenced paper gudivada raghavan  make paper
self contained recall rnorm defined 
let g finite set images user defined preference relation complete
transitive  let usr rank ordering g induced user preference relation 
also  let sys system provided ranking  formulation rnorm is 
rnorm  sys    

 
s 
    
 
 
 
smax

  number image pairs better image ranked system
ahead worse one  number pairs worse image ranked ahead
 
better one smax
maximum possible number     noticed
calculation       max based ranking image pairs sys relative
ranking corresponding image pairs usr  
   

fidi sciascio  donini   mongiello

query nr 
 
 
 
 
 
 
 
 
 
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
average rnorm

image nr 
 
 
 
 
 
 
 
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

rnorm
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

table    rnorm values   indicates single object queries 

rnorm values range        value   corresponds system provided
ordering database images either identical one provided human
experts higher degree resolution  lower values correspond proportional
disagreement two 
table   shows results query final average rnorm        taking closer
look results  first group queries  single compound objects  average value
rnorm        rnorm       second grouping  various compound objects  
 the complete set result users ranking system ranking available online
appendix  
comparison  average rnorm resulted      system presented gudivada
raghavan            iconic images used queries database
images  similarity computed spatial relationships icons  remark
system works real images computes similarity several image features 
believe results prove ability system catch good extent
users information need  make refined distinctions images searching
composite shapes  furthermore  algorithm able correctly deal presence
one instance object images  possible approaches
 gudivada         noteworthy that  though parameters setting
object several experiments  cannot considered optimal yet  believe
room improvement system performance  pointed
following paragraph 
obviously system fail segmentation provide accurate enough
results  figure    shows results query     one worst r norm  
system retrieve images users considered relevant 
   

fistructured knowledge representation image retrieval

figure     query results query     lowest rnorm       
important wrongly confused sugar drop wrist watch  resulted
false positive  matter fact various images sweet drops resulted properly
segmented  nevertheless  highly relevant images successfully retrieved wrongly
retrieved one slightly selection threshold 
another observation made human users  comparing query
single object  much driven color feature  including
spatial positioning  appeared various queries clearly visible using
example results query     users selected highest relevance class images
color sugar drop  gave lower ranking images  with sugar drops 
closer spatial relationships different colors  observation may significant
related field object recognition 
final comment  reference system behavior terms retrieval time 
carry systematic testing  depends several variables  number images
database  number objects query  important depth hierarchy
  search time decreases basic shapes available  limiting analysis
database loaded    test images  system required average    secs
answer query  machine celeron     mhz cpu     mb ram running
client server 
   

fidi sciascio  donini   mongiello

   conclusion
proposed knowledge representation approach image retrieval  started
observation current sketch based image retrieval systems lack compositional
query language is  able handle queries made several shapes 
position  orientation size shapes relative meaningful 
recover this  proposed language describe composite shapes  gave
extensional semantics queries  terms sets retrieved images  cope
realistic setting beginning  generalized semantics fuzzy membership
image description  composition shapes made possible explicit
use language geometric transformations  translation rotation scale  
borrow form hierarchical object modeling computer graphics  believe
distinguishing feature approach  significantly extends standard invariant
recognition single shapes image retrieval  extensional semantics allows us
properly define subsumption  i e   containment  queries 
borrowing structured knowledge representation  particular description logics  stored shape descriptions subsumption hierarchy  hierarchy
provides semantic index images database  logical semantics allowed us
define reasoning services  recognition shape arrangement image 
classification image reference hierarchy descriptions  subsumption
descriptions  tasks aside  speed up  main one  image
retrieval 
proved subsumption simple logic reduced recognition 
gave polynomial time algorithm perform exact recognition  then  realistic application setting extended algorithm approximate recognition  weighting
shape features  orientation  size  position   color texture 
using logical approach formal specification  built prototype system using
state of the art technology  set experiments assess efficacy proposal  fine tune parameters weights show approximate retrieval 
results experiments  although exhaustive  show approach catch
good extent users information need make refined distinctions images
searching composite shapes 
believe proposal opens least three directions future research  first 
language describing composite shapes could enriched either logicoriented connectives e g   alternative components corresponding compositions sequences shape arrangements  cope objects internal movements video sequence retrieval  second  techniques computational geometry could
used optimize algorithms approximate retrieval  study complexity recognition problem composite shapes might prove theoretical optimality
algorithms  finally  large scale experiments might prove useful understanding
relative importance attributed end users various features composite shape 
acknowledgements
wish thank former students g  gallo  m  benedetti l  allegretti
useful comments implementations  marco aiello comments earlier draft 
   

fistructured knowledge representation image retrieval

dino guaragnella discussions fourier transforms  anonymous referee
constructive criticism helped us improving paper 
research supported european union  pop regione puglia sottomisura        sfida     italian ministry education  university research
 miur  ex murst  projects cluster   subcluster monitoraggio ambiente e territorio  workpackage  sistema informativo per il collocamento dei prodotti ortofrutticoli
pugliesi italian national council research  cnr   projects laico  demand 
metodi di ragionamento automatico nella modellazione ed analisi di dominio 

appendix a 
appendix briefly revise methods used extraction image features 
describe smoothing function way compute similarity image
features introduced section     
a   extraction image features
order deal objects image  segmentation required obtain partition
image  several segmentation algorithms proposed literature 
approach depend particular segmentation algorithm adopted  anyway
obvious better segmentation  better system work  system
used simple algorithm merges edge detection region growing 
illustration technique beyond scope paper  limit
description image features computation  assume successful segmentation 


make description self contained start defining generic color image    x  y     
x nh     nv    nh   nv horizontal vertical dimensions  respectively 


 x  y  three components tuple  r  g  b   assume image
partitioned regions  ri                 satisfying following properties 
i 



 ri                   

               m   ri nonempty connected set
ri rj   iff    j
region satisfies heuristic physical requirements 
characterize region ri following attributes  shape  position  size  orientation  color texture 
shape  given connected region point moving along boundary generates complex
function defined as  z t    x t    jy t                nb   nb number boundary
sample points  following approach proposed rui  she  huang        define
discrete fourier transform  dft  z t  as 
z k   

nb
x

z t e

j  tk
n
b

t  

k              nb  
   

   k ej k 

fidi sciascio  donini   mongiello

order address spatial discretization problem compute fast fourier
transform fft  boundary z t   use first   nc      fft coefficients form
dense  non uniform set points boundary as 
zdense  t   

nc
x

z k e

j  tk
n
b

k nc

             ndense  
interpolate samples obtain uniformly spaced samples zunif  t    
           nunif   compute fft zunif  t  obtaining fourier coefficients zunif  k  
k   nc           nc   shape feature region hence characterized vector  n c   
complex coefficients 
position size  position determined region centroid computed via moment
invariants  pratt         size computed mean distance region centroid
points contour 
orientation  order quantify orientation region r use
fourier representation  stores orientation information phase values 
obviously deal special cases shape region one symmetry  e g   rectangle circle  rotational similarity reference shape b
given region ri obtained finding maximum values via cross correlation 
c t   

 n
xc
 
 
zb  k zri  k  ej  nc kn             nc
 nc     k  

color  color information region ri stored  quantization     values
color space  mean rgb value within region 
rri  

x

r p 

g ri  

x

g p 

b ri  

pri

pri

x

b p 

pri

texture  extract texture information region ri method based
work pok liu         following approach  extract texture features
convolving original grey level image i x  y  bank gabor filters 
following impulse response 
h x  y   

 
 
 
x  y
   
ej  u x v y 

e
   

 u  v   represents filter location frequency domain  central frequency  scale factor  orientation  defined as 
 

p

u    v  

  arctan u v

processing allows extract    components feature vector  characterizes
textured region 
   

fistructured knowledge representation image retrieval

a   functions computing similarities
smoothing function   similarity measures  use function  x  f x  f y  
role function change distance x  in   corresponds perfect matching 
similarity measure  in value   corresponds perfect matching  
smooth changes quantity x  depending two parameters f x  f y 
 x  f x  f y   


x

f      f y  cos   f x  

fy  

arctan 

 xf x   f y 
 
f xf



 

  x   f x
x   f x

f x         f     

input data approximate recognition algorithm shape description d 
containing n components hck   tk   k   bk image segmented regions r           rm  
algorithm provides measure approximate recognition i 
first step algorithm section     considers regions image
segmented n components shape description finds
groups n regions rj k  satisfying higher shape similarity shape components
d  purpose compute shape similarity  based fourier representation
previously introduced  vector complex coefficients  measure denoted sim ss
invariant respect rotation  scale translation computed cosine
distance two vectors  similarity gives measure range       assuming
higher similarity simss     perfect matching 
given vectors x complex coefficients describing respectively shape
region ri shape component bk   x    x            x nc      y            y nc  
p nc

l   xl yl
simss  bk   ri     qp
p nc  
 nc  
l   xl
l   yl

shape similarity  quantity simshape measures similarity shapes
composite shape description regions segmented image 
n

simshape    max   simss  bk   rj k      f xshape   f yshape  
k  

color similarity  quantity simcolor measures similarity terms color
appearance regions corresponding shapes composite shape description  following formula  color  k  r denotes difference red color
component k th component region rj k    similarly
green blue color components 
color k   

q

 color  k  r      color  k  g      color  k  b  

function takes maximum differences obtain similarity 
n

simcolor    max color  k    f xcolor   f ycolor  
k  

   

fidi sciascio  donini   mongiello

texture similarity  finally  simtexture measures similarity texture
features components corresponding regions 
texture  k  denotes sum differences texture components k th
component region rj k  dividing standard deviation elements 
n

simtexture    max texture  k   f xtexture   f ytexture  
k  

references
aiello  m          computing spatial similarity games  esposito  f   ed    proceedings eighth conference italian association artificial intelligence
 ai ia     no       lecture notes artificial intelligence  pp         springerverlag 
ardizzone  e   chella  a     gaglio  s          hybrid computation reasoning
artificial vision  cantoni  v   levialdi  s     roberto  v   eds    artificial vision 
pp          academic press 
baader  f     hanschke  p          schema integrating concrete domains concept
languages  proceedings twelfth international joint conference artificial
intelligence  ijcai     pp          sydney 
bach  r   fuller  c   gupta  a   hampapur  a   horowitz  b   humphrey  r   jain  r  
  shu  c          virage image search engine  open framework image
management  storage retrieval image video databases  vol        pp 
      spie 
bertino  e     catania  b          constraint based approach shape management
multimedia databases  multimedia systems         
bollmann  p   jochum  f   reiner  u   weissmann  v     zuse  h          liveproject retrieval experiments based evaluation viewpoints  proceedings
 th annual international acm sigir conference research developement
information retrieval  sigir      pp          acm  new york 
brooks  r          symbolic reasoning among   d models   d images  artificial
intelligence             
calvanese  d   lenzerini  m     nardi  d          description logics conceptual data
modeling  chomicki  j     saake  g   eds    logics databases information
systems  pp          kluwer academic publisher 
cardoze  d     schulman  l          pattern matching spatial point sets  proceedings thirtyninth annual symposium foundations computer science
 focs     pp          palo alto  ca 
carson  c   thomas  m   belongie  s   hellerstein  j  m     malik  j          blobworld 
system region based image indexing retrieval  huijsmans  d     smeulders 
a   eds    lecture notes computer science  vol        pp          springer verlag 
celentano  a     di sciascio  e          features integration relevance feedback analysis
image similarity evaluation  journal electronic imaging                
   

fistructured knowledge representation image retrieval

chandra  a     harel  d          computable queries relational databases  journal
computer system sciences             
chang  s   shi  q     yan  c          iconic indexing  d strings  ieee transactions
pattern analysis machine intelligence                
chew  l   goodrich  m   huttenlocher  d   kedem  k   kleinberg  j     kravets  d         
geometric pattern matching euclidean motion  computational geometry    
       
cox  i   miller  m   minka  t     papathomas  t          bayesian image retrieval
system  pichunter  ieee transactions image processing              
di sciascio  e   donini  f  m     mongiello  m          description logic image
retrieval  lamma  e     mello  p   eds    ai ia     advances artificial intelligence  no       lecture notes artificial intelligence  pp        springer verlag 
di sciascio  e     mongiello  m          query sketch relevance feedback contentbased image retrieval web  journal visual languages computing 
               
donini  f   lenzerini  m   nardi  d     schaerf  a          reasoning description logics 
brewka  g   ed    foundations knowledge representation  pp          cslipublications 
edelmann  s          representation recognition vision  mit press 
el kwae  e     kabuka  m          content based retrieval spatial similarity image
databases  acm transactions information systems             
flickner  m   sawhney  h   niblak  w   ashley  j   huang  q   dom  b   gorkani  m   hafner 
j   lee  d   petkovic  d   steele  d     yanker  p          query image video
content  qbic system  ieee computer               
foley  j   van dam  a   feiner  s     hughes  j          computer graphics  addison
wesley publ  co   reading  massachussetts 
fuhr  n   govert  n     rolleke  t          dolores  system logic based retrieval
multimedia objects  proceedings   st annual international acm sigir
conference research developement information retrieval  sigir      pp 
        melbourne  australia 
gevers  t     smeulders  a          pictoseek  combining color shape invariant features
image retrieval  ieee transactions image processing                
gudivada  v          r string  geometry based representation efficient effective
retrieval images spatial similarity  ieee transactions knowledge data
engineering                 
gudivada  v     raghavan  j          design evaluation algorithms image
retrieval spatial similarity  acm transactions information systems         
       
haarslev  v   lutz  c     moeller  r          foundations spatioterminological reasoning description logics  proceedings sixth international conference
principles knowledge representation reasoning  kr     pp         
   

fidi sciascio  donini   mongiello

hacid  m  s     rigotti  c          representing reasoning conceptual queries
image databases  proceedings twelfth international symposium methodologies intelligent systems  ismis     no       lecture notes artificial
intelligence  pp          warsaw  poland  springer verlag 
hartman  j     wernecke  j          vrml     handbook  addison wesley 
hirata  k     kato  t          query visual example  pirotte  a   delobel  c    
gottlob  g   eds    advances database technology proc   rd int  conf  extending database technology  edbt  vol      lecture notes computer science  pp 
      springer verlag 
jacobs  c   finkelstein  a     salesin  d          fast multiresolution image querying 
proceedings   nd annual conference computer graphics interactive
techniques  siggraph      pp         
jahne  b   haubecker  h     geibler  p          handbook computer vision applications  academic press 
ma  w     manjunath  b          netra  toolbox navigating large image database 
proceedings ieee international conference image processing  icip     
vol     pp          santa barbara 
marr  d          vision  w h  freeman co   oxford 
meghini  c   sebastiani  f     straccia  u          model multimedia information
retrieval  journal acm                 
moeller  r   neumann  b     wessel  m          towards computer vision description
logics  recent progress  proceedings ieee integration speech
image understanding  pp         
nebel  b          reasoning revision hybrid representation systems  no     
lecture notes artificial intelligence  springer verlag 
niblak  w   barder  r   equitz  w   flickner  m   glasman  e   petkovic  d   yanker  p  
  faloustos  c          qbic project  querying images content using color 
texture  shape  storage retrieval still image video databases 
vol        pp          spie 
paquet  e     rioux  m          content based search engine vrml databases 
proceedings ieee international conference computer vision pattern
recognition  cvpr     pp          santa barbara  ca 
picard  r     kabir  t          finding similar patterns large image databases 
proceedings ieee international conference acoustics speech signal
processing  icassp      pp          minneapolis  mn 
pirri  f     finzi  a          approach perception theory actions  part   
linkoping electronic articles computer information science  no      linkoping university electronic press 
pok  g     liu  j          texture classification two level hybrid scheme  storage
retrieval image video databases vii  vol        pp          spie 
   

fistructured knowledge representation image retrieval

pratt  w          digital image processing  j  wiley   sons inc   englewood cliffs  nj 
reiter  r     mackworth  a          logical framework depiction image interpretation  artificial intelligence                 
reiter  r          equality domain closure first order databases  journal
acm                 
rui  y   huang  t     mehrotra  s          content based image retrieval relevance
feedback mars  proceedings ieee international conference image
processing  icip      pp         
rui  y   she  a     huang  t          modified fourier descriptors shape representation
  practical approach  proceedings  st workshop image databases
multimedia search  amsterdam 
sanfeliu  a     fu  k          distance measure attributed relational graphs
pattern recognition  ieee transactions systems  man  cybernetics         
       
smith  j     chang  s          visualseek  fully automated content based image query
system  proceedings fourth acm international conference multimedia
 multimedia     pp       
straccia  u          reasoning within fuzzy description logics  journal artificial intelligence research             
tagare  h   vos  f   jaffe  c     duncan  j          arrangement  spatial relation
parts evaluating similarity tomographic section  ieee transactions pattern
analysis machine intelligence                 
ullman  j  d          principles database knowledge base systems  vol     computer
science press  potomac  maryland 
woods  w  a     schmolze  j  g          kl one family  lehmann  f  w   ed   
semantic networks artificial intelligence  pp          pergamon press  published
special issue computers   mathematics applications  volume     number
   
yen  j          generalizing term subsumption languages fuzzy logic  proceedings
twelfth international joint conference artificial intelligence  ijcai     pp 
       
zadeh  l          fuzzy sets  information control            

   


