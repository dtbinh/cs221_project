journal of artificial intelligence research                  

submitted       published      

irrelevant and independent natural extension
for sets of desirable gambles
gert de cooman

gert decooman ugent be

ghent university  systems research group
technologiepark           zwijnaarde  belgium

enrique miranda

mirandaenrique uniovi es

university of oviedo  dept  of statistics and o r 
c calvo sotelo  s n  oviedo        spain

abstract
the results in this paper add useful tools to the theory of sets of desirable gambles  a
growing toolbox for reasoning with partial probability assessments  we investigate how to
combine a number of marginal coherent sets of desirable gambles into a joint set using the
properties of epistemic irrelevance and independence  we provide formulas for the smallest
such joint  called their independent natural extension  and study its main properties  the
independent natural extension of maximal coherent sets of desirable gambles allows us to
define the strong product of sets of desirable gambles  finally  we explore an easy way to
generalise these results to also apply for the conditional versions of epistemic irrelevance and
independence  having such a set of tools that are easily implemented in computer programs
is clearly beneficial to fields  like ai  with a clear interest in coherent reasoning under
uncertainty using general and robust uncertainty models that require no full specification 

   introduction
in reasoning and decision making under uncertainty  there is little doubt that probabilities play the leading part  imprecise probability models provide a well founded extension
to probabilistic reasoning  that allow us to deal with incomplete probability assessments 
indecision and robustness issues  
early imprecise probability models  going back to  amongst others  bernoulli       
boole              koopman        centered on lower and upper probabilities for events
or propositions  in later stages  see for instance smith        williams      b and  for
the clearest statement  walley        section       it became apparent that the language
of events and lower probabilities is lacking in power of expression  and that a much more
expressive theory can be built using random variables and lower previsions  or lower expectations   instead   however  even though it has been quite successful  and is by now
quite well developed  there are a number of problems with the lower prevision approach 
its mathematical complexity is fairly high  especially when conditioning and independence
   to get a good idea of what the field of imprecise probabilities is about  and how it is evolving  browse
through the online proceedings of the biennial isipta conferences  to be found on the web site  www 
sipta org  of the society for imprecise probability  theories and applications 
   in contrast  for precise probability models  the expressive power of probabilities and expectations is
the same  a linear prevision or expectation on the set of all  bounded  real valued maps is uniquely
determined by its restriction to events  a finitely additive probability   and vice versa 
c
    
ai access foundation  all rights reserved 

fide cooman   miranda

enter the picture  also  the coherence requirements  which specify basic rules for proper
inference using  conditional  lower previsions  are quite cumbersome  and rather harder to
chop down into intuitive elementary building blocks than their precise probabilistic counterparts  even though the latter turn out to be special instances of the former  finally  as
is the case with many other approaches to probability  and as we will see further on  the
theory of coherent lower previsions has issues with conditioning on sets of probability zero 
a very attractive solution to these problems was offered by walley         in the form
of sets of desirable gambles  walleys work was inspired by earlier ideas by smith       
and williams      b   but previous work along these lines was also done by seidenfeld 
schervish  and kadane         on this approach  the primitive notions are not probabilities
of events  nor expectations of random variables  rather  the starting point is the question
whether a gamble  or a risky transaction  is desirable to a subject  i e  strictly preferred to
the zero transaction  or status quo  a basic belief model is then not a probability measure 
nor a lower prevision  but a set of desirable gambles 
let us briefly summarise here why we believe working with sets of desirable gambles as
basic belief models deserves more attention in the ai community 
primo  as a number of examples in the literature have shown  couso   moral       
de cooman   quaeghebeur        moral         and as we shall see further on  look for
instance at examples   and     working with and making inferences using a set of desirable
gambles as a subjects uncertainty model is more general and more expressive  it is also
arguably simpler and more elegant from a mathematical point of view  and it has a very
intuitive geometrical interpretation  quaeghebeur      b  
secundo  we shall see in sections   and   that the approach to coherent marginalisation
and conditioning is especially straightforward  and there are no issues with conditioning on
sets of probability zero 
tertio  as we will argue in section      because of the similarity between accepting a
gamble on the one hand  and accepting a proposition to be true on the other  working with
sets of desirable gambles leads to an account of probabilistic inference with a very logical
flavour  see the work by moral and wilson        for an early discussion of this idea 
quarto  working with sets of desirable gambles encompasses and subsumes as special
cases both classical  or precise  probabilistic inference and inference in classical propositional logic  see sections   and   
and finally  quinto  as will be made clear by the discussion throughout  sets of desirable
gambles are eminently suited for dealing with partial probability assessments  in situations
where experts express their beliefs  preferences or behavioural dispositions using finitely
many assessments that need not determine a unique probability measure  in particular  we
will discuss the connection with partial preferences in section     
let us try and present a preliminary defense of these sweeping claims with a few examples  one particular perceived disadvantage of working with lower previsionsor with
previsions and probabilities for that matteris that conditioning a lower prevision need not
lead to uniquely coherent results when the conditioning event has lower or upper probability
zero  see for instance the work of walley        section       for precise probabilities  this
difficulty can be circumvented by using full conditional measures  dubins         as we
have already mentioned  in an imprecise probabilities context  working with the more informative coherent sets of desirable gambles rather than with lower previsions provides a very
   

fiirrelevant and independent natural extension for sets of desirable gambles

elegant and intuitively appealing way out of this problem  as it has already been suggested
by walley        section       and appendix f   and argued in much more detail in his
later work  walley         the connection between full conditional measures and maximal
coherent sets of desirable gambles was recently explored by couso and moral         the
latter are still more general and expressive 
the work by de cooman and quaeghebeur        has shown that working with sets
of desirable gambles is especially illuminating in the context of modelling exchangeability
assessments  it exposes the simple geometrical meaning of the notion of exchangeability 
and leads to a simple and particularly elegant proof of a significant generalisation to de
finettis representation theorem for exchangeable random variables  de finetti        
exchangeability is a structural assessment  and so is independence  quite common in
the context of probabilistic graphical models  such as bayesian  pearl        or credal networks  cozman         conditioning and independence are  of course  closely related  in a
recent paper  de cooman  miranda    zaffalon         we investigated the notions of epistemic independence of finite valued variables using coherent lower previsions  thus adding
to the literature where assessments of epistemic irrelevance and independence are studied
for graphical models  de cooman  hermans  antonucci    zaffalon        destercke   de
cooman         as an alternative to the more often used notion of strong independence 
the above mentioned problems with conditioning  and the fact that the coherence requirements for conditional lower previsions are  to be honest  quite cumbersome to work with 
have turned this into a quite complicated exercise  this is the reason why  in the present
paper  we intend to show that looking at independence using sets of desirable gambles leads
to a more elegant theory that avoids some of the complexity pitfalls of working with coherent lower previsions  in doing this  we build on the strong pioneering work on epistemic
irrelevance by moral         while we focus here on the symmetrised notion of epistemic
independence  much of what we do can be seen as an application and continuation of his
ideas 
our goal in this paper is to show how local models for some variables  together with
independence assessments  can be combined in order to produce a joint model  this joint
model can then be used to draw inferences  as is done for instance in the context of bayesian
or credal networks  antonucci  de campos    zaffalon        cozman        pearl        
one of the core ideas of such probabilistic graphical models is to provide a representation
of this joint model that is less taxing from a computational point of view 
there are three main novelties to our approach  the first is that we allow for imprecision
in the local modelsalthough precise models are a particular case  the second is that we
model local probability assessments by means of sets of desirable gambles  because of the
above mentioned advantages they possess over coherent lower previsions  and the third
is that we stress epistemic irrelevance and independence rather than the more common
assessment strong independence  for reasons that will become clear further onalthough
we also discuss strong independence 
with the results in this paper we are adding useful tools to the growing toolbox for
reasoning with partial probability assessments that sets of desirable gambles constitute 
something already started in our work on exchangeability  de cooman   quaeghebeur 
      and the work on epistemic irrelevance and credal networks by moral         in this
regard  it is also interesting to mention that algorithms for making inferences with sets
   

fide cooman   miranda

of desirable gambles have been recently established  couso   moral        quaeghebeur 
    a   having such a set of tools that are easily implemented in computer programs is
clearly beneficial to a field like ai  which should surely be interested in coherent reasoning
under uncertainty with general and robust uncertainty models that require no full specification  this paper constitutes a further step in that direction  and it also allows us to
see more clearly which are the main difficulties faced when working with sets of desirable
gambles  there remain  however  a number of important situations to be dealt with  and
future lines of research are discussed in a number of places in the paper  as well as in the
conclusion 
in section   we summarise relevant results in the existing theory of sets of desirable
gambles  after mentioning useful notational conventions in section    we recall the basic
marginalisation  conditioning and extension operations for sets of desirable gambles in sections   and    we use these to combine a number of marginal sets of desirable gambles into
a joint satisfying epistemic irrelevance  section     and epistemic independence  section    
in section    we study the particular case of maximal coherent sets of desirable gambles 
and derive the concept of a strong product  section   deals with conditional independence
assessments 

   coherent sets of desirable gambles and natural extension
let us begin by explaining what our basic uncertainty models  coherent sets of desirable
gambles  are about  more details can be found in augustin  coolen  de cooman    troffaes 
      couso   moral        de cooman   quaeghebeur        moral        walley        
consider a variable x taking values in some possibility space x  which we assume in this
paper to be finite   we model information about x by means of sets of desirable gambles 
a gamble is a real valued function on x  and we denote the set of all gambles on x by g x   
it is a linear space under point wise addition of gambles  and point wise multiplication of
gambles with real numbers  for any subset a of g x    we denote by posi a  the set of all
positive linear combinations of gambles in a 
posi a    

x
n
k  


k fk   fk  a  k      n      

we call a a convex cone if it is closed under positive linear combinations  meaning that
posi a    a 
for any two gambles f and g on x  we write f  g if  x  x  f  x   g x   and
f   g if f  g and f    g  a gamble f     is called positive  a gamble g    is called
non positive  g x      denotes the set of all non zero gambles  g x     the convex cone of
all positive gambles  and g x    the convex cone of all non positive gambles 
   all the results in this section remain valid when working with more general  possibly infinite  possibility
spaces  and in that case gambles are assumed to be bounded real valued functions  we make this finiteness assumption here to avoid having to deal with the controversial issue of conglomerability  miranda 
zaffalon    de cooman        walley         because it will make the discussion of independence in
later sections significantly easier  and because most practically implementable inference systems in ai
are finitary in any case 

   

fiirrelevant and independent natural extension for sets of desirable gambles

    coherence and avoiding non positivity
definition    avoiding non positivity and coherence   we say that a set of desirable gambles d  g x   avoids non positivity if f     for all gambles f in posi d   or
in other words if g x    posi d      it is called coherent if it satisfies the following
requirements 
d     
  d 
d   g x      d 
d   d   posi d  
we denote by d x  the set of all coherent sets of desirable gambles on x 
requirement d  turns d into a convex cone  due to d   it includes g x       due to d d  
it excludes g x     and therefore avoids non positivity 
d   if f    then f 
  d  or equivalently g x     d    
the set g x     is coherent  and it is the smallest such subset of g x    this set represents
minimal commitments on the part of the subject  in the sense that if he knows nothing
about the likelihood of the different outcomes he will only prefer to zero those gambles
which are sure to never decrease his wealth and have a possibility of increasing it  hence 
it is usually taken to model complete ignorance  and it is called the vacuous model 
one interesting feature of coherent sets of desirable gambles is that they are linked to the
field of decision making with incomplete preferences  aumann        dubra  maccheroni 
  ok        shapley   baucells         because they are formally equivalent to the strict
versions of partial preference orderings  buehler        giron   rios         given a
coherent set of desirable gambles d  we can define a strict preference relation  between
gambles by
f  g  f  g  d for any gambles f and g in g x   
indeed  due to the linearity of the utility scale  exchanging a gamble g for a gamble f is
a transaction with reward function f  g  and strictly preferring f over g means that this
exchange should be strictly preferred to the status quo  zero   the relation  satisfies the
following conditions 
sp   f  f for all f  g x  

 irreflexivity 

sp   f   g  f  g for all f  g  g x  

 monotonicity 

sp   f  g and g  h  f  h for all f  g  h  g x  

 transitivity 

sp   f  g  f        h  g        h for all          and f  g  h  g x    mixture
independence 
conversely  any preference relation satisfying the above axioms determines a coherent set of
desirable gambles  partial preference orderings provide a foundation for a general decision
theory with imprecise probabilities and imprecise utilities  fishburn        seidenfeld et al  
      seidenfeld  schervish    kadane         see also the work by moral and wilson
        walley              and quaeghebeur      b  section      for more information 
   

fide cooman   miranda

    natural extension
if we consider anytnon empty family of coherent sets of desirable gambles di   i  i  then
their intersection ii di is still coherent  this is the idea behind the following result 
which brings to the fore a notion of coherent inference  if a subject gives us an assessment 
a set a  g x   of gambles on x that he finds desirable  then it tells us exactly when this
assessment can be extended to a coherent set of desirable gambles  and how to construct
the smallest such set 
theorem    de cooman   quaeghebeur         consider a  g x    and define
its natural extension by  
 
e a    
 d  d x    a  d   

then the following statements are equivalent 
 i  a avoids non positivity 

 ii  a is included in some coherent set of desirable gambles 
 iii  e a     g x   
 iv  the set of desirable gambles e a  is coherent 
 v  e a  is the smallest coherent set of desirable gambles that includes a 
when any  and hence all  of these equivalent statements hold  then

e a    posi g x      a  

this shows that if we have an assessment a with a finite description  we can represent
its natural extension on a computer by storing a finite description of its extreme rays 
although in general our assessments a need not have a finite description  for instance
those considered in eq      further on can but need not have one   they will be of interest
in a vast range of practical situations  for a description of the many cases where partial
probability assessments can be given a finite description  and for efficient algorithms for
verifying the coherence or computing the natural extension of a set of gambles  we refer to
the work by couso and moral        and quaeghebeur      a  
    connection with classical propositional logic
the definition of a coherent set of desirable gambles  and theorem    make clear that inference with desirable gambles bears a formal resemblance to deduction in classical proposition
logic  d  is a production axiom that states that positive linear combinations of desirable
gambles are again desirable  the exact correspondences are listed in the following table 
classical propositional logic
logical consistency
deductively closed
deductive closure
   as usual  in this expression  we let

t

   g x   

   

sets of desirable gambles
avoiding non positivity
coherent
natural extension

fiirrelevant and independent natural extension for sets of desirable gambles

we shall see that this inference with sets of desirable gambles has  precise  probabilistic
inference  and in particular bayess rule  as a special case  but it is easy to see that it also
generalises  includes as a special case  classical propositional logic  a proposition p can be
identified with a subset ap of the stone space x   and accepting a proposition p corresponds
to judging the gamble iap       to be desirable for all        here iap is the so called
indicator  gamble  of ap   assuming the value   on ap and   elsewhere  see the work by de
cooman        for a more detailed discussion 
    helpful lemmas
in order to prove a number of results in this paper  we need the following lemmas  one of
which is convenient version of the separating hyperplane theorem  they rely heavily on the
assumption of a finite space x   and are not easily extended to a more general case 
lemma    assume that x is finite  and consider a finite subset a of g x    then   
 
posi g x      a  ifpand only if there is some probability mass function p such that p x     
for all x  x and xx p x f  x      for all f  a 

proof  it clearly suffices to prove necessity  since   
  posi g x      a   we infer from a
version of the separating hyperplane theorem  walley        appendix e    that there is a
linear functional  on g x   such that
 x  x  i x        and  f  a  f       

p
then  x     xx  i x         and if we let p x      i x     x
p       for all x  x 
then p is a probability mass function on x for which  f    x     xx p x f  x      for
all f  a 
our second lemma implies that if we consider a coherent set of desirable gambles that
does not include a gamble nor its opposite  we can always find a coherent superset that
includes one of the two 
lemma    consider a convex cone a of gambles on x such that max f     for all f  a 
consider any non zero gamble g on x  if g 
  a then   
  posi a   g   
proof  consider a non zero gamble g 
  a  and assume ex absurdo that    posi a   g   
then it follows from the assumptions that there are f  a and      such that    
f    g   hence g  a  a contradiction 
    maximal coherent sets of desirable gambles
an element d of d x  is called maximal if it is not strictly included in any other element of
d x   or in other words  if adding any gamble f to d makes sure we can no longer extend
the set d   f   to a set that is still coherent 
 d   d x   d  d   d   d    
   this is not equivalent to judging the gamble iap    to be desirable  as in that case we do not obtain
a coherent set of desirable gambles  the gamble iap    is only almost desirable in the sense of walley
       section        

   

fide cooman   miranda

m x   denotes the set of all maximal elements of d x  
the following proposition provides a useful characterisation of such maximal elements 
proposition    de cooman   quaeghebeur         consider any d  d x    it is
a maximal coherent set of desirable gambles if and only if
 f  g x        f 
  d  f  d  
as is the case for classical propositional logic  see  for instance  de cooman        
coherence and inference can be described completely in terms of such maximal elements 
this is the essence of the following important result  which continues to hold for infinite x 
but for which a constructive proof can be given in case x is finite  based on the argument
suggested by couso and moral        
theorem    couso   moral        de cooman   quaeghebeur         a set a
avoids non positivity if and only if there is some maximal m  m x   such that a  m 
moreover
 
e a   
m a  
where we let

m a      m  m x     a  m   

   

this shows that  coherent  sets of desirable gambles are instances of the so called strong
belief structures described and studied in detail by de cooman         into which the strong
belief structures of classical propositional logic can be embedded  this guarantees amongst
other things that an agm like  de cooman        gardenfors        account of belief
expansion and revision is possible for these objects 
    coherent lower previsions
we conclude this section by shedding some light on the connection between coherent sets
of desirable gambles  coherent lower previsions  and probabilities 
given a coherent set of desirable gambles d  the functional p defined on g x   by
p  f      sup     f    d 

   

is a coherent lower prevision  walley        thm          that is  it corresponds to taking
the lower envelope of the expectations associated with a set of finitely additive probabilities 
the conjugate upper prevision p is defined by p  f      inf       f  d    p  f   
many different coherent sets of desirable gambles induce the same coherent lower prevision p   and they typically differ only in their boundaries  in this sense  we can say that
sets of desirable gambles are more informative than coherent lower previsions  although
a gamble with positive lower prevision is always desirable and one with a negative lower
prevision is not desirable  a lower prevision does not generally provide information about
the desirability of a gamble whose lower prevision equal to zero  this is the reason why we
need to consider the sets of desirable gambles if we want to have this additional information 
to see this more clearly  consider the following adaptation of an example by moral       
example    
   

fiirrelevant and independent natural extension for sets of desirable gambles

example    consider x     x      a  b   and let p be the coherent lower prevision on
g x    x     given by


f  b  a    f  b  b  f  b  a     f  b  b 
  
p  f  
 
min
for all gambles f on x    x    
 
 
this coherent lower prevision is induced by each of the following coherent sets of desirable
gambles by means of eq      
d     f   f     or p  f       
d     d   f   f  b  a    f  b  b      and f  a  a    f  a  b        
however  these two sets encode different preferences  as the gamble g given by g a  a      
g a  b       g b  a    g b  b       with p  g       is considered desirable for d  but not for
d  this is because coherent lower previsions are not able to distinguish between preferences
and weak preferences  while sets of desirable gambles can  we shall see in section   that
these differences come into play when considering conditioning  
the smallest set of desirable gambles that induces a given coherent lower previsionan
open coneis called the associated set of strictly desirable gambles  and is given by
d     f  g x     f     or p  f         

   

this is for instance the case of the set d in example    sets of strictly desirable gambles
are in a one to one relationship with coherent lower previsions  and as such they suffer from
the same problems when conditioning on sets of  lower  probability zero  in the sense that
in the conditional models they determine in that caseby means of eqs      and      in
section  are always vacuous  zaffalon   miranda        quaeghebeur      b   this is
one of the reasons why in this paper we are considering the more general model of coherent
sets of  not necessarily strictly  desirable gambles  for additional discussion about why
sets of desirable gambles are more informative than coherent lower previsions  we refer to
walley        and quaeghebeur      b  
when the lower and the upper prevision coincide on all gambles  then the functional
p defined on g x   by p f      p  f     p  f   for all f  g x   is a linear prevision  i e   it
corresponds to the expectation operator with respect to a finitely additive probability  this
happens in particular if d is a maximal coherent set of desirable gambles m 
p  f     sup     f    m    inf     f   
  m    inf       f  m    p  f   
to see why the second equality holds  observe that if f    m then also f    m for
all      and as a consequence the set     f    m  is an interval that is unbounded
below  the third equality follows from proposition    thus  up to boundary behaviour 
precise probability models correspond to a maximal coherent sets of desirable gambles  see
the work by couso and moral        section     miranda and zaffalon        proposition   
and williams      a  for more information  moreover  any coherent lower prevision p is
the lower envelope of the credal set m p   it induces  given by
m p       p linear prevision    f  g x   p f    p  f     
we can conclude at this point that at least in its basic representational aspects  models
involving coherent sets of desirable gambles generalise both classical propositional logic and
precise probability in its finitary approach championed by de finetti              
   

fide cooman   miranda

   basic notation
now that we have highlighted the basic facts about this more general approach to uncertainty modelling  we are ready to turn to independence  in order to talk about this  we need
to be able to deal with models involving more than one variable  in the present section  we
introduce the notational devices we will use to make this discussion as elegant as possible 
from now on  we consider a number of variables xn   n  n   taking values in the
respective finite sets x n   here n is some finite non empty index set  
for every subset r of n   we denote by xr the tuple of variables  with one component
   rr x r   this cartesian
for each r  r  that takes values in the cartesian
s product x r
product is the set of all maps xr from r to rr x r such that xr    xr  r   x r for all
r  r  elements of x r are generically denoted by xr or zr   with corresponding components
xr    xr  r  or zr    zr  r   r  r 
we will assume that the variables xn are logically independent  which means that for
each subset r of n   xr may assume all values in x r  
we denote by g x r   the set of gambles defined on x r   we will frequently resort to
the simplifying device of identifying a gamble on x r with a gamble on x n   namely its
cylindrical extension  to give an example  if k  g x n    this trick allows us to consider
kg x r   as the set of those gambles in k that depend only on the variable xr   as another
example  this device allows us to identify the gambles i xr   and i xr  x n r   and therefore
also the events  xr   and  xr    x n  r   more generally  for any event a  x r   we can
identify the gambles ia and iax n r   and therefore also the events a and a  x n  r  
we must paysparticular attention to the case r     by definition  x  is the set of all
maps from  to r x r     it contains only one element x   the empty map  this means
that there is no uncertainty about the value of the variable x   it can assume only one
value  the empty map   moreover ix    i x        also  we can identify g x    with the
set of real numbers r  there is only one coherent set of desirable gambles on x    the set
r   of positive real numbers 
one final notational convention that is very handy and will be used throughout  if n
is an index  then we identify n and  n   so we take x  n    g x  n     d n  to also refer to
x n   g x n   and dn   respectively  this trick  amongst other things  allows us to consider
two disjoint index sets n  and n    and consider each of these sets to constitute an index in
themselves  leading to a new index set  n    n     the variables xn  and xn  can then be
combined into a joint variable x n   n      which can of course be identified with the variable
xn  n    joint variables can be considered as single variables  and combined to constitute
new joint variables 

   marginalisation and cylindrical extension
suppose that we have a set dn  g x n   of desirable gambles modelling a subjects information about the uncertain variable xn  
   the assumption of finiteness of the spaces x n is essential for the proofs of some of the results established
later on  such as theorem    and proposition     it also allows us to simplify some of the expressions of
the sets of gambles derived by an assumption of epistemic irrelevance or independence  from which we
derive for instance lemma    and proposition    

   

fiirrelevant and independent natural extension for sets of desirable gambles

we are interested in modelling the information about the variable xo   where o is some
subset of n   this can be done using the set of desirable gambles that belong to dn but
only depend on the variable xo  
margo  dn       g  g x o     g  dn     dn  g x o   

   

observe that if dn is coherent we obtain marg  dn     g x        which can be identified
with the set of positive real numbers r     also  with o   o   n  

 
margo   margo   dn      g  g x o      g  margo   dn  
   g  g x o      g  g x o     dn  

   g  g x o      g  dn     margo   dn   

   

coherence is trivially preserved under marginalisation 
proposition    let dn be a set of desirable gambles on x n   and consider any subset o
of n  
 i  if dn avoids non positivity  then so does margo  dn   
 ii  if dn is coherent  then margo  dn   is a coherent set of desirable gambles on x o  
we now look for a kind of inverse operation to marginalisation  suppose we have a
coherent set of desirable gambles do  g x o   modelling a subjects information about the
uncertain variable xo   and we want to extend this to a coherent set of desirable gambles
on x n   representing the same information  so we are looking for a coherent set of desirable
gambles dn  g x n   such that margo  dn     do and that is as small as possible  the
most conservative coherent set of desirable gambles on x n that marginalises to do   it
turns out that such a set always exists and is not difficult to find 
proposition    let o be a subset of n and let do  d x o    then the most conservative
 smallest  coherent set of desirable gambles on x n that marginalises to do is given by
extn  do      posi g x n      do   

   

it is called the cylindrical extension of do to a set of desirable gambles on x n   and clearly
satisfies
margo  extn  do      do  
   
this extension is called weak extension by moral        section       
proof  it is clear from the coherence requirements and eq      that any coherent set of
desirable gambles that marginalises to do must include g x n     and do   and therefore
also posi g x n     do     extn  do    it therefore suffices to prove that posi g x n     do  
is coherent  and that it marginalises to do  
   the main difference between our result and morals is that we are excluding the zero gamble from any
coherent set of desirable gambles  while moral is including it 

   

fide cooman   miranda

to prove coherence  it suffices to prove that do avoids non positivity  by theorem   
but this is obvious because do is a coherent set of desirable gambles on x o  
we are left to prove that margo  extn  do      do   since for any g  do it is obvious
that both g  extn  do   and g  g x o    we see immediately that do  margo  extn  do    
so we concentrate on proving the converse inclusion  consider f  margo  extn  do    
meaning that both f  g x o   and f  extn  do    the latter means that there are g  do  
h  g x n       and non negative  and  such that max         for which f   g   h 
since we need to prove that f  do   we can assume without loss of generality that      
but then h    f  g    g x o   and therefore also h  g x o       whence indeed f  do  
by coherence of do  

   conditioning
suppose that we have a set dn  g x n   of desirable gambles modelling a subjects information about the uncertain variable xn  
consider a subset i of n   and assume we want to update the model dn with the
information that xi   xi   this leads to an updated  or conditioned  set of desirable gambles 

 
dn  xi    f  g x n     f     or i xi   f  dn  
   

for technical reasons  and mainly in order to streamline the proofs as much as possible  we
also allow the admittedly pathological case that i     since i x        this amounts to not
conditioning at all 
eq      introduces the conditioning operator   essentially used by walley        and
moral         we prefer the slightly modified version   introduced by de cooman and
quaeghebeur         since i xi   f   i xi   f  xi      we can characterise the updated model
dn  xi through the set

 
dn xi    g  g x n  i     i xi   g  dn  g x n  i   
in the specific sense that for all g  g x n  i   

g  dn xi  i xi   g  dn  i xi   g  dn  xi  

   

and for all f  g x n   
f  dn  xi   f     or f  xi      dn xi   
as the above equation shows  there is a one to one correspondence between dn  xi and
dn xi   we prefer this second operator because we find it more intuitive that conditioning
a gamble on some xi  x i produces a gamble that depends only on the remaining n   i
variables  this will be useful for instance when combining conditional sets of gambles  as
in proposition    later on 
it is immediate to prove that conditioning preserves coherence 
proposition    let dn be a coherent set of desirable gambles on x n   and consider any
subset i of n   then dn xi is a coherent set of desirable gambles on x n  i  
   

fiirrelevant and independent natural extension for sets of desirable gambles

the order of marginalisation and conditioning can be reversed  under some conditions 
proposition    let dn be a coherent set of desirable gambles on x n   and consider any
disjoint subsets i and o of n   then for all xi  x i  
margo  dn xi     margio  dn  xi  
proof  consider any h  g x n   and observe the following chain of equivalences 
h  margo  dn xi    h  g x o   and h  dn xi
 h  g x o   and i xi   h  dn
 h  g x o   and i xi   h  margio  dn  
 h  g x o   and h  margio  dn  xi
 h  margio  dn  xi  
to end this section  let us briefly look at the consequences of this type of updating for
the coherent lower previsions associated with coherent sets of desirable gambles  this will
allow us to further back our claim that standard probability theory can be recovered as a
special case of the theory of coherent sets of desirable gambles  as it also allows us to derive
bayess rule 
let us denote by p n the lower prevision induced by the joint model dn   and by p   xi  
the conditional lower prevision on g x n  i   induced by the updated set dn xi   then for
any gamble g on x n  i  

 
p  g xi     sup     g    dn xi     sup    i xi    g     dn  
    

this allows us to clarify further that sets of desirable gambles are indeed more informative than coherent lower previsions  again using the example by moral        
example    consider again the lower prevision p and the coherent sets of desirable gambles d and d  from example    consider the event that x    a  which has  upper  probability zero in both d and d    when conditioning on this event  we obtain two different
updated sets  on the one hand 
d x    a     g  g x       g        g x      
whereas
d   x    a     g  g x       g a    g b        
this means that there sets represent different information when conditioning on the event
of probability zero x    a  indeed  if we apply eq       we see that the first one induces the
vacuous lower prevision p  g x    a    min g a   g b   for any gamble g on x     while the
second one induces the uniform linear prevision  p  g x    a    g a  g b 
  
 
the lower previsions p n and p   xi   then satisfy a condition called the generalised
bayes rule  this follows from williams      b and miranda   zaffalon        thm     
p n  i xi    g  p  g xi         
   

    

fide cooman   miranda

we refer to the work by walley              for more information about this rule  it leads
to bayess rule in the special case that the joint model dn induces a precise prevision pn  
indeed  if we let g   i xn i   and generically denote probability mass by p  we infer from
eq       and the linearity of pn that pn  i xi   i xn i       p  i xn i    xi  pn  i xi      or in other
words that p xn     p xn  i  xi  p xi    see section     for more details on the relationship
between coherent lower  and linear  previsions and sets of desirable gambles 
remark    a lower prevision p is also in a one to one correspondence with a so called
set of almost desirable gambles  namely
d     f   p  f        
this set corresponds to the uniform closure of any coherent set of desirable gambles d that
induces p by means of eq       although sets of almost desirable gambles are interesting 
and allow us work with non strict preference relations  walley        section         we have
opted for considering the more general model of coherent sets of desirable gambles for two
 admittedly related  reasons  like sets of strictly desirable gambles  sets of almost desirable
gambles do not permit to elicit boundary behaviour  which may be important when updating  as we have discussed in example    moreover  conditioning a set of almost desirable
gambles may produce incoherent models when sets of probability zero are involved  miranda
  zaffalon        proposition   and example     if we take for instance x     x           
and the linear prevision p with mass function p          and p             then its associated
set of almost desirable gambles is 
d    f   f          f             
and if we use eq      to condition this set d on x       we get g x        which is an
incoherent set  this means that for such sets of almost desirable gambles  and more generally
for sets of gambles associated with non strict preferences  the conditioning operation must
be modified in order to avoid producing incoherences  it turns out there is no unique way
of doing this  see the work by hermans        for more details  

   irrelevant natural extension
we are now ready to look at the simplest type of irrelevance judgement 
definition    consider two disjoint subsets i and o of n   we say that xi is epistemically
irrelevant to xo when learning the value of xi does not influence or change our subjects
beliefs about xo  
when does a set dn of desirable gambles on x n capture this type of epistemic irrelevance  observing that xi   xi turns dn into the updated set dn xi of desirable gambles
on x n  i   we come to the following definition 
definition    a set dn of desirable gambles on x n is said to satisfy epistemic irrelevance
of xi to xo when
margo  dn xi     margo  dn   for all xi  x i  
   

    

fiirrelevant and independent natural extension for sets of desirable gambles

as before  for technical reasons we also allow i and o to be empty  it is clear from
the definition above that the variable x   about whose constant value we are certain 
is epistemically irrelevant to any variable xo   similarly  we see that any variable xi is
epistemically irrelevant to the variable x   this seems to be in accordance with intuition 
we refer to levi        and walley              for related notions in terms of coherent
lower previsions or credal sets 
the epistemic irrelevance condition can be reformulated trivially in an interesting and
slightly different manner 
proposition     let dn be a coherent set of desirable gambles on x n   and let i and o
be any disjoint subsets of n   then the following statements are equivalent 
 i  margo  dn xi     margo  dn   for all xi  x i  
 ii  for all f  g x o   and all xi  x i   f  dn  i xi   f  dn  
proof  it suffices to take into account that f  margo  dn   if and only if f  dn and
f  g x o    while f  margo  dn xi   if and only if f  g x o   and i xi   f  dn  
irrelevance assessments are most useful in constructing sets of desirable gambles from
other ones  suppose we have a coherent set do of desirable gambles on x o   and an assessment that xi is epistemically irrelevant to xo   where i and o are disjoint index sets  then
how can we combine do and this structural irrelevance assessment into a coherent set of
desirable gambles on x io   or more generally  on x n   where n  i  o  to see how this
can be done in a way that is as conservative as possible  we introduce the following sets

 
airr
i xi   g   g  do and xi  x i
    
io    posi
   h  g x io         xi  x i  h xi      do        

    

irr
clearly  and this will be quite important in streamlining proofs  airr
o   do and ai  
g x i       the intuition behind eq       is to consider the cylindrical extensions of the
gambles in do to the space x io   and to take the natural extension of the resulting set 
the alternative expression      shows that this is equivalent to selecting a gamble in do
for a finite number of xi in x i   and to derive from them a gamble on x io  
let us give two important properties of these sets 

lemma     consider disjoint subsets i and o of n   and a coherent set do of desirable
gambles on x o   then airr
io is a coherent set of desirable gambles on x io  
proof pd   assume ex absurdo that there are n      real k     and fk  airr
io such
that nk   k fk      it follows from the assumptions that there
are


   
 
 
    n  and
pn
xi  x i such that f  xi           this implies that in the sum k   k fk  xi         not all
the gambles k fk  xi     are zero  since the non zero ones belong to do   this contradicts the
coherence of do  
d   consider any h  g x io       then clearly h xi        and therefore h xi     
do      for all xi  x i   since h       it follows that indeed h  airr
io  
d   trivial  using that posi posi d     posi d  for any set of desirable gambles d 
   

fide cooman   miranda

lemma     consider disjoint subsets i and o of n   and a coherent set do of desirable
gambles on x o   then margo  airr
io     do  
proof  it is obvious from eq       that indeed 
irr
margo  airr
io     aio  g x o      h  g x o         xi  x i  h  do      

   h  g x o        h  do         do  
theorem     consider disjoint subsets i and o of n   and a coherent set do of desirable gambles on x o   then the smallest coherent set of desirable gambles on x n that
marginalises to do and satisfies the epistemic irrelevance condition      of xi to xo is
irr
given by extn  airr
io     posi g x n      aio   
proof  consider any coherent set dn of desirable gambles on x n that marginalises to do
and satisfies the irrelevance condition       this implies that margo  dn xi     do for any
xi  x i   so g  dn xi   and therefore i xi   g  dn for any g  do   by eq       so we infer
irr
by coherence that airr
io  dn   and therefore also that posi g x n      aio    dn   as
a consequence  it suffices to prove that  i  extn  airr
io   is coherent   ii  marginalises to do  
and  iii  satisfies the epistemic irrelevance condition       this is what we now set out to
do 
 i   by lemma     airr
io is a coherent set of desirable gambles on x io   so proposition  
irr
implies that posi g x n      airr
io     extn  aio   is a coherent set of desirable gambles
on x n  
 ii   marginalisation leads to 
irr
irr
margo  extn  airr
io      margo  margio  extn  aio       margo  aio     do  

where the first equality follows from eq       the second from eq       and the third from
lemma    
 iii   it follows from proposition   and eq      that
irr
irr
margo  extn  airr
io  xi     margio  extn  aio   xi   aio xi  

and we have just shown in  ii  that margo  extn  airr
io      do   so proving the equality
irr    amounts to proving that airr x   d  
margo  extn  airr
 x
 
 
marg
 ext
 a
i
n
o
o
io
io
io i
irr x   so we concentrate on the
it is obvious from the definition of airr
that
d

a
o
i
io
io
irr
converse inclusion  consider any h  airr
io xi   then i xi   h  aio   so we infer from
eq       that in particular h  do       but since airr
io is coherent by lemma     we see
that h      and therefore indeed h  do  
theorem    is mentioned briefly  with only a hint at the proof  by moral        section      
we believe the result is not so trivial and have therefore decided to include our version of
the proof here  our notion of epistemic irrelevance is called weak epistemic irrelevance by
moral  for his version of epistemic irrelevance he requires in addition that dn should be
equal to the irrelevant natural extension of do   and therefore be the smallest model that
satisfies the  weak  epistemic irrelevance condition       while we feel comfortable with
   

fiirrelevant and independent natural extension for sets of desirable gambles

his reasons for doing so  we have decided not to follow his lead in this  our main reason
for not doing so is tied up with the philosophy behind partial assessments  or probability
specifications   each such assessment  be it local  e g  stating that all gambles in some set
a are desirable  or structural  e g  imposing symmetry or irrelevance   serves to further
restrict the possible models  and at each stage the most conservative  smallest possible 
model is considered to be the one to be used  and possibly further refined by additional
assessments  only calling a model irrelevant when it is the smallest weakly irrelevant model
would  we believe  conflict with approach  larger models obtained later on by adding  say 
further symmetry assessments  would no longer deserve to be called irrelevant  but would
still satisfy all the relevant conditions  
we infer from theorem    and eq       that extreme rays of the irrelevant natural
extension have the form i xi   g  where g is some extreme ray of do   so representing or
finding this extension on a computer has a computational complexity that is linear in the
number of extreme rays of do and linear in the number of elements of the product set x i 
and therefore essentially exponential in the number  i  of irrelevant variables xi   i  i  more
generally  this will also be the case in the fairly general situation where do is generated by
a finite number of so called generalised extreme rays  as described in detail in by couso
and moral        section    and quaeghebeur      a  section    

   independent natural extension
we now turn to independence assessments  which constitute a symmetrisation of irrelevance
assessments 
definition    we say that the variables xn   n  n are epistemically independent when
learning the values of any number of them does not influence or change our beliefs about the
remaining ones  for any two disjoint subsets i and o of n   xi is epistemically irrelevant
to xo  
when does a set dn of desirable gambles on x n capture this type of epistemic independence 
definition    a coherent set dn of desirable gambles on x n is called independent if
margo  dn xi     margo  dn   for all disjoint subsets i and o of n   and all xi  x i  
in this definition  we allow i and o to be empty too  but doing so does not lead to any
substantive requirement  because the condition margo  dn xi     margo  dn   is trivially
satisfied when i or o are empty 
independent sets have an interesting factorisation property  which means that a product
of two desirable gambles that depend on different variables should again be desirable  provided one of the gambles is positive  we refer to the work by de cooman et al         for another paper where factorisation is considered in this somewhat unusual form  factorisation
follows from the characterisation of epistemic irrelevance we have given in proposition   
and the properties of coherence 

   

fide cooman   miranda

proposition     factorisation of independent sets   let dn be an independent coherent set of desirable gambles on x n   then for all disjoint subsets i and o of n and for
all f  g x o   
f  dn   g  g x i       f g  dn   
    
proof  fix arbitrary disjoint subsets i and o of n and any f  g x o    we show that
eq       holds  the  part is trivial  for the  part  assume p
that f  dn and consider
any g  g x
 
 
we
have
to
show
that
f
g

d
 
since
g
 
n
xi x i i xi   g xi    we see
p i   
that f g   xi x i g xi  i xi   f   now since f  margo  dn    we infer from the independence
of dn and proposition    that f  dn xi and therefore i xi   f  dn for all xi  x i   we
conclude that f g is a positive linear combination of elements i xi   f of dn   and therefore
belongs to dn by coherence 
independence assessments are useful in constructing joint sets of desirable gambles from
marginal ones  suppose we have coherent sets dn of desirable gambles on x n   for each n  n
and an assessment that the variables xn   n  n are epistemically independent  then how
can we combine the dn and this structural independence assessment into a coherent set of
desirable gambles on x n in a way that is as conservative as possible  if we call independent
product of the dn any independent dn  d x n   that marginalises to the dn for all n  n  
this means we are looking for the smallest such independent product 
further on  we are going to prove that such a smallest independent product always exists 
before we can do this elegantly  however  we need to do some preparatory work involving
particular sets of desirable gambles that can be constructed from the dn   consider  as a
special case of eq        for any subset i of n and any o  n   i 

 
i xi   g   g  do and xi  x i
    
airr
i o     posi

 
  h  g x i o          xi  x i  h xi      do       
    
and use these sets to construct the following set of gambles on x n  


  

 
irr
nn dn    posi g x n     
airr
 
posi
a
n   n  n 
n   n  n   
nn

    

nn

where the second equality holds because the set g x n     is included in airr
n   n  n  for every
n  n   the set nn dn gathers the subsets of g x n   we can derive from the different dn
by means of an assumption of epistemic irrelevance  and considers the natural extension of
their union  which is the minimal coherent superset  we shall show that it is indeed coherent
in proposition    below   observe that  quite trivially  airr
 n   n  n    dn and therefore
m n  dm   dn   we now prove a number of important properties for nn dn  
proposition     coherence   let dn be coherent sets of desirable gambles on x n   n 
n   then nn dn is a coherent set of desirable gambles on x n  
s
proof  let  for ease of notation  an    nn airr
n   n  n    it follows from theorem  
that we have to prove that an avoids non positivity  so consider any f  posi an    and
assume ex absurdo that f     then there are n    and fn  airr
n   n  n  such that
   

fiirrelevant and independent natural extension for sets of desirable gambles

p
irr
f  
nn n fn and maxnn n      recall that the an   n  n  are convex cones  by
lemma      fix arbitrary m  n   let

 
an
m    fm  xn   m        xn   m   x n   m    fm  xn   m            
then it follows from eq       that an
m is a finite non empty subset of dm   so the coherence
of dm   theorem   and lemma   imply that there is some mass function pm on x m with
expectation operator em such that  xm  x m  pm  xm       and
 xn   m   x n   m    fm  xn   m            em  fm  xn   m            
so if we define the gamble gn   m  on x n   m  by letting
gn   m   xn   m       em  fm  xn   m      
for all xn   m   x n   m    then gn   m      
since weqcan do this for all m  n   we can define the mass function pn on x n by letting
pn  xn      mn pm  xm       for all xn  x n   the corresponding expectation operator
en is of course the product operator of the marginals
em   but thenpit follows from the
p
reasoning and assumptions above that en  f     mn m en  fm     mn m en  gm    
   whereas f    leads us to conclude that en  f       a contradiction 
lemma     consider any disjoint subsets i  r and any o  n    i  r   then f  xr     
irr
airr
i o       for all f  air o  and all xr  x r  
   f  xr     on x i o    it
proof  fix f  airr
ir o  and xr  x r and consider the gamble g
follows from the assumptions that for all xi  x i  
g xi       f  xr   xi      do      
whence indeed g  airr
i o       
proposition     marginalisation   consider coherent marginal sets of desirable gambles dn for all n  n   let r be any subset of n   then margr  nn dn     rr dr  
proof  since we are interpreting gambles on x r as special gambles on x n   it is clear from
irr
eq       that for any r  r  airr
r  r  r   an   r  r    eqs      and      now tell us that
extn  rr dr    nn dn   if we invoke eq       this leads to
rr dr   margr  extn  rr dr     margr  nn dn   
so we can concentrate on the converse inequality 
consider therefore any f  margr  nn dn      nn dn    g x r    and assume ex
absurdo that f 
  rr dr  
it follows from the coherence of nn dn that f       see proposition      since f 
nn dn   there are s  n   fs  airr
n   s  s    s  s and g  g x n   with g    such that
p
f   g   ss fs   clearly s   r      because s   r    would imply that  with xn  r any
   

fide cooman   miranda

p
element of x n  r   f   f  xn  r       g xn  r       ssr fs  xn  r      rr dr   since we
infer from lemma    that fs  xn  r      airr
r  s  s       for all s  s  r 
it follows from the coherence of rr dr  proposition      f 
  rr dr and lemma  
that   
  posi  f    rr dr    let  for ease of notation 
 

an
sr    fs  zn  r       s  s  r  zn  r  x n  r   fs  zn  r           

then an
sr is clearly a finite subset of rr dr  to see this  use a similar argument as above 
involving lemma      so we infer from lemma   that there is some mass function pr on
x r with associated expectation operator er such that


  xr  x r  pr  xr      
 s  s  r  zn  r  x n  r  er  fs  zn  r        


er  f       
p
p
we then infer from f   f  zn  r       g zn  r       ssr fs  zn  r       ss r fs  zn  r    
that for all zn  r in x n  r  
    er  f    er  g zn  r      

x

er  fs  zn  r     

ssr

 

x

ss r

er  fs  zn  r       

x

x

pr  xr  fs  zn  r   xr   

ss r xr x r

the gambles fs    xr   on x n  r  where xr  x r and s  s   r  can clearly not all be zero 
the non zero ones all belong to sn  r ds for all s  n   r and all xr  x r   by lemma    
so the coherence of the set of desirable gambles
sn  r ds  proposition     guarantees
p
p
that their positive linear combination h    ss r xr x r pr  xr  fs    xr   also belongs to
sn  r ds   this contradicts h     hence indeed f  rr dr  
proposition     conditioning   consider coherent marginal sets of desirable gambles
dn for all n  n   and define nn dn by means of eq        then nn dn is independent 
for all disjoint subsets i and o of n   and all xi  x i  
margo  nn dn xi     margo  nn dn     oo do  
this could probably be proved indirectly using the semi graphoid properties of conditional epistemic irrelevance  proved by moral         it appears we need reverse weak
union  reverse decomposition  and contraction  here we give a direct proof  proposition   
can also be seen as a special case of the present result for i    
proof  fix arbitrary disjoint subsets i and o of n   and arbitrary xi  x i   the second
equality follows from proposition     so we concentrate on proving that margo  nn dn xi  
coincides with oo do   the proof is similar to that of proposition    
we first show that oo do  nn dn xi   consider any gamble f  oo do   then we
have to show that i xi   f  nn dn   by assumption  there are non negative reals
p o and
  gambles fo  airr
for
all
o

o
and
g

g x
 
such
that
f
 
g
 
o   
oo o fo
o  o  o 
   

fiirrelevant and independent natural extension for sets of desirable gambles

and max   maxoo o        fix o  o and let fo    i xi   fo  g x n    then it follows

from the definition of airr
o  o  o  that fo  zn   o        i xi    zi  fo  zo  o       do      for all

irr
zn   o   x n   o    since fo       the definition of airr
n   o  o  tells us that fo  an   o  o   
   i xi   g  g x n    then g      so it follows from eq       that
similarly  if we let g  p
indeed i xi   f   g    oo o fo  nn dn  
we now turn to the converse inclusion  nn dn xi  oo do   consider any gamble
f  g x o   such that i xi   f belongs to nn dn and assume ex absurdo that f 
  oo do  
let  for the sake of notational simplicity  c    n    i  o  
it follows from the coherence of nn dn that f       see proposition      since i xi   f 
nn dn   there are s  n   fs  airr
n   s  s    s  s and g  g x n   with g    such that
p
i xi   f   g   ss fs   clearly s   op     because s   o    would imply that  with xc any
element of x c   f   g xi   xc       sso fs  xi   xc      oo do   since lemma    shows
that fs  xi   xc      airr
o  s  s  for all s  s  o 
it follows from the coherence of oo do  proposition      f 
  oo do and lemma  
that   
  posi  f    oo do    let  for ease of notation 
an
so     fs  xi   zc       s  s  o  zc  x c   fs  xi   zc            
then an
so is clearly a finite subset of oo do  to see this  use a similar argument as above 
involving lemma      so we infer from lemma   that there is some mass function po on
x o with associated expectation operator eo such that


  xo  x o  po  xo      
 s  s  o  zc  x c  eo  fs  xi   zc        


eo  f       
since f   g xi   zc     
we see that 

p

sso fs  xi   zc     

    eo  f    eo  g xi   zc      

p

ss o

x

fs  xi   zc     for any choice of zc  x c  

eo  fs  xi   zc     

sso

 

x

x

eo  fs  xi   zc       

x

po  xo  fs  xi   zc   xo    

ss o xo x o

ss o

similarly 
for any zc px c and any zi  x i    xi   we then infer from     g zi   zc      
p
sso fs  zi   zc      
ss o fs  zi   zc     that 
   eo  g zi   zc      

x

eo  fs  zi   zc     

sso

 

x

eo  fs  zi   zc       

x

x

po  xo  fs  zi   zc   xo    

ss o xo x o

ss o

hence
h   

x

x

po  xo  fs      xo      

ss o xo x o

   

fide cooman   miranda

the gambles fs      xo   on x ic  where xo  x o and s  s   o  can clearly not all be
zero  the non zero ones all belong to sic ds   by lemma     but then the coherence of
the set of desirable gambles sic ds  proposition     guarantees that their positive linear
combination h is an element of cc dc for which h     a contradiction  hence indeed
f  oo do  
theorem     independent natural extension   consider the coherent sets dn of desirable gambles on x n   n  n   then nn dn is the smallest coherent set of desirable
gambles on x n that is an independent product of the coherent sets of desirable gambles dn  
n  n 
we call nn dn the independent natural extension of the marginals dn  
proof  it follows from propositions        and    that nn dn is an independent product
dn of the dn   to prove that it is the smallest one  consider any independent product dn of
the dn   fix n  n   if we consider any xn   n   x n   n    then margn  dn xn   n      dn   by
assumption  if we therefore consider any g  dn   this in turn implies that g  dn xn   n   
and therefore i xn  n    g  dn   by eq       so we infer by coherence that airr
n   n  n   dn  
and therefore also that nn dn  dn  
one of the most useful properties of the independent natural extension  is its associativity  it allows us to construct the extension in a modular fashion 
theorem     associativity of independent natural extension   let n  and n  be
disjoint non empty index sets  and consider dnk  d x nk    nk  nk   k         then given
dn     n  n  dn  and dn     n  n  dn    it holds that
dn   dn    nn  n  dn  
proof  we first prove that dn   dn   nn  n  dn   fix any gamble h  airr
 n    n   
and any xn   x n    so h xn       dn       by eq        it follows from eq       that
there are gambles hnxn   airr
n    n    n         for all n   n  such that
 

h xn      

x

hnxn   
 

n  n 

define  for any n   n    the gamble gn  on x n by letting gn   xn   n           hnxn   xn    n       
 
for all xn  x n   then it follows from eq       that gn   xn   n         dn       for all
xn  x n   and therefore gn   airr
n   n    n          moreover 
h 

x

i xn    h xn     

x

i xn   

xn  x n 



xn  x n 

x

n  n 

hnxn   
 

x

x

n  n  xn  x n 

i xn    hnxn   
 

x

gn   

n  n 

it therefore follows from eq       that h  nn  n  dn   since clearly h      because of
eq        we conclude that airr
 n    n     nn  n  dn   similarly  we can prove the
   

fiirrelevant and independent natural extension for sets of desirable gambles

inclusion airr
 n    n     nn  n  dn   and therefore also dn   dn   nn  n  dn   again
by eq       
next  we prove the converse inclusion nn  n  dn  dn   dn    consider any gamble
h  nn  n  dn   then by eq       there are hn  airr
n  n    n  n       for all n  n   n 
such that
x
x
x
h
hn   h    h    where h    
hn  and h    
hn   
n  n 

nn

n  n 

fix any xn   x n    for any n   n    hn   airr
n  n    n    n         implies that
irr
hn   xn       an    n    n         by lemma     hence h   xn       dn       by eq       
irr
and therefore h   airr
 n    n         by eq        similarly  h   a n    n          and
therefore h  dn   dn  by eq        since clearly h      
to conclude this section  we establish a connection between independent natural extension for sets of desirable gambles and the eponymous notion for coherent lower previsions 
studied in detail by de cooman et al          given coherent lower previsions p n on g x n   
n  n   their independent natural extension is the coherent lower prevision given by


x
e n  f      sup
min f  zn   
 hn  zn    p n  hn    zn   n     
    
hn g x n   zn x n
nn

nn

for all gambles f on x n   it is the point wise smallest  most conservative  joint lower
prevision that satisfies the property of coherence by walley        ch     with the marginals
p n given an assessment of epistemic independence of the variables xn   n  n  
the correspondence between coherent lower previsions and sets of desirable gambles has
been mentioned in section      we show next that if we have such a correspondence between
the marginals  it also holds between their associated independent natural extensions 
theorem     let dn be coherent sets of desirable gambles on x n for n  n   and let
nn dn be their independent natural extension  consider the coherent lower previsions
p n on g x n   given by p n  fn      sup    r   fn    dn   for all fn  g x n    then the
independent natural extension e n of the marginal lower previsions p n   n  n satisfies
e n  f     sup    r   f    nn dn   for all f  g x n   
proof  fix any gamble f in g x n    first  consider any real number    e n  f    then
it
pfollows from eq       that there are      and hn  g x n    n  n such that f   
nn gn   where we defined the gambles gn on x n by gn  zn      hn  zn  p n  hn  zn   n       
 for all zn  x n   but it follows from the definition of p n that
gn  zn   n        hn  zn   n       p n  hn  zn   n           dn for all zn   n   x n   n   
since clearly gn       eq       then tells us that gn  airr
n   n  n    and we infer from
p
eq       that nn gn  nn dn   and therefore also f    nn dn   this guarantees
that e n  f    sup    r   f    nn dn   
   

fide cooman   miranda

to prove the converse inequality  consider any real number  such that f   nn dn  
we infer using eq       that there are gambles hn  airr
n   n  n    n  n such that f   
p
nn hn   for all n  n and zn   n   x n   n    it follows from eq       that hn  zn   n      
dn       and therefore p n  hn  zn   n           whence
x

nn

 x
hn  zn    p n  hn  zn   n       
hn  zn    f  zn     
nn

we then infer from eq       that e n  f     and so we find that indeed also e n  f   
sup    r   f    nn dn   
in a similar way as for the irrelevant natural extension  we infer from eqs       and     
that the computational complexity of finding or representing the independent natural extension of a number of marginal models dn is linear in the number of extreme rays of the
dn   and linear in the number of elements of the sets x n   n  and therefore essentially exponential in the number  n   of independent variables xn   n  n   similar results will hold
in the more general case that the marginal sets of desirable gambles can be characterised
using a finite number of generalised extreme rays  as described by couso and moral       
and quaeghebeur      a  

   maximal coherent sets of desirable gambles and strong products
we have seen that for any collection dn   n  n of marginal coherent sets of desirable gambles  there always is a smallest independent product  which we have called the independent
natural extension nn dn   we have proceeded in this way because we had no way of
excluding that there may be other  larger  independent products  indeed  we show in this
section that such is the case  using the notions of independent natural extension and maximal coherent sets of desirable gambles  we can consistently define a specific independent
product that typically strictly includes the independent natural extension  we call it the
strong product  because it is very close in spirit to the strong product used in coherent lower
prevision theory  couso  moral    walley        cozman              de cooman et al  
       as we shall see in theorem    
    independent products of maximal coherent sets of desirable gambles
we begin by mentioning a number of interesting facts about maximal coherent sets of desirable gambles  and their independent products  the following result was already  essentially 
proved by couso and moral         updating a coherent set of desirable gambles preserves
its maximality 
proposition     let mn  m x n    and consider any disjoint subsets i and o of n  
then margo  mn xi    m x o   for all xi  x i  
proof  suppose there is some xi in x i for which margo  mn xi   is not maximal  this
means that there is some f  g x o   for which neither f nor f belong to mn xi   which
in turn implies that neither i xi   f nor i xi   f belong to mn   but this contradicts the
maximality of mn  
   

fiirrelevant and independent natural extension for sets of desirable gambles

on the other hand  taking the independent natural extension does not necessarily preserve maximality  if mn  m x n   for all n  n   then it does not necessarily hold that
nn mn  m x n    as the counterexample in section a   shows  interestingly  that example does not present an isolated case  when we consider two binary variables  the independent natural extension of two maximal coherent sets of desirable gambles is never maximal 
as we can see in our next proposition  it is an open problem whether this negative result
can be extended to any finite set of  not necessarily binary  variables 
an intuitive explanation of this result is that each of the maximal sets of gambles is a
half space where we are excluding one of the two rays determining its boundary  so as not
to have the zero gamble as desirable  and when we apply the notion of independent natural
extension we end up missing three of the four parts of the boundary of the set of gambles
in the product space  preventing this product from being maximal 
proposition     consider x     x             and let m  and m  be any maximal coherent sets of desirable gambles on x   and x     respectively  then their independent natural
extension m   m  is not a maximal coherent set of desirable gambles 
proof  let pk be the mass function of the linear prevision pk determined by mk   k        
we deduce from theorem    that the lower prevision determined by m   m  is the independent natural extension of the linear previsions p  and p    and therefore equal to the
independent product p      of these linear previsions  see proposition    in de cooman
et al          this is the linear prevision on g x         with mass function defined by
p       x    x       p   x   p   x    for all  x    x     x        
before we really get the proof on the tracks  we make a useful observation  any maximal
mk is a semi plane through the origin that excludes the origin  includes its boundary on
one side of the origin  and excludes the boundary on the other side  this means that
there is unique element ak of x k where all the elements fk of the included boundarythose
elements fk of mk for which pk  fk   is zeroare positive fk  ak        we denote the single
other element of x k by bk   in other words  if we express
mk    fk   pk  fk          fk   pk  fk        fk  mk   
and consider fk  mk with pk  fk     pk  ak  fk  ak     pk  bk  fk  bk        then if fk  ak      
there cannot be any gk  mk with pk  gk       and gk  bk        otherwise  the zero gamble
k 
would be a convex combination of fk and gk  it would be     fk  fgkk  b
 bk   gk   and it would thus
belong to mk   a contradiction with its coherence  note that in this reasoning we assume
implicitly that pk  ak            otherwise  if for instance pk  ak        a gamble fk satisfies
pk  fk       if and only if fk  bk        and then fk can only belong to mk if fk  ak       
we are now ready to turn to the proof  there are a number of possibilities 
first  assume that both pk  ak       and pk  bk       for k         consider any gamble h
on x       such that h a    a      h b    b         min h      max h     and
p       h    p   a   p   b   h a    b      p   b   p   a   h b    a        
of course  there always is such a gamble  and we are going to show that it does not belong
to m   m   
   

fide cooman   miranda

assume ex absurdo that it does  meaning that there are h   airr
       and h  
irr
a       such that h  h    h    by definition  h     x     m       and therefore
p   h     x        for all x   x     similarly  p   h   x          for all x   x     hence
    p       h   p       h      p       h        taking into account that
x
x
p       h     
p   x   p   h     x        and p       h     
p   x   p   h   x          
x  x  

x  x  

as a consequence  p       h      p       h         but this in turn implies that p   h     x      
  for all x   x   and that p   h   x           for all x   x     given the observations
made at the start of the proof  we therefore come to the conclusion that h   a    x      
for all x   x   and h   x    a       for all x   x     but then h a    a        implies
that h   a    a      h   a    a         which in turn implies that h   b    a      h   a    b        
because both     p   h     a       p   a   h   a    a      p   b   h   b    a    and     p   h   a        
p   a   h   a    a      p   b   h   a    b     so we eventually find that
h b    a     h   b    a      h   b    a       and h a    b     h   a    b      h   a    b       
which contradicts min h     
now  if any non zero h such that h a    a      h b    b          p       h  with min h    
and max h     does not belong to m  m    neither does h  and this means that m  m 
is not maximal 
next we consider the cases where one of the marginal linear previsions are degenerate 
assume for instance that p   a        and p   a             the other cases where only one of
the marginals is degenerate are similar   consider a non zero gamble h  
  m  such that
p   h         always possible   then h   m  and it follows from the observations made
in the beginning of this proof that h   a         now consider the gamble h defined by
h b    a       h   a        

h b    b       h   b       

h a    a      h a    a         

it follows that p       h    p   h         to see that h 
  m   m    assume that there
irr
are f   airr
and
f

a
such
that
h

f
 
    f    but then     p       h  
      
      
p       f      p       f       and therefore     p       f      p   a   f   b    a      p   b   f   b    b    
on the other hand  f   airr
       also implies that p   f     x        for all x   x     and
therefore f   b    a       and f   b    b        hence f   b           and therefore f   b      
h b        h  and since h  
  m    it follows that f   b      
  m    because we must have by
definition that f   b       m        this can only mean that f   b           whence h     
contradicting h   a         this implies that h cannot belong to m   m   
similarly  if h belongs to m   m    then there must be g   airr
       and g  
irr
a       such that h  g    g    but then     p       h   p       g      p       g    
   whence     p       g      p   a   g   b    a      p   b   g   b    b     but g   airr
       also
implies that p   g     x        for all x   x     and therefore g   b    a       and g   b    b    
   hence g   b           and therefore we find that g   a    a       and g   a    b        if 
say  g   a    a        then g     a        because also g   b    a         which contradicts that
irr
g     a     m        a consequence of g   airr
          since  moreover  g   a      
implies that    p   g   a         p   a   g   a    a      p   b   g   a    b    and therefore also that
   

fiirrelevant and independent natural extension for sets of desirable gambles

g   a    a       or g   a    b        it follows that h a    a       or h a    b        which
contradicts h a    a      h a    b             hence  h does not belong to m   m 
either  so m   m  is not maximal 
finally  we turn to the cases where all marginals are degenerate  assume for instance
that p   a      p   a         the other cases where both marginals are degenerate  are similar  
consider the gamble h given by
h a    a      h b    b        

h b    a        

h a    b        

then p       h    p   b   p   b   h b    b         to see that h 
  m   m    assume ex absurdo
irr
that there are u   airr
and
u

a
such
that
h
 u    u    then u   airr
 
      
      
      
implies that
u   b    b      p   u     b        and u   b    a      p   u     a        
and similarly u   airr
       implies that u   b    b      p   u   b          and u   a    b     
p   u   a           now it also follows from p       h       p       u       and p       u      
that u   b    b      p       u        and u   b    b      p       u         and as a consequence we
find that u   a    b       and u   b    a        if  say  u   a    b        then u     b        because
also u   b    b         which contradicts u     b     m        a consequence of u   airr
         
as a consequence      h a    b     u   a    b      u   a    b        a contradiction  hence
indeed  h does not belong to m   m   
irr
finally  assume ex absurdo that there are v   airr
       and v   a       such that
h  v    v    then v   airr
       implies that
v   b    b      p   v     b        and v   b    a      p   v     a        
and similarly v   airr
       implies that v   b    b      p   v   b          and v   a    b     
p   v   a           now it also follows from p       h       p       v       and p       v      
that v   b    b      p       v        and v   b    b      p       v         and as a consequence we find
that v   a    b       and v   b    a        if  say  v   a    b        then v     b        because also
v   b    b         which contradicts v     b     m        a consequence of v   airr
          as
a consequence      h b    a     v   b    a      v   b    a        a contradiction  this shows
that h does not belong to m   m  either  and therefore this set is not maximal 
on the other hand  the example a   in the appendix shows that there are independent
products of maximal coherent sets of desirable gambles that are maximal  hence  the independent natural extension of maximal coherent sets is not their only independent product 
indeed  we can establish the following result 
proposition     consider maximal coherent sets of desirable gambles m   m x     and
m   m x     
 i  let d      be any coherent set of desirable gambles on x       such that m   m  
d        then d      is independent with marginals m  and m   
 ii  as a consequence  a maximal set of gambles m      is an independent product of its
marginals if and only if m      x  is the same for all x   x   and m      x  is the
same for all x   x    
   

fide cooman   miranda

proof   i   we have for every x   x   that m     m   m   x   d      x    where
the equality follows from proposition     since m  is maximal  this implies that m   
d      x  for all x   x     and a similar argument shows that m    d      x  for all
x   x     on the other hand  it follows from proposition    that m    marg   m   m    
marg   d         since m  is maximal  this implies that m    marg   d         and a similar
argument shows that m    marg   d         in summary  we see that marg   d         
d      x  for all x   x     and marg   d          d      x  for all x   x     showing that
d      is indeed independent 
 ii   it follows from the definition of an independent product that it is necessary that
m      x  and m      x  should be the same for all x  and x    respectively  to see that
this is also a sufficient condition for m      to be an independent product  note that in
that case m      x   m      x   m        and that the sets m      x  and m      x  are
maximal  by proposition     on the other hand  proposition    implies that
marg   m      x   m      x      m      x   marg   m        
so both sets are equal  similarly  we deduce that
marg   m      x   m      x      m      x   marg   m        
and therefore marg   m         marg   m         m        invoking the first part of the
proposition  we find that m      is an independent product of its marginals 
the first part of this proposition provides us with a simple characterisation of the
independent products of two maximal sets  they are simply those coherent supersets of
the independent natural extension  in particular  this means that any maximal superset of
this independent natural extension will be an independent product  so two maximal sets
always have maximal products  although these will differ from the independent natural
extension   the second part implies that if the sets of conditional gambles coincide for all
the conditioning events  then they automatically agree with the marginal sets of gambles 
and as a consequence the set is an independent product 
    the strong product and its properties
now consider the case where we have coherent marginal sets of desirable gambles dn for
all n  n   we define their strong product nn dn as the set of desirable gambles on the
product space x n given by  
 
nn dn   
 nn mn   mn  m dn    n  n    
where m dn   is given by eq       this strong product corresponds is the set of desirable
gambles determined by a notion of independence that is more restrictive than those of epistemic irrelevance and independence considered so far  that of strong independence  couso
et al         cozman         sometimes called type   independence  de campos   moral 
   as this paper focusses on independent natural extension  because that has a much more direct behavioural
justification  we will forgo discussing the complexity of computing this strong product  which  on the
face of it  appears to be significantly higher than that for independent natural extension 

   

fiirrelevant and independent natural extension for sets of desirable gambles

       strong independence means that the associated joint credal set is the convex hull of
the set of linear previsions that are the stochastic independent products of linear previsions
that dominate the marginals  or  equivalently  that the associated lower prevision is the
lower envelope of the products of the linear previsions that dominate the marginals  this
will be clearer after theorem    
for maximal coherent sets of desirable gambles mn  m x n    n  n the strong product and the independent natural extension coincide  nn mn   nn mn   as clearly
m mn      mn    taking into account proposition     we deduce that the strong product
of maximal coherent sets of desirable gambles is not necessarily maximal  example a   in
the appendix shows that there are other independent products that may strictly include
the strong product 
the marginalisation properties of the strong product follow directly from those of the
independent natural extension 
proposition     marginalisation   consider coherent sets of desirable gambles dn for
all n  n   let r be any subset of n   then margr  nn dn     rr dr  
proof  consider any f  g x r   and observe the following chain of equivalences 
f  nn dn   mn  m dn    n  n  f  nn mn
  mn  m dn    n  n  f  rr mr
  mr  m dr    r  r f  rr mr
 f  rr dr  
where the second equivalence follows from proposition    
next  we show that the strong product of some coherent marginal sets of desirable gambles
dn is an independent product of these marginals  in order to do so  we first establish the
following simple yet powerful result 
j
  j  j be any non empty family of independent coherent sets
proposition     let dn
t
j
of desirable gambles on x n   then their intersection dn    jj dn
is an independent
coherent set of desirable gambles on x n  

proof  consider any disjoint subsets i and o of n   and any xi  x i   then
j
xi  
h  margo  dn xi     j  j h  margo  dn
j
  j  j h  margo  dn
 

 h  margo  dn   
proposition     consider coherent marginal sets of desirable gambles dn for all n  n  
then their strong product nn dn is an independent product of these marginals 
proof  taking into account proposition     all we need to show is that the sets dn are the
marginals of the strong product nn dn   this is an immediate consequence of proposition    
   

fide cooman   miranda

the strong product may strictly include the independent natural extension  as we can
see from the example in section a    it is an open question whether  like the independent natural extension  the strong product is associative  although we have not been
able to prove associativity in general  it is not difficult to show that it suffices to establish it for maximal sets of desirable gambles  and that one of the inclusions  namely
nn  n  mn   nn  mn     nn  mn   holds because the strong product always includes the independent natural extension  we suspect  but have not been able to prove 
that the converse inclusion also holds  and that the strong product is associative  taking into
account that in its definition we are taking the intersection of sets of gambles determined
by an associative operator  the independent natural extension  
to conclude this section  we establish a connection between the strong product of sets
of desirable gambles and the eponymous notion for coherent lower previsions  studied for
instance by de cooman et al          see also cozman       for comments on the corresponding notion in terms of credal sets  which is sometimes called the strong extension  
given coherent lower previsions p n on g x n    n  n   their strong product is the coherent
lower prevision defined by
s n  f      inf  nn pn  f      n  n  pn  m p n   
for all gambles f on x n   the intuition behind this notion  taking into account the correspondence between coherent lower previsions and sets of desirable gambles discussed in
section      is that the intersection of a family of sets of desirable gambles is closely related
to taking the lower envelope of the associated family of coherent lower previsions 
if we start from linear previsions pn on g x n    their strong product corresponds to their
linear product nn pn   and it coincides also with their independent natural extension en  
if we begin with coherent lower previsions p n on g x n    their strong product s n is the
lower envelope of the set of strong products determined by the dominating linear previsions 
theorem     let dn be coherent sets of desirable gambles in g x n   for all n  n   and
let nn dn be their strong product  consider the coherent lower previsions p n on g x n  
given by p n  f      sup    r   f    dn    then the strong product s n of the marginal
lower previsions p n   n  n satisfies
s n  f     sup    r   f    nn dn    
proof  assume first of all that dn is a maximal coherent set of desirable gambles for all n in
n   then it follows that p n is a linear prevision  which we denote by pn   for all n  n   the
strong product of the linear previsions pn   n  n coincides with their linear independent
product nn pn   which is also their independent natural extension  use proposition   
from de cooman et al          since we have proved in theorem    that this is the
coherent lower prevision associated with nn dn   nn dn   we conclude that the strong
product nn dn is associated with the strong product of the linear previsions pn  
we move next to the general case  fix any gamble f on x n   consider any real number
   s n  f    for any n  n   consider any maximal coherent set of desirable gambles
mn  m dn    and the associated linear prevision pn   then clearly pn  m p n    hence
nn pn  f    s n  f       and we infer from the arguments above that then necessarily
   

fiirrelevant and independent natural extension for sets of desirable gambles

f    nn mn   hence f    nn dn   this leads to the conclusion that s n  f   
sup    r   f    nn dn   
conversely  consider any real number  such that f    nn dn   consider arbitrary
pn  m p n    n  n   then there are maximal coherent sets of desirable gambles mn 
m dn   inducing them  let dn be the set of strictly desirable gambles that induces pn   given
by eq       this set is coherent by walley        thm          consider the set dn dn   and
let us show that it is coherent  condition d  holds trivially because it is satisfied by dn   to
see that d  holds  taking into account that both dn and dn are coherent sets of gambles 
and in particular cones  it suffices to show that for any gamble f  dn and any g  dn   their
sum f   g belongs to dn  dn   consider thus such gambles f  g  if f  g x n       then it also
belongs to dn and as a consequence f   g  dn   on the other hand  if f  dn   g x n      
it follows that pn  f        whence pn  f   g    pn  f     pn  g   pn  f     p n  g      
and therefore f   g  dn   since both dn and dn are coherent  we deduce from this that
condition d  also holds  and as a consequence the set dn  dn is indeed coherent 
now  theorem   implies that there is some maximal coherent set of desirable gambles
mn  m dn  dn    m dn    and from walley        thm         we deduce that dn
and mn induce the same pn by means of eq       but then f    nn mn   and
therefore nn pn  f      using the argumentation above  hence s n  f      and therefore
s n  f    sup    r   f    nn dn   
together with theorem    and the fact that the strong product of lower previsions may
strictly dominate their independent natural extension  see example       in walley        
this also shows that the strong product of marginal sets of desirable gambles may strictly
include their independent natural extension  an explicit example will be given in appendix a   

   conditional irrelevance and independence
the final step we take in this paper  consists in extending our results from irrelevance and
independence to a simple but common form of conditional irrelevance and independence 
next to the variables xn in x n   we now also consider another variable y assuming values
in a finite set y 
consider two disjoint subsets i and o of n   we say that xi is epistemically irrelevant
to xo when  conditional on y   learning the value of xi does not influence or change our
beliefs about xo  
when does a set d of desirable gambles on x n  y capture this type of conditional
epistemic irrelevance  clearly  we should require that 
margo  dxi   y    margo  dy  for all xi  x i and all y  y 
as before  for technical reasons we also allow i and o to be empty  it is clear from
the definition above that the variable x   about whose constant value we are certain 
is conditionally epistemically irrelevant to any variable xo   similarly  we see that any
variable xi is conditionally epistemically irrelevant to the variable x   this seems to be
in accordance with intuition 
   

fide cooman   miranda

also  if y is a singleton  then there is no uncertainty about y and conditioning on y
amounts to not conditioning at all  epistemic irrelevance can be seen as a special case of
conditional epistemic irrelevance 
we now want to argue that  conversely  there is a very specific and definite way in which
conditional epistemic irrelevance statements can be reduced to simple epistemic irrelevance
statements  the crucial results that allow us to establish this  are the following conceptually
very simple theorem and its corollary 
theorem     sequential updating   consider any subset r of n   and any coherent set
d of desirable gambles on x n  y  then
 dy xr    dxr  y   dxr   y

for all xr  x r and y  y 

    

proof  fix any xr in x r and any y  y  clearly  all three sets in eq       are subsets of
g x n  r    so take any gamble f on x n  r   and consider the following chains of equivalences 
i y  i xr   f  d  i xr   f  dy  f   dy xr
i y  i xr   f  d  i y  f  dxr  f   dxr  y
i y  i xr   f  d  f  dxr   y 
corollary     reduction   consider any disjoint subsets i and o of n   and any coherent set d of desirable gambles on x n  y  then the following statements are equivalent 
 i  margo  dxi   y    margo  dy  for all xi  x i and all y  y 
 ii  margo   dy xi     margo  dy  for all xi  x i and y  y 
this tells us that a model d about  xn   y   represents epistemic irrelevance of xi to xo  
conditional on y if and only if for each possible value y  y of y   the model dy about xn
represents epistemic irrelevance of xi to xo  
now suppose we have marginal conditional models dn y on x n   n  n   the notation
dn y is a concise way of representing the family of conditional models dn y  y  y  then
if we combine corollary    and theorem     we obtain the following 
corollary     the smallest conditionally independent product dy of the marginal models
dn y is given by nn  dn y    meaning that for each y  y  dy   nn  dn y  
this also shows that calculating the conditionally independent natural extension has  in
comparison with independent natural extension  an additional factor in the computational
complexity that its simply linear in the number of possible values for the conditioning
variable y  

    conclusions
sets of desirable gambles are more informative than coherent lower previsions  as we have
shown in section      and they are helpful in avoiding problems involving zero probabilities 
moreover  they have a simple axiomatic definition  as we have seen in section      they
   

fiirrelevant and independent natural extension for sets of desirable gambles

have been overlooked for much of the development of the theory of imprecise probabilities 
and it is only in the last five or six years that more effort is being devoted to bringing this
simplifying and unifying notion to the fore 
working with sets of desirable gambles allows us to show that the computational complexity of checking whether a gamble belongs to the independent natural extension compares favourably to that of computing the strong product  which has a complexity that is
exponential in the number of variables 
our results here also show that we can model assessments of epistemic independence
easily using sets of desirable gambles  and that we can derive from them existing results for
lower previsions 
moreover  the results in section   indicate that constructing global joint models  i e  coherent sets of desirable gambles  from local ones is something that can be easily and efficiently done for the some types of credal networks  cozman               the interpretation
of the graphical structure in credal networks is usually taken to be the following  for any
node  variable   conditional on its parents  the non parent non descendants are strongly
independent of it  cozman               but we can replace the assumption of strong independence with the weaker one of epistemic irrelevance  as in the work by de cooman et al 
        and this tends to produce more conservative independent products  
if we consider a credal network made up of n unconnected nodes x            xn   their interpretation is then very simple  for any variable xk   the remaining variables x            xk   
xk           xn are epistemically irrelevant to it  the expression      for the independent
natural extension nk   dk   and the reasoning behind it in section    show that nk   dk is
the smallest  most conservative  coherent joint set of desirable gambles that expresses the
epistemic irrelevancies in the graph 
interestingly  we can make the network slightly more complicated by looking at the developments in section    which tell us that the conditionally independent natural extension
nk   xk y is the most conservative  conditional  joint model that reflects the independence
conditions embedded in the following graphical structure 
y
   
x 

x 

xn 

xn

for any variable xk   the remaining variables x            xk    xk           xn are epistemically
irrelevant to xk   conditional on y  
now  any tree can be built up recursively using simple networks like the one above
as building blocks  similarly to what is done by de cooman et al         section     we
can use recursion from the leaves to the root  so that at any step we have a conditional
model that we put together into a joint one using the epistemic irrelevance independence
assessments and the marginal extension theorem  miranda   de cooman         that allows
us to combine hierarchical information  this suggests that the developments in this paper
   see also section   for more details about strong independence  we surmise that the computational
complexity of dealing with strong products is worse than that for computing the independent natural
extension 

   

fide cooman   miranda

can be used to good advantage in finding efficient algorithms for inference in credal trees
under epistemic irrelevance  using sets of desirable gambles as uncertainty models  this
approach could build on the ideas proposed by de cooman et al         and destercke and
de cooman        in the context of credal trees with lower previsions as local uncertainty
models  but make them more general and also more directly amenable to simple assessment
and elicitation for the local models  this would have interesting applications in dealing
with hidden markov models with imprecise transition and emission models  which are  of
course  special credal trees 
we expect that generalising those algorithms towards more general credal networks
 polytrees          will be more difficult  and will have to rely heavily on the pioneering work
of moral        on graphoid properties for epistemic irrelevance  in this sense  it would
be interesting to model other assumptions of independence between variables using sets
of desirable gambles  for instance intermediate assumptions between epistemic irrelevance
and independence  that is  epistemic irrelevance for some pairs of sets of variables only  
moreover  algorithms for computing the irrelevant and the independent natural extension 
as well as the strong product  need to be devised 
other open problems would be to generalise our work to infinite sequences of random
variables  which would allow us to deal with unbounded trees  and  as we have already
discussed in the paper  to establish the associativity of the strong product and to extend
our results to variables taking values on infinite spaces 

acknowledgments
this work was supported by sbo project        of the iwt vlaanderen  and by project
mtm            we would like to thank the reviewers for their helpful comments 

appendix a  examples
in this appendix  we have gathered a number of examples and counterexamples 
a   independent natural extension need not preserve maximality
let x          and let m be the subset of g x   given by
m     f  g x     f       f         or f       f           
then it is easy to see that m is a coherent set of desirable gambles  it is
 
moreover maximal  if some non zero f 
  m  then either f       f         
whence f      f         and then f      or f       f         and
m
then f       f          which means that f  m 
let n           x     x     x and m    m    m  the independent
natural extension of m  and m  is given by


irr
m   m     posi g x            airr
        a      
n
o
irr
  h    h    h   airr

    
h

a

   
      
 
      
      
   

 

fiirrelevant and independent natural extension for sets of desirable gambles

irr
taking into account that all non negative gambles belong to both airr
       and a      
irr
irr
and that airr
           and a           are convex cones  recall that h   a          
iff h         m      and h         m       and similarly that h   airr
            iff
h         m      and h         m       this means that any gamble h in m   m 
can be expressed as

h             

h             

h             

h             

where            are real numbers satisfying the following constraints 
        or       
        or       
        or       
        or       
max             
then the gamble h given by h         h           and h         h           does not belong
to m   m    since h         h         h         h            we should have        
               and         and this implies that h           a contradiction 
but h does not belong to m   m  either  because h         h         h         h          
similarly implies that h           hence  the independent natural extension of m  and
m  is not maximal 
a   a maximal independent product of maximal sets
next  we construct an example of an independent product of maximal sets that is again
maximal 
consider the spaces x   and x     and the maximal marginal coherent sets of desirable
gambles m  and m  as in section a    now consider the set of desirable gambles m
defined by
m     h  g x n     h         h         h         h           
  h  g x n     h         h         h         h           and
 h           or h            h           or h         h            h             
we first show that m   m   m   according to the discussion in section a    any gamble
h in m   m  satisfies h              h              h              and h             
where in particular
min                        
whence
h         h         h         h                                      
                                   
if h         h         h         h            this implies that                           
and therefore  again looking at the characterisation of m   m  in section a    that
   

fide cooman   miranda

                       and        this implies in particular
that h                 so we see that either h            and in that case h  m   or
h            but this implies that                and then h              so again
we have either h            in which case h  m   or h                  but now it
follows from the conditions imposed on the            in section a   that h              
which again means that h belongs to m   so  indeed  m   m   m  
we now show that m is a maximal coherent set of desirable gambles  it is easy to
see that m is coherent  to show that it is maximal  consider any non zero gamble h in
g x          then there are three possibilities  if h         h         h         h            then
h  m and h 
  m   if h         h         h         h            then h  m and h 
  m  
and if h         h         h         h            then exactly one of h  h belongs to m  
to conclude  note that m is an independent product of m  and m  because of proposition    
a   the strong product may strictly include the independent natural
extension
the following is an adaptation of an example by walley        example        
consider x          and let p be the coherent lower prevision determined by p        
    and p            so we have for all f  g x   that 


 
 
 
 
p  f     min
f       f      f       f      
 
 
 
 
with p we can associate the coherent set of  strictly  desirable gambles by eq      
d     f   f     or p  f         
now let n           x     x     x and d    d    d  consider the gamble h on x      
determined by
  
  
h         h        
  h         h         
 
   
   
to see that d   d  is strictly included in d   d    we will show that h belongs to d   d 
but not to d   d   
irr
for the latter claim  consider any gambles h   airr
       and h   a         and assume
ex absurdo that h  h   h    then we see that  h   h                h   h               
 h    h                and  h    h                 where the real numbers            must
satisfy the following constraints 


 
   
 
max         and min
           
 
   
 


 
   
 
max         and min
           
 
   
 


 
   
 
max         and min
           
 
   
 


 
   
 
max         and min
            
 
   
 
   

fiirrelevant and independent natural extension for sets of desirable gambles

as a consequence 
 
 
                         
 
 
 
 
 
 
   
 
   
 
                                       
 
 
 
 
   
 
   
 
but on the other hand
 
 
                         
 
 


 
 
  
h          h         h         h          
 
 
 
   

a contradiction  this implies that h does not belong to d   d   
for the former claim  consider arbitrary maximal coherent set of desirable gambles
m   m d    and m   m d     then it follows from the discussion in section     that
m  induces a linear prevision p   p     and that m  induces a linear prevision p   p    
but then it follows from the discussion in example       by walley        that
 p   p    h  

 
    
   

which tells us that h belongs to the set of strictly desirable gambles that induces p   p   
because of eq       since that is the smallest coherent set of desirable gambles that induces
p   p    and since m   m  is another such set  by theorem     we deduce that h 
m   m    it follows that indeed h  d   d   

references
antonucci  a   de campos  c     zaffalon  m          probabilistic graphical models  in
coolen  f   augustin  t   de cooman  g     troffaes  m  c  m   eds    an introduction
to imprecise probabilities  chap      john wiley   sons  in press 
augustin  t   coolen  f  p  a   de cooman  g     troffaes  m  c  m   eds           
introduction to imprecise probabilities  john wiley   sons  in press 
aumann  r  j          utility theory without the completeness axiom  econometrica     
       
bernoulli  j          ars conjectandi  thurnisius  basel 
boole  g         reprinted in        the laws of thought  dover publications  new york 
boole  g         reprint of the work originally published by watts   co   london  in       
studies in logic and probability  dover publications  mineola  ny 
buehler  r  j          coherent preferences  the annals of statistics              
couso  i     moral  s          sets of desirable gambles  conditioning  representation  and
precise probabilities  international journal of approximate reasoning              
     
   

fide cooman   miranda

couso  i   moral  s     walley  p          a survey of concepts of independence for imprecise
probabilities  risk decision and policy            
cozman  f  g          credal networks  artificial intelligence              
cozman  f  g          graphical models for imprecise probabilities  international journal
of approximate reasoning                   
cozman  f  g          sets of probability distributions  independence  and convexity  synthese              
de campos  l  m     moral  s          independence concepts for convex sets of probabilities  in besnard  p     hanks  s   eds    eleventh conference on uncertainty in
artificial intelligence  pp          san francisco  ca 
de cooman  g          belief models  an order theoretic investigation  annals of mathematics and artificial intelligence               
de cooman  g   hermans  f   antonucci  a     zaffalon  m          epistemic irrelevance in
credal nets  the case of imprecise markov trees  international journal of approximate
reasoning                   
de cooman  g   miranda  e     zaffalon  m          independent natural extension  artificial intelligence                       
de cooman  g     quaeghebeur  e          exchangeability and sets of desirable gambles 
international journal of approximate reasoning                  special issue in
honour of henry e  kyburg  jr 
de finetti  b          sul significato soggettivo della probabilita  fundamenta mathematicae             
de finetti  b          la prevision  ses lois logiques  ses sources subjectives  annales de
linstitut henri poincare          english translation in  kyburg jr    smokler 
      
de finetti  b          teoria delle probabilita  einaudi  turin 
de finetti  b              theory of probability  a critical introductory treatment  john
wiley   sons  chichester  english translation of  de finetti         two volumes 
destercke  s     de cooman  g          relating epistemic irrelevance to event trees  in
dubois  d   lubiano  m   prade  h   gil  m   grzegiorzewski  p     hryniewicz  o 
 eds    soft methods for handling variability and imprecision  pp        springer 
dubins  l  e          finitely additive conditional probabilities  conglomerability and disintegrations  the annals of probability          
dubra  j   maccheroni  f     ok  e          expected utility theory without the completeness axiom  journal of economic theory                  
fishburn  p  c          a theory of subjective expected utility with vague preferences 
theory and decision            
gardenfors  p          knowledge in flux  modeling the dynamics of epistemic states 
the mit press  cambridge  ma 
   

fiirrelevant and independent natural extension for sets of desirable gambles

giron  f  j     rios  s          quasi bayesian behaviour  a more realistic approach to
decision making   in bernardo  j  m   degroot  m  h   lindley  d  v     smith  a 
f  m   eds    bayesian statistics  pp        valencia university press  valencia 
hermans  f          an operational approach to graphical uncertainty modelling  ph d 
thesis  faculty of engineering and architecture 
koopman  b  o          the axioms and algebra of intuitive probability  the annals of
mathematics  second series                 
kyburg jr   h  e     smokler  h  e   eds            studies in subjective probability  wiley 
new york  second edition  with new material       
levi  i          the enterprise of knowledge  mit press  london 
miranda  e     de cooman  g          marginal extension in the theory of coherent lower
previsions  international journal of approximate reasoning                 
miranda  e     zaffalon  m          notes on desirability and coherent lower previsions 
annals of mathematics and artificial intelligence                  
miranda  e   zaffalon  m     de cooman  g          conglomerable natural extension 
international journal of approximate reasoning                   
moral  s          epistemic irrelevance on sets of desirable gambles  annals of mathematics
and artificial intelligence                  
moral  s     wilson  n          revision rules for convex sets of probabilities  in coletti 
g   dubois  d     scozzafava  r   eds    mathematical models for handling partial
knowledge in artificial intelligence  pp          plenum press  new york 
pearl  j          bayesian netowrks  a model for self activated memory for evidential reasoning  in proceedings of the  th conference of the cognitive science society  pp 
        irvine  ca  university of california 
quaeghebeur  e       a   the conestrip algorithm  in proceedings of smps       pp 
      springer 
quaeghebeur  e       b   desirability  in coolen  f   augustin  t   de cooman  g    
troffaes  m  c  m   eds    an introduction to imprecise probabilities  chap     john
wiley   sons  in press 
seidenfeld  t   schervish  m  j     kadane  j  b          a representation of partially
ordered preferences  the annals of statistics                reprinted in  seidenfeld 
schervish    kadane         pp        
seidenfeld  t   schervish  m  j     kadane  j  b          rethinking the foundations of
statistics  cambridge university press  cambridge 
seidenfeld  t   schervish  m  j     kadane  j  b          coherent choice functions under
uncertainty  synthese                  
shapley  l  s     baucells  m          a theory of multiperson utility  discussion paper 
department of economics      ucla 
smith  c  a  b          consistency in statistical inference and decision  journal of the
royal statistical society  series a          
   

fide cooman   miranda

walley  p          the elicitation and aggregation of beliefs  tech  rep   university of
warwick  coventry  statistics research report    
walley  p          statistical reasoning with imprecise probabilities  chapman and hall 
london 
walley  p          towards a unified theory of imprecise probability  international journal
of approximate reasoning                  
williams  p  m       a   coherence  strict coherence and zero probabilities  in proceedings
of the fifth international congress on logic  methodology and philosophy of science 
vol  vi  pp        dordrecht  proceedings of a      conference held in warsaw 
williams  p  m       b   notes on conditional previsions  tech  rep   school of mathematical
and physical science  university of sussex  uk  revised journal version   williams 
      
williams  p  m          notes on conditional previsions  international journal of approximate reasoning                  revised journal version of  williams      b  
zaffalon  m     miranda  e          probability and time  submitted for publication 

   

fi