journal artificial intelligence research                 

submitted       published      

vision based road detection automotive systems 
real time expectation driven approach
alberto broggi
simona berte

dipartimento di ingegneria dell informazione
universita di parma
viale delle scienze
i       parma  italy

broggi ce unipr it
simona ce unipr it

abstract

main aim work development vision based road detection system
fast enough cope dicult real time constraints imposed moving vehicle
applications  hardware platform  special purpose massively parallel system 
chosen minimize system production operational costs 
paper presents novel approach expectation driven low level image segmentation  mapped naturally onto mesh connected massively parallel simd architectures capable handling hierarchical data structures  input image assumed
contain distorted version given template  multiresolution stretching process used
reshape original template accordance acquired image content  minimizing
potential function  distorted template process output 

   introduction
work discussed paper forms part eureka prometheus activities  aimed
improved road trac safety  since processing images fundamental importance
automotive applications  current work aimed development
embedded low cost computer vision system  due special field application 
vision system must able process data produce results real time  therefore
necessary consider data structures  processing techniques  computer architectures
capable reducing response time system whole 
system considered currently integrated mob lab land vehicle  adorni 
broggi  conte    d andrea         mobile laboratory  result italian work
within prometheus project  see figure   a   comprises camera acquisition
digitization images  pipelines data on board massively parallel computer
processing  illustrated figure    current output configuration comprises set
warnings driver  displayed means set leds control panel  shown
figure   b   but  due high performance levels achieved  possible replace
output device heads up display showing enhanced features superimposed
onto original image 
paper presents move toward use top down control  the following feature
extraction mechanism based model driven approach   instead traditional datadriven approach  generally used data parallel algorithms 

c      ai access foundation morgan kaufmann publishers  rights reserved 

fialberto broggi  simona berte

figure     a  mob lab land vehicle   b  control panel used output display
processing results

heads up
display

 a 

led based
control panel

 b 

road detection
system
camera

input

processing

output

figure    block diagram complete system   a  planned heads up display output
 b  current led based output
starting experience gained development different approach  broggi 
    c  based parallel detection image edges pointing focus expansion 
work presents model driven low level processing technique aimed road detection
enhancement road  or lane  image acquired moving vehicle  model
contains a priori knowledge feature extracted  road lane  encoded
traditional data structure handled low level processing  two dimensional array 
case  binary image representing two different regions  road off road  chosen 
hereinafter image referred synthetic image  obvious different
synthetic images must used according different acquisition conditions  camera position 
orientation  optics  etc   fixed  environment  number lanes  one way two
way trac  etc   may change run time   final system implementation
   

fivision based road detection

a priori world knowledge enables correct synthetic model selection  example 
figure   presents several different synthetic images different conditions 

 a 

 b 

figure    synthetic images used road models for   a  different camera positions and or
orientations  b  different number lanes  assuming driving right 
following section presents survey vision based lane detection systems  section
  explains choice multiresolution approach  section   presents details
complete algorithm  section   discusses performances current implementation
paprica system  section   presents results critical analysis approach
leads present development  finally section   presents concluding remarks 

   comparison related systems
many different vision based road detection systems developed worldwide 
relying various characteristics different road models  two three dimensional  
acquisition devices  color monochromatic camera  using mono stereo vision   hardware systems  special  general purpose  serial parallel   computational techniques
 template matching  neural networks  etc   

scarf system  tested navlab vehicle carnegie mellon university 

uses two color cameras color based image segmentation  different regions
classified grouped together form larger areas  finally hough like transform
used vote different binary model candidates  due extremely high amount
data processed  two incoming color images           reduced
      pixel  nevertheless  high performance computer architecture     cell
warp  crisman   webb        hamey  web    wu        annaratone  arnould 
t gross  h kung    j webb         chosen speed up processing 
system  capable detecting even unstructured roads  reaches processing rate
  hz  crisman   thorpe                    thorpe         addition heavy
 
computational load  main problems approach found implicit
models assumed  road curves sharply changes width  assumed shape
model becomes invalid detection fails  kluge   thorpe        
vits system  tested alv vehicle developed martin marietta 
relies two color cameras  uses combination red blue color bands
segment image  effort reduce artifacts caused shadows  information
vehicle motion used aid segmentation process  tested successfully
   

fialberto broggi  simona berte

straight  single lane roads  runs faster scarf  sacrificing general capability
speed  turk  morgenthaler  gremban    marra        
alvinn  tested navlab  cmu  neural network based       video retina
designed  scarf  detect unstructured roads  road
model  learns associations visual patterns steering wheel angles  without considering road location  implemented warp system 
reaching processing rate    hz  jochem  pomerleau    thorpe       
pomerleau              
different neural approach developed cmu tested navlab 
        color image segmented   k processor maspar mp    maspar
computer corporation         trapezoidal road model used  road width
assumed constant throughout sequence  means although
trapezoid may skewed left right  top bottom edges maintain
constant length  high performance offered powerful hardware platform
limited low i o bandwidth  therefore simpler reduced version  processing
        images  implemented  working rate     hz  jochem  
baluja        
due high amount data    color images  complex operations involved  segmentation  clustering  hough transform  etc   system discussed  even implemented extremely powerful hardware machines  achieve low processing rate  many
different methods considered speed up processing  including processing
monochromatic images use windowing techniques  turk et al         process
regions interest  thus implementing focus attention mechanism  wolfe  
cave        neumann   stiehl        

example  vamors  developed universitat der bundeswehr  munchen 

monochromatic images processed custom hardware  focusing regions
interest  graefe   kuhnert         windowing techniques supported
strong road vehicles models predict features incoming images  dickmans  
mysliwetz         case  vehicle driven high speeds  up     kph 
german autobahns  constant lane width  road specific
shapes  straight  constant curvature  clothoidal  use single monochromatic
camera together simple road models allows fast processing based
simple edge detection  match structured road model used discard
anomalous edges  approach disturbed shadow conditions  overall
illumination changes  road imperfections found  kluge   thorpe        
lanelok system  developed general motors  relies strong road models 
estimates location lane boundaries curve fitting method  kenue  
bajpayee        kenue               using quadratic equation model  addition
disturbed presence vehicles close road markings  lane detection
generally fails shadow conditions  extension correct interpretation
shadows therefore introduced  kenue         unfortunately technique
relies fixed brightness thresholds far robust general
approach 
   

fivision based road detection

main aim approach discussed paper  hand  build
low cost system capable achieving real time performance detection structured roads  with painted lane markings   robust enough tolerate severe illumination
changes shadows  limitation analysis structured environments allows
use simple road models which  together processing monocular monochromatic
images special purpose hardware allows achievement low cost high performances 
use high performance general purpose architecture     cell warp
  k maspar mp    as case carnegie mellon s navlab   involves high costs
compatible widespread large scale use  reason execution
low level computations  eciently performed massively parallel systems  usually
implemented general purpose processors  case vamors  design
implementation special purpose application oriented architectures  like paprica 
broggi  conte  gregoretti  sansoe    reyneri               hand  keep
production costs down  delivering high performance levels  generally 
features enable integration architecture generic vehicle are 
 a  low production cost 
 b  low operational cost 
 c  small physical size 

    computing architecture

additional considerations power consumption show mobile computing moving
direction massively parallel architectures comprising large number relatively
slow clocked processing elements  power consumption dynamic systems
considered proportional cfv     c represents capacitance circuit  f
clock frequency  v voltage swing  power saved three different ways
 forman   zahorjan         minimizing c   f   v respectively 
using greater level vlsi integration  thus reducing capacitance c  
trading computer speed  with lower clock frequency f   lower power consumption
 already implemented many portable pcs  
reducing supply voltage vdd  
recently  new technological solutions exploited reduce ic supply voltage
  v     v  unfortunately  speed penalty pay reduction 
cmos gate  shoji         device delay td  following first order approximation 
vdd     shows reduction vdd determines quasiproportional
 vdd   vt  
linear increment  until device threshold value vt   circuit delay td  
hand  reduction vdd determines quadratic reduction power consumption 
thus  power saving reasons  desirable operate lowest possible speed  but 
order maintain overall system performance  compensation increased delays
required 
use lower power supply voltage investigated different architectural solutions considered overcome undesired side effects caused
reduction vdd  courtois        chandrakasan  sheng    brodersen        
   

fialberto broggi  simona berte

reduction power consumption  maintaining computational power  achieved
using low cost simd computer architectures  comprising large number extremely
simple relatively slow clocked processing elements  systems  using slower device
speeds  provide effective mechanism trading power consumption silicon area 
maintaining computational power unchanged    major drawbacks approach
are 

solution based hardware replication increases silicon area  thus

suitable designs extreme area constraints 
parallelism must accompanied extra routing  requiring extra power  issue
must carefully considered optimized 
use parallel computer architectures involves redesigning algorithms
different computational model 
since number processing units must high  system size constraints
processing elements must extremely simple  performing simple basic operations 

paper investigates novel approach real time road following based use
low cost massively parallel systems data parallel algorithms 

   multiresolution approach
image encoding model  synthetic image  image camera  natural
image  cannot directly compared local computations  latter contains
much detail former  known methods used decrease
presence details  necessary choose one decrease strength
feature extracted  purpose  low pass filter      neighborhoodbased anisotropic average filter  would reduce presence details 
sharpness road boundaries  rendering detection dicult  since road
boundaries exploit long distance correlation  subsampling natural
synthetic image would lead comparison less dependent detail content 
generally  much easier detect large objects low resolution 
main characteristics present  high resolution  details
specific represented object make detection dicult  complete recognition
description process  hand  take place high resolutions 
possible detect even small details preliminary results obtained
coarse resolution 
considerations lead use pyramidal data structure  rosenfeld       
ballard   brown        tanimoto   kilger         comprising image different
resolutions  many different architectures developed recently support computational paradigm  cantoni   ferretti        cantoni  ferretti    savini        fountain 
      cantoni   levialdi         computing architecture contains number
processing elements smaller number image pixels external processor virtualization mechanism  broggi        used  useful side effect due resolution
reduction decrease number computations performed  thus  choice
   

fioutput image

input image

synthetic image

vision based road detection

 

   
x
   

 

 

   
x
   

undersampling

 

   
x
   

 

 

 

average

   

 

  
x
  

 

  
x
  

   
x
   

 

 

 

average

   

undersampling

 
 

   
x
   

dbs

 

 

oversampling

 

undersampling

undersampling

 
 

 

 

 
 

   
x
   

 

 

oversampling

dbs

   

 

dbs

figure    block diagram whole algorithm  step depth every image
shown  in bit pixel 
pyramidal computational paradigm  addition supported theory  offers
advantage terms computational eciency 

   algorithm structure

shown figure    subsampling natural image filtered  way
possible decrease uence noise redundant details  distortion due
aliasing  pratt        introduced subsampling process  image partitioned
non overlapping square subsets     pixels each  filter comprises simple average
pixels values given subset  reduces signal bandwidth  set
resulting values forms subsampled image 
stretching synthetic image performed iterative algorithm
 driven binary stretching  dbs   much simpler morphological  haralick  sternberg 
  zhuang        serra        version  snake  technique  blake   yuille        cohen   cohen        cohen        kass  witkin    terzopolous         result
oversampled  improved using dbs algorithm  original resolution reached  boundary stretched template represents final result
process 

    dbs filter

purpose dbs filter  illustrated figure    stretch binary input model
accordance data encoded grey tone natural image produce reshaped
version synthetic model output 
usually boundary generic object represented brightness discontinuities
image reproducing it  therefore  first version  first step dbs filter
comprises extremely fast simple gradient based filter computed     neighborhood pixel  then  shown figure    threshold applied gradient
image  order keep significant edges  threshold value fixed 
automatic tuning based median filtering currently tested  folli        
   

fialberto broggi  simona berte

precisely  two different threshold values computed left right halves
image  order detect road boundaries even different illumination
conditions 
 
 
 

 

gradient

dbs

 

threshold

threshold
value

 

dt
 
 

 

iterative algorithm

figure    block diagram dbs filter
since  d mesh connected massively parallel architecture used  iterative algorithm
must performed order stretch synthetic model toward positions encoded
thresholded image  advantage pyramidal approach number
iterations required successful stretching low coarse resolution since image
size small  again  iterations required high resolution refinement 
due initial coarse low resolution stretching  border pixel synthetic image
attracted towards position nearest foreground pixel thresholded image 
shown figure   

model
section

threshold

 a 

 b 

figure    attraction boundary pixels model  in grey  toward thresholded image  the rectangular contour    a  two dimensional case   b  monodimensional section
purpose  scalar field v defined e    field v   e     e   links position
pixel p   e   scalar value v  p    e   represents potential associated
pixel itself  set values encoded potential image  difference
v  p    v  q  represents cost moving pixel p toward position q  scalar field
defined way negative cost corresponds movement toward nearest
   

fivision based road detection

position foreground pixels ti thresholded image  consequence  iterative
process designed explicitly enable pixel movements associated negative cost 
thus  value v  p  depends minimum distance pixel p pixels ti  
v  p      min
   
d p  ti   

  e   e     e represents distance two pixels  measured respect
given metric  case  due special simplicity implementation  city
block  manhattan distance  metric chosen  see figure    
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

figure    city block manhattan distance central pixel
ecient method computation potential image using  d mesh connected
architectures based iterative application morphological dilations  haralick et al  
      serra        
   scalar counter initialized    parallel architectures cannot run
fragment scalar code  counter associated every pixel image  thus
constituting  parallel  counter 
   counter decremented 
   binary input image dilated using   connected structuring element n   formed
following elements 
n


n                                                  


   

   value counter assigned potential image positions
pixel  due previous dilation  changes state background foreground 
   process repeated step    output morphological dilation
equal input 
shows potential image generated application distance
transform  dt  borgefors        binary thresholded image  due ecient
implementation dependent data handling  final version potential image dt
obtained adding constant every coecient  work positive
values  represents maximum value allowed grey tone images   thus new
definition scalar field v is 
v  p      min
   
d p  ti   
   specific case  since   bit images considered        

   

fialberto broggi  simona berte

linear profile
input image
   bit pixel 

threshold value

gradient
   bit pixel 

threshold
   bit pixel 

distance
transform  dt 
   bit pixel 

synthetic
input image
   bit pixel 
synthetic
output image
   bit pixel 

figure    example   iterations dbs algorithm  monodimensional case 
furthermore  since  distance  information used pixels belonging
border synthetic image neighbors  iterative process stopped
dt computed pixels  producing noticeable performance improvement 
already mentioned  crux algorithm iterative process whose purpose
move edge pixels synthetic image directions dt gradient
maximum  figure   shows example monodimensional stretching  shown
appendix a  strength approach lies fact stretching algorithm
expressed simply sequence morphological operations  therefore
mapped eciently mesh connected massively parallel architectures  achieving higher
performance levels approaches  cohen   cohen        cohen        kass et al  
      
order describe dbs algorithm  let us introduce definitions using mathematical morphology operators  haralick et al         serra        dilation    
erosion      complement     two dimensional binary image represented
subset e    whose elements correspond foreground pixels image 

n

    e      x  y   x    e  
   
vector  x    represents coordinates generic element s 
   

fivision based road detection

external edge defined set elements representing difference
dilation   connected structuring element n shown expression     
   
be s      s n      
similar way  set elements representing difference erosion
using structuring element n defined internal edge  

bi s      s n      

   

      iterative rules

set elements b s      s     bi  s   elements inserted
removed set application single iteration dbs algorithm 
precisely  two different rules applied two edges  first  applied external
edge  s    determines elements included set   second  applied
internal edge bi  s    determines elements removed set  

rule external edge 
  pixel external edge computes minimum value dt
associated   connected neighbors belonging set  
  pixels  whose associated dt greater value previously computed  inserted set  

application rule effect expanding synthetic image towards
foreground pixels ti included synthetic model  see right
hand side figure   b  

rule internal edge 
  pixel internal edge computes minimum value dt
associated   connected neighbors belonging set  
  pixels  whose associated dt greater value previously computed  removed set  
application rule effect shrinking synthetic image  see
left hand side figure   b  
note rule   inverse rule    latter tends stretch foreground onto
background  former acts opposite way  using complement
synthetic image 
      flat handling

figure   refers monodimensional stretching  unfortunately  dealing  d data
structures  dt image present strictly increasing decreasing behavior  even
locally  thus  extension previous rules must considered correct at handling
 d space 
   

fialberto broggi  simona berte

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

a  input image

b  stretching without flat handling

c  stretching flat handling

figure    two dimensional stretching  different square markings represent different states
input binary image  dark grey areas represent stretching area
figure   a shows modulus dt coecients  in case       together
input binary image  shown grey   output iterative dbs algorithm
presented figure   b 
since movement generic pixel towards positions holding equal dt coecient expressly disabled  resulting binary image completely follow shape
encoded dt image  minor revision definition rule   thus required 
figure   c obtained following rule applied external edge 

rule external edge  including handling 
  pixel external edge computes minimum value dt
associated   connected neighbors belonging set  
  pixels  whose associated dt greater value previously computed  pixels belonging thresholded image  whose associated dt equal value previously computed inserted set  

specific requirement pixels moving toward region  belonging
thresholded image  ensures binary image follow dt chain maxima 
requirement  specific case figure    maxima upper right
hand area included resulting binary image 

   performance analysis current implementation

since final aim work integrate road detection system mobile
vehicle  main requirement achieve real time performance  choice specialpurpose massively parallel architecture already justified section    moreover 
algorithm discussed paper maps naturally onto single bit mesh connected simd
machine  whole computation eciently expressed sequence binary
morphological operators  shown appendix  which presents morphology based
description whole dbs algorithm  
complete processing  first tested connection machine cm    hillis        
implemented special purpose massively parallel simd architecture paprica 
   

fivision based road detection

paprica system  parallel processor image checking analysis   based hierarchical morphology computational model  designed specialized coprocessor
attached general purpose host workstation  current implementation  consisting       square array processing units  connected sparc based workstation
via vme bus  installed mob lab  current hardware board  a single  u vme
board integrating processor array  image program memories  frame
grabber device direct acquisition images paprica image memory 
result full reengineering first paprica prototype extensively
analyzed tested  gregoretti  reyneri  sansoe  broggi    conte        several years 
paprica architecture developed explicitly meet specific requirements real time image processing applications  broggi      c      b  adorni  broggi 
conte    d andrea         specific processor virtualization mechanism utilized paprica architecture allows handling pyramidal data structures without additional
overhead equipment 
shown figure    output device be 
 a  heads up display road  or lane  boundaries highlighted 
 b  set leds indicating relative position road  or lane  vehicle 
starting         grey tone images resolution reduction process 
first case  a  initial resolution must recovered order superimpose result onto
original image  second case  b   hand  due high quantization
output device  processing stopped low resolution  e g          
stripe resulting image analyzed drive leds  table   presents
computational time required step algorithm  considering   dt iterations
  dbs iterations pyramid level  
operation
image size
time  ms 
resolution reduction
        
      
 
 
dt  dbs   oversampling
      
     
dt  dbs   oversampling
        
     
dt  dbs   oversampling
         
      
total  led output 
             
      
 
 
 
total  heads up display output              
      
table    performance paprica system  numbers refer   iterations dt
process   iterations dbs filter pyramid level 
current mob lab configuration  output device  shown figure   b  consists
set   leds  table   shows                  filtering single frame takes
       ms  depending number iterations required   allowing acquisition
processing   frames per second 
moreover  due high correlation two consecutive sequence frames 
final stretched template used input model stretched processing
following frame  conditions lower number dbs dt iterations
   

fialberto broggi  simona berte



b

c



e



b

c



e



b

c



e

figure     detection road markings removal perspective effect
three different conditions  straight road shadows  curved road shadows  junction   a  input image   b  reorganized image  obtained non uniform
resampling  a    c  result line wise detection black white black transitions horizontal direction   d  reintroduction perspective effect 
grey areas represent portion image shown  c    e  superimposition  d  onto brighter version original image  a  
needed complete template reshaping  thus producing noticeable performance
improvement  reduction time required process single frame increases
correlation current following frame sequence  thus allowing
reduction computation time   
images acquired many different conditions environments used
extensive experimentation  performed first off line functional simulator
implemented  k processor connection machine cm    hillis        realtime paprica hardware mob lab  complete system demonstrated
final prometheus project meeting paris  october       mob lab land
vehicle driven around two lane track mortefontaine  different conditions
 straight curved roads  shadows changing illumination conditions
vehicles path  
   processing highly correlated sequences  namely road conditions change slowly
off line slow motion tape playback laboratory  computational time required processing
single frame reach minimum value     ms 

   

fivision based road detection

performances obtained demonstration allowed main limitations
system detected enabled critical analysis approach  thus leading
proposals development 

   critical analysis evolution

approach discussed achieves good performances terms output quality
model matches  or suciently similar to  road conditions  namely road markings
painted road surface  on structured roads  see figures    a    a  inducing
suciently high luminance gradient  approach successful road lane
boundaries extracted input image gradient thresholding operation
 see figures    b    b   unfortunately  always possible  example
road region patch shadow sunlight  figure    a  case computation
dt starting thresholded image  see figure    b  longer significant 
different method must devised determination binary image used
input distance transform 



b

c



e

figure     lane detection straight road   a  input image   b  image obtained
thresholding gradient image   c  image obtained perspective based
filter   d  stretched template   e  superimposition edges stretched
template onto original image  case thresholded gradient  b 
perspective based filtered  c  images used input dt 



b

c



e

figure     lane detection curved road  case thresholded gradient
 b  perspective based filtered  c  images used input
dt 
recent work  broggi      a  approach based removal perspective
effect presented performances discussed  transform  non uniform resampling
similar happens human visual system  zavidovique   fiorini        wolfe  
   

fialberto broggi  simona berte

cave         applied input image  figures    a   assuming road  every pixel
resampled image  figures    b  represent portion road   due
constant width within overall image  road markings easily enhanced
extracted extremely simple morphological filters  broggi      a   figures    c  
finally perspective effect reintroduced  figures    d  



b

c



e

figure     lane detection straight road shadows  case thresholded gradient  b  cannot used determine dt image due noise
caused shadows  hand  perspective based processing able
filter shadows extract road markings  dt fact
determined using image  c  instead  b  



b

c



e

figure     lane detection straight road vehicle path 
case dbs algorithm cannot stretch binary model successfully 
due presence vehicle occluding road markings  use
pair stereo cameras remove problem currently investigated 
due high effectiveness filter  test version system currently
operational laboratory  dbs filter improved replacing gradient
thresholding perspective based filter  extended version dbs filter
shown figure    
since removal  and reintroduction  perspective effect reduced
mere image resampling filter based simple morphological operators  broggi 
    a   implementation paprica system straightforward  preliminary
results obtained current test version system encouraging
output quality  the problems caused shadows resolved  computation
   note that  due perspective effect  pixels lower part original image  figures    a 
represent cm  road region  central pixels represent tens cm    nonuniform resampling original image explicitly designed homogeneous distribution
information among pixels image 

   

fivision based road detection

 
 
 

extended
dbs

persp  eff 
removal

 

 

morph 
filter
 

persp  eff 
reintrod 
 

dt
 
 

 

iterative algorithm

figure     diagram extended dbs filter including perspective based filtering
time  single frame processed less     ms  thus allowing processing
   frames per second  improvement dbs process means perspectivebased filter  addition allowing correct road  or lane  detection presence shadows 
implemented extremely eciently paprica system  taking advantage
specific hardware extension designed explicitly purpose  non uniform resampling 
 broggi      a  
figures                show results processing different conditions 
straight curved road  shadows vehicles path  respectively   
last case lane cannot detected successfully due presence obstacle
use pair stereo images currently investigated overcome
problem  removal perspective effect stereo images would lead
image iff road at  namely obstacles found vehicle path 
difference two reorganized images  namely obstacle detected  would cause
algorithm stop lane detection warn driver 
general nature presented approach enables detection suciently
large sized features  example  using different synthetic models possible detect
road lane boundaries  shown figure    

   conclusions
paper novel approach detection road  or lane  boundaries visionbased systems presented  multiresolution approach  together top down
control  allows achievement remarkable performances terms computation time
 when mapped massively parallel architectures  output quality 
   sequences mpeg format           frames respectively  available via world wide
web http   www ce unipr it computer vision  showing lane detection particularly challenging
conditions  images shown figures                    part sequences available
previously mentioned www page 

   

fialberto broggi  simona berte



b

c



e

figure      a  input image   b  synthetic model used lane detection   c  superimposition
edges stretched model onto original input image   d  synthetic
model used road detection   e  superimposition edged stretched
model onto original input image 
perspective based filter introduced improve system performance shadow
conditions  however  even perspective based filter alone able extract road
markings high degree confidence  hierarchical application dbs filter
 and extension handling image sequences  basic importance since allows
exploitation temporal correlation successive sequence frames  performing
solution tracking  
presence obstacle vehicle path still open problem  currently
approached using stereo vision  broggi      a  
algorithm implemented paprica system  massively parallel lowcost simd architecture  specific hardware features  paprica capable
processing    frames per second 

appendix a  morphological implementation dbs filter

appendix  rule external edge considered  assuming step n
iterative process  recalling mathematical morphology notations used identify
grey tone two dimensional image  dt image subset e   

dt   fd   e   j    u  v   v   v  u     u   e  g  

   

u represents position element e    v represents value 
pixelwise masking operation binary grey tone image defined
function
  e  e    e 
   
b represents subset b containing elements b    u  v   whose
position vector u   e   belongs a 

b   fx   e   j x    u  v    b  u   ag

   

order compute minimum value dt specified neighborhood  let us
consider image ke n 



ke n    se n  dt   se n  l  
    
   

fivision based road detection

se n  represents binary image step n  subscript e indicates rule
external edge considered  finally

l   fl   e   j l    u       u   e  g  

    

shown  haralick et al          order compute minimum value grey tone
image ke n    connected neighborhood  following grey scale morphological erosion
used 
me n    ke n  q  
    

q   f                                            g  
    
shown figure    
 
 

 
 

z


q                                                      

x

figure     structuring element q
order determine set elements me n  value smaller dt  
new function required 
  e  e    e   
    
function defined

m a  b    fx   e   j v  a  x    v  b  x g  

    

v   e   e     e defined

v  a  x   

 

    e j  x  a     a   
   otherwise

    

equation        a  represents top  haralick et al          defined

 a    ft   a     u  v  j     t     x  v     v    vg  

    

set elements included set se n    given logical intersection
m me n   dt   set elements belonging external edge se n   








ee n    me n   dt   se n   
   

    

fialberto broggi  simona berte

distance
transform  dt 
   bit pixel 

distance
transform  dt 
   bit pixel 
input
image
   bit pixel 

input
image
   bit pixel 

synthetic image
complemented
   bit pixel 

masked
image k
   bit pixel 

masked
image k
   bit pixel 

dt

dt
eroded
image
   bit pixel 

dilated
image
   bit pixel 

 m dt 
   bit pixel 

 m dt 
   bit pixel 

external edge
   bit pixel 

internal edge
   bit pixel 

output image
   bit pixel 

output image
   bit pixel 

figure     monodimensional stretching case external edge  left  internal edge
 right 
thus  final result iteration n given
se n      se n    ee n   
    
figure    a shows execution individual iteration rule   monodimensional
image profile 
following similar steps  possible formalize rule    order compute
maximum value dt specified neighborhood  let us consider image ki n 

ki n    si n  dt  

    
subscript indicates rule internal edge considered 
shown above  order compute maximum value grey tone image ki n 
  connected neighborhood  following morphological dilation used 
mi n    ki n  q  
    
q shown figure    
set elements removed set si n    given logical intersection m mi n   dt   set elements belonging internal edge si n   




ei n    mi n   dt   bi si n   
    
   

fivision based road detection

thus  final result iteration n given




si n      si n    ei n    si n    ei n   

    

figure   b shows execution individual iteration rule   monodimensional
profile image 

acknowledgements
work partially supported italian cnr within framework eureka
prometheus project   progetto finalizzato trasporti contracts n           pf  
         pf   
authors indebted gianni conte valuable constructive discussions
continuous support throughout project 

references

adorni  g   broggi  a   conte  g     d andrea  v          self tuning system realtime optical flow detection  proceedings ieee system  man  cybernetics
conf  vol     pp       
adorni  g   broggi  a   conte  g     d andrea  v          real time image processing
automotive applications  laplante  p  a     stoyenko  a  d   eds    real time image processing  theory  techniques applications  ieee spie press  press 
annaratone  m   arnould  e   t gross  h kung    j webb         warp computer  architecture  implementation performance  ieee trans computers 
c                    
ballard  d  h     brown  c  m          computer vision  prentice hall 
blake  a     yuille  a          active vision  mit press 
borgefors  g          distance transformations digital images  computer vision 
graphics image processing  vol      pp          
broggi  a          performance optimization low cost cellular array processors 
proceedings ieee intl conf massively parallel computing systems  pp          
broggi  a       a   massively parallel approach real time vision based road markings detection  masaky  i   ed    proceedings ieee intelligent vehicles     pp 
      
broggi  a       b   novel approach lossy real time image compression  hierarchical
data reorganization low cost massively parallel system  real time imaging
journal        
broggi  a       c   parallel local feature extraction  real time approach road
boundary detection  ieee trans image processing                 
broggi  a   conte  g   gregoretti  f   sansoe  c     reyneri  l  m          evolution
paprica system  integrated computer aided engineering journal   special
issue massively parallel computing  press 
   

fialberto broggi  simona berte

broggi  a   conte  g   gregoretti  f   sansoe  c     reyneri  l  m          paprica
massively parallel processor  proceedings ieee intl conf massively parallel
computing systems  pp        
cantoni  v     ferretti  m          pyramidal architectures computer vision  plenum
press  london 
cantoni  v   ferretti  m     savini  m          compact pyramidal architectures  tou 
j     balchen  j   eds    highly redundant sensing robotic systems  vol      pp 
         nato asi series f 
cantoni  v     levialdi  s          pyramidal systems computer vision  springer
verlag  berlin 
chandrakasan  a   sheng  s     brodersen  r          low power cmos digital design 
ieee journal solid state circuits                  
cohen  l  d          note active contour models balloons  cgvip  image understanding                  
cohen  l  d     cohen  i          finite element methods active contour models
balloons   d   d images  ieee trans pami                     
courtois  b          cad testing ics systems  going   tech 
rep   tima   cmp 
crisman  j     thorpe  c          color vision road following  thorpe  c  e   ed   
vision navigation  carnegie mellon navlab  pp        kluwer academic
publishers 
crisman  j     thorpe  c          unscarf  color vision system detection
unstructured roads  proceedings ieee intl conf robotics automation 
pp            
crisman  j     thorpe  c          scarf  color vision system tracks roads
intersections  ieee trans robotics automation               
crisman  j  d     webb  j  a          warp machine navlab  ieee trans
pami                  
dickmans  e  d     mysliwetz  b  d          recursive   d road relative ego state
recognition  ieee trans pami              
folli  a          elaborazione parallela di immagini per applicazioni tempo reale su
autoveicolo  master s thesis  universita degli studi di parma  facolta di ingegneria 
forman  g  h     zahorjan  j          challenge mobile computing  computer 
              
fountain  t          processor arrays  architectures applications  academic press 
london 
graefe  v     kuhnert  k  d          vision based autonomous road vehicles  masaki 
i   ed    vision based vehicle guidance  pp        springer verlag 
gregoretti  f   reyneri  l  m   sansoe  c   broggi  a     conte  g          paprica
simd array  critical reviews perspectives  dadda  l     wah  b   eds   
proceedings asap      ieee intl conf application specific array processors  pp 
        venezia  italy 
   

fivision based road detection

hamey  l  g  c   web  j  a     wu  i          low level vision warp apply
programming model  kowalik  j  s   ed    parallel computations computers
artificial intelligence  pp           kluwer academic publishers 
haralick  r  m   sternberg  s  r     zhuang  x          image analysis using mathematical
morphology  ieee trans pami                 
hillis  w  d          connection machine  mit press  cambridge  ma 
jochem  t  m     baluja  s          massively parallel road follower  bayoumi 
m  a   davis  l  s     valavanis  k  p   eds    proceedings computer architectures
machine perception      pp       
jochem  t  m   pomerleau  d  a     thorpe  c  e          maniac  next generation neurally based autonomous road follower  proceedings intl conf
intelligent autonomous systems  ias    pittsburgh  pennsylvania  usa 
kass  m   witkin  a     terzopolous  d          snakes  active contour models  intl
journal computer vision             
kenue  s  k          lanelok  detection lane boundaries vehicle tracking using
image processing techniques  proceedings spie   mobile robots iv  vol       
pp          
kenue  s  k          lanelok  algorithm extending lane sensing operating
range     feet  proceedings spie   mobile robots v  vol        pp          
kenue  s  k          correction shadow artifacts vision based vehicle guidance 
proceedings spie   mobile robots viii  vol        pp        
kenue  s  k     bajpayee  s          lanelok  robust line curvature fitting
lane boundaries  proceedings spie   mobile robots vii  vol        pp          
kluge  k     thorpe  c  e          explicit models robot road following  thorpe 
c  e   ed    vision navigation  carnegie mellon navlab  pp         kluwer
academic publishers 
kluge  k          extracting road curvature orientation image edge points
without perceptual grouping features  proceedings ieee intelligent vehicles    
maspar computer corporation  sunnyvale  california         mp   family data parallel
computers 
neumann  h     stiehl  h          toward computational architecture monocular
preattentive segmentation  g hartmann  r     g hauske  eds    parallel processing neural systems computers  elsevier  north holland  
newman  w  m     sproull  r  f          principles interactive computer graphics 
mcgraw hill  tokyo 
pomerleau  d  a          neural network based autonomous navigation  thorpe 
c  e   ed    vision navigation  carnegie mellon navlab  pp         kluwer
academic publishers 
pomerleau  d  a          neural network perception mobile robot guidance  kluwer
academic publishers  boston 
pratt  w  k          digital image processing  john wiley   sons 
   

fialberto broggi  simona berte

rosenfeld  a          multiresolution image processing analysis  springer verlag 
berlin 
serra  j          image analysis mathematical morphology  academic press  london 
shoji  m          cmos digital circuit technology  prentice hall 
tanimoto  s  l     kilger  k          structured computer vision  machine perception
trough hierarchical compuation structures  academic press  ny 
thorpe  c          outdoor visual navigation autonomous robots  kanada  t  
groen  f  c  a     hertzberger  l  o   eds    intelligent autonomous systems  vol    
pp          
tsai  r          ecient accurate camera calibration technique  d machine
vision  proceedings ieee intl conf computer vision pattern recognition 
pp          
turk  m  a   morgenthaler  d  g   gremban  k  d     marra  m          vits   vision
system autonomous land vehicle navigation  ieee trans pami         
wolfe  j  m     cave  k  r          deploying visual attention  guided model  ai
eye  pp          a blake t troscianko 
zavidovique  b     fiorini  p          control view vision architectures  cantoni 
v   ed    human machine vision  analogies divergencies  pp         plenum
press 

   


