journal of artificial intelligence research               

submitted        published      

computationally feasible vcg mechanisms
noam nisan

noam cs huji ac il

school of computer science and engineering 
the hebrew university of jerusalem  israel

amir ronen

amirr ie technion ac il

faculty of industrial engineering   management 
technion   israel institute of technology 
haifa        israel

abstract
a major achievement of mechanism design theory is a general method for the construction of truthful mechanisms called vcg  vickrey  clarke  groves   when applying
this method to complex problems such as combinatorial auctions  a diculty arises  vcg
mechanisms are required to compute optimal outcomes and are  therefore  computationally infeasible  however  if the optimal outcome is replaced by the results of a sub optimal
algorithm  the resulting mechanism  termed vcg based  is no longer necessarily truthful 
the rst part of this paper studies this phenomenon in depth and shows that it is near
universal  specically  we prove that essentially all reasonable approximations or heuristics for combinatorial auctions as well as a wide class of cost minimization problems yield
non truthful vcg based mechanisms  we generalize these results for ane maximizers 
the second part of this paper proposes a general method for circumventing the above
problem  we introduce a modication of vcg based mechanisms in which the agents are
given a chance to improve the output of the underlying algorithm  when the agents behave
truthfully  the welfare obtained by the mechanism is at least as good as the one obtained
by the algorithms output  we provide a strong rationale for truth telling behavior  our
method satises individual rationality as well 

   introduction
mechanism design is a sub eld of game theory and microeconomics that studies the design of protocols for non cooperative environments  in such environments the participating
agents follow their own goals and do not necessarily act as instructed by the mechanism 
this theory has traditionally been applied to economic applications such as auctions of various kinds  an introduction to mechanism design can be found in several books  osborne
  rubinstein        mas collel  whinston    green         in recent years  problems
on the border of mechanism design and computer science have attracted the attention of
many researchers  both within and outside the ai community  in particular  mechanism
design models were applied to multi agent systems  rosenschein   zlotkin        wellman 
wurman  walsh    mackie mason        shoham   tanaka        shoham   tennenholtz         decentralized resource and task allocations  nisan   ronen        wellman
et al         elkind  sahai    steiglitz        porter  ronen  shoham    tennenholtz        
economic and electronic commerce applications  parkes        cramton         and communication networks  feigenbaum  papadimitriou    shenker        anderson  kelly   
steinberg        
c
    
ai access foundation  all rights reserved 

finisan   ronen

the canonical mechanism design problem can be described as follows  a set of rational
agents needs to collaboratively choose an outcome o from a nite set o of possibilities 
each agent i has a privately known valuation function v i   o  r quantifying the agents
benet from each possible outcome  the agents are supposed to report their valuation
functions v i    to some centralized mechanism  the goal of the mechanism is to choose an

outcome o that maximizes the total welfare i v i  o   the main diculty is that agents may
choose to misreport their valuations in an attempt to aect the outcome to their liking 
such manipulations are likely to severely damage the resulting welfare  simulations that
demonstrate this welfare loss can be found in carroll   grosu         the tool that the
mechanism uses to motivate the agents to reveal the truth is monetary payments  these
payments need to be designed in a way that ensures that rational agents always reveal their
true valuations  mechanisms with this property are called incentive compatible or truthful
 in dominant strategies   to date  only one general method  called vcg  vickrey       
clarke        groves         or slightly more generally  ane maximization   is known for
designing such a payment structure    in some settings  it is known that this method is the
sole available one  roberts        lavi  nisan    mualem        
many novel applications of mechanism design are complex and require implementation
on computer systems  cases in point include combinatorial auctions where multiple items
are concurrently sold in an auction  cramton  shoham    steinberg         decentralized
task and resource allocation problems  nisan   ronen        wellman et al          and
networking applications  feigenbaum et al         anderson et al          for many of
these applications  the range of possible outcomes is huge and even nding an outcome that
maximizes the total welfare is known to be np complete  since for such cases computing
the optimal outcome is intractable  the vcg method cannot be applied 
a natural general approach for the development of mechanisms for such cases would be
to use a sub optimal polynomial time algorithm for computing the outcome  and calculate
the payments by applying the vcg payment rule to the underlying algorithm  we term
such mechanisms vcg based 
the starting point of this paper is the observation  noted already by some researchers
 lehmann  ocallaghan    shoham        nisan   ronen         that vcg based mechanisms are not necessarily truthful  thus  rational agents may lie  taking advantage of quirks
in the outcome determination algorithm 
    vcg based mechanisms are generally not truthful
the rst part of this paper examines this last phenomenon in depth and shows that it is
near universal  essentially all reasonable vcg based mechanisms are not truthful 
we rst turn our attention to combinatorial auctions and characterize the class of truthful vcg based mechanisms for this problem    we say that an allocation algorithm for
   recently  a few truthful mechanisms  which are not ane maximizers  were obtained for combinatorial
auctions  bartal  gonen    nisan        
   the importance of combinatorial auctions is twofold  first  they have direct applications such as fcc
auctions  second  they abstract many problems of resource allocation among self interested agents  a
comprehensive survey of research on combinatorial auctions can be found in a recent book  cramton
et al         

  

ficomputationally feasible vcg mechanisms

combinatorial auctions is reasonable if  whenever an item is desired by a single agent only 
this agent receives the item  the above characterization leads to the following corollary 
theorem  any truthful vcg based mechanism for combinatorial auctions is not reasonable  unless it uses the exponential optimal allocation algorithm  
in particular  unless p   n p   every polynomial time  truthful vcg based mechanism is
not reasonable 
loosely speaking  we show that essentially the only degree of freedom available to truthful vcg based mechanisms is the choice of range over which to optimize  within this range
perfect optimization is needed  this theorem seems intuitive as vcg payments identify
each agents utility with that of society  and thus if the social welfare is not optimized by
the mechanism  then agents are motivated to to lie in order to do so  yet  such an argument
only shows that the outcome must be locally optimal  with locality dened as a deviation
by a single agent  the heart of our argument is a delicate hybrid argument showing that
in a general context this local optimization essentially implies global optimization 
next we study a family of problems termed cost minimization allocation problems  this
family contains many natural decentralized task allocation problems such as mechanism
design versions of the shortest path problem  elkind et al         nisan   ronen       
rosenschein   zlotkin         we call a mechanism for such a problem degenerate if there
exist inputs that cause it to produce results that are arbitrarily far from the optimal 
theorem  for any cost minimization allocation problem  any sub optimal truthful vcgbased mechanism is degenerate 
a word is in order here about the signicance of these results  vcg based mechanisms are
not just some special case of truthful mechanisms  they are essentially the only general
method known for truthful mechanisms in non single dimensional settings  moreover  in
certain settings they are known to indeed be the only truthful mechanisms  roberts       
lavi et al          more precisely  weighted versions of vcg based mechanisms  called
ane maximizers  are truthful  but our results extend  as we show  to these cases as well 
consequently  our results imply that designing truthful mechanisms for computationally
intractable problems requires either restricting the range of the outcomes  getting unreasonable or degenerate mechanisms  or developing entirely new techniques for truthful
mechanisms  which may not even exist  a similar implication results if the intractability
stems not from computational considerations  but rather from communication considerations  cramton et al         chapter     
    the second chance mechanism
the second part of this paper proposes a general method for circumventing the diculty
of constructing truthful mechanisms  while vcg based mechanisms lose their incentive
compatibility  they still pose a very special property  loosely speaking  in such a mechanism 
the only reason for an agent to misreport its valuation is to help the algorithm compute
a better outcome  we would like to exploit this property to obtain mechanisms that are
almost truthful 
  

finisan   ronen

given any algorithm for the corresponding optimization problem we dene the second chance mechanism based on it  this mechanism is a modication of the vcg based
mechanism where  in addition to their valuations  the agents are allowed to submit appeal
functions  an appeal function allows the agent to give the algorithm an input  a vector of
declared valuations   which is dierent from the original input  but without misreporting
its type  when the agents behave truthfully  the welfare obtained by the mechanism is at
least as good as the one obtained by the algorithms output 
we then formulate the rationale for truthful behavior in our mechanism  informally  our
argument is as follows  under reasonable assumptions  in any situation in which the agent
believes it is benecial for it to lie to the mechanism  it is better for the agent to report its
actual type to the mechanism and ask its appeal to check whether this lie really helps it 
thus  the agent can construct a truthful strategy premised on the fact that it is not aware
of any situation in which another strategy would be better  we believe that this is a strong
argument for truth telling 
we construct a version of our mechanism that satises individual rationality as well 
a generalization of our results to ane maximization and to compensation and bonus
mechanisms  nisan   ronen        is straightforward 
several alternative approaches aimed at handling the diculty of developing truthful
mechanisms were suggested in the past  one approach is the construction of mechanisms
that are computationally hard to manipulate  e g   bartholdi et al          to the best of
our knowledge such manipulations are only hard in the worst case  e g   it may be nphard to always compute such a manipulation   nevertheless  such hardness does not rule
out the possibility that manipulations may be easy to compute in typical cases  another
possible approach is to consider other equilibria of vcg  holzman  kr dahav  monderer   
tennenholtz        holzman   monderer         however  there is no apparent way for the
agents to coordinate such equilibria  several recent works construct ascending mechanisms
for combinatorial auctions  e g  parkes         such mechanisms rely on assumptions about
the agents which are very dierent from ours  e g   myopic behavior   it may be interesting
to compare the virtues of such mechanisms to those of ours 
a few multi round mechanisms for combinatorial auctions that let the agents improve
the provisional allocation were proposed and tested in the past  banks  ledyard    porter 
       our argument for truthfulness in second chance mechanisms may provide a partial
explanation for the relative success reported in these experiments 

   preliminaries
in this section we formally present our model  we attempt as much as possible to use the
standard notions of both mechanism design and computational complexity theories 
    mechanism design problems
this section formulates the class of mechanism design problems that we study 
denition    utilitarian mechanism design problem  a  utilitarian  mechanism design problem is described by 
   a nite set o of allowed outputs 
  

ficomputationally feasible vcg mechanisms

   each agent i               n  has a real function v i  o  o  called its valuation or type 
this is a quantication of its benet from each possible output o in terms of some
common currency  v i     is privately known to agent i 
   if the mechanisms output is o and in addition the mechanism hands the agent pi units
of currency  then its utility ui equals  v i  o    pi   this utility is what the agent aims
to optimize 
   the goal of the mechanism is to select an output o  o that maximizes the total

welfare g v  o    i v i  o  
an example of such a problem can be found in section     
note that the goal in these problems is to maximize the total welfare but not necessarily
the revenue  this goal  also known as economic eciency  is justied in many settings and
is extensively studied in economics 
in a direct revelation mechanism  the participants are simply asked to reveal their types
to the mechanism  based on these declarations the mechanism computes the output o and
the payment pi for each of the agents 
denition    mechanism  a  direct revelation  mechanism is a pair m    k  p  such
that 
 the output function k accepts as input a vector w    w            wn   of declared valuation
functions  and returns an output k w   o 
 the payment function p w     p   w           pn  w   returns a real vector quantifying the
payment handed by the mechanism to each of the agents  e g  if pi      the mechanism
pays two units of currency to agent i  
the agents try to maximize their own utility and thus may lie to the mechanism 
as these lies might severely reduce the total welfare  the mechanism should be carefully
designed such that it will be for the benet of the agents to report their types truthfully 
notation  we denote the tuple  a       ai    ai          an   by ai   we let  ai   ai   denote the
tuple  a            an   
denition    truthful mechanism  a mechanism is called truthful if truth telling is a
dominant strategy  i e   for every agent i of type v i and for every type declaration wi for
the other agents  the agents utility is maximized when it declares its real valuation function
vi 
as an example consider the famous vickrey auction  vickrey         a seller wishes to
sell one item in an auction  there are n buyers  each privately knowing its valuation v i for
this item   the value for not winning is assumed to be zero   in a vickrey auction each
of the buyers is simply asked for its valuation  the item is allocated to the buyer with the
   this assumption is called quasi linearity and is very common in mechanism design 
   we do not consider the issue of how to represent the valuations 

  

finisan   ronen

highest bid for the price of the second highest  the reader may verify that this mechanism
is truthful  another example of a truthful mechanism can be found in section     
in general  the communication protocol of a mechanism can be complicated  a simple
observation known as the revelation principle for dominant strategies  e g   mas collel et al  
      pp       states that for every mechanism where the agents have dominant strategies 
there exists an equivalent truthful mechanism  thus  w l o g  it is possible to focus on
truthful mechanisms 
    vcg based mechanisms
this subsection presents the celebrated vcg mechanisms  intuitively  these mechanisms
solve utilitarian problems by identifying the utility of truthful agents with the declared
total welfare  we then generalize these mechanisms 
denition    vcg mechanism   via groves         a mechanism m    k  p  belongs
to the vcg family if 
 k w  maximizes the total welfare according to w  that is  for all w  k w   arg maxo g w  o  
 the payment is calculated according to the vcg formula  pi  w   
hi  wi    hi     is an arbitrary function of wi   



j i w

j  k w  

 

the reader may verify that the vickrey auction is a vcg mechanism  it is well known
that vcg mechanisms are truthful  groves        
unfortunately  for many applications  the task of nding an output k w  that maximizes the total welfare is computationally infeasible  e g   np hard   in this paper we
consider vcg mechanisms where the optimal algorithm is replaced by a sub optimal but
computationally feasible one 
denition    vcg based mechanism  let k w  be an algorithm that maps type declarations into allowable outputs  we call m    k w   p w   a vcg mechanism based on

k    if p    is calculated according to the vcg formula  pi  w    j i wj  k w     hi  wi  
 where hi     is an arbitrary function of wi   
obviously  a vcg based mechanism that is based on an optimal algorithm is a vcg mechanism  note that the payment function of a vcg based mechanism is not identical to the
vcg payment because the algorithm k    is plugged into the payment formula  we will now
characterize the utility of an agent in vcg based mechanisms  this utility is equivalent to
the total welfare according to the declared types of the other agents and the actual type of
the agent under consideration 
lemma      vcg based utility  consider a vcg based mechanism dened by the allocation algorithm k     and the functions  h               hn       suppose that the actual valuation
of agent i is v i   and the declarations are w    w               wn       then the utility of agent i
equals g  v i   wi    k w     hi  wi   
  

ficomputationally feasible vcg mechanisms

proof  the proof is immediate from the denitions  the agents utility equals v i  k w    

pi  w    v i  k w     j i v j  k w     hi  wi     g  v i   wi    k w     hi  wi   
in other words  a vcg based mechanism identies the utility of truthful agents with the
total welfare  in particular  when k    is optimal  g  v i   wi    k w   is maximized when the
agent is truthful  this implies that vcg mechanisms are truthful but this truthfulness is
not necessarily preserved by vcg based mechanisms 
      example  non optimal vickrey auction
this section demonstrates the problems that might occur when the optimal algorithm in a
vcg mechanism is replaced by a sub optimal one  consider the sale of a single item  as
we already commented  a vickrey auction is a vcg mechanism  its algorithm allocates the

item to the agent with the highest declared value  the function hi  wi      j i wj  o 
equals the negation of the second highest value in case i is winning 
consider the same mechanism where the optimal algorithm is replaced by an algorithm
that only chooses the second highest agent  the mechanism will now give the object to the
agent with the second highest declaration for the price of the third highest agent 
suppose that there are three agents  alice who has a value of    million  bob with a
value of      million  and carol who has a value of    million  when the agents are truthful 
bob wins and pays    million  in this case it is for alices benet to reduce her declaration
below bobs  similarly  if alice wins  bob would like to lower his declaration further  and
so on  note that there are natural situations where carol will win as well 
it is not dicult to see that there are no dominant strategies in this game  the outcome
of the mechanism is highly unpredictable  depending heavily on the agents beliefs about
the others  their risk attitude  and their level of sophistication  such a mechanism can
yield inecient outcomes  the eciency loss may get much worse when the underlying
optimization problem has a complex combinatorial structure  simulations that demonstrate
this in the context of scheduling were done by carroll   grosu        
      affine based mechanisms
it is possible to slightly generalize the class of vcg mechanisms and obtain mechanisms
called ane maximizers  such mechanisms maximize ane transformations of the valuations  when the domain of valuations is unrestricted  ane maximizers are the sole
truthful mechanisms  roberts        lavi et al          similarly to vcg  we generalize
these mechanisms to incorporate sub optimal algorithms 
notation  let a    a            an   be an n     tuple such that a      is a valuation function 
and a            an are strictly positive  we dene the weighted welfare ga  w  o  of an output o

as a   o    i   ai  wi  o  where w is a vector of types and o an output 
denition    ane based mechanism  let k w  be an algorithm that maps type declarations into allowable outputs  a    a            an   be an n     tuple such that a      is a
valuation function  and a            an are strictly positive  we call m    k w   p w   an ane

mechanism based on k if p is calculated according to the formula  pi  w    a i   j i   aj 
wj  k w     hi  wi     where hi    is an arbitrary function of wi   
  

finisan   ronen

the function a      can be interpreted as the preferences of the mechanism over the set of
the alternatives and a            an as weights over the agents  as in vcg mechanisms  the
agents utility have a convenient characterization 
lemma      ane based utility  consider an ane based mechanism dened by the
allocation algorithm k     a tuple a and the functions h               hn      suppose that the
actual valuation of agent i is v i   and the declarations are w    w               wn       then the
utility of agent i equals a i  ga   v i   wi    k w     hi  wi    
proof  the proof is immediate from the denitions  the agents utility equals v i  k w   
pi  w     a i  ai v i  k w     pi  w    a i  ga   v i   wi    k w     hi  wi    
in other words  an ane based mechanism identies the agents utility with the ane
transformation of the valuations it aims to optimize  in particular  when k    maximizes
ga  w      the mechanism is truthful 
    computational considerations in mechanism design
this section adopts standard notions of computational complexity to revelation mechanisms 
denition    polynomial mechanism  a mechanism  k  p  is called polynomial time
computable if both k w  and p w  run in polynomial time  in the size of w  
note that a vcg based mechanism is polynomial i its output algorithm and the functions hi     are polynomial  we sometimes call polynomial algorithms and mechanisms
computationally feasible 
denition    np complete problem  a mechanism design problem is called np complete
if the problem of nding an output that maximizes the total welfare is np complete 
we use the term feasible to denote acceptable computational time and infeasible for
unacceptable computational time  in particular  np hard problems and exponential algorithms are considers infeasible  while polynomial algorithms are considered feasible  we use
these non standard terms because most of our results are not limited to specic complexity
classes 
    example  combinatorial auctions
the problem of combinatorial auctions has been extensively studied in recent years  a recent
book can be found at cramton et al          the importance of this problem is twofold 
firstly  several important applications rely on it  e g   the fcc auction cramton        
secondly  it is a generalization of many other problems of interest  in particular in the eld
of electronic commerce 
the problem  a seller wishes to sell a set s of items  radio spectra licenses  electronic
devices  etc   to a group of agents who desire them  each agent i has  for every subset
s  s of the items  a non negative number v i  s  that represents how much s is worth for
it  v i     is privately known to each agent i  we make two standard additional assumptions
on the agents type space 
  

ficomputationally feasible vcg mechanisms

no externalities the valuation of each agent i depends only on the items allocated to
it  in other words  for every two allocations x    x            xn   and y    y            yn   
if xi   yi   then v i  x    v i  y   thus  we denote the valuation of each agent i by
v i    s  r 
free disposal items have non negative values  i e   if s  t  then v i  s   v i  t   also 
v i        


items can either be complementary  i e   v i  s t    v i  s    v i  t    or substitutes  i e  

v i  s t    v i  s    v i  t    for disjoint s and t    for example  a buyer may be willing to
pay      for a t v  set       for a vcr       for both and only      for two vcrs 
if agent i gets the set si of items  and its payment is pi   its utility is v i  si     pi    the
payments in combinatorial auctions are non positive   this utility is what each agent tries
to optimize  for example  an agent prefers to buy a       valued vcr for       gaining
      rather buy a       valued vcr for       
in a vcg mechanism for a combinatorial auction  the participants are rst required
to reveal their valuation functions to the mechanism  the mechanism then computes 
according to the agents declarations  an allocation s that maximizes the total welfare  the
payment for each of the agents is calculated according to the vcg formula  by lemma
     the utility ui   v i  si     pi of each of the agents is maximized when it reveals its true
valuation to the mechanism  when all agents are truthful  the mechanism maximizes the
total welfare 
consider  however  the computational task faced by such a mechanism  after the types
are declared  the mechanism needs to select  among all possible allocations  one that maximizes the total welfare  this problem is known to be np complete  therefore  unless
the number of agents and items is small  such a mechanism is computationally infeasible 
even the problem of nding
an allocation that approximates the optimal allocation within

a reasonable factor of  s    is n p  complete  zuckerman         nevertheless  various
heuristics and tractable sub cases have been analyzed in the literature  cramton et al  
      chapter      we would like to nd a way to turn these sub optimal algorithms into
mechanisms 
we note that  in general  revealing a valuation function requires exponential communication  while we ignore communication issues in this paper  a subsequent work  ronen 
      extends the second chance method to address communication limitations as well 

   limitations of truthful vcg based mechanisms
this section studies the limitations of truthful vcg based mechanisms  section     characterizes these mechanisms for the important problem of combinatorial auctions  see section
      this characterization precludes the possibility of obtaining truthfulness by applying
vcg rules to many of the proposed heuristics for combinatorial auctions  e g   the greedy
algorithms of lehmann et al        and nisan         moreover  we show that any truthful
non optimal vcg based mechanism for combinatorial auctions suers from abnormal behavior  section     shows that for many natural cost minimization problems  any truthful
vcg based mechanism is either optimal or produces results that are arbitrarily far from
  

finisan   ronen

optimal  as a result  when such a problem is computationally intractable  any truthful computationally feasible vcg based mechanism has inputs that cause it to produce degenerate
results  furthermore  since standard algorithmic techniques do not yield such anomalies  it
might be dicult to develop algorithms that can be plugged into truthful mechanisms  we
generalize these results to ane based mechanisms as well 
    truthful vcg based mechanisms for combinatorial auctions
this section characterizes the class of truthful vcg based mechanisms for combinatorial
auctions 
denition    maximal in its range  let k w  be an algorithm that maps type decladf



rations into allowable outputs  let v   ni   v i be the space of all possible types and let
v   v be a subspace of v   let o denote the range of k at v    i e  o    k w  w  v    
we say that k is maximal in its range at v  if for every type w  v    k w  maximizes g
over o  we say that k is maximal in its range if it is maximal in its range at v  
consider  for example  an algorithm for combinatorial auctions that allocates all the
items  the set s  to the agent with the highest valuation v i  s   clearly  this polynomial
time algorithm is maximal in its range   the welfare obtained by the allocation of this
algorithm achieves at least a factor of max   n     s   of the optimal welfare  where n
denotes the number of agents  
proposition     a vcg based mechanism with an output algorithm that is maximal in
its range is truthful 
proof  such a mechanism is a vcg mechanism where the set of allowable outputs is the
range of its output algorithm  by lemma     such a mechanism is truthful 
we will now show that the above proposition almost characterizes the class of truthful
vcg based mechanisms for the combinatorial auction problem 
notation  we let v denote the space of all types v    v             v n   such that for any two
dierent allocations x and y  g v  x    g v  y    recall that g    denotes the total welfare  
it is not dicult to see that v contains almost all the types  i e  v  v has a measure zero
in v  
theorem     if a vcg based mechanism for the combinatorial auction problem is truthful 
then its output algorithm is maximal in its range at v  
proof  assume by contradiction that m    k  p  is truthful but k    is not maximal in its
range at v   since the functions hi     do not aect the truthfulness of the mechanism  we

can assume that they are all zero  i e   we assume that for all i  pi  w    j i wj  k w   

according to lemma      the utility of each agent i equals v i  k w     j i wj  k w    
g  v i   wi    k w   
let o denote the range of k    at v and let v  v be a type such that k v  is not
optimal over o  let y   arg maxoo g v  o  be the optimal allocation among o  note that
  

ficomputationally feasible vcg mechanisms

from the denition of v   y is unique  finally  let w  v be a type such that y   k w   such
a type exists since y is in the range of the algorithm 
dene a type vector z by

i

z  s   

v i  s  if s  y i

if s  y i  

where  stands for a suciently large number  in other words  each agent i strongly desires
the set y i   apart from this  v i and z i are identical  we assume that z  v   otherwise we
could add suciently small noise i  s  to z such that all the claims below remain true 
we will show that z forces the algorithm to output y  we will then show that if
the algorithm outputs y when the type is z  it must also output y when the type is v  a
contradiction 
lemma     y   k z  
proof  dene a sequence of type vectors by 
w     w            wn  
w     z     w            wn  
w     z     z     w            wn  
  
 
wn    z             z n   
in other words  every agent in turn moves from wi to z i   we assume that wj  v for all
j  it is not dicult to see that z can be modied by adding small noise to it  in a way that
guarantees the above 
claim     k w      y 
proof  assume by contradiction that this is false  from the denition of v we obtain that
g w    k w       g w    y  
consider the case where agent  s type is z   and the types of the others are w            wn  
by declaring w    agent   can force the algorithm to decide on y  since the mechanism is
truthful  it must be that g w    k w       g w    y  
since  is large  it must be that k    w     y    i e   agent   gets all the items it gets

when its type is w     thus  from the denition of z     we obtain    nj   wj  k w      

   nj   wj  y   because  due to the free disposal assumption  w   k w      w   y   we


obtain that w   k w       nj   wj  k w       w   y    nj   wj  y   even when z is perturbed  
thus  g w    k w       g w    y  
therefore  when the type of agent   is w    it is better o declaring z     forcing the
mechanism to output k w     this contradicts the truthfulness of the mechanism 
similarly  by induction on j  we obtain that k wj     y for all j  and in particular for wn   z 
this completes the proof of lemma     
we will now show that k z    y implies that k v    y  a contradiction  consider the
following sequence of type vectors 
  

finisan   ronen

v     v             v n  
v     z     v             v n  
  
 
vn    z             z n   
in other words  every agent in turn  moves from v i to z i   again we can choose z such that
all vj s are in v  
claim     for all vj   y maximizes g on o 
proof  we will show this for v    the proof for j     follows from a similar argument 
assume by contradiction that x   y maximizes the welfare for v    since  is arbitrarily
large it must be that x   y i   consequently  in both cases agent  s valuation equals  
recall that y uniquely maximizes g on o for v    thus  for every allocation x   y  we have




v    y    nj   v j  y    v    x    nj   v j  x   therefore     nj   v j  y       nj   v j  x   but
the left hand side equals g v    y  and the right hand side equals g v    x   thus  g v    y   
g v    x   contradiction 
claim     k vn      y 
proof  we showed that k vn     y   recall that vn   z   we also showed that y uniquely
maximizes g vn        let xn    k vn     assume by contradiction that xn    y  according to lemma      the utility of agent n when it is truthful is g vn    xn     thus 
when agent ns type is v n   it is better o declaring z n obtaining a utility of g vn    y   this
contradicts the truthfulness of the mechanism 
similarly  by downward induction on j  we obtain that k v      y  but v    v and we
assumed that k v    y  a contradiction  this completes the proof of theorem     
remarks the above theorem characterizes the output algorithms that could be incorporated into truthful vcg based mechanisms on all but a zero measured subset of the types 
this characterization holds even when the set of possible types is discrete  under the mild
condition that the type vector z can be dened such that the agents are not indierent
between allocations   the theorem gives rise to several interesting algorithmic and combinatorial questions  for example  given an approximation factor c     what is the minimal
size of a sub family o  o such that for every v  maxyo g v  y   c  gopt  v   a limited
version of this question was analyzed by holzman et al        and holzman   monderer 
     
corollary     consider a vcg based mechanism for a combinatorial auction with an output algorithm k  if the mechanism is truthful  there exists an output algorithm k  maximal
in its range  such that for every v  g v  k v     g v  k v   
proof  let o denote the range of k on v   and dene another algorithm that is optimal
in its range by v  k v   arg maxoo   according to proposition      a vcg mechanism
  

ficomputationally feasible vcg mechanisms

based on k is truthful  consider the case where the agents are truthful  recall that the
utility of all agents is determined by the resulting total welfare  thus  it is not dicult to
see that the welfares g v  k v   and g v  k v   must be continuous in v  two continuous real
functions  which are identical on a dense subspace  are identical on the whole space and
thus the corollary follows 
we now show that non optimal truthful vcg based mechanisms suer from the following
disturbing abnormal behavior 
denition     reasonable mechanism  a mechanism for combinatorial auctions is
called reasonable if whenever there exists an item j and an agent i such that 
   for all s  if j 
  s  then v i  s   j     v i  s   and 
   for every agent l   i  s  v i  s   j     v i  s  
then j is allocated to agent i 
simply put  in situations where only one agent desires an item  that agent gets it 
theorem     any non optimal truthful vcg based mechanism for combinatorial auctions
is not reasonable 
proof  consider such a mechanism m  according to corollary     there exists an equivalent
mechanism m    k  p   which is optimal in its range  since m must also be sub optimal 
there exists at least one partition s    s            sn   that is not in the range of the mechanism 
dene a vector of types by 

  if x  si
i
v  x   
  otherwise 
in other words  each agent i wants a single set si   and no two agents want the same item
 as the sets are disjoined   since s is not in the range of m it must be that k v    s  since
s is strictly optimal  k v  must also be suboptimal  hence  there exists at least one agent
i that does not get si   in particular  there exists at least one item j  si that agent i does
not get  since i is the only agent that desires j  the theorem follows 
corollary     unless p   n p   any polynomial time truthful vcg based mechanism for
combinatorial auctions is not reasonable 
we believe that most of the natural allocation algorithms  e g   linear programming relaxations  algorithms that greedily allocate items to agents  local search algorithms  will
not yield the above anomaly  in particular  we presume that when each agent wants a single
subset of items and these subsets are disjoined  any such algorithm will nd the optimal
allocation  thus  the above corollary suggests that it might be dicult to develop allocation
algorithms that yield truthful vcg based mechanisms 
we now show how to generalize our results to any ane based mechanism  given a tuple
a    a            an    we dene v to be the space of all types v such that for any two dierent
allocations x and y  ga  v  x    ga  v  y   similarly to the unweighted case  we say that an
algorithm is optimal in its range with respect to ga     if it always produces allocations that
maximize ga     
  

finisan   ronen

theorem      consider an ane based mechanism for the combinatorial auction problem
dened by an allocation algorithm k     and a tuple a    a            an    if the mechanism is
truthful  then k    is maximal in its range with respect to ga     at v  
proof   sketch  the proof is similar to the proof of theorem     and we thus only sketch it 
dene v and o similarly but w r t  the ane transformation ga      assume by contradiction
that there exists a type vector v such that k v  is not optimal in o  let y be the optimal
allocation in the range o  and w  v such that k w    y  according to lemma      the
utility of each agent is maximized with the weighted welfare ga   v i   wi        thus  it is
possible to proceed along the lines of the proof of theorem      dene a type vector z
similarly  then  start from w and gradually transform all agents to z and conclude that
k z    y  then gradually transform all agents from z to v and show that k v    y  i e    a
contradiction 
open questions we currently do not know whether theorems similar to theorem    
hold when the valuations are bounded  moreover  we do not know how to get rid of the
usage of v   thus  we do not preclude the possibility that corollary     will not hold when
the space of possible types is discrete  we also do not know whether they hold when the
allocation algorithm is randomized or whether bayesian versions of our theorems apply to
the expected externality mechanism  daspremont   gerard varet         an analog of
vcg in the bayesian model   we leave this to future research  we conjecture that similar
theorems apply to many other mechanism design problems 
    truthful vcg based mechanisms for cost minimization problems
we now show that for many natural cost minimization problems  any truthful vcg based
mechanism is either optimal or produces results that are arbitrarily far from the optimal 
we start with a sample problem 
multicast transmissions  a communication network is modeled by a directed graph
g    v  e   each edge e is a privately owned link  the cost te of sending a message along
that edge is privately known to its owner  given a source s  v and a set t  v of
terminals  the mechanism must select a subtree rooted in s that covers all the terminals 
the message is then broadcasted along this tree  we assume that no agent owns a cut in
the network 
naturally  the goal of the mechanism is to select  among all possible trees  a tree r that

minimizes the total cost 
er te   the goal of each agent is to maximize its own prot 

pi   er owned by i  te   it is not dicult to see that this is a utilitarian mechanism design
problem 
this example was introduced by feigenbaum et al         using a dierent model   it is
motivated by the need to broadcast long messages  e g   movies  over the internet  we now
generalize this example 
denition     cost minimization allocation problem 
a cost minimization allocation problem  cmap  is a mechanism design problem described by 
  

ficomputationally feasible vcg mechanisms

i    we let m  
type space the type of each agent i is described by a vector  v i           vm
i

i
i mi    in our multicast example ve corresponds to the negation of the cost te   

allowable outputs each output is denoted by a bit vector x    x             x m            xn            xnmn   
      m   we denote  xi            ximi   by xi   there may be additional constraints on the
set o of allowable outputs   in our example x corresponds to a tree in the networks
graph where xij equals   i the corresponding edge is in the chosen tree  
such that the following conditions are satised 
i   describes a type for agent i and w i  v i  as
unbounded costs if v i    v i           vm
i
i
vectors   then w also describes a type 

independence and monotonicity each valuation v i depends only on is bits xi    in our
example  the agent valuation of a given tree depends only on its own edges in it   if
for all j  wji  vji   then for every output x  wi  xi    v i  xi   
forcing condition for every type v  an allowable output x and a real number  
dene a type v   by


v  ij

 

vji


if xij    
otherwise 

the forcing condition is satised if for every allowable output y   x  lim g t    y   
 
many natural decentralized task allocation problems in which the goal is to minimize
the total cost under given constraints belong to this class  in particular the reader may
verify that our multicast example falls into this category  another example is the shortest
path problem studied extensively in recent years  e g   rosenschein   zlotkin        archer
  tardos        elkind et al         
notation  for a type v we let gopt  v  denote the optimal value of g  we denote g v  k v  
by gk  v  
denition     degenerate algorithm  an output algorithm k is called degenerate if the
g  v gopt  v 
is unbounded  i e   there exist vs such that rk  v  is arbitrarily
ratio rk  v    k gopt  v    
large 
a degenerate algorithm is arbitrarily far from optimal  both additively and multiplicatively  note that this should not be confused with the standard notion of an approximation
ratio  as our denition corresponds to a single problem  in particular  the number of agents
is xed  we note that we do not rule out the possibility that such an algorithm will be
good by some non worst case metric 
theorem      if a vcg based mechanism for a cmap is truthful  then its output algorithm is either optimal or degenerate 
  

finisan   ronen

before stating the proof let us illustrate it using the multicast transmission example 
suppose that we start with a type vector that leads to a sub optimal solution  if we raise
the cost of an edge  the utility of the owner cannot increase  due to the truthfulness and
lemma       we then gradually raise the cost of all edges except the ones in the optimal
tree  still  the algorithm will have to choose a sub optimal tree  however  the cost of any
suboptimal tree is now arbitrarily high while the optimal cost remains the same 
proof  let m    k  p  be a non optimal truthful vcg based mechanism for a cmap  as

in theorem      assume that pi  w    j i wj  k w    let v be a type vector such that k v 
is not optimal and let y   opt v  be an optimal output 
we dene a type z by 


zji  

vji
if yji    
 otherwise 

where  is arbitrarily large 
consider the type sequence 
v     v             v n  
v     z     v             v n  
  
 
vn    z             z n   
claim      for all j  y   opt vj   
proof  by denition y is optimal for v    let x   y be an allocation  from the independence
condition  for all j  g vj   y    g v    y   from the monotonicity  g vj   x   g v    x   together 
g vj   x   g v    x   g v    y    g vj   y  
claim      g v    k v       g v    y 
proof  assume by contradiction that the claim is false  since y is optimal for v    this
means that g v    k v       g v    y   from independence  g v    y    g v    y   recall that
k v    is suboptimal so g v    y    g v    k v      from monotonicity  we only worsen the
type of agent     g v    k v      g v    k v      thus  together g v    k v      g v    k v      
g v    y    g v    y    g v    k v      in particular  g v    k v       g v    k v     
consider the case where agent  s type is v   and the declarations of the other agents are
 v             v n    according to lemma      its utility when it is truthful  equals g v    k v      on
the other hand  when it falsely declares z     its utility equals g v    k v      since we showed
that g v    k v       g v    k v      this contradicts the truthfulness of the mechanism 
similarly  we obtain that g vn   k vn      g vn   y    g v    y   by the forcing condition 
g vn   k vn      when     thus  the algorithm is degenerate 
corollary      unless p   n p   any polynomial time truthful vcg based mechanism for
an np hard camp is degenerate 
  

ficomputationally feasible vcg mechanisms

note that due to the revelation principle  the theorems in this section hold for any mechanism where the agents have dominant strategies  similarly to theorem       any mechanism
that uses vcg payments and has a non optimal ex post nash equilibrium also has equilibria
which are arbitrarily far from optimal 
we now show how to generalize the theorems in this section to ane based mechanisms 
theorem      if an ane based mechanism  k  p  for a cmap is truthful  then its output
algorithm is either optimal or degenerate 
proof  sketch  the proof is almost identical to the proof of theorem       let v be a
type such that k w  is not optimal w r t  to the corresponding ane transformation ga   we
dene a type vector z similarly to theorem      and consider a sequence of type vectors
where each agent in turn changes its type from wi to z i   due to the incentive compatibility
and lemma       the utility of each agent cannot increase  meaning that the weighted welfare
ga remains sub optimal  due to the forcing condition  all outputs except the optimal  have
arbitrarily high cost  this means that the algorithm is degenerate 
the compensation and bonus mechanism  nisan   ronen        identies the utility of
agents with the total welfare similarly to vcg  i e   the utility of an agent can be described similarly to lemma      thus  all the theorems in this section can be applied to
compensation and bonus mechanisms as well 

   second chance mechanisms
to date  ane maximization is the only known general method for the development of
truthful mechanisms  therefore  the results in the previous section do not leave much hope
for the development of truthful mechanisms for many complex problems 
this section proposes a method for circumventing this problem  consider a vcg based
mechanism  an immediate consequence of lemma     is that the only reason for an agent
to misreport its type is to help the algorithm to improve the overall result  this leads to
the intuition that if the agents cannot improve upon the underlying algorithm  they can
do no better than be truthful  we would like to exploit this special property of vcg based
mechanisms and construct mechanisms that are almost truthful 
given any algorithm for the corresponding optimization problem we dene the second chance mechanism based on it  this mechanism is a modication of the vcg based
mechanism where in addition to their valuations  the agents are allowed to submit appeal
functions  an appeal function allows the agent to give the algorithm an input  vector of
declared valuations  that is dierent from the original input but without misreporting its
type  when the agents behave truthfully  the welfare obtained by the mechanism is at least
as good as the one obtained by the algorithms output 
we then formulate the rationale for truthfulness in second chance mechanisms  informally  our argument is as follows  under reasonable assumptions  in any situation in which
the agent believes it is benecial for it to lie to the mechanism  it is better for it to report its
actual type to the mechanism and ask its appeal to check whether this lie is indeed helpful 
thus  the agent can construct a truthful strategy premised on the fact that it is not aware
  

finisan   ronen

of any situation in which another strategy is better for it  we believe that this is a strong
argument for truth telling 
a generalization of our results to ane maximization and to compensation and bonus
mechanisms is straightforward 
    the mechanism
in this section we formulate the second chance mechanism and its basic properties 
denition     appeal function  let v  
appeal is a partial function  l   v  v  



i vi

denote the type space of the agents  an

the semantics of an appeal l    is  when the agents type vector is v    v            vn    i
believe that the output algorithm k    produces a better result  w r t  v  if it is given the
input l v  instead of the actual input v  an appeal function gives the agent an opportunity
to improve the algorithms output  if v is not in the domain of l     the semantics is that
the agent does not know how to cause the algorithm to compute a better result than k v  
the second chance mechanism is dened in figure      it is a modication of vcg that
allows the agents to submit appeal functions as well 

before the execution the manager of the mechanism publishes the outcome determination algorithm and a time limit t on the computation time of each appeal 
declaration each agent submits a type declaration wi and an appeal function li     to the
mechanism  the appeals must adhere to the specied time limit 
allocation let w    w            wn    the mechanism computes k w   k l   w            k ln  w  
and chooses among these outputs the one that maximizes the total welfare  according
to w  
payment let o denote the chosen output  the mechanism calculates the payments ac
cording to the vcg formula  pi   j i wj  o    hi  wi   li    where hi     is any real
function  
figure    the second chance mechanism
remarks the agents send programs that represent their appeal functions to the mechanism  these programs are then executed by the mechanism  the mechanism can terminate
the computation of each appeal after t units of computation time  and refer to the vector
of declarations w as if it is not in the appeals domain   thus  we can assume w l o g  that
all appeals adhere to the given time limit  a discussion on the choice of the time limit and
alternative representations of the appeal functions appears in section      we believe that
it is possible to construct software tools and apis that will make the formulation of the
appeals an easy task 
   a function f   d  r is called partial if its domain is a subset of d  i e  if dom f    d 

  

ficomputationally feasible vcg mechanisms

the functions hi     do not play any role in the agents considerations as every hi     is
independent of is actions  until section     it is possible to simply assume that hi       
for all i  in section     we will use these functions in order to satisfy individual rationality 
denition     truthful action  an action in the second chance mechanism is a pair
 wi   li   where wi is a type declaration and li     is an appeal function  an action is called
truthful if wi   v i  
the following observation is a key property of the mechanism 
proposition     consider a second chance mechanism with an output algorithm k  for
every type vector v    v             v n    if all agents are truth telling  g v  o   g w  k v   

in other words  when the agents are truth telling  the result of the mechanism is at least
as good as k v   the proof is immediate from the denition of the mechanism  we now
formulate an analog of lemma      the proof is similar to the lemmas proof and is
henceforth omitted 
lemma      second chance utility  consider a second chance mechanism  let o be the
chosen output  the utility of agent i equals g  v i   wi    o    hi  wi   li   

therefore  informally  it is benecial for an agent to declare wi   v i only if it either helps
the output algorithm k    to compute a better result  w r t   v i   wi    or it helps one of the
appeals of the other agents 
note that lying to a second chance mechanism may harm an agent in two ways  first 
it can damage the output algorithm k     second  it can cause the mechanism to measure
the welfare according to a wrong type vector and thus cause it to choose an inferior output 
notation  we say that a second chance mechanism is t limited if the time limit it species
is t   similarly  an algorithm is called t limited if its computational time never exceeds t
units of computation 
the following proposition is obvious 
proposition     consider a t  limited second chance mechanism  if the output algorithm
of the mechanism is also t  limited  the overall computational time of the mechanism is
o nt   

      a toy example
consider a combinatorial auction of two items  a type of an agent is a   tuple representing
its value for every non empty subset of items  suppose that agent i values the pair of
items at    million but values every single item at    million  its type is  therefore  v i  
  

finisan   ronen

           suppose that the agent notices that the allocation algorithm often produces better
allocations if it declares wi              i e   it hides its willingness to accept only one item  
in a vcg based mechanism the agent may prefer to declare wi instead of its actual type 
this might cause two problems 
   even when the others are truthful  there may be many type vectors v i belonging to the other agents  for which declaring wi damages the chosen allocation  i e  
g  v i   wi    k  wi   wi       g  v i   wi    k  v i   wi     
   even when this is not the case and every agent i chooses a declaration wi such that
g  v i   wi    k  wi   v i      g  v i   wi    k w    it may be that according to the actual
type vector v the output k w  may be inferior to k v   i e   g v  k w     g v  k v    
the second chance mechanism enables the agent to check whether declaring a falsied type
would yield a better result  instead of declaring wi              the agent can declare its
actual type and dene its appeal as li  w      wi   wi    in this way the agent enjoys both
worlds  in cases where the falsied type is better  the mechanism will prefer k  wi   wi   
over k  v i   wi     in cases where the truthful declaration is better  the mechanism will prefer
k  v i   wi     note that the mechanism allows an appeal to modify not only the declaration
of the agent that submitted it but also the whole vector of declarations  this will allow us
to provide a strong argument for truth telling 
possible variants of the second chance mechanism one alternative denition
of the mechanism is to let the agents submit outcome determination algorithms instead
of appeals  it is possible to apply reasoning similar to ours to this variant  however 
formulating such output algorithms might be a demanding task for many applications 
there are also other more delicate dierences 
another possibility is to dene a multi round variant of the mechanism  in the rst
round the agents submit type declarations w  then  at each round  each agent gets the
chance to improve the allocation found by the algorithm k w   the mechanism terminates
when no agent improves the current allocation  the strategy space of multi round mechanisms is very complex  yet  under myopic behavior  parkes         arguments similar to
ours can be used to justify truthful behavior  such arguments may explain the relative
success of ad hoc mechanisms such as iterative vcg  ivg  and ausm  reported by banks
et al        
standard equilibria in second chance mechanisms the second chance mechanism
uses vcg payments and  therefore  the theorems of the rst part of the paper apply to it 
from lemma      a vector of truthful actions is an ex post equilibrium if and only if the
resulting allocation o is optimal in the range of the algorithm  moreover  consider agent
i and let  wi   li   be a set of actions of the other agents   wi   li   is a best response for
the agent if and only if the resulting allocation o is optimal in the range of the underlying
algorithm with respect to  v i   wi    at least intuitively  nding such a response is at least as
   both mechanisms are in the spirit of our second chance mechanism  as they let the agents improve the
allocation  the actual rules of these mechanisms are complicated and are described by banks et al  
     

  

ficomputationally feasible vcg mechanisms

hard as nding an allocation that is optimal in the range of the algorithm  thus  one should
not expect the agents to follow equilibrium strategies in the traditional sense  we argue
that similar arguments can be made for every game in which computing the best response
is computationally dicult  hence  an argument that takes into account the agents own
limitations is required  we note that we did not succeed in nding natural complexity
limitations under which truth telling is an equilibria for the agents  we leave this as an
intriguing open problem 
    the rationale for truth telling
as we noted  standard equilibria should not be expected in second chance mechanisms  this
section formulates the rationale for truth telling under these mechanisms  we rst introduce
the notion of feasibly dominant actions  which takes into account the fact that the agents
capabilities are limited  we then demonstrate that under reasonable assumptions about
the agents  truthful  polynomial time  feasibly dominant actions exist 
      feasible truthfulness
the basic models of equilibria in game theory are justied by the implicit assumption
that the agents are capable of computing their best response functions  in many games 
however  the action space is huge and this function is too complex to be computed  even
approximately within a reasonable amount of time  in such situations the above assumption
seems no longer valid 
in this section we re formulate the concept of dominant actions under the assumption
that agents have a limited capability of computing their best response  our concept is meant
to be used in the context of one stage games  i e  games in which the agents choose their
actions without knowing anything about the others choices  the second chance mechanism
is a one stage game  in a nutshell  an action is feasibly dominant if the agent is not aware
of any situation  a vector of the other agents actions  where another action is better for it 
notation  we denote the action space of each agent i by ai   given a tuple a    a            an  
of actions chosen by the agents  we denote the utility of agent i by ui  a  
denition     revision function  a revision function of agent i is any partial function
of the form bi   ai  ai  
the semantics of bi  ai   is if i knew that the actions of the others are ai   i would choose
bi  ai    instead of ai    a revision function captures all the cases where the agent knows
how it would like to act if it knew the others actions  note that optimal revision functions
are standard best response functions  when a vector of actions ai does not belong to the
domain of bi      the semantics is that the agent prefers to stick to its action 
denition     feasible non regret  let i be an agent  bi     its revision function  and
ai a vector of actions for the other agents  an action ai satises the feasible non regret
   we make a standard distinction between an action and a strategy  a mapping from the agents type to
its action 

  

finisan   ronen

condition  w r t  ai and bi    if either ai is not in the domain of bi or ui   bi  ai    ai    
ui  a  
in other words  other actions may be better against ai   but the agent is unaware of them
or cannot compute them when choosing its action 
when the revision function of the agent is optimal  a feasible non regret is equivalent
to the standard non regret  best response  condition 
denition     feasibly dominant action  let i be an agent  bi     its revision function 
an action ai is called feasibly dominant  w r t  bi      if for every vector ai of the actions
of the other agents  ai satises the feasible non regret condition  w r t  ai and bi   
put dierently  an action ai is feasibly dominant if  when choosing its action  the agent is
not aware of any action ai and any vector ai of the actions of the other agents  such that
it is better o choosing ai when the others choose ai   a dominant action is always feasibly
dominant  when the revision function is optimal  a feasibly dominant action is dominant 
example in order to demonstrate the concept of feasibly dominant actions consider a
chess match in which alice and bob submit computer programs that play on their behalf 
currently  of course it is not known how to compute an equilibrium in chess and therefore
standard equilibria are not relevant for the analysis of such a game  a program aa is feasibly
dominant for alice if she is not aware of any possible program of bob against which she is
better o submitting another program 
denition     feasibly truthful action  an action ai in the second chance mechanism
is called feasibly truthful if it is both  truthful and feasibly dominant 
      natural revision functions that give rise to feasibly truthful actions
beforehand we showed that when the agents are truthful  the total welfare is at least
g v  k v    we also argued that if a feasibly truthful action is available  the agent has a strong
incentive to choose it  this subsection demonstrates that under reasonable assumptions
about the agents  polynomial time feasibly truthful actions do exist 
notation  we let  denote the empty appeal  by  w    we denote an action vector where
the declaration of each agent i is wi and all the appeals are empty 
denition     appeal independent revision function  a revision function bi     is
called appeal independent if every vector in its domain includes only empty appeals  i e  for
all ai  dom bi    there exists a vector wi such that ai    wi     
we say that an appeal independent function is t  limited if its own computational time
is bounded by t and so is every appeal function in its range 
the class of appeal independent revision functions represents agents that only explore
the output algorithm  or alternatively  base their choice of action solely on the output
algorithm   this approach seems reasonable as the space of appeals of the other agents is
  

ficomputationally feasible vcg mechanisms

huge  with no apparent structure  at least intuitively  it seems unreasonable that an agent
will be able to lie in a way that will improve the result of the appeals of the other agents
with signicant probability  moreover  as we commented  an agent has an obvious potential
loss from misreporting its type 
theorem     consider a second chance mechanism with a t  limited output algorithm 
suppose that an agent has a t  limited appeal independent revision function  for every
t     t    if the mechanism is t   limited  the agent has a feasibly truthful action 
proof  let bi     be the agents revision function  dene an appeal li     as follows  for
every vector wi   let  wi    i     bi   wi       let w    wi   wi    consider the outputs
o    k w  and o    k  i  w    we dene li  w  to be the better of the two outputs  i e  
li  w    arg maxj     g  v i   wi    oj    intuitively  li     checks whether declaring wi is helpful
for the agent 
claim     ai    v i   li   is feasibly truthful 
proof  if it is not  there exists a vector ai    wi     in the domain of bi     such that
u ai   ai     u bi  ai    ai    let bi  ai      wi    i    recall that according to lemma     
the agents utility is equivalent to the total welfare g  v i   wi    o  of the chosen output o
 up to adding hi      which is independent of the agents actions  
consider the case when the agents action is bi  ai    let o denote the chosen output
in this case  according to the denition of the mechanism  o is taken from the set  o    o   
and the welfare is measured according to the declaration w 
when the agent chooses the truthful action ai   the output  denoted o  is chosen from
the outputs o    k  v i   wi     from the denition of the mechanism   and both  o    o   from
the denition of li    this is a superset of the set outputs of the rst case  moreover 
the output is chosen according to the right type vector  v i   wi    thus  g  v i   wi    o  
g  v i   wi    o   implying that the agent has a higher utility in the second case  a contradiction 
it remains to show that li     is  t   limited  this is obvious as both  k    and  i     are
t  limited  this completes the proof of the theorem 
given the agents revision function  it is easy to construct the appeal li     dened above  i e  
construct the program that computes it   thus  if the agent has such an appeal independent
function  it can guarantee itself a feasibly dominant action 
a more general class of revision functions can be found in the appendix  interestingly 
there is a tradeo between the generality of the class and the time limit  which suces for
feasible truthfulness 
    remarks on the choice of the time limit
sections       and a   demonstrate two natural classes of revision functions under which
the agents have polynomial time feasibly truthful actions  we do not claim that every
revision function in practice will fall into these categories  yet  it is plausible that this will
be the case in many applications  in general  there exists a tradeo between the generality
  

finisan   ronen

of the class of the revision functions and the time limit required for feasible truthfulness 
in particular  without any time limit  submitting an optimal appeal is dominant  on the
other hand  it is plausible that small time limits will suce in practice  we leave a more
comprehensive study of this tradeo to future research 
an interesting future direction is to develop representations of the appeal functions that
relate the time limit imposed on each agent to its actual revision function  one possibility
is to represent the appeals by decision trees where the agents are required to supply for each
leaf   a type vector v   such that the algorithms result is strictly improved when it is given
l t   instead of the actual input v   v proves to the mechanism that the computational time
required to compute the leaf  is indeed needed in order to represent the agents revision
function  a related possibility is to allow the agent to purchase additional computational
time 
currently  we do not know whether every polynomial class of revision functions guarantees the existence of polynomial feasibly truthful actions  if an agent has substantial
knowledge of the appeal space of the other agents  it may be able to nd a falsied declaration that causes typical appeals to produce better results  in such a case  it may be
benecial for an agent to lie  we do not know whether such knowledge will exist in practice 
if yes  it may be possible to overcome this by allowing the agents to submit meta appeals 
i e   functions that let the agents modify the input of the appeals of the other agents  we
leave this to future research 
    obtaining individual rationality
a basic desirable property of mechanisms is that the utility of a truthful agent is guaranteed
to be non negative  individual rationality   in this section we construct a variant of second
chance mechanisms that satises this property 
let gopt  v  denote the optimal welfare obtained when the type vector is v   we shall
assume that for each agent i  there exists a type v i such that for every v    v             v n   
gopt   v i   v i     gopt  v   we call such a type the lowest  in a combinatorial auction for
example  the lowest type is dened by the zero valuation v i  s      for every combination s
of items 
the clarke mechanism  clarke        is a vcg mechanism in which hi  wi     gopt  v i   wi   

i e   pi  w    j i wj  opt w    gopt  v i    wi     in other words  each agent pays the welfare
loss it causes to the society  thus  it is natural to dene the payment of a vcg based

mechanism as j i wj  opt w    g  v i   wi    k  v i   wi     
like truthfulness  individual rationality may not be preserved when the optimal algorithm in the clarke mechanism is replaced by a sub optimal one  in order to x this we
need to ensure that the result of the algorithm will not improve when the declaration wi is
replaced by the lowest type v i  

denition     lowest type closure  given an allocation algorithm k w  we dene its
lowest type closure k as the best allocation  according to w  among the outputs  k w   k  v     w              k  v n   w
since k    calls k    n times  if k is t  limited  then k is o nt   limited 
claim     for every w  g w  k w    g  v i   wi    k  v i   wi     
  

ficomputationally feasible vcg mechanisms

proof  since k  v i   wi    is a candidate output that k tests  g w  k w    g w  k  v i   wi     
given the denition of v i   g w  k  v i   wi      g  v i   wi    k v i   wi     the claim follows 
denition     second chance ir  given an allocation algorithm k w  and a time limit
t we dene the corresponding second chance ir mechanism as the second chance mechanism
with output algorithm k     time limit t   and for every agent i  hi  wi     g  v i   wi    k  v i   wi     
the utility of a truthful agent in the above mechanism equals ui   g w  o g  v i   wi    k  v i   wi     
g w  k w    g  v i   wi    k  v i   wi         therefore  the mechanism satises individual rationality 

   conclusion and future research
this paper studies vcg mechanisms in which the optimal outcome determination algorithm
is replaced by some sub optimal but computationally tractable algorithm  the rst part of
the paper shows that for a wide range of problems  such mechanisms lose the game theoretic
virtues of their optimal counterparts  similar results hold for ane maximization  these
results do not leave much hope for the development of polynomial time truthful mechanisms
for many problems of high complexity 
the second part of the paper proposes a general method for overcoming the diculty
of constructing truthful mechanisms  given any algorithm for the underlying optimization
problem we dene the second chance mechanism based on it  we demonstrate that under
reasonable assumptions about the agents  truth telling is still the rational strategy for the
agents  when the agents are truthful  the welfare obtained by the mechanism is at least as
good as the one obtained by the underlying algorithm 
successful implementation of second chance mechanisms relies on several tools to be
developed  in particular  tools for the description of valuations and appeal functions 
these engineering issues require further exploration 
it is important to stress that the second chance method has not yet been tested  in
particular  the truthfulness of the agents should be validated experimentally  on the other
hand  we believe that in practice  small time limits on the agents appeals are likely to
guarantee the truthfulness of the agents  several questions regarding the payment properties
of second chance mechanisms are open  we leave them for future research 
several open questions  which directly stem from this work  are raised within the body
of the paper 

acknowledgments
we thank abraham newman and motty perry for helpful discussions at various stages of this
work  we thank ron lavi  ahuva mualem  elan pavlov  inbal ronen  and the anonymous
reviewers for comments on earlier drafts of this paper  noam nisan was supported by
grants from the israel science foundation and from the usa israel binational science
foundation  amir ronen was supported in part by grant number        from the israel
science foundation  a preliminary version of this paper appeared in the proceedings of the
 rd acm conference on electronic commerce  ec     
  

finisan   ronen

appendix a  d bounded revision functions
the class of d bounded revision functions represents agents that  in addition to the output
algorithm  explore a polynomial family of potential appeals of the other agents  this class
is a generalization of d limited appeal independent functions 
denition     d bounded revision function  we say that a revision function bi     is
d bounded if the following hold 
   the revision function bi     is o nd   limited 
   let
l    lj   li j   wi s t   wi    li   li j     dom bi   



 li    wi   li    wi s t   wi   li     bi   wi   li    

be the family of all appeals that appear in either the domain or range of bi      then
 l    o nd   
   there exists a constant c such that every appeal l  l is cnd  limited 
theorem a   consider a second chance mechanism with an o nd   limited output algorithm  suppose that an agent has a d bounded revision function  for every t     n d    if
the mechanism is t   limited  the agent has a feasibly truthful action 
proof  let i be the agent and let bi be its revision function  we again use a simulation
argument in order to dene the appeal li      for every vector wi we compute the following
outputs 
   o    k w  
   similarly to the the proof of theorem      let l             l    be the family of all
appeal functions that are in the domain or the range of bi   for all j             l  dene
oj   k j  w    
   dene l w    arg max j l  g  v i   wi    oj   as the output with the maximum welfare
according to  v i   wi   among all the outputs dened above 
claim a   li     is n d  limited 
proof  w l o g  the running time of k    is bounded by cnd   otherwise  we will raise the
constant  according to the denitions  the appeal li performs nd     computations  each
requiring at most cnd time units  thus  the overall computation takes at most o n d   
claim a   ai    v i   li   is feasibly truthful 
proof  assume by contradiction that there exists an action vector ai in dom bi   such that
u  ai   ai     u  bi  ai    ai   
consider the case when the agent chooses bi  ai      wi    i    the mechanism takes the
output o that maximizes the welfare  according to w  from the following set s of outputs 
  

ficomputationally feasible vcg mechanisms

   o    k w  
   oj   k lj  w   for every j   i  i e  the result of the appeals of the other agents 
   oi   k  i  w   
when the agent chooses ai   the outputs are measured according to the right type
vector  vi   wi    moreover  it is taken from the following superset of the outputs in s 
   o    k  vi   wi     from the denition of the mechanism  
   oj   k lj   vi   wi     for every j   i  i e   the result of the appeals of the other agents
 also  from the denition of the mechanism  
   oj   k   w   for every   l  since ai is in the domain of bi   this set includes all the
outputs of the form k lj  w   from the case where i chooses bi  ai    it also contains
the result of its own appeal  i  w  
   k w   from the denition of li      
let o be the chosen output in this case  since the set of outputs in the second case is a
superset of the rst  g  vi   wi    o   g  vi   wi    o   according to lemma     the utility of
the agent when choosing ai is thus higher than when choosing bi  ai    a contradiction 
this completes the proof of theorem a   
as in the case of appeal independent functions  the theorem gives a prescription for constructing an appeal that guarantees the agent a feasibly dominant action 

references
anderson  e   kelly  f     steinberg  r          a contract and balancing mechanism for
sharing capacity in a communication network   to appear 
archer  a     tardos  e          frugal path mechanisms  in proceedings of the   th
annual acm siam symposium on discrete algorithms         
banks  j   ledyard  j     porter  d          allocating uncertain and unresponsive resources  an experimental approach  rand journal of economics          
bartal  y   gonen  r     nisan  n          incentive compatible multi unit combinatorial
auctions  in proceedings of ninth conference of theoretical aspects of rationality
and knowledge  pp       
bartholdi  j  j   tovey  c  a     trick   m  a          how hard is it to control an election  
mathematical and computer modelling  special issue on formal theories of politics  
         
carroll  t  e     grosu  d          distributed algorithmic mechanism design for scheduling
on unrelated machines  in proceedings of the  th international symposium on parallel
architectures  algorithms  and networks  pp         
  

finisan   ronen

clarke  e  h          multipart pricing of public goods  public choice       
cramton  p          the fcc spectrum auction  an early assessment  journal of economics
and management strategy         
cramton  p   shoham  y     steinberg  r          combinatorial auctions  mit press 
daspremont  c     gerard varet  l          incentives and incomplete information  journal of public economics               
elkind  e   sahai  a     steiglitz  k          frugality in path auctions  in proceedings of
the   th annual acm siam symposium on discrete algorithms  pp         
feigenbaum  j   papadimitriou  c     shenker  s          sharing the cost of multicast
transmissions  in proceeding of the thirty second annual acm symposium on theory
of computing 
groves  t          incentives in teams  econometrica             
holzman  r   kr dahav  n   monderer  d     tennenholtz  m          bundling equilibrium in combinatorial auctions  games and economic behavior             
holzman  r     monderer  d          characterization of ex post equilibrium in the vcg
combinatorial auctions  games and economic behavior            
lavi  r   nisan  n     mualem  a          towards a characterization of truthful combinatorial auctions  in proceedings of the   th annual ieee symposium on foundations
of computer science 
lehmann  d   ocallaghan  l     shoham  y          truth revelation in rapid  approximately ecient combinatorial auctions  journal of the acm                  a
preliminay version appeared at proc  of the rst acm conference on electronic commerce 
mas collel  a   whinston  w     green  j          microeconomic theory  oxford university
press 
nisan  n          bidding and allocation in combinatorial auctions  in proceedings of the
second acm conference on electronic commerce  pp      
nisan  n     ronen  a          algorithmic mechanism design  games and economic
behaviour              extended abstract appeared in proceedings of the thirty
first annual acm symposium on theory of computing 
osborne  m  j     rubinstein  a          a course in game theory  mit press 
parkes  d          ibundle  an ecient ascending price bundle auction   in proceedings of
the acm conference on electronic commerce  ec      pp         
porter  r   ronen  a   shoham  y     tennenholtz  m          mechanism design with
execution uncertainty  in in proceedings of the   th conference on uncertainty in
articial intelligence  pp         
roberts  k          the characterization of implementable choise rules  in laont  j  j 
 ed    aggregation and revelation of preferences  pp          north holland  papers
presented at the rst european summer workshop of the econometric society 
  

ficomputationally feasible vcg mechanisms

ronen  a          mechanism design with incomplete languages  in proceedings of the
third acm conference on electronic commerce         
rosenschein  j  s     zlotkin  g          rules of encounter  designing conventions for
automated negotiation among computers  mit press 
shoham  y     tanaka  k          a dynamic theory of incentives in multi agent systems
 preliminary report   in proceedings of the fifteenth international joint conferences
on articial intelligence  pp         
shoham  y     tennenholtz  m          the fair imposition of tasks in multi agent systems 
in proceedings of the international conference on articial intelligence  pp      
     
vickrey  w          counterspeculation  auctions and competitive sealed tenders  journal
of finance      
wellman  m   wurman  p   walsh  w     mackie mason  j          auction protocols for
decentralized scheduling  games and economic behavior             
zuckerman  d          linear degree extractors and the inapproximability of max clique
and chromatic number  in proceedings of the   th acm symposium on theory of
computing  seattle  washington  usa 

  

fi