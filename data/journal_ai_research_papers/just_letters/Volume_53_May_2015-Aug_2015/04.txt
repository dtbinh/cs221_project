journal of artificial intelligence research                  

submitted       published     

mechanisms for multi unit combinatorial
auctions with a few distinct goods
piotr krysta

p krysta liverpool ac uk

deparment of computer science
university of liverpool  united kingdom

orestis telelis

telelis gmail com

department of digital systems
university of piraeus  greece

carmine ventre

c ventre tees ac uk

school of computing
teesside university  united kingdom

abstract
we design and analyze deterministic truthful approximation mechanisms for multiunit combinatorial auctions involving only a constant number of distinct goods  each
in arbitrary limited supply  prospective buyers  bidders  have preferences over multisets
of items  i e   for more than one unit per distinct good  our objective is to determine
allocations of multisets that maximize the social welfare  our main results are for multiminded and submodular bidders  in the first setting each bidder has a positive value for
being allocated one multiset from a prespecified demand set of alternatives  in the second
setting each bidder is associated to a submodular valuation function that defines his value
for the multiset he is allocated  for multi minded bidders  we design a truthful fptas
that fully optimizes the social welfare  while violating the supply constraints on goods
within factor         for any fixed       i e   the approximation applies to the constraints
and not to the social welfare   this result is best possible  in that full optimization is
impossible without violating the supply constraints  for submodular bidders  we obtain a
ptas that approximates the optimum social welfare within factor         for any fixed
      without violating the supply constraints  this result is best possible as well  our
allocation algorithms are maximal in range and yield truthful mechanisms  when paired
with vickrey clarke groves payments 

   introduction
in this paper we study the design and analysis of truthful multi unit combinatorial auctions  for a constant number of distinct goods  each in limited supply  arguably  the most
widespread modern application of this general setting is the allocation of radio spectrum
licences  milgrom         each such license is for the use of a specific frequency band of electromagnetic spectrum  within a certain geographic area  in the design of such spectrum
auctions  licenses for the same area are considered as identical units of a single good  the
area   while the number of distinct geographic areas is  of course  bounded by a constant 
more formally  we consider the problem of auctioning  allocating  in one go multiple
units of each out of a constant number of distinct goods  to prospective buyers with private
multi demand combinatorial valuation functions  so as to maximize the social welfare  a
c
    
ai access foundation  all rights reserved 

fikrysta  telelis    ventre

multi demand buyer in this setting may have distinct positive values for distinct multisets of
goods  i e   for each such multiset they may demand more than one unit per good  our aim
is to devise deterministic truthful auction mechanisms  wherein every bidder finds it to his
best interest to reveal his value truthfully for each multiset of items  i e   truthful report of
valuation functions is a dominant strategy   additionally  we are interested in mechanisms
that can compute an approximately efficient allocation in polynomial time  this problem generalizes simultaneously combinatorial auctions of multiple goods and multi unit
auctions of a single good to the multi unit and combinatorial settings respectively 
since the work of lehmann  ocallaghan  and shoham         mechanism design for
combinatorial auctions of multiple heterogeneous goods  each in unitary supply  has received significant attention in recent years  holzman  kfir dahav  monderer    tennenholtz        lehmann  lehmann    nisan        dobzinski  nisan    schapira        lavi
  swamy         due to their various applications  especially in online trading systems
over the internet  a mechanism elicits bids from interested buyers  so as to determine an
assignment of bundles to them and payments in such a way  that it is to each bidders best
interest to reveal his valuation function truthfully to the mechanism  this line of research 
that introduces algorithmic efficiency considerations in the design of truthful mechanisms 
was initialized by the work of nisan and ronen        
the related problem of auctioning multiple  say s  units of a single good to multidemand bidders has already been considered by vickrey in his seminal paper  vickrey 
       for bidders with submodular private valuation functions  vickrey gave an extension
of his celebrated single item second price auction mechanism  that retains truthful revelation of valuation functions as a  weakly  dominant strategy for bidders and fully optimizes
the social welfare  the only drawback of this mechanism is that it is computationally
efficient only for a few  constant number of  units  in that the allocation algorithm must
process  s  bids in at least as many steps  whereas because s is an input number  it should
require a number of steps bounded by a polynomial in log s  several other drawbacks of
the generalized vickrey clarke groves  truthful  auction mechanism have been identified
by ausubel and milgrom         polynomial time approximation mechanisms for multiunit auctions were designed relatively recently  mualem   nisan              dobzinski  
nisan        vocking        nisan         in particular  nisan        devised a deterministic  polynomial time auction mechanism  for the multi unit setting with submodular bidders
first considered by vickrey         vocking designed and analyzed recently a randomized
universally truthful polynomial time approximation scheme  for bidders with unrestricted
valuation functions  vocking        
results for the more general setting of multi unit combinatorial auctions are relatively
scarcer  bartal  gonen    nisan        grandoni  krysta  leonardi    ventre        lavi
  swamy         it is exactly this setting we consider here  with a constant number of
distinct goods  similarly to the setting considered by grandoni et al          in particular 
for a number of cases of such auctions we analyze maximal in range  mir  allocation
algorithms  nisan   ronen         that can be paired with the vickrey clarke groves
payment rule  so as to yield truthful mechanisms 
   

fimechanisms for multi unit combinatorial auctions

    contribution
our main results concern multi unit combinatorial auctions with a constant number of
distinct goods for two broad classes of bidders  as specified by their associated valuation
functions 
   multi minded bidders  in this setting each bidder is associated with a demand set of
alternative multisets  the multiple minds   each bidders valuation function assigns a
 possibly distinct  positive value for every alternative in the demand set  and at least
as much for the value of every superset of the alternative  and zero elsewhere 
   submodular bidders  in this setting the value of each bidder for a particular multiset
of items is given by a submodular valuation function 
for multi minded bidders we design and analyze in section   a truthful fptas    that
fully optimizes the social welfare in polynomial time  while violating the supply constraints
on the goods by a factor at most         for any fixed       the violation of the supply
constraints has a practical as well as a theoretical justification  on one hand it is conceivable
that  in certain environments  a slight augmentation of supply can be economically viable 
for the sake of better solutions  e g   auctioneers with well supplied stocks can easily handle
occurrences of modest overselling   on the other hand  we note that a relaxation of the
supply constraints is necessary for obtaining an fptas  as the problem is otherwise strongly
np hard  for m    goods  please see the related discussion in section     this result
significantly improves upon an fptas by grandoni et al          which approximates the
social welfare and the supply constraints within factor        only when bidders are singleparameter  i e   associate the same positive value with each multiset from their demand set 
and do not overbid their demands  technically  the fptas of grandoni et al         is based
on the design of monotone algorithms  lehmann et al         briest  krysta    vocking 
      and it requires a no overbidding assumption on the demands  cf  discussion therein  
in section   we revisit the general technique introduced by dobzinski and nisan        
for multi unit auction mechanism design  and generalize it for the setting of multiple distinct goods  each in limited supply  we discuss how this generalization yields a truthful
ptas immediately for multi minded bidders  that does not violate the supply constraints
and approximates the social welfare within factor       for any fixed       subsequently 
we use the technique to design a truthful ptas for bidders with submodular valuation functions  assuming that the values  bids  are accessed through value queries by the algorithm 
prior to this result  no time efficient deterministic truthful mechanism was known for submodular bidders  even when m      although the technique of dobzinski and nisan
facilitated the development of a factor   approximation mechanism for bidders with general
valuation functions in the single good multi unit setting  its direct extension for the setting
of multiple distinct goods does not appear to work  for general valuation functions   we
   fully polynomial time approximation scheme 
   in the context of social welfare maximization  by approximation within factor      or  equivalently 
 approximation  for      we mean recovering at least a fraction   of the welfare of an optimum
allocation  we switch temporarily to using     in section    for technical convenience 
   nisan        devised an optimal polynomial time such auction for m      i e   a single good 

   

fikrysta  telelis    ventre

show  however  that an appropriate extension of a more dedicated treatment of this case
by dobzinski and nisan yields a constant  m      approximation  section    
the assumption of a constant number m   o    of distinct goods is important  for
otherwise our problems become combinatorial auctions  thus  hard to approximate in

polynomial time within less than o  m   lehmann et al         for multi minded bide
ders and within less than e 
for submodular bidders  khot  lipton  markakis    mehta 
      mirrokni  schapira    vondrak         moreover  recent results of daniely  schapira 
and shahaf        imply that  for unrestricted m  our techniques cannot yield truthful

polynomial time mechanisms with approximation factors less than o m  and o  m   respectively  regarding the generalization of the dobzinski nisan technique  existence of an
fptas for multi minded bidders and a single good is excluded  unless p   np  dobzinski
  nisan         these lower bounds imply that our results are best possible  finally  as
shown by nisan and segal        and dobzinski and nisan         regarding general valuation functions  no deterministic mir algorithm achieves better than   approximation for
a single good  with communication complexity o s   where s is the supply of this good 
closing the gap between this lower bound and our upper bound of  m      for a constant
number m of multiple distinct goods  remains an open problem 

   related work
mechanism design for multi unit auctions was initiated already by the celebrated work of
vickrey         where he extended his famous mechanism for the case of multiple units 
when bidders have symmetric submodular valuation functions  lehmann et al          this
mechanism is however not computationally efficient with respect to the number of available
units  as we already discussed  it requires that bidders place a marginal bid per additional
unit they wish to receive and the allocation algorithm processes all these marginal bids  very
recently  nisan        exhibited a polynomial time truthful mechanism for this case  the
design of multi unit mechanisms with polynomially bounded running time in log s  s denoting the number of units  was first considered by mualem and nisan         in this work 
mualem and nisan designed and analyzed a truthful polynomial time   approximation
mechanism for a multi unit combinatorial setting  involving multiple distinct goods  each in
limited supply  and single minded bidders  subsequently  archer  papadimitriou  talwar 
and tardos        improved upon this approximation ratio for a similar setting  but the
developed mechanism was based on randomized rounding and was truthful only in expectation  more recently  briest et al         designed and analysed an fptas  for single minded
bidders in the multi unit combinatorial setting 
dobzinski and nisan        analyzed a general scheme for designing mir polynomialtime truthful approximation mechanisms  for single good multi unit auctions  this resulted
in a ptas for the case of multi minded bidders  a   approximation for general valuation
functions that are accessed  by the allocation algorithm  through value queries  and a
 
   approximation for symmetric subadditive valuation functions  moreover  the authors
applied their scheme to a class of piecewise linear  multi unit  valuation functions over the
number of units of a single good  to obtain a truthful ptas mechanism  a special case
of this class of valuation functions had been earlier studied by kothari  parkes  and suri
        the authors designed an fptas mechanism that was  however  only approximately
   

fimechanisms for multi unit combinatorial auctions

truthful  dobzinski and dughmi        gave a randomized truthful in expectation fptas
for multi minded bidders  relatively recently  vocking        gave a universally truthful
randomized ptas for general valuation functions accessed by value queries  in contrast  all
of our mechanisms are deterministic   for the multi unit combinatorial setting  i e   with
more than one distinct goods  the known results concern mainly bidders that have demands
for a single unit from each good  lehmann et al         briest et al         blumrosen  
nisan         in contrast  we consider a constant number of goods  but multi demand
bidders  bartal et al         proved approximation and competitiveness results for truthful
multi unit combinatorial auctions with multi demand bidders  where the bidders demands
on numbers of units are upper and lower bounded  the derived approximation guarantees
depend on these bounds  lavi and swamy        improved upon these approximation
guarantees  by devising randomized mechanisms that are truthful in expectation 
the study of a constant number of goods  each in arbitrary limited supply  was initiated
by grandoni et al          the authors utilized methods from multi objective optimization
 approximate pareto curves and langrangian relaxation  to design and analyze truthful
polynomial time approximation schemes for a variety of settings  in particular  they devised truthful fptases that approximate both the objective function  social welfare or
cost  of multi capacitated versions of problems within factor         while violating the
capacity constraints by a factor         capacity here corresponds to limited supply of each
out of a few distinct goods   problems considered by grandoni et al  include multi unit
auctions  minimum spanning tree  shortest path  maximum  perfect  matching and matroid
intersection  for a subclass of these problems a truthful ptas is also analyzed  which does
not violate any of the capacity constraints 
of particular interest to the practice of combinatorial auctions  also in the multi unit
case  where each good is available in a limited supply of identical copies   is the efficient
and  near  optimal resolution of the winner determination problem  lehmann  muller   
sandholm         given as input a set of bids in a prespecified format  formally termed
language   for the items on sale  the winner determination problem prescribes the determination of a feasible allocation of the items to the bidders  so that the sum of their bids
corresponding to their received allocation is maximized  thus  the winner determination
problem implicitly prescribes determination of winning bidders and their receiving allocation  so that the revenue collected by the corresponding bids is maximized  notice that  in
comparison to our work  truthful report of the bidders valuation functions is not a concern
in this setting  a significant volume of research has concerned the study of approximation
algorithms and derivation of hardness results  see  e g   lehmann et al          as much as
the development of global optimization techniques  sandholm         kelly        studies
multi unit combinatorial auctions with only a few distinct goods  for determining the allocation of computational resources  in particular  he devises an optimal algorithm for the
winner determination problem  in a low dimensional setting as ours 
finally let us mention that the work of bikhchandani  de vries  schummer  and vohra
       investigates multi unit combinatorial auction premises very similar to ours  without
a restriction on the number of distinct goods  instead  the authors devise an ascending price
auction for selling subsets of goods that constitute bases of a matroid  or polymatroid  in case
of multi unit demand by the bidders and limited supply for each distinct good  their auction
is truthful and runs in polynomial or pseudopolynomial time  respectively  it accesses
   

fikrysta  telelis    ventre

the bidders combinatorial valuation functions through demand queries  the bidders are
presented with prices on the goods and announce the subset they are willing to pay for  in
comparison  all of our mechanisms use value queries  where the mechanism asks for the
value of each bidder for a particular set of items  value queries are a weaker device in
that they can be simulated by  but cannot generally simulate  demand queries  blumrosen
  nisan        

   definitions
let  m                m  be a set of m goods  where m is assumed to be a fixed constant  there
are s   n units  copies  of good     m  available  a multiset of goods is denoted by a vector
x    x     x             x m    where x    is the number of units of good     m                  m 
the set of all multisets is denoted by u   m
                   s     let  n                n  be the
set of n agents  prospective buyers bidders   every bidder i   n  has a private valuation
function
vi   u   r   
so that vi  x  for any x  u denotes the maximum monetary amount that i is willing to
pay for x  u  referred to as his value for x  the valuation functions are normalized  i e  
vi                    and assumed to be monotone non decreasing  for any two multisets x  y
where  holds component wise  we assume vi  x   vi  y   that is  in auction theory
terms  we assume free disposal  i e   enlarging the set or increasing the number of items in
an allocation never decreases the value incurred to any bidder  
a mechanism consists of an allocation method  algorithm   a  and a payment rule  p 
the allocation method a elicits bids b     b    b            bn   from the bidders that  presumably  describe their valuation functions and outputs an allocation a b     x    x            xn   
where xi  u is the multiset of goods allocated to bidder i  for the purposes of our discussion in this section  we deliberately ignore the fact that the bidders valuation functions may
not have a succinct representation that will facilitate their efficient communication to the
allocation algorithm  recall that the bidders valuation functions are  generally  defined
over u   m
                   s     when they do not have a succinct representation indeed  the
allocation algorithms discussed in this paper access the bidders valuation functions iteratively  through polynomially many value queries  that is  the algorithm in each iteration
asks every bidder for a bid on a specific multiset of items 
the payment rule determines a vector p b      p   b   p   b           pn  b     where pi  b 
is the payment of bidder i  every bidder i bids so as to maximize his quasi linear utility 
defined as 
ui  b    vi   a b     pi  b  
where  by an assumption of no externalities  i e   that the value of any bidder for a b 
depends only on his own individual allocation and not at all on the others  we obtain
vi   a b      vi  xi   
we study truthful mechanisms  a  p  wherein each bidder i maximizes his utility by
reporting his valuation function truthfully  i e   by bidding bi   vi   independently of the
other bidders reports  bi    b            bi    bi             bn   
   

fimechanisms for multi unit combinatorial auctions

definition   a mechanism  a  p  is truthful if  for every bidder i and bidding profile bi  
it satisfies ui  vi   bi    ui  vi    bi    for every vi   
under this definition  the profile b   v is a dominant strategy equilibrium  our objective
is to design and analyze truthful mechanisms   a  p  that render truthful reporting of the
bidders valuation a dominant strategy equilibrium  wherein  the social welfare of the
resulting allocation  sw   a b      sw   a v    is  approximately  optimized  the social
welfare of an allocation  x    x    x            xn   is defined as 
sw  x   

n
x

vi  xi   

i  

in the sequel we will use simply x  for an allocation output by a  without a specific reference
to b  since we analyze truthful mechanisms  that dictate b   v 
the only well understood general method for the design of truthful mechanisms is the
vickrey clarke groves  vcg  auction mechanism  vickrey        clarke        groves 
       a generalization of vickreys single item  nd price and multi unit auctions  vickrey 
       deployment of the vcg auction  however  requires utilization of an allocation
algorithm  a  that outputs a welfare maximizing allocation for the underlying setting  it
rarely constitutes a computationally efficient alternative for combinatorial settings  as the
underlying optimization problem is np hard 
as the problems that we consider in our work are indeed np hard  our mechanisms use
maximal in range  mir  allocation algorithms  nisan   ronen         that maximize the
social welfare only approximately 
definition    nisan   ronen        an algorithm choosing its output from the set a of
all possible allocations is mir  if it fully optimizes the social welfare over a subset r  a
of allocations 
note that the subset r  also called a range  is defined independently from the bidders declarations  nisan and ronen        identified mir allocation algorithms as the sole device
that  along with vcg payments  yields truthful mechanisms for combinatorial auctions 
in particular  given any mir allocation algorithm  a  using this algorithm for computing
the output allocation and for computing payments in the manner of the vcg payments
scheme  suffices to obtain a truthful mechanism  in particular  given any such mir allocation algorithm  the payment for each bidder i is computed as follows 
pi  b   

x

vi    a bi     

i    i

x

vi    a b   

i    i

notice how this payment scheme coincides with the vcg payment scheme  once we use the
optimal allocation algorithm in place of a  the starting point for the work of nisan and
ronen        is the pair of observations that   i  the vcg mechanism itself requires full
optimization of the social welfare of the underlying setting  which is an np hard problem in
most interesting settings  ii  vcg based mechanisms  wherein a polynomial time allocation
algorithm outputs welfare suboptimal allocations  are not necessarily truthful 
   

fikrysta  telelis    ventre

   multi minded bidders
in this section we consider multi minded bidders  every such bidder i   n  is associated
with a collection of multisets di  u  referred to as his demand set  we assume that each
i   n  values each multiset d    d             d m    di by an amount vi  d       for every
other multiset e  u   di we define 

fi
n
o
 max vi  d  fifi d  e
if such d  di exists
ddi
vi  e   

 
otherwise 
naturally  vi          where                     consequently  in this setting  the valuation
function of a bidder i can be compactly expressed as the collection  vi  d   d ddi   as in
related literature  we assume therefore that an algorithm expects input bids of this form 
rather than  an oracle representing  the entire valuation function  we say that a bidder
i is a winner of the auction  if he is assigned exactly one of his alternatives from di  or
a superset of one of these alternatives   this corresponds to the xor bidding language in
combinatorial auctions  lehmann et al         
we design a fptas  that maximizes the social welfare and may violate the supply
constraints on goods by a factor at most         for any fixed       this will be the
allocation algorithm of our mechanism  after analyzing its performance with respect to
the welfare optimality of the allocation that it outputs and the bounded violation of the
supply constraints  we will prove that it is a mir algorithm  thus can be paired with vcg
payments  to yield a truthful mechanism  at a high level  the algorithm is reminiscent of
the one that yields the fptas for the well known one dimensional knapsack problem  see
e g   vazirani        ch      it proceeds as follows  for any chosen fixed       it first
discards any alternatives of bidders from their demand sets  that cannot be satisfied  given
the supply constraints  these alternatives are multisets that already exceed the supply
of at least one good  subsequently  the quantities of goods in the multisets remaining
within the bidders demand sets are appropriately rounded  the supply is adjusted as well 
we thus obtain a rounded instance  then  we search for a welfare maximizing allocation
of the rounded instance  by usage of dynamic programming  this allocation is shown to
be optimal for the initial instance  as well  and feasible  modulo a violation of the initial
supply constraints within a factor of at most         in light of turning this algorithm into
a truthful mechanism  we use notation of actual valuation functions in its definition and
analysis below 
fix any constant       first  for any i   n   remove all the alternatives d  di such
that d      s  for any                m  if all alternatives of some bidder i are removed  remove
i   henceforth  we use the same notation  u   n   di   etc   for the remaining alternatives
and bidders  the demands of the alternatives d  di of each i   n  are rounded as follows 
for every i   n  and for every d  di   we produce a multiset d     d               d   m   so
that  for each distinct good     m   we have d        b nd   
s  c  then we adapt the supply of
n
 
each good appropriately  to s    d  e  given this rounded version of the problem instance 
we will use dynamic programming to produce an allocation for it  which will immediately
translate into an allocation for the original problem instance  that is welfare optimal and
violates the  original  supply constraints by a factor at most         for the purposes of
the description that follows  we denote by d  the rounded version of a demand d 
   

fimechanisms for multi unit combinatorial auctions

we define the dynamic programming table v i  y          ym   for i              n and y  
                  s     for any     m   the cell v i  y            ym   stores the maximum welfare of an
p
nx    
allocation x  i e   j vj  xj    whose rounded version x     b sj  c j   uses only multisets
that are in the demand sets of the bidders
p in                i   and has total demand w r t  good
               m which is precisely y    i e   i x i       y   
to compute the entries of table v  we observe that  the problem v    y          ym   for
any collection of y  s such that   y            ym                   d n e m   is easy to solve  for
each such entry v    y          ym   we check if bidder   has an alternative d  d  such that
d        y    for all     m   if yes  let d be an alternative of maximum valuation  we
assign v    y            ym     v   d  and build an auxiliary table a    y          ym   which we set in
this case to      d    otherwise  if bidder   does not have any such alternative  we assign
v    y          ym       and a    y          ym               to define v i      y            ym    consider
bidder i     and his alternatives d    d             d m    di     let now
i  

n

fi
o
fi
 
 
  max vi    d    v i  y   d           ym  d  m  fi d   y
ddi  

   

where  for all i  we define v i  y          ym      and  accordingly  a i  y          ym        i       
if there is no demand d  di satisfying d   y  consequently 
n
o
v i      y            ym     max i     v i  y          ym    
accordingly  if i    v i  y          ym    we set 
a i      y            ym     a i  y            ym      i          
otherwise 
a i      y            ym     a i  y   d               ym  d   m      i      d   
where d is an alternative in di   maximizing      finally  we inspect all the solutions
from entries v n  y            ym   for all vectors  y            ym                   d n e m   take one which
maximizes the social welfare and output the solution given by the corresponding entry of
the a table 
the size of table v is n d n e   m and we need time roughly o maxi  di   m  to compute
one entry of the table  so the overall time of the algorithm leads to an fptas  the optimality
with respect to the sum of the bidders values is easy to verify  let x    x    x            xn  
denote any feasible allocation to the original problem instance  for
every good                 m 
p j xi    n k  n 
p
p xi    n
n
we have  i xi      s    or  equivalently  i s      thus i s      s     that
is  x is also feasible for the rounded problem instance  because the dynamic programming
algorithm will inspect all feasible solutions to the rounded problem instance and output the
one with the largest welfare for it  an optimum solution to the original problem instance
will be inspected as well 
we argue that the supply constraints s                   m  are violated by at most a factor
of        fix any good                m  and let x be the output allocation  with respect
   

fikrysta  telelis    ventre

to the original problem instance  because x was chosen by the algorithm by means of dynamic programming search over the rounded
problem instance  it is feasible for the rounded
p j nxi     k
 s     d n e and  since 
problem instance  thus  we have 
i
s 
x n  xi    
i

  s 



i


we obtain 

p

i xi    

x  n  xi     
lnm


  s 
 n

    i xi  di   

n
      n 


        s   

example let us illustrate the algorithms functionality through a very simple example 
consider n     bidders and m     distinct goods  let the supplies of goods be s    s      
the bidders values and demand sets are defined as follows 
bidder
valuation function
demand set
 
v                 v                 d                      
 
v                
d              
 
v                 v                 d                      
in this example it is evident that all feasible allocations involve assignment of a demand to
a single bidder  given that the supplies of both goods are    thus  the optimal allocation
x is                   consider the rounded problem for       the rounded supply for
each of the two goods is dn e   d   e      the rounded demands of the bidders are
as follows 
bidder
 
 
 
demands                                   
rounded demands                                   
observe that both demands of bidder   are rounded to         this does not pose any
problem  as the algorithm processes the original demands  and only uses their rounded
versions to validate feasibility of the allocation it builds with respect to the rounded supply 
in this example  because the rounded supply of each good is    the algorithm will output
the allocation x                          which has welfare   and is superoptimal for the
inital instance  although the rounded versions of the allocated demands do not violate the
rounded supplies of the goods  equal to     they do violate the original supplies of    by less
than a factor of           particularly in this example  by no more than a factor of      
note that the algorithm is exact  in that it grants every bidder a multiset from his
demand set  or none   assuming m   o    is essential for the result  even in presence of
the supply constraints relaxation  a proof of this claim is given at the end of this section 
the truthfulness of the fptas  denoted by a below  follows from the fact that it optimizes
over a fixed range of solutions 
theorem   there exists a truthful fptas for the multi unit combinatorial auction problem
with a fixed number of goods  when bidders have private multi minded valuation functions 
defined  for each bidder  over a private collection of multisets of goods  for a fixed       the
fptas fully optimizes the social welfare  while violating the supplies of goods within factor
at most        
   

fimechanisms for multi unit combinatorial auctions

proof  to prove the theorem we show that a is mir with range r    x b   a b   
x   that is  for any allocation x  r and bid vector
 b  we show sw  a b   b  
sw  x  b   where for a bid vector b    bi  d   d ddi
and an allocation x  r 
in

we let sw  x  b  be the social
p welfare of allocation x  evaluated according to the bid
vector b  i e   sw  x  b    i bi  x  


fix allocation x and bid vector b    bi  d   d ddi
  by definition of the range 
in


such that a b    x  recall that
there exists a bid vector b  with b    bi  d   d ddi
in

xi      for bidder i and                m  is the variable indicating how many copies of item
   the allocation x grants to bidder i  note that because x   a b  and a grants only
demanded alternatives  by its exactness   there exists a demand di  di      such that 
for                m  xi    j  di     
since x is output of a  by definition of a we have that for
p ndi     k  n 
any                m  i s     
now let c be the set of bidders such that b    bc   bc   and b    bc   bc    that is 
b and b only differ in the bids of bidders in the set c  for all bidders i  c we assume
that their true valuation function is bi   any such bidder i evaluates the alternative xi   di
granted to him by allocation x as some ei  di       that is  vi  di     vi  ei    assume 
for the sake of contradiction  that sw  x  b    sw  a b   b   i e  
x

bi  ei    

x

bj  x   

j c

ic

x

bi  a b    

x

bj  a b   

   

j c

ic

since di      ei     for                m and i  c  then by setting ei   di for i   c  we obtain 
x  n  ei     
i

  s 



x  n  di     
i

  s 



lnm


 

for                m  then the solution which grants to bidder i the alternative ei  di    
is considered by algorithm a on input b  this solution has social welfare sw  x  b  and
therefore     is in contradiction with the definition of a 
 
a related result of briest et al         is a truthful fptas for a single good in limited
 not violated  supply  this cannot be generalized for our setting of more than one supply
constraints 
    a note on hardness
note that this problem is strongly np hard  when we do not allow to violate supply constraints and m     chekuri   khanna         it is well known that if a problem is strongly
np hard  there does not exist any fptas for this problem  unless p np  see  e g   vazirani         also the assumption that m is a fixed constant is necessary  otherwise the
problem is equivalent to multi unit combinatorial auctions and is hard to approximate in
polynomial time within m      for any       lehmann et al          this claim is true 
even if we allow for solutions to violate the supplies  in particular 
   

fikrysta  telelis    ventre

proposition   in a multi unit combinatorial auction with m distinct goods  it is nphard to approximate the social welfare within factor better than m      even if we allow a
multiplicative        relaxation of the supply constraints  for any      
proof  the argument is as follows  it is known that it is hard to approximate the maximum
independent set problem in a graph g    v  e  within a factor m    for any       where
 e    m  hastad         by using a reduction of lehmann et al          we reduce this
problem to our problem by having the set of goods  m    e and the set of single minded
bidders v   each bidders u  v set contains all edges adjacent to u in the graph g and
each bidders valuation for his set is    now if we allow to violate the supply of   of each
good by a factor of       where       then a feasible solution to the relaxed problem is
an independent set in graph g  thus the relaxed problem is equivalent to the maximum
independent set problem in g 
 
    multi dimensional knapsack
we discuss an application of our fptas  in relation to the multi dimensional knapsack
problem  mdkp   chekuri   khanna         suppose we are given a mdkp instance 
with a constant number of distinct compartments  m   o     and each compartment 
                  m  has capacity s    the problem asks to fit in the knapsack a subset out of
a universe  u  of n given m dimensional objects  so that the sum of the collected objects
sizes in each dimension     does not exceed s  and the total value of all collected objects
is maximized  each object  i              n of the mdkp instance can be represented by a
vector di   which represents its m dimensions   di              di  m   and its value  vi   so that
hvi   di i     r         u    then  each object corresponds to a single bidder i  from the
setting that we analyzed in section    with valuation function vi  d   vi   for every d  di  
vi  d       for every d such that d      di      for some                m  notice that the bidder
is single parameter  in that his valuation function takes on a single non zero value for every
d  di and his demand set  di   is singleton  i e   it contains a single multiset  di   thus  the
mdkp corresponds to a single parameter version of the problem we treated above 
we can apply our fptas to the mdkp  because the algorithm is exact  as mentioned
previously  in that it allocates every bidder  read as  fits in the knapsack  either an exact
alternative from his demand set  di   or none  it is worth mentioning that for this singleparameter version  our fptas from section   can be shown to be monotone  lehmann et al  
      briest et al          when one carefully fixes a tie breaking rule  a monotone allocation
algorithm ensures that  if a  single parameter  bidder i is allocated his single demand di
when he declares truthfully hvi   di i  he also receives his  declared  demand d i   when he
declares hvi    d i i  with vi   vi and d i  di  i e   intuitively  asks for less items while offering
more money   an exact and monotone allocation algorithm can yield a truthful mechanism
for this single parameter setting  with the incorporation of critical value payments  see the
work of lehmann et al         for details 
let us note that  we can generalize the mdkp further  in the following manner  instead
of having only packing constraints  of the form   on the dimensions of the knapsack  we
can handle any mix of packing and covering constraints  i e   of any of the forms       
as long as there is only a constant number of dimensions  m   o     and one covering
or packing constraint per dimension  for such a generalized scenario we can follow an
   

fimechanisms for multi unit combinatorial auctions

approach similar to our approach in section   and obtain a truthful fptas which fully
optimizes the total value of fitted items and violates each of the constraints by a factor at
most         violation of the constraints is needed for the reason mentioned above  in our
note on computational hardness  in the end of section   

   the generalized dobzinski nisan method
we discuss here a direct generalization of a method designed by dobzinski and nisan        
for truthful single good multi unit auction mechanisms  we will use the methods generalization for multiple goods in the next subsection  to obtain a truthful ptas for bidders
with submodular valuation functions  over multisets   let a be a polynomial time mir
allocation algorithm for t   o    bidders and s  units from each good                m  with
time complexity ta  t  s   s    s            sm    and approximation ratio      then  algorithm
a can be used as a routine within the procedure of figure    to obtain a polynomial time
m
mir algorithm for n bidders  with approximation ratio    t  
  
given t   o     the procedure executes algorithm a on every subset of at most t bidders
and for every combination of certain pre specified quantities of the goods  for each output
allocation it considers the rest of the bidders and allocates optimally to them an integral
number of  multi unit  bundles from each good  the main result shown by dobzinski and
nisan        for a single good can be also proved for m goods 
theorem   let a be a maximal in range algorithm with complexity ta  t   s            sm    
for t bidders and at most s  units from each good                m  the dobzinski nisan method
is mir and runs in time polynomial in log s            log sm   n  ta  t   s            sm     for every
m
t   o     moreover  it outputs an allocation with value at least a fraction    t  
  of the
optimum social welfare 
the proof is a direct extension of the proof given by dobzinski and nisan        for a single
good  consider the mir algorithm a  to be used within the dobzinski nisan method  it
executes in polynomial time for t   o    bidders and m   o    distinct goods  each in
limited supply s        m   let ra denote the range of this algorithm  it can be verified
that the method outputs allocations that are  r  t              m   round  given the following
definition for such round allocations  dobzinski   nisan        
definition   for some t   o     an allocation is  r  t              m   round if 
 r is a set of allocations and  in each x  r  at most t bidders are allocated nonempty bundles  the bidders are allocated together up to s     units from each good
               m 
 there exists a set t of  t    t bidders  such that they are all allocated according to
some allocation in r 
  
 
 each p
bidder i   n    t receives an exact
multiple of max b  n
units from good  
  c   
 
 
and 
x
   

n

max
b
c 
 
 
for
 
 
  
 
 
 
 
m
i n  t i
 n 

   

fikrysta  telelis    ventre

   for                m do 
 
 a  define u           n
 


 
blogu s  c
 
 
 b  define l           bu  c  bu  c          u 
  s 

   for every subset t   n  of bidders   t    t  do 


   for every              m    m
l
      do 
  run a with s     units from each good     m  and bidders in t  
  split the remaining   units  if        fromeach good
      m 
 
c 
 
units 
into   n  bundles  per good   each of max b  n
 
  find the optimal allocation of the equi sized bundles among bidders  n    t  
   return the best allocation found 
figure    the dobzinski nisan method for multiple goods 
in this definition  r corresponds to the range of a  parameterized by the subset of
bidders t   i e   r   ra  t    on which it is executed  then  for some t   o     the range of
the method is the subset of all allocations that are  ra  t                  m   round  so that 
             m     m
    l     where l  is defined as in step    b  of the method in figure    and
t   n   with     t    t  formally  the methods range rdn is the subset of allocations 
o
n fi
fi
l
 
and

 
 t
 

t
rdn   x fi x is  ra  t                  m   round  for         m
     
example  part  i  before continuing to analyze the methods range  let us exemplify
the concept of  r  t              m   round allocations  we will consider a small instance of
multi minded bidders  similar to the considered in the previous section  as we will argue
later  the dobzinski nisan method can yield a truthful ptas  that respects the supply
constraints on goods   for multi minded bidders  assume m     distinct goods  and n    
bidders  we assume supplies s          s  for the goods  the bidders demands are as
follows 
bidder
demand set
 
d                          
 
d                          
 
d               
 
d              
d               
 
let us exhibit a round allocation for this instance  according to definition    for t    
and              consider first the allocation 
x                                              
   

fimechanisms for multi unit combinatorial auctions

where x              x              x             x            x       this allocation is
 r               round  according to definition    where r denotes the subset of allocations
with at most   bidders receiving non empty multisets and the remaining ones receiving appropriate multi unit bundles per good  indeed  we can set t           for the corresponding
subset of at most   bidders   each of bidders   and   obtains one of his demands  the total
number of units allocated to these two bidders per good is exactly       s       for the
remaining         units from each good  we make    bundles of      n        units per
bundle  bidder   receives    such   units bundles from good   and one   units bundle from
good    bidder   obtains one   units bundle from each good  finally  bidder   receives an
empty allocation  notice that x  and x  essentially satisfy the unique demands         and
       of bidders   and   respectively 
another  r               round allocation  according to definition    is 
x                                          
where the required subset t of bidders is t        bidder   obtains one of his demands 
bidders   and   receive   units bundles from each good  and bidders   and   receive empty
allocations  i e   zero   units bundles from each good   notice that x  is also  r              round  i e   when we set t       now let us choose algorithm a for the dobzinski nisan
method  to be an exhaustive search procedure  that optimizes the welfare  thus  has approximation ratio        notice that the range ra  t   of a  for the chosen values of
        trivially contains the allocation that bidders   and   receive in x  when t          
and the allocation of bidder   under x   when t          or t         this is because a
optimizes over all feasible allocations up to supplies              and              for
each of the two choices of t   thus  the allocations x and x  also belong in the range rdn  
as defined above 
we show that optimization over rdn approximates the socially optimal allocation within
m
factor    t  
  
lemma   let x    x            xn   be a socially optimal allocation  there exists an allocation
m
x  rdn with sw  x      t  
   sw  x   
proof  in the proof we make use of notation l  and u    as defined in figure    without
loss of generality  because of monotonicity of valuation functions   assume that all units of
all goods are allocated in x and that v   x     v   x       p
 vn  xn    for every good
               m choose the largest value    l  so that s      ti   xi      when executed
on the subset of bidders t               t  with s  p
  units from good
p                m  algorithm
a outputs an allocation  x            xt   such that ti   vi  xi     ti   vi  xi   
now consider for each good                m a bidder jp
    t              n  with the maximum

number of units in x from this good  define r    ni t   xi      then xj       rn    by
definition of r  and   for each good    we have r       also  because   was chosen
pt to have
 
the largest possible value in l            bu  c  bu  c          s    satisfying s       i   xi     
r 
  for every bidder i  t     with i    j  for                m  we
it must be    ur    r    n
  
 
round up his allocation with respect to good   to a multiple of max b  n
  c      the extra
units for each good   we take from bidders j  who may not obtain any unit of the good 
   

fikrysta  telelis    ventre

 
 
observe that we may need to add at most n   n
    n extra units from each good    that
 
r 
we take from bidder j    who has at least n  n units 
thus  for all bidders except for j                   m we increased the units of p
goods they
t
 

obtain  because j   t     and v   x         vn  xn    we have vj   xj     t  
i   vi  xi  
and vi  xi    vi  xi   for i    j                 m  then 

sw  x   

x

vi  xi    

i



t
x

 

x

x
t
i  

vi  xi  

x

vi  xi  

it  

vi  xi   

it  

m

t  

vi  xi    

i  

vi  xi    

i  



t
x

m
x

vi  xj   

   

 

x

vi  xi  




it  

m

t  



sw  x  
 

which concludes the proof 
the lemma completes the proof of theorem   

example  part  ii  we revisit the example discussed right before the statement and
proof of lemma    in order to exemplify the approximation implied by the lemma  to
this end  we assign values to the bidders demands as described in the following table 
where v     is a very small positive number and v    v is a very large one  as before 
s    s        
bidder
valuation function
 
v                 v v                 v
 
v                 v v                 v
 
v                v
 
v               v
 
v                v

d 
d 
d 
d 
d 

 
 
 
 
 

demand set
                      
                      
           
          
           

the following socially optimal allocation x for this instance has welfare  v   v 
x                                                   
by choosing t     and t           we can exhibit the welfare approximate allocation
implied by lemma    as follows  the maximum value possible for each of   and  
satisfying s      x        x      is               from the remaining bidders  bidder
  has the maximum number of units from good   in x and bidder   has the maximum
number of units from good   in x   thus  we have j      and j       then  we round up
the allocations of bidders   and   w r t  good    to one   units bundle  for each of them  
by taking two units from bidder j       accordingly  we round up the allocations of bidders
  and   w r t  good    by taking two units from bidder j       the resulting allocation is 
x                                                   
and has welfare  v   v  which approaches half of the optimal welfare  as v becomes vanishingly small   lemma   for this example guarantees at least     of the optimal welfare  if
   

fimechanisms for multi unit combinatorial auctions

the algorithm a used within the dobzinski nisan method is a welfare optimizing exhaustive
search procedure  on the other hand notice that  for this particular example and t     
             the allocation y                                               has almost optimal welfare   v   and is round according to definition    thus  the dobzinski nisan
method will examine y and it will return an allocation at least as good 
let us explain how to find an optimal allocation of multi unit bundles of goods  i e  
bundles of identical units  to bidders in  n    t   in step       of the algorithm  figure    
we use dynamic programming  by re indexing the bidders appropriately  assume that
t    n  t             n   thus  n   t               n  t   for every i              n  t and for every
 
q    q            qm    m
i     n     define v i  q    v i   q            qm    to be the maximum value
of welfare that can be obtained by allocating at most q  equi sized bundles  of units  from
each good                m to bidders            i  each entry v i  q  of the dynamic programming
table can be computed using 


 
 
 
v i  q    max
v
 q

b
 
 
 
 
 
q

b
 
 
v i

  
q

q
 
 
i
 
m
 
m
 
q q

where q   q is taken component wise  i e   maximization occurs over all vectors q  such
that q        q    for each                m 
    simple application  multi minded bidders
the generalized dobzinski nisan method for multiple distinct goods can be applied immediately in the setting of multi minded bidders  to yield a ptas that respects fully the supply
constraints of the goods  for m   o    goods and for any constant number of t bidders the
optimum assignment can be found exhaustively in polynomial time in log s                   s 
and m  in particular  if every bidders demand sets contains at most k demands  there are
exactly o k t   cases to be examined exhaustively  so that the optimum is found  plugging
this algorithm in the procedure of figure    yields a ptas that  complementarily to the developments of the previous section  approximates the optimum social welfare within factor
       and respects the supply constraints 
    submodular valuation functions
we consider submodular valuation functions over multisets in u  as defined by kapralov 
post  and vondrak        
definition   for any                m let e  be the unary vector with e          and e   j      
for j       let x and y denote two multisets from u  so that x  y  where  holds
component wise  then  a non decreasing function v   u   r  is submodular if v x   e    
v x   v y   e     v y  
we assume that these valuation functions  being exponentially large to describe  are
accessed by the algorithm through value queries  i e   that the algorithm asks the bidders
for their value  for each particular multiset that it needs to process 
we will design the mir approximation algorithm a  needed by the method  the range
we consider for this setting is an extension of the one considered by dobzinski and nisan
   

fikrysta  telelis    ventre

        for any       define          we will be assigning to bidders multi unit bundles
of each good     m   that have cardinality equal to an integral power of   for every good
    m   one of the n bidders  possibly a different bidder per good  will always obtain the
remaining units of the specific good  we show that optimization over this range provides a
good approximation of the unrestricted optimum social welfare  also  optimizing over this
range yields a fptas for a constant number n of bidders  this  used within the generalized
dobzinksi nisan method will yield a ptas for any number of bidders 
lemma

m   an optimum assignment within the defined range recovers at least a factor
 
of the socially optimal welfare 
   
proof  let x    x            xn   denote the welfare maximizing assignment  we will round
iteratively  for a particular good     m  in each iteration  the assignment of units to each
bidder in x   to an integral power of   let x    be the assignment after rounding with
respect to the   th good  the final assignment x  x m  will approximate the welfare of
x     x  
in the beginning of   th iteration we process the assignment x       by rounding the
    
    
assignment of multi unit bundles of good    assume w l o g  that x       x      
    
    xn      also w l o g   we assume that every bidder except for bidder   receives an
integral power of  units of good    bidder   receives the remaining units  let the set of
bidders be partitioned as  n    o  e where o contains the odd indices of bidders and e
the even ones  we will consider two cases 
x        x       
x        x       
v i xi

vi x i
and
v i xi
 
vi xi
 
   
io

ie

io

ie
    

for the first case  for every i  o       we will round xi
    up to the closest integral
    
power of   while obtaining the extra units to do so by rounding xi       i     e  down
   

    

to the nearest appropriately chosen integral power of   we obtain xi        xi
    

    

    

xi        xi            xi
    

    

    and 

    

     xi            xi     

    

thus  xi            xi       to ensure that for bidder i    we obtain an integral power
    

   

    

of   we may need to divide xi      at most by   thus  xi         xi       
the welfare of the emerging assignment x    is 

 x   x   x  
   
   
   
sw x     
vi xi  
v i xi  
vi xi
io

i n 



x



    

vi x i



ie

    x      
 
v i xi

ie

io


 x 

 
    
 
vi
 
sw x     
v i xi

io
io


     x           
v i xi
 
sw x    
 


x



    
xi



io

   

 

      
 xi      

fimechanisms for multi unit combinatorial auctions




  




 
 
sw x      
sw x      
sw x    


  
   

    

the second line follows by submodularity  for any     m   we have xi        
 xi      




   
    
 
so vi  xi    vi xi    for the last inequality  recall that we are examining the
p
    
left hand side case of      thus  we use the that 
      sw  x       
io vi  xi



p
p
    
    
consider now the second case in      where io vi xi
  ie vi xi
  for
    

i  e       we round up xi
    to the closest integral power of   the extra units for
    
this we will obtain from i     o  by rounding xi      down to an appropriately chosen
    

closest integral power of   x      will be rounded down to closest integral power of 
    
    
   
 contrary to the rest of xi
     i  e   i e   x         x       for i  e       it will be
   

    

xi        xi

    and then we take 
   

xi      

  
       
    
    
xi            xi
    
xi     



   

then  for the social welfare of x    we have 
 x   x   x  

   
   
   
v i xi  
v i xi  
v i xi
sw x     
i n 

io

ie

 
x
    x                
   

v i xi
  v   x 
 
v i xi


io
ie    
 
 x 




x
        
 
    
    
sw x     
v i xi
  v   x 
 
v i xi
 


ie
ie    






x
 
    
 
    
    
v  x 
 
sw x    
 
vi xi
 



ie    


   
  

  x
    
    
 
vi x i
 
v   x 
 
sw x    



ie    

  




 
 

sw x      
sw x      
sw x    
 

     
the second line of this derivation is again due to submodularity  the factors on the sum
    
   
    
over odd indexed bidders and on v   x    follow by     and because x         x      
for the last inequality  we used the fact that we are examining the right hand side case
p
    
of      then  ie vi   xi
      sw  x       
thus  for any       there is an assignment
range that approximates
 within
p  thedescribed
q
 
 
the optimum social welfare within factor           for some integers p  q  such that
p   q   m  the result follows by

 
  



 
     

we obtain the following  intermediate  result 
   

 

fikrysta  telelis    ventre

theorem   for multi unit combinatorial auctions with n   o    submodular bidders  and
m   o    distinct goods  each good     m  available in an arbitrary supply  there exists a
truthful deterministic fptas that  for any      approximates the optimum social welfare
within factor        
proof  for any fixed      we can search the specified range exhaustively in polynomial
time  to find the allocation with maximum social welfare  we have to try o log s    cases
for each of n    bidders  given a fixed bidder for assigning the remaining units  thus
the time required for trying all possible bundle assignments ofa specific good   and for
all possible choices of a remainders bidder is o n log s   n    because for every fixed
allocation of a specific good we need to try all possible allocations for the remaining m   
goods  the overall complexity is in total o nm  log max  s    n  m   which is polynomially
bounded for constant m and n  also notice that  for     we obtain a fptas  because 
log max s     log             log  max s   
 

 

and log              

 

using theorem   within the general dobzinski nisan method  we obtain 
corollary   there exists a truthful ptas for multi unit combinatorial auctions with constant number of distinct goods and submodular valuation functions 

   general valuation functions
interestingly  the direct generalization of the dobzinski nisan method for a constant number of multiple goods does not immediately yield  for general valuation functions  a result
comparable to the one shown by dobzinski and nisan        for a single good  for m     a
truthful   approximation mechanism was obtained  and this factor was shown to be optimal   when m      the relevant mir algorithm a involved in theorem   solves optimally
the case of t     bidder  by allocating all units of all goods to him  the monotonicity of the
valuation functions guarantees that this allocation is optimal for t     bidder  the factor  
approximation follows  for m     goods however  theorem   appears to require a different
algorithm a  for  possibly  t     bidders   to yield a comparable  constant approximation 
result  instead  a constant  m    approximation for the case of general valuation functions
accessed by value queries can be obtained  by simple modification of the direct approach
that was given by dobzinski and nisan  for general valuation functions 
we describe from scratch an mir allocation algorithm  the algorithm splits for every
good the number of units into n  equi sized bundles of size b    b ns   c  it also creates a single
extra bundle  per distinct good      containing the remaining units r    so that n  b   r    s   
the algorithm allocates optimally whole bundles of units from each good to the n bidders 
first we show that this range approximates by a factor  m      the optimum social
welfare  let x    x            xn   denote the socially optimal allocation  beginning with
x   we produce an allocation in the range within which the algorithm optimizes  that
approximates sw  x   within factor  m       assume w l o g  that all items are allocated
in x  by the monotonicity of valuation functions  and  for each good                m  let
   

fimechanisms for multi unit combinatorial auctions

j    arg maxi xi      then xj      
here 
either 

m
x

vj   xj   

   

m

s 
n 

x

define l    j            jm    we consider two cases

vi  xi   

i l

or 

m
x
   

vj   xj      m

x

vi  xi   

i l

for the first case  let us denote by y     y     y             yn     for each                m  the
allocation which assigns all bundles of all goods to bidder j   l  thus  yi                    for
every i    j     of these m allocations  consider y   arg maxy  vj   yj      then  sw  y  
p
  pm


i l vi  xi    putting these inequalities together
    vj   xj     thus  also  sw  y  
m
 
yields sw  y   m   sw  x    notice that the allocation y will be examined by the mir
algorithm  for the second case we build an allocation x  by rounding up  separately for
each good    the  optimal  allocation of bidders i   l to the nearest multiple of b    the
units needed for this purpose we find  for each good    from the corresponding bidder
j   l  who may not obtain any unit in x  this is possible because we add at most n  ns    
s 

x that gives
n  xj      units in total by this rounding  this way we make up an allocation p
all multi unit bundles of each good to bidders in  n    l and satisfies sw  x   i l vi  xi   
  pm
 


thus  also  sw  x    m
    vj   xj     then  we deduce sw  x   m   sw  x    notice
that the allocation x is also examined by the mir algorithm  thus  there exists a solution
within the range  that approximates sw  x   within constant factor  at most  m      
to complete our analysis  we show how to compute a mir allocation for the described
range  using dynamic programming  let r    r            rm   denote the vector of amounts that
correspond to bundles of remainders per good as described above  given l          m 
we denote by r l  the projection of r on indices in l  the remaining coordinates are set
to    let b    b            bm    for any subset l          m    define v l  i  q   q    q            qm  
as the maximum welfare achievable when allocating at most q  multi unit bundles for each
good                m among bidders            i and the remainders bundle for each of the goods
   l  we compute each v l  i  q  as follows 
n
o

 
 
 
l l 
 
v l  i  q    max
max
v
 q

b
 
 
 
 
 
q

b
 
 
r l
 
 
v
 i

  
q

q
 
i
 
m
 
m
 
 
  q
l l q  q       qm
m

because m   o     the entries of the dynamic programming table can be computed in
polynomial time  thus 
theorem   there exists a truthful polynomial time mechanism for multi unit combinatorial auctions with a constant number of distinct goods  m  and general valuation functions
that  using value queries  approximates the welfare of a socially optimal assignment within
constant factor   m      

   conclusions
in this paper we analyzed deterministic mechanisms for multi unit combinatorial auctions
with a constant number of distinct goods  each in limited supply  we analyzed in particular
maximal in range allocation algorithms  nisan   ronen         for optimizing the social
welfare in this multi unit combinatorial setting that  paired with vcg payments  yield
   

fikrysta  telelis    ventre

truthful auctions  our main results include  i  a truthful fptas for multi minded bidders 
that approximates the supply constraints within factor        and optimizes the social
welfare   ii  a deterministic truthful ptas for submodular bidders  that approximates the
social welfare within factor        without violating the supply constraints  for achieving
 ii   we used a direct generalization of a single good multi unit allocation method proposed
by dobzinski and nisan         all of the discussed developments are best possible in
terms of time efficient approximation  as follows by relevant hardness results  finally  we
showed how to treat general  unrestricted  valuation functions in our setting  by appropriately adjusting an analysis by dobzinski and nisan         closing the gap between a
communication complexity lower bound of    for a single good  of dobzinski and nisan and
our  m      approximation result for m   o    goods  requires further understanding of
the communication complexity of our more general setting 

acknowledgments
we thank three anonymous reviewers for helping us significantly in improving the presentation of this work  we also thank jinshan zhang  for pointing out a technical inconsistency
in an earlier version of this paper  and fabrizio grandoni and stefano leonardi  for very
useful discussions in the early stage of this work 
piotr krysta acknowledges support by the epsrc grant ep k     x   
carmine ventre acknowledges support by the epsrc grant ep m         
orestis telelis acknowledges support by the research project ddcod pe        implemented within the framework of the action supporting postdoctoral researchers of
the operational program education and lifelong learning  actions beneficiary  general secretariat for research and technology   and is co financed by the european union
 european social fund  esf  and the greek state 

references
archer  a   papadimitriou  c  h   talwar  k     tardos  e          an approximate truthful mechanism for combinatorial auctions with single parameter agents  internet
mathematics                
ausubel  l  m     milgrom  p          the lovely but lonely vickrey auction  in cramton 
p   shoham  y   smith  v  l     steinberg  r   eds    combinatorial auctions  pp 
      mit press 
bartal  y   gonen  r     nisan  n          incentive compatible multi unit combinatorial auctions  in halpern  j  y     tennenholtz  m   eds    proceedings of the  th
conference on theoretical aspects of rationality and knowledge  tark        pp 
      acm 
bikhchandani  s   de vries  s   schummer  j     vohra  r          an ascending vickrey
auction for selling bases of a matroid  operations research                 
   

fimechanisms for multi unit combinatorial auctions

blumrosen  l     nisan  n          combinatorial auctions  in nisan  n   roughgarden 
t   tardos  e     vazirani  v  v   eds    algorithmic game theory  pp         
cambridge university press 
briest  p   krysta  p     vocking  b          approximation techniques for utilitarian
mechanism design  siam journal on computing                   
chekuri  c     khanna  s          a polynomial time approximation scheme for the
multiple knapsack problem  siam journal on computing                 
clarke  e          multipart pricing of public goods  public choice               
daniely  a   schapira  m     shahaf  g          inapproximability of truthful mechanisms
via generalizations of the vc dimension  in servedio  r  a     rubinfeld  r   eds   
proceedings of the   th annual acm on symposium on theory of computing  stoc
      portland  or  usa  june              pp          acm 
dobzinski  s     dughmi  s          on the power of randomization in algorithmic mechanism design  siam journal on computing                   
dobzinski  s     nisan  n          mechanisms for multi unit auctions  journal of artificial
intelligence research           
dobzinski  s   nisan  n     schapira  m          approximation algorithms for combinatorial auctions with complement free bidders  mathematics of operations research 
            
grandoni  f   krysta  p   leonardi  s     ventre  c          utilitarian mechanism design
for multi objective optimization  siam journal on computing                   
groves  t          incentives in teams  econometrica                 
hastad  j          clique is hard to approximate within n    in   th annual symposium on foundations of computer science  focs     pp          ieee computer
society 
holzman  r   kfir dahav  n  e   monderer  d     tennenholtz  m          bundling equilibrium in combinatorial auctions  games and economic behavior                 
kapralov  m   post  i     vondrak  j          online submodular welfare maximization 
greedy is optimal  in khanna  s   ed    proceedings of the twenty fourth annual
acm siam symposium on discrete algorithms  soda     pp            siam 
kelly  t          generalized knapsack solvers for multi unit combinatorial auctions 
analysis and application to computational resource allocation  in faratin  p    
rodrguez aguilar  j  a   eds    agent mediated electronic commerce vi  theories
for and engineering of distributed mechanisms and systems  aamas      workshop  amec        vol       of lncs 
khot  s   lipton  r  j   markakis  e     mehta  a          inapproximability results for
combinatorial auctions with submodular utility functions  algorithmica         
    
kothari  a   parkes  d  c     suri  s          approximately strategyproof and tractable
multiunit auctions  decision support systems                 
   

fikrysta  telelis    ventre

lavi  r     swamy  c          truthful and near optimal mechanism design via linear
programming  journal of the acm             
lehmann  b   lehmann  d  j     nisan  n          combinatorial auctions with decreasing
marginal utilities  games and economic behavior                 
lehmann  d   muller  r     sandholm  t          the winner determination problem 
in cramton  p   shoham  y   smith  v  l     steinberg  r   eds    combinatorial
auctions  mit press 
lehmann  d  j   ocallaghan  l     shoham  y          truth revelation in approximately
efficient combinatorial auctions  journal of the acm                 
milgrom  p          putting auction theory to work  cambridge university press 
mirrokni  v  s   schapira  m     vondrak  j          tight information theoretic lower
bounds for welfare maximization in combinatorial auctions  in proceedings  th
acm conference on electronic commerce  acm ec   pp       
mualem  a     nisan  n          truthful approximation mechanisms for restricted
combinatorial auctions  in dechter  r     sutton  r  s   eds    proceedings of the
eighteenth national conference on artificial intelligence and fourteenth conference
on innovative applications of artificial intelligence  aaai iaai        pp         
aaai press   mit press 
mualem  a     nisan  n          truthful approximation mechanisms for restricted
combinatorial auctions  games and economic behavior                 
nisan  n          algorithmic mechanism design  through the lens of multi unit auctions 
in aumann  r     hart  s   eds    handbook of game theory  vol  iv  elsevier northholland 
nisan  n     ronen  a          computationally feasible vcg mechanisms  journal of
artificial intelligence research           
nisan  n     segal  i          the communication requirements of efficient allocations
and supporting prices  journal of economic theory                  
nisan  n     ronen  a          algorithmic mechanism design  games and economic
behavior                   
sandholm  t          optimal winner determination algorithms  in cramton  p   shoham 
y   smith  v  l     steinberg  r   eds    combinatorial auctions  mit press 
vazirani  v  v          approximation algorithms  springer verlag 
vickrey  w          counterspeculation  auctions  and competitive sealed tenders  journal of finance              
vocking  b          a universally truthful approximation scheme for multi unit auctions 
in rabani  y   ed    proceedings of the twenty third annual acm siam symposium
on discrete algorithms  soda     pp          siam 

   

fi