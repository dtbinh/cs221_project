journal of artificial intelligence research                  

submitted        published      

interpolable formulas in equilibrium logic and
answer set programming
dov gabbay

dov gabbay kcl ac uk

bar ilan university israel  kings college london and
university of luxembourg 

david pearce

david pearce upm es

ai dept  universidad politecnica de madrid  spain 

agustn valverde

a valverde ctima uma es

dept of applied mathematics  universidad de malaga  spain 

abstract
interpolation is an important property of classical and many non classical logics that
has been shown to have interesting applications in computer science and ai  here we study
the interpolation property for the the non monotonic system of equilibrium logic  establishing weaker or stronger forms of interpolation depending on the precise interpretation
of the inference relation  these results also yield a form of interpolation for ground logic
programs under the answer sets semantics  for disjunctive logic programs we also study
the property of uniform interpolation that is closely related to the concept of variable forgetting  the first order version of equilibrium logic has analogous interpolation properties
whenever the collection of equilibrium models is  first order  definable  since this is the
case for so called safe programs and theories  it applies to the usual situations that arise
in practical answer set programming 

   introduction
the interpolation property is an important and much discussed topic in logical systems 
both classical and non classical  gabbay   maksimova         its importance in computer
science is also becoming recognised nowadays  the interpolation property has been applied
in various areas of computer science  for example in software specification  diaconescu 
goguen    stefaneas        bicarregui  dimitrakos  gabbay    maibaum         in the
construction of formal ontologies  kontchakov  wolter    zakharyaschev        and in
model checking and related subareas  mcmillan         in the first two areas interpolation
is important as a metatheoretical property  in particular it may provide a basis for the modular composition and decomposition of theories  for instance  for kontchakov et al        
it plays a key role in the study of the modular decomposition of ontologies  in other
cases  interpolants themselves play a role as special formulas applied in automated deduction  mcmillan        
to date interpolation has received much less attention in systems of non monotonic
reasoning and logic programming  despite their importance in ai and computer science  in
this note we study the interpolation property for the system of nonmonotonic reasoning
known as equilibrium logic  pearce         since this in turn can be regarded as a logical
foundation for stable model reasoning and answer set programming  asp   our results
transfer immediately to the sphere of asp  we shall focus here mainly on interpolation as a
c
    
ai access foundation  all rights reserved 

figabbay  pearce    valverde

metatheoretical property and our primary interest is in establishing this property for certain
cases of interest  although in section   we consider a case where an interpolant  actually
a uniform interpolant  is explicitly constructed  we are mainly concerned here with pure
existence theorems  discussion of complexity issues as well as possible applications of the
interpolation property in asp are left to future work  however  it seems likely that  as in the
case of studies involving formal ontologies  konev  walther    wolter         interpolation
may be a useful property for applications of asp in knowledge representation  in a previous
paper  pearce   valverde         the interpolation and beth properties of the underlying 
monotonic logic of asp were used to characterise strong kinds of intertheory relations  to
capture weaker kinds of intertheory relations it may be important to be able to rely on
interpolation holding in the extended  non monotonic logic  we plan to explore this avenue
in the future 
to introduce the property of interpolation  let us start with some notation and terminology  let us assume the syntax of first order logic with formulas denoted by lower case
greek letters and predicates by lower case latin letters 
let  be a monotonic inference relation and suppose that     an interpolant
for      is a formula  such that
   

   

where  contains only predicate and constant symbols that belong to both  and   a logic l
with inference relation l is said to have the interpolation property if an interpolant exists
for every pair of formulas      such that  l   as is well known  classical logic as well
as many non classical logics possess interpolation 
suppose now we deal with a non monotonic logical system with an inference relation   
to express the idea that a formula is an interpolant it will not generally suffice simply to
replace  by   in      one problem is that  since   is non monotonic  it is in general not
transitive  instead  following the idea of gabbay and maksimova         we can modify
condition     and proceed in a two stage fashion  we make use of the fact that nonmonotonic consequence can be defined in terms of minimal models in some monotonic
logical system  say that the consequence relation   is appropriately captured by means of
minimal models in a logic l with consequence relation   l   now suppose that      then
as an interpolant for      we look for a formula  such that
         l 

   

where all predicate and constant symbols of  occur in both  and   since   is to be
defined via a subclass of minimal l models  we already assume that   l     moreover
we should assume too that l is a well behaved sublogic in the sense that l equivalent
formulas have the same   consequences and that the l consequences of   consequences
are themselves   consequences  so e g  from     we can derive       in non monotonic
reasoning these last two properties are known as left and right absorption  respectively 
given these conditions  it follows at once from     that any formula in the language of 
that is l equivalent to  will also be an interpolant for       likewise if  is an interpolant
for      and    l  then     and  is an interpolant for      
now  to find an interpolant for      satisfying      or to prove that one always exists 
we can proceed as follows  we look for an l formula  say  that precisely l defines the
   

fiinterpolable formulas in equilibrium logic and answer set programming

minimal models of   since     it follows that    l   now  if l has the interpolation
property as defined earlier  we apply this theorem to obtain or infer the existence of an
l interpolant  in the sense of     for        hence     follows 
notice that this two stage procedure relies on three key features   i  that we can identify
a suitable monotonic sublogic l for     ii  that a formulas minimal models are l definable 
and  iii  that l has the interpolation property  these conditions are prima facie independent  as we shall see  we may have  i  and  iii  but lack  ii   the situation with respect
to equilibrium logic is as follows  in the propositional case all three conditions are met  so
we can establish the interpolation property in the general case  the situation for quantified
equilibrium logic is more complicated  in the general case  we lack condition  ii   more
precisely  we have an appropriate monotonic sublogic l and this logic has the interpolation
property  but the equilibrium models of a formula need not be first order definable in l 
so the procedure outlined does not yield interpolants in all cases  however some recent results on a generalised concept of  first order  stable model imply that there are interesting
classes of interpolable formulas  we shall consider in more detail one such class  that of safe
formulas  in particular  if  is a safe formula and      then there exists an interpolant 
such that     holds  other classes of interpolable formulas are so called tight formulas  and
formulas possessing a finite  complete set of what are called loops 
safety  tightness and loop formulas have been studied at some length in answer set programming  asp   the implications of these results for asp can be summarised as follows 
in the case of  finite  ground programs the interpolation property holds  in the first order or
non ground case  interpolation holds for finite  safe programs without function symbols  and
hence practically for all finite programs currently admitted by answer set solvers  moreover 
since safety is now defined for arbitrary formulas in a function free language  the class of
safe formulas in this sense goes beyond the class of expressions normally admitted in asp 
even if auxiliary concepts like weight constraints and aggregates are included 

   logical preliminaries
we work with standard propositional and predicate languages  where the latter may in the
general case contain constant and function symbols  propositional languages are based on
a set v of propositional variables  and formulas are built up in the usual way using the
logical constants         standing respectively for conjunction  disjunction  implication
and negation  if  is a propositional formula  we denote by v    the set of propositional
variables appearing in  
a first order language l   hc  f  p i consists of a set of constants c  function symbols
f and predicate symbols p   each function symbol f in f and predicate symbol p  p
has an assigned arity  moreover  we assume a fixed countably infinite set of variables  the
symbols             and auxiliary parentheses       atoms  terms and
formulas are constructed as usual  closed formulas  or sentences  are those where each
variable is bound by some quantifier  if  is a  first order  formula  l   denotes the
language associated with   i e  the set of constants  function and predicate symbols occuring
in it 
we make use of the following notation and terminology  boldface x stands for a tuple
of variables  x    x            xn    while  x     x            xn   is a formula whose free variables
   

figabbay  pearce    valverde

are x           xn   and x   x        xn   if ti are terms  then t    t            tn   denotes a vector
of terms  a theory  is a set of sentences  variable free terms  atoms  formulas  or theories
are also called ground 
as usual the symbols  and     possibly with subscripts  are used to denote logical
inference and consequence relations  respectively  a logic l is said to be monotonic if its
inference relation l satisfies the monotonicity property 
 l         l 
to distinguish non monotonic from monotonic inference relations  we use   to symbolise
the former  in most cases a non monotonic logic can be understood in terms of an inference
relation that extends a suitable monotonic logic  when this extension is well behaved we
say that the monotonic logic forms a deductive base    pearce        for it  this can be
made precise as follows 
definition   let   be any nonmonotonic inference relation  we say that a logic l with
monotonic inference relation l is a deductive base for   iff  i  l      ii  if   l  
then         iii  if     and  l   then     
here l denotes ordinary logical equivalence in l  while  denotes non monotonic equivalence  i e       means that   and   have the same non monotonic consequences 
furthermore  we say that a deductive base is strong if it satisfies the additional condition 
   l   

there exists  such that           

in terms of nonmonotonic consequence operations   ii  and  iii  correspond to conditions
known as left absorption and right absorption respectively  makinson        
    interpolation
we now turn to the interpolation property 
definition   a logic l with inference relation l is said to have the interpolation property
if whenever
l   
there exists a sentence   the interpolant  such that
l      l   
where all predicate  function and constant symbols of  are contained in both  and  
i e  l    l    l    in the case of propositional logic  the requirement is that v    
v     v    
as explained in the introduction  for non monotonic logics we can consider two forms
of interpolation  one weaker one stronger  the stronger form makes use of an underlying
monotonic logic 
   it is close to the concept of fully absorbing inferential frame used by dietrich        

   

fiinterpolable formulas in equilibrium logic and answer set programming

definition   suppose that      a     l   interpolant for      is a formula  such that
       l 

   

where l is a deductive base for   and  contains only predicate  function and constant
symbols that belong to both  and   a non monotonic logic with inference relation  
is said to have the       interpolation property if for a suitable deductive base logic l
an     l   interpolant exists for every pair of formulas      such that     
the requirement that l form a deductive base ensures that some desirable properties of
interpolation are met 
proposition   let  be a     l   interpolant for      
 a  for any  such that  l    is a     l   interpolant for      
 b  for any  such that  l    and any   such that  l      is a     l  
interpolant for         
the property of deductive base also guarantees that the     l   relation is transitive in the
sense that if     holds for any       then also     this last property will not necessarily
hold for the second  weaker form of interpolation that we call        interpolation 
definition   suppose that      a        interpolant for      is a formula  such that
         

   

where  contains only predicate  function and constant symbols that belong to both  and  
in the case of propositional logic  the requirement is that v     v     v    
analogous to the previous case  we say that a non monotonic logic with inference relation   has the        interpolation property if a        interpolant exists for every pair of
formulas      such that      notice that       is the stronger form of interpolation
because if a logic has       interpolation it must also have        interpolation  again as
a consequence of the deductive base requirement  first clause  
evidently the properties expressed in proposition   are not directly applicable to the
second form of interpolation that does not refer to any underlying base logic  nevertheless
an important feature of the interpolation properties we shall establish below is that we can
formulate and prove analogous properties even for        interpolation 
we can also consider restricted variants of interpolation when the property holds for
certain types of formulas  in other words  when there is an interpolant for      given
    whenever  and  belong to specific syntactic classes  in such cases we can refer to
interpolable formulas  later on we shall consider both kinds of restrictions  where  belongs
to a specific class or alternatively when  does 
    review of the logic of here and there
equilibrium logic is based on the nonclassical logic of here and there  which we denote by
ht in the propositional case  in the quantified or first order case we denote the logic by
qht  with subscripts superscripts to denote specific variants 
   

figabbay  pearce    valverde

in both propositional and quantified cases the logic is based on the axioms and rules of
intuitionistic logic and is captured by the usual kripke semantics for intuitionistic logic  van
dalen         however the additional axioms of ht and qht mean that we can use very
simple kinds of kripke structures  in the first order case we regard these structures as
sets of atoms built over arbitrary non empty domains d  we denote by at d  f  p   the set
of atomic sentences of hd  f  p i  if d   c  we obtain the set of atomic sentence of the
language l   hc  f  p i    and we denote by t  d  f   the set of ground terms of hd  f  p i 
if l   hc  f  p i and l   hc    f    p  i  we write l  l if c  c    f  f  and p  p   
by an l interpretation over a set d we mean a subset of at d  f  p    a classical lstructure can be regarded as a tuple i   h d  i   i  i where i  is an l interpretation over d
and i   t  c  d  f    d  called the assignment  verifies that i d    d for all d  d and is
recursively defined   if d   t  c  f   and i   id  i is known as an herbrand structure  on
the other hand  a here and there l structure with static domains  or qhts  l  structure 
is a tuple i   h d  i   i h   i t i where h d  i   i h i and h d  i   i t i are classical l structures
such that i h  i t  
thus we can think of a here and there structure i as similar to a first order classical
model  but having two parts  or components  h and t that correspond to two different points
or worlds  here and there  in the sense of kripke semantics for intuitionistic logic  where
the worlds are ordered by h  t  at each world w   h  t  one verifies a set of atoms i w
in the expanded language for the domain d  we call the model static  since  in contrast to
say intuitionistic logic  the same domain serves each of the worlds  since h   t  whatever is
verified at h remains true at t  the satisfaction relation for i is defined so as to reflect the
two different components  so we write i  w     to denote that  is true in i with respect to
the w component  although we only need to define the satisfaction relation in l   hc  p i 
the recursive definition forces us to consider formulas from hc  d  f  p i  in particular 
if p t            tn    at c  d  f  p   then i  w    p t            tn   iff p i t             i tn     i w for
every t            tn  t  c  d  f    then    is extended recursively as follows   
 i  w       iff i  w     and i  w     
 i  w       iff i  w     or i  w     
 i  t       iff i  t      or i  t     
 i  h       iff i  t       and i  h      or i  h     
 i  w     iff i  t      
 i  t    x x  iff i  t     d  for all d  d 
 i  h    x x  iff i  t    x x  and i  h     d  for all d  d 
 i  w    x x  iff i  w     d  for some d  d 
   we can think of the objects in d as additional constants  this approach allow us to use a simplified
notation where the objects are not distinguished from their names 
   that is  for every a  c  i a   d and for every f  f with arity n  a mapping f i   dn  d is defined 
so the recursive definition is given by i f  t            tn      f i  i t             i tn    
   the following corresponds to the usual kripke semantics for intuitionistic logic given our assumptions
about the two worlds h and t and the single domain d 

   

fiinterpolable formulas in equilibrium logic and answer set programming

truth of a sentence in a model is defined as follows  i     iff i  w     for each
w   h  t   a sentence  is valid if it is true in all models  denoted by      a sentence  is
a consequence of a set of sentences   denoted       if every model of  is a model of  
the resulting logic is called quantified here and there logic with static domains  lifschitz  pearce    valverde        denoted by qhts   in terms of satisfiability and validity
this logic is equivalent to the logic introduced by pearce and valverde        
a complete axiomatisation of qhts can be obtained as follows  lifschitz et al         
we take the axioms and rules of first order intuitionistic logic and add the axiom of hosoi
          

   

which determines   element here and there models in the propositional case  together with
the axiom 
x  x   x x   
 
we also consider the equality predicate     p   interpreted by the following condition for
every w   h  t 
 
 i  w    t    t  iff i t      i t    
to obtain a complete axiomatisation  we then need to add the axiom of decidible equality
 
 
xy x   y  x  
  y  
we denote the resulting logic by qhts   lifschitz et al         and its inference relation
by   by compactness a strong form of completeness can be established such that     
if and only if    
in the context of logic programs  the following assumptions often play a role  in the case
of both classical and qhts  models  we say that the parameter names assumption  pna 
applies in case i t  c f   is surjective  i e  there are no unnamed individuals in d  the unique
names assumption  una  applies in case i t  c f   is injective  in case both the pna and
una apply  the standard names assumption  sna  applies  i e  i t  c f   is a bijection 
as usual in first order logic  satisfiability and validity are independent of the signature 
if i   h d  i   i h   i t i is an l  structure and l  l  we denote by i l the restriction of i
to the sublanguage l 
i l   h d  i l    i h  l   i t  l i
proposition   suppose that l  l   is a theory in l and m is an l  model of   then
m l is a l model of  
proposition   suppose that l  l and   l  then  is valid  resp  satisfiable  in
qhts   l  if and only if is valid  resp  satisfiable  in qhts   l   
this proposition allows us to omit reference to the signature in the logic so it can be
denoted simply by qhts   
to simplify notation we also symbolise a qhts  structure i   h d  i   i h   i t i by
hu  h  t i  where u    d  i  is the universe  and h  t respectively are the sets of atoms
i h   i t   in the case of propositional ht logic  kripke structures can be regarded as pairs
hh  t i of set of atoms in the obvious way  a  strongly  complete axiomatisation for ht is
obtained from intuitionistic logic by adding just the hosoi axiom     
   

figabbay  pearce    valverde

    interpolation in the logic of here and there
an important and useful property of ht is the fact that it is the strongest propositional
intermediate logic  i e  strengthening of intuitionistic logic  that is properly contained in
classical logic  moreover it in turn properly contains all other such intermediate logics  in
addition ht is one of precisely seven superintuitionistic propositional logics possessing the
interpolation property  maksimova        gabbay   maksimova        
for languages without function symbols ono showed that interpolation holds in the
logic qhts of quantified here and there with constant domains  ono          in addition 
maksimova              showed that adding pure equality axioms  e g  the decidible equality axiom  to any superintuitionistic logic preserves the interpolation property  gabbay  
maksimova         we conclude therefore
proposition   the logic qhts  possesses the interpolation property 
note that by the strong completeness theorem for qhts  we can work equivalently with 
or with    
here we can make the further observation that interpolation continues to hold for languages that include function symbols  this can be established using the following property 
proposition   for every formula   it is possible to build a formula   such that    
and the atoms of  are of one of the following types 
 
 x   a for some a  c 
 
 f  x          xn     y for some f  f  where every xi and y are variables  
 p t            tm    where every xi and y are variables  
theorem   let l be a language containing function symbols  then qhts   l  has the
interpolation property 
proof sketch  let us assume that      from the previous proposition  we can assume 
without loss of generality  that the function symbols in  and  are in atoms of type
 
f  x          xn     y  now  we consider a language l obtained from l by replacing every
function symbol f by a fresh predicate symbol  pf   such that the arity pf         arity f   
let  and   be formulas in l build from  and  respectivelly  by replacing every atom
 
f  x          xn     y by pf  x          xn   y   trivially       and  for the interpolation property
of qhts   l    there exists an interpolant                    if we replace in   the
 
predicates pf  t            tn   tn     by atoms f  t          tn     tn   we obtain the interpolant  for
the initial pair of formulas  
   onos axiomatisation of qhts uses the constant domains axiom x  x       x x      as well as
alternative axioms for propositional here and there  viz  p   p   q  q   and  p  q    q  p    p 
q   however  the axioms given here are equivalent to onos 

   

fiinterpolable formulas in equilibrium logic and answer set programming

    equilibrium logic
equilibrium logic is a non monotonic logic based on certain kinds of minimal models in
qhts  or ht  we give the definition for qhts    the propositional version is easily
obtained from it 
definition   among quantified here and there structures we define the order e as follows 
h d  i   i h   i t i e h d    j   j h   j t i

if

d   d    i   j  i t   j t   i h  j h  

if the subset relation holds strictly  we write  
definition    equilibrium model  let  be a theory and i   h d  i   i h   i t i a model
of  
   i is said to be total if i h   i t  
   i is said to be an equilibrium model of   or short  we say  i is in equilibrium  if
it is minimal under e among models of   and it is total 
in other words  equilibrium models are total models for which there is no smaller non total
model  evidently a total qhts  model of a theory  can be equivalently regarded as a
classical first order model of   and in what follows we make tacit use of this equivalence 
in the propositional case  equilibrium models are defined in the same way  where now the
ordering is between propositional ht models  in the usual way a formula or theory is said
to be consistent if it has a qhts  model and additionally we say that it is coherent if it
has an equilibrium model 
the following definition give a preliminary notion of equilibrium entailment  which
agrees with standard versions of equilibrium logic  pearce        
definition   the relation    called equilibrium entailment  is defined as follows  let 
be a set of formulas 
   if  is non empty and coherent  has equilibrium models   then     if every equilibrium model of  is a model of  in qhts   respectively ht  
   if either  is empty or has no equilibrium models  then     if    
notice that unless we need to distinguish propositional from first order reasoning we use
the symbols     and    for either version 
a few words may help to explain the concept of equilibrium entailment  first  we
define the basic notion of entailment as truth in every intended  equilibrium  model  in
nonmonotonic reasoning this is a common approach and sometimes called a skeptical or
cautious notion of entailment or inference  its counterpart brave reasoning being defined
via truth in some intended model  since equilibrium logic is intended to provide a logical
foundation for the answer set semantics of logic programs  the cautious variant of entailment
is the natural one to choose  the standard consequence relation associated with answer
sets is given by truth in all answer sets of a program  note however that in asp as a
programming paradigm each answer set may correspond to a particular solution of the
problem being modelled and is therefore of interest in its own right 
   

figabbay  pearce    valverde

secondly  it is useful to have a nonmonotonic consequence or entailment relation that is
non trivially defined for all consistent theories  as we shall see below  however  not all such
theories possess equilibrium models  for such cases it is natural to use monotonic consequence as the entailment relation  in particular in the propositional case ht is a maximal
logic with the property that logically equivalent theories have the same equilibrium models 
evidently situation   also handles correctly the cases that  is empty or inconsistent 
despite these qualifications  there remains an ambiguity in the concept of equilibrium
entailment that we now need to settle  suppose that l  l   is a theory in l and  is a
sentence in l  i e  l   l     how should we understand the expression      
evidently  if we fix a language in advance  say as the language l   then we can simply
consider the equilibrium models of  in l   but if  represents a knowledge base or a logic
program  for instance  we may also take the view that l   is the appropriate signature to
work with  in that case  the query  is as such not fully interpreted as it contains some
terms not in the theory language l   
for any language l and theory  whose language is contained in l  let eml    be
the collection of all equilibrium models of  in qhts   l   now consider the following two
variants of entailment 
definition    equilibrium entailment  assume  is a theory in l  is non empty and
has equilibrium models  then 
 i  let us write  cw  if and only if m     for each m  eml     where l   ll   
 ii  let us write   ow  if and only if m     for each m  eml    l     where in

general eml    l denotes the collection of all expansions of elements of eml    to
models in l  l   i e  where the vocabulary of l   l is interpreted arbitrarily 
 iii  if either  is empty or has no equilibrium models  then   cw  iff   ow  iff    
a simple example will illustrate the difference between  cw and  ow   let  be an
l sentence and let q x  be a predicate not in l  let a be a constant in l and let l be the
language l   q   by the first method we have   cw    q a   q a    in fact we have
the stronger entailment   cw   q a   the reason is that when we form the equilibrium
models of  in l   q a  will be false in each as an effect of taking minimal models  on the
other hand  if we expand equilibrium models of  in qhts   l  to qhts   l    the new
predicate q receives an arbitrary interpretation in qhts   l    since this logic is   valued
we do not obtain   ow q a   q a  
for standard  monotonic logics  there is no difference between these two forms of entailment  if in definition   we replace everywhere equilibrium model by simply model  in
qhts     variants  i  and  ii  give the same result 
in the context of logic programming and deductive databases the more orthodox view is
that reasoning is based on a closed world assumption  cwa   accordingly a ground atomic
query like q a    where the predicate q does not belong to the language of the program or
database  would simply be assigned the value false  this is also the case with the first kind
of equilibrium entailment and we use the label  cw since this variant appears closer to a
closed world form of reasoning  on the other hand  there may be legitimate cases where we
do not want to apply the cwa and where unknown values should be assigned to an atom
that is not expressed in the theory language  then the second form of entailment   ow  
   

fiinterpolable formulas in equilibrium logic and answer set programming

nearer to open world reasoning  may be more appropriate  for present purposes  however 
the suffices cw and ow should be thought of merely as mnemonic labels 
a thorough analysis of closed world versus open world reasoning in this context would
lead us to consider assumptions such as una or sna and is outside the scope of this paper 
however  it has been observed in logic programming that the use of cwa can lead to
certain apparent anomalies  notably this occurs with programs that are unsafe  see section
  below   such as the following  formulated in traditional notation for logic programs  
q x  y     not p x  y  
p x  x  
given restrictions such as sna or herbrand models  the query
   q a  z  
yields no answer for z because it cannot be satisfied in models with only a single domain
element a  while the query
   q a  b  
is satisfiable  given the new constant b  in logic programming  where these restrictions
are usually assumed  different solutions to this problem have been proposed  gelder  ross 
  schlipf        kunen        maher         here we would like to point out that for
equilibrium logic generally speaking this kind of program or theory does not create any
special difficulties  neither the query
   q a  z  
which is understood as zq a  z   nor the query
   q a  b  
is true in all equilibrium models  in particular  in an equilibrium model whose domain is a
singleton element  even q a  b  need not be true  evidently in the general case that una for
instance does not apply  on the other hand in answer set programming  where una is often
assumed  it is also typically assumed that programs are safe  by the safety condition the
above program is excluded because variables appearing in the head of a rule do not appear
in its positive body and this makes answer sets sensitive to the set of constants appearing
in the language or those that are used for grounding the program  in this paper  where the
application of interpolation in asp is concerned  we restrict attention to safe programs and
theories complying with a generalised form of safety  section   below  

   interpolation in propositional equilibrium logic
in this section we deal with interpolation in propositional equilibrium logic  it is clear that
by its semantic construction propositional equilibrium logic has ht as a deductive base 
this base is actually maximal 
proposition   ht is a strong and maximal deductive base for  propositional  equilibrium
entailment 
the first property is precisely the strong equivalence theorem of lifschitz  pearce and
valverde         maximality follows from the fact that any logic strictly stronger than
ht would have to contain classical logic which is easily seen not to be a deductive base 
e g  violating condition  ii  of definition    we have 
   we are grateful to an anonymous referee for raising this point and the example 

   

figabbay  pearce    valverde

lemma   let  be a coherent ht formula and em    its set of equilibrium models  then
there is formula  of ht in v   that defines em    in the sense that m  em    if
and only if m      
proof  suppose that  is coherent  and let
m    ht    t  i  m    ht    t  i          mn   htn   tn i
be an enumeration of its equilibrium models  we show how to define em     suppose
each ti   has ki elements and denote them by ai            aij           aiki   let ti be the complement
of ti   then we can list its members as aik             ail         ai v      set
i  

 
j       ki

aij   

 

ail   

l ki         v   

and   

 

i

i       n

we claim that m     if and only if m   mi for some i              n  i e  the models of 
are precisely m            mn   to verify this claim  note that each mi    i and so mi      
conversely  suppose that m       from the semantics of ht it is clear that m       iff
m     or m      so in particular m     implies m    i for some i              n  however 
each i defines a complete theory whose models are total  it follows that if m    i   then
m   mi   this establishes the claim 

although we shall now demonstrate interpolation in the        form for the relation  cw   we actually establish a stronger result  one consequence of this is that if we
are concerned with  ow entailment then the       form of interpolation actually holds 
proposition         interpolation  let    be formulas and set v   v    v   and
v    v     v   and suppose that b          bn is an enumeration of v    if   cw   there is
a formula  such that v    v    v         and   b          bn      hence in
particular   cw  
proof  let    and v  v  be as in the statement of the proposition  and suppose that  cw  
then  holds in all equilibrium models of  in the language v  case  i   suppose that  is
coherent and form its set of equilibrium models  emv    
by the equilibrium construction it is easy to see that in each model m  emv    each
atom bi is false  for i      n  construct the formulas i and the formula  exactly as in the
proof of lemma    now consider the formula  b          bn       clearly this formula
defines the set of equilibrium models of  in ht v   consequently   b       bn      
and so    b          bn      we can now apply the interpolation theorem for ht
to infer that there is a formula  such that    and    b          bn      where
v    v     v   and hence v    v    v    since ht is a deductive base  we
conclude that
        b          bn   
now  since v    v    v    bi   v   for i      n  it follows that in ht v     each bi
is false in every equilibrium model of   so each such model m satisfies  b          bn    
since each also satisfies   we have   cw  
   notice that in this case adding to  the sentence  b          bn   does not change its set of equilibrium
models 

   

fiinterpolable formulas in equilibrium logic and answer set programming

case  ii   if  has no equilibrium models then the hypothesis is that     in that
case we simply choose an interpolant  for      

corollary        interpolation  let    be formulas such that   cw  and v   
v    there is a formula  such that v    v    v   and   cw  and    
proof  immediate from proposition   by the fact that v     v      



proposition        interpolation  let    be formulas and set v   v    v   and
v    v     v    if   ow   there is a formula  such that v    v    v         and
   
proof  let    and v  v  be as in the statement of the proposition and suppose that  ow  
then  holds in all expansions of elements of emv      to the language v  case  i   suppose
that  is coherent and consider emv      
again construct the formulas i and the formula  exactly as in the proof of lemma   
now consider  which defines the set emv       then  holds in all expansions of models
of  to v  hence      and therefore    we can now apply the interpolation
theorem for ht to infer that there is a formula  such that    and     where
v    v     v   and hence v    v    v    since   ow  and ht is a deductive
base we conclude that
  ow       
case  ii   if  has no equilibrium models  choose  as an interpolant for      



   interpolation in quantified equilibrium logic
we now turn to first order logic  given inferences of the form      a key element in the
proofs of propositions   and   is the existence of a formula  that defines the collection
emv      of equilibrium models  in the propositional case we have seen how the existence
of such an  can be established  in the first order case  on the other hand  such an  need
not exist  in other words  eml      need not be first order definable for arbitrary   this
fact is not hard to show  as ferraris et al         have pointed out  in the general form of
answer set programming where first order formulas are allowed  and a fortiori in quantified
equilibrium logic  the property of transitive closure is expressible  yet this property is not
definable in classical first order logic and therefore it also cannot be defined in qhts   
in the usual way we say that a collection k of qhts   l  models is  qhts    definable
if there is an l sentence    such that m  k  m      it is easy to see that whenever
the class eml      is first order definable in qhts  we do obtain first order analogs
of propositions   and    the method of proof is essentially the same as before  for
completeness we outline the main steps for the case of        interpolation 
proposition         interpolation  let    be formulas such that the collection of equilibrium models of  is qhts    definable  set l   l    l   and l   l     l    let
 pi   i      n  be the  finite  possibly empty  set of predicates in l and suppose for each i
   

figabbay  pearce    valverde

that pi is of arity ki   if   cw   there is a formula  such that l    l    l        
and
 

xpi  x     
i   n

hence in particular   cw  
proof  assume the hypotheses  then  holds in all equilibrium models of  in the language
l  we treat just the case where  is coherent and has a non empty collection of equilibrium
models  eml       by assumption this collection is definable by a qhts   l    sentence 
   say  now consider the equilibrium models of  in the expanded language l  i e  the
collection eml     by the equilibrium construction we claim that eml       xpi  x  
for all i      n  since we are now working with the first order semantics  let us rehearse
briefly the argument for this  if it were not true there would be a model hu  t  t i  eml    
a predicate symbol pi  l and some tuple a of elements in the domain of hu  t  t i  such
that hu  t  t i    pi  a   ie pi  a   t   however  since  does not refer to the relation
pi   the structure hu  h  t i with h   t   pi  a  must valso be a model of   contradicting
that hu  t  t i is in equilibrium 
so eml         i   n xpi  x  and since  defines
v
eml      clearly   i   n xpi  x  defines eml    
v
now we proceed as in the propositional case    i   n xpi  x     so
 
xpi  x    
 
i   n

by the interpolation
theorem for qhts  there is a formula  such that l    l    l   
v
   and   i   n xpi  x     consequently we also have
 
xpi  x   
       
i   n

by the same token as in the propositional case  we infer that   cw  

the case of       interpolation for  ow is analogous and we state the main property
without proof 
proposition         interpolation  let    be formulas such that the collection of
equilibrium models of  is qhts    definable  if   ow   there is a formula  such that
l    l    l        and    

   an illustration  interpolation for safe formulas
how restrictive is the definability assumption  is it often met in practice  actually in
mainstream answer set programming  whose language equilibrium logic captures and extends  see the next section   non definable classes of answers sets play no significant role 
the reason is that for query answering existing solvers rely on grounders that instantiate all
or parts of a program before computing the intended models or solutions  the grounding
process essentially eliminates variables and reduces the original program to propositional
form  in such practical cases  then  the collection of stable or equilibrium models will be
definable 
   

fiinterpolable formulas in equilibrium logic and answer set programming

for this computational approach to work in general  syntactic restrictions need to be
imposed on admissible programs or theories  the most common form of restriction is called
safety  for standard types of logic programs based on rules one regards a rule as safe
if every variable appearing in rules head also appears in its body  for the more complex
formulas admitted by equilibrium logic and by the general approach to answer sets  ferraris
et al         ferraris         new concepts of safety need to be devised  proposals for suitable
safety concepts were made by lee  lifschitz and palla      b  for general first order formulas
and by bria  faber and leone        for a more restricted syntactic class  more recently
cabalar  pearce and valverde        have generalised both these approaches and suggested
a safety concept for arbitrary function free formulas in equilibrium logic  since this new
concept of safety defines a quite broad class of interpolable formulas  let us review here its
main features  in the following section we will mention some other kinds of interpolable
formulas that may arise in answer set programming 
    general concept of safety
for the remainder of this section we assume that all languages are function free  as usual
a sentence is said to be in prenex form if it has the following shape  for some n    
q   x        q n xn 
where qi is  or  and  is quantifier free  a sentence is said to be universal if it is
in prenex form and all quantifiers are universal  a universal theory is a set of universal
sentences  the safety concept is defined for prenex formulas which provide a normal form
for qhts   pearce   valverde        
we first introduce a concept called semi safety  the main property of semi safety formulas will be that their equilibrium models only refer to objects from their language  note
that for the remainder of this section we use the fact that negation can be treated as a
defined operator  by       and do not consider additional semantic clauses for
negation 
definition    semi safety  a quantifier free formula  is semi safe it is has not nonsemi safe variable  that is  nss       where the nss operator is recursively defined as
follows 
 if  is an atom  nss   is the set of variables in  
 nss          nss      nss     
 nss          nss      nss     
 nss          nss     r rv     
where operator rv computes the restricted variables as follows 
 for atomic   if  is an equality between two variables then rv       otherwise 
rv   is the set of all variables occurring in  
 rv      
   

figabbay  pearce    valverde

 rv          rv      rv     
 rv          rv      rv     
 rv           
this definition of semi safe formulas was introduced by cabalar  pearce and valverde       
and generalises the former definition of lee  lifschitz and palla      b   in short  a variable x is semi safe in  if every occurrence is inside some subformula    such that 
either x  rv   or x is semi safe in  
some examples of semi safe formulas are  for instance 
p x    q x   r x  
p x   q  r x 

   

note how in      x is not restricted in p x   q but the consequent r x  is semi safe and
thus the formula itself  on the contrary  the following formulas are not semi safe 
p x   q  r x 
p x   r x   q x 
the following results set the previously referred property for semi safe formulas  their
equilibrium models only include objects from the language 
proposition     cabalar et al        
if  is function free  semi safe  and h d  i   t  t i      then h d  i   t  c   t i     
theorem    cabalar et al         if  is function free  semi safe  and h d  i   t  t i is
an equilibrium model of   then t  c   t  
the equilibrium models of semi safe formulas only refer to objects from the language 
however a model could be or not in equilibrium depending of the considered domain  to
guarantee the independence from the domain  we need an additional property to the semisafety  specifically  we need to analyse whether the unnamed elements could modify an
interpretation of the formula  to do that  we use the assignments of the kleenes threevalued logic  the three valued interpretation    at               are extended to evaluate
arbitrary formulas    as follows 
       min        
       max        

      
       max           

for every variable x  we are going to use the kleenes interpretations x   defined as follows 
x        if x occurs in the atom  and x          otherwise  intuitively  x    fixes
all atoms containing the variable x to    falsity  leaving all the rest undefined and then
evaluates  using kleenes three valued operators  that is nothing else but exploiting the
defined values    true  and    false  as much as possible 
an occurrence of a variable x in qx  is weakly restricted if it occurs in a subformula
 of  such that 
   

fiinterpolable formulas in equilibrium logic and answer set programming

 q      is positive  and x       
 q      is negative and x       
 q      is positive and x       
 q      is negative and x       
in all cases  we further say that  makes the ocurrence weakly restricted in   this property
is added to the semi safety condition to complete the definition of safety 
definition    a semi safe sentence is said to be safe if all its positive occurrences of
universally quantified variables  and all its negative occurrences of existentially quantified
variables are weakly restricted 
for instance  the formula    x q x    r  p x    is safe  the occurrence of x in
p x  is negative  whereas the occurrence in q x  is inside a positive subformula   itself  for
which x is weakly restricted  since x                        another example of a safe
formula is x  p x   q x    r  
proposition     cabalar et al         if  is function free  safe  and prenex formula 
then  h d  i   t  t i is an equilibrium model of  if and only if it is an equilibrium model of
grc     the grounding of  over c  
    interpolation
on the basis of proposition    we could already establish interpolation theorems for safe
formulas in prenex form  essentially by replacing such formulas by their ground versions and
working in propositional logic  however  we can also apply propositions   and    directly by
noting the property shown by cabalar et al         that safe prenex formulas have definable
classes of equilibrium models 
theorem    interpolation for safe formulas 
safe formulas in prenex form have
qhts   definable classes of equilibrium models  therefore for such formulas        interpolation for  cw inference holds as in proposition   and       interpolation holds for  ow
inference as in proposition    

   interpolation in answer set semantics
answer set programming  asp  has become an established form of declarative  logic based
programming and its basic ideas are now well known  for a textbook treatment the reader
is referred to barals book         as is also well known  the origins of asp lie in the
stable model and answer set semantics for logic programs introduced by gelfond and lifschitz                     this semantics made use of a fixpoint condition involving a certain
reduct operator  subsequent extensions of the concept to cover more general kinds of rules
   recall that a subexpression of a formula is said to be positive in it if the number of implications that
contain that subexpression in the antecedent is even  and negative if it is odd  here we also consider
that  is defined as    

   

figabbay  pearce    valverde

also relied on a reduct operator of similar sort  for the original definitions  the reader is
referred to the various papers cited 
the correspondence between answer set semantics and equilibrium logic is also wellestablished and has been discussed in many publications  beginning with pearce         who
first showed how the answer sets of disjunctive programs can be regarded as equilibrium
models  lifschitz et al               ferraris et al         pearce   valverde             
       for our purposes it will suffice to recall just two important syntactic classes of
programs and the main features of the correspondence with equilibrium logic 
at one extreme we have ground  disjunctive logic programs  we treat them here without
strong negation  so their answer sets are simply collections of atoms  these programs consist
of sets of ground rules of the form
k          kk  l          lm   notlm             notln

   

where the li and kj are atoms  the translation from the syntax of programs to ht
propositional formulas is the trivial one  viz      corresponds to the ht sentence
l          lm  lm           ln  k          kk

   

under this translation the correspondence between the answer sets and the equilibrium
models of ground disjunctive programs is also the direct one 
proposition    let  be a disjunctive logic program  then ht  t i is an equilibrium model
of  if and only if t is an answer set of  
this was first shown by pearce        but the basic equivalence was later shown to hold
for more general classes of programs by pearce  p  de guzman and valverde        
it is also common to treat non ground rules of form     where variables may appear 
these variables are thought of as being universally quantified  so the corresponding translation into a logical formula would simply be the universal closure of formula     
at the other extreme  ferraris  lee and lifschitz        provided a new definition of
stable model for arbitrary first order formulas  in this case the property of being a stable
model is defined syntactically via a second order condition that resembles parallel circumscription  however they also showed that the new notion of stable model is equivalent to
that of equilibrium model as defined here for first order languages  in a sequel to this paper 
lee  lifschitz and palla      a  have applied the new definition and made the following refinements  the stable models of a formula are defined as ferraris et al         were  while
the answer sets of a formula are those herbrand models of the formula that are stable in
the sense of ferraris et al  using this new terminology  it follows that in general stable
models and equilibrium models coincide  while answer sets are equivalent to sna qht
models that are equilibrium models 
in between these two extremes many syntactically different kinds of programs have
been considered and several variations in the concept of answer set have been proposed 
however all the main varieties display a similar correspondence to equilibrium logic  it is
merely necessary in some cases to restrict attention to specific kinds of equilibrium models  e g  herbrand models  una models or sna models  it is important to notice also that
this correspondence extends to many of the additional constructs that have been introduced
   

fiinterpolable formulas in equilibrium logic and answer set programming

in asp  such as cardinality and weight constraints and even general forms of aggregates  lee
  meng         all these can be accommodated in equilibrium logic by translation into
logical formulas 
in asp the main emphasis is on finding answer sets and this is what most answer
set solvers compute  less attention is placed on implementing a non monotonic inference
relation or a query answering mechanism  however there is a standard  skeptical concept of
inference or entailment associated with answer set semantics  this notion of entailment or
consequence for programs under the answer set semantics is that a query q is entailed by
a program  if q is true in all answer sets of   balduccini  gelfond    nogueira        
let us denote this entailment or consequence relation by  as   evidently atoms are true in
an answer set if and only if they belong to it  conjunctions and disjunctions are handled
in the obvious way  lifschitz  tang    turner        balduccini et al          sometimes 
queries of the form not a  or in logical notation a  are not explicitly dealt with  balduccini
et al          however it seems to be in keeping with the semantics to regard a formula of
form not  or  to be true in an answer set if and only if  is not true  another way
to express this would be to say that an answer set satisfies  if it does not violate the
constraint      understanding constraint violation as lifschitz  tang and turner         
in this way we would say that   as a if no answer set of  contains a  similarly  the
interpretation of queries containing quantifiers in answer set semantics should also conform
to that of equilibrium logic  taking account of any specific restrictions  such as herbrand
models  that might be imposed 
we can therefore transfer interpolation properties from equilibrium logic to answer set
semantics and asp  it remains to consider whether  as is best identified with the closed
world version of inference   cw   or the more open world version   ow   again  since asp
solvers do not generally implement inference engines  the difference is largely a theoretical one  in traditional logic programming  however  a query that does not belong to the
language of the program is usually answered false  it also seems quite natural in an asp
context that  given a program  and a query q  one should consider the stable models of 
in the language l    l q  even if this is a proper extension of the language of     so in
general  cw seems a natural choice for answer set inference  on the other hand  there are
contexts where answer set semantics is used in a more open world setting  for example in the
setting of hybrid knowledge bases  rosati        where non monotonic rules are combined
with ontologies formalised in description logics  for such systems a semantics in terms of
equilibrium logic was provided by de bruijn  pearce  polleres and valverde         here an
entailment relation in the style of  ow might sometimes be more appropriate 
in general answer set semantics is defined only for coherent programs or theories  for
these  by identifying  as with  cw   we can apply proposition   directly 
corollary   for coherent formulas          interpolation in the form of proposition  
holds for entailment  as in answer set semantics 
   in logical terms this constraint would be written    
    notice that by proposition    if a program consists of safe formulas  an atomic query q a  is automatically
false if a does not belong to the language of the program  even if q does   simply because grounding with
the program constants is sufficient to generate all answer sets 

   

figabbay  pearce    valverde

   an application of interpolation
the interpolation property has been applied in various areas of computer science  notably
in software specification  bicarregui et al         and in the construction of formal ontologies  lutz   wolter         in both areas it is relevant to modularity issues  here we
discuss a simple application related to a concept described by lutz and wolter that we can
adapt to the case of nonmonotonic logic programs 
one way to compare two theories is via their nonmonotonic consequence relations  when
two theories produce the same answers for a given query language  we can call them inseparable  this term is used in mathematical logic and also in the study of formal ontologies  lutz
  wolter        
let us say therefore that   and   are l inseparable if for any  such that v     l 
           
proposition    let   and   be l inseparable theories such that v        v        v  
say  then for any l  l such that v  l  l    and   are l  inseparable 
proof  assume that   and   are l inseparable and that l is an extension of l such
that v  l  l  suppose       where v      l   suppose l   v    b          bn    by
proposition   there is an interpolant  for        such that     b       bn    since
     and v     l  by l inseparability we have       by right absorption therefore
    b          bn    however it is clear that b          bn are false in all equilibrium
models of     so       repeating this argument with   and   interchanged shows that
the theories are l  inseparable 

the above proof is similar to the argument given by lutz and wolter        for theorem   of that paper  applied to tboxes in description logics  the property described is
called there robustness under signature extensions  notice however that  since   is not in
general transitive we cannot immediately infer from      and     that also      
this highlights the added strength of using explicitly the set  b          bn   and the property
that ht forms a deductive basis for   
in the study of modularity and logical relations between programs in asp  it is more
common to compare their sets of answer sets rather than their consequence classes  however
it turns out that the notion of inseparability is very close to a concept that has already
been studied in asp  two theories or programs are said to be projectively equivalent if
the projections of their answer sets onto a common sublanguage agree  eiter  tompits 
  woltran         formally  let       be theories and l be a signature such that l 
v       v       then   and   are said to be projectively equivalent relative to l if
e    l   e    l   where for any class of models k  kl    ml   m  k  
proposition    let       be theories and l a signature such that l  v       v      
  and   are projectively equivalent relative to l if and only if they are l inseparable 
in other words these two concepts agree whenever l is a common sublanguage of        
the main advantage of l inseparability is that it seems the more natural one to use if we
want to consider signatures that extend the language of either program or theory 
   

fiinterpolable formulas in equilibrium logic and answer set programming

   uniform interpolation and forgetting
a stronger form of interpolation known as uniform interpolation is also important for certain
applications in computer science  konev et al          as usual  given    with     we
are interested in interpolants  such that
   

   

where  contains only predicate and constant symbols that belong to both  and   the
difference now is that  is said to be a uniform interpolant if     holds for any  in the
same signature such that     a logic is said to have the uniform interpolation property
if such uniform interpolants exist for all    
in classical propositional logic  the uniform interpolation holds  however it fails in first
order classical logic and in many non classical logics  it may hold when certain restrictions
are placed on the theory language in which  is formulated and on the query language
containing   for example it has been shown to hold for some description logics  kontchakov
et al         where such syntactic restrictions apply  even in asp it turns out that a form of
uniform interpolation holds for a very restricted query language  essentially one that allows
just instance retrieval  we can show this by using some known results in asp about the
concept of forgetting  eiter   wang        that is quite closely related to interpolation 
variable forgetting  as studied by eiter and wang         is concerned with the following
problem  given a disjunctive logic program  and a certain atom a occurring in   construct
a new program  to be denoted by forget   a   that does not contain a but whose answer
sets are in other respects as close as possible to those of   for the precise notion of
closeness the reader is referred to paper of eiter and wang  however some consequences will
be evident shortly  eiter and wang define forget   a   as a generic term   show that such
programs exist whenever  is coherent  and provide different algorithms to compute such
programs 
given coherent  and a in   the results forget   a   of forgetting about a in  may
be different but are always answer set equivalent  moreover for our purposes they satisfy
the following key property  where  is coherent  a  b are distinct atoms in  and as usual  
denotes nonmonotonic consequence 
   b



forget   a    b 

    

showing that indeed the answer sets of  and forget   a  are closely related 
to establish a version of uniform interpolation for the case of disjunctive programs and
simple  atomic queries  we need to show that we can always find a    forget   a  such
that       for this we can examine the first algorithm of eiter and wang for computing
forget   a   this is also the simplest of the three algorithms presented  let  be a coherent
program with rules of form     that we write as formulas of form     and let a be an atom
in   the method for constructing a    forget   a  is as follows 
   compute the equilibrium models e   
   let e  be the result of removing a from each m  e   
   remove from e  any model that is non minimal to form e      a            am    say  
   

figabbay  pearce    valverde

   construct a program  whose answer sets are precisely  a            am   as follows 
 for each ai   set i    ai  a   a  ai    where ai   v      ai  
 set              m  
we can now verify the desired property  let l be the simple query language composed of
conjunctions of literals 
proposition    in equilibrium logic  or answer set programming  uniform interpolation
holds for  coherent  disjunctive programs and queries in l v     
proof  to prove the claim we shall show the following  let  be a coherent disjunctive
program and let l   l v   for some v  v     then there is a program  such that
v       v and for any   l 
                
to begin  let  and  be as above with      let x    a            an     v      v   then
we choose  to be the result of forgetting about x in   defined by eiter and wang       
as follows 
forget   x     forget forget forget   a     a             an   
and it is shown there that the order of the atoms in x does not matter  now we know
by      that for any atom a  v and any i      n 
   a  forget   ai     a 

    

   a  forget   x    a 

    

therefore
let  be forget   x  as determined by algorithm   of eiter and wang        described
above  it is easy to see by      and the semantics of   that      continues to hold where a
is replaced by a negated atom b and therefore also by any conjunction of literals since a
conjunction is entailed only if each element holds in every equilibrium model    so it remains
to show that       again  it will suffice to show this entailment for one member of the
sequence forget   ai   and since the order is irrelevant wlog we can choose the first element
forget   a    and show that    forget   a     we compute the programs             m as
in the algorithm  then we need to check that    i for any i      n  i e  that for each
m  e    m     ai  a   a  ai   
consider m  e   where m   ht  t i  we distinguish two cases   i  ai  t   then
m    a for each a  ai   it follows that m    ai  a for each a  ai and so
m     ai  a   a  ai    case  ii  ai   t   then t and ai are incomparable  in
particular we cannot have t  ai by the minimality property of ai obtained in step   
hence t  ai      choose a  t  ai   then m    a   so m     a and hence m     ai  
consequently  for any a   m    ai  a and so m     ai  a   a  ai    it follows
that for any i     i and so by construction       which establishes the proposition  
    as eiter and wang        point out  if an atom b is true in some answer set of forget   a   then it
must also be true in some answer set of   showing that      holds for literals 

   

fiinterpolable formulas in equilibrium logic and answer set programming

    extending the query language
if we establish uniform interpolation in asp using the method of forgetting  as defined
by eiter and wang         it seems clear that we cannot extend in a non trivial way the
expressive power of the query language l  since the method of forgetting a in  removes
non minimal sets from e    once a has been removed   an atom b might be true in some
equilibrium model of  but not in any equilibrium model of forget   a   hence we might
have a disjunction  say a  b  derivable from  but not from forget   a   likewise  if we
consider programs with variables in a first order setting  we cannot in general extend l to
include existential queries 
on the other hand  the property of uniform interpolation certainly holds for any l v  
even without the condition that v  v     suppose that     where v      v        
say v      v       b            bk    then b            bk are false in all equilibrium models of  
trivially  if b is not in v    we can regard the result of forgetting about b in  as just   so
we can repeat the proof of proposition     but now setting x    v      v     v   v     
all the relevant properties will continue to hold 
an interesting open question is whether we can extend the theory language to include
more general kinds of program rules such as those allowing negation in the head  accommodating these kinds of formulas would constitute an important generalisation since they
amount to a normal form in equilibrium logic  however  the answer sets of such programs do
not satisfy the minimality property that holds for the answer sets of disjunctive programs 
so it is clear that the definition of forgetting would need to be appropriately modified   a
task that we do not attempt here 

   literature and related work
the interpolation theorem for classical logic is due to craig         it was extended to intutionistic logic by schutte         maksimova        characterised the super intuitionistic
propositional logics possessing interpolation  a modern  comprehensive treatment of interpolation in modal and intuitionistic logics can be found in the monograph of gabbay and
maksimova        
in non monotonic logics  interpolation has received little attention  a notable exception
is an article  amir        establishing some interpolation properties for circumscription and
default logic  by the well known relation between the answer sets of disjunctive programs
and the extensions of corresponding default theories  he also derives a form of interpolation
for asp  with regard to answer set semantics  the approach of amir is quite different from
ours  since it is founded on an analysis of default logic  it uses classical logic as an underlying
base  so amirs version of interpolation is a form of     where l is classical logic  there is
no requirement that l form a well behaved sublogic of    e g  a deductive base  as amir
remarks  one cannot deduce in general from property     that     however if l is classical
logic one cannot even deduce     from      more generally  there is no counterpart to
our proposition   in this case  another difference with respect to our approach is that
amir does not discuss the nature of the   relation for asp in detail  in particular how
to understand     in case  contains atoms not present in the program   in fact  if
we interpret  as as in section   above  it is easy to refute     l   interpolation where l
is classical logic  let  be the program b  a and q the query b  c  then clearly
   

figabbay  pearce    valverde

  as q  but there is no formula in the vocabulary b that would classically entail c 
under any interpretation of answer set inference such that atoms not in the program are
regarded as false      l   interpolation would be refuted 

    conclusions
we have discussed two kinds of interpolation properties for non monotonic inference relations and shown that these properties hold in turn for the two different inference relations
that we can associate with propositional equilibrium logic  in each case we use the fact that
the collection of equilibrium models is definable in the logic ht of here and there and that
this logic possesses the usual form of interpolation  one of the forms of inference studied
seems to be in many cases an appropriate concept to associate with answer set programming  although in general asp systems are not tailored to query answering or deduction 
using results of eiter and wang        about variable forgetting in asp  we could also show
how the property of uniform interpolation holds for disjunctive programs and a restricted
query language 
we have also discussed the interpolation property for first order equilibrium logic based
on a quantified version qht of the logic of here and there  obtaining analogous results as
for the propositional case whenever the collection of equilibrium models is definable  these
positive results transfer to answer set programming under the assumption usually made in
asp systems that programs are safe and therefore have definable collections of answer sets 
as we saw  the notion of safety can be quite generally defined for theories and is not limited
to normal or disjunctive programs 

acknowledgments
david pearce is partially supported by mec projects tin           c      and csd           agustn valverde is partially supported by mec project tin           c       and
junta de andalucia projects p   fqm       and tic      the authors are grateful to the
anonymous referees for helpful comments 

references
amir  e          interpolation theorems for nonmonotonic reasoning systems   in proceedings of nmr    pp       
balduccini  m   gelfond  m     nogueira  m          a prolog as a tool for declarative
programming  in proc  of seke       
baral  c          knowledge representation  reasoning and declarative problem solving 
cambridge university press 
bicarregui  j   dimitrakos  t   gabbay  d  m     maibaum  t  s  e          interpolation
in practical formal development  logic journal of the igpl        
bria  a   faber  w     leone  n          normal form nested programs  in holldobler  s  
lutz  c     wansing  h   eds    proc  of jelia    vol       of lncs  pp       
springer 
   

fiinterpolable formulas in equilibrium logic and answer set programming

cabalar  p   pearce  d     valverde  a          a revised concept of safety for general answer
set programs  in erdem  e   lin  f     schaub  t   eds    proc  of lpnmr    vol 
     of lncs  pp        springer 
craig  w          linear reasoning  a new form of the herbrand gentzen theorem   j  symb 
logic             
de bruijn  j   pearce  d   polleres  a     valverde  a          quantified equilibrium logic
and hybrid rules  in marchiori  m   pan  j  z     de sainte marie  c   eds    proc  of
rr    vol       of lncs  pp        springer 
diaconescu  r   goguen  j     stefaneas  p          logical support for modularisation  in
logical environments  pp         cambridge university press 
dietrich  j          deductive bases of nonmonononic inference operations  ntz report 
university of leipzig 
eiter  t   tompits  h     woltran  s          on solution correspondences in answer set
programming   in kaelbling  l  p     saffiotti  a   eds    proc  of ijcai    pp 
       professional book center 
eiter  t     wang  k          semantic forgetting in answer set programming  artificial
intelligence                     
ferraris  p          logic programs with propositional connectives and aggregates  corr 
abs           
ferraris  p   lee  j     lifschitz  v          a new perspective on stable models  in veloso 
m  m   ed    proc  of ijcai    pp         
gabbay  d  m     maksimova  l          interpolation and definability  modal and intuitionistic logic  oxford university press  usa 
gelder  a  v   ross  k  a     schlipf  j  s          the well founded semantics for general
logic programs  journal of acm                 
gelfond  m     lifschitz  v          the stable model semantics for logic programming 
in kowalski  r  a     bowen  k   eds    proc  of iclp    pp            the mit
press 
gelfond  m     lifschitz  v          logic programs with classical negation  in warren 
david h d   szerdei  p   ed    proc  of iclp    pp          mit press 
gelfond  m     lifschitz  v          classical negation in logic programs and disjunctive
databases  new generation computing            
konev  b   walther  d     wolter  f          forgetting and uniform interpolation in largescale description logic terminologies  in boutilier  c   ed    proc  of ijcai    pp 
       
kontchakov  r   wolter  f     zakharyaschev  m          can you tell the difference
between dl lite ontologies   in brewka  g     lang  j   eds    principles of knowledge
representation and reasoning  proc  of kr    pp          aaai press 
kunen  k          negation in logic programming  journal of logic programming        
       
   

figabbay  pearce    valverde

lee  j   lifschitz  v     palla  r       a   a reductive semantics for counting and choice in
answer set programming  in fox  d     gomes  c  p   eds    proc  of aaai    pp 
        aaai press 
lee  j   lifschitz  v     palla  r       b   safe formulas in the general theory of stable
models  preliminary report   in de la banda  m  g     pontelli  e   eds    proc  of
iclp    vol       of lncs  pp          springer 
lee  j     meng  y          on reductive semantics of aggregates in answer set programming  in erdem  e   lin  f     schaub  t   eds    proc  of lpnmr    vol       of
lncs  pp          springer 
lifschitz  v   pearce  d     valverde  a          strongly equivalent logic programs  acm
transactions on computational logic                
lifschitz  v   pearce  d     valverde  a          a characterization of strong equivalence
for logic programs with variables  in baral  c   brewka  g     schlipf  j  s   eds   
proc  of lpnmr    vol       of lncs  pp          springer 
lifschitz  v   tang  l  r     turner  h          nested expressions in logic programs  annals
of mathematics and artificial intelligence                  
lutz  c     wolter  f          deciding inseparability and conservative extensions in the
description logic el  journal of symbolic computation                 
maher  m  j          equivalences of logic programs  in foundations of deductive databases
and logic programming   pp          morgan kaufmann 
makinson  d          general patterns in nonmonotonic reasoning  pp         oxford
university press  inc 
maksimova  l          interpolation in superintuitionistic predicate logics with equality 
algebra and logic             
maksimova  l          interpolation in superintuitionistic and modal predicate logics with
equality  in m kracht  de rijke  m   wansing  h     zakharyaschev  m   eds    advances in modal logic  vol  i  pp          csli publications 
maksimova  l          craigs interpolation theorem and amalgamable varieties  doklady
akademii nauk sssr                    
mcmillan  k  l          applications of craig interpolants in model checking  in halbwachs 
n     zuck  l  d   eds    proc  of tacas    vol       of lncs  pp       springer 
ono  h          model extension theorem and craigs interpolation theorem for intermediate
predicate logics  reports on mathematical logic           
pearce  d          a new logical characterization of stable models and answer sets  in dix 
j   pereira  l  m     przymusinski  t  c   eds    proc  of nmelp    vol       of
lncs  pp        springer 
pearce  d          equilibrium logic  annals of mathematics and artificial intelligence 
              
pearce  d   de guzman  i  p     valverde  a          computing equilibrium models using
signed formulas  in proc  of cl      vol       of lncs  pp          springer 
   

fiinterpolable formulas in equilibrium logic and answer set programming

pearce  d     valverde  a          a first order nonmonotonic extension of constructive
logic  studia logica                   
pearce  d     valverde  a          quantified equilibrium logic  technical report  universidad rey juan carlos   http   www matap uma es investigacion tr ma      
pdf  
pearce  d     valverde  a          quantified equilibrium logic and foundations for answer
set programs  in de la banda  m  g     pontelli  e   eds    proc  of iclp    vol 
     of lncs  pp          springer 
pearce  d     valverde  a          synonymous theories and knowledge representations in
answer set programming  journal of computer and system sciences            
rosati  r          semantic and computational advantages of the safe integration of ontologies and rules  in fages  f     soliman  s   eds    proc  of ppswr    vol      
of lncs  pp        springer 
schutte  k          der interpolationsatz der intuitionistischen pradikatenlogik   math 
ann               
van dalen  d          logic and structure   th edition   springer 

   

fi