journal of artificial intelligence research                 

submitted        published      

multi robot adversarial patrolling 
facing a full knowledge opponent
noa agmon

agmon cs utexas edu

department of computer science
university of texas at austin
tx  usa

gal a kaminka
sarit kraus

galk cs biu ac il
sarit cs biu ac il

computer science department
bar ilan university
israel

abstract
the problem of adversarial multi robot patrol has gained interest in recent years  mainly
due to its immediate relevance to various security applications  in this problem  robots
are required to repeatedly visit a target area in a way that maximizes their chances of
detecting an adversary trying to penetrate through the patrol path  when facing a strong
adversary that knows the patrol strategy of the robots  if the robots use a deterministic
patrol algorithm  then in many cases it is easy for the adversary to penetrate undetected
 in fact  in some of those cases the adversary can guarantee penetration   therefore this
paper presents a non deterministic patrol framework for the robots  assuming that the
strong adversary will take advantage of its knowledge and try to penetrate through the
patrols weakest spot  hence an optimal algorithm is one that maximizes the chances of
detection in that point  we therefore present a polynomial time algorithm for determining
an optimal patrol under the markovian strategy assumption for the robots  such that the
probability of detecting the adversary in the patrols weakest spot is maximized  we build
upon this framework and describe an optimal patrol strategy for several robotic models
based on their movement abilities  directed or undirected  and sensing abilities  perfect or
imperfect   and in dierent environment models   either patrol around a perimeter  closed
polygon  or an open fence  open polyline  

   introduction
the problem of multi robot patrol has gained interest in recent years  e g   ahmadi   stone 
      chevaleyre        elmaliach  agmon    kaminka        paruchuri  tambe  ordonez 
  kraus        amigoni  gatti    ippedico         mainly due to its immediate relevance
to various security applications  in the multi robot patrol problem  robots are required to
repeatedly visit a target area in order to monitor it  many researchers have focused on a
frequency based approach  guaranteeing that some point visit frequency criteria are met by
the patrol algorithm  for example maximizing the minimal frequency or guaranteeing uniform frequency  e g   refer to elmaliach et al         chevaleyre        almeida  ramalho 
santana  tedesco  menezes  corruble    chevaleyr        
in contrast  we advocate an approach in which the robots patrol in adversarial settings 
where their goal is to patrol in a way that maximizes their chances of detecting an adversary
c
    
ai access foundation  all rights reserved 

fiagmon  kaminka   kraus

trying to penetrate through the patrol path  thus the decisions of the adversary must be
taken into account  our objective is  therefore  to develop patrol paths for the robots  such
that following these paths the robots will maximize the chance of adversarial detection  the
problem of adversarial planning and specically adversarial patrolling is a wide problem 
where generally no computational tractable results exist  this paper presents the problem
in a restrictive environment of perimeter patrol by a set of homogenous robots  providing a
computational tractable optimal result 
as opposed to frequency driven approaches  in adversarial settings the point visit frequency criteria becomes less relevant  consider the following scenario  we are given a cyclic
fence of a length of     meters and   robots must patrol around the fence while moving at a
velocity of  m sec  clearly  the optimal possible frequency at each point around the fence 
in terms of maximizing the minimal frequency  is       i e   each location is visited once
every    seconds  this optimal frequency is achieved if the robots are placed uniformly
along the fence  facing the same direction  and move forward without turning around  assume that it takes an adversary    seconds to penetrate the area through the fence  as
the robots move in a deterministic path  an adversary knowing the patrol algorithm can
guarantee penetration if it simply enters through a position that was recently visited by
a patrolling robot  on the other hand  if the robots move non deterministically  i e   they
turn around from time to time with some probability greater than    then the choice of
penetration position becomes less trivial  moreover  if we assume that an adversary may
penetrate at any time  it motivates the use of nondeterministic patrol behavior indenitely 
we rst consider the problem of patrolling around a closed polygon  i e   a perimeter 
we introduce a non deterministic framework for patrol under a rst order markovian assumption for the robots strategy  in which the robots choose their next move at random
with some probability p  this probability value p characterizes the patrol algorithm  we
model the system as a markov chain  e g   stewart         and using this model we calculate in polynomial time the probability of penetration detection at each point along the
perimeter as a function of p  i e   it depends on the choice of patrol algorithm 
based on the functions dening the probability of penetration detection  we nd an optimal patrol algorithm for the robots in the presence of a strong adversary  i e   an adversary
having full knowledge on the patrolling robotstheir algorithm and current placement  in
this case  the adversary uses this knowledge in order to maximize its chances of penetrating
without being detected  it is therefore assumed that the adversary will penetrate through
the weakest spot of the path  hence the goal of the robots is to maximize the probability
of penetration detection in that weakest spot  we provide a polynomial time algorithm
 polynomial in the input size  depending on the number of robots and the characteristics
of the environment  for nding an optimal patrol for the robots facing this full knowledge
adversary  we show that a non deterministic patrol algorithm is advantageous  and guarantees some lower bound criteria on the performance of the robots  i e   on their ability to
block the adversary 
we then use the patrol framework to consider additional environment and robotic models  specically  we consider the case in which the robots are required to patrol along an
open polyline  fence   we show that although this case is inherently dierent from patrolling
along a perimeter  the basic framework can still be used  with some changes  in order to nd
an optimal patrol algorithm for the robots  we investigate also dierent movement models
   

fimulti robot adversarial patrolling

of robots  namely the robots can have directionality associated with their movement  and
turning around could cost the system time   or they can be omnidirectional  in addition 
we model various types of sensing capabilities of the robots  specically  their sensing capabilities can be perfect or imperfect  local or long range  in all these cases we show how the
basic framework can be extended to include the various models 
this paper is organized as follows  in section   we discuss previous work  related to
our research  section   describes the basic robot and environment model  we introduce in
section   a framework for the patrolling robots  and describe a polynomial time algorithm
for determining the probability of penetration detection at every point along the patrol
path  section       we then show in section     an algorithm for dening an optimal patrol
algorithm for the robots  assuming they face a full knowledge adversary  and in section    
provides some interesting results from an implementation of the algorithms  in section  
we show how the basic framework can be used in order to consider various robotic sensing
and movement models and in a dierent environment  open fences   section   concludes 

   related work
systems comprising multiple robots that cooperate to patrol in some designated area have
been studied in various contexts  e g   chevaleyre        elmaliach  agmon    kaminka 
       theoretical  e g   chevaleyre        elmaliach et al         amigoni et al        
and empirical  e g   see sak  wainer    goldenstein        almeida et al         solutions
have been proposed in order to assure quality patrol  the denition of quality depends on
the context  most studies concentrate on the frequency based patrolling  which optimizes
frequency of visits throughout the designated area  e g  refer to elmaliach et al        
almeida et al         chevaleyre         ecient patrol  in this case  is a patrol guaranteeing a high frequency of visits in all parts of the area  in contrast  adversarial patrolling
 addressed in this paper  deals with the detection of moving adversaries who are attempting
to avoid detection  here  an ecient patrol is one that deals eciently with intruders  e g  
see sak et al         basilico  gatti    amigoni      b  amigoni et al         
the rst theoretical analysis of the frequency based multi robot patrol problem that
concentrated on frequency optimization was presented by chevaleyre         he introduced
the notion of idleness  which is the duration each point in the patrolled area is not visited 
in his work  he analyzed two types of multi robot patrol schemes on graphs with respect
to the idleness criteria  partitioning the area into subsections  where each section is visited
continuously by one robot  and the cyclic scheme in which a patrol path is provided along
the entire area and all robots visit all parts of the area  consecutively  he proved that
in the latter approach  the frequency of visiting points in the area is considerably higher 
almeida et al         oered an empirical comparison between dierent approaches towards
patrolling with regards to the idleness criteria  and shows great advantage of the cycle based
approach 
elmaliach et al               oered new frequency optimization criteria for evaluating
patrol algorithms  they provide an algorithm for multi robot patrol in continuous areas
that is proven to have maximal minimal frequency as well as uniform frequency  i e   each
point in the area is visited with the same highest possible frequency  their work is based on

   

fiagmon  kaminka   kraus

creating one patrol cycle that visits all points in the area in minimal time  and the robots
simply travel equidistantly along this patrol path 
sak et al         considered the case of multi agent adversarial patrol in general graphs
 rather than perimeters  as in our work   they concentrated on an empirical evaluation
 using a simulation  of several non deterministic patrol algorithms that can be roughly
divided into two  those that divide the graph between the patrolling agents  and those that
allow all agents to visit all parts of the graph  they considered three types of adversaries 
random adversary  an adversary that always chooses to penetrate through a recently visited
node and an adversary that uses statistical methods to predict the chances that a node will
be visited soon  they concluded that there is no patrol method that outperformed the
others in all the domains they have checked  but the optimality depends on the graph
structure  in contrast to this investigation  we provide theoretical proofs of optimality for
dierent settings 
the work of adversarial multi robot patrol was examined also by using game theoretic
approaches  e g   see basilico et al       b  basilico  gatti    amigoni      a  pita  jain 
ordonez  tambe  kraus    magorii cohen        paruchuri  tambe et al          note
that the work described herein can be modeled as a game theoretic problem  given two
players  the robots and the adversary  with a possible set of actions by each side  determine
the optimal policy of the robots that will maximize their utility gained from adversarial
detection  this is a zero sum game  since we assume a strong  full knowledge  adversarial
model  we adopt the minmax approach  namely  minimizing the maximal utility of the
opponent  or in this case  equivalent to maximizing the minimal probability of detection
of the robots   however  in our work we do not use game theoretic tools for nding the
equilibrium strategy  but use tailored ad hoc solution that nds the optimal policy for the
robots in polynomial time  taking into account the robots possible sensing and movement
capabilities 
the most closely related work by amigoni et al         and basilico et al       b      a 
used a game theoretic approach using leader follower games for determining the optimal
strategy for a single patrolling agent  they considered an environment in which a patrolling
robot can move between any two nodes in a graph  as opposed to the perimeter model we
use  their solution is suitable for one robot in heterogenous environments  i e   the utility
of the agent and the adversary changes along the vertices of the graph  they formulate
the problem as a mathematical programming problem  either multilinear programming or
mixed integer linear programming   consequently  the computation of the optimal strategy
is exponential  yet using optimization tools they manage to get good approximation to the
optimal solution 
paruchuri  tambe et al         considered the problem of placing stationary security
checkpoints in adversarial environments  similar to our assumptions  they assume that
their agents work in an adversarial environment in which the adversary can exploit any predictable behavior of the agents  and that the adversary has full knowledge of the patrolling
agents  they model their system using stackelberg games  which uses policy randomization
in the agents behavior in order to maximize their rewards  the problem is formulated
as a linear program for a single agent  yielding an optimal solution for that case  using
this single agent policy  they present a heuristic solution for multiple agents  in which the
optimal solution is intractable  paruchuri  pearce et al         further study this problem
   

fimulti robot adversarial patrolling

in cases where the adversarial model is unknown to the agents  although the adversary still
has full knowledge of the patrol scheme  they again provide heuristic algorithms for optimal strategy selection by the agents  pita et al         continued this research to consider
the case in which the adversaries make their choices based on their bounded rationality or
uncertainty  rather than make the optimal game theoretic choice  they considered three
dierent types of uncertainty over the adversarys choices  and provided new mixed integer
linear programs for stackelberg games that deal with these types of uncertainties 
as opposed to all these works that are based on using game theoretic approaches and
provide approximate or heuristic solutions to intractable optimal solutions  in our work we
focus on specic characteristics of the robots and the environment  and provide optimal
polynomial time algorithms for nding an optimal patrol strategy for the multi robot team
using the minmax approach 
theoretical work based on stochastic processes that is related to our work is the cat and
mouse problem  coppersmith  doyle  raghavan    snir         also known as the predatorprey  haynes   sen        or pursuit evasion problem  vidal  shakernia  kim  shim   
sastry         in this problem  a cat attempts to catch a mouse in a graph where both
are mobile  the cat has no knowledge about the mouses movement  therefore as far as
the cat is concerned  the mouse travels similarly to a simple random walk on the graph 
we  on the other hand  have worst case assumptions about the adversary  we consider
a robotic model  in which the movement of the cat is correlated with the movement of a
robot  with possible directionality of movement  possible cost of changing directions and
possible sensorial abilities  moreover  in our model the robots travel around a perimeter or
a fence  rather than in a general graph  thus in a sense  our research is concerned with
pursuit evasion on a polyline   open or closed 
other theoretical work by shieh and calvert         based on computational geometry
solutions  attempts to nd optimal viewpoints for patrolling robots  they try to maximize the view of the robots in the area  show that the problem is n p hard  and nd
approximation algorithms for the problem 

   robot and environment model
in the following section  we provide a description of the robotic model  environment model
and the adversarial model  we describe the basic model of patrolling around a perimeter
 closed polygon   further environments and robotic models are discussed in section   
    the environment
we consider a patrol in a circular path around a closed polygon p   the path around p
is divided into n segments of a length of uniform time distance  i e   each robot travels
through one segment per cycle while sensing it  its velocity is   segment     time cycle  
this division into segments makes it possible to consider patrols in heterogeneous paths  in
such areas  the diculty of passing through terrains varies from one terrain to another  for
example driving in muddy tracks vs  driving on a road  in addition  riding around corners
requires a vehicle to slow down  figure   demonstrates a transition from a given area to a
discrete cycle  the area  on the left  is given along with its velocity constraints  the path
is then divided into segments such that a robot travels through one segment per time cycle
   

fiagmon  kaminka   kraus

while monitoring it  i e   the length of each segment is determined by both the velocity of
the robot  corresponding to the time it takes it to travel through the specic segment  and
the sensorial capabilities of the robot  after the path is divided into segments with uniform
travel time  it is equivalent to considering a simple cycle as appears in the right of figure
  
note that the distance between the robots is calculated with respect to the number of
segments between them  i e   the distance is in travel time  for example  if we say that
the distance between r  and r  is    then there are   segments between them  and if r 
had remained still  then it would have taken r    time cycles to reach r   assuming r  is
headed towards the right direction  

equivalent
figure    an example for creating discrete segments from a circular path with the property that the
robots travel through one segment per cycle  the dierent line structures along the perimeter on the left
correlate to dierent velocity constraints  which are converted  in the middle gure  to n segments in
which the robots travel during one time cycle  this gure is equivalent to the gure in the right  which
is a simple cycle divided into n uni time segments 

    patrolling robotic model
we consider a system of k     homogenous mobile robots r            rk   that are required to
patrol around a closed polygon  the robots operate in cycles  where each cycle consists of
two stages 
   compute  execute the given algorithm  resulting in a goal point  denoted by pg   to
which the robot should travel 
   move  move towards point pg  
this model is synchronous  i e  all robots execute each cycle simultaneously  we concentrate our attention to the compute stage  i e   how to compute the next goal point 
we assume the robots movement model is directed such that if pg is behind the robot 
it has to physically turn around  turning around is a costly operation  and we model this
cost in time  i e   if the robot turns around it resides in its segment for  time units  the
case in which the movement model is not directed is discussed in section      throughout
the paper we assume for simplicity that       unless stated otherwise 
a key result of this research  section    is that optimal patrolling necessitates robots
to be placed at a uniform distance d   n k from one another along the perimeter  consequently  we require the robots to be coordinated in the sense that all robots move in the
same direction  and if decided to turn around they do it simultaneously  this requirement
guarantees that the uniform distance of d is maintained throughout the execution of the
   

fimulti robot adversarial patrolling

patrol algorithm  note that this tightly coordinated behavior is achievable in centralized
systems  or in systems where communication exists between all team members  other practical implementations may exist  for example uniformly seeding a pseudorandom number
generator for all the robots   but they all require coordination inside the team  distributed
systems that cannot assume reliable communication are left for future work 
    adversarial model
our basic assumption is that the system consists of an adversary that tries to penetrate
once through the patrolling robots path without being detected  the adversary decides 
at any unknown time  through which segment to penetrate  its penetration time is not
instantaneous  and lasts t time units  during which it stays at the same segment 
denition    let si be a discrete segment of a perimeter p which is patrolled by one robot
or more  then the probability of penetration detection in si   ppdi   is the probability that a
penetrator going through si during t time units will be detected by some robot going through
si during that period of time 
in other words  ppdi is the probability that a patrol path of some robot will pass through
segment si during the time that a penetration is attempted through that segment  hence it
is calculated for each segment with respect to the current location of the robots at a given
time  since the robots maintain uniform distance between them throughout the execution 
this relative location remains the same at all times   we use the general acronym ppd when
referring to the general term of probability of penetration detection  without reference to a
certain segment  
recall that the time distance between every two consecutive robots around the perimeter
is d   n k  therefore we consider t values between the boundaries d 
   t   d  the reason
for this is that if it takes the robot  time units to turn  then the robot adjacent to s  will
have probability     of arriving at every segment si      i  t  while the robot adjacent
to sd has probability     of arriving at segments si   d   t      i leqd  hence segment
st   has probability     of being visited only if d   t      t      d      t  otherwise
there is at least one segment  st     that has probability   of being visited during t time
units  therefore an adversary having full knowledge on the patrol will always manage to
successfully penetrate regardless of the actions taken by the patrolling robots  note that 
appears in this equation since it inuences the number of segments reachable by the robot
located in segment sd   if turning around  sd   sd            sd       on the other hand  if t  d
then all segments si can have ppdi     simply by using a deterministic algorithm 
we dene the patrol scheme of the robots as the
   number of robots  the distance between them and their current position 
   the movement model of the robots and any characterization of their movement 
   the robots patrol algorithm 
the patrol scheme reects the knowledge obtained by the adversary on the patrolling robots
at any given time  hence is not necessarily time dependent  

   

fiagmon  kaminka   kraus

we consider a strong adversarial model in which the adversary has full knowledge of
the patrolling robots  therefore the full knowledge adversary knows the patrol scheme 
and will take advantage of this knowledge in order to choose its penetration spot as the
weakest spot of the patrol  i e   the segment with minimal ppd  the solution concept adopted
here  as stated in section    is similar to the game theoretic minmax strategy  yielding a
strategy that is in equilibrium  none of the playersrobots or adversaryhas any initiative
to diverge from their strategy   the adversary can learn the patrol scheme by observing the
behavior of the robots for a sucient amount of time  note that in security applications 
such strong adversaries exist  in other applications  the adversary models the behavior of
the system in the worst case scenario from the patrolling robots point of view  similar to
the classical byzantine fault model in distributed systems  see lynch        
in our environment  the robots are responsible only for detecting penetrations and not
handling the penetration  which requires task allocation methods   therefore the case in
which the adversary issues multiple penetrations is similar to handling a single penetration 
as the robots detect  report and continue to monitor the rest of the path  according to their
algorithm 

   a framework for adversarial patrolling of perimeters
the environment we consider is a linear environment  in which at each step the robots can
decide to either go straight or turn around  the framework we suggest is nondeterministic
in the sense that at each time step the decision it done independently  at random  with
some probability p  formally 
 
p
go straight
probability of next move  
   p turn around
since the dierent patrol algorithms we consider vary in the probability p of the next
step  we assert that the probability p characterizes the patrol algorithm 
assume a robot is currently located in segment si   therefore if the robot is facing
segment si     then with a probability of p it will go straight to it and with a probability of
   p it will turn around and face segment si    similarly  if it is facing segment si    then
with a probability of p it will reach segment si  and with a probability of    p it will face
segment si    
note that the probability of penetration detection in each segment si      i  d  is
determined by probability p characterizing the patrol algorithm  therefore ppdi is a function
of p  i e   ppdi  p   however  whenever possible we will use the abbreviation ppdi   by the
denition of ppdi   we need to nd the probability that si will be visited during t time units
by some robot  assuming perfect detection capabilities of the robots  ppdi is determined
only by the first visit of some robot to si   since once the intruder is detected the detection
mission is successful  specically  once the segment is visited  the game is over   note
that ppdi is calculated regardless of the actions of the adversary 
as stated previously  in order to guarantee optimality of the patrol algorithm  the robots
should be uniformly distributed along the perimeter with a distance of d   n k between
every two consecutive robots  and that they are coordinated in the sense that if they are

   

fimulti robot adversarial patrolling

supposed to turn around  they do so simultaneously  in the following theorem and supporting lemmas we prove optimality of these assumptions in a full knowledge adversarial
environment 
lemma   follows directly from the fact that the movement of the robots is continuous 
thus a robot rl cannot move from segment si to segment si j   j      without visiting
segments si             sj  in between  note that since k     it follows that the number of
segments unvisited by rl is greater than  t  otherwise a simple deterministic algorithm
would suce to detect the adversary with probability     therefore during t time units
rl residing initially in segment s  cannot visit segment si   i   t  arriving from the other
direction of the perimeter without visiting the segments closer to its current location  s   
rst  this argument holds for segments to the left and to the right of s    
lemma    for a given p  the function ppdli   n         for constant t and rl residing in
segment s  is a monotonic decreasing function  i e   as the distance between a robot and a
segment increases  the probability of reaching it during t time units decreases 
lemma    as the distance between two consecutive robots along a cyclic patrol path is
smaller  the ppd in each segment is higher and vice versa 
proof  consider a sequence s  of segments s            sw between two adjacent robots  rl and
rr   where s  is adjacent to the current location of rl and sw is adjacent to the current
location of rr   let s  be a similar sequence  but with w    segments  i e   the distance
between rl and rr decreases by one segment  assume that other robots are at a distance
greater than or equal to w    from rl and rr   and that w      t  since a robot may
inuence the ppd in segments that are up to a distance t from it  as it has a probability of
  of arriving at any segment at a greater distance within t time units   the probability of
penetration detection  ppd  in these sequences is inuenced only by the possible visits of rl
and rr  
denote the probability of penetration detection in segment si  sj by ppdi  j      i  w 
j          and the probability that the penetrator will be detected by robot rx by ppdxi  j  
x   l  r   therefore  for any segment si  sj   ppdi  j    ppdli  j    ppdri  j   ppdli  j ppdri  j 
 either rl or rr will detect the adversary  not both   note that either ppdli  j   ppdri  j  or
both can be equal to    we need to show that ppdi      ppdi      for all    i  w  and
for at least one segment sm   ppdm       ppdm      specically  it is sucient to show that
ppdli       ppdri      ppdli    ppdri       ppdli       ppdri      ppdli    ppdri          and for some
i this inequality is strict 
for every segment si   ppdli       ppdli      there is no change in its relative location  
hence we need to prove that ppdri      ppdri      ppdli     ppdri      ppdri       since   
ppdli         in order for the inequality to hold  it is left to show that ppdri      ppdri        
from lemma   we know that ppdri  j  is monotonically decreasing  therefore for each i 
ppdri      ppdri      which completes the proof of this inequality 
it is left to show that for some i   m  ppdrm    ppdrm       ppdlm     ppdrm    ppdrm      
i e   for some m in which ppdlm          ppdrm       ppdrm      robot rr may inuence the
ppd on both of his sides   segments located to the left and to the right of its current
position  denote the number of inuenced segments to its right by y  y may be equal to
    if y      then ppdrwy         ppdrwy      in other words  rr has a probability of  
   

fiagmon  kaminka   kraus

of reaching the segment with a distance of t     from it in s    but in s  it is y segments
away from it  therefore rr has a probability greater than   to reach it  if y      then
ppdrw           ppdrw      as rr lies exactly in segment sw of s    and ppdrw         
theorem    a team of k mobile robots engaged in a patrol mission maximizes minimal ppd
if the following conditions are satisfied  a  the time distance between every two consecutive
robots is equal b  the robots move in the same direction and speed 
note that condition b means that all robots move together in the same direction  i e  
if they change direction  then all k robots change their direction simultaneously 
proof  following lemma    it is sucient to show that the combination of conditions a
and b yield the minimal distance between two consecutive
robots along the cyclic path 
 n  
since we have n segments and k robots  there are k possibilities of initial placement of
robots along the cycle  robots are homogenous  so this is regardless of their order   if the
robots are positioned uniformly along the cycle  then the time distance between each pair
of consecutive robots is n k  this is the minimal value that can be reached  therefore 
clearly  condition a guarantees this minimality 
if the robots are not coordinated  then it is possible that two consecutive robots along
the cycle  ri and ri     will move in opposite directions  therefore the distance between
them will increase from nk to nk      and by lemma   the ppd in the segments between
them will be smaller  if ri and ri   move towards one another  then the distance between
them will be nk    and the ppd in the segments between them will become higher  on the
other hand  some pair rj and rj   exists such that the distance between them increases 
as the total sum of distances between consecutive robots remains n   hence the minimal ppd
around the cycle will become smaller 
therefore the only way of achieving the minimal distance  maximal ppd  is by assuring
that condition a is satised  and maintaining it is achieved by satisfying condition b 
since when facing a full knowledge adversary  the goal of the robots is to maximize the
minimal ppd along the perimeter  the following corollary follows 
corollary    in the full knowledge adversarial model  an optimal patrol algorithm must
guarantee that the robots are positioned uniformly along the perimeter throughout the execution of the patrol 
    the penetration detection problem
the general denition of the problem is as follows 
penetration detection  pd  problem  given a circular fence  perimeter  that is divided into n segments  k robots uniformly distributed around this perimeter with a distance
of d   n k  in time  between every two consecutive robots  assume that it takes t time
units for the adversary to penetrate  and the adversary is known to have full knowledge
of the patrol scheme  let p be the probability characterizing the patrol algorithm of the
robots  and let ppdi  p      i  d be a description of ppdi as a function of p  find the

   

fimulti robot adversarial patrolling

optimal value p  popt   such that the minimal ppd throughout the perimeter is maximized 
formally 
popt   argmax  min ppdi  p  
 p 

 id

to summarize the model and the theorems presented above  an optimal algorithm for
multi robot perimeter patrol under the markovian strategy assumption for the robots has
the following characteristics 

 the robots are placed uniformly around the perimeter with d segments between every
two consecutive robots 
 the robots are coordinated in the sense that if they decide to turn around  then they
do it simultaneously 
 at each time step  the robots continue straight with a probability of p or turn around
with a probability of    p  and if they turn around they stay in the same segment for
 time units 

note that under the above framework  i e  the framework for homogenous robots   the
division of the perimeter into sections of d segments creates an equivalent symmetric environment in the sense that in order to calculate the optimal patrol algorithm it is sucient
to consider only one section of d segments  and not the entire perimeter of n segments 
this is due to the fact that each section is completely equivalent to the other  and remains
so throughout the execution 
we divide the goal of solving the pd problem  i e   nding an optimal patrol algorithm
into two stages 
   calculating the d ppdi functions for each    i  d  this is determined according to
the robotic movement model  directed or undirected   environment model  perimeter fence  and sensorial model  perfect imperfect  local extended  
   given the d ppdi functions  nd the solution to the pd problem  i e   maximize the
ppd in the segment s  with minimal ppd 
these two steps are independent in the sense that incorporating various dierent robotic
models will not change the process of determining the solution to the pd problem  as long
as the result of the procedure are d functions representing the ppd values in each segment 
on the other hand  if we would like to consider dierent goal functions other than
maximizing the minimal ppd  for example maximizing the expected ppd   it can be done
without any change in the rst stage  i e   determining the ppd functions  the important
result is that this framework can be applied to both dierent environment and robotic
models  for example fence patrol   and dierent goal functions  corresponding to dierent
adversarial settings  
   

fiagmon  kaminka   kraus

the rst stage for a the basic model  perimeter patrol  directed movement model of the
robots  robots with perfect local sensing  is described in section      and the second stage
is described in section      extensions of the rst stage to dierent robot motion models
and sensing models are described in section   
    determining the probability of penetration detection
in order to nd an optimal patrol algorithm  it is necessary to rst determine the probability
of penetration detection at each segment si  ppdi    which is a function of p  the probability
characterizing the patrol algorithm  as shown in section       in this section we present a
polynomial time algorithm that determines this probability 
as stated previously  based on the symmetric nature of the system  we need to consider
only one section of d segments that lie between two consecutive robots  without loss of
generality  r  and r    we use a markov chain in order to model the possible states and
transition between states in the system 
in order to calculate the probability of detection in each segment along t time cycles 
we use the graphic model g illustrated in figure    for each segment si in the original
path     i  d  we create two states in g  one for moving in a clockwise direction  scw
i   
and the other for moving in a counterclockwise direction  scc
  
if
r
or
r
reach
one
 
 
i
of the si segments within t time units  then the adversary is discovered  i e   it does not
matter if the segment is visited more than once during these t time units  therefore we
would like to calculate only the probability of the first arrival to each segment  and this is
done by dening the state sdt  corresponding to s  and s    as absorbing states  i e   once
a robot passes through si once  its additional visits to this segment in this path will not
be considered  the edges of g are as follows  one outgoing edge from scw
to scc
i
i exists
cw
with a probability of    p for turning around  and one outgoing edge to si  exists with
a probability of p for continuing straightforward  similarly  one outgoing edge from scc
i to
cw
cc
si exists with a probability    p for turning around  and one outgoing edge to si   exists
with a probability of p for continuing straightforward 
cc

s 

s 

s 

s 

s 

s 

cc

 

 p p

cw

 p  

s 

r 
s

s dt

cw

p

s

 

 

cw

p

s

p

cw

cc

 

p

s

 

 p

s

 

s

 

 p
cc

p

 

 p

s

cc

cc

 

 

p

cw

cc

cw

s 

s 

s 

s dt

 

 

 

 

 

 

 

 

 

 

 

 

p

 p p

 

 

 

 

 

 

 

 

p

 p  

 

 

 

 

 

cc

 

 

 

 

 

 p p

 

 

cw

 

 

 

p

 p  

 

 

 

cc

 

 

 

 

 

 

 

 p p

s 

cw

 

 

 

 

 

p

 p  

 

s dt

 

 

 

 

 

 

 

 

 

s 

 p

s

 

s dt

cc

s 

cw

s 
p

cw

s 

s 

cc

s 

cw

cc

s 

s 

r 

cw

s 

s 
s 

figure    conversion of the initial segments and robot locations into a graphical model  and the
respective stochastic matrix m   each segment corresponds to two states  one going clockwise and one
going counterclockwise  ppdi are all paths starting from scw
and ending at sdt  
i

   

fimulti robot adversarial patrolling

in the following theorem  we prove that the probability of detecting the adversary by
some robot in segment si  i e   the probability of arriving at a segment during t time units 
is equivalent to nding all paths of size at most t to the absorbing state starting at state
scc
i   therefore it is possible to use the markov chain representation for determining ppdi  
as shown in algorithm findfunc 
theorem    determining the probability of penetration detection at segment si   ppdi   is
equivalent to finding all paths of length at most t that start at scw
and end in sdt in the
i
markov chain described above 
proof  for simplicity reasons  in this proof we distinguish between sldt and srdt   which are
the absorbing state to the left and to the right of the markov chain  respectively   although
practically they are represented by the same state sdt  
clearly  due to the d and t values considered  ppdi is determined only by the visits of
the two robots surrounding the section of d segments s            sd   denoted by rl and rr  
recall that the probability of penetration detection in segment si is dened as ppdi  
ppdli   ppdri  ppdli ppdri   where ppdri  ppdli   is the probability that the adversary  penetrating
through si   is detected by rr  rl    we claim that ppdli is equivalent to computing the
r
r
l
paths starting from scw
i and ending at the absorbing state sdt  similarly ppdi by state sdt   
r
l
clearly  under this claim  since a path of length at most t cannot reach both sdt and sdt   it
follows that ppdli ppdri      and the theorem will follow  we prove the claim for ppdli   where
ppdri follows directly 
ppdli is the probability that rl will reach si at least once during t time units  therefore 
we must construct all paths starting from the current location of rl that passes through si  
but take into account only the rst visit to the segment  everything beyond the rst visit
results anyway in probability of detection       at each step rl continues straight with
probability p or turns around with probability    p  this is equivalent to keeping rl in
place  and moving the segments towards rl with probability p and switch the segments
direction with probability    p  hence  every path starting at state scw
i  without loss of
generality  computing paths starting at scc
is
equivalent 
but
requires
switching
the locations
i
of rl and rr in the representation  reaching srdt is equivalent to a path started by rl and
passing through si   since srdt is set to be an absorbing state  every path passing through it
will not be considered again  i e   only the rst visit of rl to si is considered  as required 
using the markov chain  we can dene the stochastic matrix m which describes the
state transitions of the system  figure   illustrates the markov chain and its corresponding
stochastic matrix m used for computing the ppd functions  the probability of arrival at
segment si during t time units  hence the probability penetration detection in that segment 
t
cw
is the scc
 d     s d   entry of the result of vi  m   where vi is a vector of  s  except for a
  on the  i   th location  the formal description of the algorithm is given by algorithm
   note that the algorithm makes a symbolic calculation  hence the result is a set of d
functions of p  the time complexity of algorithm findfunc depends on the calculation time
of m t   which is generally t    d     however  since m is sparse  methods for multiplying
such matrices eciently exist  e g   see gustavson         reducing the time complexity to
t  d     i e  o td     since t is bounded by d     the time complexity is o d    

   

fiagmon  kaminka   kraus

algorithm   algorithm findfunc d  t 
   create matrix m of size   d       d       initialized with  s
   fill out all entries in m as follows 
   m   d       d         
   for i    to  d do
  
m  i  max i       d         p
  
m  i  min    i           p
   compute m t   m t
   res   vector of size d initialized with  s
   for    loc  d do
v   vector of size  d     initialized with  s 
   
   
v   loc    
res loc    v  m t   d     
   
    return res
      handling higher values of 
algorithm findfunc and figure   demonstrate the case in which       i e   if the robot
turns around  with probability    p  it remains in its current position for one time step 
in the general case  when the robot turns around  the cost of turningmodeled in time
can be higher  in such cases  the markov chain is modied to represent the value of   
ccw
specically  for each segment si   instead of having two corresponding states  scw
i and si   
cw
ccw
we have      states  si and si   and one set of     states for turning around to each
direction  from cw to ccw and vice versa   the probabilities assigned to each of the edges
ccw and
is    p for the rst outgoing edge from scc
i to the rst intermediate state towards si
ccw
cc
  for each edge on that direction  and similarly on the path from si to si   see figure
  for an illustration  the matrix m is lled out according to the new chain  and the time
complexity of creating this matrix grows in a factor of  from   d     t to    d     t  
however  as long as  is a constant  the total time complexity does not change 
s 

s 

s 

s 

s 

s 

r 

r 
s

p

cw

s

 

p

cw

s

 

p

cw

s

 

 p

   p

   p

   p

 

 

 

 

cw

 

p

s dt

 
 

 

s dt

 

 
 

s

cc

 

p

 

 p

s

 

 

 p
p

 

 
cc

 

p

 p

s

cc

 

p

 p

s

cc

 

figure    illustration of the markov chain when       and specically  here      

   

fimulti robot adversarial patrolling

    an optimal adversarial patrol algorithm for full knowledge adversaries
in cases in which the robots face a full knowledge adversary  it is assumed that the adversary
will take advantage of this knowledge to nd the weakest spot of the patrol  i e   the segment
with minimal probability of penetration detection  therefore an optimal patrol algorithm
to handle such an adversary is the one that maximizes the minimal ppd throughout the
perimeter  hence we need to nd an optimal p  popt   such that the minimal ppd throughout
the perimeter is maximized 
also here  since our environment is symmetric  we do not need to consider the entire
patrol path  but only a section of d segments between two consecutive robots  the input in
this procedure is the set of d ppdi  p  functions that were calculated in the previous section
 section      
after establishing d equations representing the probability of detection in each segment 
we must nd the p value that maximizes the minimal possible value in each segment  where
p is continuous in the range p          denote these equations by ppdi  p      i  d  the
maximal minimal value that we are looking is the p value yielding the maximal value inside
the intersection of all integrals of ppdi  p   the intersection of all integrals is also known as
the lower envelope of the functions  sharir   agarwal        
observing the problem geometrically  consider a vertical sweep line that sweeps the
section        and intersects with all d curves  it seeks the point p in which the minimal
intersection point between the sweep line and the curves  denoted by ppd  p   is maximal 
this p is the maximin point  since the segment        and the functions ppd            ppdd are
continuous  this sweep line solution cannot be implemented  we prove in the following
lemma that this point is either an intersection point of two curves  or a local maxima of
one curve  see figure     see algorithm   for the formal description of algorithm findp 

figure    an illustration of two possible maximin points  marked by a full circle   the curves represent
d ppdi  p  functions in p          on the left  the maximin point is created by the intersection of two
curves  on in the right  the maximin point it is the local maxima of the lowest curve 

in the following  we prove that algorithm findp nds point p such that the maximin
property is satised 
lemma    a point p yields a maximin value ppd  p  if the following two properties are
satisfied 
a  ppd  p   ppdi  p     i  d 

   

fiagmon  kaminka   kraus

b  one of the two following conditions holds  ppd  p  is an intersection of two curves  or
more   ppdi  p  and ppdj  p  or a local maxima of curve ppdk  p  
proof  property a  is derived from the denition of a maximin point  therefore we are
looking for the maximal point that satises property a  we must still show that this point 
ppd  p   is obtained by either an intersection of two or more curves or is a local maxima 
clearly  a maximal point of an integral is found on the border of the integral  the curve
itself   the area which is in the intersections of all curves lies beneath parts of curves 
ppdi            ppdim   such that ppdij is the minimal curve in the section between two points

j
j j
 lj   rj   and m
j    l   r             by nding the maximal point in each section ppdmax  
max f  x   x   lj   rj     and choosing the maximal between them  i e   max ppdjmax      j 
m   we obtain ppd  p   in each section  lj   rj   the maximal point can be either inside the
section or on the borders of the section  the former case is precisely a local maxima of
ppdij   the latter is the intersection point of two curves ppdij    ppdij or ppdij   ppdij    
lemma    a point p exists yielding a maximin value ppd  p      
proof  in order to prove the lemma  we need to show that the intersection of all integrals
ppd            ppdd in the x section         and the y section        is not empty  it suces to
show that for every ppdi   ppdi  x           x     
each function ppdi      i  d represents the ppd in a segment si between two robots 
from our requirement that t  d       for        it follows that in all models we consider 
for     p     the ppd      note that if p     or p      then ppd is either   or    but this
does not contradict the fact that we have a point guaranteeing ppd  p      
algorithm findp nds this point by scanning all possible points satisfying the conditions
given in lemma    and reporting the x value  corresponding to the p value  with a y value
dominated by all ppdi   the input to the algorithm is a vector of functions ppdi      i  d
and the value t  computing the intersections between every pair of functions costs d  t   
d  for all pair computation  t  for nding the root of the polynomial using  for example  the
lindsey fox method presented by sitton  burrus  fox  and treitel         computing the
dominance of the resulting points with respect to all other curves is d  t as well  therefore
the time complexity of algorithm findp is the complexity of algorithm findfunc  o   nk      
with additional cost of o t  d      o   nk       the algorithm itself   i e   jointly o   nk      
theorem    algorithm findp f  t  finds point p yielding the maximin value of ppd 
proof  algorithm findp checks all intersection points between the pair of curves  and the
points of local maxima of the curves  it then checks the dominance of these points  i e  
whether in the location these points have a lower value compared to all other curves  and
picks the maximal of them  therefore  if such a point is found  by lemma    this point is
precisely the maximin point  moreover  by lemma   this point exists 
    examples
we have fully implemented algorithm findp in order to nd the optimal maximin p for pairs
of ds and ts  we use the following examples to illustrate how the relation between t and d
is reected in the ppd values  recall that when running a deterministic patrol algorithm in
   

fimulti robot adversarial patrolling

algorithm   algorithm findp d  t 
   f  algorithm findfunc d  t  
   set popt    
   for fpivot  f      d do
  
compute local maxima  pmax   fpivot  pmax    of fpivot in
  
for each fi      i  d do
  
compute intersection point pi of fi and fpivot in the
  
if fpivot  pi     fpivot  pmax   and fpivot  pi    fk  pi  k
  
popt  pi  
  
if fpivot  pmax     fpivot  pi   and fpivot  pi    fk  pi  k
popt  pmax  
   
    return  pmax   fpivot  pmax    

the range        
range        
then
then

all scenarios we handle  the minimal ppd is    we assume the robots are initially heading
to the clockwise direction 
first of all  we have seen that the minimal ppd achieved after running findp was always
more than    as t d     i e   t increases  then the value of the maximin ppd increases  and
vice versa  i e   as t d       then the value of the maximin ppd decreases  this can be seen
clearly in figure    in this case  we have xed the value of t to   and checked the maximin
ppd for    d      when t d is close to    d      t      the maximin ppd          and
the value decreases to      when t d is close to      d       t       similar results are seen
if we x the value of d and check for dierent values of t 

figure    on the left  results of maximin ppd for xed t     and dierent values of d  the possible
maximin ppd decreases as d increases  on the right  results of maximin ppd for xed d      and
dierent values of t  the possible maximin ppd increases as t increases 

in figure    we present the values of the ppd in all    segments  for all dierent possible
values of t     d       it is seen clearly  that the value of ppd usually decreases as
the distance from the left robot increases  until it reaches the segment with maximin ppd 
then the value rises again until reaching the current location of the robot to the right  the
reason lies in the fact that the segments to the left of the segment with the maximin ppd
are inuenced mostly by the robot on the left  and the segments to the right of that point
are mostly inuenced by the robot to the right  since the ps yielding the maximin point
in this example have value of greater than     for all ts  the segment having the maximin
value is to the right of the midpoint 
   

fiagmon  kaminka   kraus

figure    ppd values in all    segments for all t values    to    

   accounting for movement constraints and sensing uncertainty
in this section we describe various ways in which the basic framework of multi robot patrol
can be used to solve the problem of nding an optimal patrol algorithm in various other
settings  first  we describe the case in which the movement model of the robots is not
necessarily directed  we then discuss various sensing capabilities of the robots in perimeter
patrol  imperfect local sensing  perfect long range sensing and imperfect long range sensing 
finally  we describe the case in which the robots should travel along an open polyline  fence 
rather than a perimeter 
    dierent movement models
a basic assumption of the robotic framework is that the robots movement model is directed
in the sense that if a robot has to go back to visit a point behind it  it has to physically
turn around  this directed movement model is suitable for various robotic types  for example dierential drive robots commonly used in robotic labs  however  in some cases the
robots movement is undirected  for example if the robot travels along train tracks we will
demonstrate in this section how the basic framework can be used also in the latter case 
i e   if the robot movement is undirected 
we examine the dierence in the markov chain and the resulting ppd in three dierent
cases 
   bidirectional movement model  denoted by bmp  here  the robots movement pattern
is similar to movement on tracks or a camera going back and forth along a xed course
 omnidirectional robots   in this model  the robots have no movement directionality
in the sense that switching directionsright to left and vice versadoes not require
physically changing the direction of the robot  turning around  

   

fimulti robot adversarial patrolling

   directional costly turn model  denoted by dcp  the basic framework discussed to
far for      the robots movement is directed  and turning around is a special
operation that has an attached cost in time  specically  we show the results here for
     
   directional zero cost model  denoted by dncp  which is a special case of the dcp
model with       the robots movement is directed  yet turning around does not
take extra time  this is coherently dierent from bmp  as in each step the robot does
not go either right or left  but straight or back  where each could be either to the
right or to the left  depending on the current heading of the robot  
the basic framework can be used for handling all three models simply by adapting the
markov chain to the current model  this changes only lines      in algorithm findfunc  a
description of the markov chains are described in figure    in the bmp model  it moves one
step to the right  segment i      with a probability of p and one step to the left  segment
i   with a probability of  p  this model is similar to a random walk  the corresponding
markov chain is simple  edges exist from si to si   with a probability of p and from si to
si  with a probability of    p  with no related direction   in both the dncp and dcp
models  we assume directionality of movement  hence the robot continues its movement in
its current direction with a probability of p  and turns around  rewinds  with a probability
of    p  in dcp  if the robot turns around it will remain in segment i  as described in
figure     in the dncp model  the chain is similar to the one above  however edges will
cc
cc
cw
exist from scw
i to si   and from si to si  with a probability of    p  see figure   for an
illustration of dncp  dcp and bmp as a markov chain 
s 

s 

s 

s 

s 

s 

r 

r 
s

s dt

cw

p

s

 

dcp

cw

 p
p

s

cc

cc

cw

dncp

cw

s

cc

s

 

s dt

s

s

cc

s

 

p

p

p

p

 

p

cc

 

cw

p

s

 

cw

 

p

s

s

 

 p

 

s dt

 p

cc

s

 

cc

 

 p

p
p
p

 p

s dt

 p

s

 

 p

cc

cw

p

p

 

 p
p

bmp

s

p

 

p

p

 p s  

cw

 p

s

 

p

s dt

s
 p

s

 

p

 

s
 p

s

 

s dt

 

 p

figure    conversion of the initial segments and robot locations into a graphical model in all three
movement models 

   

fiagmon  kaminka   kraus

we examined the dierence between the resulting ppd values in the three models in a
case where d       t       figure     it is clearly noticeable that the dcp model yields
less or equal values of ppd compared to dncp model throughout the segments  the reason
is because when turning around  in the dcp model  the operation costs an extra cycle 
therefore the probability of arriving at a segment decreases  compared to the case in which
turning around is not costly  another interesting phenomena is that the ppd values of the
bmp are considerably higher  and close to    than the values obtained by other models
for segments closer to the location of the righthand side robot  the value then decreases
dramatically around the value of t and then increases back again  recall that here there is
no directionality of movement  therefore the probability of going right is       and going
left is                   which explains this phenomena  one might have expected to have
p       in the random walk model  bmp   however by choosing an equal probability for
going right and left  the robots will necessarily neglect the segments further away from them
 the mid segments between two consecutive robots   resulting in a lower minimal ppd 

figure    results of maximin ppd values for d      and t      for all three models  dncp  dcp
and bmp  the maximin ppd values are circled 

    perimeter patrol with imperfect penetration detection
uncertainty in the perception of the robots should be taken into consideration in practical
multi robot problems  therefore we consider the realistic case in which the robots have
imperfect sensorial capabilities  in other words  even if the adversary passes through the
sensorial range of the robot  it still does not necessarily detect it 
we introduce the impdetect model  in which a robot travels through one segment per
time cycle along the perimeter while monitoring it  and has imperfect sensing  denote the

   

fimulti robot adversarial patrolling

probability that an adversary penetrating through a segment si while it is monitored by
some robot r and r will actually detect it by pd    
note that if pd      revisiting a segment by a robot could be worthwhileit could
increase the probability of detecting the adversary  therefore the probability of detection
in a segment si  ppdi   is not equivalent to the probability of first arriving at si  as illustrated
in section       but the probability of detecting the adversary during some visit y to si  
   y  t  denote the probability of the yth visit of some robot to segment si by wiy  
therefore ppdi is dened as follows 
ppdi   wi  pd   wi      pd     wi  pd   wi      pd            wit  pd    

   

in other words  the probability of detecting the penetration is the probability that it
will be detected in the rst visit  wi   pd   plus the probability that it will not be detected
then  but during later stages  this again is the probability that it will be detected during
the second visit  wi   pd   or at later stages  and so on 
note that after t time units  wit     for all currently unoccupied segments si   and if a
robot resides in si   then wit is precisely     pd  t  
one of the building blocks upon which the optimal patrol algorithms are based  is the
assumption that the probability of detection decreases or remains the same as the distance
from a robot increases  i e   it is a monotonic decreasing function  this fact was used in
section   in proving that in order to maintain an optimal ppd  the robots must be placed
uniformly around the perimeter  with a uniform time distance   and maintain this distance
by being coordinated  in order to show this here as well  we rst prove that the probability
of detection monotonically decreases with the distance from the location of the robot 
lemma    let s    st            s    s    s            st   be a sequence of  t segments  where robot
ra resides in s  at time    then i     ppdi  ppdi     and i     ppdi  ppdi   
proof  first  assume that i      positive indexes   by equation    we need to compare
  p   w      
between wi  pd   wi      pd     wi  pd   wi      pd            wit  pd     and wi  
d
i  
  p   w       p            w t
pd     wi  
d
d
i  
i    pd      it is therefore sucient to show that
m   for all    m  t  we prove this by induction on m  as the base case  consider
wim  wi  
    this is accurately proven in lemma    based
m      i e   we need to show that wi   wi  
on the fact that the movement of the robots is continuous  therefore in order to get to a
segment you must visit the segments in between  the formal proof also uses the conditional
probability law  
m   denote the
we now assume correctness for m   m  and prove that wim  wi  
probability that a robot placed at segment si will return to si within r time units by xi  r  
in our symmetric environment  for every i 
and j  xi  r    xj  r   moreover  r  xi  r  
m  
xi  r      therefore wim can be described as r ut wim   u   xi  r   and similarly wi  

m 
m 
m 
 wi  
  and since xi  r   
r ut wi    u   xi    r   by the induction assumption  wi
m
m
xi    r   it follows that wi  wi     proving the lemma for positive indexes 
the negative indexes are a reective image of the positive indexes  but with t   time
units  since the induction was proven for all t values  the proof for the negative indexes
directly follows 

   

fiagmon  kaminka   kraus

the following theorem follows directly from lemma    the idea behind this is that
since the probability of penetration detection decreases as the distance from the robots
grow  both minimal ppd and average ppd are maximized if the distance between the robots
is as small as possible  since the patrol path is cyclic  this is achieved only if the distance
between every two consecutive robots is uniform  and remains uniform  note that theorem
   below is a generalization of theorem   for imperfect sensing  based on the fact that that
the general structure of the ppd function remains the same even if the robots might benet
from revisiting a segment  and by that increasing the ppd in that segment  
theorem     in the full knowledge adversarial model  a patrol algorithm in the impdetect
model is optimal only if it satisfies two conditions  a  the robots are placed uniformly
around the perimeter  b  the robots are coordinated in the sense that if they turn around 
they do it simultaneously  by assuring these two conditions  the robots preserve a uniform
distance between themselves throughout the execution 
algorithm for nding ppdi with imperfect sensorial detection 
find the probability of penetration detection with pd    results in a dierent markov
chain  hence a dierent stochastic matrix m   figure   demonstrates the new graphical
model and the new resulting stochastic matrix m  compared to figure    in which pd      
cc
the dierence in the algorithm is in the division of s  to two states  scw
  and s    the
addition of the absorbing state sdt that represents the detected state and the transitions
between these states  the ppdi is therefore obtained after t     steps  compared to t steps 
in the sdt s location in the result vector 
the time complexity of the algorithm remains o d    
s 

s 

s 

s 

s 

s 
cc

r 

r 

s

cw

s

 

 p

cw

s

 

p

s

 

 p
cc

p

p

cw

s

 

 p

s

cc

 

p

 

s

 

p

s

cw

 

pd

  p   pd  

 p
cc

p

s

cc

 

p  pd  

s

cc

 

pd

cc

cw

cc

cw

s 

s 

s 

s 

s dt

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

cc

 

 

 

 p p

 

 

 

 

 

 

cw

 

p

 p  

 

 

 

 

 

 

 

cc

 

 

 

 

 

 p p

 

 

 

 

cw

 

 

 

p

 p  

 

 

 

 

 

cc

 

 

 

 

 

 

 p

 

 

s 
s 

cw

s 

cc

p

cw

s 

p

s 
 

cc

s 

 p  

s 

s dt

cw

s 

 

s 

cw

 p p

s 

cc

s 
p

cc

s 

cw

s 
p  pd  

cw

s 

s 

 
p  pd  

 

p

 

 

 

 

p

 p  

 

 

 

 

 

 

 

    p   p
d

 

 

 
 

pd

s 

cw

 

 

 

 

 

 

  p  pd     p   p
d   

pd

s dt

 

 

 

 

 

 

 

 

 

 

 

figure    conversion of the initial segments and robot locations into a graphical model  and the
respective stochastic matrix m for the imperfect sensing model 

   

fimulti robot adversarial patrolling

    improving sensing capabilities in perimeter patrol
in this section we present further enhancements by considering various sensing capabilities
of the robots  specically  we rst consider the case in which a robot can sense beyond
its currently visited segment  we then oer a solution to the case in which the robot can
sense beyond its current position  yet its sensing capabilities are not perfect  and change as
a function of the distance from its current position 
      extending  perfect  sensing range
in this section we consider the lrange model  in which the sensorial range of a robot exceeds
the section which it currently resides in  use l to denote the number of segments the robot
senses beyond the segment it currently occupies  if l      we refer to the l segments as
shaded segments  note that the location of the shaded segments depends on the direction
of the robot shading them  and they are always in the direction the robot is facing 
a trivial solution to dealing with such a situation is to enlarge the size of the segment 
and thus enlarge the length of the time unit used as base for the system  such that it will
force l to be    however  in this case we lose accuracy of the analysis of the system  as the
length of the time cycle should be as small as possible to also suit the velocity of the robots
and the value of t 
in general  the values of t that can be handled by the system are bounded by its relation
to d  the distance between every two robots along the path    see section    if l      this
changes  specically  if l      then the possible values of t considered are d 
   t  d    
however  if l      then it is possible to handle even smaller values of t  i e   even if the
penetration time of the adversary is short  formally  the possible values of t are given in
the following equation 
d 
ltdl 
 
if t is smaller than d 
   l  then an adversary with full knowledge will manage to
penetrate with a probability of    i e   there is a segment  sl     which is unreachable within
t time units  on the other hand  if t is greater than d  l     then a simple deterministic
patrol algorithm will detect all penetrations with a probability of    we assume that during
the  time units the robot turns around  it can sense only its current segment 
this change in the sensing model of the robot is reected in the markov chain  as seen in
cw
figure     the change is that we add  l arrows to the absorbing state sdt   from scw
            sl
cc
cc
and sd           sdl     the stochastic matrix m changes accordingly  and the probability of
penetration detection in segment si becomes the result of the vector multiplication m t   vi  
where vi is a vector of size  d     with all entries   except for entry corresponding to the
location of scw
i   which holds a value of    similar to the process described in algorithm
findfunc     
      extending the sensorial range along with imperfect detection
in many cases  the actual sensorial capabilities of the robot are composed of the two characteristics described in the previous sections  i e   the robot can sense beyond its current
segment  however the sensing ability is imperfect  therefore in this section we introduce
   

fiagmon  kaminka   kraus

l  
cc

s 

s 

s 

s 

s 

s 

s 

cc

 

cw

cc
cw

s

cw

p

s

 

cw

 p

s

s

cw

p

s

cc

 

p

p

s

 

 p

cc

 

p

 

 

cc

 p

s

cc

 

 

p

 p

s

cc

 

s dt

cw

cc

cw

s 

s dt

 p p

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 p p

 

 

 

 

 

p

 p  

 

 

 

 

 

 

 

 

 

 

 p p

 

 

 

 

 

p

 p  

 

 

 

cc

 

 

 

 

 

 

 

 

 

s 

cw

 

 

 

 

 

p

 p  

 

s dt

 

 

 

 

 

 

 

 

 

s 
 

cw

s 

s 
 

cc

s 

s 

cw

cw

s 

s 

r 

cc

s 

s 

r 

cw

s 

s 
s 

s 

figure     an illustration of l segments shaded by robot r  in this case r is facing right  therefore
the shaded segments are to its right  the markov chain changes accordingly  therefore also the stochastic
matrix m  

the impdetlrange sensorial model  which is a combination of the lrange and the impdetect
models  here the robot can sense l segments beyond its current segment  yet the pd in
each segment varies and is not necessarily    we therefore describe how to compute ppdi in
this case  which deals with the most realistic form of sensorial capabilities  duarte   hu 
       imperfect  long range sensing 
the information regarding the sensorial capabilities of the robots includes two parameters  the rst describes the quantity of the sensing ability  i e   the number of segments that
exceeds the current segment in which robot resides  for which it has some sensing abilities 
denoted by l  the second parameter describes the quality of sensing in all segments the
robot can sense  this is given in the form of a vector vs    v    v            vl    where vi is the
probability that the robot residing in s  will detect a penetration that occurs in segment si  
we assume that the values in vs decrease monotonically  i e   as i increases  vi decreases or
remains the same 
the markov chain in this model  as illustrated in figure     changes in order to reect
the imperfect sensing along with the long range sensing  the absorbing state sdt exist
in addition to the states scw
  and s  cc  the transition probabilities are added from  l
segments  i  j    i  l  d  l      j  d  a transition from scw
i to s  with probability vi
cc
and from sj to s  with probability vdj     in addition  the transition from scw
i to si cc is
cw with probability     p     v
with probability     p     vi    from scc
to
s
dj      hence
j
j
cw
cw
cc
cc
the transition probability from si to si  is p    vi   and from sj to sj   is p    vdj     
the probability of penetration detection in segment si is the result of m t   multiplied
by vi in location s  of the result vector  note that also here  similar to the solution described
in section      since we added a new absorbing state  which takes an extra step to reach  
ppdi is the result in the product of the stochastic matrix and vi in location s  after t    
time steps  not t  

   

fimulti robot adversarial patrolling

v    v   
s 

s 

s 

s 

s 

s 
cc

r 

s 

r 

cc

s 
p  v   

cw

s 

v 

s

p

s

 

 p

cw

s

 

p

s

 

 p
cc

p

cw

 

 p

s

cc

 

p

s

p

 

p  v   

s

cw

 

  p   v
   

  p   v   

cc

cc

cc

 

s

cw

s

p  v   

 

p  v   

s

 

v 

v 

cw

cc

cw

s 

s 

s 

s dt

 

v 

   

 

 

 

 

 

 

 

 

 

 

  p  v    v 

 

 

 p p

 

 

 

 

 

 

p

 p  

 

 

 

 

 

 

 

cc

 

 

 

 

 

 p p

 

 

 

 

cw

 

 

 

p

 p  

 

 

 

 

 

cc

 

 

 

 

 

 

 

 p

cw

 

 

 

 

 

p

 p  

 

p  v     

 

 

 

 

 

    p   v
 

s 
s 
s 

cc

v 

cc

s 

 

s 

p

cw

s 

 

s 
 

cc

s 

 

  p   v
 
 
  p  v

  p   v
    

cw

s 

cw

s 

s dt

cc

s 

cc

s 
cw

 

cw

s 

 

p

 

 

 

 
 

v 

cw

s 

 

 

 

 

 

 

  p  v      p   v
    

v 

s dt

 

 

 

 

 

 

 

 

 

 

 

figure     an illustration of l segments shaded by robot r  where the probability of detection is not
necessarily    in this case r is facing right  therefore the shaded segments are to its right  the markov
chain and the stochastic matrix m changes accordingly 

    multi robot adversarial patrolling along fences
in our general work  and specically in previous sections  we assumed the robots travel
around a closed  circular  area  in this section we discuss patrolling along an open polyline 
also known as fence patrol  first  we will discuss how this patrol is dierent from perimeter
patrol  we will then describe an algorithm for determining ppdi in fence patrol assuming
the robots have perfect sensing capabilities  and nally we will provide an algorithm for
robots with imperfect sensing 
      patrolling along a closed polyline vs  an open polyline
in the following  we describe why patrolling along an open polyline is more challenging than
patrolling in cyclic environments  closed polyline  
the rst reason lies in the fact that the robots are required to go back and forth along
a part  or parts  of the open polyline  as a result  the elapsed time between two visits of
a robot at each point along this line can be almost twice as long as the elapsed time in a
circular setting  in figure     we are given two environments  a closed polyline  circle   a 
and an open polyline  b   note that open polylines b  and c  are equivalent in the sense
that each robot travels through one segment per time step  regardless of the shape of the
section  both lines a  and b  are of the same total length l and with the same number of
robots      in the circular environment  if it takes an adversary more than l   time units to
penetrate   it will never be able to penetrate even if the robots simply continuously travel
with uniform distance between them  however  if the robots travel along an open polyline
 b   the maximal time duration between two visits of the roboteven in the best case  is
 l       elmaliach  shiloni    kaminka         therefore a weaker adversary that has a

   

fiagmon  kaminka   kraus

penetration time which is almost twice as long as in the circular fence might still be able to
penetrate 

a 

b 

c 

figure     illustration of the dierence between patrolling along a line and patrolling along a circle  for
dierent polylines

another reason for the added complication in analyzing the probability of penetration
detection in open polyline environments lies in the asymmetric nature of traveling in the
segments along time  in a circular environment  if the robots are coordinated and switch
directions in unison  then the placement of the robots is symmetric in each time unit  therefore all segments in the same distance from some robot  with respect to its direction  have
the same probability of penetration detection  hence in order to calculate an optimal way
of movement  in our case the probability p of turning around   it is sucient to consider
only one section of d segments  and the resulted p is equivalent throughout the execution 
in an open polyline environment this is not the case  the probability of penetration detection diers with respect to the current location and direction of the robot  therefore
the algorithm that nds the ppd for each segment  needs to calculate the ppd as a function
of p for each segment si for each possible initial location of the robot inside the section 
therefore this results in a matrix of size d  d of the ppd functions  as opposed to a vector
of d functions in the circular fence  
      determining ppdi in an open polyline  fence 
following the framework for multi robot patrol along an open line proposed by elmaliach
et al          we assume each robot is assigned to patrol back and forth along one section of d
segments  given this framework  we would like to compute the optimal patrol algorithm for
the robots along the section  similar to the perimeter patrol case  section       we describe
the system as a markov chain  see figure      with its relative stochastic matrix m   since
the robots have directionality associated with their movement  we create two states for each
segment  the rst for traveling in a segment in the clockwise direction  and the second for
traveling in the counterclockwise direction  the probability of turning around at the end of
each section is    otherwise the robot will continue straight with probability of p  and will
turn around with probability of    p 
note that the main dierence from the perimeter patrol calculation of ppdi lies in the
number of resulting ppdi functions  in perimeter patrol  due to its symmetric nature  there is
one ppdi function for each segment between the current location of each robot  representing
the probability of a robot arriving there during t time units  here  however  ppdi depends
on the current location of the robot  hence for each location of the robot we have d functions
of probability of penetration detection  therefore a total of d  such functions  compared to
d in perimeter patrol  
   

fimulti robot adversarial patrolling

denote the probability of penetration detection in segment si given that the robot is
currently at segment sj by ppdji   in order to calculate the d ppdji function for all    i  j  d 
we create d dierent matrices  m            md   each matrix mi corresponds to calculating ppdji  
i e   the probability of penetration detection in segment si   and from that we calculate ppdji
from every current location sj of the robot  similar to what is done in perimeter patrol  
figure    demonstrates the matrix m  with which ppd i is calculated  the gure describes
the general case of pd     i e   the robot might have imperfect sensing 
cc

s 

s 

s 

s 

s 

cc

 

cw

s 

cw

 

s

p

s

 

cw

 

p

s

cw

 

p

s

  p   p
d  

 p

cc

p  pd  

 

s

cc

 

s

cc

 

p

 

 

s

p  pd  

s dt
 p

cc

 

 

cw

cc

cw

s dt

s 

s 

 p p

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

cc

 

 

 

  

 

 

pd

cw

  p  pd    p   p
d    

 

 

 

 

pd

cc

 

 

 

 

 

 p p

 

 

cw

 

 

 

p

 p  

 

 

 

cc

 

 

 

 

 

 

 

 p

cw

 

 

 

 

 

p

 p  

 

 

 

 

 

 

 

 

s 
s 
s 
s 

pd

cc

s 

s 

cw

cw

s 

s 

s

cc

s 

s 
pd

cw

s 

s dt

p

s 

  p   p
d  p  pd

 

p

figure     description of the system as a markov chain  along with its stochastic matrix m for
calculating the ppd in segment s   

      optimal algorithm for fence patrol
in the case of fence patrolling  the ppd value depends on the current location of the robot 
consequently  the optimal p value characterizing the patrol of the robots is dierent for
each segment si   where    i  d  therefore there could be dierent optimal p values with
respect to both location and orientation of the robot   d values   however  it is sucient
to calculate the ppd values only d times  and not  d times only for one direction  as the
other direction is a reective image of the rst 
in order to nd the maximin point for the fence patrolling case  we use algorithm
maximinfence  which nds the value p such that the minimal ppd is maximized  using
algorithm findp that computes this point by nding the maximal point in the integral
intersection of all curves  ppdi    the complete description of the algorithm is shown in
algorithm   
algorithm   procedure maximinfence d  t 
   m  findfenceppd d  t 
   for i    to d do
  
opp  i   findp d  t  with additional given input m  i  as a vector of ppd functions 
   return opp

   

fiagmon  kaminka   kraus

   summary
this paper presents the problem of multi robot patrolling in strong  full knowledge  adversarial environments  in this problem a team of robots is required to repeatedly visit
some path  in our basic case a perimeter  and detect penetrations that are controlled by an
adversary  we assume the robots act in a strong adversarial model  in which the adversary
has full knowledge of the patrolling robots and uses this knowledge in order to penetrate
through the weakest spot of the patrol  we describe a framework for the basic case of multirobot patrol around a closed polygon  and use this framework for developing  in polynomial
time  an optimal patrol algorithm  i e   an algorithm that strengthens the weakest spot of
the patrol  this framework is then extended in order to solve the problem also in an open
fence environment and in various movement and sensing models of the robots 
the paper makes several assumptions allowing the computation of an optimal strategy
for the patrolling robots  one such assumption is the rst order markovian strategy of the
patrolling robots  although proving or disproving the optimality of using rst order markovian strategy is hard  it could be interesting to examine the case of higher order markovian
strategies and compare their time complexity and performance to the solution discussed
here  another direction for future work involves non uniform environments  in which the
utility obtained from detecting penetrations on one hand or succeeding in penetration on
the other is not uniform throughout the environment  other challenges left for future work
include handling heterogenous robots and non linear environments 

   acknowledgments
preliminary results appeared in proceedings of the ieee international conference on
robotics and automation         in proceedings of the tenth conference on intelligent
autonomous systems        and in proceedings of ijcai workshop on quantitative risk
analysis for security applications  qrasa          this research was supported in part by
isf grant          and           and most grant           we thank the anonymous
reviewers for constructive comments and helpful suggestions  and as always  thanks to k 
ushi 

references
agmon  n   kaminka  g  a     kraus  s          multi robot fence patrol in adversarial
domains  in proceedings of the tenth conference on intelligent autonomous systems
 ias      pp          ios press 
agmon  n   kraus  s     kaminka  g  a          multi robot perimeter patrol in adversarial settings  in proceedings of the ieee international conference on robotics and
automation  icra  
agmon  n   kraus  s     kaminka  g  a          uncertainties in adversarial patrol  in proc 
of the ijcai      workshop on quantitative risk analysis for security applications
 qrasa  

   

fimulti robot adversarial patrolling

ahmadi  m     stone  p          a multi robot system for continuous area sweeping tasks 
in proceedings of the ieee international conference on robotics and automation
 icra  
almeida  a   ramalho  g   santana  h   tedesco  p   menezes  t   corruble  v     chevaleyr  y          recent advances on multi agent patrolling  lecture notes in computer
science               
amigoni  f   gatti  n     ippedico  a          multiagent technology solutions for planning
in ambient intelligence  in proceedings of agent intelligent technologies  iat     
basilico  n   gatti  n     amigoni  f       a   extending algorithms for mobile robot
patrolling in the presence of adversaries to more realistic settings  in proceedings
of the ieee wic acm international conference on intelligent agent technology
 iat   pp         
basilico  n   gatti  n     amigoni  f       b   leader follower strategies for robotic patrolling in environments with arbitrary topologies  in aamas  pp       
chevaleyre  y          theoretical analysis of the multi agent patrolling problem  in proceedings of agent intelligent technologies  iat     
coppersmith  d   doyle  p   raghavan  p     snir  m          random walks on weighted
graphs and applications to on line algorithms  journal of the acm         
duarte  m  f     hu  y  h          distance based decision fusion in a distributed wireless
sensor network  telecommunication systems                   
elmaliach  y   agmon  n     kaminka  g  a          multi robot area patrol under frequency constraints  in proceedings of the ieee international conference on robotics
and automation  icra  
elmaliach  y   agmon  n     kaminka  g  a          multi robot area patrol under frequency constraints  annals of math and artificial intelligence                   
elmaliach  y   shiloni  a     kaminka  g  a          a realistic model of frequencybased multi robot fence patrolling  in proceedings of the seventh international joint
conference on autonomous agents and multi agent systems  aamas     
gustavson  f  g          two fast algorithms for sparse matrices  multiplication and
permuted transposition  acm trans  math  softw             
haynes  t     sen  s          evolving behavioral strategies predators and prey  in ijcai   workshop on adaptation and learning in multiagent systems  pp       
lynch  n  a          distributed algorithms  morgan kaufmann 
paruchuri  p   pearce  j  p   tambe  m   ordonez  f     kraus  s          an ecient
heuristic approach for security against multiple adversaries  in proceedings of the
sixth international joint conference on autonomous agents and multi agent systems
 aamas     
paruchuri  p   tambe  m   ordonez  f     kraus  s          security in multiagent systems
by policy randomization  in proceedings of the sixth international joint conference
on autonomous agents and multi agent systems  aamas     
   

fiagmon  kaminka   kraus

pita  j   jain  m   ordonez  f   tambe  m   kraus  s     magorii cohen  r          eective solutions for real world stackelberg games  when agents must deal with human
uncertainties  in proceedings of the eighth international conference on autonomous
agents and multiagent systems  aamas     
sak  t   wainer  j     goldenstein  s  k          probabilistic multiagent patrolling  in
proc  of the   th brazilian symposium on artificial intelligence  sbia      pp     
    
sharir  m     agarwal  p  k          davenport schinzel sequences and their geometric
applications  cambridge university press 
shieh  j  s     calvert  t  w          view and route planning for patrol and exploring
robots  advanced robotics                
sitton  g   burrus  c   fox  j     treitel  s          factoring very high degree polynomials 
signal processing magazine  ieee                 
stewart  w  j          introduction to the numerical solution of markov chains  princeton
university press 
vidal  r   shakernia  o   kim  h  j   shim  d  h     sastry  s          probabilistic pursuitevasion games   theory  implementation  and experimental evaluation  robotics and
automation  ieee transactions on                 

   

fi