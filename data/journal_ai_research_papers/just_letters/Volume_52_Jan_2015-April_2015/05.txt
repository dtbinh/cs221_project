journal of artificial intelligence research                  

submitted        published      

revision by history
paolo liberatore

liberato dis uniroma  it

sapienza university of rome  diag
via ariosto           rome  italy

abstract
this article proposes a solution to the problem of obtaining plausibility information 
which is necessary to perform belief revision  given a sequence of revisions  together with
their results  derive a possible initial order that has generated them  this is different from
the usual assumption of starting from an all equal initial order and modifying it by a sequence of revisions  four semantics for iterated revision are considered  natural  restrained 
lexicographic and reinforcement  for each  a necessary and sufficient condition to the existence of an order generating a given history of revisions and results is proved  complexity
is proved conp complete in all cases but one  reinforcement revision with unbounded sequence length  

   introduction
many belief revision operators are based on some sort of plausibility order  spohn       
boutilier        nayak        williams        areces   becher        zhang        benferhat  kaci  le berre    williams        hild   spohn        ferme   hansson        
whenever revising can be done in two or more different ways  the result is the disjunction of
either all of them  alchourron   makinson        fagin  ullman    vardi        winslett 
      or the most plausible ones only according to the order  gardenfors        katsuno
  mendelzon        peppas        nebel        ferme   hansson         fewer disjuncts
imply more formulae  therefore  the more discriminating the order  the more informative
the result  a fine grained order is central to the usefulness of the revised knowledge base 
iterated revision provides itself a way for obtaining a plausibility order  even starting
from an all equal plausibility order  the least discriminating one   each revision changes it by
making some possibilities more plausible than others  spohn        boutilier        nayak 
      williams        booth   meyer        jin   thielscher         a sequence of revisions
produces an order that  depending on the revising formulae  is more or less informative  in
some cases  this is a solution to the problem of obtaining a plausibility order  by a sequence
of previous revisions  konieczny   pino perez        baltag  gierasimczuk    smets        
however  even a long history of revisions may not produce a fine discrimination  in a limit
case  after revising by a  a  a  a  etc   the final order only discriminates models of a from
models of a 
is there any other way to obtain an initial plausibility order  one possibility is to derive
it from knowledge of the previous results  this can also be done for merging  liberatore 
    b      a   in other words  not only the previous revising formulae are given  but also
the results they produced  if k  is the initial knowledge base and p  the first revising
formula  the result is another knowledge base k    which can be further revised by p    in
this article  all ki s and pi s are assumed known up to a certain point 
c
    
ai access foundation  all rights reserved 

filiberatore

p

p

p

p

 
 
 
n
k  
k  
k  
k        kn  
kn

such a sequence of consistent formulae  k    p    k            pn   kn   is called a revision sequence  it gives information about the initial plausibility order over models  like the following example shows 
example   let  k    p    k    be the revision sequence where 
k    a
p    a
k    a  b  c
this specific k    a  b  c is not the only possible result of revising k    a by
p    a  while for example a  b  c was also possible  a  b  c is the actual revision
result  this means that the model  a  b  c  was considered more plausible than  a  b  c  
another model of p    this information can be useful in subsequent revisions 
a revision sequence may be seen as a form of training  the first n revisions are manually performed by human operators  the following others are done automatically using the initial plausibility order obtained from the training  technically  from the revision sequence  k    p    k            pn   kn   containing the revising formulae and their resulting
knowledge bases up to kn   one derives an initial plausibility order  which is revised by
p            pn   pn     pn           to obtain kn     kn           a similar mechanism has been studied
by nittka and booth         a comparison with their approach is in the conclusions 
example   as a part of a research project  phd student polyxena is tasked with automating the incorporation of new data in a database  a process so far manually performed by the
database maintainers  a specialized group of people  she soon realizes that the information
to be incorporated may be disjunctive  so that revisions may be done in multiple ways  introducing data in the form either a or b when both a and b are in the database requires
erasing either a  b or both  studying the relevant literature on the topic  she finds out that
such choices require plausibility information  since the previous revisions were performed by
the database maintainers  they possess this information  she therefore asks them about the
rank of the models  getting answers ranging from what do you mean  to i rank brazilian
redhead models at the top  but swiss models are not bad  after spending half an hour trying
to explain to them the concepts of plausibility  consistency  propositional models  and how
they differ from fashion models  and ranking  she gives up 
when she is about to leave the room  one of the maintainers suggests to her to have
a look at the logs  since these files record everything that happened to the database  she
does  and indeed all previous revisions are stored in the logs  both the new information
and how the database maintainers incorporated it  the problem now shifts from eliciting
a rank from the database maintainers  which proved difficult  to determining it from the
previous history of revisions  she finds out that the sequence of revisions and results is
natural compatible  definition    but not compatible with the other revisions  this means
   

firevision by history

that not only an initial plausibility order can be calculated using lemma    but also that the
people who performed the previous revisions had  unknowingly  adopted a policy of minimal
plausibility change 
apart from the remarks of the operators  admittedly surreal for comedic purposes  the
example shows a not so uncommon scenario  a process performed by hand is to be automated  and eliciting information from the people who have performed it so far is difficult 
first  this information may have never been expressed in an explicit form  second  it may
be hard to formalize for people lacking a background in formal logic 
in the case of belief revision  the information needed to perform the subsequent revisions
is the initial order of the models  however  eliciting an order is not as easy as it may seem  as
shown by research on the similar concept of preference  sandholm   conen        carson  
louviere         not to mention the experimental results in cognitive psychology  tversky
  kahneman         after being given some background information  the majority of the
participants in a test reckoned linda is a bank teller and is active in the feminist movement
to be more likely than linda is a bank teller  while probability theory forbids a  b to be
more likely than a 
furthermore  providing plausibility information is an additional work for the people who
have manually performed the process so far  instead  as example   shows  some information
may be derived from the previous history of revisions 
another example is in data synchronization  the syncml protocol  oma        allows
synchronizing data  phonebook  calendar notes  etc   between a mobile phone and a computer  but conflicts may arise  an implementation may then ask the user what to do  or
take a decision  like phone always wins  which may however be later manually reversed
by the user  either way  the result tells how the conflict should have been solved  again 
both the revising formula and the resulting knowledge base are given  and can be used to
derive information about the unknown plausibility order 
as example   shows 
from the knowledge of a revision sequence
 k    p    k    p    k            pn   kn   some information about the initial plausibility of models
can be derived  such an information depends on the revision semantics  and some sequences
are not generated at all by some semantics 
example   let  k    p    k    p    k    p    k    be the revision sequence defined as follows 
k    a
p    b
k    a  b
p    c
k    a  b  c
p    a
k    a
it will be shown that there exists an initial order of the models that generates this sequence
using the natural revision semantics  by contrast  no order generates it with the restrained
and lexicographic semantics 
   

filiberatore

the technical results provided by this article are  first  equivalent formulations for the
problem of establishing the existence of an order generating a revision sequence using the
natural  lexicographical  restrained and reinforcement revision  second  how an initial order
can be built if one exists  third  a complexity characterization 
since the number of models is exponential in the number of variables  there exists an
order over models such that        is a quantification over a data structure that may be
exponential in size  as a result  brute force search takes double exponential time  the
equivalent formulations avoid this high computational cost by recasting the problem in
terms of polynomial size data structures 
the problem of establishing the existence of an initial order generating a given sequence
is conp complete in all cases but one  reinforcement revision with unbounded sequence
length   therefore showing that the problem can be expressed as the validity of a qbf 
this proves that the problem can be recast in a form that does not contain the existential
quantification over the initial order 

   preliminaries
belief revision as considered in this article is on propositional formulae built on a finite
alphabet of variables  a truth evaluation over such an alphabet is called a model  a function
from the variables to either true or false  following a common terminology of propositional
logic  if a model satisfies a formula then it is a model of the formula  and the formula
has that model  the set of models of a formula f is denoted mod f    a qbf is a
propositional formula where the variables are quantified  either universally  like in a a 
b   existentially  like in ab a  b  or both  like in ab a  b   when all variables are
universally quantified the formula is a qbf  
a revision sequence represents the evolution of beliefs over time  including both the
revising formulae and their results 
definition   a revision sequence is an odd sequence of consistent propositional formulae
 k    p    k            pn   kn   over a finite set of variables 
the semantics for belief revision considered in this article work on an ordering of the
models  representing their relative plausibility  which is modified when new information
arrives  such orderings can be defined as follows 
definition   a total preorder c is a partition of the models into a finite sequence of classes
 c     c     c             c m   with c        
intuitively  such a partition represents a way to compare models  i and j compare the
same if they are in the same class  i compares greater than j if it is in a class of higher
index  the use of partitions instead of the usual notation i  j simplifies definitions and
proofs  since classes can be empty  except the first   several partitions may represent the
same way of comparing models  this is not a problem as total preorders are never checked
for equality in this article 
a total preorder can be depicted as a shelf  as in figure    the bottom drawer c   
contains the most plausible models  these represent the situations currently believed possible  c      mod k     revising c by p  changes it into a new preorder cp  that takes into
   

firevision by history

account the new information  the class cp      contains the models that are now considered
the most plausible  therefore  cp        mod k    

c   
c   
c   
c   
c   
c   
c   
c   

figure    the graphical representation of a total preorder c
such a partition formalizes the plausibility of models  models of c i  are more plausible
than models of c i       the lower the class  the more plausible the model  for this reason 
a total preorder is often seen as representing implausibility rather than plausibility  it is
inverse of an ordinal conditional function  spohn          i    n if and only if i  c n  
the study of two of the semantics considered in this article involves the prefixes and
the maxsets of a sequence  sequences are denoted using brackets          given a sequence of
formulae  p            pn    its h prefix is the sequence containing only its first h    formulae in
the sequence  the maxset of a sequence extends the concept of maximal consistent subsets
from sets to sequences 

maxset  p            pn      maxset    p            pn   


 maxset  q            qi   p      p            pn   


if q       qi  p  is consistent
maxset  q            qi     p    p            pn     

maxset  q            qi   true    p            pn   



otherwise
maxset  q            qn         q            qn  
a sequence of formulae used in a context where a propositional formula is expected
implicitly represents the conjunctions of its formulae  for example  a   b  c  c  d  means
a   b  c   c  d    according to this notation  q       qi  p  is inconsistent if and only
if  q            qi      p    as a result   q            qi   true  can be replaced by  q            qi   p    in
the definition of a maxset 
by definition of prefixes and maxsets  they commute  the h prefix of the maxset of a
sequence is the same as the maxset of the h prefix of the same sequence  as a result  if p is
the h th element of the sequence s then p  maxset s  if and only if p maxset prefixh  s  
is consistent 
the maxset is often written maxset p            pn   as a shorthand of maxset  p            pn    
a number of properties of maxsets are now shown  all proofs are in the appendix 
   

filiberatore

lemma   if f is consistent and f    maxset p            pn    then maxset p            pn   
 pi      i  n and f    pi   
lemma   if f is consistent and f    maxset p            pn    every consistent subset of
 p            pn   that contains all formulae entailed by f is equivalent to maxset p            pn   
in this article  a sequence of formulae where some of them are replaced by true is called
a subsequence  this is similar to the usual definition  with the difference that formulae
maintain their position in the sequence 
lemma   if f is consistent then f     maxset p            pn   if and only if there exists a
subsequence r of  p            pn   such that 
   r is consistent 
   if f    pi then pi  r 
   for some i  pi   r and pi  prefixi  r  is consistent 
the conditions in the lemma are all of existential type  there exists r  there exists
a model for r  either f     pi or pi  r and pi  prefixi  r  is consistent  this proves
that checking f     maxset p            pn   can be expressed as the validity of a qbf  and is
therefore in np 
corollary   if f is consistent  checking f     maxset p            pn   is in np 
the lemma avoids constructing the maxset one formula at time by replacing the test
of satisfiability of pi  prefixi  maxset p            pn    with f    pi   which is the same if f is
consistent and entails the maxset  this way  the sequence of satisfiability checks required
to build the maxset are parallelized  that is  turned into a number of validity checks that
can be performed in parallel 
in order to check f  maxset p            pn    one first checks whether f   
maxset p            pn    and then maxset p            pn      f   assuming that the first condition
is true  the second can be shown in conp 
theorem   if f is consistent  checking f  maxset p            pn   is in conp 
in this article  only revisions satisfying the agm postulate   are considered  k  p 
k  p if k  p is consistent  also  all formulae pi and ki in the sequences are assumed
consistent  when checking a sequence for being generated by some total preorder  ki  pi
is consistent if and only if ki  ki  pi   in particular  if the sequence is generated by some
total preorder and ki  pi is consistent then by the agm postulate ki  pi is equivalent
to ki   conversely  if ki  ki   pi is consistent then the consistency of ki implies that of
ki   pi   this property is important because it allows replacing a satisfiability test with
an unsatisfiability test 
   

firevision by history



p

p

 

figure    natural revision

   natural revision
natural revision  boutilier        modifies a total preorder of plausibility of models c in
light of a new piece of information p into a new total preorder cp that is as close as possible
to the original one  in the new preorder p has to be true in all most plausible models  these
of cp      a minimal change of c ensuring this is setting cp     to be the minimal models
of p according to c  leaving the rest of the preorder unaltered 
definition   the natural revision of the total preorder c by formula p is defined as the
total preorder cp that follows  where i is the minimal index such that c i   mod p       
 

cp  j   

c i   mod p   if j    
c j     cp     otherwise

for example  cp       c i   mod p    while cp       c       cp       c    cp     
graphically  the change that p produces to the preorder in natural revision can be depicted
as cutting out the lowest models of p and placing them below the others  as shown in
figure   
if cp       pi is the result of revising c by p    then p    etc  using natural revision  then
mod ki     cp       pi     in the revision sequence  k    p    k            pn   kn   
example   let c    c     c     be the total preorder such that 

c      mod a 
c      mod a 
revising it by p    b  p    c and p    a using natural revision generates the revision
sequence in example    indeed  revising c by p    b makes the minimal models of p  to
form the new class zero  since c     mod p        the index i in the definition of natural
revision is zero  the resulting preorder is therefore 
   

filiberatore

cp        c     mod p      mod a  b 
cp        c    cp        mod a  b 
cp        c    cp        mod a 
since mod k      cp       it follows that k   a  b  a similar change happens when
revising by p    c  since cp      mod p         which implies i     
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b 
cp  p        mod a 
again  mod k      cp  p       which implies k   a  b  c  the minimal models of
p    a are the entire class cp  p       therefore  i     and the preorder becomes 
cp  p  p        mod a 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b 
this proves that k   a  the revision sequence coincides with that of example   
looking at this example in the other direction  it shows that the revision sequence  a  b  a 
b  c  a  b  c  a  a  is generated by natural revision from some preorder  it will be proved
that this is not the case for restrained and lexicographic revisions 
the aim of this article is to establish whether a sequence is generated by some preorder 
and finding it  unfortunately  a direct search in the space of total preorders is unfeasible 
the number of models is exponential in the number of the variables  and the number of
total preorders is therefore a double exponential  fortunately  for natural revision this
difficulty can be overcome thanks to a necessary and sufficient condition for a sequence to
be generated by some total preorder  a number of lemmas are needed to prove it  the first
shows that the revising by a formula does not alter the relative order of models that are
not in the resulting knowledge base 
lemma   if cp      mod f      then cp compares the models of f as c does  where cp
is the natural revision of the total preorder c with formula p  
this result can be iterated over a number of revising formulae  if the resulting knowledge
bases ki are all inconsistent with a formula f   the relative order of models of f is not
changed  the result of a final revision by f can therefore be calculated from the original
ordering  in this case  the following lemma is formulated over a fragment of a revision
sequence because this is how it is later applied 
   

firevision by history

lemma   let  kj   pj             pi   ki   be a revision sequence generated by natural revision
from a total preorder c  if kj  pi is consistent while none of kj    pi           ki   pi is 
then cpj        pi       mod kj  pi   
this lemma is similar to a result by boutilier        thm       but lifts the assumption
that all conjunctions kj  pj             ki   pi  are consistent  it shows that if pi is
consistent with a previous kj   then natural revision by pi produces a result that can be
determined from kj only  independent of the initial preorder  the following lemma covers
the other case  where pi is inconsistent with all previous kj  
lemma   if the revision sequence  k    p    k            pi   ki   is generated by natural revision
from the total preorder c and pi is inconsistent with each of k            ki    then the models
of ki are the minimal models of pi according to c 
the last two lemmas prove that  for natural revision  ki is equivalent to kj  pi for
the maximal j for which this conjunction is consistent if one exists  otherwise is determined
from the initial preorder  the first is a necessary condition for the existence of a total
preorder generating the sequence 
definition   a revision sequence  k    p            pn   kn   is natural compatible if  for every
i              n   it holds 
   ki    pi  
   if j is the maximal index such that j   i and kj  pi is consistent  if any   then
ki  kj  pi  
if a sequence is natural compatible then it is generated by natural revision from some
initial total preorder 
theorem   if  k    p    k            pn   kn   is natural compatible then it is generated by natural
revision from the initial preorder c    c             c n       


 mod ki  

if i  n and l   i   kl  pi    

otherwise  if i  n
c i   

 s mod k     l   j   k  p       if i   n    
j
j
l
natural compatibility is not only a sufficient condition for a sequence being generated
by natural revision from some initial preorder  the following theorem proves that it is also
necessary  therefore  it characterizes exactly the revision sequences that natural revision
generates 
theorem   a revision sequence  k    p    k            pn   kn   is generated by natural revision
from some initial total preorder if and only if it is natural compatible 
the following example illustrates natural compatibility and its application to natural
revision 
   

filiberatore

example   the revision sequence in the previous example is natural compatible  the first
condition of natural compatibility is satisfied  k    a  b implies p    b  k    a  b  c
implies p    c  and k    a implies p    a 
the last preceding formula kj consistent with p    b is k    a  and indeed k   
k   p    a  b  the last preceding formula kj consistent with p    c is k    a  b  and
indeed k    k   p    a  b  c  finally  p    a is consistent with none of k    k    k   
therefore  the second condition of natural compatibility places no constraint on it 
theorem   not only proves that the revision sequence is generated by natural revision
from some preorder  but it also provides one  c      mod a   c      mod a   this was
indeed the preorder used in the previous example to generate the sequence 
natural compatibility can be rewritten as a number of satisfiability and unsatisfiability
tests  in particular  that j is the maximal index having the property can be written as 
kj  pi is consistent and kh  pi is not  for j   h   i  this way  no satisfiability check is
dependent on another  so the problem can be solved with two parallel calls to an np oracle 
one positive and one negative  the assumption that formulae in revision sequences are all
consistent allows rewriting the first 
lemma   checking the existence of a total preorder c generating a revision sequence
 k    p    k            pn   kn   using natural revision is in conp 
the problem is also hard for conp  therefore  it is conp complete 
theorem   the problem of establishing the existence of a preorder generating a revision
sequence using natural revision is conp complete 

   restrained revision
restrained revision  booth   meyer        has in common to natural revision that when
revising a total preorder c by a formula p   the minimal models of p becomes the new class
zero  in addition  every other class is split in two according to satisfaction of p   the models
of p go in the lower class  the others in the higher 
equivalently  every class i is refined  papini        into classes  i and  i      where the
first class contains the models of class i satisfying p and the second the models of class i
not satisfying p   then  natural revision is applied 
definition   the restrained revision of the total preorder c by formula p is defined as the
total preorder cp that follows  where i is the minimal index such that c i   mod p      
and   denotes quotient  integer division  truncated  


 c i   mod p  

cp  j   

if j    
 c  j        cp       mod p   if j     odd

  c  j        c      mod p  
otherwise
p

for example 
cp       c i   mod p   
cp        c           cp      
mod p      c    cp       mod p   and cp        c           cp      mod p    
 c    cp      mod p   since                    using integer division 
   

firevision by history

 

p



 

 

figure    restrained revision
a graphical example of the application of restrained revision to a total preorder is in
figure   
the revision sequence in example   is not generated by any preorder using restrained
revision  this will be proved using a necessary and sufficient condition to the existence of a
preorder generating the sequence  for now  just to illustrate how restrained revision works 
the preorder shown for natural revision is used 
example   let c be the following total preorder 
c      mod a 
c      mod a 
restrained revision by p    b  p    c and p    a generates a revision sequence
different than that in example    since k    mod c      it follows k   a  revising c
by p    b makes the minimal models of p  to be the new class zero and splits every other
class by b b  the resulting total preorder after removing the empty classes is therefore 
cp        mod a  b 
cp        mod a  b 
cp        mod a  b 
cp        mod a  b 
since mod k      cp       it follows that k   a  b  a similar change happens when
revising by p    c 
   

filiberatore

cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
again  mod k      cp  p       which implies k   a  b  c  the minimal models of
p    a are the whole class cp  p       the preorder therefore becomes 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
as a result  k   a  b  c  this revision sequence coincides with that of example  
up to p  but k  is different  as k    a in the previous example  it will be shown that no
preorder generates that sequence using restrained revision 
the following property is similar to lemma   of natural revision  with the difference
that a maxset is introduces to account for the class split 
lemma   let  kj   pj             pi   ki   be a revision sequence generated by restrained revision
from the initial total preorder c  if kj  pi is consistent while none of kj    pi          
ki   pi is  then cpj        pi       mod maxset kj  pi   pj             pi     
this result is the first half of a necessary and sufficient condition for a sequence being
generated by restrained revision from some preorder  which involves the following definition 
definition   a revision sequence  k    p    k          pn   kn   is restrained compatible if  for
every i              n   it holds 
   ki    pi  
   ki  maxset kj  pi   pj             pii   if j is the maximal index such that j   i and
kj  pi is consistent  if any 
   

firevision by history

   either ki    pl or ki    pl for every l   i if no such j exists 
as a side remark  the condition that either ki    pl or ki    pl in the third point of
the definition refers to all indexes l   i  including the ones for which kl is consistent with
a previous kj  
if a revision sequence is restrained compatible it is generated by restrained revision from
some initial preorder  the following lemma specifies which one that is 
lemma   if  k    p    k            pn   kn   is restrained compatible then it is generated by restrained revision from the total preorder c    c             c n        where 


 mod ki  

c i   

if i  n and l   i   pi  kl    
otherwise  if i  n

 s mod k     l   j p  k       if i   n    
j
j
l


the results proved so far can be collected into an equivalent formulation of the existence
of a preorder generating a sequence 
theorem   a revision sequence  k    p    k            pn   kn   is generated by restrained revision
from some initial total preorder if and only if it is restrained compatible 
the sequence in example   can be shown not to be restrained compatible  therefore 
not only it is not generated by restrained revision from the preorder that worked for natural
revision  it is not generated from any other 
example   the revision sequence  k    p    k    p    k    p    k    with k    a  p    b  k   
a  b  p    c  k    a  b  c  p    a  k    a is not restrained compatible  this is
the sequence of example     indeed  p    a is inconsistent with each of k    k  and k   
yet k    a entails neither p    b nor p    b  thereby violating the third condition of
restrained compatibility 
the definition of restrained compatibility involves consistency and entailment checks 
the following lemma rewrites it in a form that can be shown to use only inconsistencies 
lemma    a revision sequence  k    p    k          pn   kn   is restrained compatible if and only
if  for every index i 
   ki    pi  
   for every    j   i  either kj  pi is inconsistent or ki    kl  pi for some j   l   i
or ki  maxset kj  pi   pj             pi    
   for every    j   i  ki    pj   ki    pj   or ki    kl  pi for some    l   i 
since checking equivalence of a consistent formula and a maxset is a problem in conp
by theorem    it can be expressed as a universally quantified formula  as a result  all
quantifiers in the conditions of the lemma are universal  and the whole problem is in conp 
hardness for the same class is easy to prove 
theorem   establishing the existence of a total preorder generating a restrained revision
sequence is conp complete 
   

filiberatore

   intermezzo  multiple preorders
the same revision sequence may be generated by more than one total preorder  examples
exist even with two variables only  such as the sequence  k    p    k    p    k    with k    ab 
p    a  b  k    a  b  p    a  b and k    a  b 
ab

ab

a  b  a  b  a  b
according to lemma    the sequence is generated by restrained revision from the initial
preorder c    c     c     c     c     
c      mod a  b 
c      mod a  b 
c      mod a  b 
c      mod a  b 
however  this is not the only preorder generating the sequence  classes c    and c   
can be swapped  still leading to the same result 
c      mod a  b 
c      mod a  b 
c      mod a  b 
c      mod a  b 
intuitively  revising by a single model formula has always a single possible outcome 
the formula itself  as a result  even if mod k    is now contained in a class greater than
mod k     still the minimal models of p  are mod k    
in a way  this is expected  when revision can only be performed in a single possible
way  the initial preorder is irrelevant  this intuition holds for all considered revisions  and
is confirmed by further simplifying the preorder  indeed  apart from c     the other classes
can be shuffled in every possible way  or even merged 
c      mod a  b 
c      mod a  b   mod a  b   mod a  b 
this kind of preorder works whenever each pi has a single model  but not in general 
even restricting to the pi s such that pi  kj     for all j   i  if l   i then pi  kl is
guaranteed to be inconsistent  but pl  ki is not  in other words  mod ki   cannot always
be swapped or merged with mod kl   
when more than one preorder is possible  a sensible principle is to choose the least discriminating one  such a preorder would compare i different from j only if strictly necessary
to obtain the revision sequence  in other words  it does not carry plausibility information
that does not follow from the revision sequence  such a minimization is similar in spirit
   

firevision by history

to the way rational closure in conditional logic is the most rationally rooted consequence
relation  lehmann   magidor        booth   nittka         the last preorder shown
obeys this principle  but the question of whether a least discriminating preorder exists for
all revision sequences and all considered revision semantics is an open problem 
a different possible solution is to proceed by refutation 
if a sequence
 k    p    k            pn   kn   is generated by a revision from some preorder but
 k    p    k            pn   kn   pn     kn     is not  then kn   might be considered true
after revising by pn    
as correctly pointed out by one of the reviewers  a revision sequence may even be
generated by different revisions from different initial preorder  adding a second dimension
to the problem  not only the preorder  but also the semantics of revision has to be chosen 
the sequence shown in this example is one of this kind  it is generated by all four revision
semantics considered in this article from every initial preorder c with c      mod a  b  

   lexicographic revision
in a seminal work on iterated revision  spohn        defined a tentative semantics based
on the principle that newer formulae are more plausible than older ones at all levels of
plausibility  even the most unlikely models of p are to be preferred over the most likely
of p   in spite of some apparent drawbacks pointed out by its author  this semantics was
later recognized as a principled way to perform iterated revision  nayak        darwiche  
pearl        booth   meyer        jin   thielscher        konieczny   pino perez        
like the other revisions used in this article  lexicographic revision works on a total
preorder of plausibility of models c  in particular  revision by p changes it by moving all
models of p to classes of index lower than the others 
definition   the lexicographic revision of a total preorder c by a formula p is defined
as the following total preorder  where i and j are respectively the indexes of the lowest and
highest classes containing models of p  
 

cp  k   

c k   i   mod p  
if k  j  i
c k  j   i     mod p   otherwise

the new class zero is cp       c     i   mod p    as expected  it comprises the minimal
models of p   since c i  is the lowest class containing models of p   the class cp  j  i   
c j  i   i   mod p     c j   mod p   contains the highest class models of p   since by
assumption these are in c j   the models of c    that satisfy p   if any  are moved to
class cp  j  i        c j  i      j   i     mod p     c    mod p    the index is
j  i     because the lower classes cp              cp  j  i  contain the models of p coming
from c i           c j  
figure   shows how a total preorder c is changed by a formula p using lexicographic
revision 
graphically  lexicographic revision cuts out the models of p from their classes and
wedges them under the shelf  this way  every model of p belongs to a lower class than all
models of p   at the same time  the relative position of two models of p is not changed 
and the same holds for every two models of p  
   

filiberatore

p


 

p

figure    lexicographic revision
example   it will be shown that the sequence in example   is not generated by lexicographic
revision from any total preorder  meanwhile  to illustrate the definition of lexicographic
revision the preorder used in the example for natural revision is revised by p    b  p    c
and p    a 
c      mod a 
c      mod a 
revising c by p    b using lexicographic revision removes all models of p  from their
classes and creates new classes for them at the bottom 
cp        mod a  b 
cp        mod a  b 
cp        mod a  b 
cp        mod a  b 
as a result  k    a  b  revising by p    c has a similar effect 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 
   

firevision by history

cp  p        mod a  b  c 
cp  p        mod a  b  c 
cp  p        mod a  b  c 

this preorder produces k    a  b  c  finally  revising by p    a and removing the
empty classes makes the classes            to become the new classes            
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 
cp  p  p        mod a  b  c 

since k    a  b  c is not equivalent to a  the revision sequence in example   is
not generated by lexicographic revision from the initial preorder c  it will be shown that no
preorder at all generates that sequence using lexicographic revision 
for every preorder c and consistent formula p   the revised preorder cp using lexicographic revision has three properties 
   cp     is the set of minimal models of p in the preorder c 
   there exists an index h such

s

i       h cp  i 

  mod p   

   if two models both satisfy p or both falsify it  cp compares them as c does 
lexicographic revision can be recast in terms of the maxsets of the reversed sequence 
booth and nittka        proved the following property  more precisely  what they proved
implies the following property because an arbitrary preorder  c             c n   is obtained
by revising the ordering with all models in class zero with a sequence of formulae having
c n           c    as their sets of models 
property   if  k    p            kn   pn   is a revision sequence generated by lexicographic revision from the total preorder c  then mod ki   is the set of minimal models of
maxset pi           p    according to c 
this property has the following consequences 
   all models of ki are in the same class of c 
   

filiberatore

   all other models of maxset pi           p    are in greater classes 
two further properties follow  first  if ki kj is consistent then all models in mod ki  
mod kj   are in the same class of c  indeed  since ki  kj is consistent  it has a model
i  since all models of ki are in the same class of i  and the same for kj   all models of
these two formulae are in the same class  second  if kj has some models in common with
ki  maxset pi           p     then all its models are in the same class of c  greater than that
of the models of ki  
this allows shifting from a total preorder among models to a total preorder among
formulae ki   since this is a preorder over the formulae ki   which are the results of the
revision process  it is called a result preorder 
definition   a result preorder for the revision sequence  k    p            pn   kn   is a total
preorder among its formulae ki such that 
   if ki  kj is consistent then ki and kj are in the same class 
   if ki  kj  maxset pi           p    is consistent then ki is in a lower class than kj  
the advantage of result preorders is that they can be built from the revision sequence 
as it will be shown  before  it is proved that the existence of a result preorder is the
same as the existence of an initial total preorder over models generating the sequence by
lexicographic revision  since two preorders are involved  one among models  one among
formulae   a distinction is made between preorder among models c and preorder among
formulae r  result preorders are of the second kind 
lemma    if a revision sequence  k    p    k            pn   kn   is generated by lexicographic
revision from the total preorder among models c then it has the result preorder r defined
by 
r i     ki   mod ki    c i  
the converse also holds  from a result preorder for a revision sequence one can derive a
preorder among models that generates the sequence using lexicographic revision 
lemma    if r is a result preorder for a revision sequence  k    p    k            pn   kn   such
that ki    maxset pi           p    for every i  then lexicographic revision from the following
total preorder c among models generates the revision sequence  where z is the index of the
greatest class of r 
  s

c h   

 mod ki     ki  r h   if h  z
 i   i   k       kn  
if h   z    

the two lemmas together imply the following corollary 
corollary   a revision sequence  k    p            pn   kn   is generated by lexicographic revision
from some initial preorder among models if and only if a result preorder for the sequence
exists and ki    maxset pi           p    for every i 
   

firevision by history

the condition of existence of a result preorder is already simpler than that of existence
of an initial total preorder over models  since the number of formulae ki is linear in the size
of the revision sequence while the number of models may be exponential  the existence of
a result preorder can be further recast in terms of a condition over the revision sequence 
definition   a revision sequence  k    p            kn   pn   is lexicographic compatible if ki   
maxset pi           p    for every i and the relations   and   defined as follows do not form
cycles containing some   links 
 ki   kj if and only if ki  kj is consistent 
 ki   kj if and only if ki  kj  maxset pi           p    is consistent 
the rationale of the definition is that ki   kj is the same as ki and kj being in the
same class of r  and ki   kj is the same as ki being in a lower class  this intuition is
confirmed by the following lemma 
lemma    a revision sequence is generated by lexicographic revision from some total preorder if and only if it is lexicographic compatible 
this result can be applied to the running example 
example   the revision sequence presented in example   is not lexicographic compatible 
indeed  maxset p    p    p      maxset a  c  b    a  c  b  which is not entailed by k   
a  as a result  the revision sequence is not generated by lexicographic revision from any
preorder 
given a revision sequence  one can determine the consistency of ki  kj and ki  kj 
maxset pi           p    for every pair of formulae ki and kj   the problem of non existence of
a preorder generating the sequence is then turned into that of existence of cycles  which is
computationally easy  polynomial in the size of the revision sequence   the hard part is
checking consistency  since the problem is polynomial if an np oracle is available  which
turns all consistency checks into constant time operations   the problem is in p    however 
it can be proved to be even computationally easier than that 
lemma    a revision sequence  k    p    k          pn   kn   is not lexicographic compatible if
and only if either ki     maxset pi           p    for some i or consistent sets r            rn exist
such that 
    pj      j  i and ki    pj    ri for every i  and
   there exists a cycle ki            kim   ki  such that either kij kij   or kij kij   ri
is consistent for all ij   i            im     and the second is consistent for at least one
such index 
the advantage of this reformulation of lexicographic incompatibility is that all entailment tests it contains can be reformulated in terms of consistency  this means that incompatibility is in np  therefore  compatibility is in conp  it can also be shown hard for the
same class 
theorem   the problem of checking the existence of a total preorder generating a revision
sequence using lexicographic revision is conp complete 
   

filiberatore

p


p

figure    reinforcement revision

   reinforcement revision
reinforcement revision  jin   thielscher        takes as input not only a total preorder
to revise c and a revising formula p   but also a parameter m that encodes the degree of
belief in p  more precisely  m is the degree of disbelief in p    for the sake of simplicity 
the restriction to the the case m     is analyzed 
definition    the reinforcement revision of the total preorder c by formula p and parameter m     is the following total preorder cp   where i is the minimal index such that
c i   mod p       
 

cp  j   

c i   mod p  
if j    
c j     mod p    c j   i   mod p   if j    

the general definition has j  m instead of j     in this article  m is always    the two
cases can be merged into the single one cp  j    c j     mod p    c j   i   mod p   for
all j    by assuming that c        for example  cp       c    mod p    c i  
mod p     c i   mod p    while cp       c    mod p    c i       mod p   
a graphical example of a revision is in figure   
the behavior of this revision is shown on the preorder and formulae of example   
example    revising the preorder c    c     c     where c      mod a  and c     
mod a  by p    b using reinforcement revision has the effect of increasing the class of
every model of p  by one  the models of p  do not decrease of class since some of them
are already in class zero  which means that i     in the definition of cp  
cp        mod a  b 
cp        mod  a  b    a  b  
cp        mod a  b 

   

firevision by history

the same happens when revising by p    c  every class is the union of the original class
conjoined with c and of the previous class conjoined with c 
cp  p        mod a  b  c 
cp  p        mod  a  b  c    a  b  c    a  b  c  
cp  p        mod  a  b  c    a  b  c    a  b  c  
cp  p        mod a  b  c 
the minimal class containing models of p    a is cp  p       therefore  models of a
are decreased of one class  models of p    a are increased of one class  as usual 
cp  p  p        mod  a  b  c  
cp  p  p        mod  a  b  c    a  b  c    a  b  c  
cp  p  p        mod  a  b  c    a  b  c    a  b  c  
cp  p  p        mod a  b  c 
as a result  k    a  b  c 
as for the other revision semantics  every ki is assumed consistent  the case of inconsistent ki is degenerated  as no preorder produces such a knowledge base 
given a fixed revision sequence  k    p    k            pn   kn   generated by reinforcement revision from the initial total preorder c  the lowest class index of the models of pi in the
ordering cp       pi is denoted dc  i   formally 
dc  i    min j   cp       pi   j   mod pi       
revising by pi shifts down all models of pi of dc  i  classes and raises all other models
of one class  as a result  dc              dc  n  tell how a model is moved up or down at every
step  allowing to determine how a model is moved between step i and step j 
definition    the movement of i from i to j according to dc in the revision sequence
 k    p    k            pn   kn   is mdc  i  i  j  where 
 mdc  i  i  i      
 mdc  i  i  i        dc  i      if i    pi   and mdc  i  i  i          otherwise 
 if j   i then mdc  i  i  j   

p

l i     j  mdc  i  l  l

     

 if j   i then mdc  i  i  j    mdc  i  j  i  
since dc  i  is the minimal class of models of pi at step i    according to an initial preorder  mdc  i  i  j  is the change of classes between i and j when using the same
preorder  the initial preorder c affects the definition of mdc  i  i  j  only indirectly  via
the sequence dc    dc              dc  n    as a result  mv  i  i  j  can be defined from an
arbitrary sequence of n numbers v    v              v  n   
   

filiberatore

lemma    for every sequence of n numbers v    v              v  n    it holds mv  i  i  j   
mv  i  i  h    mv  i  h  j  for every three indexes i  j and h 
this lemma holds even if h is not between i and j 
since mdc  i  i  j  has been defined so that it is the change of class of model i from step
i to step j  in the particular case where i    ki it is the class of i at step j  since that at
step i is zero 
lemma    if a revision sequence  k    p    k            pn   kn   is generated by reinforcement revision from the total preorder c and dc    dc              dc  n   with dc  i   
min j   cp       pi   j   mod pi        and i    ki then  for every j 
 mdc  i  i  j      if i    kj  
 mdc  i  i  j      otherwise 
this lemma can be reversed  in the sense that a sequence of values having this property
allows to determine a preorder generating the sequence 
definition    a sequence of nonnegative integer values v    v              v  n   is a reinforcement mover of the revision sequence  k    p    k            pn   kn   if  for every i and j  if
i    ki then 
 mv  i  i  j      if i    kj  
 mv  i  i  j      otherwise 
the previous lemma can therefore be recast as  if a sequence is generated by reinforcement revision from the total preorder c  then it has a reinforcement mover  dc   the
converse also holds  from a reinforcement mover one can determine a total preorder generating the revision sequence 
lemma    if v    v              v  n   is a reinforcement mover for the revision sequence
 k    p    k            pn   kn    the following initial preorder c    c             c v            v  n  
     generates the revision sequence by reinforcement revision and dc   v  
 

c j   

 i   i    ki and mv  i  i       j  if j   v               v  n     
 i   i   i     ki  
if j   v               v  n     

in contrast to the condition of compatibility for the other revision semantics  this one
does not explicitly require ki    pi   it is however implied  if i     pi then mv  i  i     i     
by the definition of movement  definition     and if i    ki then mv  i  i  j     for every j
by definition of reinforcement mover  definition      but in the particular case of j   i   
this is mv  i  i  j    mv  i  i  i       mv  i  i     i       which is not greater than or
equal to zero  therefore  no reinforcement mover exists if ki     pi  
this lemma allows checking the existence of a preorder generating the sequence by
guessing v              v  n  and then checking the class of every model i that satisfies at least
a ki   however  membership to the polynomial hierarchy follows only if all such values v  i 
are representable in polynomial space  which is only possible if their values are bounded by
some exponential in the size of the sequence 
   

firevision by history

lemma    if reinforcement revision generates a revision sequence  k    p    k            pn   kn  
from some total preorder  then it also generates the same sequence from a preorder in which
the minimal initial class of models of p  is   or   
this lemma proves that if a sequence is generated by some preorder is also generated by
a preorder c such that dc     is either   or    in particular  if k   p  is consistent then
dc          otherwise dc          this is the base case of a recursive proof giving a bound
on the size of the other dc  i   intuitively  this is done by lowering all models of pi of the
same number of classes in the initial preorder  after revising by pi they will moved together
so that their minimal ones are in class zero  resulting in the same ordering as obtained from
the original one  this lowering cannot however be so large that some of these models enter
class zero at a previous step j if they do not satisfy kj  
lemma    if reinforcement revision generates the sequence  k    p    k            pn   kn   from
a total preorder  it is also generates the same sequence from a total preorder c such that
dc  i       dc               dc  i    i     
this lemma can be seen as the inductive part of a proof  where the previous one was
the base case  they lead to the following conclusion 
lemma    reinforcement revision generates the revision sequence  k    p    k            pn   kn  
from a total preorder if and only if it generates the same sequence from a total preorder such
that each dc  i  is bounded by  i    
the values of dc              dc  n  are bounded by an exponential in the value of n  which
is also a lower bound on the size of the sequence  k    p            pn   kn    therefore  each dc  i 
can be represented in space polynomial in the size of the sequence 
theorem   establishing the existence of a total preorder generating the revision sequence
 k    p            pn   kn   by reinforcement revision is in p    and is in conp if n is a constant 
for the case of constant length sequences  hardness is easy to prove 
theorem   checking the existence of a preorder generating a reinforcement revision sequence  k    p    k            pn   kn   is conp complete  if n is a constant 

   conclusions
belief revision employs plausibility orders to revise a knowledge base  but how to obtain
such orders has largely been neglected  the solution proposed and studied in this article
is to assume knowledge of previous revisions  reversing them to obtain the initial order 
which can be then used in further revisions  this method is similar to deriving the order
from hypothetical revisions like k  p    q  k  r    t   etc   which assumes knowledge of
what would happen if the revising formula is p   if it is r  etc  in the approach considered
in this article the results of iteratively incorporating a series of new formulae are given  like
in nested counterfactuals  eiter   gottlob         booth and nittka        considered the
problem of deriving facts holding at some time points from partial information expressed
   

filiberatore

in terms of positive and negative conditions  i e   some formulae hold and some others
do not hold at certain time points   and this is done by constructing an initial ordering 
their study focuses on lexicographic revision only  but allows for partial knowledge of both
revisions and results  and includes the choice of an initial ordering among the possible ones 
rather than entailment information like k p r    q  in this article the history of revisions
and resulting knowledge bases is assumed fully known  these could be the actual results of
manually performed changes  and may already be available 
the analysis has shown simple equivalent conditions to the existence of an ordering generating a given series of revisions and results for natural  boutilier         restrained  booth
  meyer         lexicographic  spohn        nayak        and reinforcement revisions  jin
  thielscher         the conditions allow to construct such an initial ordering if one exists 
using these equivalent conditions  the complexity of establishing the existence of orderings generating a sequence has been established for the considered semantics  surprisingly 
they turned out to be relatively simple  conp complete in all cases but one  reinforcement
revision with unbounded sequence length   this is the same as checking propositional entailment  which means that checking generability does not increase complexity over that of
the base language of propositional logic 
as shown in section    the same revision sequence may be generated by more than one
ordering  this leads to the question of whether one of them may be considered the most
natural for the sequence  if for example i is less than j in an ordering but not in another 
the second may be seen as more cautious  and in the end more rational  the sequence can
be generated without assuming that i represents a more plausible world than j  so there
is no reason to draw such a conclusion  the question of whether a single least informative
ordering exists for every sequence  in each of the considered revision semantics  is an open
problem 
still open is the comparison of generable sequences in the various revisions  as shown
by the running example  a sequence that is generated by natural revision is generated by
no ordering with the restrained and lexicographic revision  is there any sequence with the
opposite property  if not  natural revision may be seen as more suited at explaining why a
revision sequence has been generated  on the other hand  it may also give less information
about the initial ordering used to generate them  this is the case if the orderings generating
the same sequence are more numerous than in the other semantics 
the four semantics for iterated belief revisions are not the only ones defined in the literature  williams        darwiche   pearl        areces   becher        benferhat et al  
      konieczny   pino perez        zhang         a recent survey counted at least twenty
seven revision related operators  rott         natural and lexicographic semantics are regarded as extreme forms of revision satisfying the darwiche pearl postulates  darwiche  
pearl         where minimal and maximal hearing is respectively given to the new information  restrained and reinforcement revision can be considered to be in the middle  as they
also obey some other conditions  booth   meyer        jin   thielscher         the four
considered semantics therefore constitute a reasonable spectrum of possibilities  but others
exist 
some require additional information  like the strength of every revision  spohn       
williams        benferhat et al          others are families of revisions rather than single
ones  darwiche   pearl        zhang         these  in particular  open an interesting
   

firevision by history

line of research  whether a revision sequence can be generated by some ordering and some
revision semantics satisfying a given set of conditions  like the darwiche and pearl       
postulates  in other words  both the ordering and the semantics are the solution of the
problem  while the given is only the revision sequence 
the assumption of reliability strictly increasing with time also gives other directions to
study  indeed  this principle has been realized as not true in general  peppas        and
iterated revision recognized as a form of prioritized merging  delgrande  dubois    lang 
       in this perspective  giving preference to the last formula is just a particular case 
it is a case of interest  yet searching for the initial plausibility order is also possible in the
general case 
yet another open problem is how to combine the approach in this article with results
about how people actually perform revision  indeed  it has been experimentally proved
that human revision suffers from a number of biases  tversky   kahneman        see 
morrison  rothman    soll        wang  zhang    johnson         such as the anchoring
or order effect  the excessive preference of knowledge acquired early  these studies show
that revision performed by people is not fully rational  contrary to what belief revision
formal semantics attempt to be  such psychological  extra logical biases should be kept
into account when working on sequences of manually performed revisions 
    acknowledgements
the author thanks the anonymous referees for their useful suggestions on the previous
versions of this article 

appendix a  proofs
the following sections contain the proofs of all lemmas and theorems in the article 
a   preliminaries  proofs
lemma   if f is consistent and f    maxset p            pn    then maxset p            pn   
 pi      i  n and f    pi   
proof  since f    maxset p            pn   then f implies every pi that is in the maxset 
the only possibility for the claim not to hold is that f also implies some pi not in the
maxset  since every element of maxset p            pn   is implied by f   also every element
of prefixi  maxset p            pn    is  since f also entails pi   every model of f satisfies both
prefixi  maxset p            pn    and pi   the consistency of pi  prefixi  maxset p            pn   
contradicts the assumption that pi is not in the maxset 
lemma   if f is consistent and f    maxset p            pn    every consistent subset of
 p            pn   that contains all formulae entailed by f is equivalent to maxset p            pn   
proof  by lemma    since f is consistent and f    maxset p            pn   then
maxset p            pn     pi      i  n and f    pi    this proves that maxset p            pn  
contains all formulae entailed by f  
let r be a consistent proper superset of
   

filiberatore

maxset p            pn    let pi be the lowest index formula that is in r but not in
maxset p            pn    since this is the lowest index  r and maxset p            pn   have the
same formulae among  p            pi     since r is consistent  its intersection with this set
is consistent as well  since r also contains pi   it follows that prefixi  p            pn     pi   is
consistent  contradicting the assumption that pi is not in maxset p            pn   
lemma   if f is consistent then f     maxset p            pn   if and only if there exists a
subsequence r of  p            pn   such that 
   r is consistent 
   if f    pi then pi  r 
   for some i  pi   r and pi  prefixi  r  is consistent 
proof  two cases are considered  first  f entails the maxset  second  f does not  in the
first  no such r is proved to exists  in the second  one such r is shown 
if f    maxset p            pn    then f implies all elements of the maxset  as a result 
the second condition can only be true if r contains all formulae in the maxset  if r also
contains some formulae not in the maxset  since a formula not in the maxset is inconsistent
with the maxset  then r is inconsistent  as a result  r can be consistent only if it coincides
with the maxset  this contradicts the third point  showing that for every r  if the first and
the second conditions are true the third is false 
if f     maxset p            pn    the three conditions are satisfied by r containing precisely
the formulae pi entailed by f   this choice meets the first condition because f is consistent
and the second by construction  the third condition is now proved to hold as well 
since f does not entail the maxset then f does not entail some formulae in the maxset 
let i be the least index of a formula in maxset p            pn   that is not entailed by f   by
construction  every formula pj in the maxset is in r if j   i  it can be shown that the
converse also holds  to the contrary  let j   i be the lowest index of a formula in r that is
not in the maxset 
the assumptions that i and j are the least indexes on which r and the maxset differ  in
a way or the other  imply prefixj  r    prefixj  maxset p            pn     since by assumption
pj is not in the maxset  it is inconsistent with prefixj  maxset p            pn     as a result  it is
also inconsistent with prefixj  r   since pj  r  that implies the inconsistency of r  which
was proved consistent 
this contradiction proves that r and the maxset are not only equal up to some index
j   i  but up to i  in other words  prefixi  r    prefixi  maxset p            pn    
by assumption pi is a formula in the maxset that is not in r  being in the maxset
means that pi  prefixi  maxset p            pn    is consistent  as it has just been proved  the
latter is equivalent to pi  prefixi  r   this concludes the proof of the third condition 
theorem   if f is consistent  checking f  maxset p            pn   is in conp 
proof  f  maxset p            pn   holds if f    maxset p            pn   and maxset p            pn     
f   if the first condition is true  by lemma   the maxset comprises exactly the formulae
   

firevision by history

entailed by f   therefore  the converse maxset p            pn       f can only happen if there
exists a model i satisfying all formulae pi entailed by f but not f itself  in other words 
f  maxset p            pn  
iff f    maxset p            pn   and maxset p            pn      f
iff f    maxset p            pn   and  i   i     f and i f    pi  i    pi   
iff f    maxset p            pn   and  i   i     f and i f     pi or i    pi   
iff f    maxset p            pn   and i   i    f or i f    pi and i     pi   

lemma   reformulates the converse of the first condition f    maxset p            pn   using
only existential quantifiers  the second point is equivalent to either f     pi or pi  r  
as a result  the first condition can be expressed using only universal quantifiers  the only
existential quantifier in the second condition is that over i  which can be replaced by a
disjunction  since all quantifiers are universal  the problem is in conp 
a   natural revision  proofs
lemma   if cp      mod f      then cp compares the models of f as c does  where cp
is the natural revision of the total preorder c with formula p  
proof  let i and j be two models of f   m and l their classes  since these are models of f and
cp      mod f       they do not belong to cp      as a result  cp  m        c m  cp    
contains i and cp  l        c l  cp     contains j  this proves that revising c by f
increases the classes of i and j by one each  therefore  i is greater or equal than j
according to cp if and only if it is according to c 
lemma   let  kj   pj             pi   ki   be a revision sequence generated by natural revision
from a total preorder c  if kj  pi is consistent while none of kj    pi           ki   pi is 
then cpj        pi       mod kj  pi   
proof  by lemma    cpj        pi  compares models of pi in the same way c does  as a
result  mod ki   are the minimal models of pi in c  since c      mod kj   and kj  pi is
consistent  these minimal models are c     mod pi     mod kj  pi   
lemma   if the revision sequence  k    p    k            pi   ki   is generated by natural revision
from the total preorder c and pi is inconsistent with each of k            ki    then the models
of ki are the minimal models of pi according to c 
proof  by lemma    revising c by p            pi  does not affect the order between the
models of pi   as a result  the minimal models of pi according to cp       pi  are the minimal
models of pi according to c 
   

filiberatore

theorem   if  k    p    k            pn   kn   is natural compatible then it is generated by natural
revision from the initial preorder c    c             c n       


 mod ki  

c i   

if i  n and l   i   kl  pi    
otherwise  if i  n

 s mod k     l   j   k  p       if i   n    
j
j
l


proof  since no formula has index lower than zero  c    is equal to mod k    and is therefore
not empty  the classes of c contain all models because c n      comprises every model
not in c             c n   to prove that c is a total preorder  it is to be proved that the sets
c i  are disjoint  a model is in c i  with i  n only if it is in mod ki    therefore  it is
also a model of pi   since pi is inconsistent with each of k            ki    the model is not in
any of c             c i      the class c n      contains exactly the models that are not in
c         c n   this proves that c is a total preorder 
the formulae ki are generated in different ways depending on whether kj  pi is consistent for some j   i 
 if such an index j exists  then by the assumption of natural compatibility ki  kj pi
for the maximal such j  by lemma    this is exactly the result of revising c by
p            pi  
 otherwise  pi is inconsistent with each of k            ki    by lemma    mod ki  
are the minimal models of pi in the initial preorder c  since pi is inconsistent with k            ki    then  first  since c             c i     are subsets of
mod k             mod ki     these classes do not contain models of pi   second  c i 
is not empty but equal to mod ki    as a result  the minimal models of pi are exactly
mod ki   

theorem   a revision sequence  k    p    k            pn   kn   is generated by natural revision
from some initial total preorder if and only if it is natural compatible 
proof  the previous theorem shows that every natural compatible sequence is generated
by natural revision from some total preorder  the converse is now proved  if a sequence is
not natural compatible then it is not generated by natural revision from any preorder 
since mod ki     cp       pi   pi       cp       pi   l   mod pi   for some l  it holds
mod ki    mod pi    which is the same as ki    pi   therefore  if ki     pi no preorder can
generate the revision sequence  otherwise  natural compatibility is violated if  for some j
and i 
   kj  pi is consistent 
   formulae kj    pi           ki   pi are inconsistent 
   kj  pi is not equivalent to ki  
   

firevision by history

by lemma    the first two points imply that revising cj by pj             pi generates a
formula equivalent to kj  pi   contradicting the third point  this proves that a revision
sequence that is not natural compatible is not generated by natural revision from any preorder 
lemma   checking the existence of a total preorder c generating a revision sequence
 k    p    k            pn   kn   using natural revision is in conp 
proof  according to theorem    such a preorder c exists if and only if  for every i 
            n   it holds that ki    pi and  if j is the maximal index such that j   i and kj  pi
is consistent  if any   then ki  kj  pi   the first part  ki    pi for all i  can be verified
by a linear number of independent unsatisfiability tests 
the second part can be rewritten as  if kj  pi is consistent and kh  pi is inconsistent
for every h between j and i  then ki  kj  pi   rewriting implication as disjunction  for
every j              i    
   either k  pi is inconsistent or kh pi is consistent for some     h   i or ki  k  pi  
and
   either k  pi is inconsistent or kh pi is consistent for some     h   i  or ki  k  pi  
and
          
   either ki   pi is inconsistent or ki  k   pi  
these are the conditions for index i  they have to hold for every i              n   since
the formulae ki are consistent  the conditions can be simplified  if kj pi is consistent  then
either kh  pi is consistent for j   h   i or ki  kj  pi   in the latter case  ki  kh  pi
for one such index h  the last   therefore  the condition can be recast as 
kj  pi     or ki  kj    pi or       ki  ki   pi or ki  kj  pi
this condition can be checked with a number of independent unsatisfiability tests  and
is therefore in conp 
theorem   the problem of establishing the existence of a preorder generating a revision
sequence using natural revision is conp complete 
proof  membership is proved in the previous lemma  hardness is proved by reduction from
the problem of checking whether a formula g is unsatisfiable  the instance is  k    p    k   
with k    a  k    p    a  g  where a is a new variable  not in g  if g is satisfiable 
then k   p  is consistent  therefore  it should be equivalent to k    instead  it is a  g  if
g is unsatisfiable  then k    p    a is inconsistent with k    by theorem    a preorder
generating the sequence using natural revision exists 

   

filiberatore

a   restrained revision  proofs
lemma   let  kj   pj             pi   ki   be a revision sequence generated by restrained revision
from the initial total preorder c  if kj  pi is consistent while none of kj    pi          
ki   pi is  then cpj        pi       mod maxset kj  pi   pj             pi     
proof  proof is by induction on i  j  when j   i     the claim cpi       mod maxset kj 
pi    holds because kj  pi is consistent by assumption 
the inductive claim is that cpj        pi   pi   pi    
 
mod maxset kj 
pi   pj             pi    pi      the inductive assumption is the same without pi   
cpj        pi   pi       mod maxset kj  pi   pj             pi    
by definition  cpj        pi   pi     is cpj        pi   k   mod pi   where k is the minimal
integer making this intersection non empty  as a result  cpj        pi   l   mod pi      for
all indexes l such that    l   k  revising the preorder by pi  changes the classes of 
 the models of ki    which become class zero 
 the models of the same class  which are split according to whether they satisfy pi   
since no model of ki  satisfies pi by assumption  cpj        pi   pi       mod pi     
holds  none of the classes of cpj        pi  of index    l   k intersect mod pi    therefore 
neither do the ones resulting from splitting them  as a result  the minimal index class
intersecting mod pi   is one of the two resulting from splitting cpj        pi   k   which are 
cpj        pi   k   mod pi   
cpj        pi   k  mod pi   
if the first intersects mod pi    this is mod ki    otherwise  mod ki   is the second  in
formulae 
 

mod ki    

cpj        pi   k   mod pi     mod pi   if not empty
 cpj        pi   k  mod pi      mod pi   otherwise

by the properties of set operators  this equation can be rewritten as 
 

mod ki    

cpj        pi   k   mod pi    mod pi    if not empty
 cpj        pi   k   mod pi    mod pi    otherwise

by the way k was defined  cpj        pi   k   mod pi   is equal to cpj        pi   pi      the
latter is by the inductive assumption mod maxset kj  pi   pj             pi      intersecting
this set with mod pi    if the result is not empty  and subtracting mod pi    otherwise
is the same as adding pi  to the end of the sequence  by the definition of maxset of a
sequence  since mod ki     cpj        pi   pi   pi      this proves the inductive claim that this
set is equal to mod maxset kj  pi   pj             pi    pi     

   

firevision by history

lemma   if  k    p    k            pn   kn   is restrained compatible then it is generated by restrained revision from the total preorder c    c             c n        where 


 mod ki  

c i   

if i  n and l   i   pi  kl    
otherwise  if i  n

 s mod k     l   j p  k       if i   n    
j
j
l


proof  no formula has index less than zero  therefore  c      mod k     which is not empty
because all formulae in the sequences are consistent by assumption  since c n      contains
all models not in c         c n   the union of the classes include all models  and no model
in c n    is also in another classes  in order to prove that c is a partition  it is shown that
no model of c i  is also in c l  with l   i  n  if i  c i  with i  n then i  mod ki  
with pi  kl inconsistent for all l   i  since ki    pi   also ki  kl is inconsistent  this
proves that a model i cannot be in c i  and also in c l  with l   i 
the previous lemma shows that  regardless of the initial total preorder  if a revision
sequence is generated by restrained revision then ki  maxset kj  pi   pj             pii   if
j is the maximal index such that j   i and kj  pi is consistent  if any  since restrained
compatibility ensures that this condition holds  all ki for which such a j exists are obtained
by revision regardless of c 
remains to show that c generates ki even if pi  kl is inconsistent for all l   i  the
models of pi are in c i    mod ki   and classes of greater index  indeed  if a model of
pi were in c l  with l   k then pi  kl would be consistent  revising c by pl   with
l              i     changes the preorder in two ways 
   the models of kl are moved to class zero 
   all other classes are split according to satisfaction of pl  
since pi  kl is inconsistent  no model of pi is moved to class zero  as a result  the
relative position of the models of pi is only modified by the second change  the splitting of
the classes  this could break the class mod ki   in two  but not in this case  indeed  since
either ki    pl or ki    pl   either all models of ki satisfy pl or all falsify pl   in other
words  the change may alter the comparison of two models of pi   but does not if they are
both in mod ki   
two claims are therefore proved  that the models of pi are in c i    mod ki   and
greater classes  and that after the first i    revisions the minimal models of pi are still
mod ki    this proves that the result of the i th revision is ki  
theorem   a revision sequence  k    p    k            pn   kn   is generated by restrained revision
from some initial total preorder if and only if it is restrained compatible 
proof  the previous lemma shows that every restrained compatible revision sequence is
generated by a certain initial preorder  remains therefore to prove the converse  if a
revision sequence is not restrained compatible then it is generated by no initial preorder 
lemma   proves that every sequence generated by restrained revision satisfies the condition that ki  maxset pi  kj   pj             pi    where j is the maximal j   i such that
   

filiberatore

pi  kj is consistent  that ki    pi holds is a consequence of mod ki   being the set of minimal models satisfying pi   remains therefore to prove the necessity of the third condition
of restrained compatibility  if pi is consistent with all kj with j   k then either ki    pl
or ki    pl for every l   i 
to the contrary  let l   i be such that ki     pl and ki     pl   these two conditions
imply that mod ki   contains some models of pl and some models of pl   even if the
models of ki are in the same class after l    revisions  the l th one separates the ones
satisfying pl from the ones satisfying pl   these may end in two consecutive classes  or in
the new class zero and in another class  but either way the models of ki are placed in two
separate classes  since constrained revision never merges classes  these models are still in
separate classes after the i    th revision  as a result  revising by pi can only select a part
of mod ki   and not all of it 
lemma    a revision sequence  k    p    k          pn   kn   is restrained compatible if and only
if  for every index i 
   ki    pi  
   for every    j   i  either kj  pi is inconsistent or ki    kl  pi for some j   l   i
or ki  maxset kj  pi   pj             pi    
   for every    j   i  ki    pj   ki    pj   or ki    kl  pi for some    l   i 
proof  the three conditions of restrained compatibility can be rewritten as follows  for
every index i 
   ki    pi  
   for every j such that    j   i  either kj  pi is inconsistent or kl  pi is consistent
for some j   l   i or ki  maxset kj  pi   pj             pi    
   for every j such that    j   i  either ki    pj or ki    pj or kl  pi is consistent
for some    l   i 
both the second and the third point include kl  pi is consistent for some h  l   i 
in the first  h   j      in the second  h      in the particular conditions of the lemma 
these two conditions will be shown to be equivalent 
   kl  pi is satisfiable for some l such that h  l   i 
   ki    kl  pi for some l such that h  l   i 
it is proved that  first  if the sequence is restrained compatible then condition   implies
condition    second  if the three conditions of the lemma are true then condition   implies
condition   
condition   is that kl  pi is consistent for some h  l   i  either l is the maximal
index with this property or some other index between h and i is  let g be such a maximal
index  by restrained compatibility  ki  maxset kg  pi   pi            pg      the maxset of a
   

firevision by history

sequence implies its first element  if consistent  since this is the case  ki    kg  pi   this
means that condition   holds for index g 
condition   is that ki    kh  pi for some h  l   i  since ki is consistent  kh  pi is
consistent as well  proving condition   for the same index l 
theorem   establishing the existence of a total preorder generating a restrained revision
sequence is conp complete 
proof  membership follows from the previous lemma  its conditions can be all reformulated
as entailments  like ki    pi    inconsistencies  like that of kj  pi   and equivalences with
maxsets  ki  maxset kj  pi   pj             pi      all these problems are in conp  and can
therefore be rewritten as universal quantified formulae  the whole problem is a combination
of these  by renaming all variables and taking out the quantifiers  a single universally
quantified formula results  since qbf is in conp  the problem is in conp 
hardness is proved by reduction from the problem of propositional unsatisfiability  given
a formula f   the associated revision sequence is  a  b  f  a  b   where a and b are fresh
variables  not occurring in f   if f is unsatisfiable then b  f is equivalent to b  and the
sequence  a  b  a  b  is generated by the preorder c    c     c     with c      mod a  and
c      mod a   if f is satisfiable then a   b  f   is satisfiable but is not equivalent to
a  b  which makes the sequence not generated by restrained revision from any preorder 
the sequence is therefore generated by restrained revision from some preorder if and only
if f is unsatisfiable 
a   lexicographic revision  proofs
lemma    if a revision sequence  k    p    k            pn   kn   is generated by lexicographic
revision from the total preorder among models c then it has the result preorder r defined
by 
r i     ki   mod ki    c i  
proof  r is a total preorder because  first  r    is not empty because c      mod k    
which implies mod k     c    and k   r     second  no formula is in two classes of
r because c is a partition  third  every ki is in a class of r because of property   
since mod ki   is a set of minimal models of c  all its models are in the same class c j  
therefore  ki  r j   remains to prove that this preorder satisfies the two conditions for
being a result preorder for the sequence 
if ki and kj are consistent with each other  they have a common model i  let h be
its class  by construction  since i    ki then ki  r h   the same holds for kj   since
i    kj   as a result  kj  r h  
let ki and kj be such that ki kj maxset pi           p    is consistent  by assumption 
the sequence is generated by lexicographic revision from c  as a result  the models of ki are
exactly the minimal models of maxset pi           p    according to c  let h be the class of such
models  by construction of r  it holds ki  r h   all models of ki  maxset pi           p   
belong to a greater class l   h  since ki  kj  maxset pi           p    is consistent  kj has
   

filiberatore

some models in c l   since all models of kj are in the same class  it follows mod kj    c l  
which implies kj  r l   since l   h  the claim is proved 
lemma    if r is a result preorder for a revision sequence  k    p    k            pn   kn   such
that ki    maxset pi           p    for every i  then lexicographic revision from the following
total preorder c among models generates the revision sequence  where z is the index of the
greatest class of r 
  s

c h   

 mod ki     ki  r h   if h  z
 i   i   k       kn  
if h   z    

proof  c is proved to be a total preorder  first  c    is not empty since r    is not empty 
second  no model belongs to more than one class  if i is in both c h  and c l  then by
definition there exists ki  r h  and kj  r l  that are both satisfied by i  this implies
that ki  kj is consistent  since r is a result preorder for the sequence  it follows that l   h 
models of c z      are exactly the ones not contained in the other classes 
remains to be proved that lexicographic revision generates the revision sequence from
c  revising c by p            pi generates ki   since ki    maxset pi           p    by assumption 
all models of ki are also models of maxset pi           p     remains to be proved that they are
the minimal ones  all other models are in greater classes  let h be the class of the models
of ki   and i be a model of ki  maxset pi           p     if i does not satisfy any other kj
then i  r z       and z       h since z is the greatest index of the classes of r  if i
satisfies kj then it satisfies ki  kj  maxset pi           p     which is therefore satisfiable 
since r is a result preorder for the sequence  kj is in a class r l  with l   h  this implies
that i  c l   this proves that every model of maxset pi           p    that is not in mod ki  
is in a class greater than h 
lemma    a revision sequence is generated by lexicographic revision from some total preorder if and only if it is lexicographic compatible 
proof  if the revision sequence is generated by some total preorder then ki   
maxset pi           p    holds for every i  furthermore  a result preorder r for it exists by
lemma     from it  define the relations   and   as  ki   kj if and only if ki and kj are
in the same class r h   ki   kj if ki  r h   kj  r l  and h   l  since r is a revision
preorder for the sequence  if ki  kj is consistent then ki and kj are in the same class 
which implies ki   kj   in the same way  if ki  kj  maxset pi           p    is consistent
then ki is in a lower class than kj   implying ki   kj   a cycle containing   is impossible
because ki   kj means that the class of ki is lower than the class of kj  
this does not prove lexicographic compatibility  which requires ki   kj and ki   kj to
be respectively equivalent to the consistency of ki  kj and ki  ki  maxset pi           p    
not merely implied by them  however  by removing from these relations all pairs ki and
kj not satisfying the respective condition makes these relations weaker  therefore  no new
cycle is created 
to prove the other direction  assume that ki    maxset pi           p    for every i and
that   and   are two relations defined from the sequence as specified in the definition
   

firevision by history

of lexicographic compatibility  a result preorder for the sequence is shown  together with
ki    maxset pi           p     this implies that the revision sequence is generated by some initial
preorder by lemma    
from   and    a relation  is defined  ki  kj if either ki   kj or ki   kj   this
relation is not necessarily transitive  but has a number of other properties 
   if ki   kj then ki  kj and kj  ki   indeed  ki   kj holds only if ki  kj is
consistent  which implies that kj  ki is consistent  therefore  kj   ki   which implies
kj  ki  
   if ki   kj then ki  kj and kj   ki   to the converse  if kj  ki   then either
kj   ki or kj   ki   in both cases  this is a cycle of   and   containing one   link 
which contradicts the assumption that no such cycle exists 
    is reflexive  indeed  all formulae ki are consistent by assumption  therefore  ki  ki
is consistent  which implies ki   ki and ki  ki  
    is suzumura consistent  suzumura         it does not form cycles ki            kim  
ki  such that kij  kij   for all j and for some j also kij     kij   this is proved
below 
properties   and   mean that   and   are the equivalence and strict part of   respectively  indeed  ki  kj holds only if either ki   kj or ki   kj   the former implies
kj  ki   the latter kj   ki   property   is a consequence of this fact and of the assumption
of nonexistence of cycles of   and   containing at least one link   
since  is reflexive  property    and suzumura consistent  property     by the suzumura
extension theorem  suzumura        a total preorder r extending  exists  extending
means that both the equivalence and strict parts of  are preserved in r  since these have
been proved to be   and    the total preorder r has ki and kj in the same class if ki   kj
and ki in a lower class if ki   kj  
if ki  kj is consistent then ki   kj   which implies that ki and kj are in the same
class of r  if ki  kj  maxset pi           p    is consistent then ki   kj   which implies that
the class of ki in r is less than the class of kj   this proves that r is a result preorder for
the revision sequence 
lemma    a revision sequence  k    p    k          pn   kn   is not lexicographic compatible if
and only if either ki     maxset pi           p    for some i or consistent sets r            rn exist
such that 
    pj      j  i and ki    pj    ri for every i  and
   there exists a cycle ki            kim   ki  such that either kij kij   or kij kij   ri
is consistent for all ij   i            im     and the second is consistent for at least one
such index 
proof 
a revision sequence is lexicographic compatible if and only if ki   
maxset pi           p    for all i and there is no cycle as specified by the definition  inverting
   

filiberatore

this condition  a sequence is not lexicographic compatible if either ki     maxset pi           p   
or a cycle exists  as a result  one can check whether ki     maxset pi           p    for some i  if
this is true  no further check is needed  the sequence is not lexicographic compatible  the
presence of cycles is irrelevant in this case  the other case is that ki    maxset pi           p   
for all i  and then the sequence is not lexicographic compatible if and only if it contains
cycles 
the point is that the condition for the presence of cycles can be written under the
assumption that ki    maxset pi           p     since this is the only case where this condition
matters  by lemma    the only consistent subset of  p            pi   containing all formulae entailed by ki is maxset pi           p     this means that ri can be used in place of
maxset pi           p     since the only ri satisfying the first condition in the statement of the
lemma is maxset pi           p    
theorem   the problem of checking the existence of a total preorder generating a revision
sequence using lexicographic revision is conp complete 
proof  membership follows from the previous lemma  the sequence is not generated by
lexicographic revision from any preorder if and only if it is not lexicographic compatible 
which in turns can be checked by existential quantifiers only 
   ki     maxset pi           p    
   there exists ri  
   ri is consistent 
   either ki     pj or pj  ri  
   there exists a cycle ki            kim   ki   
   kij  kij   is consistent 
   kij  kij    ri is consistent 
the first condition can be expressed in terms of existential quantifiers only as shown by
lemma    the same holds for the other conditions as well  as a result  incompatibility is
in np  which means that the existence of preorder generating the sequence is in conp 
hardness is proved by reduction from propositional unsatisfiability  a formula f is
satisfiable if and only if  k    p    k    is generated by no preorder  where k    a  p    a and
k    a  f and a is a new variable not contained in f   indeed  if f is unsatisfiable  then
k    a  and the sequence is generated by the preorder c    c     c     with c      mod a 
and c      mod a   if f is satisfiable  then k  has some models that do not satisfy p   
the ones of f   as a result  k      p    and the sequence is not generated by any preorder 

   

firevision by history

a   reinforcement revision  proofs
lemma    for every sequence of n numbers v    v              v  n    it holds mv  i  i  j   
mv  i  i  h    mv  i  h  j  for every three indexes i  j and h 
proof  if i   j then mv  i  i  j  is the sum of mv  i  l  l    for i   l  j  otherwise  it is the
sum of mv  i  l  l        mv  i  l      l   also mv  i  i  h  and mv  i  h  j  can be expressed
in the same way  if h is between i and j the result follows immediately  otherwise  if i   j
and h   j then mv  i  i  h  includes mv  i  l  l      for l   j  but then mv  i  h  j  includes
mv  i  l      l    mv  i  l  l       which subtracts the same amount from the sum  the
case h   i is similar 
lemma    if a revision sequence  k    p    k            pn   kn   is generated by reinforcement revision from the total preorder c and dc    dc              dc  n   with dc  i   
min j   cp       pi   j   mod pi        and i    ki then  for every j 
 mdc  i  i  j      if i    kj  
 mdc  i  i  j      otherwise 
proof  if a model i is in cp     pi   c  then it is in cp     pi  c  dc  i   if i    pi and in
cp     pi   c      otherwise  as a result  mdc  i  i  i      is the difference between the class
of i in the preorder at step i     and the preorder at step i  since mdc  i  i  j  is the sum
of these amounts from index i to index j  it is the difference between the class of i at step
j and i  if i    ki then its class at step i is zero  as a result  mdc  i  i  j  is the class of i
at step j  this is zero if i    kj and greater otherwise 
lemma    if v    v              v  n   is a reinforcement mover for the revision sequence
 k    p    k            pn   kn    the following initial preorder c    c             c v            v  n  
     generates the revision sequence by reinforcement revision and dc   v  
 

c j   

 i   i    ki and mv  i  i       j  if j   v               v  n     
 i   i   i     ki  
if j   v               v  n     

proof  since k  is consistent  it has at least a model i  since i    k  and mv  i           
by definition  it follows i  c     proving that c    is not empty  every model is in some
class because if i    ki then i is in c mv  i  i       otherwise it is in c v               v  n   
    to prove that c is a total preorder  remains to prove that no model belongs to two
classes  if i    ki and i    kj then mv  i  j  i      because v is a reinforcement mover 
therefore  mv  i  i           mv  i  i       mv  i  j  i    mv  i  i       mv  i  j      a model
of c v               v  n       does not satisfy any ki   therefore  it cannot be in any other
class c j   this proves that c is a total preorder 
the longest part of the proof is to show that reinforcement revision generates the
sequence from c  inductively  it is assumed that dc       v      dc       v             
dc  i    v  i   where dc  l    min j   cp       pl   j   mod pl         it is then proved that
   

filiberatore

all models of ki are in cp       pi     and all other models are in classes of greater index of
the same total preorder  furthermore  the minimal class of models of pi   in that preorder
is v  i       proving that dc  i        v  i       which allows to iterate the proof 
the base case is with i      what is to be proved is that mod k      c    and dc      
v      by construction of c  a model i is in c    if mv  i  i         and i    ki for some i 
both hold for i      vice versa  if i  c    then i    ki and mv  i  i         for some i  if
i     k    the definition of reinforced mover with j     implies that mv  i  i          which
in turn implies i   c     a contradiction 
in order to prove that dc       v      let i be a model of p    by construction of c  if
i    k  then i is in c v       if i     k  two cases are possible  in the first  i     kj for every
j  this implies that i  c v               v  n        and v               v  n        v      in the
second case  i    kj for some other j  by definition of reinforcement mover  mv  i  j         
the class of c containing i has index mv  i  j       mv  i  j     mv  i          mv  i  j     
v      the last step being a consequence of i    pi   since mv  i  j          it follows that
this amount is greater than v      this proves that v     is the index of the minimal class
of models of p  in c  dc       v      this concludes the base case 
it is now assumed that dc       v              dc  i    v  i   and is proved that cp     pi
has the class zero equal to mod ki   and the minimal models of pi   in class v  i       which
proves that dc  i        v  i       by induction  this proves that the sequence is generated
by reinforcement revision from the total preorder c 
let i be a model of ki   by construction  i  c mv  i  i       the first i revisions
increase the class of i by mdc  i     i   since dc              dc  i  are equal to v              v  i 
by the inductive assumption  this is the same as mv  i     i   by definition of mv   it
holds mv  i  i       mv  i     i   as a result  mv  i  i       mdc  i     i    mv  i  i     
mv  i  i          the model i is in cp     pi     
if i is not a model of ki   then it may be a model of some other kj or not  in the second
case  it is in c v            v  n        the first i steps reduce its class number by at most
dc               dc  i   leading to v            v  n        dc               dc  i   since the
first i values of v and dc coincide  this is v            v  n       v          v  i   
    v  i             v  n   which is greater than zero 
if i is a model of some kj then i  c mv  i  j      by the definition of c  its class at step
i is therefore mv  i  j     mdc  i     i   since dc              dc  i  coincide with v              v  i 
by the induction hypothesis  the second term is equal to mv  i     i   the sum is therefore
equal to mv  i  j       mv  i     i    mv  i  j      mv  i  i       mv  i  j  i    mv  i  i     
mv  i  i       mv  i  j  i   by the definition of reinforced mover with i and j reversed  since
i    kj and i     ki then mv  i  j  i       this proves that the class of i in the order
cp     pi has index larger than zero 
the last step of the proof is to show that the models of pi   are in classes of index
v  i      and greater according to the ordering at step i  which is cp     pi   let i be a model
of pi     if it does not satisfy any kj then it is in c v        v  n      at step i its class
is at least v            v  n       dc          dc  i   since dc  j  is the maximal decrease
of classes at step j  since dc              dc  i  coincide with v           v  i  by the induction
assumption  this is equal to v        v  n   v      v  i    v  i       v  n    
which is larger than v  i      
   

firevision by history

if i satisfies some kj   possibly with j   i      then i  c mv  i  j      by the definition
of c  at step i  its class index is mv  i  j       mdc  i     i   since dc              dc  i  are
assumed equal to v              v  i   the second term is equal to mv  i     i  and the sum to
mv  i  j       mv  i     i    mv  i  j  i   since i    pi     mv  i  i  i        v  i      by the
definition of mv  definition    with v in place of dc    the definition of reinforced mover
ensures that mv  i  j  i        mv  i  j  i    mv  i  i  i        mv  i  j  i   v  i      is equal
to   if i    ki   and greater otherwise  since ki   has some models  the minimal value
of mv  i  j  i   v  i      is zero  proving that the minimal value of mv  i  j  i  is v  i      
this proves that dc  i        v  i      
lemma    if reinforcement revision generates a revision sequence  k    p    k            pn   kn  
from some total preorder  then it also generates the same sequence from a preorder in which
the minimal initial class of models of p  is   or   
proof  if k   p  is consistent then p  has models in k    which is class zero 
otherwise  let the class indexes of models of p  be k    k    k          revision by p 
decreases all these numbers by k    making them k   k       k   k    k   k    etc 
from the given initial preorder  a new one can be generated by reducing each model of
p  of k     classes  this new initial preorder generates the same revision sequence  the
models that do not satisfy p  are not changed of initial class  and after revising by p  are
still moved up one class 
the models of p  are in classes k    k       k    k       k    k       etc  of the
new preorder  since k  is the minimal index of models of p    none of these indexes is zero 
therefore  no model of p  enters k   
the minimal class of models of p  in the new initial preorder is    proving that dc      
   this implies that revising by p  decreases the class of the models of p  by one  as a
result  the indexes of these classes are k    k          k    k          k    k         
etc  and these coincide with k   k       k   k    k   k    etc  these are the same classes
obtained revising the original preorder by p    the models that do not satisfy p  are in
the same initial class and are still moved up one class  this proves that the ordering after
revising by p  is the same as before  therefore  from this point on the revision sequences
are identical 
lemma    if reinforcement revision generates the sequence  k    p    k            pn   kn   from
a total preorder  it is also generates the same sequence from a total preorder c such that
dc  i       dc               dc  i    i     
proof  the claim is proved in two cases separately  pi   has some models that satisfy some
kj with j   i  or it does not 
case    some models of pi   satisfy kj with j   i  such models are in class zero at
step j  therefore  they are at most in class i  j at step i  this proves that pi   has some
models in class i  j  so the minimal class of its models is i  j or less  dc  i       i  j 
which is less that dc               dc  i    i     because i  j   i     
case    no model of pi   is in any kj with j   i  let c l  be the minimal initial class
of the models of pi     if l   dc               dc  i   then all models of pi   can be decreased
   

filiberatore

of l   dc               dc  i      classes without affecting the generated sequence  models of
class l move to class l l dc           dc  i       dc           dc  i     the maximal
class such a model may reach at step i is dc               dc  i        i  since each step may at
most increase the class of a model of one  therefore  dc  i     dc           dc  i  i   
what remains to be proved is that this change does not affect the revision results 
regarding the steps before i      since the models of pi   are in the initial class dc      
        dc  i      or greater  while the models of k  are in the initial class dc      the minimal
class of models of p  is still dc     and the result of revision is still k    since dc     is the
same as before  a similar line of reasoning can be applied to the models of k  and to dc     
then to k  and so on until ki   proving that neither k            ki nor dc              dc  i  are
affected by the change  since dc              dc  i  tell how the models are moved  at step i
the models of pi   are in the same classes as before the change  the models of pi   are
lowered of dc  i      classes  since the change has not altered their relative initial positions 
it does not modify their relative positions at step i  the preorder at step i     is therefore
the same as before 
lemma    reinforcement revision generates the revision sequence  k    p    k            pn   kn  
from a total preorder if and only if it generates the same sequence from a total preorder such
that each dc  i  is bounded by  i    
proof  it has been proved that if dc     is not    the preorder can be modified to make it
so 
since dc  i      is bounded by dc               dc  i    i      assuming the claim for
dc              dc  i  leads to dc  i                        i       i      which is the same
as dc  i                        i           i   i                  i   which is  i      
theorem   establishing the existence of a total preorder generating the revision sequence
 k    p            pn   kn   by reinforcement revision is in p    and is in conp if n is a constant 
proof  by the above lemma  a revision sequence is generated by a preorder if and only
if it is generated by a preorder for which dc  i  is between   and  i     as a result  the
problem can be solved by guessing a reinforcement mover v    v              v  n   for the
sequence  where each v  i  is between   and  i     since this implies not only the existence
of a total preorder c generating the sequence but also that dc  i    v  i  for all indexes 
if n is a constant the guessing can be replaced by a disjunction  checking whether v is
a reinforcement mover amount to check whether  for all i  i and j  it holds that i    ki
implies mv  i  i  j      if i    kj and mv  i  i  j      otherwise  calculating mv  i  i  j 
can be done in polynomial time since the only checks it requires are in the form j   i and
i    pl   therefore  this verification is in conp  and the whole problem in p  because of the
guessing of v  
theorem   checking the existence of a preorder generating a reinforcement revision sequence  k    p    k            pn   kn   is conp complete  if n is a constant 
   

firevision by history

proof  membership is proved by the previous theorem  hardness can be proved from the
problem of propositional unsatisfiability  given a formula f   its corresponding revision
sequence is  k    p    k    with k    a  f   p    b and k    a  b  where a and b are
fresh variables not occurring in f   in this sequence  k    a  f is consistent with p    b 
therefore  k    a  b should be equivalent to their conjunction  a  f    b  if f is
unsatisfiable this is the case  otherwise  the model of f extended by assigning a to false
and b to false is a model of k   p  that is not a model of k    this proves that the sequence
is generated by some preorder if and only if f is unsatisfiable 

references
alchourron  c     makinson  d          on the logic of theory change  contraction functions
and their associated revision functions  theoria               
areces  c     becher  v          iterable agm functions  in rott  h     williams  m a   eds    frontiers in belief revision  applied logic series  pp          kluwer
academic publisher 
baltag  a   gierasimczuk  n     smets  s          belief revision as a truth tracking process 
in proceedings of the thirteenth conference on theoretical aspects of rationality and
knowledge  tark        pp         
benferhat  s   kaci  s   le berre  d     williams  m  a          weakening conflicting
information for iterated revision and knowledge integration  artificial intelligence 
            
booth  r     meyer  t          admissible and restrained revision  journal of artificial
intelligence research             
booth  r     nittka  a          reconstructing an agents epistemic state from observations
about its beliefs and non beliefs  journal of logic and computation             
boutilier  c          iterated revision and minimal change of conditional beliefs  journal
of philosophical logic             
carson  r     louviere  j          a common nomenclature for stated preference elicitation
approaches  environmental and resource economics                 
darwiche  a     pearl  j          on the logic of iterated belief revision  artificial intelligence journal               
delgrande  j   dubois  d     lang  j          iterated revision as prioritized merging  in
proceedings  tenth international conference on principles of knowledge representation and reasoning  kr       pp         
eiter  t     gottlob  g          the complexity of nested counterfactuals and iterated
knowledge base revisions  journal of computer and system sciences                 
fagin  r   ullman  j  d     vardi  m  y          on the semantics of updates in databases 
in proceedings of the second acm sigact sigmod symposium on principles of
database systems  pods     pp         
   

filiberatore

ferme  e     hansson  s          agm    years   twenty five years of research in belief
change  journal of philosophical logic                 
gardenfors  p          knowledge in flux  modeling the dynamics of epistemic states 
bradford books  mit press  cambridge  ma 
hild  m     spohn  w          the measurement of ranks and the laws of iterated contraction  artificial intelligence                     
jin  y     thielscher  m          iterated belief revision  revised  artificial intelligence
journal               
katsuno  h     mendelzon  a  o          propositional knowledge base revision and minimal change  artificial intelligence             
konieczny  s     pino perez  r          a framework for iterated revision  journal of
applied non classical logics             
lehmann  d     magidor  m          what does a conditional knowledge base entail 
artificial intelligence          
liberatore  p       a   belief revision by examples 
 corr   abs           

computing research repository

liberatore  p       b   belief revision by reliability assessment  manuscript 
nayak  a          iterated belief change based on epistemic entrenchment  erkenntnis     
       
nebel  b          syntax based approaches to belief revision  pp        cambridge
university press 
nittka  a     booth  r          a method for reasoning about other agents beliefs from
observations  in logic and the foundation of game and decision theory  vol    of texts
in logic and games  pp         
papini  o          iterated revision operations stemming from the history of an agents
observations  in frontiers in belief revision  vol     of applied logic series  pp     
     springer 
peppas  p          belief revision  pp          elsevier 
rott  h          shifting priorities  simple representations for twenty seven iterated theory change operators  in towards mathematical philosophy  vol      pp         
springer 
sandholm  t     conen  w          preference elicitation in combinatorial auctions  us
patent           
see  k   morrison  w   rothman  n     soll  j          the detrimental effects of power
on confidence  advice taking  and accuracy  organizational behavior and human
decision processes                  
spohn  w          ordinal conditional functions  a dynamic theory of epistemic states  in
causation in decision  belief change  and statistics  pp          kluwer academics 
suzumura  k          remarks on the theory of collective choice  economica  new series 
           
   

firevision by history

syncml         syncml sync protocol  version     
tversky  a     kahneman  d          extensional versus intuitive reasoning  the conjunction fallacy in probability judgment  psychological review                 
wang  h   zhang  j     johnson  t  r          human belief revision and order effect  in
proceedings of the   th annual conference of the cognitive science society 
williams  m          transmutations of knowledge systems  in proceedings of the fourth international conference on the principles of knowledge representation and reasoning
 kr     pp         
winslett  m          reasoning about actions using a possible models approach  in proceedings of the seventh national conference on artificial intelligence  aaai     pp 
     
zhang  d          properties of iterated multiple belief revision  in proceedings of the seventh international conference on logic programming and nonmonotonic reasoning
 lpnmr        pp         

   

fi