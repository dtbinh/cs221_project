journal of artificial intelligence research               

submitted        published      

research note
extremal behaviour in multiagent contract negotiation
paul e  dunne

ped csc liv ac uk

department of computer science
the university of liverpool  liverpool  uk

abstract
we examine properties of a model of resource allocation in which several agents exchange resources in order to optimise their individual holdings  the schemes discussed relate to well known negotiation protocols proposed in earlier work and we consider a number
of alternative notions of rationality covering both quantitative measures  e g  cooperative
and individual rationality and more qualitative forms  e g  pigou dalton transfers  while
it is known that imposing particular rationality and structural restrictions may result in
some reallocations of the resource set becoming unrealisable  in this paper we address the
issue of the number of restricted rational deals that may be required to implement a particular reallocation when it is possible to do so  we construct examples showing that this
number may be exponential  in the number of resources m   even when all of the agent
utility functions are monotonic  we further show that k agents may achieve in a single
deal a reallocation requiring exponentially many rational deals if at most k    agents can
participate  this same reallocation being unrealisable by any sequences of rational deals in
which at most k    agents are involved 

   introduction
mechanisms for negotiating allocation of resources within a group of agents form an important body of work within the study of multiagent systems  typical abstract models
derive from game theoretic perspectives in economics and among the issues that have been
addressed are strategies that agents use to obtain a particular subset of the resources available  e g   kraus        rosenschein   zlotkin        sandholm         and protocols by
which the process of settling upon some allocation of resources among the agents involved is
agreed  e g   dignum   greaves        dunne        dunne   mcburney        mcburney
et al         
the setting we are concerned with is encapsulated in the following definition 
definition   a resource allocation setting is defined by a triple ha  r  ui where
a    a    a            an  

 

r    r    r            rm  

are  respectively  a set of  at least two  agents and a collection of  non shareable  resources 
a utility function  u  is a mapping from subsets of r to rational values  each agent ai  a
has associated with it a particular utility function ui   so that u is hu    u            un i  an
allocation p of r to a is a partition hp    p            pn i of r  the value ui  pi   is called
the utility of the resources assigned to ai   a utility function  u  is monotone if whenever
s  t it holds that u s    u t    i e  the value assigned by u to any set of resources  t  
is never less than the value u attaches to any subset  s of t  
c
    
ai access foundation  all rights reserved 

fidunne

two major applications in which the abstract view of definition   has been exploited are
e commerce and distributed task realisation  in the first r represents some collection of
commodities offered for sale and individual agents seek to acquire a subset of these  the
value an agent attaches to a specific set being described by that agents utility function 
in task planning  the resource set describes a collection of sub tasks to be performed in
order to realise some complex task  e g  the complex task may be to transport goods
from a central warehouse to some set of cities  in this example r describes the locations
to which goods must be dispatched and a given allocation defines those places to which an
agent must arrange deliveries  the utility functions in such cases model the cost an agent
associates with carrying out its alloted sub tasks 
within the very general context of definition    a number of issues arise stemming from
the observation that it is unlikely that some initial allocation will be seen as satisfactory
either with respect to the views of all agents in the system or with respect to divers global
considerations  thus  by proposing changes to the initial assignment individual agents
seek to obtain a better allocation  this scenario raises two immediate questions  how to
evaluate a given partition and thus have a basis for forming improved or optimal allocations 
and  the issue underlying the main results of this paper  what restrictions should be imposed
on the form that proposed deals may take 
we shall subsequently review some of the more widely studied approaches to defining
conditions under which some allocations are seen as better than others  for the purposes
of this introduction we simply observe that such criteria may be either quantitative or
qualitative in nature  as an example of the former we have the approach wherein the
value of an allocation p is simply the sum of the values given by the agents utility
p
functions to the subsets of r they have been apportioned within p   i e  ni   ui  pi    this
is the so called utilitarian social welfare  which to avoid repetition we will denote by u  p   
a natural aim for agents within a commodity trading context is to seek an allocation under
which u is maximised  one example of a qualitative criterion is envy freeness  informally 
an allocation  p   is envy free if no agent assigns greater utility to the resource set  pj   held
by another agent than it does with respect to the resource set  pi   it has actually been
allocated  i e  for each distinct pair hi   j i  ui  pi    ui  pj   
in very general terms there are two approaches that have been considered in treating the
question of how a finite collection of resources might be distributed among a set of agents
in order to optimise some criterion of interest  contract net based methods  e g   dunne
et al         endriss et al         endriss   maudet      b  sandholm              deriving
from the work of smith         and combinatorial auctions  e g   parkes   ungar      a 
    b  sandholm et al         sandholm        sandholm   suri        tennenholz       
yokoo et al         amongst others   the significant difference between these is in the extent
to which a centralized controlling agent determines the eventual distribution of resources
among agents 
one may view the strategy underlying combinatorial auctions as investing the computational effort into a pre processing stage following which a given allocation is determined 
thus a controlling agent  the auctioneer  is supplied with a set of bids  pairs hsj   pj i
wherein sj is some subset of the available resources and pj the price agent aj is prepared
to pay in order to acquire sj   the problem faced by the auctioneer is to decide which bids

  

fiextremal behaviour in multiagent contract negotiation

to accept in order to maximise the overall profit subject to the constraint that each item
can be obtained by at most one agent 
what we shall refer to as contract net schemes typically eschew the precomputation
stage and subordination to a controlling arbiter employed in auction mechanisms  seeking
instead to realise a suitable allocation by an agreed sequence of deals  the contract net  in
its most general instantiation  for scenarios of m resources distributed among n agents is
the complete directed graph with n m vertices  each of which is associated with a distinct
allocation   in this way a possible deal hp   qi is represented as an edge directed from the
vertex labelled with p to that labelled q  viewed thus  identifying a sequence of deals can
be interpreted as a search process which  in principle  individual agents may conduct in an
autonomous fashion 
centralized schemes can be effective in contexts where the participants cooperate  in
the sense of accepting the auctioneers arbritration   in environments within which agents
are highly self interested to the extent that their aims conflict with the auction process or
in which there is a high degree of uncertainty about the outcome  in working towards a
final allocation  the agents involved may only be prepared to proceed cautiously  that is 
an agent will only accept a proposed reallocation if satisfied that such would result in an
immediate improvement from its own perspective  in such cases  the process of moving from
the initial allocation  pinit   to the eventual reallocation pfin is by a sequence of local rational
deals  e g  an agent might refuse to accept deals which reduced u because of the possibility
that it suffers an uncompensated loss in utility  a key issue here is the following  if the deal
protocol allows only moves in which at each stage some agent aj offers a single resource to
another agent aj then the rational reallocation hpinit   pfin i can always be implemented  if 
however  every single move must be rational then hpinit   pfin i may not be realisable 
we may  informally  regard the view of such agents as myopic  in the sense that they
are unwilling to accept a short term loss  a deal hp   qi under they might incur a loss of
utility  despite the prospect of a long term gain  assuming u  pfin     u  pinit   holds  
there are a number of reasons why an agent may adopt such views  e g  consider the
following simple protocol for agreeing a reallocation 
a reallocation of resources is agreed over a sequence of stages  each of which
involves communication between two agents  ai and aj   this communication
consists of ai issuing a proposal to aj of the form  buy  r   p   offering to purchase
r from aj for a payment of p  or  sell   r   p   offering to transfer r to aj in return
for a payment p  the response from aj is simply accept  following which the
deal is implemented  or reject 
this  of course  is a very simple negotiation structure  however consider its operation within
a two agent setting in which one agent  a  say  wishes to bring about an allocation pfin
 and thus can devise a plan  sequence of deals  to realise this from an initial allocation
pinit   while the other agent  a    does not know pfin   in addition  assume that a  is the only
agent that makes proposals and that a final allocation is fixed either when a  is satisfied
or as soon as a  rejects any offer 
while a  could be better off if pfin is realised  it may be the case that the only proposals
a  will accept are those under which it does not lose  e g  some agents may be sceptical
about the bona fides of others and will accept only deals from which they can perceive an
  

fidunne

immediate benefit  there are several reasons why an agent may embrace such attitudes
within the schema outlined  once a deal has been implemented a  may lose utility but no
further proposals are made by a  so that the loss is permanent  we note that even if we
enrich the basic protocol so that a  can describe pfin   a  may still reject offers under which
it suffers a loss  since it is unwilling to rely on the subsequent deals that would ameliorate
its loss actually being proposed  although the position taken by a  in the setting just
described may appear unduly cautious  we would claim that it does reflect real behaviour
in certain contexts  outside the arena of automated allocation and negotiation in multiagent
systems  there are many examples of actions by individuals where promised long term gains
are insufficient to engender the acceptance of short term loss  consider chain letter
schemes  or their more subtle manifestation as pyramid selling enterprises   such have
a natural lifetime bounded by the size of the population in which they circulate  but may
break down before this is reached  faced with a request to send     to the five names at
the head of the list and forward the letter to ten others after adding your name despite the
possibility of significant gain after a temporary loss of      to ignore such blandishments is
not seen as overly sceptical and cautious  there may be reluctance to accept that one will
eventually receive sufficient recompense in return and suspicion that the name order has
been manipulated 
in summary  we can identify two important influences that lead to contexts in which
agents prefer to move towards a reallocation via a sequence of rational deals  firstly 
the agents are self interested but operating in an unstable environment  e g  in the chain
letter setting  an agent cannot reliably predict the exact point at which the chain will fail 
the second factor is that computational restrictions may limit the decisions an individual
agent can make about whether or not to accept a proposed deal  for example in settings
where all deals involve one resource at a time  a  may reject a proposal to accept some
resource  r   since r is only useful following a further sequence of deals  if this number
of further deals is small then a  could decide to accept the proposed deal since it has
sufficient computational power to determine that there is a context in which r is of value 
if this number is large however  then a  may lack sufficient power to scan the search
space of future possibilities that would allow it to accept r   notice that in the extreme
case  a  makes its decision solely on whether r is of immediate use  i e  a  is myopic  a
more powerful a  may be able to consider whether r is useful should up to k further deals
take place  in this case  a  could still refuse to accept r since  although of use  a  cannot
determine this with a bounded look ahead 
in total for the scenario we have described  if a  wishes to bring about an allocation pfin
then faced with the view adopted by a  and the limitations imposed by the deal protocol 
the only effective plan that a  could adopt is to find a sequence of rational deals to
propose to a   
our aim in this article is to show that combining structural restrictions  e g  only one
resource at a time is involved in a local reallocation  with rationality restrictions can result
in settings in which any sequence to realise a reallocation hp   qi must involve exponentially
many  in  r   separate stages  we refine these ideas in the next sub section 

  

fiextremal behaviour in multiagent contract negotiation

    preliminary definitions
to begin  we first formalise the concepts of deal and contract path 
definition   let ha  r  ui be a resource allocation setting  a deal is a pair hp   qi where
p   hp            pn i and q   hq            qn i are distinct partitions of r  the effect of implementing the deal hp   qi is that the allocation of resources specified by p is replaced with that
specified by q  following the notation of  endriss   maudet      b  for a deal    hp   qi 
we use a to indicate the subset of a involved  i e  ak  a if and only if pk    qk  
let    hp   qi be a deal  a contract path realising  is a sequence of allocations
   hp       p               p  t     p  t  i
in which p   p     and p  t    q  the length of   denoted    is t     i e  the number of
deals in  
there are two methods which we can use to reduce the number of deals that a single
agent may have to consider in seeking to move from some allocation to another  thereby
avoiding the need to choose from exponentially many alternatives  structural and rationality
constraints  structural constraints limit the permitted deals to those which bound the
number of resources and or the number of agents involved  but take no consideration of the
view any agent may have as to whether its allocation has improved  in contrast  rationality
constraints restrict deals hp   qi to those in which q improves upon p according to
particular criteria  in this article we consider two classes of structural constraint  ocontracts  defined and considered in  sandholm         and what we shall refer to as m  k  contracts 
definition   let    hp   qi be a deal involving a reallocation of r among a 
a   is a one contract  o contract  if
o   a    i   j   
o   there is a unique resource r  pi  pj for which qi   pi   r   and qj   pj    r  
 with r  pj   or qj   pj   r   and qi   pi    r    with r  pi  
b  for a value k     the deal    hp   qi is an m  k   contract if     a    k and
ia qi   ia pi  
thus  o contracts involve the transfer of exactly one resource from a particular agent to
another  resulting in the number of deals compatible with any given allocation being exactly
 n    m  each of the m resources can be reassigned from its current owner to any of the
other n    agents 
rationality constraints arise in a number of different ways  for example  from the
standpoint of an individual agent ai a given deal hp   qi may have three different outcomes 
ui  pi     ui  qi    i e  ai values the allocation qi as superior to pi   ui  pi     ui  qi    i e 
ai is indifferent between pi and qi   and ui  pi     ui  qi    i e  ai is worse off after the
deal  when global optima such as utilitarian social welfare are to be maximised  there is
the question of what incentive there is for any agent to accept a deal hp   qi under which it
  

fidunne

is left with a less valuable resource holding  the standard approach to this latter question
is to introduce the notion of a pay off function  i e  in order for ai to accept a deal under
which it suffers a reduction in utility  ai receives some payment sufficient to compensate
for its loss  of course such compensation must be made by other agents in the system who
in providing it do not wish to pay in excess of any gain  in defining notions of pay off the
interpretation is that in any transaction each agent ai makes a payment  i   if i    
then ai is given i in return for accepting a deal  if i     then ai contributes i to the
amount to be distributed among those agents whose pay off is negative 
this notion of sensible transfer is captured by the concept of individual rationality 
and is often defined in terms of an appropriate pay off vector existing  it is not difficult 
however  to show that such definitions are equivalent to the following 
definition   a deal hp   qi is individually rational  ir  if and only if u  q    u  p   
we shall consider alternative bases for rationality constraints later  these are primarily of
interest within so called money free settings  so that compensatory payment for a loss in
utility is not an option  
the central issue of interest in this paper concerns the properties of the contract net
graph when the allowed deals must satisfy both a structural and a rationality constraint 
thus  if we consider arbitrary predicates  on deals hp   qi  where the cases of interest are
 combining a structural and rationality condition  we have 
definition   for  a predicate over distinct pairs of allocations  a contract path
hp       p               p  t     p  t  i
realising hp   qi is a  path if for each    i   t  hp  i    p  i    i is a  deal  that is
 p  i    p  i      holds  we say that  is complete if any deal  may be realised by a  path 
we  further  say that  is complete with respect to  deals  where  is a predicate over
distinct pairs of allocations  if any deal  for which    holds may be realised by a  path 
the main interest in earlier studies of these ideas has been in areas such as identifying
necessary and or sufficient conditions on deals to be complete with respect to particular
criteria  e g   sandholm         and in establishing convergence and termination properties  e g  endriss et al          endriss and maudet      b  consider deal types    such
that every maximal   path ends in a pareto optimal allocation  i e  one in which any
reallocation under which some agent improves its utility will lead to another agent suffering
a loss  sandholm        examines how restrictions e g  with  p   q      if and only if
hp   qi is an o contract  may affect the existence of contract paths to realise deals  of
particular interest  from the viewpoint of heuristics for exploring the contract net graph 
are cases where  p   q      if and only if the deal hp   qi is individually rational  for the
case of o contracts the following are known 
theorem  
a  o contracts are complete 
   maximal in the sense that if hp               p  t  i is such a path  then for every allocation  q   p  t    q 
does not hold 

  

fiextremal behaviour in multiagent contract negotiation

b  ir o contracts are not complete with respect to ir deals 
in the consideration of algorithmic and complexity issues presented in  dunne et al        
one difficulty with attempting to formulate reallocation plans by rational o contracts is
already apparent  that is 
theorem   even in the case n     and with monotone utility functions the problem of
deciding if an ir o contract path exists to realise the ir deal hp   qi is nphard 
thus deciding if any rational plan is possible is already computationally hard  in this
article we demonstrate that  even if an appropriate rational plan exists  in extreme cases 
there may be significant problems  the number of deals required could be exponential in
the number of resources  so affecting both the time it will take for the schema outlined to
conclude and the space that an agent will have to dedicate to storing it  thus in his proof
of theorem    b   sandholm observes that when an ir o contract path exists for a given
ir deal  it may be the case that its length exceeds m  i e  some agent passes a resource to
another and then accepts the same resource at a later stage 
the typical form of the results that we derive can be summarised as 
for  a structural constraint  o contract or m  k   contract  and  a rationality
constraint  e g   p   q  holds if hp   qi is individually rational  there are resource allocation settings han   rm   ui in which there is a deal hp   qi satisfying
all of the following 
a  hp   qi is a  deal 
b  hp   qi can be realised by a contract path on which every deal satisfies the
structural constraint  and the rationality constraint  
c  every such contract path has length at least g m  
for example  we show that there are instances for which the shortest ir o contract path has
length exponential in m   in the next section we will be interested in lower bounds on the
values of the following functions  we introduce these in general terms to avoid unnecessary
subsequent repetition 
definition   let ha  r  ui be a resource allocation setting  additionally let  and  be
two predicates on deals  for a deal    hp   qi the partial function lopt    ha  r  ui   
is the length of the shortest  contract path realising hp   qi if such a path exists  and is
undefined if no such path is possible   the partial function lmax  ha  r  ui      is
lmax  ha  r  ui       

max
lopt    ha  r  ui   
 deals 

finally  the partial function max  n  m      is
max  n  m       

max

u hu   u       un i

lmax  han   rm   ui     

where consideration is restricted to those  deals    hp   qi for which a realising  path
exists 
   sandholm        gives an upper bound on the length of such paths which is also exponential in m  but
does not explicitly state any lower bound other than that already referred to 

  

fidunne

the three measures  lopt   lmax and max distinguish different aspects regarding the length
of contract paths  the function lopt is concerned with  paths realising a single deal hp   qi
in a given resource allocation setting ha  r  ui  the property of interest being the number
of deals in the shortest  i e  optimal length   path  we stress that lopt is a partial function
whose value is undefined in the event that hp   qi cannot be realised by a  path in the
setting ha  r  ui  the function lmax is defined in terms of lopt   again in the context of
a specific resource allocation setting  the behaviour of interest for lmax   however  is not
simply the length of  paths realising a specific hp   qi but the worst case value of lopt
for deals which are  deals  we note the qualification that lmax is defined only for  deals
that are capable of being realised by  paths  and thus do not consider cases for which no
appropriate contract path exists  thus  if it should be the case that no  deal in the setting
ha  r  ui can be realised by a  path then the value lmax  ha  r  ui      is undefined  i e 
lmax is also a partial function  we may interpret any upper bound on lmax in the following
terms  if lmax  ha  r  ui       k then any  deal for which a  path exists can be
realised by a  path of length at most k  
our main interest will centre on max which is concerned with the behaviour of lmax as
a function of n and m and ranges over all n tuples of utility functions hu    r  qin   our
approach to obtaining lower bounds for this function is constructive  i e  for each h  i
that is considered  we show how the utility functions u may be defined in a setting with m
resources so as to yield a lower bound on max  n  m       in contrast to the measures lopt
and lmax   the function max is not described in terms of a single fixed resource allocation
setting  it is  however  still a partial function  depending on hn  m    i it may be the case
that in every n agent  m resource allocation setting  regardless of which choice of utility
functions is made  there is no  deal  hp   qi capable of being realised by  path  and for
such cases the value of max  n  m      will be undefined  
it is noted  at this point  that the definition of max allows arbitrary utility functions
to be employed in constructing worst case instances  while this is reasonable in terms
of general lower bound results  as will be apparent from the given constructions the utility
functions actually employed are highly artificial  and unlikely to feature in real application
settings   we shall attempt to address this objection by further considering bounds on the
following variant of max  
max
mono  n  m       

u hu   u       un i

max
lmax  han   rm   ui     
  each ui is monotone

thus  max
mono deals with resource allocation settings within which all of the utility functions
must satisfy a monotonicity constraint 
the main results of this article are presented in the next sections  we consider two
general classes of contract path  o contract paths under various rationality conditions in
   in recognising the possibility that max  n  m      could be undefined  we are not claiming that such
behaviour arises with any of the instantiations of h  i considered subsequently  in fact it will be
max
clear from the constructions that  denoting by max
 n  m      for a fixed
   n  m  the function 
instantiation of h  i  with the restricted deal types and rationality conditions examined  the function
max
   n  m  is a total function  whether it is possible to formulate sensible choices of h  i with
which max
   n  m  is undefined for some values of hn  mi  and  if so  demonstrating examples of such  is 
primarily  only a question of combinatorial interest  whose development is not central to the concerns of
the current article 

  

fiextremal behaviour in multiagent contract negotiation

section    and  similarly  m  k   contract paths for arbitrary values of k    in section   
our results are concerned with the construction of resource allocation settings ha  rm   ui
for which given some rationality requirement  e g  that deals be individually rational  there
is some deal hp   qi that satisfies the rationality condition  can be realised by a rational
o contract path  respectively  m  k   contract path   but with the number of deals required
by such paths being exponential in m  we additionally obtain slightly weaker  but still
exponential  lower bounds for rational o contract paths within settings of monotone utility
functions  i e  for the measure max
mono   outlining how similar results may be derived for
m  k   contract paths 
in the resource allocation settings constructed for demonstrating these properties with
m  k   contract paths  the constructed deal hp   qi is realisable with a single m  k     contract but unrealisable by any rational m  k     contract path  we discuss related work 
in particular the recent study of  endriss   maudet      a  that addresses similar issues
to those considered in the present article  in section    conclusions and some directions for
further work are presented in the final section 

   lower bounds on path length  o contracts
in this section we consider the issue of contract path length when the structural restriction
requires individual deals to be o contracts  we first give an overview of the construction
method  with the following subsections analysing the cases of unrestricted utility functions
and  subsequently  monotone utility functions 
    overview
the strategy employed in proving our results involves two parts  for a given class of restricted contract paths we proceed as follows in obtaining lower bounds on max  n  m      
a  for the contract net graph partitioning m resources among n agents  construct a
path  m   hp       p               p  t  i realising a deal hp       p  t  i  for the structural
constraint    influencing  it is then proved that 
a   the contract path m is a    path  i e  for each    i   t  the deal hp  i    p  i   i
satisfies the structural constraint    
a   for any pair of allocations p  i  and p  i j   occurring in m   if j    then the
deal hp  i    p  i j   i is not a    deal 
thus  a   ensures that m is a suitable contract path  while  a   will guarantee that
there is exactly one allocation  p  i      that can be reached within m from any given
allocation p  i  in m by means of a    deal 
b  define utility functions un   hu            un i with the following properties
b   the deal hp       p  t  i is a  deal 
b   for the rationality constraint     influencing   every deal hp  i    p  i    i is a
    deal 

  

fidunne

b   for every allocation p  i  in the contract path  and every allocation q other
than p  i    the deal hp  i    qi is not a  deal  i e  it violates either the stuctural
constraint   or the rationality constraint     
thus   a   and  b   ensure that hp       p  t  i has a defined value with respect to the
function lopt for the  deal hp       p  t  i  i e  a  path realising the deal is possible 
the properties given by  a   and  b   indicate that  within the constructed resource
allocation setting  the path m is the unique  path realising hp       p  t  i  it follows
that t     the length of this path  gives a lower bound on the value of lmax and hence
a lower bound on max  n  m      
before continuing it will be useful to fix some notational details 
we use hm to denote the m dimensional hypercube  interpreted as a directed graph  hm
has  m vertices each of which is identified with a distinct m bit label  using    a  a        am
to denote an arbitrary such label  the edges of hm are formed by
  h  i    and  differ in exactly one bit position 
we identify m bit labels    a  a        am with subsets s  of rm   via ri  s  if and only if
ai      similarly  any subset s of r can be described by a binary word   s    of length m 
i e   s     b  b        bm with bi     if and only if ri  s   for a label  we use    to denote
the number of bits with value    so that    is the size of the subset s    if  and  are m bit
labels  then  is a  m bit label  so that if rm and tm are disjoint sets  then  describes
the union of the subset s  of rm with the subset s  of tm   finally if    a  a        am
is an m bit label then  denotes the label formed by changing all   values in  to   and
vice versa  in this way  if s  is the subset of rm described by  then  describes the set
rm   s    to avoid an excess of superscripts we will  where no ambiguity arises  use  both
to denote the m bit label and the subset of rm described by it  e g  we write    rather
than s   s   
for n     the contract net graph induced by o contracts can be viewed as the mdimensional hypercube hm   the m bit label   associated with a vertex of hm describing
the allocation h  i to ha    a  i  in this way the set of ir o contracts define a subgraph 
gm of hm with any directed path from  p   to  q  in gm corresponding to a possible ir
o contract path from the allocation hp   r   p i to the allocation hq  r   qi 
    o contract paths  unrestricted utility functions
our first result clarifies one issue in the presentation of  sandholm        proposition    
in this an upper bound that is exponential in m is proved on the length of ir o contract
paths  i e  in terms of our notation   sandholm        proposition    establishes an upper
bound on max  n  m       we now prove a similar order lower bound 
theorem   let  p   q  be the predicate which holds whenever hp   qi is an ir o contract
and  p   q  that which holds whenever hp   qi is ir  for m   
max     m      

  



  
   



 m   

fiextremal behaviour in multiagent contract negotiation

proof  consider a path c   h                t i in hm   with the following property 
    i   j  t  j  i        i and j differ in at least   positions 

 sc 

e g  if m     then
   r      r    r      r    r    r      r    r      r    r    r      r    r      r    r    r   
is such a path as it corresponds to the sequence h                                              i 
choose c  m  to be a longest such path with this property that could be formed in hm  
letting m   hp       p               p  t  i be the sequence of allocations with p  i    hi   i i  we
now define the utility functions u  and u  so that for   rm  
 

u       u      

k
 

if
if

   k
                    t  

with this choice  the contract path m describes the unique ir o contract path realising
the ir deal hp       p  t  i  that m is an ir o contract path is immediate  since
u  p  i        i       i   u  p  i   
that it is unique follows from the fact that for all    i  t and i      j  t  the deal
hp  i    p  j   i is not an o contract  hence there are no short cuts possible   and for each
p  i  there is exactly one ir o contract that can follow it  i e  p  i      
from the preceding argument it follows that any lower bound on the length of c  m   
i e  a sequence satisfying the condition  sc   is a lower bound on max     m       these
paths in hm were originally studied by kautz        in the context of coding theory and
the lower bound on their length of          m    established in  abbott   katchalski 
      
 
example   using the path
c    

 
 

h                                              i
h                              i

in the resource allocation setting h a    a      r    r    r    r     hu    u  ii  if the utility functions
are specified as in table   below then u  h      i      and u  h      i       furthermore 
c     describes the unique ir o contract path realising the reallocation hh      i  h      ii
there are a number of alternative formulations of rationality which can also be considered 
for example
definition   let    hp   qi be a deal 
   this defines the so called snake in the box codes introduced in  kautz        
   in our example with m      the sequence h                      i  although defining an o contract path
gives rise to a deal which is not ir  namely that corresponding to h          i 

  

fidunne

s
    
    
    
    
    
    
    
    

r s
    
    
    
    
    
    
    
    

u   s  
 
 
 
 
 
 
 
 

u   r   s  
 
 
 
 
 
 
 
 

u
 
 
 
 
 
 
 
 

 

 
 
 

s
    
    
    
    
    
    
    
    

r s
    
    
    
    
    
    
    
    

u   s  
 
 
 
 
 
 
 
 

u   r   s  
 
 
 
 
 
 
 
 

u
 
 
 
 
 
 
 
 

 
 

 
 

table    utility function definitions for m     example 
a   is cooperatively rational if for every agent  ai   ui  qi    ui  pi   and there is at least
one agent  aj   for whom uj  qj     uj  pj   
b   is equitable if minia ui  qi     minia ui  pi   
c   is a pigou dalton deal if a    i   j    ui  pi     uj  pj     ui  qi     uj  qj   and
 ui  qi    uj  qj       ui  pi    uj  pj     where           is absolute value  
there are a number of views we can take concerning the rationality conditions given in definition    one shared feature is that  unlike the concept of individual rationality for which
some provision to compensate agents who suffer a loss in utility is needed  i e  individual
rationality presumes a money based system  the forms defined in definition   allow concepts of rationality to be given in money free enviroments  thus  in a cooperatively
rational deal  no agent involved suffers a loss in utility and at least one is better off  it may
be noted that given the characterisation of definition   it is immediate that any cooperatively rational deal is perforce also individually rational  the converse  however  clearly does
not hold in general  in some settings  an equitable deal may be neither cooperatively nor
individually rational  one may interpret such deals as one method of reducing inequality
between the values agents place on their allocations  for those involved in an equitable deal 
it is ensured that the agent who places least value on their current allocation will obtain a
resource set which is valued more highly  it may  of course  be the case that some agents
suffer a loss of utility  the condition for a deal to be equitable limits how great such a loss
could be  finally the concept of pigou dalton deal originates from and has been studied in
depth within the theory of exchange economies  this is one of many approaches that have
been proposed  again in order to describe deals which reduce inequality between members
of an agent society  e g   endriss   maudet      b   in terms of the definition given 
such deals encapsulate the so called pigou dalton principle in economic theory  that any
transfer of income from a wealthy individual to a poorer one should reduce the disparity
between them  we note that  in principle  we could define related rationality concepts
based on several extensions of this principle that have been suggested  e g   atkinson       
chateauneaf et al         kolm        
using the same o contract path constructed in theorem    we need only vary the
definitions of the utility functions employed in order to obtain 
corollary   for each of the cases below 

  

fiextremal behaviour in multiagent contract negotiation

a     holds if and only if  is a cooperatively rational o contract 
   holds if and only if  is cooperatively rational 
b     holds if and only if  is an equitable o contract 
   holds if and only if  is equitable 
c     holds if and only if  is a pigou dalton o contract 
   holds if and only if  is a pigou dalton deal 



max



    m      

  
 m   
   


proof  we employ exactly the same sequence of allocations m described in the proof of
theorem   but modify the utility functions hu    u  i for each case 
a  choose hu    u  i with u         for all   r and
 

u      

k
 

if
if

   k
                t  

the resulting o contract path is cooperatively rational  the utility enjoyed by a  remains constant while that enjoyed by a  increases by   with each deal  any deviation
from this contract path  employing an alternative o contract  will result in a loss of
utility for a   
b  choose hu    u  i with u       u     and
 

u      

k
 

if
if

   k
                t  

the o contract path is equitable  both a  and a  increase their respective utility
values by   with each deal  again  any o contract deviating from this will result in
both agents losing some utility 
c  choose hu    u  i as
 

u      

k
 

if
if

   k
                t  

 

 

u      

 m  k
 m

if
if

   k
                t  

to see that the o contract path consists of pigou dalton deals  it suffices to note that
u   i     u   i      m for each    i  t  in addition   u   i      u   i         m   i   
which is strictly less than  u   i    u   i       m   i   finally  any o contract hp   qi which
deviates from this sequence will not be a pigou dalton deal since
 u   q     u   q        m    u   p     u   p    
which violates one of the conditions required of pigou dalton deals 
the construction for two agent settings  easily extends to larger numbers 
  

 

fidunne

corollary   for each of the choices of h  i considered in theorem   and corollary   
and all n    


  
max
  n  m      
 m   
   
proof  fix allocations in which a  is given     a  allocated     and aj assigned  for each
   j  n  using identical utility functions hu    u  i as in each of the previous cases  we
employ for uj   uj         uj  s       whenever s      h  i as in theorem     uj  s       for
all s  corollary   a    uj       m   uj  s       whenever s      corollary   b    and  finally 
uj  s      m for all s    corollary   c    considering a realisation of the  deal hp       p  t  i
the only  contract path admissible is the path m defined in the related proofs  this gives
the lower bound stated 
 
we note  at this point  some other consequences of corollary   with respect to  endriss  
maudet      b  theorems        which state
fact   we recall that a  path  hp               p  t  i is maximal if for each allocation q  hp  t    qi
is not a  deal 
a  if hp               p  t  i is any maximal path of cooperatively rational deals then p  t  is
pareto optimal 
b  if hp               p  t  i is any maximal path of equitable deals then p  t  maximises the
value e  p     min in ui  pi    i e  the so called egalitarian social welfare 
the sequence of cooperatively rational deals in corollary   a  terminates in the pareto
optimal allocation p  t    the allocation for a  always has utility   and there is no allocation
to a  whose utility can exceed t  similarly  the sequence of equitable deals in corollary   b 
terminates in the allocation p  t    for which e  p  t      t the maximum that can be attained
for the instance defined  in both cases  however  the optima are reached by sequences of
exponentially many  in m  deals  thus  although fact   guarantees convergence of particular
deal sequences to optimal states it may be the case  as illustrated in corollary   ab   that
the process of convergence takes considerable time 
    o contract paths  monotone utility functions
we conclude our results concerning o contracts by presenting a lower bound on max
mono   i e 
the length of paths when the utility functions are required to be monotone 
in principle one could attempt to construct appropriate monotone utility functions that
would have the desired properties with respect to the path used in theorem    it is  however 
far from clear whether such a construction is possible  we do not attempt to resolve this
question here  whether an exact translation could be accomplished is  ultimately  a question
of purely combinatorial interest  since our aim is to demonstrate that exponential length
contract paths are needed with monotone utility functions we are not  primarily  concerned
with obtaining an optimal bound 

  

fiextremal behaviour in multiagent contract negotiation

theorem   with  p   q  and  p   q  be defined as in theorem   and m    

max
mono     m     




 
  
m     


      

if

m is even






if

m is odd

  
   



  m       

proof  we describe the details only for the case of m being even  the result when m is
odd is obtained by a simple modification which we shall merely provide in outline 
let m    s with s     for any path
s   h                t i
in hs  where i describes a subset of rs by an s bit label   the path double s   in h s is
defined by
double s  

 
 

h                     i i   i   i             t t i
h                 i     i              t  i

 the reason for successive indices of  increasing by   will become clear subsequently 
of course  double s   does not describe an o contract path    it is  however  not difficult
to interpolate appropriate allocations   i   in order to convert it to such a path  consider
the subsets  i  with    i   t  defined as follows 
 

 i  

i   i
i i  

if
if

i  i  
i  i  

if we now consider the path  ext s    within h s given by
ext s     h                      t      t  i
then this satisfies 
a  if s has property  sc  of theorem   in hs then ext s   has property  sc  in h s  
b  if j is odd then  j     s 
c  if j is even then  j     s     
from  a  and the bounds proved in  abbott   katchalski        we deduce that ext s  
can be chosen so that with p  i  denoting the allocation hi   i i
d  ext s   describes an o contract path from p     to p   t    
e  for each pair hi   j i with j  i      the deal hp  i    p  j   i is not an o contract 
f  if s is chosen as in the proof of theorem   then the number of deals in ext s   is
as given in the statement of the present theorem 
   in terms of the classification described by sandholm         it contains only swap deals  s  contracts  
each deal swaps exactly one item in  i  with an item in  i  in order to give  i    

  

fidunne

we therefore fix s as the path from theorem   so that in order to complete the proof
we need to construct utility functions hu    u  i that are monotone and with which ext s  
defines the unique ir o contract path realising the reallocation hp       p   t   i 
the choice for u  is relatively simple  given s  r s  
u   s    



  

 t    


 t    

if
if
if

 s    s   
 s     s   
 s    s

in this t is the number of allocations in s   the behaviour of u  is clearly monotone 
the construction for u  is rather more complicated  its main idea is to make use of
the fact that the size of each set i occurring in ext s   is very tightly constrained   i  
is either s or s     according to whether i is odd or even  we first demonstrate that each
set of size s     can have at most two strict subsets  of size s  occurring within ext s   
thus  every s of size s     has exactly   or   or   subsets of size s on ext s    to see this
suppose the contrary  let    i     j     and  k   be such that      s     with
 i       j        k    
noting that  i    i i and that s has the property  sc  it must be the case that  at
least  two of the s bit labels from  i   j   k   differ in at least two positions  without loss
of generality suppose this is true of i and k   as a result we deduce that the sets  i 
and  k   have at most s    elements in common  i e    i    k      s      i    i i
and  k     k k so in any position at which i differs from k   i differs from k at
exactly the same position  in total   i     k         i e  there are  at least  two elements
of  i  that do not occur in  k     and in the same way   k      i        i e  there are
 at least  two elements of  k   that do not occur in  i    the set   however  has only
s     members and so cannot have both  i  and  k   as subsets  this would require
 i    k     i     k     k      i   
but  as we have just seen 
   i    k     i     k     k      i     s    
one immediate consequence of the argument just given is that for any set  of size s    there
are exactly two strict subsets of  occurring on ext s   if and only if     i   i      i
for some value of i with    i   t  we can now characterise each subset of r s of size s    
as falling into one of three categories 
c   good sets  given by         i   
c   digressions  consisting of
      i          i and i   t 
c   inaccessible sets  consisting of
      is neither good nor a digression 
  

fiextremal behaviour in multiagent contract negotiation

good sets are those describing allocations to a  within the path defined by ext s   
digressions are the allocations that could be reached using an o contract from a set of
size s on ext s    i e   i    but differ from the set that actually occurs in ext s    i e 
 i   finally  inaccessible sets are those that do not occur on ext s   and cannot be reached
via an o contract from any set on ext s    we note that we view any set of size s    
that could be reached by an o contract from  t  as being inaccessible  in principle it is
possible to extend the o contract path beyond  t    however  we choose not complicate
the construction in this way 
we now define u  as

u      


 i   





 i    


  i

 




 




 t   

if
if
if
if
if
if

    i 
    i
     s     and  is a digression from  i 
    s   
     s and    ext s  
 is inaccessible or     s    

it remains only to prove for these choices of hu    u  i that the o contract path hp               p   t   i
defined from ext s   is the unique ir o contract path realising the ir deal hp       p   t   i
and that u  is monotone 
to show that hp               p   t   i is ir we need to demonstrate
    j    t    u   j     u   j     u   j        u   j     
we have via the definition of hu    u  i
u    i      u    i   

 
 
 
 
 

  t   i      
u    i     u    i  
  t   i      
u    i       u    i    
  t   i      

thus  via definition    it follows that ext s   gives rise to an ir o contract path 
to see that this path is the unique ir o contract path implementing hp       p   t   i 
consider any position p  j     hj   j i and allocation q other than p  j     or p  j      it may be
assumed that the deal hp  j     qi is an o contract  if j    i   then u  p   i         t  i    
and  j     s  hence  q      s    s      in the former case  u   q        and u   q       t   
from which u  q     t     and thus hp  j     qi is not ir  in the latter case u   q       i
since q  is a digression from  i  and u   q       t     giving u  q      t   i        again
hp  j     qi fails to be ir since q fails to give any increase in the value of u   we are left with
the case j    i so that u  p   i        t   i       and  j     s      since hp  j     qi is assumed
to be an o contract this gives  q      s  s       for the first possibility q  could not be a
set on ext s     i  and  i   are both subsets of  i and there can be at most two such
subsets occurring on ext s    it follows  therefore  that u   q        giving u  q     t    
so that hp  j     qi is not ir  in the second possibility  u   q       t    but u   q        as
 q      s    so the deal would result in an overall loss  we deduce that for each p  j   the
only ir o contract consistent with it is the deal hp  j     p  j     i 
  

fidunne

the final stage is to prove that the utility function u  is indeed a monotone function 
suppose s and t are subsets of r s with s  t   we need to show that u   s    u   t    we
may assume that  s     s  that s occurs as some set within ext s    and that  t     s     
if  s     s or  s     s but does not occur on ext s   we have u   s       and the required
inequality holds  if  s    s     then in order for s  t to be possible we would need
 t    s      which would give u   t      t    and this is the maximum value that any
subset is assigned by u    we are left with only  s     s   t     s     and s on ext s   to
consider  it has already been shown that there are at most two subsets of t that can occur
on ext s    consider the different possibilities 
a  t    i so that exactly two subsets of t occur in ext s     i  and  i     since
u    i      i     and this is at least max u    i     u    i       should s be either of
 i  or  i   then u   s    u   t   as required 
b  t is a digression from s    i    so that u   t      i and u   s      i    and  again 
u   s    u   t   
we deduce that u  is monotone completing our lower bound proof for max
mono for even values
of m 
we conclude by observing that a similar construction can be used if m    s     is odd 
use the path ext s   described above but modifying it so that one resource  rm   is always
held by a    only minor modifications to the utility function definitions are needed 
 
example   for s      we can choose     h                       i so that t      this
gives double     as
h                                      i
with the o contract path being defined from ext     which is
 

h                                                                      i
h                                  i

considering the    subsets of size s          gives
good
digression
inaccessible

 
 
 

                                
                                        
                                                

notice that both of the sets in                  are inaccessible  in principle we could
continue from            using either  however  in order to simplify the construction the
path is halted at    
following the construction presented in theorem    gives the following utility function
definitions with s  r    r    r    r    r    r    r    

u   s    



  

  

   

  

if
if
if

 s     
 s      
 s     

fiextremal behaviour in multiagent contract negotiation

for u  we obtain

u   s    





































































 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if

 s     
 s       and s                                           
s              
s           digression from    
s           digression from    
s              
s              
s           digression from    
s              
s              
s           digression from    
s              
s              
s           digression from    
s              
s              
 s      or s                                                  

the monotone utility functions  hu    u  i  employed in proving theorem   are defined so that
the path arising from ext s   is ir  in the event of either agent suffering a loss of utility the
gain made by the other is sufficient to provide a compensatory payment  a natural question
that now arises is whether the bound obtained in theorem   can be shown to apply when
the rationality conditions preclude any monetary payment  e g  for cases where the concept
of rationality is one of those given in definition    our next result shows that if we set the
rationality condition to enforce cooperatively rational or equitable deals then the bound of
theorem   still holds 
theorem   for each of the cases below and m    
a     holds if and only if  is a cooperatively rational o contract 
   holds if and only if  is cooperatively rational 
b     holds if and only if  is an equitable o contract 
   holds if and only if  is equitable 

max
mono     m     




 
  
m     


      

if

m is even






if

m is odd

  
   



  m       

proof  we again illustrate the constructions only for the case of m being even  noting the
modification to deal with odd values of m outlined at the end of the proof of theorem   
the path ext s   is used for both cases 

  

fidunne

for  a   we require hu    u  i to be defined as monotone functions with which ext s   will
be the unique cooperatively rational o contract path to realise the cooperatively rational
deal hp       p   t   i where p  j     hj   j i  in this case we set hu    u  i to be 

hu      u    i  


hi   i i





hi
     i i




hi   i   i


h    t   i




h    t   i




h t      i

if
if
if
if
if
if

    i 
    i
     s     and  is a digression from  i 
    s   
     s and    ext s  
 is inaccessible or     s    

since 
hu    i     u    i   i
hu    i    u    i  i
hu    i      u    i    i

 
 
 

hi   i i
hi      i i
hi      i    i

it is certainly the case that hp       p   t   i and all deals on the o contract path defined
by ext s   are cooperatively rational  furthermore if q   h  i is any allocation other
than p  j     then the deal hp  j     qi will fail to be a cooperatively rational o contract 
for suppose the contrary letting hp  j     qi without loss of generality be an o contract 
with q    p  j      p  j        we can rule out the former case since we have already shown
such an deal is not cooperatively rational  if j    i    so that hu   j    u   j  i   hi   i i
then      s     s       the former case leads to a loss in utility for a    the latter 
 since  is a digression from  i    a loss in utility for a    similarly  if j    i so that
hu   j    u   j  i   hi      i i then      s  s       for the first    ext s   leading to a loss of
utility for a    the second results in a loss of utility for a    it follows that the path defined by
ext s   is the unique cooperatively rational o contract path that realises hp       p   t   i 
it remains only to show that these choices for hu    u  i define monotone utility functions 
consider u  and suppose s and t are subsets of r s with s  t   if  s    s    
or s does not occur on ext s   then u   s        if  t    s     or is inaccessible then
u   t      t    which is the maximum value attainable by u    so we may assume that
 s     s  occurs on ext s    i e  s    i    for some i   and that  t     s     and is either
a good set or a digression  from the definition of u    u   s     i   if t    i    i    then
u   t    i   u   s    if t is a digression from  i  then u   t     i   u   s    we deduce
that if s  t then u   s    u   t    i e  the utility function is monotone 
now consider u  with s and t subsets of r s having s  t   if  t    s     or
r s   t does not occur in ext s   then u   t      t    its maximal value  if  s    s   
or r s   s is inaccessible then u   s        thus we may assume that t    i  giving
u   t     i and  s     s     so that r s   s is either a digression or one of the good sets
  i    i     if r s   s is a digression then u   s     i     if it is the good set  i  then
u   s     i      u   t    if it is the good set  i then u   s     i   u   t    it follows that
u  is monotone completing the proof of part  a  

  

fiextremal behaviour in multiagent contract negotiation

for  b  we use 

hu      u    i  


h i      i i





h i       i i












h i    i   i
h    t   i
h    t   i
h t      i

if
if
if
if
if
if

    i 
    i
     s     and  is a digression from  i 
    s   
     s and    ext s  
 is inaccessible or     s    

these choices give ext s   as the unique equitable o contract path to realise the equitable
deal hp       p   t   i  since
min u    i     u    i    
min u    i    u    i   
min u    i      u    i     

 
 
 

 i   
 i
 i    

each deal hp  j     p  j     i is equitable  if q   h  i is any allocation other than p  j    
then the deal hp  j     qi is not an equitable o contract  assume that hp  j     qi is an ocontract  and that q    p  j      p  j        if j    i     so that p  j     h i     i  i
and min u    i     u    i        i    then      s     s       in the first of these
min u      u           in the second min u      u         i    since  must be a
digression  this leaves only j    i with p  j     h i    i i and min u    i    u    i       i  
for this       s  s       if      s then min u      u        i     with equality when
    i     if      s     then min u      u           in total these establish that ext s  
is the unique equitable o contract path realising the equitable deal hp       p   t   i 
that the choices for hu    u  i describe monotone utility functions can be shown by a
similar argument to that of part  a  
 
example   for s     using the same o contract path ext     as the previous example 
i e 
 

h                                                                      i
h                                  i

for hu    u  i in  a  we obtain

hu   s    u   r   s  i  















































h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i

if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if

 s     
 s       and s                                           
s              
s          digression from  
s          digression from  
s              
s              
s          digression from  
s              
s              
s          digression from  
s              
s              
s          digression from  
s              
s              
 s      or s                                                  

  

fidunne

similarly  in  b 

hu   s    u   r   s  i  















































h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h    i
h     i
h    i

if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if
if

 s     
 s       and s                                           
s              
s          digression from  
s          digression from  
s              
s              
s          digression from  
s              
s              
s          digression from  
s              
s              
s          digression from  
s              
s              
 s      or s                                                  

that we can demonstrate similar extremal behaviours for contract path length with
rationality constraints in both money based  individual rationality  and money free  cooperative rationality  equitable  settings irrespective of whether monotonicity properties are
assumed  has some interesting parallels with other contexts in which monotonicity is relevant  in particular we can observe that in common with the complexity results already
noted from  dunne et al          deciding if an allocation is pareto optimal  if an allocation maximises u   or if an ir o contract path exists  requiring utility functions to be
monotone does not result in a setting which is computationally more tractable 

   m  k   contract paths
we now turn to similar issues with respect to m  k   contracts  recalling that in one respect
these offer a form of deal that does not fit into the classification of sandholm         this
classification defines four forms of contract type  o contracts  as considered in the previous
section  s  contracts  that involve exactly   agents swapping single resources  c  contracts 
in which one agent tranfers at least two of its resources to another  and m  contracts in which
three or more agents reallocate their resource holding amongst themselves  our definition
of m  k   contracts permits two agents to exchange resources  thus are not m  contracts in
sandholms        scheme  and the deals permitted are not restricted to o  s   and c contracts  in one regard  however  m  k   contracts are not as general as m  contracts since
a preset bound  k   is specified for the number of agents involved 
our main result on m  k   contract paths is the following development of theorem   
theorem   let k  p   q  be the predicate which
 holds whenever hp   qi is an ir m  k  k
contract  for all k     n  k and m 
  there is a resource allocation setting
 
ha  r  ui and an ir deal    hp   qi for which 
lopt    ha  r  ui  k  
lopt    ha  r  ui  k    
lopt    ha  r  ui  k    

 


  

 
 b m k  k   c

 
is undefined

 a 
 b 
 c 

fiextremal behaviour in multiagent contract negotiation

before presenting the proof  we comment about the formulation of the theorem statement
and give an overview of the proof structure 
we first note that the lower bounds  where defined  have been phrased in terms of
the function lopt as opposed to max used in the various results on o contract paths in
section      it is  of course  the case that the bound claimed for lopt    ha  r  ui  k    
will also be a lower bound on max  n  m  k       when n  k and  p   q  holds whenever
the deal hp   qi is ir  the statement of theorem    however  claims rather more than this 
namely that a specific resource allocation setting ha  r  ui can be defined for each n  k
and each m  together with an ir deal hp   qi in such a way that  hp   qi can be achieved by
a single m  k   contract and cannot be realised by an ir m  k     contract path  recalling
that lopt is a partial function  the latter property is equivalent to the claim made in part
 c  for the deal hp   qi of the theorem statement  furthermore  this same deal although
achievable by an ir m  k     contract path can be so realised only by one whose length is
as given in part  b  of the theorem statement 
regarding the proof itself  there are a number of notational complexities which we have
attempted to ameliorate by making some simplifying assumptions concerning the relationship between m  the size of the resource set r  and k  the number of agents which are
needed to realise hp
   qi
 in a single ir deal  in particular  we shall assume that m is an
exact multiple of k    we observe that by employing a similar device to that used in
the proof
 of theorem   we can deal with cases for which
 m does not have this property  if
k
m   s     q for integer values s    and    q   k    we simply employ exactly the
same construction using m q resources with the missing q resources from rm being allocated to a  and never being reallocated within the m  k     contract path  this approach
accounts for the rounding operation  b     c  in the exponent term of the lower bound  we
shall also assume that the number of agents in a is exactly k   within the proof we use a
running example for which k     and m             to illustrate specific features 
we first give an outline of its structure 
given ha  r  ui a resource allocation setting involving k agents and m resources  our
aim is to define an ir m  k     contract path
   hp       p               p  t  i
that realises the ir m  k   deal hp       p  t  i  we will use d to index particular allocations
within   so that    d  t 
in order to simplify the presentation we employ
 a setting in which the k agents are
a    a    a            ak      recalling that m   s k    the resource set rm is formed by
the union of



k
 



pairwise disjoint sets of size s  given distinct values i and j with
 i j  

 i j  

 i j  

   i   j  k     we use ri j to denote one of these subsets with  r    r 
          rs  
 i j
 
the s resources that form r
 
there are two main ideas underpinning the structure of each m  k     contract in  
firstly  in the initial and subsequent allocations  the resource set r i j   is partitioned
between ai and aj and any reallocation of resources between ai and aj that takes place
within the deal hp  d    p  d    i will involve only resources in this set  thus  for every al d 
location p  d  and each pair  i   j    if h    i   j   then ph  r i j       furthermore  for
  

fidunne

   hp  d    p  d    i should both ai and aj be involved  i e   ai   aj    a   then this reallocation of r i j   between ai and aj will be an o contract  that is  either exactly one
 d 
 d   
element of r i j   will be moved from pi to become a member of the allocation pj
or
 d 

exactly one element of r i j   will be moved from pj

to become a member of the allocation

 d   
pi    intotal  every m  k     contract  in  consists of a simultaneous implementation
 
of k 
o contracts  a single o contract for each of the distinct pairs  ai   aj   of agents
 
from the k    agents in a  

the second key idea is to exploit one well known property of the s dimensional hypercube network  for every s     hs contains a hamiltonian cycle  i e  a simple directed cycle
formed using only the edges of hs and containing all  s vertices   now  suppose
s  v     v       v               v  i            v   

s   

  v    

is a hamiltonian cycle in the hypercube hs and
s  w     w       w               w  i            w   

s   

  w    

the hamiltonian cycle in which w  i  is obtained by complementing each bit in v  i    as we
have described in the overview of section     we can interpret the s bit label v   v  v        vs
 i j  
as describing a particular subset of r i j     i e  that subset in which rk
occurs if and only if
 i j
 
vk      similarly from any subset of r
we may define a unique s bit word  now suppose
 d 
that pi is the allocation held by ai in the allocation p  d  of   the deal    hp  d    p  d    i
 d 
 d   
will affect pi  r i j   in the following way  if i   a or j   a then pi
 r i j    
 d 
 d   
 d 
pi  r i j   and pj
 r i j     pj  r i j     otherwise we have  i   j    a and
 d 

 d 

the  complementary  holdings pi  r i j   and pj  r i j   define  complementary  s bit
labels of vertices in hs   if these correspond to places hv  h    w  h  i in the hamiltonian cycles 
 d   
 d   
 d   
 d   
then in pi
and pj
the s bit labels defined from pi
 r i j   and pj
 r i j  
produce the s bit labels v  h    and w  h      i e  the vertices that succeed v  h  and w  h  in
the hamiltonian cycles  in total  for each j   ai initially holds either the subset of r i j   that
maps to v     or that maps to w     and  at the conclusion of the m  k     path  holds the
s
s
subset that maps to v        or w          the final detail is that the progression through the
hamiltonian cycles is conducted over a series of rounds each round comprising k m  k    deals 
 d 
 d    i that occurs in this path  can
we have noted that each
 m  k   contract  hp   p
k  
be interpreted as a set of
distinct o contracts  an important property of the utility
 
functions employed is that unless p  k    there will beno individually
rational m  p 
 
contract path that realises the deal hp  d    p  d    i  i e  the k 
o contract
deals must
 
occur simultaneously in order for the progression from p  d  to p  d    to be ir  although
the required deal could be realised by a sequence of o contracts  or  more generally  any
suitable m  k     contract path   such realisations will not describe an ir contract path 
   this can be shown by an easy inductive argument  for s      the sequence h                  i defines a
hamiltonian cycle in h    inductively assume that h                p     i  with p    s   is such a cycle in
hs then h           p    p                             p      i defines a hamiltonian cycle in hs    

  

fiextremal behaviour in multiagent contract negotiation

the construction of utility functions to guarantee such behaviour provides the principal
component in showing that the ir deal hp       p  t  i cannot be realised with an ir m  k    contract path  if q is any allocation for which hp       qi is an m  k     contract then
hp       qi is not ir 
we now proceed with the proof of theorem   
proof   of theorem    fix a    a    a            ak      r consists of
sets of s resources
 i j    i j  
r i j      r    r            rs i j    



k
 



pairwise disjoint

for k     and s     these yield a    a    a    a    a    and
r     
r     
r     
r     
r     
r     

 
 
 
 
 
 

     

     

     

  r 
  r 
 
 r 
                 
 r 
  r 
  r 
 
                 
 r 
  r 
  r 
 
                 
  r 
  r 
 
 r 
                 
 r 
  r 
  r 
 
                 
 r 
  r 
  r 
 

we use two ordering structures in defining the m  k     contract path 
a 
s  v     v       v               v  i            v   

s   

  v    

a hamiltonian cycle in hs   where without loss of generality  v                    
b 
s  w     w       w               w  i            w   

s   

  w    

the complementary hamiltonian cycle to this  so that w                    
thus for k     and s     we obtain
a 
b 

s  v     h                                      i
s  w     h                                      i

we can now describe the m  k     contract path 
   hp       p               p  t  i

initial allocation  p      
define the k  k boolean matrix  b    bi j    with    i   j  k     by

bi j  



 

b

j  i

 b
i j  

  

if
if
if

i  j
i  j
i  j

fidunne

we then have for each    i  k  
   

pi

 

i 
 

  r  j  i    bi j      

j   

k 
 

  r  i j     bi j     

j  i  

thus  in our example 





b   



 


 


 


 



 

 








yielding the starting allocation
   

p 
   
p 
   
p 
   
p 

 
 
 
 

r       r     
r     
r       r     
r     

 
 
 
 

h             i
h             i
h             i
h             i






r       r       r     
r       r       r     
r       r       r     
r       r       r     

   

the third column in pi indicating the   bit labels characterising each of the subsets of
r i j   for the three values that j can assume 
rounds  the initial allocation is changed over a series of rounds
q    q            q z
each of which involves exactly k distinct m  k     contracts  we use q x  p to indicate the
allocation resulting after stage p in round x where    p  k     we note the following 
a  the initial allocation  p     will be denoted by q   k    
b  q x    is obtained using a single m  k     contract from q x   k    when x     
c  q x  p is obtained using a single m  k     contract from q x  p   when     p  k     
our final item of notation is that of the cube position of i with respect to j in an allocation
p   denoted  i   j   p    letting u be the s bit string describing pi  r i j   in some allocation
   
p    i   j   p   is the index of u in the hamiltonian cycle s  v    when r i j    pi   or the
   
hamiltonian cycle s  w    when r i j    pj    when p   q x  p for some allocation in the
sequence under construction we employ the notation  i   j   x   p   noting that one invariant
of our path will be  i   j   x   p     j   i   x   p   a property that certainly holds true of p      
q   k   since  i   j      k        j   i      k         
the sequence of allocations in  is built as follows  since q     is the immediate successor
of the initial allocation q   k     it suffices to describe how q x  p is formed from q x  p   when
p      and q x      from q x  k     let q y q be the allocation to be formed from q x  p   the
deal    hq x  p   q y q i will be an m  k     contract in which a   a    aq    for each pair
 i   j    a we have  i   j   x   p     j   i   x   p  in the allocation q x  p   in moving to q y q
exactly one element of r i j   is reallocated between ai and aj in such a way that in q y q  
  

fiextremal behaviour in multiagent contract negotiation

 i   j   y  q     i   j   x   p     since ai and aj are tracing complementary hamiltonian cycles
with respect to r i j   this ensures that  j   i   y  q     j   i   x   p       thereby maintaining
the invariant property 
noting that for each distinct pair hi   j i  we either have r i j   allocated to ai in p    
or r i j   allocated to aj in p       the description just outlined indicates that the allocation
p  d    q x  p is completely specified as follows 
the cube position   i   j   x   p   satisfies 

 i   j   x   p   


 





      i   j   x     k    

 i   j   x     k    




     i   j   x   p    




 i   j   x   p    

if
if
if
if
if

x     and p   k   
x     p      and p    i   j  
x     p      and p   i   j  
   p  k     and p    i   j  
   p  k     and p   i   j  

for each i   the subset of r i j   that is held by ai in the allocation q x  p is 

v   i j  x  p  
w   i j  x  p  

if
if

   

r i j    pi
   
r i j    pj

 where we recall that s bit labels in the hypercube hs are identified with subsets
of r i j     
the tables below illustrates this process for our example 

d
 
 
 
 
 
 
 
 
 
  
 

x
 
 
 
 
 
 
 
 
 
  
 

p
 
 
 
 
 
 
 
 
 
  
 

i j
  
   
   
   
   
   
   
   
   
   

a 
i j i j
     
       
       
       
       
       
       
       
       
       
  
 
subsets

i j
  
   
   
   
   
   
   
   
   
   

a 
i j
  
   
   
   
   
   
   
   
   
   
  
 

i j
  
   
   
   
   
   
   
   
   
   

i j
  
   
   
   
   
   
   
   
   
   

of r i j   held by ai

  

a 
i j i j
     
       
       
       
       
       
       
       
       
       
  
 
in q x  p  k

i j
  
   
   
   
   
   
   
   
   
   
    

a 
 d  
 p  d  i
i j i j ahp
     
       

         a    a    a   
         a    a    a   
         a    a    a   
         a    a    a   
         a    a    a   
         a    a    a   
         a    a    a   
         a    a    a   
  
  
 
 
s     

fidunne

d
 
 
 
 
 
 
 
 
 
  
 

x
 
 
 
 
 
 
 
 
 
  
 

p
 
 
 
 
 
 
 
 
 
  
 

a 
a 
a 
a 
 d    p  d  i
i j i j i j i j i j i j i j i j i j i j i j i j ahp
                                   
 
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
 
 
 
 
 
 
 
 
 
 
 
   a    a    a   
  
  
  
  
  
 
 
 
 
 
cube positions  i   j   x   p   k      s     

it is certainly the case that this process of applying successive rounds of k deals could be
continued  however  we wish to do this only so long as it is not possible to go from some
allocation p  d  in the sequence to another p  d r   for some r    via an m  k     contract 
now if q x  p and q y q are distinct allocations generated by the process above then the
deal    hq x  p   q y q i is an m  k     contract if and only if for some ai   qix  p   qiy q   it
follows that if hp  d    p  d r   i is an m  k     contract for some r      then for some i and
 d r  
 d 
all j    i   pi
 r i j     pi  r i j    
 d r  
 d 
to determine the minimum value of r     with which pi
  pi   we observe that
without loss of generality we need consider only the case d   i      i e  we determine
   
the minimum number of deals before p  reappears  first note that in each round  q x   if
    j   x     k       p then     j   x   k       p   k     i e  each round advances the cube
position k    places      j   x     k           j   x      and     j   x   j         j   x   j     
   
we can also observe that p    q   k      q x  p for any p with     p   k     since
       x   p           x   p                k     x   p 
only in the cases p     and p   k     it follows that our value r     must be of the form
qk where q must be such that q k     is an exact multiple of  s   from this observation we
see that 
   

min  r       p 

   r  

  p 

    min  qk   q k     is a multiple of  s  

now  if k is odd then q    s is the minimal such value  so that r   k  s   if k is even then
it may be uniquely written in the form z  l     where z is odd so giving q as    if l  s  or
 sl  if l  s   so that these give r   k and r   z  s    sl     e g  for k     and s      we
   
    
get k             so that r                   and in our example p    p  may be
easily verified  in total 
r


s

 k 

k


  s

if
if
if

k is odd
k   z  l      z is odd  and l  s
k   z  l      z is odd and l  s
  

fiextremal behaviour in multiagent contract negotiation

all of which immediately give r   s  in the second case k   s   so the inequality holds
s
trivially   and thus we
 can
 continue the chain of m  k     contracts for at least   moves 
recalling that m   s k    this gives the length of the m  k     contract path
   hp       p               p  t  i
written in terms of m and k as at least 
m 



 

k
 


 m

       k  k      

it remains to define appropriate utility functions u   hu            uk   i in order to ensure that
 is the unique ir m  k     contract path realising the ir m  k   deal hp       p  t  i  in
defining u it will be convenient to denote  as the path
   hq   k     q       q               q   k             q x  p           q r  k   i
and  since rk   s   we may without loss of generality  focus on the first  s allocations in
this contract path 
recalling that  i   j   x   p  is the index of the s bit label u corresponding to qix  p  r i j  
in the relevant hamiltonian cycle  i e  s  v   if r i j    qi  k   s  w   if r i j    qj  k    we
note the following properties of the sequence of allocations defined by  that hold for each
distinct i and j  
p    x   p  i   j   x   p     j   i   x   p 
p   if q y q is the immediate successor of q x  p in  then  i   j   y  q    i   j   x   p     
with equality if and only if q    i   j   
p    i     j   with    i     j    k      i   j   x   k        i     j     x   k     
the first two properties have already been established in our description of   the third
follows from the observation that within each round q x   each cube position is advanced by
exactly k    in progressing from q x     to q x  k    
the utility function ui is now given  for s  rm   by
  p

j   i
 km

ui  s    

 i   j   x   p 

if s   qix  p for some    x  r      p  k   
otherwise

we claim that  with these choices 
   hq   k     q       q               q   k             q x  p           q r  k   i
is the unique ir m  k     contract path realising the ir m  k   deal hq   k     q r  k   i  certainly   is an ir m  k     contract path  each deal    hq x  p   q y q i on this path has
 a     k    and since for each agent ai in a   a    aq   the utility of qiy q has increased
   we omit the
operation b     c in the exponent  which is significant only if m is not an exact
 rounding

multiple of

k
 

  in which event the device described in our overview of the proof is applied 

  

fidunne

by exactly k     i e  each cube position of i with respect to j whenever q    i   j   has
increased  it follows that u  q y q     u  q x  p   and hence hq x  p   q y q i is ir 
we now show that  is the unique ir m  k     contract path continuation of q   k  
suppose    hq x  p   p i is a deal that deviates from the contract path   having followed
it through to the allocation q x  p    certainly both of the following must hold of p   for
each i   pi  j   i r i j     and there is a k  tuple of pairs h x    p              xk     pk    i with
which pi   qixi  pi   for if either fail to be the case for some i   then ui  pi      km with the
consequent effect that u  p       and thence not ir  now  if q y q is the allocation that
would succeed q x  p in  then p    q y q   and thus for at least one agent  qixi  pi    qiy q  
it cannot be the case that qixi  pi corresponds to an allocation occurring strictly later than
qiy q in  since such allocations could not be realised by an m  k     contract  in addition 
since pi   qixi  pi it must be the case that  a     k    since exactly k    cube positions in
the holding of ai must change  it follows that there are only two possibilities for  yi   pi   
pi reverts to the allocation immediately preceding qix  p or advances to the holding qiy q  
it now suffices to observe that a deal in which some agents satisfy the first of these while
the remainder proceed in accordance with the second either does not give rise to a valid
allocation or cannot be realised by an m  k    contract  on the other hand if p corresponds
to the allocation preceding q x  p then  is not ir  we deduce  therefore  that the only ir
m  k     deal that is consistent with q x  p is that prescribed by q y q  
this completes the analysis needed for the proof of part  b  of the theorem  it is
clear that since the system contains only k agents  any deal hp   qi can be effected with
a single m  k   contract  thereby establishing part  a   for part  c   that the ir deal
hp       p  t  i cannot be realised using an individually rational m  k     contract path  it
suffices to observe that since the class of ir m  k     contracts are a subset of the class
of ir m  k     contracts  were it the case that an ir m  k     contract path existed to
implement hp       p  t  i  this would imply that  was not the unique ir m  k     contract
path  we have  however  proved that  is unique  and part  c  of the theorem follows   
we obtain a similar development of corollary   in
corollary   for all k     n  k   m 



k
 



and each of the cases below 

a  k    holds if and only if  is a cooperatively rational m  k   contract 
   holds if and only if  is cooperatively rational 
b  k    holds if and only if  is  is an equitable m  k   contract 
   holds if and only if  is is equitable 
there is a resource allocation setting ha  r  ui and a  deal    hp   qi for which
lopt    ha  r  ui  k  
lopt    ha  r  ui  k    
lopt    ha  r  ui  k    

 


 
 b m k  k   c   
is undefined

 a 
 b 
 c 

proof  as with the proof of corollary   in relation to theorem    in each case we employ
the contract path from the proof of theorem    varying the definition of u   hu    u            uk i
in order to establish each result  thus let
m

 
 

hp       p               p  r             p  t  i
hq   k     q               q x  p           q z  r i
  

fiextremal behaviour in multiagent contract negotiation

be the m  k     contract path realising the m  k   deal hp       p  t  i described in the proof
of theorem    this path having length t   b m k  k        
a  the utility functions u   hu            uk   i of theorem   ensure that hp       p  t  i is
cooperatively rational and that m is a cooperatively rational m  k     contract
path realising hp       p  t  i  the utility held by ai never decreases in value and there is
at least one agent  in fact exactly k     whose utility increases in value  furthermore
m is the unique cooperatively rational m  k     contract path realising hp       p  t  i
since  by the same argument used in theorem    any deviation will result in some
agent suffering a loss of utility 
b  set the utility functions u   hu            uk   i as 

ui  s    



 





xk     k  i



 

 x    k   k   p


 x    k     k  i   p    





xk      


 xk         p  i

if
if
if
if
if
if

s
s
s
s
s
s

   qix  p for any q x  p  m
  qix  k  
  q x  p   p   k    and i    
  qix  p   p   i    and i      
  qix  i    qix  i and i      
  qix  p   p   i and i     

to see that these choices admit m as an equitable m  k     contract path realising
the equitable deal hq   k     q z  r i  we first note that
min

 ik  

 ui  qiz  r         

min

 ik  

 ui  qi  k     

thus  hq   k     q z  r i is indeed equitable  consider any deal    hq x  p   q y q i occurring
within m   it suffices to show that
min

 ik  

 ui  qix  p       uq  qqx  p  

since aq   a   and for all other agents ui  qiy q     ui  qix  p    we have two possibilities 
q      in which case p   k    and y   x       q      in which case p   q     
consider the first of these  u   q x  k       xk     k   however 
 k  
 
min ui  qix  k        xk         uk    qkx 

and hence every deal hq x  k     q x      i forming part of m is equitable 
in the remaining case  uq  qqx  q      xk       and
min ui  qix  q    


 
 
 
 
 

u   q x  q   
 x    k     k   q   
xk     k     k     
xk     k     
xk      
uq  qqx  q   

and thus the remaining deals hq x  q    q x  q i within m are equitable  by a similar
argument to that employed in theorem   it follows that m is the unique equitable
m  k     contract path realising hq   k     q z  r i 
 

  

fidunne

monotone utility functions and m  k   contract paths
the device used to develop theorem   to obtain the path of theorem   can be applied
to the rather more intricate construction of theorem    thereby allowing exponential lower
bounds on max
mono  n  m  k     to be derived  we will merely outline the approach rather than
present a detailed technical exposition  we recall that it became relatively straightforward
to define suitable monotone utility functions once it was ensured that the subset sizes of
interest  i e  those for allocations arising in the o contract path  were forced to fall into
a quite restricted range  the main difficulty that arises in applying similar methods to the
path  of theorem   is the following  in the proof of theorem   we consider two agents
so that converting s from a setting with s resources in theorem   to ext s   with  s
resources in theorem   is achieved by combining complementary allocations  i e    rs
with   ts   we can exploit two facts  however  to develop a path multi    for which
monotone
utility functions could be defined  the resource set rm in theorem   consists of


k
disjoint sets of size s  and any deal  on the path  involves a reallocation of r i j  
 
between ai and aj when  i   j    a   thus letting tm be formed by
t  i j   each of size s  suppose that
 d 

 d 
pi

 d 



k
 



disjoint sets 

is described by
 d 

 d 

 d 

i   i      i i  i i      i k  
 d 

with i j the s bit label corresponding to the subset of r  i j   that is held by ai in p  d   
consider the sequence of allocations 
multi      hc       c               c  t  i
 d 

in a resource allocation setting have k agents and  m resources  rm  tm for which ci
is characterised by
 d   d 
 d 
 d 
 d 
i   i      i i  i i      i k  
 d 

in this  i j   indicates the subset of r i j    t  i j   described by the  s bit label 
 d 

i j
 d 

 d 

 d 

  i j i j
 d 

i e  i j selects a subset of r i j   while i j a subset of t  i j    
it is immediate from this construction that for each allocation c  d  in multi    and each
 d 
ai   it is always the case that  ci      k    s  it follows  therefore  that the only subsets
that are relevant to the definition of monotone utility functions with which an analogous
result to theorem   for the path multi    could be derived  are those of size  k    s  if
s  rm tm has  s      k   s  we can fix ui  s   as a small enough negative value  similarly
if  s      k    s then ui  s   can be set to a large enough positive value  
our description in the preceding paragraphs  can be summarised in the following result  whose proof is omitted  extending the outline given above to a formal lower bound
   it is worth noting that the interpolation stage used in theorem   is not needed in forming multi   
the deal hc  d    c  d    i is an m  k    contract  we recall that in going from s of theorem   to ext s  
the intermediate stage  double s    was not an o contract path 

  

fiextremal behaviour in multiagent contract negotiation

proof  is largely a technical exercise employing much of the analysis already introduced  and
since nothing signifcantly new is required for such an analysis we shall not give a detailed
presentation of it 
theorem   let k  p   q  be the predicate which
 holds whenever hp   qi is an ir m  k  contract  for all k     n  k and m    k    there is a resource allocation setting
ha  r  ui in which every u  u is monotone  and an ir deal    hp   qi for which 
lopt    ha  r  ui  k  
lopt    ha  r  ui  k    
lopt    ha  r  ui  k    

 


 
 bm k  k   c

 
is undefined

 a 
 b 
 c 

   related work
the principal focus of this article has considered a property of contract paths realising rational reallocations hp   qi when the constituent deals are required to conform to a structural
restriction and satisfy a rationality constraint  in section   the structural restriction limited
deals to those involving a single resource  i e  o contracts  for the rationality constraint
forcing deals strictly to improve utilitarian social welfare  i e  to be individually rational
 ir  we have the following properties 
a  there are resource allocation settings ha  r  ui within which there are ir reallocations
hp   qi that cannot be realised by a sequence of ir o contracts   sandholm       
proposition   
b  every ir reallocation  hp   qi  that can be realised by an ir o contract path  can be
realised by an ir o contract path of length at most n m   n    m   sandholm       
proposition   
c  given ha  r  ui together with an ir reallocation hp   qi the problem of deciding if
hp   qi can be implemented by an ir o contract path is nphard  even if  a      and
both utility functions are monotone   dunne et al         theorem     
d  there are resource allocation settings ha  r  ui within which there are ir reallocations
hp   qi that can be realised by an ir o contract path  but with any such path having
length exponential in m  this holds even in the case  a      and both utility functions
are monotone   theorem   and theorem   of section   
in a recent article endriss and maudet      a  analyse contract path length also considering
o contracts with various rationality constraints  although the approach is from a rather
different perspective  the central question addressed  how many rational deals are required
to reach an optimal allocation    endriss   maudet      a  table    p        is closely
related to the issues discussed above  one significant difference in the analysis of rational ocontracts from sandholms        treatment and the results in section   is that in  endriss
  maudet      a  the utility functions are restricted so that every rational reallocation
hp   qi can be realised by a rational o contract path  the two main restrictions examined
p
are requiring utility functions to be additive  i e  for every s  r  u s     r s u r   
  

fidunne

and  requiring the value returned to be either   or    so called      utility functions 
additive utility functions are considered in the case of ir o contracts  endriss   maudet 
    a  theorems        whereas    utility functions for cooperatively rational o contracts
max
 endriss   maudet      a  theorems         using max
add  n  m      and     n  m     
to denote the functions introduced in definition   where all utility functions are additive
 respectively      cf  the definition of max
mono   then with    p   q  holding if hp   qi is an ir
o contract     p   q  holding if hp   qi is a cooperatively rational o contract and  p   q 
true when hp   qi is ir  we may formulate theorems   and    of  endriss   maudet      a 
in terms of the framework used in definition    as
max
add  n  m       
max
    n  m       

 
 

m
m

 endriss   maudet      a  theorem   
 endriss   maudet      a  theorem    

we can  of course  equally couch theorems   and   of section   in terms of the shortestpath convention adopted in  endriss   maudet      a   provided that the domains of
utility and reallocation instances are restricted to those for which an appropriate o contract
path exists  thus  we can obtain the following development of  endriss   maudet      a 
table    in the case of o contracts 
utility functions
rationality
shortest path
complete

additive
ir
m
yes

   
cr
m
yes

unrestricted
ir
  m  
no

monotone
ir
  m    
no

unrestricted
cr
  m  
no

monotone
cr
  m    
no

table    how many o contract rational deals are required to reach an allocation 
extension of table   from  endriss   maudet      a  p      

   conclusions and further work
our aim in this article has been to develop the earlier studies of sandholm        concerning
the scope and limits of particular practical contract forms  while sandholm        has
established that insisting on individual rationality in addition to the structural restriction
prescribed by o contracts leads to scenarios which are incomplete  in the sense that there
are individually rational deals that cannot be realised by individually rational o contracts 
our focus has been with respect to deals which can be realised by restricted contract paths 
with the intention of determining to what extent the combination of structural and rationality conditions increases the number of deals required  we have shown that  using a number
of natural definitions of rationality  for settings involving m resources  rational o contract
paths of length   m   are needed  whereas without the rationality restriction on individual
deals  at most m o contracts suffice to realise any deal  we have also considered a class
of deals  m  k   contracts  that were not examined in  sandholm         establishing for
these cases that  when particular rationality conditions are imposed  m  k     contract
 
paths of length    m k   are needed to realise a deal that can be achieved by a single
m  k   contract 
we note that our analyses have primarily been focused on worst case lower bounds
on path length when appropriate paths exist  and as such there are several questions of
  

fiextremal behaviour in multiagent contract negotiation

practical interest that merit further discussion  it may be noted that the path structures
and associated utility functions are rather artificial  being directed to attaining a path of a
specific length meeting a given rationality criterion  we have seen  however  in theorems  
and   as outlined in our discussion concluding section   that the issue of exponential length
contract paths continues to arise even when we require the utility functions to satisfy a
monotonicity condition  we can identify two classes of open question that arise from these
results 
firstly  focusing on ir o contract paths  it would be of interest to identify natural
restrictions on utility functions which would ensure that  if a deal hp   qi can be implemented
by an ir o contract path  then it can be realised by one whose length is polynomially
bounded in m  e g  such as additivity mentioned in the preceding section  we can interpret
theorem    as indicating that monotonicity does not guarantee short ir contract paths 
we note  however  that there are some restrictions that suffice  to use a rather trivial
example  if the number of distinct values that u can assume is at most m p for some
constant p then no ir o contract path can have length exceeding m p   successive deals
must strictly increase u and if this can take at most k different values then no ir contract
path can have length exceeding k   as well as being of practical interest  classes of utility
function with the property being considered would also be of some interest regarding one
complexity issue  the result proved in  dunne et al         establishing that deciding if an
ir o contract path exists is np hard  gives a lower bound on the computational complexity
of this problem  at present  no  non trivial  upper bound on this problems complexity
has been demonstrated  our results in theorems   and   indicate that if this decision
problem is in np  thus its complexity would be npcomplete rather than nphard  then
the required polynomial length existence certificate may have to be something other than
the path itself    we note that the proof of nphardness in  dunne et al         constructs
an instance in which u can take at most o m  distinct values  thus  from our example of
a restriction ensuring that if such are present then ir o contract paths are short  this
result of  dunne et al         indicates that the question of deciding their existence might
remain computationally hard 
considering restrictions on the form of utility functions is one approach that could be
taken regarding finding tractable cases  an alternative would be to gain some insight
into what the average path length is likely to be  in attempting to address this question 
however  a number of challenging issues arise  the most immediate of these concerns 
of course  the notion of modeling a distribution on utility function given our definitions
of rationality in terms of the value agents attach to their resource holdings  in principle
an average case analysis of scenarios involving exactly two agents could be carried out in
purely graph theoretic terms  i e  without the complication of considering utility functions
directly  it is unclear  however  whether such a graph theoretic analysis obviating the need
for consideration of literal utility functions  can be extended beyond settings involving
exactly two agents  one difficulty arising with three or more agents is that our utility
    the use of may rather than must is needed because of the convention for representing utility functions
employed in  dunne et al         

  

fidunne

functions have no allocative externalities  i e  given an allocation hx   y   z i to three agents 
u   x   is unchanged should y  z be redistributed among a  and a     
as one final set of issues that may merit further study we raise the following  in
our constructions  the individual deals on a contract path must satisfy both a structural
condition  be an o contract or involve at most k agents   and a rationality constraint 
focusing on o contracts we have the following extremes  from  sandholm         at most
m o contracts suffice to realise any rational deal  from our results above    m   rational
o contracts are needed to realise some rational deals  there are a number of mechanisms
we can employ to relax the condition that every single deal be an o contract and be
rational  for example  allow a path to contain some number of deals which are not ocontracts  but must still be ir  or insist that all deals are o contracts but allow some to
be irrational  thus  in the latter case  if we go to the extent of allowing up to m irrational
o contracts  then any rational deal can be realised efficiently  it would be of some interest
to examine issues such as the effect of allowing a constant number  t  of irrational deals
and questions such as whether there are situations in which t irrational contracts yield
a short contract path but t    force one of exponential length  of particular interest 
from an application viewpoint  is the following  define a   m   o  path as an o contract
path containing at most  m  o contracts which are not individually rational  we know
that if  m      then individually rational     o  paths are not complete with respect to
individually rational deals  similarly if  m    m then  m  o  paths are complete with
respect to individually rational deals  a question of some interest would be to establish
if there is some  m    o m  for which   m   o  paths are complete with respect to
individually rational deals and with the maximum length of such a contract path bounded
by a polynomial function of m 

acknowledgements
the author thanks the reviewers of an earlier version of this article for their valuable comments and suggestions which have contributed significantly to its content and organisation 
the work reported in this article was carried out under the support of epsrc grant
gr r         

references
abbott  h  l     katchalski  m          on the construction of snake in the box codes 
utilitas mathematica            
atkinson  a          on the measurement of inequality  jnl  econ  theory            
chateauneaf  a   gajdos  t     wilthien  p  h          the principle of strong diminishing
transfer  jnl  econ  theory              
    a very preliminary investigation of complexity theoretic questions arising in settings with allocative
externalities is presented in  dunne        where these are referred to as contextdependent  such
utility functions appear to have been neglected in the computational and algorithmic analysis of resource
allocation problems  although the idea is well known to game theoretic models in economics from which
the term allocative externality originates 

  

fiextremal behaviour in multiagent contract negotiation

dignum  f     greaves  m          issues in agent communication  vol       of lncs 
springer verlag 
dunne  p          prevarication in dispute protocols  in proc  ninth international conf 
on a i  and law  icail     pp        edinburgh  acm press 
dunne  p          context dependence in multiagent resource allocation  in proc  ecai   
pp          valencia 
dunne  p     mcburney  p          optimal utterances in dialogue protocols  in proc  second international joint conf  on autonomous agents and multiagent systems  aamas     pp          acm press 
dunne  p   wooldridge  m     laurence  m          the complexity of contract negotiation 
tech  rep  ulcs         dept  of computer science  univ  of liverpool   to appear
artificial intelligence  
endriss  u     maudet  n       a   on the communication complexity of multilateral trading  in proc  third international joint conf  on autonomous agents and multiagent
systems  aamas     pp         
endriss  u     maudet  n       b   welfare engineering in multiagent systems  in omicini 
a   petta  p     pitt  j   eds    proc  fourth international workshop on engineering
societies in the agents world  esaw        vol       of lnai  pp         springerverlag 
endriss  u   maudet  n   sadri  f     toni  f          on optimal outcomes of negotiations
over resources  in proc  second international joint conf  on autonomous agents and
multiagent systems  aamas     pp          acm press 
kautz  w  h          unit distance error checking codes  ire trans  on electronic computers            
kolm  s  c          unequal inequalities  jnl  econ  theory            
kraus  s          strategic negotiation in multiagent environments  mit press 
mcburney  p   parsons  s     wooldridge  m          desiderata for argumentation protocols  in proc  first international  joint conf  on autonomous agents and multiagent
systems  aamas     pp          acm press 
parkes  d  c     ungar  l  h       a   iterative combinatorial auctions  theory and practice 
in proc    th national conf  on artificial intelligence  aaai      pp       
parkes  d  c     ungar  l  h       b   preventing strategic manipulation in iterative
auctions  proxy agents and price adjustment  in proc    th national conf  on artificial
intelligence  aaai      pp       
rosenschein  j  s     zlotkin  g          rules of encounter  mit press 
sandholm  t  w          contract types for satisficing task allocation  i theoretical results 
in aaai spring symposium  satisficing models 
sandholm  t  w          distributed rational decision making  in wei  g   ed    multiagent systems  pp          mit press 

  

fidunne

sandholm  t  w          algorithm for optimal winner determination in combinatorial
auctions  artificial intelligence           
sandholm  t  w     suri  s          bob  improved winner determination in combinatorial
auctions and generalizations  artificial intelligence            
sandholm  t  w   suri  s   gilpin  a     levine  d          cabob  a fast optimal algorithm
for combinatorial auctions   in proc  ijcai     pp           
smith  r  g          the contract net protocol  high level communication and control in a
distributed problem solver  ieee trans  on computers  c                   
tennenholz  m          some tractable combinatorial auctions  in proc    th national
conf  on artificial intelligence  aaai     
yokoo  m   sakurai  y     matsubara  s          the effect of false name bids in combinatorial auctions  new fraud in internet auctions  games and economic behavior 
               

  

fi