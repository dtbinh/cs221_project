journal of artificial intelligence research                  

submitted        published      

the logical difference for the
lightweight description logic el
boris konev
michel ludwig

konev liverpool ac uk
michel ludwig liverpool ac uk

department of computer science
university of liverpool  uk

dirk walther

dirk walther upm es

departamento inteligencia artificial  facultad de informatica
universidad politecnica de madrid  spain

frank wolter

wolter liverpool ac uk

department of computer science
university of liverpool  uk

abstract
we study a logic based approach to versioning of ontologies  under this view  ontologies
provide answers to queries about some vocabulary of interest  the difference between
two versions of an ontology is given by the set of queries that receive different answers 
we investigate this approach for terminologies given in the description logic el extended
with role inclusions and domain and range restrictions for three distinct types of queries 
subsumption  instance  and conjunctive queries  in all three cases  we present polynomialtime algorithms that decide whether two terminologies give the same answers to queries
over a given vocabulary and compute a succinct representation of the difference if it is nonempty  we present an implementation  cex   of the developed algorithms for subsumption
and instance queries and apply it to distinct versions of snomed ct and the nci ontology 

   introduction
terminologies are lightweight ontologies that are used to provide a common vocabulary
for a domain of interest together with descriptions of the meaning of terms built from the
vocabulary and relationships between them  they are being used in areas such as medical
informatics  bio informatics  and the semantic web to capture domain semantics and promote interoperability  terminologies are often large and complex  for example  the widely
used medical terminology snomed ct  systematized nomenclature of medicine clinical
terms  contains more than         term definitions  ihtsdo         another example is
the national cancer institute ontology  nci  consisting of more than        axioms  golbeck  fragaso  hartel  hendler  oberhaler    parsia         engineering  maintaining  and
using such terminologies is a complex and laborious task  which is practically unfeasible
without appropriate tool support  in this article  we focus on a principled logic based
approach to support for terminology versioning 
dealing with multiple versions of the same information unit is nothing new in computing  and version control is a well established computer technology  although modern version
control systems provide a range of operations including support for collaborative development  branching  merging  etc   these operations extend and rely on the basic operations of
c
    
ai access foundation  all rights reserved 

fikonev  ludwig  walther    wolter

detecting and representing the differences between versions  in this paper  we focus on this
basic problem of versioning 
the need for versioning support is recognised by the ontology research community and
ontology users  and a large number of approaches and tools have been developed  in our
review of currently existing support for ontology versioning  we distinguish three approaches
and describe them according to the difference between ontologies they compute 
   versioning based on syntactic difference  syntactic diff  
   versioning based on structural difference  structural diff  
   versioning based on logical difference  logical diff  
the syntactic diff underlies most existing version control systems used in software development  conradi   westfechtel         such as  for example  rcs  cvs  sccs   it works
with text files and represents the difference between versions as blocks of text present in one
version but not another  ignoring any meta information about the document  as observed
already in the work of noy and musen         ontology versioning cannot rely on a purely
syntactic diff operation since many syntactic differences  e g   the order of ontology axioms 
do not affect the semantics of ontologies  therefore  ontology versioning based on syntactic
difference is essentially limited to comparing rather informal change logs  oliver  shahar 
shortliffe    musen        
the structural diff extends the syntactic diff by taking into account information about
the structure of ontologies  it has been suggested for dealing with structured and hierarchical documents such as uml diagrams  database schemas  or xml documents  see  e g  
ohst  welle    kelter        and references within   for ontologies  the main characteristic
of the structural diff is that it regards them as structured objects  such as an is a taxonomy  noy   musen         a set of rdf triplets  klein  fensel  kiryakov    ognyanov 
      or a set of class defining axioms  redmond  smith  drummond    tudorache       
jimenez ruiz  cuenca grau  horrocks    llavori         changes to ontologies are mostly
described in terms of structural operations  for example  adding or deleting a class  extending a class  renaming slots  moving a class from one place in the hierarchy to another 
adding or deleting an axiom  class renaming  etc   sometimes basic logical properties of
ontologies  e g   the equivalence of different structural forms of concepts  are also taken into
account  palma  haase  corcho    gomez perez        jimenez ruiz et al          ontology versioning based on structural diff of some form is available in most current ontology
editors and ontology management systems either natively or through plugins  noy   musen 
      klein et al         jimenez ruiz et al         
though very helpful  the structural diff still has the deficiency of having no unambiguous semantic foundation and being syntax dependent  moreover  it is tailored towards
applications of ontologies which are based on the induced concept hierarchy  or some mild
extension of it   but does not capture modern applications such as ontology based data access  obda   poggi  lembo  calvanese  giacomo  lenzerini    rosati        lutz  toman 
  wolter        in which ontologies are used to provide a user oriented view of the data
   

fithe logical difference for the lightweight description logic el

and make it accessible via queries formulated solely in the language of the ontology without
any knowledge of the actual structure of the data  
the logical diff has only been recently introduced  konev  walther    wolter       
kontchakov  wolter    zakharyaschev        and completely abstracts from the representation of the ontology  here  an ontology is regarded as a set of axioms formulated in a logical
language with a formal and unambiguous semantics  under this view  ontologies provide
answers to queries about some vocabulary of interest  typical queries include subsumption
queries between concepts and  if the ontology is used to access instance data  instance and
conjunctive queries  the logical diff is motivated by this view  if two versions of an ontology
give the same answers to a class of queries relevant to an application domain  they may be
deemed to have no difference regardless of their syntactic or structural form  and queries
producing different answers from the versions may be considered as a characterisation of
the difference itself  in this way one can  for example  define exactly the differences visible
when querying instance data or exactly the differences expressed by subsumptions between
concepts 
to make this approach work in practice  at least two problems have to be addressed 
 for most ontology languages and classes of queries the computational complexity of
even detecting if two ontology versions differ over a certain vocabulary is at least
one exponential harder than ontology classification and is sometimes undecidable 
and even if the computational complexity does not increase  searching for differences
between ontologies within a certain vocabulary requires techniques that are very different from those used for standard reasoning  lutz  walther    wolter        lutz
  wolter        cuenca grau  horrocks  kazakov    sattler        
 if the set of queries producing different answers from the two versions is not empty 
it is typically infinite and  therefore  cannot be presented to the user as such  thus 
techniques to succinctly characterise its elements and present them to the user are
required 
the aim of this paper is to provide first steps toward solutions to these problems for
terminologies  aka classical tboxes  given in the description logic elhr that extends the
description logic el underlying the owl   el profile with role inclusions and domain and
range restrictions  baader  brandt    lutz         our main contributions are as follows 
   it has been argued that syntax dependence should be regarded as an advantage rather than a deficiency
in the context of versioning  goncalves  parsia    sattler        jimenez ruiz et al          for example  jimenez ruiz et al  argue that logical equivalence between ontologies can be too permissive  even if
o  o   the strongest assumption from a semantic point of view  conflicts may still exist  this might
result from the presence of incompatible annotations  statements that act as comments and do not carry
logical meaning   or a mismatch in modelling styles  for example  o may be written in a simple language
such as the owl   el profile and contain     a v b u c   while o  may contain     b t c v a  
even though     the explicit use of negation and disjunction means that o  is outside the el profile 
we agree with jimenez ruiz et al  and goncalves et al  that there are various applications in which a
structural rather than logical difference is appropriate  even a syntactic diff has applications in ontology
versioning  in practice  we see logic based approaches as complementary to structural approaches  an
interesting analysis of nci versions taking into account both structural and logical differences is given
in the work of goncalves et al 

   

fikonev  ludwig  walther    wolter

 for subsumption  instance  and conjunctive queries  we present polynomial time algorithms
that decide whether two elhr  terminologies give different answers to some query from the
respective class of queries over a given signature of concept and role names  note that we
use the terms signature and vocabulary synonymously  
 besides of a polynomial time decision procedure detecting differences  we also develop a
succinct presentation of the  typically infinite  difference  this presentation can be computed in polynomial time as well 
 we present two different types of polynomial time algorithms for deciding the existence
of logical differences between terminologies and for computing a succinct representation
of it  the first type of algorithms is conceptually more transparent as it keeps the two
input terminologies separate and reduces  a substantial part of  the difference problem to
an instance checking problem for an abox  such algorithms are  however  not sufficiently
efficient on very large inputs  for example  substantial performance problems occur when
computing the differences between versions of snomed ct on their joint signature since
the constructed abox is typically of quadratic size in the input terminologies  the second
variant of algorithms  which is based on dynamic programming  is more efficient in practice 
it is developed in detail for acyclic elhr  terminologies 
 we present an implementation  cex   that is based on the second type of algorithms and
computes a succinct representation of the difference between acyclic elhr  terminologies
for the concept and instance query case  in addition  a prototype implementation of the
abox based algorithm is used to estimate its efficiency 
 as an important tool in our investigation  we present description logics  elran and
elran u u   that capture as subsumption differences the instance and query difference between elhr  terminologies  this result is presented for general elhr  tboxes and can 
therefore  be exploited in future work on versioning for general elhr  tboxes 
 we present experiments using cex  that illustrate the efficiency of the algorithms and
potential applications to terminologies such as snomed ct and nci  a plugin for protege
is discussed  cex  extends the functionality of the first version of cex  konev  walther   
wolter        and of the owldiff plugin  kremen  smd    kouba         which implements
the algorithms developed by konev  walther  and wolter  based on snomed ct  we also
investigate the performance of the abox based algorithms in practice 
this paper is based on  and extends the work of konev  walther  and wolter        
to improve readability  a number of proofs have been deferred to an appendix 

   preliminaries
let nc   nr   and ni be countably infinite and mutually disjoint sets of concept names  role
names  and individual names  el concepts c are built according to the rule
c   

a

 

 

  c ud

 

r c 

where a  nc   r  nr   and c  d range over el concepts  the set of elhr  inclusions
consists of
 concept inclusions c v d  ran r  v d and ran r  u c v d 
   

fithe logical difference for the lightweight description logic el

 concept equations c  d  and
 role inclusions r v s 
where c and d are el concepts and r  s  nr   an elhr  tbox t is a finite set of elhr inclusions  inclusions of the form ran r  v d and ran r uc v d are also referred to as range
restrictions  and inclusions of the form r   v d are referred to as domain restrictions 
an elhr  tbox is called an elhr  terminology if all its concept inclusions and equations
are of the form
 a v c and a  c 
 ran r  v c  and
 r   v c 
where a  nc and r  nr   c is an el concept such that c       c      u    etc   and no
concept name occurs more than once on the left hand side  note that  in concept inclusions
of the form r   v c  the concept r   is often denoted dom r   a terminology is acyclic
 or unfoldable  if the process of exhaustively substituting definitions in place of the defined
concept names terminates  for example  if a terminology contains a concept inclusion
mother v hasmother mother
it is not acyclic  formally  consider the relation t between concept names by setting
a t b if there exists an elhr  inclusion of the form a  c or a v c in t such that b
occurs in c  a terminology t is acyclic if the transitive closure  
t of t is irreflexive 
in description logic  instance data are represented by abox assertions of the form   a  
a a  and r a  b   where a  b  ni   a  nc   and r  nr   an abox a is a non empty finite
set of abox assertions  a is said to be a singleton abox if it contains exactly one abox
assertion  by obj a  we denote the set of individual names in a  a knowledge base k  kb 
is a pair  t   a  consisting of a tbox t and an abox a  assertions of the form c a  and
r a  b   where a  b  ni   c an el concept  and r  nr   are called instance assertions  note
that instance assertions of the form c a  with c not a concept name nor c     do not
occur in aboxes 
the semantics of elhr is given by interpretations i    i   i    where the domain i
is a non empty set  and i is a function mapping each concept name a to a subset ai of
i   each role name r to a binary relation ri  i  i   and each individual name a to an
element ai  i   the extension c i of a concept c is defined by induction as follows 
 i
 c u d i
 r c i
ran r i

  
  
  
  

i
c i  di
 d  i   e  c i    d  e   ri  
 d  i   e    e  d   ri  

i satisfies
 a concept inclusion c v d  in symbols i    c v d  if c i  di  
   

fikonev  ludwig  walther    wolter

 a concept equation c  d  in symbols i    c  d  if c i   di  
 a role inclusion r v s  in symbols i    r v s  if ri  si  
 an assertion c a   in symbols i    c a   if ai  c i  
 an assertion r a  b   in symbols i    r a  b   if  ai   bi    ri  
we say that an interpretation i is a model of a tbox t  abox a  if i     for all   t
   a   an elhr  inclusion  follows from a tbox t if every model of t is a model of
  in symbols t          is used to denote that  follows from the empty tbox and we
sometimes write r vt s for t    r v s  an instance assertion  follows from a kb  t   a 
if every individual name that occurs in  also occurs in obj a  and every model of  t   a  is
a model of   in symbols  t   a       the most important ways of querying elhr  tboxes
and kbs are
 subsumption  check whether t      for an elhr  inclusion  and tbox t  
 instance checking  check whether  t   a       for an instance assertion  and kb
 t   a   and
 conjunctive query answering 
to define the latter  call a first order formula q  x  a conjunctive query if it is of the form
 y   x   y    where  is a conjunction of expressions a t   a  nc   and r t    t     r  nr   with
t  t    t  drawn from ni and the sequences of variables  x and  y   let  x   x            xk   let i be
an interpretation and  be a mapping from  x   y into i   set  a    ai for all a  obj a  
we say that a vector  a   a            ak is a  match of q  x  and i if  satisfies the following
conditions 
  t   ai for every conjunct a t  of  
   t      t      ri for every conjunct r t    t    of  
  xi     aii for    i  k 
we set i    q  a  if  and only if  there exists a  such that  a is a  match of q  x  and i  let
 t   a  be a kb  then a sequence  a of members of obj a  is a certain answer to q  x  of a
kb  t   a   in symbols  t   a     q  a   if i    q  a   for every model i of  t   a  
all three types of querying elhr  tboxes have been studied extensively  the complexity
of subsumption and instance checking is in ptime  baader et al          the combined
complexity of answering boolean conjunctive queries  i e   deciding whether  t   a     q for
a conjunctive query q without free variables  is conp complete  rosati        and its data
complexity is in ptime  rosati         information on reasoners for subsumption checking
for elhr can be found in the work of delaitre and kazakov         kazakov  krotzsch 
and simancik         and mendez and suntisrivaraporn         lutz et al         present
an approach to efficient conjunctive query answering for elhr  
   

fithe logical difference for the lightweight description logic el

    normal form
it is often convenient to consider normalised elhr  terminologies  let t be an elhr terminology and a a concept name  call a
 primitive in t if a  nc     a  nc   a  c  t     a  nc   a v c  t    
 pseudo primitive in t if a  nc    a  nc   a  c  t   
note that concept names that do not occur in t are primitive and pseudo primitive in t  
call a concept name a non conjunctive in t if it is pseudo primitive in t or there exists
a concept of the form r c such that a  r c  t   otherwise  a is called conjunctive
in t   thus  a is conjunctive in t if  and only if  there exists a concept name b such that
a  b  t or there exist c            cn   n     such that a  c  u    u cn  t   let x be a
finite set d
of concepts  we say that a concept f is a conjunction of concepts in x if f is of
the form dx d  any d  x is then called a conjunct of f and  if d is a concept name 
then it is called an atomic conjunct of f   we sometimes write d  f instead of d  x 
an elhr  terminology t is normalised if it consists of elhr  inclusions of the following
form 
 a  r b  or a  f   where a  b are concept names and f is a non empty conjunction
of concept names such that every conjunct b   of f is non conjunctive in t  
 e v r b  e v r    or e v f   where b is a concept name  e is either a concept
name  or is of the form s    or ran s   and f is a non empty conjunction of concept
names such that every conjunct b   of f is non conjunctive in t  
as the following lemma shows  any elhr  terminology can be normalised yielding a
model conservative extension of the original terminology 
lemma    for every elhr  terminology t   one can construct in polynomial time a normalised terminology t   of polynomial size in  t   such that sig t    sig t      t      t   and
for every model i of t there exists a model j of t   such that i   j and x i   x j for
every x  sig t    moreover  t   is acyclic if t is acyclic 
normalised terminologies in the sense defined above are a minor modification of normalised terminologies as defined by baader         the straightforward extension of the
proof given by baader is provided in the appendix 
    canonical model
we define a canonical model  ik   for elhr  knowledge bases k  ik can be constructed in
polynomial time and gives the same answers to instance queries as k  i e   ik     if  and
only if  k      for any instance assertion   the construction is similar to the canonical
model introduced by lutz et al         
let sub t   denote the set of all subconcepts of concepts used in t   rol t   the set of all
role names occurring in t   take fresh individual names xran r  d for every r  rol t   and
d  sub t   and set
niaux     xran r  d   r  rol t   and d  sub t    
   

fikonev  ludwig  walther    wolter

now define the generating interpretation wk of a kb k    t   a  as follows 
w k
aw k
r wk

awk

   obj a   niaux  
    a  obj a    k    a a     xran r  d  niaux   t    ran r  u d v a  
     a  b   obj a   obj a    s a  b   a and t    s v r  
  a  xran s  d    obj a   niaux   k    s d a  and t    s v r  
  xran s  d   xran s    d     niaux  niaux   t    ran s  u d v s   d    t    s  v r  
   a  for all a  obj a  

a path in wk is a finite sequence d  r  d     rn dn   n     where d   obj a  and  for all i   n 
wk
 di   di      ri  
  we use paths wk   to denote the set of all paths in wk   if p  paths wk   
then tail p  denotes the last element dn in p 
the canonical model ik of a knowledge base k is the restriction of wk to all domain
elements d such that there is a path in wk with tail d  the following result summarises
the main properties of ik  
theorem    let k    t   a  be an elhr  kb  then
   ik is a model of k 
   ik can be computed in polynomial time in the size of k 
   for all xran s  d  ik and all a  obj a   if c is an el concept or c   ran r   then
 k    c a  if  and only if  aik  c ik  
 t    ran s  u d v c if  and only if  xran s  d  c ik  
the proof of theorem   is given in the appendix  it follows from point   that ik gives
the same answers to instance queries as k itself 

   logical difference
in this section  we introduce three notions of logical difference between tboxes and the
derived notion of  inseparability  intuitively  the logical difference between two tboxes t 
and t  should be the set of all relevant formulas  such that t      and t       or vice
versa  of course  which formulas  are relevant depends on the application domain  in many
applications only subsumptions between concepts are relevant  but if tboxes are employed
to access instance data  then answers to instance or even conjunctive queries can be relevant
as well  in addition  in applications of large scale terminologies such as snomed ct and
nci typically only a very small subset of the vocabulary of the terminology is relevant 
thus  a meaningful notion of logical difference should take into account only those formulas
that are given in a certain signature of interest  where a signature  is a subset of nc  nr  
given a concept  role  concept inclusion  tbox  abox  or query e  we denote by sig e 
the signature of e  that is  the set of concept and role names occurring in it  we call e a
 concept   concept inclusion   tbox   abox  or  query  respectively  if sig e    
similarly  an el  concept c is an el concept such that sig c    and an elhr  inclusion
 is an elhr  inclusion such that sig     
the first notion of logical difference we introduce corresponds to applications in which
only subsumptions are relevant 
   

fithe logical difference for the lightweight description logic el

definition     concept difference   the  concept difference between elhr  tboxes t 
and t  is the set cdiff   t    t    of all elhr  inclusions  such that t      and t       
we say that t  and t  are  concept inseparable  in symbols t  c
 t    if cdiff   t    t     
cdiff   t    t       
 concept inseparability between t  and t  means that t  can be replaced by t  in
any application that is only concerned with elhr  inclusions   as the following example
shows  however   concept inseparable terminologies can give different answers for the same
instance query and data 
example    let t     ran r  v a    ran s  v a    b  a  u a     t          r  s  b  
one can show that t  and t  are  concept inseparable  however  for the  abox a  
 r a  c   s b  c   we have  t    a     b c  but  t    a      b c  
to take into account the differences between tboxes that are relevant if tboxes are
used to access instance data  we consider the  instance difference 
definition     instance difference   the  instance difference between tboxes t  and t 
is the set idiff   t    t    of pairs of the form  a     where a is a  abox and  a  instance
assertion such that  t    a      and  t    a        we say that t  and t  are  instance
inseparable  in symbols t  i t    if idiff   t    t      idiff   t    t       
in contrast to elhr   it has been shown by lutz and wolter        that for el tboxes
there is no difference between  concept inseparability and  instance inseparability  in
this paper we extend this result to elhr  tboxes without range restrictions  the proof is
given after corollary     
theorem    let t  and t  be elhr  tboxes without range restrictions and  a signature 
i
then t  c
 t  if  and only if  t   t   
sometimes  instance queries are not sufficiently expressive  and conjunctive queries are
employed  in that case  the following notion of difference is appropriate 
definition     query difference   the  query difference between tboxes t  and t  is
the set qdiff   t    t    of pairs of the form  a  q  a    where a is a  abox  q  x  a conjunctive query  and  a a tuple of individual names in a such that  t    a     q  a  and
 t    a      q  a   we say that t  and t  are  query inseparable  in symbols t  q t   if
qdiff   t    t      qdiff   t    t       
as observed by lutz and wolter        already  even for el  instance inseparability
does not imply  query inseparability  the following is a simple example 
example    let t     a v r b   t          a  b   then t  and t  are  instance
inseparable  but they are not  query inseparable  consider the  abox a    a a   and
the  query q   x b x   then  t    a     q but  t    a      q 
   we refer the reader to the conclusion of this paper for a brief discussion of this claim 

   

fikonev  ludwig  walther    wolter

it is shown by lutz and wolter        that example   is essentially the only situation
in which there is a difference between  instance inseparability and  query inseparability
in el  the two notions become equivalent for el if the universal role is admitted in instance
queries  e g   in example    the conjunctive query x b x  corresponds to the instance query
u b a  for the universal role u   in contrast  for elhr there are more subtle differences
between the instance and the query case 
example    let t     a v s    s v r    s v r     t     a v r     u r         
 a  r    r     then t  and t  are  concept and  instance inseparable  but they are not
 query inseparable  to show the latter  let a    a a   and let q   x r   a  x   r   a  x   
then  t    a     q but  t    a      q 
we have seen that  concept inseparability does not imply  instance inseparability
and that  instance inseparability does not imply  query inseparability  the converse
implications  however  hold 
lemma     for all elhr  tboxes t  and t  and all signatures  
t  q t 



t  i t 



t  c
 t   

proof  the first implication follows from the observation that every instance query can be
regarded as a conjunctive query  for the second implication  note first that if s v r 
cdiff   t    t     then   s a  b    r a  b    idiff   t    t     now let c v d  cdiff   t    t    
one can construct a  abox ac with individual a such that for all el concepts d   
 t   ac      d   a  if  and only if  t    c v d   cf  lemma      thus  ac   d a   
idiff   t    t    
having introduced three notions of difference between elhr  tboxes  we now investigate two problems   i  how to detect whether there is any difference between two elhr terminologies and  if so   ii  how to represent the differences 
in what follows we assume that the fresh symbols used in the normalised form of terminologies do not occur in the signature  for which we compute the difference between
terminologies  then we obtain the following lemma as a direct corollary of lemma   
lemma     for any elhr  terminologies t    t  and their normalised forms t     t   as
defined in lemma    we have that the following hold 
 cdiff   t    t      cdiff   t     t     
 idiff   t    t      idiff   t     t     
 qdiff   t    t      qdiff   t     t     
from now on  unless stated otherwise  we consider normalised terminologies only 
   

fithe logical difference for the lightweight description logic el

   the case of el terminologies
before investigating the logical difference for elhr  terminologies  we illustrate the main
ideas behind the proofs by considering the  concept difference for el terminologies  an
el terminology is an elhr  terminology consisting of el inclusions only  that is  concept
inclusions of the form a v c and concept equations of the form a  c  we start with the
observation that even for acyclic el terminologies there are t  and t  in which cdiff   t    t   
contains inclusions of at least exponential size only  thus  when searching for witness
inclusions in cdiff   t    t     one has to deal with the case in which all witness inclusions
have at least exponential size 
example     consider
t     a  v b    a   bn     bi    r bi u s bi      i   n 
t     a  v f      fi v r fi   u s fi        i   n 
and     a    a    r  s   then a concept inclusion in cdiff   t    t    of minimal size is given
by cn v a    where
c    a  and ci     r ci u s ci   for i    
clearly  cn is of exponential size  note  however  that if we use structure sharing and define
the size of cn as the number of its subconcepts  then cn is only of polynomial size 
we now derive basic properties of el terminologies using a sequent calculus 
    proof system for el
we derive basic properties of el from the gentzen style sequent calculus presented by hofmann         see figure    the calculus operates on sequents of the form c v d  where
c  d are el concepts  here the symbol v is treated as a syntactic separator  a derivation
 or  equivalently  a proof   of a sequent c v d is a finite rooted tree whose nodes are labelled
with sequents  whose root is labelled with c v d  whose leaves are labelled with axioms
 instances of ax or axtop  and whose internal nodes are labelled with the result of an
application of one of the inference rules to the labels of their children  the length of a
derivation is the number of rule applications in the derivation 
example     let t    a  b  ub    f v b     a derivation d of the sequent r  f ub    v
r a is shown below  the root of the derivation d is labelled with r  f u b    v r a and
the two leaves with b  v b  and b  v b    respectively 
 ax 

b  v b 
 pdefl 
 ax 
f v b 
b  v b 
 andl  
 andl  
f u b  v b 
f u b  v b 
 andr 
f u b  v b  u b 
 defr 
f u b  v a
 ex 
r  f u b    v r a
   

fikonev  ludwig  walther    wolter

cvc

 ax 

cv 

 axtop 

cve
 andl  
c ud ve

cve cvd
 andr 
c vdue
ca v d
 defl 
avd

cvd
 ex 
r c v r d

d v ca
 defr 
dva

ca v d
 pdefl 
avd

dve
 andl  
c ud ve

where a  ca  t

where a v ca  t

figure    gentzen style proof system for el terminologies 
notice that the basic calculus of hofmann        considers el without the constant  
and for terminologies without concept inclusions  to take care of    we have added the
rule  axtop   and  pdefl  is the rule representing inclusions of the form a v c  cutelimination  completeness  and correctness can now be shown in a straightforward extension
of the proof given by hofmann 
for a terminology t and concepts c  d  we write t   c v d if  and only if  there exists
a proof of c v d in the calculus of figure   
theorem     hofmann   for all el terminologies t and concepts c  d  it holds that
t    c v d if  and only if  t   c v d 
we apply this calculus to derive a description of the syntactic form of concepts c such
that t    c v d  where d is non conjunctive in t  
lemma     let t be a normalised el terminology  r a role name  a a concept name and
d an el concept 
   assume
t   

l

ai u

 in

l

rj  cj v a 

 jm

where a is pseudo primitive in t   ai are concept names for    i  n  cj are elconcepts for    j  m  and m  n     then there exists ai      i  n  such that
t    ai v a 
   assume now
t   

l
 in

l

ai u

rj  cj v r d 

 jm

where ai are concept names for    i  n  cj are el concepts for    j  m  and
m  n     then
 there exists ai      i  n  such that t    ai v r d or
 there exists rj      j  m  such that rj   r and t    cj v d 
   

fithe logical difference for the lightweight description logic el

d
d
proof  we use theorem     first  we prove point    let c    in ai u  jm rj  cj
and assume t    c v a  where a is pseudo primitive in t   let d be a proof of c v a 
note that  since a is pseudo primitive in t  and a concept name   by inspecting the form
of the conclusions of the inference rules  one can see that the root of the derivation d can
only have been derived by either ax  andl   andl   defl  or pdefl  we now show
that there exists ai      i  n  such that t    ai v a by induction on n   m  i e  the
number of conjuncts in c  it is easy to see that n   m    as t       v a by definition of
terminologies t  
the base case of n   m     is trivial  the root of d can only have been derived by one
of ax  defl  or pdefl  so  we can conclude that c   a    i e  n      m      and we set
ai   a   
assume n   m      then the root of d can only have been derived by either andl 
or andl   in both cases  the premise used in the application of either inference rule is
a sequent c   v a such that either c   c   u d or c   d u c   for an el concept d 
thus  c   contains less conjuncts than c  but still at least one   we can also conclude that
t    c   v a holds by theorem     by applying the induction hypothesis  there hence
exists a concept name ai which is a conjunct of c   such that t    ai v a  finally  we still
note that ai is also a conjunct of c 
d
d
we now prove point    let c    in ai u  jm rj  cj and assume t    c v r d 
let d be a proof of c v r d  note that due to the form of the right hand side of the sequent
c v r d  the rule used to derive the root of d can only have been one of ax  andl  
andl   defl  pdefl  or ex  we now prove that either there exists ai      i  n  such
that t    ai v r d  or there exists rj      j  m  with rj   r and t    cj v d by
induction on n   m again  similarly to above  we have n   m    
if n   m      the rule used to derive the root of d can only have been one of ax  defl 
pdefl  or ex  we have two subcases 
 the root of d was derived with defl or pdefl  then n      m     and c   a    i e 
t    ai v r d for ai   a   
 the root of d was derived with ax or ex  then n      m      c   r   c    and
r    r  if c    d  then obviously t    c  v d holds  otherwise  the rule ex was
used to derive the root of d and t   c  v d holds  which implies that t    c  v d 
thus  in any case  rj   r and t    cj v d holds for j     
the case n m     can be proved by induction analogously to the proof of point   above 
we apply lemma    to elements of cdiff   t    t    
theorem     primitive witness for el   let t  and t  be el terminologies and  a
signature  if   cdiff   t    t     then either c v a or a v d is a member of cdiff   t    t    
where a  sig   is a concept name and c  d are el concepts occurring in  
proof  let    c v d  cdiff   t    t     the proof is by induction on the construction of
d  we have d      as t     c v    if d   d  u d    then one of c v di   i         is in
cdiff   t    t    and we can apply the induction hypothesis  if d   r d  then  by lemma    
   

fikonev  ludwig  walther    wolter

either  i  there exists a conjunct a of c  a a concept name  such that t     a v d  or  ii 
there exists a conjunct r c  of c with t     c  v d   
in case  i  it follows that t      a v d as otherwise t     c v d and c v d  
cdiff   t    t    due to    c v a  hence  a v d  cdiff   t    t    
finally  for case  ii  we obtain t      c  v d  as otherwise    c v r c    t     r c  v d
and c v d   cdiff   t    t    again  thus  c  v d   cdiff   t    t    and we can apply the
induction hypothesis 
by theorem     every inclusion c v d in the  concept difference of t  and t  contains a basic witness inclusion that has a concept name either on the right hand side or
the left hand side  we define
 the set of left hand  concept difference witnesses  cwtnlhs
  t    t     as the set of all
a    nc such that there exists a concept d with a v d  cdiff   t    t    and
 the set of right hand  concept difference witnesses  cwtnrhs
  t    t     as the set of all
a    nc such that there exists a concept c with c v a  cdiff   t    t    
rhs
we regard the concept names in cwtnlhs
  t    t    and cwtn  t    t    as a succinct and  in a
certain sense  complete representation of the  concept difference between t  and t  and
define the set of all  concept difference witnesses as
rhs
cwtn  t    t       cwtnlhs
  t    t     cwtn  t    t     

in what follows  we first present a polytime algorithm computing cwtnrhs
  t    t     a polytime algorithm computing cwtnlhs
 t
 
t
 
has
already
been
given
by
lutz
and wolter       
   

 for el tboxes   we briefly present it since an extension will be developed when we consider elhr  terminologies  both algorithms together decide  concept inseparability since 
by theorem     t  and t  are  concept inseparable if  and only if  cwtn  t    t     
cwtn  t    t           
    computing cwtnrhs
  t    t   
let a   and assume we want to decide whether a  cwtnrhs
  t    t     thus  we want to
decide whether there exists a  concept c such that t     c v a and t      c v a  our
general strategy is as follows  let
noimplyt     a     c   t      c v a  c an el  concept  
we aim at an algorithm that checks whether noimplyt     a  contains some c with t    
c v a  for two sets c and d of concepts we call c a cover of d if c  d and for all
d  d there exists a c  c such that    c v d  thus  c  noimplyt     a  is a cover
of noimplyt     a  if for all d  noimplyt     a  there exists a c  c such that    c v d 
note that if c is a cover of noimplyt     a   then there exists some  concept c such that
c v a  cdiff   t    t    if  and only if  there exists some c  c such that t     c v a 
thus we have reduced the original problem to the construction of an appropriate cover c
and deciding the subsumption problem t     c v a  for c  c  unfortunately  in general 
no finite cover exists  the following example illustrates the situation 
   

fithe logical difference for the lightweight description logic el

example         let     a  b  r  and t      then noimplyt     a  contains all concepts that do not have a as an atomic conjunct  clearly  noimplyt     a  contains no
finite cover 
    let      a  b  r  and t      a  r a   then noimplyt       a  contains all
     a  concepts and contains no finite cover 
    let       a  b    b    and t       a  b  u b     then  b    b    is a cover of
noimplyt         a  
as a consequence  instead of directly constructing a cover of noimplyt     a   we first
construct transparent and small covers of
noimplyt     a    c   depth c   n  
for all n     where depth c  is the role depth of c  i e   the number of nestings of existential
restrictions in c   those covers are denoted noimplynt     a   n     and are singleton
sets if a is non conjunctive in t  and finite sets containing at most k concepts if a 
b  u  ubk  t    based on this sequence  we present two distinct algorithms for computing
cwtnrhs
  t    t    
   we encode the infinite sequence noimplynt     a   n     into a polynomial size abox
at      in this way we obtain a reduction of the original problem to an instance
checking problem for the knowledge base  t    at       in a certain sense  the abox
at    encodes a  in general infinite  cover of noimplyt     a  
   we employ the terminology t  in a dynamic programming approach to decide which
concepts in noimplynt     a  are relevant for deciding whether a  cwtnrhs
  t    t    
although less transparent  for large terminologies the latter approach is considerably
more efficient  we develop it for acyclic terminologies 
for an el terminology t   a concept name a and a signature   set
pre
t  a     b     t    b v a  
the finite covers noimplynt     a   n     are defined in figure    for n      the
set noimplynt     a  consists of concepts without role names  we distinguish between conjunctive and non conjunctive a  note that if a is non conjunctive  then noimplynt     a 
is a singleton set  example        shows that this is not always the case for conjunctive a  for n      we distinguish between pseudo primitive concept names  conjunctive
concept names  and those that have a definition of the form a  r c  again  for nonn
conjunctive a  noimplyn  
t     a  is a singleton set  note that the concepts all are covers of
 c   depth c   n  c an el  concept   for all n     we illustrate the definitions using
the el terminologies from example    
example         let     a  b  r  and t      then a and b are non conjunctive in t 
and noimply t     a     b  and noimply t     b     a   a and b are also pseudo primitive
in t    and so noimply t     a     b u r  a u b   and noimply t     b     a u r  a u b   
   more precisely depth a       depth c  u c      max depth c     depth c      and depth r d   
depth d      

   

fikonev  ludwig  walther    wolter

set  inductively 
all   

l

a 

l

and alln  
 


a  

a  u

a  

l

s alln  

s

define noimply t     a  as follows 
 if a is non conjunctive in t    then
l

noimply t     a     

a    

a   pre
t  a 
 

 if a is conjunctive and a  f  t    then
 

noimply t     a   

noimply t     b  

bf

and define  inductively  noimplyn  
t     a  by
 if a is pseudo primitive in t    then
l

noimplyn  
t     a     

a  u

a    pre
t  a  

l

s alln   

s

 

 if a is conjunctive and a  f  t    then
noimplyn  
t     a   

 

noimplyn  
t     b  

bf

 if a  r b  t    then
n  
noimplyn  
t     a     c t     where
n  
  
c t
 

l

a  u

a    pre
t   a  

l

l

s alln u

r e  

r
enoimplyn
t

r  s

   

 b 

figure    definition of noimplynt     a 

    let      a  b  r  and t      a  r a   then a and b are non conjunctive in t  
and noimply t       a     b  and noimply t       b     a   b is pseudo primitive in t   and so
 

 

noimply t     b     a u r  a u b    a  r a  t   and so noimplyt       a     b u r b  
t   

    let       a  b    b    and t       a  b  u b     b  and b  are non conjunctive in
and so noimply t         b       b    and noimply t         b       b     a is conjunctive in t   
 

 

   

fithe logical difference for the lightweight description logic el

and  by definition  noimply t         a     b    b     since  does not contain any role names 
 

we have noimply t         x    noimplynt         x   for all x   a  b    b    and n     
 

 

the following lemma shows the correctness of the definition of noimplynt     a  
lemma     let t  be a normalised el terminology   be a signature  and a  nc   then
noimplynt     a  is a cover of noimplyt     a    c   depth c   n   namely  for all n    
c   t      c v a  for all c  noimplynt     a  
c   for all el  concepts d with n   depth d   if t      d v a  then    c v d for some
c  noimplynt     a  
s
in particular  n  noimplynt     a  is a cover of noimplyt     a  
proof d c   assume first that a is pseudo primitive in t    then noimplynt     a  consists of
c   a    pre  a   a  u f   where f is a  possibly empty  conjunction of concepts of the
t 

form s fi   by lemma     t      c v a because the only atomic conjuncts of c are in
   pre
t   a  
we now prove c  for concept names a which are not pseudo primitive
in t    the proof
d
is by induction on n  for n     and a  r b  t    assume t     a    pre  a   a  v a 
t 

as a  r b  t    we have by lemma    that there must exist a      pre
t   a  with
 

t     a v a  but this contradicts the definition of the
s set pret   a    for n     and a
conjunctive with a  f  t    let c  noimplynt     a    bf noimplynt     b   there hence
exists an atomic conjunct b of f such that c  noimplynt     b   as t  is normalised  b is
non conjunctive  i e  property c  has already been proved above for b  thus  t      c v b 
which implies that t      c v a as otherwise t     c v b would hold 
for the induction step  assume c  has been proved for n    
be the only element of noimplyn  
let a  r b  t  and let ctn  
t     a   assume
   
n  
t     ct    v a  by lemma    there are two possibilities 
d
 t     a    pre  a   a  v r b  similarly to above  the claim follows from lemma   
t 

and the fact that a  r b  t   
 r   and there exists e  noimplynt     b  such that t     e v b  this is excluded
by the induction hypothesis 
we have derived a contradiction  the case a  f  t    a conjunctive in t    is considered
analogously to the case n     
c   let n     and assume first that a is non conjunctive  let d be a  concept
with depth d d     and t      d v a  then all conjuncts of d are in    pre
t   a  and
we obtain    a   pre  a  a  v d  now assume a is conjunctive in t  and a  f  t   
t 

let d be a  concept with depth d      and t      d v a  then t      d v b  for some
conjunct b of f   by induction     c v d for the  unique as b must be non conjunctive 
c  noimply t     b   and therefore    c v d for some c  noimply t     a  
for the induction step  assume that c  has been shown for n  let d be a  concept
with t      d v a and depth d    n     
   

fikonev  ludwig  walther    wolter

 a  let a be pseudo primitive in t    then the atomicdconjuncts of d aredincluded in
n
 
   pre
a   pre  a  a u s s all  
t   a   now    c v d follows immediately for c  
t 

 b  let a  r b  t    let ctn  
be the only element of noimplyn  
t     a  and assume
   
d 

l

l

eu

eq 
n  
then q      pre
t   a   hence     ct    v
we distinguish two cases 

s d   

 s d   q 

d

eq 

e  now consider a conjunct s d  of d 

 if s    r  then    ctn  
v s d    as required 
   
 if s   r  then s   and it is sufficient to show that there exists e  noimplynt     b 
such that    e v d    suppose there does not exist such an e  then  by  the
contraposition of  the induction hypothesis  t     d  v b  but this contradicts
t      d v a  as a  r b  t    
 c  a is conjunctive in t  and a  f  t    this case is analogous to the case in which
a is conjunctive in t  and n     
corollary     for all normalised el terminologies t  and t  and all a  nc the following
conditions are equivalent 
 there exists an el  concept c such that t     c v a and t      c v a 
 there exists n    and c  noimplynt     a  such that t     c v a 
observe that a direct application of corollary    does not yield a procedure for comn
puting cwtnrhs
  t    t    as it gives no bound on n for the set noimplyt     a   at this point
we present two ways of avoiding this problem  as well as the problem that concepts in
noimplynt     a  can be of exponential size   firstly  instead of working with covers we construct an abox encoding covers  in contrast to concepts  aboxes admit the encoding of
structure sharing d
and cycles and so  intuitively  admit the polynomial reconstruction of the
infinite concept n  cnoimplyn  a  c 
t   
the abox at    is constructed in figure    where for a normalised el terminology t
and a concept name a  sig t    we set

 a   a is non conjunctive in t
non conjt  a   
 b            bn    a  b  u    u bn  t
note that the construction of at    is very similar to the construction of noimplynt     a  
the assertions for the individual  play the role of the concepts alln   n     and the
assertions for the individuals a play the role of the sets noimplynt     a   n     in fact  one
can readily show that at       c a   for any c  noimplynt     a  and a non conjunctive in
t  and  conversely   a more involved proof  shows that whenever at       d a   for some
el concept d  then there exist n    and c  noimplynt     a  such that    c v d  we
illustrate the construction of at    using the el terminologies from example    
   

fithe logical difference for the lightweight description logic el

let
 a   a  sig t      and non conjunctive in t          ni  
be a set of individual names  for a non conjunctive in t    define sets at     a  of assertions
as follows
 if a is pseudo primitive in t    then
at     a     a   a     a      pre
t   a     r a        r    
 if a  r b  t    then
at     a    a   a     a      pre
t   a  
  s a        r    s   
  r a   b       b    non conjt   b   if r   
let
 

at        a        a         r         r     

at     a 

asig t   
a is non conjunctive in t 

figure    construction of at     
example         let     a  b  r  and t      then
at       a b    b a    r a       r b        a  
where a    a     b     r        
    let      a  b  r  and t      a  r a   then
at         a b    b a    r a   a    r b         a   
where a     a      b      r          
    let       a  b    b    and t       a  b  u b     then
at           b   b     b   b      a    
where a      a       b         b         
we now obtain the following characterisation of cwtnrhs
  t    t    
theorem     let t  and t  be normalised el terminologies and  a signature  then the
following conditions are equivalent for any a   
 a  cwtnrhs
  t    t    
 there exist n    and c  noimplynt     a  such that t     c v a 
   

fikonev  ludwig  walther    wolter

  t    at         a b   for some b  non conjt   a  
the equivalence of points   and   follows from corollary     we do not give a detailed
proof of the equivalence of points   and   as this follows from the more general results for
elhr  terminologies we present below 
example     for a normalised form of the terminologies from example    
 
  
t     a  v b    a   bn     bi    bi  
u bi  
     i   n 
 
  
  bi    r bi      i   n    bi    s bi      i   n 

t     a  v f      fi  fi  u fi        i   n 
  fi  v r fi        i   n    fi   v s fi        i   n  
and     a    a    r  s   the abox at    can be graphically represented as
r  s
r  s

r  s
r  s

f   
a   a 

r  s
r  s


a   a 


f   

f  

a   a 

a   a 

 

r  s

n

f   

r  s
a 
a 

n

 

r  s

a 
a 

f  

a   a 

 

a 
f  

 

a 

it should be clear that  t    at         a   a     in fact   t    a     a   a    holds already for
the restriction a of at    to the individuals  a       
theorem     for el terminologies t  and t  and a signature   the set cwtnrhs
  t    t   
can be computed in polynomial time 
proof  it suffices to give a polynomial time algorithm that decides for every a   whether
a  cwtnrhs
  t    t     first  the abox at    can be computed in polynomial time and is
of quadratic size in t    by theorem     a  cwtnrhs
  t    t    iff  t    at         a b   for
some b  non conjt   a   and the latter condition can be checked in polynomial time since
instance checking is in polynomial time for el tboxes 
regarding the efficiency of this approach  observe that for typical terminologies and large
  the abox at    is indeed of quadratic size in t  since    pre
t   a  will typically contain
most of the concept names in   thus  for very large terminologies and  a straightforward
implementation of this rather elegant algorithm does not work efficiently as one would have
to store an abox of quadratic size and do instance checking for it  we refer the reader to
table   and its discussion where a prototype implementation of this approach is applied to
modules of snomed ct 
we now describe our second approach for computing cwtnrhs
  t    t     which only works
for acyclic el terminologies  recall that a  cwtnrhs
 t
 
t
      if  and only if  there ex
ists an el  concept c such that t      c v a and t     c v a  thus  we have
a   cwtnrhs
  t    t    if  and only if  for every el  concept c with c  noimplyt     a 
   

fithe logical difference for the lightweight description logic el

procedure notwitness e 
if e is pseudo primitive
 in t  then
 

notwitness e     a     pre
t   e   pret   a 
end if
if  e  e  u    u ek s
 t    then
notwitness e     ki   notwitness ei  
end if
if e  r e    t  then
    then
if r 
   or all  notwitness e

 

notwitness e     a     pre
t   e   pret   a 
else

fi

fi a  r a   t 


fi
notwitness e     a   fifi non conjt   a     notwitness e    


fi pre  e   pre  a 
t 
t 
end if
end if
end procedure
figure    computation of notwitness e  
it holds that c  noimplyt     a   our approach is now based on computing a not witness
relation nw    sig t        nc      sig t        nc    which is defined as follows 
 e  a   nw

if  and only if 

   noimplyt     a   noimplyt     e 

observe that a  cwtnrhs
  t    t    if  and only if   a  a    nw  hence  to compute the
set cwtnrhs
 t
 
t
 
it
is
sufficient
to compute the relation nw  in practice  it is crucial to
   

compute the relation nw rather than its complement  in typical terminologies most concept
names are unrelated in the sense that they do not subsume each other  thus  the relation
nw is much smaller than its complement  which contains  among others  all pairs  e  a 
that do not subsume each other in t  and t    
to determine the pairs  e  a   nw  we aim at computing for every concept name
e  sig t      the set of concept names a  sig t      for which the property    holds 
this set will be called notwitness e  and is computed in figure    with the following
modifications      we only consider those a  sig t      which are non conjunctive in t 
and take conjunctive concept names into account later      we consider a fresh concept
name all not occurring in   sig t     sig t     informally standing for all possible concepts 
thus  the procedure  notwitness e  given in figure   recursively associates with every
e  sig t      a subset of the set
    all     a   a   sig t        a is non conjunctive in t   
and nw is a relation over
  sig t        nc       sig t        nc     all   
   

fikonev  ludwig  walther    wolter

note that unlike in the approach for computing cwtnrhs
  t    t    that was presented previously  the approach described here does not handle the two terminologies separately  in
the previous approach the abox at    could be precomputed for t  and then be re used to
compare t  against any other terminology t    whereas here both terminologies are analysed
simultaneously  we now prove the correctness of the procedure notwitness e  
lemma     for any normalised acyclic el terminologies t  and t    any signature   any
e  sig t      and any a   the following holds  a  notwitness e  if  and only if 
 e  a   nw 
proof  we prove that for any e  sig t      and any a   the following two conditions
are equivalent 
 a  notwitness e  
 for all n    and all c  noimplynt     a   t      c v e 
s
this is sufficient since n  noimplynt     a  is a cover of noimplyt     a   lemma     
for e   sig t    the claim is trivial  for e  sig t    the proof is by induction relative
to the relation t   sig t     sig t     whose definition can be found on page       note
that since the considered terminologies are acyclic and sig t    is finite  the relation t  is
well founded 
we distinguish between the possible definitions of e in t    suppose e is pseudoprimitive in t    for a    it follows from the definition of noimplynt     a  and from
lemma    that there exist n    and c  noimplynt     a  such that t     c v e if  and

only if  t     b v e for some b      pre
t   a    note that for all b      pret   a   
t      b v e holds if  and only if  for every b    t     b v e implies that b  pre
t   a  
n

thus  for every n and c  noimplyt     a   t      c v e if  and only if  pret   e   pre
t   a 
if  and only if  a  notwitness e  
assume that e  e  u    u ek  t    then  for any concept c  t      c v e if  and
only if  t      c v ei for some    i  k  hence  by applying the induction hypothesis we
obtain for every n and c  noimplynt     a   t      c v e if  and only if  a  notwitness ei  
for some    i  k  if  and only if  a  notwitness e  
finally  assume that e  r e    t    notice that  since all 
     sig t     sig t      in

particular  all is pseudo primitive in t     we have pret   all      thus  by definition for
every n     noimplynt     all     alln    by applying the induction hypothesis we can assume
that the lemma holds for e     which implies that all 
  notwitness e     if  and only if  for
some n     t     alln v e     we now distinguish between the following cases  analogously
to the case distinction in procedure notwitness e   see figure    
if r 
    for any  concept of the form s g  where s  nr    we have r    s and
t      s g v r e     similarly  if all  notwitness e      it holds for every n    that
t      alln v e     hence  for any  concept of the form s g  we obtain t      s g v r e  
as otherwise t     alln v e   would hold for n   depth s g   where depth s g  is the
role depth of s g   so  by lemma     these two cases are analogous to the case of e being
pseudo primitive considered above 
assume now that r   and all 
  notwitness e      that is  for some n     we have
n 
 
t     all v e  
   

fithe logical difference for the lightweight description logic el

first  we observe that if a does not have a definition of the form a  r a  in t    then for
  
the unique c  noimplynt   
 a  we have t     c v e as r alln  is a conjunct of c  and as a
is non conjunctive in t  by definition of the set    if a has a definition of the form a  r a 
in t    for any n    and c  noimplynt     a   we have by lemma    that t      c v e
n 

 
 
if  and only if  pre
t   e   pret   a   and  if n      for every c  noimplyt     a   we have
 
 
t      c v a  
we can conclude that in case r   and all 
  notwitness e      for any a    any
n
n     and any c  noimplyt     a   we have t      c v e  if  and only if  a  r a  
m
 

 
t    pre
t   e   pret   a  and for any m    and any c  noimplyt     a   we have
m
 
 
t
 a     
s      c v e   noticem further that  by definition for any m      noimplyt   
m
 
bnon conjt  a    noimplyt     b   thus  for any m    and any c  noimplyt     a   
 

t      c   v e   holds if  and only if  for any m     any b  non conjt   a    and any
 
 
 
c    noimplym
t     b   t      c v e   if  and only if  for any b  non conjt   a    b 
 
notwitness e   holds by applying the induction hypothesis 
thus  t      c v e  for any n    and c  noimplynt     a   if  and only if  a 
notwitness e  
corollary     let t  and t  be normalised acyclic el terminologies and  a signature 
then cwtnrhs
  t    t        a  sig t         b  non conjt   a  with b   notwitness a    
proof  first  we observe that if a  cwtnrhs
  t    t     a  sig t    must hold as otherwise
for any  concept c we have t     c v a if  and only if     c v a  and thus a  
cwtnrhs
  t    t     now  for all a  nc we have 
a  cwtnrhs
  t    t   

iff

iff

iff
iff

a  sig t       by our observation  and  by definition 
there exists a  concept c with t      c v a and t    
cva
a  sig t      and there exists b  non conjt   a  and
a  concept c with t      c v b and t     c v a  as
otherwise t     c v a would hold 
a  sig t      and there exists b  non conjt   a  with
 a  b    nw  by definition of the relation nw 
a  sig t      and there exists b  non conjt   a  with
b   notwitness a   by lemma    

for acyclic terminologies  we now obtain an alternative proof of theorem    
theorem     for acyclic el terminologies t  and t  and a signature   cwtnrhs
  t    t   
can be computed in polynomial time using the procedure notwitness e  
proof  to compute the set cwtnrhs
  t    t     it is sufficient by corollary    to compute the
sets notwitness e  for every e  sig t     assuming that t  and t  are classified and the
result of classification is cached  notwitness e  can be computed for all e  sig t     in the
worst case  in time o   t       t        
example     for the acyclic terminologies t    t  and the signature  from example    
notwitness a       a    
   

notwitness b       a   

fikonev  ludwig  walther    wolter

and for all other concept names x  sig t     notwitness x      in particular a  
 
notwitness a     so we conclude that a  is a concept difference witness 
    computing cwtnlhs
  t    t   
recall that the set of left hand  concept difference witnesses  cwtnlhs
  t    t     is the set
of all a    nc such that there exists a concept c with a v c  cdiff   t    t     the
tractability of computing cwtnlhs
  t    t    for el has been proved by lutz and wolter       
for arbitrary el tboxes by reduction to simulation checking  here we formulate the main
steps again because we employ the same technique when dealing with the logical difference
for elhr  terminologies 
for any two interpretations i  and i  we say that a relation s between i  and i  is a
 simulation if  and only if  the following conditions hold 
 if  d  e   s and d  ai  with a    then e  ai   
 if  d  e   s and  d  d     ri  with r    then there exists e  with  d    e     s and
 e  e     ri   
for d  i  and e  i  we write  i    d    i    e  if there exists a  simulation relation s between i  and i  such that  d  e   s  it can be checked in polynomial time
whether  i    d    i    e  and various polynomial time algorithms checking the existence of
simulations have been developed  clarke   schlingloff        crafa  ranzato    tapparo 
      van glabbeek   ploeger         simulations characterise the expressive power of
el concepts in the following sense 
lemma     lutz   wolter         let i  and i  be interpretations   a signature  d  i   
and e  i    then
 i    d    i    e 



for all el  concepts c  d  c i   e  c i   

it follows that for any a    we have
a  cwtnlhs
  t    t   



 ik    a     ik    a 

where ki    ti   a  for a    a a   and iki is the canonical model for ki   i        
to see this  recall that by theorem   for every el concept c  a  c iki if  and only if 
 ti   a     c a   the latter condition is equivalent to ti    a v c  we have  therefore 
proved 
theorem     lutz   wolter         for el tboxes t  and t  and signatures   the set
cwtnlhs
  t    t    can be computed in polynomial time 
the following example illustrates the use of simulations between canonical models to
determine cwtnlhs
  t    t    
example     let     a  r  b    b    and
t     a v r f    f  v f  u f    f  v r b    f  v r b    
t     a v g  u g    g  v r g     g  v r g     g   v r b    g   v r b   
   

fithe logical difference for the lightweight description logic el

to check whether a  cwtnlhs
  t    t    consider the kbs k     t     a a    and k   
 t     a a     then a  cwtnlhs
  t    t    iff  ik    a     ik    a   for the canonical models
ik  and ik  of k  and k    respectively  illustrations of the canonical models ik  and ik 
are shown below 
xran r  b 
b 

xran r  b 
b 

r

xran r  b 
b 

r

r

r

a

r

xran r  g  

xran r  f 

ik  

xran r  b 
b 
xran r  g  

r

r

a

a

a

ik 

but  ik    a     ik    a  because the point xran r  f  is neither  simulated by xran r  g   nor
 simulated by xran r  g     a concept inclusion in cdiff   t    t    with a on the left hand side
is given by a v r   r b    u  r b     

   elhr  instance difference
our polynomial time algorithms for inseparability and logical difference in elhr are based
on extensions of the ideas used in section   for el  there is  however  one important
difference  we introduce new logics  elran and elran u u   for which the concept difference
captures exactly the instance and  respectively  query difference in elhr   to prove an analogue of theorem    for those languages and  thereby  for the instance and query difference
for elhr   we introduce a sequent calculus which characterises all elran  consequences of
elhr  terminologies  we start our investigation with the instance difference case since it is
more transparent than the concept difference case  recall that for el there is no difference
between the instance and the concept difference  
    elran  concept difference
recall example   showing that elhr  concept inseparability does not imply  instance
inseparability 
t     ran r  v a    ran s  v a    b  a  u a    

t     

    r  s  b  

notice that for the abox a    r a  c   s b  c    exhibiting the instance difference between
t  and t    c is in the range of both r and s  this example suggests that if ran r  and ran s 
could be used in complex concepts  this kind of difference can be made visible for a concept
language 
definition     elran    c ran  concepts are constructed using the following syntax rule
c   

a

 

ran r 

 

c ud

 

r c 

where a  nc   c  d range over c ran  concepts and r  nr   the set of elran  inclusions
consists of all concept inclusions c v d and role inclusions r v s  where c is a c ran concept  d an el concept  and r  s  nr  
   

fikonev  ludwig  walther    wolter

clearly  every elhr  inclusion is an elran  inclusion  additionally  in elran  inclusions
the concept ran r  can occur everywhere in concepts on the left hand side of inclusions 
this gives us additional concept inclusions for the  concept difference 
example     for t  and t  from example    we have t     ran r  u ran s  v b  but
t      ran r  u ran s  v b  thus  using the c ran  concept ran r  u ran s  we can simulate
the abox  r a  c   s b  c   from example   and make the  difference that could not be
observed in elhr visible in elran  
we now show that example    can be generalised to arbitrary tboxes  to this end  we
consider the following straightforward generalisation of the  concept difference to differences over elran  
ran
r
definition     elran
  difference   the el  difference between elh  tboxes t  and t 
ran
is the set cdiff ran
  t    t    of all el  inclusions  such that t      and t       

to prove the equivalence between  instance difference in elhr and  concept differran of
ence in elran   we first associate with every abox a and individual a in a a set ca a
ran
c  concepts  assume a is given  let  inductively  for a  obj a  
l
l
  ran
  
ca a
a  u  
ran r   
a a a

and
n   ran
  
ca a

l

a a a

a  u  

r b a a

l

ran r   u  

r b a a

l

n ran
  
r ca b

r a b a

and set
n ran
ran
  n    
ca a
   ca a
n ran
 a  fordall n      moreover  the lemma below shows d
that  intuobserve that a    ca a
ran is the most specific concept with a   
ran  a  
itively  the infinite conjunction ca a
ca a
conversely  we associate an abox with a c ran  concept  the construction is straightforward  however  some care has to be taken since we do not introduce structure sharing
but associate distinct individual names with distinct occurrences of subconcepts  given a
c ran  concept c  we first define a path in c as a finite sequence c   r   c       rn  cn  
where c    c  n     and ri    ci   is a conjunct of ci   for    i   n  we use paths c 
to denote the set of all paths in c  if p  paths c   then tail p  denotes the last element
cn in p 
now  let aran and ap for p  paths c  be individual names and set inductively 

ac     s ap   aq     p  q  paths c   q   p  s  c     for some c    
   a ap     a is a conjunct of tail p   p  paths c   
     ap       is a conjunct of tail p   p  paths c   
   r aran   ap     ran r  is a conjunct of tail p   p  paths c   
example     let c    r  a u ran v    u  s   t  a u ran v    u  t  b u ran s      be a
c ran  concept  then ac can be represented graphically as follows 
   

fithe logical difference for the lightweight description logic el

s

a
v

b

t

t

a
r

v

aran

s

ac

we only indicate ac and aran   other individuals are identified by paths in c  note that
different occurrences of a u ran v  in c correspond to different individuals in ac  
lemma     let t be an elhr  tbox  a be an abox  c  and d  be c ran  concepts  and let
a   obj a   then
n ran
  t   a     d   a    if  and only if  there exists n    such that t    ca a
v d   
 

 t    c  v d  if  and only if   t   ac       d   ac    
below  we will employ this lemma to transfer an analogue of theorem    for elran to
elhr  instance differences  for now  we only note the following consequence 
corollary     for any two elhr  tboxes t  and t    cdiff ran
  t    t       if  and only if 
idiff   t    t       
n ran
proof  if  a  d   a      idiff   t    t     then there exists an n    such that ca a
v
 
ran
d   cdiff ran
 t
 
t
  
conversely 
if
c
v
d

cdiff
 t
 
t
  
then
 a
 
d
 a
  

 
 
 
 
 
 
 
c
c


 
 
idiff   t    t    

note that theorem   follows from corollary    since for any elhr  tbox t without
range restrictions t    c v d if  and only if  t    c   v d  where c   is obtained from c
by replacing any concept of the form ran r  in c by   
    proof system for elhr
the gentzen style proof system for elhr consists of the rules given in figures   and   
cut elimination  correctness  and completeness of the proof system can be shown similarly
to the corresponding proofs given by hofmann        
theorem     for all elhr  terminologies t and c ran  concepts c and d  it holds that
t    c v d if  and only if  t   c v d 
we now generalise lemma    to elhr  terminologies 
lemma     let t be an elhr  terminology  a a concept name and r d an el concept 
assume
l
l
l
t   
ran si   u
aj u
rk  ck v r d 
 il

 jn

 km

where ck      k  m  are c ran  concepts and l  m  n     then at least one of the following
conditions holds 
   

fikonev  ludwig  walther    wolter

r  c u ran r   v d
 exran 
r c v d
bvd
 dom 
r c v d
where r   v b  t
avd
 ran 
ran r  v d
s c v d
 sub 
r c v d

where ran r  v a  t

ran s  v d
 ransub 
ran r  v d

where r v s  t

figure    additional rules for elhr  terminologies 
 e   there exists rk      k  m  such that t    rk v r and t    ck u ran rk   v d 
 e   there exists aj      j  n  such that t    aj v r d 
 e   there exists rk      k  m  such that t    rk    v r d 
 e   there exists si      i  l  such that t    ran si   v r d 
now assume that a is pseudo primitive and
l
l
t   
ran si   u
aj u
 il

 jn

l

rk  ck v a 

 km

where ck      k  m  are c ran  concepts and l  m  n     then at least one of the following
conditions holds 
 a   there exists aj      j  n such that t    aj v a 
 a   there exists rk      k  m such that t    rk    v a 
 a   there exists si      i  l such that t    ran si   v a 
proof  we prove the first part of the lemma  the second part can then be proved analogously 
d
d
d
let c    il ran si   u  jn aj u  km rk  ck and assume that t    c v r d
holds  then  we have t   c v r d by theorem     which implies that there exists a
derivation d of the sequent c v r d  the proof now proceeds by induction on the depth
of d  i e  the maximal length of any path from the root to one of the leaves of d 
notice that if l   n   m     the root of d can only have been derived by andl  or
andl   the lemma follows then from the induction hypothesis 
otherwise  we have l   n   m      note that l   m   n     is not possible since
t       v r d by definition of the terminology t   if c   a  or c   ran s     then  e   or
 e    respectively  hold already  it remains to consider the case where c   r   c    then 
the rule used to derive the root of d can only have been one of ax  ex  exran  dom or
sub  we consider those cases one by one 
   

fithe logical difference for the lightweight description logic el

 the root of d was derived with ax  then by considering the form of the inference rule 
r    r and c    d  hence t    r  v r and t    c  u ran r    v d  which implies
that  e   holds 
 the root of d was derived with ex  then r    r and t   c  v d  hence  t    r  v r
and t    c  v d holds by theorem     thus  t    c  u ran r    v d and we can
infer that  e   holds again 
 the root of d was derived with dom  we have t   b v r d and r     v b  t  
then by theorem     t    b v r d and hence  t    r     v r d  that is   e  
holds 
 the root of d was derived with exran  we obtain t   r    c  u ran r     v r d 
since the sequent r    c  u ran r     v r d has a derivation that is of shorter length
than d  we can apply the induction hypothesis  hence  either t    r     v r d 
that is   e   holds  or t    r  v r and t     c  u ran r     u ran r    v d  hence  e  
holds as    c  u ran r    v  c  u ran r     u ran r    
 the root of d was derived with sub  we obtain t   s c  v r d and r  v s  t  
by the induction hypothesis  either t    s   v r d  or t    s v r and t   
c  u ran s  v d  it can be seen that t    r     v r d  or t    r  v r and
t    c  u ran r    v d  respectively  hence  e   or  e   holds 

we now prove an extension of theorem    to elran  consequences of elhr  terminologies 
we give a rather detailed description of the simple witness inclusions contained in members
of cdiff ran
  t    t    since we are going to use this result again when analysing the concept
difference in elhr  
theorem     primitive witness for elran  differences   let t  and t  be elhr  terminologies
and  a signature  if   cdiff ran
  t    t     then either there exist  r  s   sig   with
ran
r v s  cdiff   t    t    or  is of the form c v d  and one of
   c   v a or ran r  u c   v a 
   a v d    r   v d  or ran r  v d 
 
is a member of cdiff ran
  t    t     where r  sig    a  sig   is a concept name  c is a
subconcept of c and d  is a subconcept of d 
ran  concept and d an el concept  we
proof  let c v d  cdiff ran
  t    t     where c is a c
prove the theorem by induction on the structure of d 
notice that d      as t     c v    if d is a concept name  then an inclusion from
point   exists  if d   d  u d    then one of c v di   i         is in cdiff ran
  t    t    
we can apply the induction hypothesis anddwe can infer that
an
inclusion
from
point  
d
d
or point   exists  if d   r d    let c    il ran si   u  jn aj u  km rk  ck  
then  by lemma     one of  e   e   holds  cases  e   e   directly entail that an
inclusion from point   or point   exists  in case of  e    either rk v r  cdiff ran
  t    t   

   

fikonev  ludwig  walther    wolter

or t     ck u ran rk   v d  but t      ck u ran rk   v d   as otherwise t     c v d would
hold   now we can apply the induction hypothesis to d  and conclude that an inclusion
from point   or point   exists 
    instance difference witnesses
similarly to theorem    for the concept difference between el terminologies and derived from its extension  theorem     for elran   we show that every member  a    of
idiff   t    t    gives rise to a basic witness in which either the abox or the instance query
are atomic  to keep the formulation succinct we give an abstract description of the relationship between  a     idiff   t    t    and its witness using only the signature of  a    
the interested reader will have no problem to derive a stronger relationship between  a   
and its witness from the proof 
theorem     primitive witness for elhr  instance differences   let t  and t  be elhr terminologies and  a signature  if   idiff   t    t     then at least one of the following
conditions holds 
     r a  b    s a  b    idiff   t    t     for some r  s  sig   
    a  a b    idiff   t    t     for some concept name a  sig    individual b  and
abox a with sig a   sig   
    a  d b    idiff   t    t     for some singleton abox a  individual b in a  and elconcept d such that sig a   sig d   sig   
proof  let  a     idiff   t    t     we distinguish the following cases 
 a  if    s a  b   then  t    a     s a  b  if  and only if  for some r a  b   a we have t    
r v s  as  t    a      s a  b  we obtain t      r v s  thus    r a  b    s a  b    idiff   t    t   
and point   holds 
 b  assume    d b  for some el concept d  by lemma     for some n    we have
n ran
n ran
v d  by theorem     one of  i  r v s   ii  a v d     iii 
v d and t      ca b
t     ca b
r   v d     iv  ran r  v d     v  c v a  or  vi  ran r uc v a is a member of cdiff ran
  t    t    
n ran
and d  is a
where r  sig    a  sig   is a concept name  c is a subconcept of ca b
subconcept of d  if  i  r v s  cdiff ran
  t    t     then   r a  b    s a  b    idiff   t    t    and
point   holds 
now let f v g denote the member of cdiff ran
  t    t    in the cases  ii   vi  above  conran
sider the abox af associated with the c  concept f in point   of lemma     then
sig af    sig   and  af   g af     idiff   t    t    
in case  ii   we obtain that f   a is a concept name  hence af    a af    and point  
holds  for case  iii   we obtain af    r af   a       a     and point   of the lemma applies
again  after removing   a    from af    similarly  if  iv   then af    r aran   af     and
point   of the lemma holds  finally  for the cases  v  and  vi   g  sig   is a concept
name  hence point   of the lemma applies 
theorem    justifies the following finite representation of the  instance difference between elhr  terminologies  it corresponds exactly to the three distinct points of the theorem  assume t  and t  are given  let
   

fithe logical difference for the lightweight description logic el

 the set of role  instance difference witnesses  iwtnr
  t    t     consist of all r v s such
that t     r v s and t      r v s 
 the set of right hand  instance difference witnesses  iwtnrhs
  t    t     consist of all
a   such that there exists a with  a  a a    idiff   t    t    
 the set of left hand  instance difference witnesses  iwtnlhs
  t    t     consist of all a  
such that there exists c a  with   a a    c a    idiff   t    t    and all r   such
that there exists c c  with c   a or c   b such that   r a  b    c c    idiff   t    t    
the set of all  instance difference witnesses is defined as
rhs
lhs
iwtn  t    t       iwtnr
  t    t     iwtn  t    t     iwtn  t    t     

by theorem     observe that iwtn  t    t             if  and only if  idiff   t    t        the
set iwtnr
  t    t    can be easily computed in polynomial time and will not be analysed further
in this paper  thus  our aim now is to present polynomial time algorithms computing
lhs
iwtnrhs
  t    t    and iwtn  t    t    
    computing iwtnrhs
  t    t   
we compute iwtnrhs
  t    t    in two different ways  first  we present the more transparent
abox approach that works for arbitrary elhr  terminologies  and second we present the
more efficient dynamic programming approach that works for acyclic elhr  terminologies
only  both approaches have been introduced in section     for el terminologies  we start
with the abox approach and exhibit a  abox at    depending on t  and  only such that
for non conjunctive a   there exists an abox a such that  a  a d    idiff   t    t    if 
and only if   t    at         a a   for a certain individual name a   the case of conjunctive
a is reduced to this condition for its defining concept names 
to deal with elhr  terminologies rather than with el terminologies we have to extend
the structure of at    significantly  to describe the model theoretic properties of at      we
require the notion of a  range simulation  they capture model theoretically the expressive
power of c ran  concepts  the concepts that have been used to describe the  instance difference in terms of subsumption  cf  lemma      for any two aboxes a    a  with designated
individual names a  and a    we say that a relation s between obj a    and obj a    is a
 simulation if  and only if 
 s    a    a     s 
 s   for all a    if  a  b   s and a a   a    then a b   a   
 s   for all r    if  a  b   s and r a  a     a    then there exists b  with  a    b     s and
r b  b     a   
we say that s is a  range simulation if  in addition 
 rs  for all r    if  a  b   s and there exists c such that r c  a   a    then there exists
c  with r c    b   a   
in what follows we write
   

fikonev  ludwig  walther    wolter

  a    a      a    a    if there exists a  simulation between  a    a    and  a    a     and
  a    a    ran
 a    a    if there exists a  range simulation between  a    a    and

 a    a    
the following lemma shows that range simulations characterise c ran  concepts 
lemma     let a  and a  be  aboxes with designated individual names a  and a    if
ran  concepts
 a    a    ran
  a    a     then  t   a       c a    implies  t   a       c a    for all c
c 
proof  we apply lemma     let s be a  range simulation between a  and a  with
 a    a     s  one can prove by induction on n that for all n     for all a  obj a    and
for all b  obj a    
n ran
 b  
   if  a  b   s  then a     ca
   a
ran now assume that  a    a    ran
  a    a    and that  t   a       c a    holds for a c
n ran
concept c  then  by lemma     there exists n    such that t    ca   a  v c  moreover 
n ran
as  a    a    ran
  a    a     we have by    that a     ca   a   a     which then implies that
 t   a       c a     as required 

the construction of at   is now given in figure    where t is a normalised elhr terminology and  a signature  we advise the reader to recall the definition of at   given
in figure   for el terminologies t and then consider the additional ingredients required
for elhr  terminologies  we remind the reader of the definition of non conjt  a  from
section     

 a   a is non conjunctive in t
non conjt  a   
 b            bn    a  b  u    u bn  t
in figure    we also use the following sets  for a  nc and r  nr  
 prec
t  a      b    nc   t    b v a   
 predom
t  a      r    nr   t    r   v a   
 preran
t  a      r    nr   t    ran r  v a   
 prerole
t  r      s    nr   t    s v r   
the following example illustrates the definition of at    
example     for t     ran r  v a    ran s  v a    b  a  u a     t      and     r  s  b 
defined as in example    we have
at       b     r        s        r b       s b       r    b    s    b    
it holds that  t    at         b b   and  t    at          b b   

   

fithe logical difference for the lightweight description logic el

let
 a   a  sig t     and non conjunctive in t         ni  
be a set of individual names  for a non conjunctive in t   define sets at    a  of assertions
as follows
 if a is pseudo primitive in t   then
at    a      a   a     a      prec
t  a   
   r a        r     predom
t  a   
   r    a     r     preran
t  a    
 if a  r b  t   then for s  nr let


 
a      s  b       b    non conjt  b   s  prerole
t  r     predomt  a   prerant  b     

and set
at    a      a   a     a      prec
t  a   
   s    a     s     preran
t  a   

   s a        s      prerole
t  r   predomt  a    

   s a        s     a   
let
at       a        a         r         r     

 

at    a 

asig t  
a is non conjunctive in t

figure    construction of at   for elhr  terminologies 
lemma     for every normalised elhr  terminology t and signature  the following
conditions are equivalent for all  aboxes a  a  sig t     non conjunctive in t   and
all a  obj a  
    t   a      a a  
   a  obj at     and  a  a  ran
  at     a   
lemma    is proved in the appendix 
lemma     let t  and t  be normalised elhr  terminologies   a signature and a   
let at    be the abox constructed in figure    then the following conditions are equivalent 
 there exists a  abox a such that  t    a     a a  and  t    a      a a  
  t    at         a b   for some b  non conjt   a  
   

fikonev  ludwig  walther    wolter

proof  assume there exists a  abox a and a  obj a  with  t    a     a a  and  t    a     
a a   then  as  t    a      a a   for some b  non conjt   a    t    a      b a   hence 
by lemma      a  a  ran
  at      b    but then  by lemma      t    at         a b    as
required 
conversely  suppose that  t    at         a b   for some b  non conjt   a  with b 
obj at       notice that  by lemma      t    at          b b    hence  t    at          a b  
and so at    and b witness point   
theorem     let t  and t  be normalised elhr  terminologies and  a signature  then
iwtnrhs
  t    t    can be computed in polynomial time 
proof  by lemma     a  iwtnrhs
  t    t    if  and only if  for some b  non conjt   a  we have
 t    at         a b    it remains to observe that at    can be constructed in polynomial
time and checking whether  t    at         a b   is in polynomial time 
we now briefly describe how the dynamic programming approach for computing the set
r
iwtnrhs
  t    t    for acyclic terminologies is extended from el to elh   the extension of
the notwitness e  algorithm from figure   to elhr is given in figure    as in figure   
the procedure notwitness e  recursively associates with every e  sig t      a subset of
    all     a   a   sig t        a is non conjunctive in t    
the conditions for a  notwitness e  become more complex since now one has to take into

account the sets preran
t  e  and predomt  e   to prove the correctness of the notwitness
algorithm  we observe the following consequence of lemma    
corollary     let t  and t  be normalised acyclic elhr  terminologies and  a signature 
ran  concept c such that c v a  cdiff ran  t   t     
then iwtnrhs
   
  t    t        a      c

proof  first  let a  iwtnrhs
  t    t     then there exists a  abox a such that  t    a    
a a  and  t    a      a a   hence  by point   of lemma    there exists n    such that
n ran
n ran
ran  concept  conversely  assume a  
ca a
v a  cdiff ran
  t    t     note that ca a is a c
such that there exists a c ran  concept c with c v a  cdiff ran
  t    t     then by point   of
lemma      ac   a ac     idiff   t    t     i e  a  iwtnrhs
 t
 
t    
 

we now formulate the correctness of the notwitness algorithm in the same way as in
corollary    
theorem     let t  and t  be normalised acyclic elhr  terminologies and  a signature 
then iwtnrhs
  t    t        a  sig t         b  non conjt   a  with b   notwitness a    
the proof is an extension of the proofs of lemma    and corollary     namely  one can
show that for all a  sig t      and all b  sig t      such that b is non conjunctive
in t  the following conditions are equivalent 
 b  notwitness a  
ran  concepts c  t     c v b implies t     c v a 
 for all c
 
 

using corollary     we thus obtain for every a    a  iwtnrhs
  t    t    if  and only if 
ran
there exists a c  concept c with t      c v a and t     c v a if  and only if  there exists
b  non conjt   a  with b   notwitness a  
   

fithe logical difference for the lightweight description logic el

procedure auxpp  e 


if prec
t   e     and prerant   e     and predomt   e     then
return  all 
else

auxconcept      a     prec
t   e   prect   a   

auxran      a     prerant   e   preran
t   a   

auxdom      a     predomt   e   predom
t   a   
return auxconcept  auxran  auxdom
end if
end procedure
procedure notwitness e 
if e is pseudo primitive in t  then
notwitness e     auxpp  e 
else if e  e  u    usek  t  then
k
notwitness e     i   notwitness ei  
else if e  r e    t  then
 
if prerole
t   r     or all  notwitness e   then
notwitness e     auxpp  e 
else
fi


fi a is pseudo primitive in t   and
fi
auxrole prim    a   fi

prerole
t   r   predomt   a 
fi

fi a  t b  t   

fi


fi





fi prerolet   r   prerolet   t   predomt   a   and


fi




fi for all s  prerolet  r   prerolet  t  with
 
 
auxrole exist    a   fifi

 

s

 
predom
 a 
and
b

non conj
fi

t   b  with
t 

fi


 
  

fi

s

 
preran
 b
  
there
exists
e

non conjt   e    
t 

fi


  
 
  
fi
with b  notwitness e   and s   preran
t   e  
notwitness e      auxrole prim  auxrole exist    auxpp  e 
end if
end if
end procedure





















figure    computation of notwitness e  for elhr  
    tractability of iwtnlhs
  t    t   
we prove the tractability of iwtnlhs
  t    t    by the same reduction to simulation checking as
in the case of el terminologies  theorem     
theorem     let t  and t  be elhr  tboxes and let  be a signature  then the set
iwtnlhs
  t    t    can be computed in polynomial time 
proof  for any concept name a   we have
a  iwtnlhs
  t    t   


   

 ik    a     ik    a 

fikonev  ludwig  walther    wolter

where ki    ti   a  for a    a a   and iki is the canonical model for ki   i         indeed 
  a a    c a    idiff   t    t     for some el  concept c  if  and only if  by theorem    a 
c ik  and a 
  c ik    but this condition is  by lemma     equivalent to  ik    a     ik    a  
the latter condition can be checked in polynomial time 
similarly  for any role name r   we have
r  iwtnlhs
  t    t   



 ik    a     ik    a  or  ik    b     ik    b 

where ki    ti   a   a    r a  b    and iki is the canonical model for ki   i         again 
the latter condition can be checked in polynomial time 

   elhr  concept difference
in this section we present polynomial time algorithms deciding  concept inseparability and
computing a succinct representation of the concept difference between elhr  terminologies 
the algorithms are essentially by reduction to the instance difference case 
we start by introducing the succinct representation of the  concept difference  let
t  and t  be elhr  terminologies  since cdiff   t    t     cdiff ran
  t    t     it follows from
theorem    for c v d  cdiff   t    t    that there exists an inclusion of at least one of the
following forms
 i  c   v a 
 ii  ran r  u c   v a 
 iii  a v d   
 iv  r   v d    or
 v  ran r  v d 
in cdiff   t    t     where r  sig    a  sig   is a concept name  c   is a subconcept of c
and d  is a subconcept of d  notice in particular for case  ii  that c   is an el concept 
hence  just as in the case of the  instance difference  we obtain the following representation
of the  concept difference  assume t  and t  are given  let
 the set of role inclusion  concept difference witnesses  cwtnr
  t    t     consist of all
r v s such that t     r v s and t      r v s 
 the set of right hand  concept difference witnesses  cwtnrhs
  t    t     consist of all
a   such that there exists an el concept c with either c v a  cdiff   t    t    or
there additionally exists a role name r   such that ran r  u c v a  cdiff   t    t    
 the set of left hand  concept difference witnesses  cwtnlhs
  t    t     consist of all a  
such that there exists an el concept c with a v c  cdiff   t    t     and of all
role names r   such that there exists an el concept c with either r   v c 
cdiff   t    t    or ran r  v c  cdiff   t    t    
the set of all  concept difference witnesses is defined as
rhs
lhs
cwtn  t    t       cwtnr
  t    t     cwtn  t    t     cwtn  t    t     

   

fithe logical difference for the lightweight description logic el

observe that cwtn  t    t             if  and only if  cdiff   t    t        we also obtain
lhs
that the sets cwtnr
  t    t    and cwtn  t    t    coincide with the corresponding witness sets
for the instance difference  which allows us to re use some results that we have developed
for detecting instance differences 
lemma     let t  and t  be normalised elhr  terminologies and  a signature  then the
following holds 
r
   cwtnr
  t    t      iwtn  t    t    
lhs
   cwtnlhs
  t    t      iwtn  t    t   
rhs
   cwtnrhs
  t    t     iwtn  t    t   
lhs
proof  point   follows directly from the definition  proving cwtnlhs
  t    t     iwtn  t    t   
rhs
and cwtnrhs
  t    t     iwtn  t    t    is similar to lemma     finally  to prove that
lhs
lhs
iwtn  t    t     cwtn  t    t     assume that a  iwtnlhs
  t    t     then there exists an elconcept d a  with   a a    d a    idiff   t    t     but then t     a v d and t      a v d
lhs
and  therefore  a  cwtnlhs
  t    t     the argument for r  iwtn  t    t    is similar 

we have presented polynomial time algorithms which can compute iwtnlhs
  t    t    and
rhs
iwtnr
 t
 
t
  
thus 
it
remains
to
analyse
cwtn
 t
 
t
  
 
 
 
 


    tractability of cwtnrhs
  t    t   
we prove tractability of cwtnrhs
  t    t    by modifying the abox at    that has been introrhs
duced to prove tractability of iwtnrhs
  t    t     recall that a  iwtn  t    t    iff  t    at        
a b   for some b  non conjt   a   cf  lemma      not all a satisfying this condition are in
cwtnrhs
  t    t    since the abox at    cannot always be captured by a set of el concepts
 cf  example     our modification of at    is motivated by the observation that if an abox
a does not contain any individual in the range of two distinct role names  then el concepts
rather than c ran  concepts are sufficient to capture the consequences of the abox  thus  we
are going to modify at    in a minimal way so that the resulting abox does not contain
any individual name in the range of two distinct role names 
definition     an abox a is role splitting if there is no pair of assertions r a  c   s b  c  
a  for individual names a  b  c and distinct role names r  s 
the following lemma states the main property of role splitting aboxes 
lemma     let t  and t  be normalised elhr  terminologies   a signature with a  
and let a be a role splitting  abox such that  t    a     a a  and  t    a      a a   then
a  cwtnrhs
  t    t    
n ran
n ran
proof  by lemma     there exists n    such that t     ca a
v a and t      ca a
v a 
assume first that there does not exist b  obj a  and r   such that r b  a   a  then 
n ran
by definition and since a is role splitting  ran r  only occurs in ca a
in the direct scope
n ran
of the existential restriction r  hence ca a is equivalent to an el  concept  and we
are done  now assume there exists r b  a   a  then  again since a is role splitting 
n ran
ca a
is equivalent to a concept ran r  u c  where c is an el  concept  in this case
t     ran r  u c v a and t      ran r  u c v a  as required 

   

fikonev  ludwig  walther    wolter

for a  abox a such that sig a   nr      we define its role splitting unfolding a
with individuals   ar   a  obj a   r  sig a   nr   by setting
a     a ar     a a   a  r  sig a   nr      r as   br     r a  b   a  s  sig a   nr   
example     consider t     ran r  v a    ran s  v a    b  a  u a     t        
 r  s  b  and a    r a  c   s b  c   from example    we have  t    a     b c  but  t    a     
b c   notice that the role splitting unfolding a    r ar   cr    r as   cr    s br   cs    s bs   cs   
does not contain any individual in the range of more than one role
c

a

cr

a

cs
r

r

s

r

a

b

ar

s
s

br

as

bs

and  t    a       b cr     t    a       b cs   
we apply the role splitting unfolding to the abox at   from figure    the following
result is the concept version of lemma    and is proved in the appendix by a reduction to
lemma     the abox ac corresponding to an el concept c has been introduced before
lemma     for simplicity  we consider signatures  containing at least one role name 
lemma     for every normalised elhr  terminology t   signature  such that   nr     
concept name a that is non conjunctive in t   role name r    and el  concepts c the
following conditions are equivalent for d   c and d   ran r  u c 
 t     d v a 

 for some r    nr    a  r  obj at     and  ad   ad   ran
  at      a  r   

the following lemma can now be proved similarly to lemma     using lemma    instead
of lemma    
lemma     let t  and t  be normalised elhr  terminologies   a signature with a  
such that   nr      then the following conditions are equivalent 
 a  cwtnrhs
  t    t    
 there exists r   such that  t    at         a  b  r   for some b  non conjt   a  
proof  assume that a  cwtnrhs
  t    t     then  there either exists an el  concept c
with t     c v a and t      c v a  or there additionally exists r   such that t    
ran r  u c v a and t      ran r  u c v a  hence  for d   c and d   ran r  u c 
respectively  t      d v b  for some b  non conjt   a   and by lemma     there exists

r   with  a  r  obj at     and  ad   ad   ran
  at       b  r    but then  by lemma   
 t    at         a  b  r   as  t    ad      a ad   holds by lemma    
for the converse direction  it is easy to see that  b  r  obj at       b  obj at       and

 at       b  r   ran
  at      b    which implies that  t    at          a  b  r   by lemma    
consequently  we obtain a  cwtnrhs
  t    t    by applying lemma    and by using the fact
that the abox at    is role splitting 
   

fithe logical difference for the lightweight description logic el

finally  we obtain the tractability result 
theorem     let t  and t  be elhr  terminologies and  a signature  then the set
cwtnrhs
  t    t    can be computed in polynomial time 
rhs
proof  if   nr     then cwtnrhs
  t    t      iwtn  t    t     which can be computed in
polynomial time by theorem    
otherwise   nr     and the result follows from lemma    and the fact that at   
can be constructed in polynomial time in the size of t   

   elhr  query difference
to investigate the query difference between elhr  terminologies  we introduce the language
elran u u that extends elran with the universal role and intersections of roles  we show
that concept differences in elran u u correspond to query differences in elhr   for elran u u
we can prove an analogue of theorem     which states that any inclusion in the concept
difference contains an inclusion in which either the left hand side or the right hand side
is atomic  using the correspondence between concept difference in elran u u and query
difference in elhr we then obtain a meaningful definition of a succinct representation of
the query difference qdiff   t    t     finally  we provide polynomial time algorithms deciding
 query inseparability and computing the succinct representation of the query difference 
    elran u u  concept difference
we start this section by defining the language elran u u  
definition     elran u u    let u  the universal role  be a fresh logical symbol  c u u concepts are constructed using the following syntax rule
c   

a

 

c ud

 

r c

 

u c 

where a  nc   c  d range over c u u  concepts and r   r  u    u rn with r            rn  nr for
some n     the set of elran u u  inclusions consists of concept inclusions c v d and role
inclusions r v s  where c is a c ran  concept  d a c u u  concept  and r  s  nr  
the semantics of the additional constructors is straightforward by setting  for any interpretation i 
  r  u    u rn  i   ri       rni  
 ui   i  i  
note that we regard the universal role u as a logical symbol  i e   u   nr and sig u c   
sig c  for any concept c  assuming that u is a logical symbol reflects the fact that its firstorder translation uses no non logical symbols  for example  the signature of the first order
translation x a x  of u a does not contain any non logical symbols with the exception
of a itself 
it will be convenient to decompose c u u  concepts  the set of c u  concepts is defined as
the set of all c u u  concepts without the universal role  every c u u  concept c is equivalent
   

fikonev  ludwig  walther    wolter

to a concept of the form d  u u d  u    u u dk   where d            dk are c u  concepts  to
see this  observe that any concept c with a subconcept u d is equivalent to u d u c    
where c   is obtained from c by replacing all occurrences of u d by    for example 
a u r  b u u e  is equivalent to the concept u e u a u r  b u    
u u
u   the set of all c u u  c u   concepts whose signature
in the following we denote by c
 c
is contained in  
clearly  every elran  inclusion is an elran u u  inclusion  in addition  role conjunctions
and the universal role in elran u u  inclusions can be used to capture differences between
elhr  tboxes that cannot be captured by elhr  inclusions 
example     we first reconsider example    recall that
t     

t     a v r b  

    a  b  

then t     a v u b but t      a v u b and  as the universal role is regarded as a
logical symbol  sig a v u b     thus  by employing the universal role elran u u we can
simulate the query difference   a a    x b x   using the subsumption a v u b 
second  we reconsider example    recall that
t     a v s    s v r    s v r    

t     a v r     u r      

    a  r    r    

then t     a v  r  u r      and t      a v  r  u r       thus  we can simulate the query
difference   a a    x  r   a  x   r   a  x    using the subsumption a v  r  u r      
we introduce the appropriate notion of  concept difference for elran u u  
ran u u
definition     el
 difference   the elran u u
 difference between elhr  tboxes t 

ran u u
ran u u
 inclusions  such that t      and
 t    t    of all el
and t  is the set cdiff 
t       

we now extend lemma    for concepts that use the universal role or conjunctions of
roles 
lemma     let t be an elhr  terminology and r d a c u  concept with r   t  u    u tq
a conjunction of role names  assume
l
l
l
t   
ran si   u
aj u
rk  ck v r d 
 il

 jn

 km

where ck      k  m  are c ran  concepts and l  m  n     then at least one of the following
conditions holds 
 e u   there exists rk      k  m  such that rk vt t           rk vt tq   and t    ck uran rk   v
d 
 e u   there exists aj      j  n  such that t    aj v r d 
 e u   there exists rk      k  m  such that t    rk    v r d 
 e u   there exists si      i  l  such that t    ran si   v r d 
   

fithe logical difference for the lightweight description logic el

if u is the universal role and t    c v u d  where c is a c ran  concept and d is a
c u  concept  then at least one of the following holds 
 e u   there exists a subconcept r c   of c such that t    c   u ran r v d 
 e u   there exists a concept name a in c such that t    a v u d 
 e u   there exists a role name r in c such that t    r   v u d 
 e u   there exists a role name r in c such that t    ran r  v u d 
 e u   t    c v d 
 e u   there exists a subconcept  ran r  u c     of c such that t    r c   v d 
theorem     primitive witnesses for elran u u    let t  and t  be elhr  terminologies
ran u u
and  a signature  if   cdiff 
 t    t     then either there exist  r  s   sig   with
ran u u
r v s  cdiff 
 t    t    or  is of the form c v d  and one of
   c   v a
   a v d    r   v d  or ran r  v d 
is a member of cdiff ran u u
 t    t     where a  sig   is a concept name  r  sig   is a role

 
ran
name  c is a c  concept  d  is a c u u  concept  and sig c      sig d     sig   
proof  let c v d  cdiff ran u u
 t    t     where c is a c ran  concept and d a c u u  concept 

we prove the result by induction on the structure of d  the proof is verydsimilar to the
proof of theorem
d
d    and so we consider the case d   u d  only  let c    il ran si   u
 jn aj u  km rk  ck   then  by lemma     one of  e u   e u   holds 
cases  e u   e u   directly entail the existence of an inclusion from point   of the
theorem  in case  e u   there exists a subconcept r c   of c such that t     c   uran r  v d   
we have that t      c   u ran r  v d  as otherwise we have t     r c   v r d    i e 
 t    t     we can apply the
t     c v d would hold  thus  c   u ran r  v d   cdiff ran u u

induction hypothesis to d  and infer that an inclusion from point   or point   exists 
 t    t    as otherwise t     c v
similarly  for case  e u    we have c v d   cdiff ran u u

d    i e  t     c v d due to d   u d    by applying the induction hypothesis to d    we
obtain that an inclusion from point   or point   exists 
finally  in case  e u   there exists a subconcept ran r  u c   of c such that t     r c   v
d    observe first that for every model i of t  and for every d  c i   there exists d  
 ran r  u c    i   which implies that there exists d     r c    i   if we now assume that
t     r c   v d    it would follow that for every model i of t  and for every d  c i  
there exists d    d i   i e  t     c v u d  would hold  we can infer that r c   v d  
ran u u
cdiff 
 t    t    and by applying the induction hypothesis to d    we conclude that an
inclusion from point   or point   exists 
    query difference witnesses
we start by connecting concept differences in elran u u with query differences between
elhr  terminologies  the direction from query differences in elhr to concept differences
in elran u u is straightforward  observe that every assertion c a  with c a c u u  concept can
   

fikonev  ludwig  walther    wolter

be regarded as a boolean conjunctive query qc a   for example  the assertion  u aur b  a 
is equivalent to the conjunctive query xy  a x r a  y b y    details of the translation
are provided in the appendix   we obtain  where ac is the abox defined before lemma     
lemma     for any two elhr  tboxes t  and t  and signature   we have c v d 
cdiff ran u u
 t    t    if  and only if   ac   qd ac    qdiff   t    t    

in what follows we will not distinguish between an assertion c a  with c a c u u  concept
and the conjunctive query qc a   it follows from lemma    that if qdiff   t    t        then
cdiff ran u u
 t    t       

we come to the  considerably more involved  direction from query differences to concept
differences in elran u u   the following lemma provides a rather abstract description of how
inclusions in qdiff   t    t    are reflected by members of cdiff ran u u
 t    t    by stating that

they are given in the same signature 
lemma     for any two elhr  tboxes t  and t  and signature   if   qdiff   t    t    
 t    t    with sig      sig   
then there exists    cdiff ran u u

the interested reader can extract a more detailed description from the proof given in the
appendix  the proof of lemma    given in the appendix is model theoretic and employs
the close relationship between conjunctive query entailment and homomorphisms  chandra
  merlin         the intuition behind the result  however  is rather straightforward  if
 t   a     q  a  for a conjunctive query q  x     y   x   y   and elhr  tbox t   then for every
model i of  t   a  there is a mapping  from the variables  x and  y into i such that  a is a
 match of q  x  and i   t   a  has models that are essentially forest shaped  they consist
of tree shaped models attached to the abox individuals in a  cf  lutz et al          in
such forest shaped models  the individuals from  y that are not mapped to individuals in
a are mapped to the trees attached to the abox individuals  such a mapping  however 
exists already for a conjunctive query q   such that q is a homomorphic image of q   and q   is
essentially forest shaped  the individuals not mapped to abox individuals form trees that
are attached to the core of q   that is mapped to the abox individuals  in other words  we
obtain q   by partitioning q into a core and into subsets that correspond to c u u  concepts 
now  if there exists a  abox a and a conjunctive  query q  a  such that  t    a     q  a 
and  t    a      q  a   then we find such a conjunctive  query q   with the same behaviour as
q that is essentially forest shaped  from  a  q     one can then obtain the required elran u u inclusion c v d  where d captures some subtree of the query q    a c u u  concept  and c
 a c ran  concept  the abox a  the intuition for the last step is exactly the same as for
lemma    
we note that the result holds for general tboxes and not only terminologies  from
lemma    and theorem     we directly obtain the following description of primitive witnesses for query differences 
theorem     primitive witness for elhr  query differences   let t  and t  be elhr terminologies and  a signature  if   qdiff   t    t     then at least one of the following
conditions holds  for some individual names a  b  
     r a  b    s a  b    qdiff   t    t     for some r  s  sig   
   

fithe logical difference for the lightweight description logic el

    a  a b    qdiff   t    t     for some concept name a  sig   and abox a with
sig a   sig   
    a  d b    qdiff   t    t     for some singleton abox a and c u u  concept d such that
sig a   sig d   sig   
observe that theorem    coincides with theorem    with the exception that in point  
the concept d can now be a c u u  concept  we can  therefore  define the following finite
representation of the  query difference  assume t  and t  are given  define the set
 qwtnr
  t    t    of role  query difference witnesses as the set of role  instance differr
ence witnesses  i e   qwtnr
  t    t      iwtn  t    t    
 qwtnrhs
  t    t    of right hand  query difference witnesses as the set of right hand
rhs
 instance difference witnesses  i e   qwtnrhs
  t    t      iwtn  t    t    
 qwtnlhs
  t    t    of left hand  instance difference witnesses as the set of all a   such
that there exists a c u u  concept c with   a a    c a    qdiff lhs
  t    t    and all r  
u u
such that there exists a c  concept c such that   r a  b    c c    qdiff   t    t    for
c   a or c   b 
the set of all  query difference witnesses is defined as
rhs
lhs
qwtn  t    t       qwtnr
  t    t     qwtn  t    t     qwtn  t    t     

by theorem     qwtn  t    t             if  and only if  qdiff   t    t        algorithms
rhs
computing qwtnr
  t    t    and qwtn  t    t    have been presented in the section on instance
difference  it thus remains to consider qwtnlhs
  t    t    
    tractability of qwtnlhs
  t    t   
u u  concepts
to prove tractability of qwtnlhs
  t    t    we first capture the expressive power of c
using a stronger form of simulation between interpretations  let i  and i  be interpretations  a  simulation s between i  and i  is called a global intersection preserving
 simulation if  in addition 

 for every d  i  there exists a d   i  with  d  d     s 
 if  d  e   s  d   i    and r    r      d  d     ri     
    then there exists e  with
 e  e     s and  d    e     ri  for all r  r 
we write  i    d  
  i    e  if there exists a global intersection preserving  simulation s
between i  and i  such that  d  e   s 
lemma     let i  and i  be finite interpretations   a signature  d  i    and e  i   
then
u u
 i    d  

for all c  c
  d  c i   e  c i   
  i    e 
it can be checked in polynomial time whether  i    d  
  i    e  
   

fikonev  ludwig  walther    wolter

the proof is a straightforward extension of the proof of lemma    and the polynomialtime algorithm deciding the existence of  simulations 
we observe that theorem   about the properties of the canonical model ik of a kb k
can be extended to c u u  concepts  in the appendix  the proof is given for c u u  concepts as
well   namely  we have for all c u u  concepts c   
 k    c   a  if  and only if  aik  c ik  
 t    c u d v c  if  and only if  xc d  c ik  
it follows that for any concept name a    we have
a  qwtnlhs
  t    t   



 ik    a   
  ik    a  

where ki    ti   a  and a    a a    for i         we also have for every role name r  
that

r  qwtnlhs
  ik    a   
  t    t   
  ik    a  or  ik    b     ik    b 
where ki    ti   a  and a    r a  b    for i         thus  we obtain the following tractability
result 
theorem     let t  and t  be elhr  terminologies and  a signature  then the set
qwtnlhs
  t    t    can be computed in polynomial time 

   implementation and experiments
in this section  we describe an experimental evaluation of the theoretical work developed above  our experiments employ the cex  tool   in cex   we have implemented
polynomial time algorithms which  given acyclic elhr  terminologies t  and t  and a signature  as input  compute witnesses for the concept difference cdiff   t    t    and the
instance difference idiff   t    t     
cex  is written in ocaml and the reasoner cb  kazakov        is internally used as
classification engine  in the implementation of cex   we have employed the algorithms
developed in this paper  in more detail  for the instance difference case for acyclic elhr terminologies t  and t   
 to compute iwtnr
  t    t     cex  performs a straightforward comparison of the role
inclusion chains entailed by the terminologies t  and t   
 to compute iwtnrhs
  t    t     cex  uses the notwitness algorithm in figure   and then
employs theorem    
 to compute iwtnlhs
  t    t     cex  checks for the existence of a  simulation between
the canonical models  theorem     
   available under an open source license at http   www csc liv ac uk  michel software cex  
   an extended version of cex  computing witnesses for the query difference qdiff   t    t    as well is
presented by  konev  ludwig    wolter         in addition  konev et al  describe experiments comparing
query difference witnesses with concept and instance difference witnesses that are not presented in this
paper 

   

fithe logical difference for the lightweight description logic el

the output for iwtnlhs
  t    t    is partitioned into three sets 
 the set of left hand atomic  instance difference witnesses  iwtnlhs a
 t    t     which is

defined as the set of all concept names a   such that there exists an el concept c
such that   a a    c a     idiff   t    t     equivalently a v c  cdiff   t    t     
 the set of left hand domain  instance difference witnesses  iwtnlhs dom
 t    t     which

is defined as the set of all role names r   such that there exists an el concept c
with   r a  b    c a    idiff   t    t     equivalently  r   v c  cdiff   t    t      and
 the set of left hand range  instance difference witnesses  iwtnlhs ran
 t    t     which is

defined as the set of all role names r   such that there exists an el concept c with
  r a  b    c b    idiff   t    t     equivalently  ran r  v c  cdiff   t    t     
obviously  it holds that 
lhs a
iwtnlhs
 t    t     iwtnlhs dom
 t    t     iwtnlhs ran
 t    t    
  t    t      iwtn



for the concept difference case  recall that
r
cwtnr
  t    t      iwtn  t    t    

lhs
cwtnlhs
  t    t      iwtn  t    t    

and so we use the same algorithms as in the instance case  we also set
 t    t      iwtnlhs x  t    t   
cwtnlhs x

rhs
for x   a  dom  ran   to compute iwtnrhs
  t    t     cex  exploits that cwtn  t    t    
rhs
rhs
iwtn  t    t     lemma     and first computes iwtn  t    t    and then checks using a
straightforward variant of the notwitness algorithm for concept differences whether a 
cwtnrhs
  t    t    
in the following three subsections we describe the experiments that we have conducted 
the experimental settings were as follows  all programs were run on pcs equipped with
an intel core   duo e     cpu and   gib of main memory  version       of cex  was
used 

    comparing different versions of snomed ct
we applied cex  to compare a january       sm  a  and a july       sm  b  version of snomed ct  sm  a and sm  b contain        and        concept names  respectively  both versions use the same    role names  and they contain role inclusions
but no domain or range restrictions are present  consequently  one can infer from corollary    that iwtn  sm  b  sm  a    cwtn  sm  b  sm  a   in what follows we consider
cwtn  sm  b  sm  a  only 
for our experiments we used signatures ranging over so called snomed ct subsets 
which are employed in the uk for the deployment of snomed ct in specific areas  we compared sm  a with sm  b on     such signatures  by computing cwtn  sm  b  sm  a 
for each of these sets   the considered signatures always contain all of the    snomed
ct role names  the comparisons which resulted in a non empty difference are reproduced
   

fikonev  ludwig  walther    wolter

in table    in none of the cases  differences regarding role inclusions have been detected  in
table    the second column gives the number of concept names in the respective subset  
and the third and fifth column the number of concept witness differences  observe that the
number of differences does not correlate with the size of the considered signatures   i e 
there exist signatures that are somewhat comparable in size  but induce a greatly varying
number of difference witnesses  see e g  the subsets diagnosis and manumat  
in order to determine how many difference witnesses computed by cex  can be obtained
from a straightforward comparison of the class hierarchies already  we have also computed
the sets
clswtnlhs
  sm  b  sm  a      a      b     a v b  cdiff   sm  b  sm  a   
and
clswtnrhs
  sm  b  sm  a      b      a     a v b  cdiff   sm  b  sm  a   
for each of the considered comparison signatures   the results that we have obtained are
also depicted in table    one can see that often a great number of differences cannot be
detected by considering the classification difference only 
in the last three columns of table    we give the cpu times required for computing all
concept witnesses 
 first  the times are given when cex  is directly applied to the full terminologies
sm  a and sm  b 
 second  the times are given when one first extracts  modules using the module extraction tool mex  konev  lutz  walther    wolter        from sm  a and  respectively 
sm  b and then applies cex  to the extracted  modules  observe that a  module
extracted by mex is  query  and  therefore   concept and  instance  inseparable
from the whole terminology  thus  the computed concept witnesses are the same 
 finally  the times are given if  in addition to computing concept witnesses from the full
terminologies sm  a and sm  b  cex  also computes examples of concept inclusions
in the logical difference that explain the witnesses  we discuss this feature of cex 
below 
one can observe that extracting mex modules leads to a significant improvement of the
performance of cex   of course  if the signature is very large  e g   for diagnosis and
finding   the resulting modules are almost as large as snomed ct itself and the effect
is less significant  secondly  one can observe that the additional computation of example concept inclusions in the logical difference roughly doubles the times needed for the
comparison 
finally  to evaluate the practical feasibility of using the abox approach to compute
the sets iwtnrhs
  sm  b  sm  a   we have implemented the computation of aboxes at  
together with an abox reasoning algorithm for checking the second condition of lemma    
we have then tested our implementation on the subsets  of snomed ct used for evaluating the performance of cex   to limit the size of the aboxes at   and to speed up
computations  we first computed modules using mex  the results that we obtained are
   

fithe logical difference for the lightweight description logic el

shown in table    the size of the  modules computed by mex  i e  t  of sm  b and t 
of sm  a  is shown in columns two and three  respectively  as expected from the definition of at     one can observe that the number of concept and role membership assertions
present in the aboxes at    can grow very large  even for modules and signatures with only
a few thousand concept names 
for   of the    considered subsets our implementation ran out of available physical
memory  indicated by a time value    when all possible concept membership consequences
of the abox were to be computed  overall  we observed the longest execution time of
over   hours for the set specmatyp  in conclusion  one can see that a straightforward
implementation of the abox approach is practically useful only for terminologies and
signatures of a few thousand concept names 
    comparing different versions of the nci thesaurus
we have also used the cex  tool to compare distinct versions of the nci thesaurus  most
distributed releases of the nci thesaurus contain language constructs which are not part of
elhr  such as disjunction and value restriction   to obtain elhr  terminologies  we have
removed all inclusions that contain a non elhr constructor from the original terminologies 
typically  this affected       of the inclusions present in each of the distributed nci
versions  most of the elhr  versions generated in this way contain role inclusions as well
as domain and range restrictions 
similarly to the work of goncalves et al          we have compared    consecutive
elhr  versions of the nci thesaurus ranging between the versions      j and      d  with
the exception of      f and      d  which could not be parsed correctly  version      h
and some later versions of the nci thesaurus are not acyclic  and hence  they could not
be handled by the cex  tool 
for any two consecutive versions ncin and ncin   within the considered range  we
computed the sets cwtn  ncin     ncin   and iwtn  ncin     ncin   on signatures   
sig ncin    sig ncin      an overview of the set sizes for cwtnrhs
  ncin     ncin   and
lhs a
cwtn  ncin     ncin   that we obtained can be found in figure    the comparisons are
sorted chronologically along the x axis according to the release dates of the nci ontology
versions  whereas the corresponding number of left hand atomic difference witnesses or
right hand difference witnesses can be found on the y axis  one can see the number of righthand difference witnesses remained fairly low throughout the different versions  however 
occasional spikes occurred in the number of left hand atomic difference witnesses with a
maximum value of       for comparing the versions      d and      d  moreover  in none
of the comparisons except for those shown in figure   left hand role domain or left hand role
range difference witnesses were identified  overall  no witnesses regarding role inclusions
were detected and we found that for every two considered consecutive versions ncin and
ncin   on    sig ncin    sig ncin     
cwtn  ncin     ncin     iwtn  ncin     ncin   
a running time of     seconds and     mib of memory were required on average for
computing witnesses and example inclusions for idiff   ncin     ncin    computing witnesses and example inclusions for cdiff   ncin     ncin   on average took     seconds and
used     mib of memory 
   

fikonev  ludwig  walther    wolter

subset name 
admin
adminproc
cdacarest
crcareneur
crcareresp
devicetyp
diagimg
diagnosis
drgadrcon
endosfind
endosproc
epcream  a
epenema  a
epenema  b
epeye  
epiuds  
famhist
finding
foodadrcon
ffoodaller
invest
labinvest
labinvmeth
labisolate
labmorph
labspec
labtopog
lifestyle
manumat
nofoodall
nonhuman
pbcl
pbhllng
pf
provadv
sf
socpercir
specmatyp
treatment
vmp
vtm

   nc  
    
    
   
    
    
    
    
     
    
   
  
   
  
 
   
 
   
      
    
   
     
    
    
     
    
    
     
     
     
   
    
    
    
  
    
   
    
    
     
     
    

 cwtnrhs
  
 
 
 
  
  
  
  
    
   
 
 
 
 
 
 
 
 
     
  
 
    
  
   
   
  
 
   
  
 
 
  
   
 
 
 
 
 
  
    
 
 

 clswtnrhs
  
 
 
 
 
  
  
  
   
   
 
 
 
 
 
 
 
 
    
  
 
   
  
  
   
  
 
   
  
 
 
  
   
 
 
 
 
 
 
    
 
 

 cwtnlhs a
 

  
 
 
   
   
  
  
     
  
  
 
 
 
 
 
 
  
     
  
 
    
    
    
   
  
  
   
   
  
  
   
    
  
 
   
 
 
  
    
  
  

 clswtnlhs
  
 
 
 
  
  
  
 
    
  
 
 
 
 
 
 
 
 
     
  
 
    
   
    
   
  
 
   
   
 
  
   
   
 
 
   
 
 
  
    
 
 

time  s 
cwtn   from
full ontologies
      
      
      
      
      
      
      
      
       
      
      
      
      
      
      
      
      
       
      
      
      
      
      
      
      
      
       
      
      
      
      
      
      
      
      
      
      
      
      
      
      

time  s 
cwtn   with
module extraction
    
    
    
     
     
    
     
      
     
    
    
    
    
    
    
    
    
       
    
    
     
     
     
     
    
     
     
     
     
    
     
     
    
    
    
    
    
     
      
     
    

time  s 
cwtn
with examples
      
      
      
      
      
      
      
       
       
      
      
      
      
      
       
       
      
       
       
      
      
      
       
       
       
       
       
      
       
      
       
       
      
      
      
      
       
      
       
       
      

table    subset comparisons for t    sm  b and t    sm  a resulting in a non empty
difference

   

fithe logical difference for the lightweight description logic el

subset name 
admin
adminproc
cdacarest
crcareneur
crcareresp
devicetyp
diagimg
diagnosis
drgadrcon
endosfind
endosproc
epcream  a
epenema  a
epenema  b
epeye  
epiuds  
famhist
finding
foodadrcon
foodaller
invest
labinvest
labinvmeth
labisolate
labmorph
labspec
labtopog
lifestyle
manumat
nofoodall
nonhuman
pbcl
pbhllng
pf
provadv
sf
socpercir
specmatyp
treatment
vmp
vtm

   nc  

 sig t     nc  

 sig t     nc  

   a a    a a   at      
 in thousands 

   r a  b    r a  b   at      
 in thousands 

time  s 

    
    
   
    
    
    
    
     
    
   
  
   
  
 
   
 
   
      
    
   
     
    
    
     
    
    
     
     
     
   
    
    
    
  
    
   
    
    
     
     
    

    
    
   
    
    
    
     
      
    
    
   
    
  
  
   
 
    
      
    
   
     
    
     
     
    
    
     
     
     
   
    
    
    
   
    
    
    
     
      
     
    

    
    
   
    
    
    
     
      
    
    
   
    
  
  
   
 
    
      
    
   
     
    
     
     
    
    
     
     
     
   
    
    
    
   
    
    
    
     
      
     
    

     
     
   
    
    
     
     
       
     
   
  
   
 
 
   
 
    
        
    
   
      
     
     
      
     
    
      
      
       
   
     
     
    
  
    
    
     
      
       
      
     

    
   
  
   
   
   
    
     
    
   
  
   
  
  
   
 
   
     
   
  
    
    
    
    
   
   
    
    
     
   
   
    
   
  
   
   
   
    
     
    
   

       
       
    
       
       
       
        
       
      
     
      
    
    
     
    
      
      
     
       
       
       
       
      
     
        
        
      
    
      
      
       
        
       

table    performance of the abox approach for computing iwtnrhs
  sm  b  sm  a 

   

fikonev  ludwig  walther    wolter

     
nr of right hand witnesses
nr of left hand atomic witnesses
     

     

     

     

     

    

 

lhs a
figure    sizes of cwtnrhs
 ncin     ncin   between consec  ncin     ncin   and cwtn
utive elhr  versions ncin and ncin   of the nci thesaurus

t 
     j
     a
     d
     d
     e
     d
     e

t 
     n
     a
     d
     c
     d
     d
     d

   nc  
     
     
     
     
     
     
     

   nr  
  
  
  
   
   
   
   

 cwtnrhs
  
   
   
   
   
    
   
    

 cwtnlhs a
 

    
    
     
    
     
    
   

 cwtnlhs dom
 

 
 
  
 
   
   
 

 cwtnlhs ran
 

 
 
  
 
   
   
 

lhs
figure    detailed results for cwtnrhs
  t    t    and cwtn  t    t    on selected versions of
the nci thesaurus using shared signatures    sig t     sig t   

   

fithe logical difference for the lightweight description logic el

the peaks in atomic left hand difference witnesses mostly resulted from changes to a few
very general concepts  as mentioned above already  goncalves et al         provide an indepth analysis of nci versions  a systematic comparison of the methods used by goncalves
et al  with the logical diff introduced in this paper would be very interesting  but is beyond
the scope of this paper  one interesting observation that can be made is  however  that the
peak of atomic left hand witnesses that we observed between the versions      d and      d
correlates with the fact that according to goncalves et al  a large number of non redundant
axioms were added to version      d  however  a comparable number of non redundant
axioms were also added to version      g  but no peak in atomic left hand or right hand
witnesses was observed in our analysis 
    scalability analysis
we demonstrated in the previous sections that cex  is capable of finding the logical difference between two unmodified versions of snomed ct and between distinct versions of the
nci thesaurus restricted to elhr   in order to see how cex s performance scales  we have
also tested it on randomly generated acyclic terminologies of various sizes  each randomly
generated terminology contains a certain number of defined  and primitive concept names
and role names  the ratio between concept equations and concept inclusions is fixed  as is
the ratio between existential restrictions and conjunctions  the random terminologies were
generated for a varying number of defined concept names using the parameters of sm  a 
   role names  the equality inclusion ratio is        and the exists conjunction ratio is       
for every chosen size  we generated    samples consisting of two random terminologies as
described above  we then applied cex  to find the logical difference of the two terminologies over their joint signature  figure    shows the average memory consumption of cex 
over    randomly generated terminologies of various sizes  in    a  the maximum length
of conjunctions was fixed as two  m     and in    b  the number of conjuncts in each conjunction is randomly selected between two and m  it can be seen that the performance of
cex  crucially depends on the length of conjunctions  in    b   the curves break off at the
point where cex  runs out of physical memory    for instance  in the case of m     this
happens for terminologies with more than       defined concept names  finally  we note
that the time required by cex  to compare two such random terminologies highly varied
across the different samples  the maximum time required by cex  was        seconds 
    additional user support for analysing differences
so far we have discussed experiments with cex  in which one computes the set of concept
and instance difference witnesses between two terminologies  clearly  such witnesses do not
provide sufficient information for a detailed analysis of the logical difference between two
terminologies  for a more thorough analysis  it is required to consider examples  from
cdiff   t    t    and idiff   t    t    that show why certain concept names are concept instance
difference witnesses  thus  whenever it searches for concept names a such that there
exists a c with c v a  cdiff   t    t     cex  can output example concept inclusions
c v a  cdiff   t    t     similarly  if requested  cex  can also compute example inclusions
   in some cases the classification of the terminologies through cb already requires more than   gib of
memory 

   

fikonev  ludwig  walther    wolter

    

    

    

memory consumption in mib

memory consumption in mib

    

   

   

   

    

    

    

    

   
   

m   

m  

m   

 

number of concept names

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
 

  
  
 
  
  
 
  
  
 
  
  
 
  
  
 
  
  
  
  
  
  
  
  
  
  
  
 
    
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
 
    
  
  
  
  
  
  
  
  

 

number of concept names

 a  short conjunctions

 b  long conjunctions

figure     memory consumption of cex  on randomly generated terminologies
illustrating left hand concept differences a v c  r   v c  or ran r  v c  and examples for
the instance difference case  we know from example    that even minimal such examples
can be of exponential size in the input terminologies  in practice  however  for snomed ct
and nci the additional computation of an example inclusion for every concept instance
difference witness only doubles the times required for the computation  as described
above already  this can be observed in table    where the computation times with examples
are shown in the last column and the computation times without examples are shown in the
 th column  the examples computed by cex  are often of reasonable size  for instance  if
we consider the subset specimen material type  specmatyp  from table    it holds that
 i  there exist    right hand  concept witnesses  i e   cwtnrhs
  sm  b  sm  a        
 sm  b  sm  a  
 ii  the set of left hand atomic  concept difference witnesses  cwtnlhs a

contains    concept names 
in point  i  and  ii   the longest concepts c  d for c v a  cdiff   sm  b  sm  a  and
a v d  cdiff   sm  b  sm  a  that were computed by cex  had twelve concept and role
name occurrences  thus were far smaller than the exponential worst case suggests  
having computed not only difference witnesses but also example concept inclusions for
witnesses  it is of interest to explain why an example concept inclusion is entailed by one
terminology but not the other  computing minimal subsets of a terminology that entail an
example concept inclusion is a promising approach to explaining logical differences that is
also known as axiom pinpointing or justification  it is not supported by cex   but has been
investigated extensively for various description logics including el  schlobach   cornet 
      baader  penaloza    suntisrivaraporn        kalyanpur  parsia  horridge    sirin 
      horridge  parsia    sattler        penaloza   sertkaya         to illustrate this
approach  consider again the subset specimen material type  specmatyp  from table   
cex  outputs
venipunctureforbloodtest  cwtnlhs a
 sm  b  sm  a  

   

fithe logical difference for the lightweight description logic el

   

laboratorytest v laboratoryprocedure u evaluationprocedure
bloodtest  laboratorytest u  rolegroup  hasspecimen  bloodspecimen

   

    venipunctureforbloodtest   rolegroup hasfocus  bloodtest 
u venipuncture
u  rolegroup   proceduresitedirect venousstructure 
u  method punctureaction   

figure     minimal axiom set
it also computes the following concept inclusion  slightly simplified by hand  as a member of cdiff   sm  b  sm  a  
  

venipunctureforbloodtest
v rolegroup hasfocus evaluationprocedure

using axiom pinpointing one can then compute a minimal set of inclusions from sm  b
which entails the concept inclusion above  such a set is shown in figure     axioms   and  
are in both terminologies  but sm  a contains
laboratorytest v laboratoryprocedure
instead of axiom    which explains this difference between the two terminologies  note
that concept and role names from  are shaded in grey  it can be seen that the interaction
between  concepts heavily depends on inclusions that are built up mainly from non concepts  actually none of inclusions required to derive    is a  inclusion 
we finally note that cex  is a text based tool  in order to make it more accessible to
ontology users  a protege plugin  logdiffviz    was created  which calls cex  and visualises
both ontology versions and the differences as a hierarchical structure  logdiffviz also
provides basic axiom pinpointing  the plugin is distributed as a self contained java archive
file  jar  in which cex  is bundled 

   related work
we describe the relationship between the work presented in this paper and existing work on
logical difference and inseparability of ontologies  related work on versioning and the distinction between syntactical  structural  and logic based approaches to versioning have been
discussed in the introduction already and will not be presented again here  the problem
of deciding whether two ontologies are  inseparable for some signature  has been investigated for many ontology languages and different notions of inseparability such as concept
inseparability  instance inseparability  conjunctive query inseparability  and model theoretic
inseparability  i e   the  reducts of models of the first ontology coincide with the  reducts
of models of the second ontology   inseparability is also closely related to the notion of conservative extensions since one ontology is a conservative extension of another ontology if
it contains the other ontology as a subset and both are inseparable w r t  the signature of
   available at http   protegewiki stanford edu wiki logical difference vizualiser  logdiffviz 

   

fikonev  ludwig  walther    wolter

the smaller ontology  thus  algorithmic results on deciding conservativity are directly relevant for inseparability as well  the tractability results presented in this paper are in sharp
contrast to most other known results  we start with general el tboxes  for general eltboxes deciding inseparability and conservative extensions are exptime complete problems
for concept  instance and conjunctive queries  both problems are undecidable for modeltheoretic inseparability and model theoretic conservative extensions  lutz   wolter        
 we note  however  that in the model theoretic case unexpected positive algorithmic results
have been obtained in konev  lutz  et al         for acyclic el and alc and their extensions
with inverse roles   for alc and its standard extensions without nominals deciding concept
inseparability and conservative extensions is  exptime complete  ghilardi  lutz    wolter 
      lutz et al         lutz   wolter        and for alcqio deciding concept inseparability and conservative extensions becomes undecidable  lutz et al         cuenca grau
et al          nothing is known for alc about the complexity of inseparability for instance
and conjunctive queries  for dl lite dialects  calvanese  giacomo  lembo  lenzerini   
rosati         the complexity of concept  instance  and query inseparability ranges from
pspace hard  and in exptime  for the description logic underlying the owl   ql standard  np complete for dl litehorn   and p   complete for dl litebool  konev  kontchakov 
ludwig  schneider  wolter    zakharyaschev        kontchakov et al          for dllitebool model theoretic inseparability is decidable  kontchakov et al         and for dllitecore concept  instance  and query inseparability are in ptime  konev et al          in
contrast to the work presented in this paper  however  no attempt is made to present the
logical difference to the user if two ontology are not inseparable  as mentioned above  in
the work of konev et al          cex  is extended to the conjunctive query difference case
between acyclic elhr  terminologies and various experiments based on the nci thesaurus
are discussed 
the work discussed so far is concerned with the logical difference and inseparability between description logic tboxes  the difference between description logic concepts has been
investigated  for example  in the work of teege         and of brandt  kusters  and turhan
       but besides of the interest in some kind of difference the problems considered as well
as the techniques employed are rather different  inseparability and conservativity between
ontologies given in ontology languages that are more expressive than description logics  including first order logic  have been considered in the work of kutz and mossakowski       
       similar relationships between theories have also been investigated in answer set
programming  pearce   valverde        eiter  fink    woltran        pearce   valverde 
      
finally  we note that lemma    and the abox constructed in figure   appear to capture and describe fundamental properties of el and elhr  terminologies  both have been
applied to investigate seemingly unrelated problems such as query containment for ontology
based data access using el terminologies  bienvenu  lutz    wolter      b  and first order
rewritability of instance queries  bienvenu  lutz    wolter      a  

    conclusion
in this paper  we have presented polytime algorithms that decide concept  instance  and
query inseparability w r t  a signature  for elhr  terminologies and compute a represen   

fithe logical difference for the lightweight description logic el

tation of the difference if it is non empty  experiments using cex  based on snomed
ct and nci show that the outputs given by our algorithm are mostly of reasonable size
and can be analysed by users  many extensions  applications  and open problems remain
to be explored  here we mention some of them 
    we have motivated the study of  inseparability between terminologies by the problem of comparing different versions of a terminology regarding what they say about a
certain signature  other potential and promising applications can be found in the area
of decomposing and composing ontologies  for example  when importing an ontology t
into an ontology t    i e   forming t  t     it is often important to ensure that t   does not
interfere with the signature of t   in other words  t  t   should be a conservative extension
of t in the sense that the consequences of t  t   in the signature of t should coincide
with the consequences of t itself  cuenca grau et al         ghilardi et al         vescovo 
parsia  sattler    schneider         as observed above already   inseparability generalises conservative extensions and  therefore  our algorithms can be used to check whether
one terminology is a conservative extension of another terminology  algorithms checking
conservative extensions can also be used to extract modules from ontologies  cuenca grau
et al         kontchakov  pulina  sattler  schneider  selmer  wolter    zakharyaschev       
konev et al          it would be of interest to explore applications of our inseparability
testing algorithms to extract modules of terminologies and check conservativity 
    inseparability as defined in this paper does not mean that one terminology can be
replaced by another terminology in every context  in various applications of inseparability
for modularity it is important to ensure that if t  and t  are  inseparable  then t   t
and t   t are  inseparable as well  for any ontology t   this is called the replacement
property by konev  lutz  walther  and wolter        and has been exploited and discussed 
for example  in the work of cuenca grau et al         and of kontchakov et al          the
notions of inseparability introduced in this paper do not have the replacement property  to
see this  let     a  a    b  b     and

t   

a v r b
a   r b  




and t   

a v r b
a  v r b  


 

t  and t  are  query inseparable  and  therefore   concept and  instance inseparable  
but t   t is not even  concept inseparable from t   t   for t    b v b      indeed 
observe that  t   t      a v a    but  t   t       a v a   
it is an important open research problem to determine the complexity of  and to develop
algorithms for strong versions of inseparability with the replacement property for el and
elhr  terminologies 
    elhr is a rather weak description logic  it would be of great interest to explore in
how far techniques developed for elhr can be applied to ontologies which contain additional constructors  but still consist mainly of elhr  inclusions  it is unlikely that tractable
sound and complete algorithms for interesting extensions exist  but it seems worth exploring algorithms that are sound and incomplete extensions of the algorithms presented in this
paper  some results in that direction have been presented by goncalves  parsia  and sattler
       
   

fikonev  ludwig  walther    wolter

acknowledgments
this research was supported by epsrc grant ep h          we would like to thank
william gatens for the development of the logdiffviz protege plugin and three anonymous
reviewers for their helpful comments 

appendix a  proofs for section  
lemma   for every terminology t   one can construct in polynomial time a normalised
terminology t   of polynomial size in  t   such that sig t    sig t      t      t   and for every
model i of t there exists a model j of t   such that i   j and x i   x j for every
x  sig t    moreover  t   is acyclic if t is acyclic 
proof  given a terminology t   construct a normalised terminology t   in five steps as follows 
first  remove all occurrences of   in conjunctions  and replace c in each occurrence of r c 
where c is not a concept name or    with a fresh concept name a and add the concept
definition a  c to the terminology  repeat the last step exhaustively 
second  replace every ri  bi in each inclusion with a right hand side of the form f u
r   b  u    u rm  bm  m      where each bi is either a concept name or bi      and f
is a conjunction of concept names such that f      or m     with a fresh concept name
bi  and add the concept definition bi   ri  bi to the terminology 
third  replace every inclusion of the form a  r   with two inclusions a v r   and
r   v a in the terminology 
fourth  consider any concept name a such that there are sequences b            bn  and
f            fn   where the fi are conjunctions of concept names  such that the terminology
contains the concept definitions a  f  and bi  fi     for i   n  where bi is a conjunct of
fi and a a conjunct of fn   let fn  be the conjunction of concept names in fn except a  let 
 
recursively  fi 
be the result of replacing the conjunct bi  in fi  with the conjunction
 
fi   for    i  n  replace the concept definition a  f  in the terminology with the
primitive concept definition a v f    
fifth  for each inclusion a  f   a v f   r   v f   or ran r  v f   where f is a
conjunction of concept names  replace every conjunct b in f for which there is a b  f  
in the terminology  where f   is a conjunction of non conjunctive concept names  with f    
to see that the construction indeed yields a normalised terminology t     observe that
the steps       and   ensure that each inclusion has one of the following forms  a  r b 
a  f   e v r b  e v r    or e v f   where b is a concept name  e is either a concept
name  or is of the form s    or ran s   and f is a conjunction of  possibly conjunctive 
concept names  step   breaks cycles in concept definitions and step   takes care that all
conjuncts of the conjunction of concept names f in the right hand side of each inclusion of
the form a  f   a v f   r   v f   or ran r  v f are non conjunctive concept names  it is
readily verified that t   is acyclic if t is acyclic as none of the above steps introduces cycles
in concept definitions 
we now show that t   can be obtained in polynomial time and that t   is of polynomial
size in  t    let n be the number of inclusions in t and c the maximal length of an inclusions
right hand side in t   clearly  the steps      and   each do not increase the number of
inclusions by more than c  n  raising the total number of inclusions to at most  nc  steps  
   

fithe logical difference for the lightweight description logic el

and   do not increase the number of inclusions  but the length of their right hand sides  the
length of the right hand side of an inclusion can increase to at most the sum of the lengths
of the right hand sides of all inclusions  i e    nc  is an upper bound for each right hand
side  the upper bound of the running time for each of the steps in the construction is
therefore   n  c    hence  the size of t   and the running time of the construction are both
in o n   c    
notice that every new concept name occurs on the left hand side of a unique concept
definition a  c in t     thus  every model i of t can be expanded to a model j of t   by
interpreting the fresh concept names in sig t       sig t   by setting aj   c i  
moreover  it is readily checked that t      t  
we prove an extended version of theorem   according to which not only el concepts
and concepts of the form ran r  are evaluated correctly in the canonical model ik   but
also c u u  concepts  which are introduced in definition     
theorem   extended version  let k    t   a  be an elhr  kb  then
   ik is a model of k 
   ik can be computed in polynomial time in the size of k 
   for all xc d  ik and all a  obj a   if c  is a c u u  concept or of the form ran r  
then
 k    c   a  if  and only if  aik  c ik  
 t    c u d v c  if  and only if  xc d  c ik  
proof  point   follows from the fact that instance checking in elhr can be done in polynomial time 
we first prove point   for el concepts c   sub t    the proof is by simultaneous
induction on the construction of c    the interesting step is for c    r d   
we start with the proof of the direction from left to right  assume first that k    c   a  
then  a  xran r  d     rik   we have t     ran r  u d    v d    thus  by the induction
hypothesis  xran r  d   d ik   but then a  c ik   as required  now assume t    c ud v c   
then  xc d   xran r  d     rik   we have t     ran r  u d    v d    by the induction
hypothesis  xran r  d   d ik   but then xc d  c ik   as required 
conversely  assume that aik  c ik   there exists d  ik such that  aik   d   rik
and d  d ik   assume first that d   b  obj a   by the induction hypothesis  k    d   b  
there exists s such that s a  b   a and s vt r  thus  k    c   a   as required  assume
now that d   xran s  f   then k    s f  a   s vt r and xran s  f  d ik   by the induction
hypothesis  t    ran s  u f v d    thus  k    c   a   as required 
now assume xc d  c ik   there exists xran s  f with t    c u d v s f   s vt r and
xran s  f  d ik   by the induction hypothesis  t    ran s  u f v d    thus t    c u d v
r d    as required 
we now prove point   for concepts of the form c    ran r   assume k     ran r   a  
then there exist b and s with s b  a   a and s vt r  but then a  ran r ik   conversely 
   

fikonev  ludwig  walther    wolter

assume that a  ran r ik   then  by definition of ik   there exist b and s with s b  a   a
and s vt r  hence k     ran r   a   as required 
assume t    c u d v ran r   then we have  for c   ran s   s vt r  then xc d 
ran r ik since there is a path in wk with tail xc d   the converse direction is similar 
it follows from what has been proved so far that ik is a model of  t   a   thus we have
proved point    and it remains to prove point   
we prove point   for arbitrary c u u  concepts c    the interesting step is for c    s d   
where s   r  u    u rn  
assume first that k    c   a   then a  c ik since ik is a model of k  similarly  if
t    c u d v c    then xc d  c ik since xc d   c u d ik and ik is a model of t  
conversely  assume that a  c ik   there exists d  ik such that  aik   d   s ik and
d  d ik   assume first that d   b  obj a   by the induction hypothesis  k    d   b   for
every ri      i  n  there exists si with si  a  b   a and si vt ri   thus  k    c   a   as
required 
assume now that d   xran s  f   then k    s f  a   s vt ri for    i  n and
xran s  f  d ik   by the induction hypothesis  t    ran s  u f v d    thus  k    c   a   as
required 
now assume xc d  c ik   there exists xran s  f with t    c u d v s f   s vt ri  
   i  n  and xran s  f  d ik   by the induction hypothesis  t    ran s  u f v d    thus
t    c u d v s d    as required 

appendix b  proofs for section  
in some proofs  we require models for infinite sets of concepts  we introduce some notation
and a well known result about the existence of minimal models  let  be a  possibly
infinite  set of c ran  concepts  which are introduced in definition      t an elhr  tbox  and
d either a c u u  concept  which are introduced in definition     or a c ran  concept  we write
t      d and say that  is included in d w r t  t if  for every model i of t and d  i  
d  di follows from d  c i for all c    the following observation follows from the fact
that all c u u and c ran  concepts are equivalent to horn formulas  in the sense of chang and
keisler        
lemma     for all elhr  tboxes t and sets  of c ran  concepts there exists a model i of
t and d  i such that the following are equivalent  for all c u u  c ran  concepts d 
 t      d 
 d  di  
we now come to the proof of lemma     for the convenience of the reader we formulate
the result again 
lemma     for every elhr  tbox t   abox a  and all c ran  concepts c  and d    and
a   obj a  
n ran
  t   a     d   a    if  and only if  there exists n    such that t    ca a
v d   
 

   

fithe logical difference for the lightweight description logic el

 t    c  v d  if  and only if   t   ac       d   ac    
n ran
 a   
proof  we prove point    for the direction from right to left observe that a    ca a
 
n ran
for all n     thus  t    ca a  v d  implies  t   a     d   a    
ran    d   then  using compactness 
now assume  t   a     d   a     we show that t ca a
 
 
n ran
we find an n    such that t    ca a  v d    as required 
ran     d   take  for every a  obj a   a model i of t with a point
assume t  ca a
 
a
 
i
ran    c  such
da   a such that for all c ran  concepts c  da  c ia if  and only if  t  ca a
models exist by lemma     we may assume that they are mutually disjoint  take the
following union i of the models ia  
s
 i   aobj a  ia  
s
 ai   aobj a  aia   for a  nc  
s
 ri   aobj a  ria    da   db     r   a  b   a  r  vt r   for r  nr  

 ai   da   for a  obj a  
claim    for all c ran  concepts c and all a  obj a  the following holds for all d  ia  
d  c ia iff d  c i  
the proof is by induction on the construction of c  the interesting cases are c   ran r 
and c   r d and the direction from right to left 
let d s
 c i and assume first that c   ran r   let d  c i  ia and  d    d   ri   for
 d    d   aobj a  ria   the claim follows from the definition  otherwise  d   da   d    db
n ran
for every n     hence 
for some b with r   b  a   a and r  vt r  thus  ran r     ca a
ran
i
a
t  ca a    ran r  and we obtain d  c  
assume now
r d and d  c i  ia   take d  with  d  d     ri and d   di  
s that c  
 
i
 
for  d  d    a  obj a  r a   d  c ia follows immediately from the induction hypothesis 
otherwise  d   da and d    db for some b with r   a  b   a and r  vt r  by the induction
ran    d  by compactness  there exists a concept e  c ran
hypothesis  d   dib   hence  t ca b
a b
n ran
for every n      but
such that t    e v d  from r   a  b   a  we obtain r   e  ca a
ran    r    d and we obtain d  c ia using r   v r  this finishes the proof of
then  t  ca a
a
t
the claim 
now  for c v d  t   let d  i with d  c i   i e  d  ia for some a  obj a   by
claim   we have d  c ia   which implies that d  dia as c ia  dia   we can conclude
that d  di by applying claim   again  similarly  one can show that c i   di for every
c  d  t and ri  si for every r v s  t   it follows that i is a model of t   by
construction of i  we have  ai   bi    ri for every r a  b   a  moreover  for a a   a with
ran    a  which implies that d  aia and ai  ai by our
a  obj a   it holds that t  ca a
a
ran     d  
claim  we can thus infer that i is a model of  t   a  and i     d   a    as t  ca a
 
 
ia

which implies that da    d    and ai    d i   by claim    hence   t   a      d   a    and we
have derived a contradiction 
the proof of point   is a simple application of the definition 
   

fikonev  ludwig  walther    wolter

now we prove cut elimination  correctness  and completeness of the calculus for elhr
given in figures   and    we start with some basic observations  which can be easily proved
by induction on the length of derivations 
lemma     for any elhr  terminology t   c ran  concepts c  d and any role names r  s
we have
   if t     v d  then t   c v d 
   if t   c v a and a v ca  t or a  ca  t   then t   c v ca  
   if t   c v r d then t   c v r  d u ran r   
   if t   c v r d  and r   v b  t   then t   c v b 
   if t   c v ran r  and ran r  v a  t   then t   c v a 
   if t   c v r d  and r v s  t   then t   c v s d 
   if t   c v ran r  and r v s  t   then t   c v ran s  
lemma     cut elimination   for any elhr  terminology t   c ran  concepts c  d  and e 
if t   c v d and t   d v e then t   c v e 
proof  let d  be the derivation of c v d and d  be the derivation of d v e  let li be
the length of di   i         the proof of the lemma is by induction on the lexicographical
ordering on pairs  l    l    
the case when l      or l       as well as the cases when l  ends with one of
andl   andl   andr  ex  defl  defr or pdefl are virtually the same as in the
proof of hofmann         assume d  ends with dom  and so its last sequent is of the form
r d  v e  and the sequent above it is b v e  by lemma     item    t   c v r d 
implies t   c v b  so by the induction hypothesis  t   c v e 
the cases when d  ends with exran  ran  sub  or ransub can be dealt with in the
similar way using lemma     items       
theorem     let t be an elhr  terminology  c  and d  be c ran  concepts  then t   
c  v d  if  and only if  t   c  v d   
proof  it can be easily checked that the proof system rules are sound and so if t   c  v d   
then t    c  v d   
conversely  assume that t    c  v d    to prove t   c  v d  we construct an
interpretation i based on the derivability of sequents from t   we show that i is a model
of t   as a consequence we obtain c i  d i and conclude that t   c  v d  based on the
properties of i 
the domain i is the set of all well formed pairs x   hc  rc i  where c is a c ran  concept
and rc is a finite set of role names such that
l
s  nr   if t    c u
ran r   v ran s   then s  rc  
rrc

   

fithe logical difference for the lightweight description logic el

we introduce the following abbreviation  let
l
ran rc    
ran r  
rrc

c ran  concepts c are interpreted as
i c     hd  rd i  i   t    d u ran rd    v c  
and r  nr are interpreted as
i r      hc  rc i   hd  rd i   i  i   r  rd
and t    c u ran rc    v r  d u ran rd     
note that i c  is nonempty for every c  consider r c    s  nr   t   c v ran s    as
 
t is finite  r c is finite 
d notice that  by ax and andr  t   c v c u ran rc   so  by
lemma     if t    c u rr  ran r   v ran s   for some s  then t   c v ran s   so s  r c  
c


ff


ff
that is  c  r c is a well formed pair and  obviously  c  r c  i c  
we now show that i c    c i for all c ran  concepts c  the proof is by induction on the
construction of c 
   i      i  
for any well formed pair hc  rc i  t   c u ran rc   v   is an axiom 
   i c u d    i c   i d  
let hc  rc i  i d  u d     that is t    c u ran rc    v  d  u d     since t    d  u d    v
d    by lemma     we have t    c u ran rc    v d    that is  hc  rc i  i d     similarly 
hc  rc i  i d    
conversely  suppose hc  rc i  i d    and hc  rc i  i d    holds  that is  t    c u
ran rc    v d  and t    c uran rc    v d    by andr  t    c uran rc    v  d  ud    
that is  hc  rc i  i d  u d    
   i r c     x  i   y  i c     x  y   i r   
suppose for some well formed pair hd  rd i we have hd  rd i  i r c   that is t  
 d u ran rd    v r c  then  by lemma     item    t    d u ran rd    v r  c u ran r   
consider rrc    s  nr   t    c u ran r   v ran s    clearly  r  rrc and  similarly
to the argument for r c above  hc  rrc i is a well formed pair  by ax and andr  t  
curan r  v curan rrc    by ex  t   r  curan r   v r  curan rrc    and by lemma    
t    d u ran rd    v r  c u ran rrc     then  by definition   hd  rd i   hc  rrc i   i r 
and  since t    c u ran rrc    v c  we have hc  rrc i  i c  
conversely  let  hd    rd  i   hd    rd  i   i r  and hd    rd  i  i c   that is  t    d  u
ran rd     v r  d  uran rd      r  rd    and t    d  uran rd     v c  by ex we have
t   r  d  u ran rd     v r c  and  by lemma     we have t    d  u ran rd     v r c 
that is  hd    rd  i  i r c  
   i ran r      y  i   x    x  y   i r   
first we show that i ran r      hc  rc i  i   r  rc    if r  rc   we have t  
c u ran rc   v ran r   that is  i ran r     hc  rc i  i   r  rc    suppose hc  rc i 
i ran r    that is  t    c u ran rc    v ran r   then  since hc  rc i is a well formed pair 
r  rc   that is  i ran r     hc  rc i  i   r  rc   
   

fikonev  ludwig  walther    wolter

suppose now that hc  rc i  i ran r    that is  hc  rc i is such that r  rc   let d
denote  c u ran rc     by induction on the length of derivations one can see that a sequent
of the form r d v ran s  is not derivable for any s  nr   therefore  hr d  i is a wellformed pair and  hr d  i   hc  rc i   i r   conversely  let  hd    rd  i   hd    rd  i   i r 
then  in particular  r  rd    that is  hd    rd  i  i ran r   
now we show that i is a model of t   we need to show that all axioms of t are true in
i 
   i x   i cx    whenever x  cx  t or x v cx  t  
let hc  rc i  i x   that is  t    c u ran rc    v x  by lemma     item    t  
 c u ran rc    v cx   that is  hc  rc i  i cx   
   i cx    i x   whenever x  cx  t  
let hc  rc i  i cx    that is  t    c u ran rc    v cx   since by ax and defr
t   cx v x  by lemma     t    c u ran rc    v x  that is hc  rc i  i x  
    x  y   i r   y  i a   whenever ran r  v a  t  
let  hc  rc i   hd  rd i   i r   that is  t    c u ran rc    v r  d u ran rd    and
r  rd   since r  rd and  as  by ax and ran  t   ran r  v a  by andl   andl  we
have t    d u ran rd    v a  that is  hd  rd i  i a  
    x  y   i r   x  i b   whenever r   v b  t  
let  hc  rc i   hd  rd i   i r   that is  t    c u ran rc    v r  d u ran rd    and
r  rd   notice that  by lemma     item    we have t    c u ran rc    v b  that is 
hc  rc i  i b  
   i s   i r   whenever s v r  t  
let  hc  rc i   hd  rd i  i r    that is t    c uran rc    v r  duran rd    and r  rd  
by lemma     item    t    c u ran rc    v s  d u ran rd     since r v s  t   by
ax and ransub  t   ran r  v ran s  and t    d u ran rd    v ran s  by andl  and
andl   since hd  rd i is well formed  s  rd   thus   hc  rc i   hd  rd i   i s 


ff
as t    c  v d    we have i c     i d     since c    r c   i c     we have


ff
c    r c   i d     that is t    c  u ran r c     v d    as t   c  v c  u ran r c    
we have t   c  v d  by lemma    
proof of lemma     let t be a normalised elhr  terminology and  a signature  additionally  let a be a  abox  a  sig t     non conjunctive in t and a  obj a  
for the direction             it is a direct consequence of the construction of at  
that for all b  obj a  and b  sig t     non conjunctive in t if  t   a      b b  then
b  obj at     
assume that  t   a      a a   then a  obj at      we now define a  range simulation s by setting 
 for b  obj a  and for b  sig t     non conjunctive in t with b  obj at      
 b  b    s if  and only if   t   a      b b  
  b      s for all b  obj a  
we show that s is indeed a  range simulation with  a  a    s by verifying that the
conditions  s   s   and  rs  introduced on page     hold 
   

fithe logical difference for the lightweight description logic el

 s  

as  t   a      a a  and a  obj at      it immediately follows that  a  a    s 

 s   let now  b     s and b b   a with b    we have to prove that b    at    
for    b with b  sig t     non conjunctive in t   we obtain from the definition of s
that  t   a      b b   moreover  it holds that b   prec
t  b  as otherwise  t   a     b b  
thus  by the definition of at    b  we have b b    at     for       it immediately
follows that b     at   by the definition of at    
 s   now  let  b     s and r b  b     a with r    we have to prove that there exists
    obj at     with  b          s and r         at     for       it immediately follows from
the definition of at   that r        at   and  b        s holds by the definition of s 
for    b with b  sig t     non conjunctive in t it follows from the definition
of s that  t   a      b b   additionally  we can infer that r   predom
t  b  as otherwise
 t   a      r    b  would imply that  t   a     b b  
consider cases how b is defined in t   if b is pseudo primitive in t   we obtain from the
definition of at    b  that r b       at   and it holds that  b        s by the definition
of s 
for b  r   b    t   we have to distinguish between the following two cases  if r  
  

 
prerole
t  r    we obtain r      prerolet  r    predomt  b   and thus r b       at   by
the definition of at   and it holds again that  b        s by the definition of s  in the case
  

 
where r  prerole
t  r    we have r  prerolet  r     predomt  b   furthermore  as  t   a     
 
 
b b  and so  t   a       r  b   b   it is easy to see that there must exist bi    non conjt  b    
  
    
with r   preran
t  bi   and  t   a      bi  b    then we have r b   bi      at   by the
 
definition of at    b  and  b   bi      s by the definition of s 
 rs  let now  b     s such that r c  b   a for r    we have to show that there exists
   with r         at     for    b with b  sig t     non conjunctive in t   we obtain
again from the definition of s that  t   a      b b   furthermore  we have r   preran
t  b 
as otherwise  t   a     b b   thus  by the definition of at    b  we have r    b    at    
for       it follows by the definition of at   that r        at    
for the converse direction             we assume that a  obj at     and  a  a  ran

 at     a    it is then sufficient to show for all n that
n ran
t     ca
va
t    a

as this implies that  t   at         a a   by lemma     we then obtain from lemma    that
 t   a      a a  holds 
thus  we now prove by induction on n that for every concept name b  sig t    
n ran
non conjunctive in t with b  obj at      we have t     ca
v b 
t    b
let n     and b  sig t     non conjunctive in t with b  obj at      it then follows
that
l
l
l
  ran
 
ca
 
b
u
ran s 
u
ran s 
t    b
b    prec
t  b 

s preran
t  b 

   

ar bt
bnon conjt  b 


sprerole
t  r   predomt  a prerant  b  

fikonev  ludwig  walther    wolter

  ran
hence  one can see that for every subconcept of the form ran s  that occurs in ca
 
t    b

we obtain that s   preran
t  b   as b it non conjunctive in t   it holds that either b is
pseudo primitive in t or that b  r   b    t   hence  by lemma    we can conclude that
  ran
t     ca
v b 
t    b
for n      let again b  sig t     non conjunctive in t with b  obj at      we then
distinguish between the following two cases  if b is pseudo primitive in t   we obtain
n ran
ca
 
t    b

l

l

b  u

s preran
t  b 

b    prec
t  b 

l

ran s  u

ran s 

ar bt
bnon conjt  b 


sprerole
t  r   predomt  a prerant  b  

u

l

s cs

s predom
t  b 
n ran
v b 
for c ran  concepts cs   it follows again from lemma    that t     ca
t    b
 
 
for b  r  b   we obtain
n ran
 
ca
t    b

l
b    prec
t  b 

u

l

b  u

s preran
t  b 

l

ran s 

ar bt
bnon conjt  b 


sprerole
t  r   predomt  a prerant  b  

l

s cs u


 
s  prerole
t  r  predomt  b  

l

ran s  u

n  ran
s ca
t       

b    non conjt  b    
     predom  b preran  b      
sprerole
 r
t
t
t

b

for c ran  concepts cs   it is easy to see that the conditions  e     e   and  e   of lemma   
n ran
v b to hold  condition  e   would have to be fulfilled 
do not hold  thus  for t    ca
t    b
n ran
n  ran
with b     non conjt  b    
of ca
we observe that for every subconcept s ca
t    b
t       
b

n  ran


  
  
 
and s  prerole
t  r      predomt  b   prerant  b     we obtain t     cat        v b from
b

n  ran
u ran s  v b   by lemma   
the induction hypothesis  thus  we have t     ca
t    b   
for every such b    and s  we can infer that condition  e   does not hold and  therefore 
n ran
v b 
t     ca
t    b

appendix c  proofs for section  
proof of lemma     let t be a normalised elhr  terminology and  a signature such
that   nr      additionally  let a  nc be a concept name that is non conjunctive
in t   let r   be a role name  and let c be an el  concept  finally  let d   c or
d   ran r  u c 
first observe that we obtain from lemma    that t     d v a holds if  and only if 
 t   ad       a ad    additionally  by lemma     we have  t   ad       a ad   if  and only if 
a  obj at     and  ad   ad   ran
  at     a    thus  it is sufficient to show the following
equivalence 

ran

 ad   ad   ran
  at     a     r      a  r  obj at     and  ad   ad     at      a  r  

   

fithe logical difference for the lightweight description logic el

next note that the abox ad is role splitting as c is an el concept and if d   ran r  u c 
then   s b  ad    ad   b  obj ad    s  sig ad        r aran   ad    
assume first a  obj at       ad   ad   ran
  at     a   and let s  obj ad  obj at    
be the corresponding  range simulation  we define a relation s   obj ad    obj at    
by setting for every a  obj ad    every   obj at     and every role name r   such that
r  obj at     
 a  r    s 

  a     s and if s c  a   ad for some s  sig ad   and c  obj ad   
then s   r

note that s  is well defined as ad is role splitting 
to show that s  is a  range simulation such that there exists r  sig a t   with  a  r 
obj at     and  ad    a  r    s    we prove that the conditions  s   s   and condition  rs 
from page     hold 
 s   if there exists s c  ad    ad for some s  sig ad     and c  obj ad    then there
exists     obj at     with s      a    at   as  ad   a    s and s is a  range simulation 
i e  s      s    a  s    at   and  a  s  obj at      hence   ad    a  s    s   
otherwise  it is easy to see that there exists r   with  a  r  obj at     as a 
obj at     and sig at        thus  as  ad   a    s  we have  ad    a  r    s   
 s   let  a  r    s  and a a   ad for a  obj ad      obj at      a   and
r  sig at      it follows from the definition of s  that  a     s  hence  as s is a  range
simulation  we have a    at     which implies that a r    at   by the definition of
at    
 s   let  a  r    s  and s a  a     ad for a  a   obj ad      obj at      r  sig at    
and s    from the definition of s  we obtain  a     s  additionally  as s is a  range
simulation  there exists     obj at     such that  a          s and s         at     thus  we
have s r   s     at   by the definition of at   and  a    s     s  by the definition of s  as
ad is role splitting 
 rs  let  a  r    s  and s c  a   ad for a  c  obj ad      obj at      r  sig at    
and s    by the definition of s     a     s holds and r   s  as s is a  range simulation 
there exists     obj at     with s          r         at     hence  r r    r    at   holds by
the definition of at    
for the converse direction  we assume that there exists r   such that  a  r  obj at    



and  ad   ad   ran
  at      a  r   holds  let s  obj ad    obj at     be the corresponding
 range simulation  we define a relation s  obj ad    obj at     by setting for every
a  obj ad   and every   obj at     
 a     s



 r  sig at        a  r    s   

it is straightforward to verify that a  obj at     and that s is a  range simulation with
 ad   a    s 
   

fikonev  ludwig  walther    wolter

appendix d  proofs for section  
proof of lemma     we require some preliminary observations  let ac be the abox
associated with a c ran  concept c  lemma      then  for any elhr  terminology t   c ran concept c and c u u concept d  we have t    c v d if  and only if k    d ac    where
k    t   ac    by theorem    extended version  
 t    c v d if  and only if  ik    d ac    where ik is the canonical model for k 
note that t    c v u d if  and only if  dik     and that for any d  d   ik and
r   t  u    u tn   we have  d  d     rik if  and only if  there exists a role name s such that
 d  d     sik and s vt ti   for i              n  we summarise the consequences we require in
the proof below 
 i  if d is a c u  concept with occurrences si   ri   u       u ri mi of intersections of roles 
   i  k  then t    c v d if  and only if  there exist role names si      i  k  such
that si vt ri j for    i  k     j  mi and t    c v d    where d  is obtained from
d by replacing si with si  
 ii  if d is a c u  concept  then t    c v u d if  and only if  there exists a sequence
r             rn  such that ik     r        rn   d  aran   or ik     r        rn   d  ac    in
the first case  there exists a subconcept  ran r  u c     of c  up to commutativity
and associativity of u  such that t    r c   v r        rn   d  in the second case
t    c v r        rn   d 
d
d
d
now assume that c    il ran si  u  jn aj u  km rk  ck and t    c v r   d 
let r            rk be all the occurrences of role intersections in r   d  where ri   ri   u       u
ri mi   for    i  k  by  i   we find role names si      i  k  such that si vt ri j for
   i  k     j  mi and t    c v d    where d  is obtained from d by replacing ri with
si   by applying lemma    to t    c v s   d  and by using that t  vt r  j   for    j  m 
and t    d  v d  we obtain that one of the conditions  e u     e u     e u    or  e u   must
hold 
for the second part of the lemma  we first prove by induction on n    for every c ran concept c and for every c u  concept d with t    c v r       rn  d that at least one of
the following conditions holds
 e n   there exists a subconcept r c   of c such that t    c   u ran r v d 
 e n   there exists a concept name a in c such that t    a v u d 
 e n   there exists a role name r in c such that t    r   v u d 
 e n   there exists a role name r in c such that t    ran r  v u d 
for n      let c be a c ran concept and d be a c u  concept with t    c v r   d  we
then obtain that at least one of the conditions  e u     e u     e u    or  e u   must hold from
the first part of the lemma  and hence  one of  e n     e n     e n    or  e n   is satisfied  for
n      let c now be a c ran concept and d be a c u  concept such that t    c v r       rn  d 
we can apply the first part of the lemma again  and if conditions  e u     e u    or  e u   are
fulfilled  then we can conclude that conditions  e n     e n    or  e n   are also satisfied  in the
   

fithe logical difference for the lightweight description logic el

case where  e u   holds  there exists a subconcept r c   of c such that t    c   u ran r  v
r       rn  d  from the induction hypothesis we obtain that at least one of the conditions
 e n     e n     e n    or  e n   is fulfilled for t    c   u ran r  v r       rn  d  and thus also
for t    c v r       rn  d as r  sig c  and as every subconcept of c   is also a subconcept
of c 
now  if t    c v u d for a c ran  concept c and a c u  concept d  then by  ii  we have
to distinguish between the following two cases 
 there exists a subconcept ran r  u c   of c and a sequence r             rn    such that t   
r c   v r        rn     d  for n       we have t    r c   v d and condition  e u  
holds  for n     we obtain that at least one of the conditions  e n     e n     e n    or
 e n   is satisfied  if  e n   holds  then there exists a subconcept r   c    of r c   such
that t    c    u ran r    v d  if r c     r   c      we have t    c   u ran r  v d  if
 c   u ran r   occurs at the top level of the concept c  then t    c v d holds  and
thus  condition  e u    otherwise  there exists a subconcept s   c   u ran r   u e  in
c and  e u   is satisfied as t    c   u ran r  u e u ran s  v d  if r c      r   c      r   c   
is a subconcept of c    thus  of c  and so condition  e u   holds  finally  if one of the
conditions  e n     e n    or  e n   is satisfied  then one of  e u     e u    or  e u   holds
by  ii  
 there exists a sequence r             rn    with t    c v r        rn     d  for n      condition
 e u   holds  if n      then at least one of the conditions  e n     e n     e n    or  e n  
holds  then  by  ii   we can conclude that one of the conditions  e u     e u     e u   
or  e u   is satisfied as well 

we give the translation of c u u  assertions to conjunctive queries  it is similar to the
construction of an abox from a c ran  concept given in section      first  given a c u  concept
c  we define a path in c as a finite sequence c   r   c        rn  cn   where c    c  n    
and ri    ci   is a conjunct of ci   for    i   n  ri are conjunctions of role names   let
xp for p  paths c  be pairwise distinct variable names and set
xc     s xp   xq     p  q  paths c   q   p  r  c     s conjunct of r  
   a xp     a is a conjunct of tail p   p  paths c   
let  x be the sequence
v of all variables in xc except xc   then the conjunctive query qc a is
obtained from  x  xc  by replacing xc with
va  finally 
v for d   d  uu d  u  uu dk
we obtain the conjunctive query qd a from  x    ik xd     we assume that distinct
i
variables are used in every xdi      i  k  and that  x is a sequence of all variables except
xd    by replacing xd  with a 
to prove lemma    we require some preparation  query answering is closely related to
the existence of certain homomorphisms between interpretations  let  be a signature  o
a set of individual names  and i    i  interpretations  a function f   i   i  is called a
 o    homomorphism if
 f  ai      f  ai    for all a  o 
   

fikonev  ludwig  walther    wolter

 d  ai  implies f  d   ai  for all a   
  d    d     ri  implies  f  d     f  d      ri  for all r   
it is known  chandra   merlin        that if there exists a  o    homomorphism from i 
to i  and i     q  a  for a conjunctive  query q using only individual names from o and
 a   a            ak from o  then i     q  a  
for the proof below we slightly refine the notion of an  o    homomorphism by considering partial  o    homomorphisms with domains that satisfy certain conditions  namely 
for every n     we will call a partial  o    homomorphism a level n homomorphism if its
domain contains all elements reachable by a  role chain of length at most n from either
a named individual or from an element without a  predecessor  we then prove that if
for every elran u u  inclusion c v d with depth c   depth d   n  t     c v d implies
t     c v d  then there exists a such a partial level n homomorphism from a certain model
of  t    a  to a certain model of  t    a  
we consider such partial homomorphisms on certain interpretations only  which we
introduce first  let o be a finite set of individual names and i an interpretation  d  i
is called o named if there exists a  o with d   ai   a model i is called an o forest if
 f   for everysd  i which is not o named  there exists at most one d   i such that
 d    d   rnr ri  
s
 f   there are no infinite sequences d    d          with  di     di    rnr ri for all i    such
that no di is o named 
s
 f   if  d  d     rnr ri and d  is o named  then d is o named 
let o be a finite set of individual names  n     and  a signature  a partial function f
from an o forest i to a model i   is called an  o  n    homomorphism if
 

 h   for all a  o  ai is in the domain of f and f  ai     ai  
 

 h   for all d  d  in the domain of f and r     d  d     ri implies  f  d   f  d      ri  
 

 h   for all d in the domain of f and a    d  ai implies f  d   ai  
 h   for all d if there does not exist a chain d            dm   d with  di   di     
length m   n of not o named di   then d is in the domain of f  

s

r r

i

of

now one can prove the following
lemma     suppose i is an o forest  i   an interpretation and for every m     there
exists a  o  m    homomorphism from i to i     assume as well that i    q  a  with q a
conjunctive  query using only individual names from o and  a   a            ak from o  then
i      q  a  
proof  assume that  a is a  match of i and q  x     y  q     x   y   such that  a consists of
elements of o  by  f   and  f   in the definition of o forests and  h   and  h   in the
definition of partial homomorphisms  there exists m     such that all  v   v from  x   y  
are in the domain of any  o  m    homomorphism f   take a  o  m    homomorphism f  
then  a is a     match of q  x  and i     where     v    f   v    for all v   x   y  
   

fithe logical difference for the lightweight description logic el

finally  we also need a technique for constructing  o  m    homomorphisms  let i be
an interpretation  for each d  i and m      let
u
tim  u  d     c  c
  depth c   m  d  c i   

where  as above  depth c  is the role depth of c  i e   the number of nestings of existential
restrictions in c 
lemma     let  be a finite signature and let m     suppose i is an o forest and i   an
interpretation such that
 

 

 

 in    ai   bi    ri implies  ai   bi    ri   for all a  b  o and r   
 

 in   tim  u  ai    tim  u
 ai    for all a  o 
 
 

 d    
 d   tm  u
 in   for all d  i there exists d   i such that tm  u
i
i 
then there exists a  o  m    homomorphism g from i to i    
proof  we construct g by constructing a sequence of functions f            fm   where fi   i  i    
as follows  the domain dom f    of f  consists
of all ai with a  o and all d  i such that
s
 
 
 
there does not exist a d with  d   d   r ri   for ai with a  o we set f   ai     ai  
for every remaining d  dom f    choose a d  according to  in   and set f   d    d    observe
that tm  u
 d   tim  u
 f   d   for all d  dom f    
 
i
now suppose that fn has been constructed and
 fn  d   for all d  dom fn   
 d   tmn  u
 in   tmn  u
i
i 
 in   for n      d  dom fn   if  and only if  d is not o named and there exists a sequence
d  r i d  r i    rni dn   d of which at most d  is o named such that ri   and d  
dom f    
s
to construct fn   consider a d  dom fn   and a not o named d  such that  d  d     r ri  
 
 
i
u
 
the
d domain of fn   consists of all such d   let rd d    r      d  d    r   and rd d   
  rr   r   then
d d
l
u
rd d
d  tmn  u
 d 
  
i
mn   u  
 d  
dti

by  in   
u
rd d
  

l

d  timn  u
 fn  d  
 

mn   u  
dti
 d  
 

thus  we can choose an e with  fn  d   e   ri for all r  rd d  and timn   u  d    
tmn   u
 e  and set fn    d      e  this defines fn     observe further that fn   is welli 
defined by  f    observe that fn   has the properties  in   and  in    by  f   
s
now we set g    nm fm   it is readily checked that g is as required 
   

fikonev  ludwig  walther    wolter

we are now in the position to prove lemma    
lemma    if   qdiff   t    t     then there exists    cdiff ran u u
 t    t    with sig     

sig   
proof  assume t  and t  are given and let  a  q  a    qdiff   t    t     let     sig a  
sig q   assume that  in contrast to what is to be shown 
t     

  



t     

for all elran u u  inclusions  with sig       
consider a model i   of  t    a  with i       q  a   by lemma     we obtain a contradiction
if there exists an obj a  forest i which is a model of  t    a  and such that for every n    
there exists an  obj a   n      homomorphism fn from i to i    
 
take  for every a  obj a  a model ia  of t  with da  ia such that for all c ran  c u u concepts c 
 
da  c ia  t   ti    a     c
where

 

 

i
ran
 c i   
ti    a     c  c
    a

such interpretations ia  exist by lemma     we now define the unfolding
ia of ia    a path
d
in ia  is a finite sequence d  r  d        rn dn   n     such that ri     ri   for a set ri  
 
of role names with r  ri   iff  di   di      ria   for all i   n  for a path p  tail p  denotes
the last element of p  now let ia consist of all paths in ia  and set
 

 aia    p  ia   tail p   aia   
 ria     d  drd     ia  ia   r  r  
then ia is an o forest for o     moreover  for all c u u  concepts c and all p  ia  
  

p  c ia



 

tail p   c ia  

in particular  ia is still a model of t   
take the following  disjoint  union i of the interpretations ia  
s
 i   aobj a  ia  
s
 ai   aobj a  aia   for a  nc  
s
 ri   aobj a  ria    da   db     r   a  b   a  r  vt  r   for r  nr  
 ai   da   for a  obj a  
we show that i is an obj a  forest  a model of  t    a  and that there exist  obj a   n   homomorphisms from i to i   for all n      first observe the following 
claim    for all el concepts c and d  ia  
d  c i  d  c ia
   

fithe logical difference for the lightweight description logic el

the proof is by induction on the construction of c  the interesting case is c   r d and
the direction from left to right 
assume that d  c i  ia   take d  with  d  d     ri
s
and d   di   for  d  d     a  obj a  ria    d  c ia follows immediately from the induction
hypothesis  otherwise  d   da   d    db for some b with r   a  b   a and r  vt  r  by the
induction hypothesis  d   dib   hence  by     t   ti    b     d  by compactness  there
exists a concept e  ti    b  such that t     e v d  we obtain r   e  ti    a   but then
t     r   e v r   d and we obtain da  c ia using r  vt  r and    
claim    i is an obj a  forest and a model of  t    a  
that i is an obj a  forest and a model of a follows from the construction  it remains to
show that i is a model of t    for role inclusions r v s  t  it follows from the construction
that ri  si   suppose c  v c   t    if c  is an el concept  then i    c  v c  follows
from claim   and the condition that the ia are models of t    now assume that c    ran r 
and let d  ran r i   if d    da for any a  then d  c i since the ia are models of t    if d   da  
there exists r   b  a   a with r  vt  r  we have ran r     ti    a   and so t   ti    a     c   
hence  by     da  c ia   i e  da  c i by claim   
claim    for every n     there exists an  obj a   n      homomorphism from i to i    
by lemma     it is sufficient to show conditions  in     in    and  in    condition  in  
follows directly from     condition  in   is proved by induction on the construction of c 
the interesting step is for c   s d with s   r  u    u rm   let a  obj a  and c 
 
tin   u  ai    take d  with  ai   d     s i and d   di   if d   ia   then  by     t   ti    a    
   u
 
 ai    now assume
s d  by    and compactness  t   ti    a     s d  hence c  tin 
 
d    ia   then there are r             rk  and b with d    bi such that ri   a  b   a for    i  k
 
and for every    i  m there exists an    j  m with rj  vt  ri   we have d  tin   u  bi   
 

 

 u i
 b    by     for every    j  m there exists an
by the induction hypothesis d  tn 
i 
   u
 
 
   j  k with rj vt  ri   but then c  tin 
 ai    as required 
 
d
for  in    let d  i and c   dtn    u  d  d  if d    ai for any a  obj a   then
i

by    there exists b  obj a  such that t   ti    b     u c  by compactness and    
   u
   u
 
 d   tn 
 d     as required  if
t   ti    b     u c  hence  there exists d   i with tn 
i
i 
 
d   ai for some a  obj a   then  by  in   shown above  d    ai is as required 
this finishes the proof of lemma    

references
baader  f   brandt  s     lutz  c          pushing the el envelope further  in proceedings
of the  th international workshop on owl  experiences and directions  owled
       vol      of ceur workshop proceedings  ceur ws org 
baader  f   penaloza  r     suntisrivaraporn  b          pinpointing in the description
logic el    in proceedings of the   th annual german conference on artificial intelligence  ki        vol       of lecture notes in computer science  pp       
heidelberg berlin  germany  springer verlag 
   

fikonev  ludwig  walther    wolter

baader  f          terminological cycles in a description logic with existential restrictions 
in proceedings of the   th international joint conference on artificial intelligence
 ijcai        pp          san francisco  ca  usa  morgan kaufmann 
bienvenu  m   lutz  c     wolter  f       a   deciding fo rewritability in el  in proceedings of the   th international workshop on description logics  dl       
bienvenu  m   lutz  c     wolter  f       b   query containment in description logics revisited  in proceedings of the   th international conference on principles of knowledge
representation and reasoning  kr       
brandt  s   kusters  r     turhan  a  y          approximation and difference in description logics  in proceedings of the  th international conference on principles and
knowledge representation and reasoning  kr      pp          san francisco  ca 
usa  morgan kaufmann 
calvanese  d   giacomo  g  d   lembo  d   lenzerini  m     rosati  r          data
complexity of query answering in description logics  in proceedings of the tenth
international conference on principles of knowledge representation and reasoning
 kr        pp         
chandra  a  k     merlin  p  m          optimal implementation of conjunctive queries in
relational data bases  in proceedings of the  th annual acm symposium on theory
of computing  stoc      pp        new york  ny  usa  acm 
chang  c  c     keisler  h  j          model theory  vol     of studies in logic and the
foundations of mathematics  elsevier  amsterdam  the netherlands 
clarke  e     schlingloff  h          model checking  in handbook of automated reasoning 
vol  ii  chap      pp            elsevier  amsterdam  the netherlands 
conradi  r     westfechtel  b          version models for software configuration management  acm computing surveys  csur                  
crafa  s   ranzato  f     tapparo  f          saving space in a time efficient simulation
algorithm  fundamenta informaticae                  
cuenca grau  b   horrocks  i   kazakov  y     sattler  u          modular reuse of ontologies  theory and practice  journal of artificial intelligence research  jair      
       
delaitre  v     kazakov  y          classifying elh ontologies in sql databases  in
proceedings of the  th international workshop on owl  experiences and directions
 owled        vol      of ceur workshop proceedings  ceur ws org 
eiter  t   fink  m     woltran  s          semantical characterizations and complexity of
equivalences in answer set programming  acm transactions on computational logic 
      
ghilardi  s   lutz  c     wolter  f          did i damage my ontology  a case for conservative extensions in description logic  in proceedings of the tenth international
conference on principles of knowledge representation and reasoning  kr       
pp          menlo park  ca  usa  aaai press 
   

fithe logical difference for the lightweight description logic el

golbeck  j   fragaso  g   hartel  f   hendler  j   oberhaler  j     parsia  b          the
national cancer institutes thesaurus and ontology  journal of web semantics        
     
goncalves  r  s   parsia  b     sattler  u          analysing multiple versions of an ontology 
a study of the nci thesaurus  in proceedings of the   th international workshop
on description logics  dl        vol      of ceur workshop proceedings  ceurws org 
goncalves  r  s   parsia  b     sattler  u          concept based semantic difference in
expressive description logics  in proceedings of the   th international workshop on
description logics  dl       
hofmann  m          proof theoretic approach to description logic  in proceedings of the
  th annual ieee symposium on logic in computer science  lics        pp     
     washington  dc  usa  ieee computer society 
horridge  m   parsia  b     sattler  u          justification oriented proofs in owl  in
proceedings of the  th international semantic web conference  iswc        vol 
     of lecture notes in computer science  pp          berlin heidelberg  germany 
springer verlag 
ihtsdo         snomed clinical terms user guide  the international health terminology standards development organisation  ihtsdo   available from
http   www ihtsdo org publications introducing snomed ct  
jimenez ruiz  e   cuenca grau  b   horrocks  i     llavori  r  b          supporting
concurrent ontology development  framework  algorithms and tool  data   knowledge
engineering                 
kalyanpur  a   parsia  b   horridge  m     sirin  e          finding all justifications of
owl dl entailments  in proceedings of the  th international and  nd asian semantic
web conference  iswc   aswc     pp          berlin heidelberg  germany 
springer verlag 
kazakov  y          consequence driven reasoning for horn shiq ontologies  in proceedings
of the   st international conference on artificial intelligence  ijcai        pp      
     
kazakov  y   krotzsch  m     simancik  f          unchain my el reasoner  in proceedings of the   th international workshop on description logics  dl        ceur
workshop proceedings  ceur ws org 
klein  m  c  a   fensel  d   kiryakov  a     ognyanov  d          ontology versioning and
change detection on the web  in knowledge engineering and knowledge management 
ontologies and the semantic web  vol       of lecture notes in computer science 
pp          springer verlag  berlin heidelberg  germany 
konev  b   lutz  c   walther  d     wolter  f          semantic modularity and module
extraction in description logic  in proceedings of the   th european conference on
artificial intelligence  ecai        vol      of frontiers in artificial intelligence and
applications  pp        amsterdam  the netherlands  ios press 
   

fikonev  ludwig  walther    wolter

konev  b   walther  d     wolter  f          the logical difference problem for description
logic terminologies  in proceedings of the  th international joint conference on automated reasoning  ijcar        vol       of lecture notes in computer science 
pp          berlin heidelberg  germany  springer verlag 
konev  b   kontchakov  r   ludwig  m   schneider  t   wolter  f     zakharyaschev  m 
        conjunctive query inseparability of owl   ql tboxes  in proceedings of
the   th conference on artificial intelligence  aaai        menlo park  ca  usa 
aaai press 
konev  b   ludwig  m     wolter  f          logical difference computation with cex    
in proceedings of the  th international joint conference on automated reasoning
 ijcar        lecture notes in computer science  berlin heidelberg  germany 
springer 
konev  b   lutz  c   walther  d     wolter  f          formal properties of modularisation 
in modular ontologies  pp        springer verlag  berlin heidelberg  germany 
kontchakov  r   wolter  f     zakharyaschev  m          logic based ontology comparison
and module extraction  with an application to dl lite  artificial intelligence           
         
kontchakov  r   pulina  l   sattler  u   schneider  t   selmer  p   wolter  f     zakharyaschev  m          minimal module extraction from dl lite ontologies using
qbf solvers  in proceedings of the   st international joint conference on artificial
intelligence  ijcai        pp          san francisco  ca  usa  morgan kaufmann 
kutz  o     mossakowski  t          conservativity in structured ontologies  in proceedings
of the   th european conference on artificial intelligence  ecai        vol     
of frontiers in artificial intelligence and applications  pp        amsterdam  the
netherlands  ios press 
kutz  o     mossakowski  t          a modular consistency proof for dolce  in proceedings of the   th conference on artificial intelligence  aaai        menlo park  ca 
usa  aaai press 
kremen  p   smd  m     kouba  z          owldiff  a practical tool for comparison and
merge of owl ontologies  in proceedings of the   th international workshop on web
semantics  pp          los alamitos  ca  usa  ieee computer society press 
lutz  c   toman  d     wolter  f          conjunctive query answering in the description
logic el using a relational database system  in proceedings of the   st international
joint conference on artificial intelligence  ijcai        pp            menlo park 
ca  usa  aaai press 
lutz  c   walther  d     wolter  f          conservative extensions in expressive description logics  in proceedings of the   th international joint conference on artificial
intelligence  ijcai        pp          menlo park  ca  usa  aaai press 
lutz  c     wolter  f          deciding inseparability and conservative extensions in the
description logic el  journal of symbolic computing                 
lutz  c     wolter  f          foundations for uniform interpolation and forgetting in expressive description logics  in proceedings of the   nd international joint conference
   

fithe logical difference for the lightweight description logic el

on artificial intelligence  ijcai        pp          menlo park  ca  usa  aaai
press 
mendez  j     suntisrivaraporn  b          reintroducing cel as an owl   el reasoner 
in proceedings of the   nd international workshop on description logics  dl       
vol      of ceur workshop proceedings  ceur ws org 
noy  n  f     musen  m  a          promptdiff  a fixed point algorithm for comparing
ontology versions  in proceedings of the   th national conference on artificial intelligence  pp          menlo park  ca  usa  aaai press 
ohst  d   welle  m     kelter  u          differences between versions of uml diagrams 
in proceedings of the  th european software engineering conference held jointly with
  th acm sigsoft international symposium on foundations of software engineering
 esec   sigsoft fse     pp          new york  ny  usa  acm 
oliver  d  e   shahar  y   shortliffe  e  h     musen  m  a          representation of
change in controlled medical terminologies  artificial intelligence in medicine         
     
palma  r   haase  p   corcho  o     gomez perez  a          change representation for
owl   ontologies  in proceedings of the  th international workshop on owl  experiences and directions  owled        vol      of ceur workshop proceedings 
ceur ws org 
pearce  d     valverde  a          uniform equivalence for equilibrium logic and logic programs  in proceedings of the  th international conference on logic programming and
nonmonotonic reasoning  lpnmr        vol       of lecture notes in computer
science  pp          berlin heidelberg  germany  springer 
pearce  d     valverde  a          synonymous theories and knowledge representations in
answer set programming  journal of computer and system sciences                
penaloza  r     sertkaya  b          on the complexity of axiom pinpointing in the el
family of description logics  in proceedings of the   th international conference on
principles of knowledge representation and reasoning  kr        menlo park  ca 
usa  aaai press 
poggi  a   lembo  d   calvanese  d   giacomo  g  d   lenzerini  m     rosati  r         
linking data to ontologies  journal of data semantics             
redmond  t   smith  m   drummond  n     tudorache  t          managing change  an
ontology version control system  in proceedings of the  th international workshop
on owl  experiences and directions  owled        vol      of ceur workshop
proceedings  ceur ws org 
rosati  r          on conjunctive query answering in el  in proceedings of the     
international workshop on description logic  dl        vol      of ceur workshop
proceedings  ceur ws org 
schlobach  s     cornet  r          non standard reasoning services for the debugging of
description logic terminologies  in proceedings of the   th international joint conference on artificial intelligence  ijcai        pp          san francisco  ca  usa 
morgan kaufmann 
   

fikonev  ludwig  walther    wolter

teege  g          making the difference  a subtraction operation for description logics 
in proceedings of the  th international conference on principles of knowledge representation and reasoning  kr     pp          san francisco  ca  usa  morgan
kaufmann 
van glabbeek  r  j     ploeger  b          correcting a space efficient simulation algorithm 
in proceedings of the   th international conference on computer aided verification
 cav        vol       of lecture notes in computer science  pp          heidelberg berlin  germany  springer verlag 
vescovo  c  d   parsia  b   sattler  u     schneider  t          the modular structure of
an ontology  atomic decomposition  in proceedings of the   nd international joint
conference on artificial intelligence  ijcai        pp            menlo park  ca 
usa  aaai press 

   

fi