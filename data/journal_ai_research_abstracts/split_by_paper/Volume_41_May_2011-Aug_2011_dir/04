e  hebrard d  marx b  osullivan and i  razgon 2011 soft constraints of difference and equality volume 41 pages 97130

in many combinatorial problems one may need to model the diversity or similarity of assignments in a solution for example one may wish to maximise or minimise the number of distinct values in a solution to formulate problems of this type we can use soft variants of the well known alldifferent and allequal constraints  we present a taxonomy of six soft global constraints generated by combining the two latter ones and the two standard cost functions which are either maximised or minimised we characterise the complexity of achieving arc and bounds consistency on these constraints resolving those cases for which nphardness was neither proven nor disproven in particular we explore in depth the constraint ensuring that at least k pairs of variables have a common value we show that achieving arc consistency is nphard however achieving bounds consistency can be done in polynomial time through dynamic programming moreover we show that the maximum number of pairs of equal variables can be approximated by a factor 12 with a linear time greedy algorithm finally we provide a fixed parameter tractable algorithm with respect to the number of values appearing in more than two distinct domains interestingly this taxonomy shows that enforcing equality is harder than enforcing difference

